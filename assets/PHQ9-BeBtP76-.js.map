{"version":3,"file":"PHQ9-BeBtP76-.js","sources":["../../src/components/assessments/PHQ9.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Button } from '../../design-system';\r\nimport { usePainTrackerStore } from '../../stores/pain-tracker-store';\r\n\r\nconst QUESTIONS = Array.from({ length: 9 }).map((_, i) => `Over the last 2 weeks, how often have you been bothered by problem #${i + 1}?`);\r\n\r\nexport default function PHQ9({ onClose }: { onClose?: () => void }) {\r\n  const [answers, setAnswers] = useState<number[]>(Array(9).fill(0));\r\n  const addMoodEntry = usePainTrackerStore(s => s.addMoodEntry);\r\n\r\n  function setAnswer(idx: number, val: number) {\r\n    setAnswers(a => {\r\n      const copy = [...a];\r\n      copy[idx] = val;\r\n      return copy;\r\n    });\r\n  }\r\n\r\n  function submit() {\r\n    const score = answers.reduce((a, b) => a + b, 0);\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    addMoodEntry({ mood: 'phq9', notes: `PHQ-9 score: ${score}` } as any);\r\n    onClose?.();\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-4 p-4\">\r\n      <h3 className=\"text-lg font-semibold\">PHQ-9 screening</h3>\r\n      <p className=\"text-sm text-muted-foreground\">This is an optional, private screening to help you and your clinician understand mood trends. Results are stored locally.</p>\r\n      <div className=\"space-y-2\">\r\n        {QUESTIONS.map((q, i) => (\r\n          <div key={i} className=\"flex items-center gap-3\">\r\n            <div className=\"text-sm w-2/3\">{q}</div>\r\n            <select value={answers[i]} onChange={e => setAnswer(i, Number(e.target.value))} className=\"ml-auto\">\r\n              <option value={0}>Not at all</option>\r\n              <option value={1}>Several days</option>\r\n              <option value={2}>More than half the days</option>\r\n              <option value={3}>Nearly every day</option>\r\n            </select>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      <div className=\"flex gap-2 justify-end\">\r\n        <Button variant=\"ghost\" onClick={() => onClose?.()}>Cancel</Button>\r\n        <Button onClick={submit}>Save</Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["QUESTIONS","Array","from","length","map","_","i","PHQ9","onClose","answers","setAnswers","useState","fill","addMoodEntry","usePainTrackerStore","s","jsxDEV","className","children","fileName","lineNumber","columnNumber","this","q","value","onChange","e","setAnswer","idx","val","Number","target","a","copy","Button","variant","onClick","score","reduce","b","mood","notes"],"mappings":"mTAIA,MAAMA,EAAYC,MAAMC,KAAK,CAAEC,OAAQ,IAAKC,IAAI,CAACC,EAAGC,IAAM,uEAAuEA,EAAI,MAErI,SAAwBC,GAAKC,QAAEA,IAC7B,MAAOC,EAASC,GAAcC,EAAAA,SAAmBV,MAAM,GAAGW,KAAK,IACzDC,EAAeC,EAAoBC,GAAKA,EAAEF,cAiBhD,SACEG,OAAC,MAAA,CAAIC,UAAU,gBACbC,SAAA,CAAAF,SAAC,KAAA,CAAGC,UAAU,wBAAwBC,SAAA,wBAAtC,GAAA,EAAA,CAAAC,SAAA,mFAAAC,WAAA,GAAAC,aAAA,GAAAC,MACAN,SAAC,IAAA,CAAEC,UAAU,gCAAgCC,SAAA,kIAA7C,GAAA,EAAA,CAAAC,SAAA,mFAAAC,WAAA,GAAAC,aAAA,GAAAC,QACAN,OAAC,MAAA,CAAIC,UAAU,YACZC,SAAAlB,EAAUI,IAAI,CAACmB,EAAGjB,IACjBU,EAAAA,OAAC,MAAA,CAAYC,UAAU,0BACrBC,SAAA,CAAAF,SAAC,MAAA,CAAIC,UAAU,gBAAiBC,SAAAK,QAAhC,GAAA,EAAA,CAAAJ,SAAA,mFAAAC,WAAA,GAAAC,aAAA,IAAAC,eACC,SAAA,CAAOE,MAAOf,EAAQH,GAAImB,SAAUC,IAAKC,OAvBjCC,EAuB2CtB,EAvB9BuB,EAuBiCC,OAAOJ,EAAEK,OAAOP,YAtB/Ed,EAAWsB,IACT,MAAMC,EAAO,IAAID,GAEjB,OADAC,EAAKL,GAAOC,EACLI,IAJX,IAAmBL,EAAaC,GAuB0DZ,UAAU,UACxFC,SAAA,CAAAF,SAAC,SAAA,CAAOQ,MAAO,EAAGN,SAAA,mBAAlB,GAAA,EAAA,CAAAC,SAAA,mFAAAC,WAAA,GAAAC,aAAA,IAAAC,MACAN,SAAC,SAAA,CAAOQ,MAAO,EAAGN,SAAA,qBAAlB,GAAA,EAAA,CAAAC,SAAA,mFAAAC,WAAA,GAAAC,aAAA,IAAAC,MACAN,SAAC,SAAA,CAAOQ,MAAO,EAAGN,SAAA,gCAAlB,GAAA,EAAA,CAAAC,SAAA,mFAAAC,WAAA,GAAAC,aAAA,IAAAC,MACAN,SAAC,SAAA,CAAOQ,MAAO,EAAGN,SAAA,yBAAlB,GAAA,EAAA,CAAAC,SAAA,mFAAAC,WAAA,GAAAC,aAAA,IAAAC,aAJF,GAAA,EAAA,CAAAH,SAAA,mFAAAC,WAAA,GAAAC,aAAA,IAAAC,QAFQhB,GAAV,EAAA,CAAAa,SAAA,mFAAAC,WAAA,GAAAC,aAAA,IAAAC,aAFJ,GAAA,EAAA,CAAAH,SAAA,mFAAAC,WAAA,GAAAC,aAAA,GAAAC,QAcAN,OAAC,MAAA,CAAIC,UAAU,yBACbC,SAAA,CAAAF,EAAAA,OAACkB,GAAOC,QAAQ,QAAQC,QAAS,IAAM5B,MAAaU,SAAA,eAApD,GAAA,EAAA,CAAAC,SAAA,mFAAAC,WAAA,GAAAC,aAAA,GAAAC,MACAN,SAACkB,EAAA,CAAOE,QA3Bd,WACE,MAAMC,EAAQ5B,EAAQ6B,OAAO,CAACN,EAAGO,IAAMP,EAAIO,EAAG,GAE9C1B,EAAa,CAAE2B,KAAM,OAAQC,MAAO,gBAAgBJ,MACpD7B,KACF,EAsB+BU,SAAA,aAAzB,GAAA,EAAA,CAAAC,SAAA,mFAAAC,WAAA,GAAAC,aAAA,GAAAC,aAFF,GAAA,EAAA,CAAAH,SAAA,mFAAAC,WAAA,GAAAC,aAAA,GAAAC,aAjBF,GAAA,EAAA,CAAAH,SAAA,mFAAAC,WAAA,GAAAC,aAAA,GAAAC,KAuBJ"}