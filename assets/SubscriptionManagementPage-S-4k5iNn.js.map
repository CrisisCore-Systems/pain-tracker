{"version":3,"file":"SubscriptionManagementPage-S-4k5iNn.js","sources":["../../src/pages/SubscriptionManagementPage.tsx"],"sourcesContent":["/**\r\n * Subscription Management Page\r\n * Allows users to view and manage their subscription\r\n */\r\n\r\nimport { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport {\r\n  Calendar,\r\n  AlertCircle,\r\n  Check,\r\n  X,\r\n  RefreshCw,\r\n  Settings,\r\n  Shield,\r\n  Crown,\r\n  Sparkles,\r\n  ArrowLeft,\r\n  TrendingUp,\r\n} from 'lucide-react';\r\nimport { useSubscription, useTierBadge } from '../contexts/SubscriptionContext';\r\nimport { SUBSCRIPTION_PLANS, FEATURE_COMPARISON } from '../config/subscription-tiers';\r\n\r\nexport function SubscriptionManagementPage() {\r\n  const navigate = useNavigate();\r\n  const {\r\n    subscription,\r\n    currentTier,\r\n    isLoading,\r\n    cancelSubscription,\r\n    reactivateSubscription,\r\n  } = useSubscription();\r\n\r\n  const [showCancelDialog, setShowCancelDialog] = useState(false);\r\n  const [processingAction, setProcessingAction] = useState<string | null>(null);\r\n\r\n  const tierBadge = useTierBadge();\r\n  const currentPlan = SUBSCRIPTION_PLANS[currentTier];\r\n\r\n  // Calculate days remaining in trial\r\n  const getDaysRemaining = (endDate: string): number => {\r\n    const end = new Date(endDate);\r\n    const now = new Date();\r\n    const diff = end.getTime() - now.getTime();\r\n    return Math.max(0, Math.ceil(diff / (1000 * 60 * 60 * 24)));\r\n  };\r\n\r\n\r\n  const handleCancel = async () => {\r\n    setProcessingAction('cancel');\r\n    try {\r\n      await cancelSubscription(false); // Cancel at period end\r\n      setShowCancelDialog(false);\r\n      alert('Subscription canceled. You will retain access until the end of your billing period.');\r\n    } catch (error) {\r\n      console.error('Cancellation failed:', error);\r\n      alert('Failed to cancel subscription. Please try again.');\r\n    } finally {\r\n      setProcessingAction(null);\r\n    }\r\n  };\r\n\r\n  const handleReactivate = async () => {\r\n    setProcessingAction('reactivate');\r\n    try {\r\n      await reactivateSubscription();\r\n      alert('Subscription reactivated successfully!');\r\n    } catch (error) {\r\n      console.error('Reactivation failed:', error);\r\n      alert('Failed to reactivate subscription. Please try again.');\r\n    } finally {\r\n      setProcessingAction(null);\r\n    }\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-slate-900 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <RefreshCw className=\"w-12 h-12 animate-spin text-violet-500 mx-auto mb-4\" />\r\n          <p className=\"text-slate-400\">Loading subscription...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-slate-900 py-12 px-4 sm:px-6 lg:px-8\">\r\n      <div className=\"max-w-7xl mx-auto\">\r\n        {/* Header */}\r\n        <div className=\"mb-8\">\r\n          <button\r\n            onClick={() => navigate(-1)}\r\n            className=\"flex items-center gap-2 text-sm text-slate-400 hover:text-white transition-colors mb-4 group\"\r\n          >\r\n            <ArrowLeft className=\"w-4 h-4 group-hover:-translate-x-1 transition-transform\" />\r\n            Back\r\n          </button>\r\n          <div className=\"flex items-center gap-3 mb-2\">\r\n            <div className=\"p-3 rounded-xl bg-gradient-to-br from-violet-500/20 to-purple-500/20 border border-violet-500/30\">\r\n              <Crown className=\"w-8 h-8 text-violet-400\" />\r\n            </div>\r\n            <div>\r\n              <h1 className=\"text-3xl font-bold text-white\">\r\n                Subscription Management\r\n              </h1>\r\n              <p className=\"text-slate-400\">\r\n                Manage your Pain Tracker subscription and billing\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Current Plan Card */}\r\n        <div \r\n          className=\"rounded-2xl p-6 mb-8 border border-slate-700/50 relative overflow-hidden\"\r\n          style={{\r\n            background: 'linear-gradient(135deg, rgba(30, 41, 59, 0.95) 0%, rgba(15, 23, 42, 0.98) 100%)',\r\n            boxShadow: '0 25px 50px -12px rgba(0, 0, 0, 0.5), inset 0 1px 0 rgba(255,255,255,0.05)'\r\n          }}\r\n        >\r\n          {/* Gradient accent line */}\r\n          <div className=\"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500\" />\r\n          \r\n          <div className=\"flex items-start justify-between mb-6\">\r\n            <div>\r\n              <div className=\"flex items-center gap-3 mb-2\">\r\n                <h2 className=\"text-2xl font-bold text-white flex items-center gap-2\">\r\n                  <Sparkles className=\"w-6 h-6 text-amber-400\" />\r\n                  {tierBadge.icon} {tierBadge.label} Plan\r\n                </h2>\r\n                {subscription?.status === 'trialing' && (\r\n                  <span className=\"px-3 py-1 bg-sky-500/20 text-sky-400 rounded-full text-sm font-medium border border-sky-500/30\">\r\n                    Trial\r\n                  </span>\r\n                )}\r\n                {subscription?.cancelAtPeriodEnd && (\r\n                  <span className=\"px-3 py-1 bg-rose-500/20 text-rose-400 rounded-full text-sm font-medium border border-rose-500/30\">\r\n                    Canceling\r\n                  </span>\r\n                )}\r\n              </div>\r\n              <p className=\"text-slate-400\">{currentPlan.tagline}</p>\r\n            </div>\r\n\r\n            <div className=\"text-right\">\r\n              <div className=\"text-3xl font-bold bg-gradient-to-r from-emerald-400 to-green-400 bg-clip-text text-transparent\">\r\n                {currentPlan.pricing.monthly.display}\r\n              </div>\r\n              <div className=\"text-sm text-slate-500\">per month</div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Subscription Details */}\r\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6\">\r\n            {subscription?.status === 'trialing' && subscription.trialEnd && (\r\n              <div className=\"flex items-center gap-3 p-4 rounded-xl bg-sky-500/10 border border-sky-500/20\">\r\n                <Calendar className=\"w-5 h-5 text-sky-400\" />\r\n                <div>\r\n                  <div className=\"text-sm text-slate-400\">Trial Ends</div>\r\n                  <div className=\"font-semibold text-white\">\r\n                    {getDaysRemaining(subscription.trialEnd)} days remaining\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {subscription?.currentPeriodEnd && (\r\n              <div className=\"flex items-center gap-3 p-4 rounded-xl bg-slate-800/50 border border-slate-700/50\">\r\n                <Calendar className=\"w-5 h-5 text-violet-400\" />\r\n                <div>\r\n                  <div className=\"text-sm text-slate-400\">\r\n                    {subscription.cancelAtPeriodEnd ? 'Access Until' : 'Next Billing'}\r\n                  </div>\r\n                  <div className=\"font-semibold text-white\">\r\n                    {new Date(subscription.currentPeriodEnd).toLocaleDateString()}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            <div className=\"flex items-center gap-3 p-4 rounded-xl bg-slate-800/50 border border-slate-700/50\">\r\n              <Shield className=\"w-5 h-5 text-emerald-400\" />\r\n              <div>\r\n                <div className=\"text-sm text-slate-400\">Encryption</div>\r\n                <div className=\"font-semibold text-white capitalize\">\r\n                  {currentPlan.features.encryption}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Usage Stats */}\r\n          {subscription && (\r\n            <div className=\"border-t border-slate-700/50 pt-6\">\r\n              <h3 className=\"font-semibold text-white mb-4 flex items-center gap-2\">\r\n                <TrendingUp className=\"w-5 h-5 text-cyan-400\" />\r\n                Usage This Period\r\n              </h3>\r\n              <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\r\n                <UsageStat\r\n                  label=\"Pain Entries\"\r\n                  current={subscription.usage.painEntries}\r\n                  limit={currentPlan.features.maxPainEntries}\r\n                  color=\"sky\"\r\n                />\r\n                <UsageStat\r\n                  label=\"Exports\"\r\n                  current={subscription.usage.exportCount}\r\n                  limit={currentPlan.features.maxExportsPerMonth}\r\n                  color=\"violet\"\r\n                />\r\n                <UsageStat\r\n                  label=\"Storage\"\r\n                  current={subscription.usage.storageMB}\r\n                  limit={currentPlan.features.maxStorageMB}\r\n                  unit=\"MB\"\r\n                  color=\"emerald\"\r\n                />\r\n                <UsageStat\r\n                  label=\"Shared Users\"\r\n                  current={0} // TODO: Implement shared user tracking\r\n                  limit={currentPlan.features.maxSharedUsers}\r\n                  color=\"amber\"\r\n                />\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Actions */}\r\n          <div className=\"border-t border-slate-700/50 pt-6 mt-6\">\r\n            <div className=\"flex flex-wrap gap-3\">\r\n              {currentTier !== 'enterprise' && (\r\n                <button\r\n                  onClick={() => navigate('/pricing')}\r\n                  className=\"px-5 py-2.5 rounded-xl font-medium transition-all flex items-center gap-2 text-white shadow-lg shadow-violet-500/25 hover:shadow-violet-500/40 hover:-translate-y-0.5\"\r\n                  style={{\r\n                    background: 'linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)'\r\n                  }}\r\n                >\r\n                  <TrendingUp className=\"w-4 h-4\" />\r\n                  Upgrade Plan\r\n                </button>\r\n              )}\r\n\r\n              {subscription?.cancelAtPeriodEnd ? (\r\n                <button\r\n                  onClick={handleReactivate}\r\n                  disabled={processingAction === 'reactivate'}\r\n                  className=\"px-5 py-2.5 rounded-xl font-medium transition-all flex items-center gap-2 text-white disabled:opacity-50 shadow-lg shadow-emerald-500/25 hover:shadow-emerald-500/40 hover:-translate-y-0.5\"\r\n                  style={{\r\n                    background: 'linear-gradient(135deg, #10b981 0%, #059669 100%)'\r\n                  }}\r\n                >\r\n                  <RefreshCw className={`w-4 h-4 ${processingAction === 'reactivate' ? 'animate-spin' : ''}`} />\r\n                  Reactivate Subscription\r\n                </button>\r\n              ) : (\r\n                currentTier !== 'free' && (\r\n                  <button\r\n                    onClick={() => setShowCancelDialog(true)}\r\n                    className=\"px-5 py-2.5 rounded-xl font-medium transition-all flex items-center gap-2 text-rose-400 border border-rose-500/30 hover:bg-rose-500/10 hover:-translate-y-0.5\"\r\n                  >\r\n                    <X className=\"w-4 h-4\" />\r\n                    Cancel Subscription\r\n                  </button>\r\n                )\r\n              )}\r\n\r\n              <button\r\n                onClick={() => navigate('/settings')}\r\n                className=\"px-5 py-2.5 rounded-xl font-medium transition-all flex items-center gap-2 text-slate-300 border border-slate-600 hover:bg-slate-800 hover:-translate-y-0.5\"\r\n              >\r\n                <Settings className=\"w-4 h-4\" />\r\n                Account Settings\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Feature Comparison */}\r\n        <div \r\n          className=\"rounded-2xl p-6 border border-slate-700/50 relative overflow-hidden\"\r\n          style={{\r\n            background: 'linear-gradient(135deg, rgba(30, 41, 59, 0.95) 0%, rgba(15, 23, 42, 0.98) 100%)',\r\n            boxShadow: '0 25px 50px -12px rgba(0, 0, 0, 0.5), inset 0 1px 0 rgba(255,255,255,0.05)'\r\n          }}\r\n        >\r\n          {/* Gradient accent line */}\r\n          <div className=\"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-cyan-500 via-sky-500 to-blue-500\" />\r\n          \r\n          <h2 className=\"text-2xl font-bold text-white mb-6 flex items-center gap-2\">\r\n            <Check className=\"w-6 h-6 text-emerald-400\" />\r\n            Your Plan Features\r\n          </h2>\r\n\r\n          <div className=\"space-y-6\">\r\n            {Object.entries(FEATURE_COMPARISON).map(([key, section]) => (\r\n              <div key={key}>\r\n                <h3 className=\"font-semibold text-white mb-3 text-lg\">\r\n                  {section.category}\r\n                </h3>\r\n                <div className=\"space-y-2\">\r\n                  {section.items.map((item, index) => {\r\n                    const currentValue = item[currentTier];\r\n                    const hasFeature = typeof currentValue === 'boolean' ? currentValue : true;\r\n\r\n                    return (\r\n                      <div\r\n                        key={index}\r\n                        className=\"flex items-center justify-between p-3 rounded-xl bg-slate-800/50 border border-slate-700/30 hover:border-slate-600/50 transition-colors\"\r\n                      >\r\n                        <span className=\"text-slate-300\">{item.name}</span>\r\n                        <div className=\"flex items-center gap-2\">\r\n                          {hasFeature ? (\r\n                            <>\r\n                              <Check className=\"w-5 h-5 text-emerald-400\" />\r\n                              <span className=\"text-sm font-medium text-white\">\r\n                                {typeof currentValue === 'boolean' ? 'Included' : currentValue}\r\n                              </span>\r\n                            </>\r\n                          ) : (\r\n                            <>\r\n                              <X className=\"w-5 h-5 text-slate-500\" />\r\n                              <span className=\"text-sm text-slate-500\">Not Available</span>\r\n                            </>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Cancel Dialog */}\r\n      {showCancelDialog && (\r\n        <div className=\"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4\">\r\n          <div \r\n            className=\"rounded-2xl shadow-2xl max-w-md w-full p-6 border border-slate-700/50\"\r\n            style={{\r\n              background: 'linear-gradient(135deg, rgba(30, 41, 59, 0.98) 0%, rgba(15, 23, 42, 1) 100%)'\r\n            }}\r\n          >\r\n            <div className=\"flex items-start gap-4 mb-4\">\r\n              <div className=\"p-2 rounded-lg bg-rose-500/20 border border-rose-500/30\">\r\n                <AlertCircle className=\"w-6 h-6 text-rose-400\" />\r\n              </div>\r\n              <div>\r\n                <h3 className=\"text-lg font-semibold text-white mb-2\">\r\n                  Cancel Subscription?\r\n                </h3>\r\n                <p className=\"text-slate-400 text-sm\">\r\n                  You will lose access to {tierBadge.label} features at the end of your billing period.\r\n                  Your data will be retained according to the Free tier limits.\r\n                </p>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex gap-3 justify-end\">\r\n              <button\r\n                onClick={() => setShowCancelDialog(false)}\r\n                className=\"px-4 py-2 rounded-lg text-slate-300 border border-slate-600 hover:bg-slate-800 transition-colors\"\r\n              >\r\n                Keep Subscription\r\n              </button>\r\n              <button\r\n                onClick={handleCancel}\r\n                disabled={processingAction === 'cancel'}\r\n                className=\"px-4 py-2 rounded-lg text-white disabled:opacity-50 transition-colors\"\r\n                style={{\r\n                  background: 'linear-gradient(135deg, #ef4444 0%, #dc2626 100%)'\r\n                }}\r\n              >\r\n                {processingAction === 'cancel' ? 'Canceling...' : 'Yes, Cancel'}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n// Helper component for usage stats\r\ninterface UsageStatProps {\r\n  label: string;\r\n  current: number;\r\n  limit: number;\r\n  unit?: string;\r\n  color?: 'sky' | 'violet' | 'emerald' | 'amber';\r\n}\r\n\r\nfunction UsageStat({ label, current, limit, unit = '', color = 'sky' }: UsageStatProps) {\r\n  const percentage = limit === -1 ? 0 : Math.min(100, (current / limit) * 100);\r\n  const isUnlimited = limit === -1;\r\n\r\n  const colorClasses = {\r\n    sky: { bar: 'from-sky-500 to-cyan-500', text: 'text-sky-400' },\r\n    violet: { bar: 'from-violet-500 to-purple-500', text: 'text-violet-400' },\r\n    emerald: { bar: 'from-emerald-500 to-green-500', text: 'text-emerald-400' },\r\n    amber: { bar: 'from-amber-500 to-yellow-500', text: 'text-amber-400' },\r\n  };\r\n\r\n  const getBarColor = () => {\r\n    if (percentage > 80) return 'from-rose-500 to-red-500';\r\n    if (percentage > 60) return 'from-amber-500 to-yellow-500';\r\n    return colorClasses[color].bar;\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-4 rounded-xl bg-slate-800/30 border border-slate-700/30\">\r\n      <div className=\"text-sm text-slate-400 mb-1\">{label}</div>\r\n      <div className=\"font-semibold text-white\">\r\n        {current} {unit} {!isUnlimited && <span className=\"text-slate-500\">/ {limit} {unit}</span>}\r\n        {isUnlimited && <span className={`ml-1 ${colorClasses[color].text}`}></span>}\r\n      </div>\r\n      {!isUnlimited && (\r\n        <div className=\"mt-2 h-2 bg-slate-700/50 rounded-full overflow-hidden\">\r\n          <div\r\n            className={`h-full bg-gradient-to-r ${getBarColor()} transition-all rounded-full`}\r\n            style={{ width: `${percentage}%` }}\r\n          />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}"],"names":["SubscriptionManagementPage","navigate","useNavigate","subscription","currentTier","isLoading","cancelSubscription","reactivateSubscription","useSubscription","showCancelDialog","setShowCancelDialog","useState","processingAction","setProcessingAction","tierBadge","useTierBadge","currentPlan","SUBSCRIPTION_PLANS","className","children","jsxDEV","RefreshCw","fileName","lineNumber","columnNumber","this","onClick","ArrowLeft","Crown","style","background","boxShadow","Sparkles","icon","label","status","cancelAtPeriodEnd","tagline","pricing","monthly","display","trialEnd","Calendar","endDate","end","Date","now","diff","getTime","Math","max","ceil","getDaysRemaining","currentPeriodEnd","toLocaleDateString","Shield","features","encryption","TrendingUp","UsageStat","current","usage","painEntries","limit","maxPainEntries","color","exportCount","maxExportsPerMonth","storageMB","maxStorageMB","unit","maxSharedUsers","async","alert","error","disabled","X","Settings","Check","entries","FEATURE_COMPARISON","map","key","section","category","items","item","index","currentValue","hasFeature","name","Fragment","AlertCircle","percentage","min","isUnlimited","colorClasses","sky","bar","text","violet","emerald","amber","width"],"mappings":"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"}