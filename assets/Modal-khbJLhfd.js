import{r as e,j as s}from"./react-vendor-CM2d6bHp.js";import{c as t,C as n,m as r,n as o,B as c,e as a}from"./index-CMuG_LiM.js";import{X as i}from"./icons-vendor-DZ-9b690.js";const l={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-full mx-4"};function m({isOpen:m,onClose:d,title:u,children:f,size:b="md",className:x,showCloseButton:p=!0,closeOnBackdropClick:y=!0,closeOnEscape:N=!0,footer:v,headerClassName:h,contentClassName:k,footerClassName:g}){const j=e.useRef(null),E=function(s){const t=e.useRef(null),n=e.useRef(null);return e.useEffect(()=>{if(!s||!t.current)return;const e=t.current;n.current=document.activeElement;const r=()=>{const s=["a[href]","button:not([disabled])","textarea:not([disabled])","input:not([disabled])","select:not([disabled])",'[tabindex]:not([tabindex="-1"])'].join(", ");return Array.from(e.querySelectorAll(s)).filter(e=>e.tabIndex>=0)},o=r();o.length>0&&setTimeout(()=>{o[0]?.focus()},10);const c=e=>{if("Tab"!==e.key)return;const s=r();if(0===s.length)return;const t=s[0],n=s[s.length-1];e.shiftKey?document.activeElement===t&&(e.preventDefault(),n.focus()):document.activeElement===n&&(e.preventDefault(),t.focus())};e.addEventListener("keydown",c),document.addEventListener("keydown",c);const a=s=>{const t=s.target;if(!e.contains(t)){const e=r();e.length>0&&e[0].focus()}};return document.addEventListener("focusin",a),()=>{e.removeEventListener("keydown",c),document.removeEventListener("keydown",c),document.removeEventListener("focusin",a),n.current&&n.current.focus()}},[s]),t}(m),w=e.useRef(null);if(e.useEffect(()=>{const e=e=>{"Escape"===e.key&&N&&d()};return m&&(document.addEventListener("keydown",e),null===w.current&&(w.current=document.body.style.overflow),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",e),null!==w.current&&(document.body.style.overflow=w.current,w.current=null)}},[m,d,N]),e.useEffect(()=>{m&&j.current&&j.current.focus()},[m]),!m)return null;return s.jsxDEV("div",{ref:E,className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",onClick:e=>{e.target===e.currentTarget&&y&&d()},role:"dialog","aria-modal":"true","aria-labelledby":u?"modal-title":void 0,"aria-describedby":f?"modal-description":void 0,children:s.jsxDEV("div",{ref:j,className:t("w-full bg-background rounded-lg shadow-xl animate-in zoom-in-95 duration-200",l[b],x),tabIndex:-1,role:"document",children:s.jsxDEV(n,{className:"border-0 shadow-none",children:[(u||p)&&s.jsxDEV(r,{className:t("flex flex-row items-center justify-between space-y-0 pb-4",h),children:[u&&s.jsxDEV(o,{id:"modal-title",className:"text-lg font-semibold",children:u},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Modal.tsx",lineNumber:120,columnNumber:17},this),p&&s.jsxDEV(c,{variant:"ghost",size:"sm",onClick:d,className:"h-8 w-8 p-0 hover:bg-muted","aria-label":"Close modal",children:s.jsxDEV(i,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Modal.tsx",lineNumber:132,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Modal.tsx",lineNumber:125,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Modal.tsx",lineNumber:113,columnNumber:13},this),s.jsxDEV(a,{className:t("pt-0",k),id:"modal-description",children:f},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Modal.tsx",lineNumber:138,columnNumber:11},this),v&&s.jsxDEV("div",{className:t("flex justify-end space-x-2 pt-4 border-t px-6 pb-6",g),children:v},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Modal.tsx",lineNumber:143,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Modal.tsx",lineNumber:111,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Modal.tsx",lineNumber:101,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Modal.tsx",lineNumber:92,columnNumber:5},this)}export{m as M};
