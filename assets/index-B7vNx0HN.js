const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/pdfReportGenerator-L__OjqwH.js","assets/pdf-vendor-zZbfvrDE.js","assets/react-vendor-CM2d6bHp.js","assets/chart-vendor-C6dKBweC.js","assets/state-vendor-gOFTyJpA.js","assets/icons-vendor-DZ-9b690.js","assets/date-vendor-Bi3xipBn.js","assets/i18n-vendor-C-xkjauL.js","assets/background-sync-DiQN0jqO.js","assets/offline-storage-BNc7x0M7.js","assets/crypto-vendor-BimNoyyQ.js","assets/PainTrackerContainer-CPTQDEPp.js","assets/AnalyticsTrackingService-BBqrbLyx.js","assets/PainTrackerContainer-Cxe0IgvJ.css","assets/LandingPage-BVy1XXwI.js","assets/LandingPage-DAbqRr9M.css","assets/PricingPage-B-K6eN_Y.js","assets/PricingPage-WSFOMqp4.css","assets/ScreenshotShowcase-98dLAOo2.js","assets/DataExportModal-B3LymzLl.js","assets/Modal-BKX6t8zP.js","assets/export-DtTr256z.js","assets/InteractiveBodyMap-BUyETpTd.js","assets/ClinicPortal-JnXiAHLA.js","assets/switch-b5sgs0gR.js","assets/SubscriptionManagementPage-S-4k5iNn.js","assets/SubmitStoryPage-C0iWSSNo.js"])))=>i.map(i=>d[i]);
import{r as e,j as t,R as r,i as n,e as s,a,B as i,f as o,g as c,N as l,h as u}from"./react-vendor-CM2d6bHp.js";import{_ as d}from"./pdf-vendor-zZbfvrDE.js";import{C as m,R as p,H as f,a as h,L as g,E as y,b,X as v,I as x,c as w,d as k,S as N,e as D,D as E,W as S,Z as C,B as P,f as j}from"./icons-vendor-DZ-9b690.js";import{b as T,C as I,r as A,p as V,B as U,D as _,R as O,L as R,g as L,a as M}from"./chart-vendor-C6dKBweC.js";import{d as F,e as z,f as B,s as W,g as $}from"./state-vendor-gOFTyJpA.js";import{p as q}from"./date-vendor-Bi3xipBn.js";import{i as G,B as H}from"./i18n-vendor-C-xkjauL.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}(),window.dataLayer=window.dataLayer||[],window.gtag=()=>{};class K extends e.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){}handleRefresh=()=>{window.location.reload()};handleGoHome=()=>{window.location.href="/"};render(){return this.state.hasError?this.props.fallback||t.jsxDEV("div",{className:"min-h-screen flex items-center justify-center p-4",style:{background:"linear-gradient(135deg, rgba(15, 23, 42, 0.98) 0%, rgba(30, 41, 59, 0.95) 100%)"},role:"alert","aria-live":"assertive",children:t.jsxDEV("div",{className:"max-w-md w-full text-center p-8 rounded-2xl",style:{background:"rgba(30, 41, 59, 0.8)",border:"1px solid rgba(255, 255, 255, 0.1)",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.5)"},children:[t.jsxDEV("div",{className:"mx-auto w-16 h-16 rounded-full flex items-center justify-center mb-6",style:{background:"rgba(245, 158, 11, 0.15)",border:"1px solid rgba(245, 158, 11, 0.3)"},children:t.jsxDEV(m,{className:"h-8 w-8 text-amber-400","aria-hidden":"true"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/ErrorBoundary.tsx",lineNumber:68,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/ErrorBoundary.tsx",lineNumber:61,columnNumber:15},this),t.jsxDEV("h2",{className:"text-xl font-semibold text-white mb-3",children:"We hit a small bump"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/ErrorBoundary.tsx",lineNumber:72,columnNumber:15},this),t.jsxDEV("p",{className:"text-slate-400 mb-2",children:"Something unexpected happened, but your data is safe."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/ErrorBoundary.tsx",lineNumber:76,columnNumber:15},this),t.jsxDEV("p",{className:"text-slate-500 text-sm mb-6",children:"This isn't your fault. These things happen sometimes, and we're here to help you get back on track."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/ErrorBoundary.tsx",lineNumber:80,columnNumber:15},this),t.jsxDEV("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[t.jsxDEV("button",{onClick:this.handleRefresh,className:"inline-flex items-center justify-center gap-2 px-5 py-2.5 rounded-xl text-sm font-medium text-white transition-all duration-200 min-h-[44px]",style:{background:"linear-gradient(135deg, #0ea5e9 0%, #0284c7 100%)",boxShadow:"0 4px 15px rgba(14, 165, 233, 0.3)"},children:[t.jsxDEV(p,{className:"h-4 w-4","aria-hidden":"true"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/ErrorBoundary.tsx",lineNumber:94,columnNumber:19},this),"Try Again"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/ErrorBoundary.tsx",lineNumber:86,columnNumber:17},this),t.jsxDEV("button",{onClick:this.handleGoHome,className:"inline-flex items-center justify-center gap-2 px-5 py-2.5 rounded-xl text-sm font-medium text-slate-300 transition-all duration-200 min-h-[44px]",style:{background:"rgba(51, 65, 85, 0.5)",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[t.jsxDEV(f,{className:"h-4 w-4","aria-hidden":"true"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/ErrorBoundary.tsx",lineNumber:106,columnNumber:19},this),"Go Home"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/ErrorBoundary.tsx",lineNumber:98,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/ErrorBoundary.tsx",lineNumber:85,columnNumber:15},this),t.jsxDEV("div",{className:"mt-6 pt-6 flex items-center justify-center gap-2 text-xs text-slate-500",style:{borderTop:"1px solid rgba(255, 255, 255, 0.05)"},children:[t.jsxDEV(h,{className:"h-3 w-3 text-rose-400","aria-hidden":"true"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/ErrorBoundary.tsx",lineNumber:116,columnNumber:17},this),t.jsxDEV("span",{children:"Your wellbeing matters to us"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/ErrorBoundary.tsx",lineNumber:117,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/ErrorBoundary.tsx",lineNumber:112,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/ErrorBoundary.tsx",lineNumber:52,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/ErrorBoundary.tsx",lineNumber:44,columnNumber:11},this):this.props.children}}const Y={400:"#60a5fa",600:"#2563eb"},J={400:"#e879f9",600:"#c026d3"},Q={50:"#fafafa",100:"#f5f5f5",200:"#e5e5e5",300:"#d4d4d4",400:"#a3a3a3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717"},Z={50:"#f0fdf4",500:"#22c55e",700:"#15803d"},X={50:"#fffbeb",500:"#f59e0b",700:"#b45309"},ee={500:"#ef4444",700:"#b91c1c"},te={50:"#ecfeff",500:"#06b6d4",700:"#0e7490"},re="pain-tracker:theme-mode",ne=e.createContext(void 0),se=()=>{const t=e.useContext(ne);if(void 0===t)throw new Error("useTheme must be used within a ThemeProvider");return t};const ae=({children:r,defaultMode:n="dark"})=>{const[s,a]=e.useState(()=>function(e){if("undefined"==typeof window)return e;try{const e=localStorage.getItem(re);if("light"===e||"dark"===e||"high-contrast"===e||"colorblind"===e)return e}catch{}return window.matchMedia("(prefers-color-scheme: light)").matches?"light":"dark"}(n)),[i,o]=e.useState(!1),c=e.useRef(null),[l,u]=e.useState(()=>"undefined"!=typeof window&&window.matchMedia("(prefers-reduced-motion: reduce)").matches),d=e.useMemo(()=>(e=>"high-contrast"===e?{background:"#000000",foreground:"#ffffff",card:"#000000",cardForeground:"#ffffff",popover:"#000000",popoverForeground:"#ffffff",primary:"#ffff00",primaryForeground:"#000000",secondary:"#ffffff",secondaryForeground:"#000000",muted:"#333333",mutedForeground:"#ffffff",accent:"#00ffff",accentForeground:"#000000",destructive:"#ff0000",destructiveForeground:"#ffffff",success:Z[500],successForeground:Z[50],warning:X[500],warningForeground:X[50],info:te[500],infoForeground:te[50],border:"#ffffff",input:"#ffffff",ring:"#ffff00"}:"colorblind"===e?{background:Q[50],foreground:Q[900],card:Q[50],cardForeground:Q[900],popover:Q[50],popoverForeground:Q[900],primary:Q[800],primaryForeground:Q[50],secondary:Q[600],secondaryForeground:Q[50],muted:Q[100],mutedForeground:Q[700],accent:Q[500],accentForeground:Q[50],destructive:Q[900],destructiveForeground:Q[50],success:Z[500],successForeground:Z[50],warning:X[500],warningForeground:X[50],info:te[500],infoForeground:te[50],border:Q[300],input:Q[200],ring:Q[800]}:"dark"===e?{background:Q[900],foreground:Q[50],card:Q[800],cardForeground:Q[100],popover:Q[800],popoverForeground:Q[100],primary:Y[400],primaryForeground:Q[900],secondary:Q[700],secondaryForeground:Q[100],muted:Q[700],mutedForeground:Q[400],accent:J[400],accentForeground:Q[900],destructive:ee[500],destructiveForeground:"#ffffff",success:Z[500],successForeground:Z[50],warning:X[500],warningForeground:X[50],info:te[500],infoForeground:te[50],border:Q[700],input:Q[700],ring:Y[400]}:{background:Q[50],foreground:Q[900],card:Q[50],cardForeground:Q[900],popover:Q[50],popoverForeground:Q[900],primary:Y[600],primaryForeground:Q[50],secondary:Q[100],secondaryForeground:Q[900],muted:Q[100],mutedForeground:Q[700],accent:J[600],accentForeground:Q[50],destructive:ee[700],destructiveForeground:"#ffffff",success:Z[700],successForeground:Z[50],warning:X[700],warningForeground:X[50],info:te[700],infoForeground:te[50],border:Q[200],input:Q[200],ring:Y[600]})(s),[s]),m="dark"===s||"high-contrast"===s,p=e.useCallback(e=>{const t=document.documentElement;t.setAttribute("data-theme","high-contrast"===e?"dark":e),"dark"===e||"high-contrast"===e?t.classList.add("dark"):t.classList.remove("dark")},[]),f=e.useCallback(e=>{o(!0),c.current&&clearTimeout(c.current),a(e);try{localStorage.setItem(re,e)}catch{}p(e),c.current=setTimeout(()=>{o(!1)},150)},[p]),h=e.useCallback(()=>{f("dark"===s?"light":"dark")},[s,f]);e.useEffect(()=>{const e=window.matchMedia("(prefers-reduced-motion: reduce)"),t=e=>{u(e.matches)};return e.addEventListener?(e.addEventListener("change",t),()=>e.removeEventListener("change",t)):(e.addListener(t),()=>e.removeListener(t))},[]),e.useEffect(()=>{const e=window.matchMedia("(prefers-color-scheme: dark)"),t=e=>{try{localStorage.getItem(re)||f(e.matches?"dark":"light")}catch{f(e.matches?"dark":"light")}};return e.addEventListener?(e.addEventListener("change",t),()=>e.removeEventListener("change",t)):(e.addListener(t),()=>e.removeListener(t))},[f]),e.useEffect(()=>{p(s)},[s,p]),e.useEffect(()=>()=>{c.current&&clearTimeout(c.current)},[]);const g=e.useMemo(()=>({mode:s,toggleMode:h,colors:d,setMode:f,isHighContrast:"high-contrast"===s,hasReducedMotion:l,isDark:m,isTransitioning:i}),[s,h,d,f,l,m,i]);return t.jsxDEV(ne.Provider,{value:g,children:r},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/ThemeProvider.tsx",lineNumber:243,columnNumber:10},void 0)},ie=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,oe=T,ce=(e,t)=>r=>{var n;if(null==(null==t?void 0:t.variants))return oe(e,null==r?void 0:r.class,null==r?void 0:r.className);const{variants:s,defaultVariants:a}=t,i=Object.keys(s).map(e=>{const t=null==r?void 0:r[e],n=null==a?void 0:a[e];if(null===t)return null;const i=ie(t)||ie(n);return s[e][i]}),o=r&&Object.entries(r).reduce((e,t)=>{let[r,n]=t;return void 0===n||(e[r]=n),e},{}),c=null==t||null===(n=t.compoundVariants)||void 0===n?void 0:n.reduce((e,t)=>{let{class:r,className:n,...s}=t;return Object.entries(s).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...a,...o}[t]):{...a,...o}[t]===r})?[...e,r,n]:e},[]);return oe(e,i,c,null==r?void 0:r.class,null==r?void 0:r.className)},le=e=>{const t=pe(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:e=>{const r=e.split("-");return""===r[0]&&1!==r.length&&r.shift(),ue(r,t)||me(e)},getConflictingClassGroupIds:(e,t)=>{const s=r[e]||[];return t&&n[e]?[...s,...n[e]]:s}}},ue=(e,t)=>{if(0===e.length)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?ue(e.slice(1),n):void 0;if(s)return s;if(0===t.validators.length)return;const a=e.join("-");return t.validators.find(({validator:e})=>e(a))?.classGroupId},de=/^\[(.+)\]$/,me=e=>{if(de.test(e)){const t=de.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},pe=e=>{const{theme:t,classGroups:r}=e,n={nextPart:new Map,validators:[]};for(const s in r)fe(r[s],n,s,t);return n},fe=(e,t,r,n)=>{e.forEach(e=>{if("string"==typeof e){return void((""===e?t:he(t,e)).classGroupId=r)}if("function"==typeof e)return ge(e)?void fe(e(n),t,r,n):void t.validators.push({validator:e,classGroupId:r});Object.entries(e).forEach(([e,s])=>{fe(s,he(t,e),r,n)})})},he=(e,t)=>{let r=e;return t.split("-").forEach(e=>{r.nextPart.has(e)||r.nextPart.set(e,{nextPart:new Map,validators:[]}),r=r.nextPart.get(e)}),r},ge=e=>e.isThemeGetter,ye=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(s,a)=>{r.set(s,a),t++,t>e&&(t=0,n=r,r=new Map)};return{get(e){let t=r.get(e);return void 0!==t?t:void 0!==(t=n.get(e))?(s(e,t),t):void 0},set(e,t){r.has(e)?r.set(e,t):s(e,t)}}},be=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=e=>{const t=[];let r,n=0,s=0,a=0;for(let c=0;c<e.length;c++){let i=e[c];if(0===n&&0===s){if(":"===i){t.push(e.slice(a,c)),a=c+1;continue}if("/"===i){r=c;continue}}"["===i?n++:"]"===i?n--:"("===i?s++:")"===i&&s--}const i=0===t.length?e:e.substring(a),o=ve(i);return{modifiers:t,hasImportantModifier:o!==i,baseClassName:o,maybePostfixModifierPosition:r&&r>a?r-a:void 0}};if(t){const e=t+":",r=n;n=t=>t.startsWith(e)?r(t.substring(e.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:t,maybePostfixModifierPosition:void 0}}if(r){const e=n;n=t=>r({className:t,parseClassName:e})}return n},ve=e=>e.endsWith("!")?e.substring(0,e.length-1):e.startsWith("!")?e.substring(1):e,xe=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(e=>[e,!0]));return e=>{if(e.length<=1)return e;const r=[];let n=[];return e.forEach(e=>{"["===e[0]||t[e]?(r.push(...n.sort(),e),n=[]):n.push(e)}),r.push(...n.sort()),r}},we=/\s+/;function ke(){let e,t,r=0,n="";for(;r<arguments.length;)(e=arguments[r++])&&(t=Ne(e))&&(n&&(n+=" "),n+=t);return n}const Ne=e=>{if("string"==typeof e)return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=Ne(e[n]))&&(r&&(r+=" "),r+=t);return r};function De(e,...t){let r,n,s,a=function(o){const c=t.reduce((e,t)=>t(e),e());return r=(e=>({cache:ye(e.cacheSize),parseClassName:be(e),sortModifiers:xe(e),...le(e)}))(c),n=r.cache.get,s=r.cache.set,a=i,i(o)};function i(e){const t=n(e);if(t)return t;const a=((e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s,sortModifiers:a}=t,i=[],o=e.trim().split(we);let c="";for(let l=o.length-1;l>=0;l-=1){const e=o[l],{isExternal:t,modifiers:u,hasImportantModifier:d,baseClassName:m,maybePostfixModifierPosition:p}=r(e);if(t){c=e+(c.length>0?" "+c:c);continue}let f=!!p,h=n(f?m.substring(0,p):m);if(!h){if(!f){c=e+(c.length>0?" "+c:c);continue}if(h=n(m),!h){c=e+(c.length>0?" "+c:c);continue}f=!1}const g=a(u).join(":"),y=d?g+"!":g,b=y+h;if(i.includes(b))continue;i.push(b);const v=s(h,f);for(let r=0;r<v.length;++r){const e=v[r];i.push(y+e)}c=e+(c.length>0?" "+c:c)}return c})(e,r);return s(e,a),a}return function(){return a(ke.apply(null,arguments))}}const Ee=e=>{const t=t=>t[e]||[];return t.isThemeGetter=!0,t},Se=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Ce=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Pe=/^\d+\/\d+$/,je=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Te=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Ie=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Ae=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Ve=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ue=e=>Pe.test(e),_e=e=>!!e&&!Number.isNaN(Number(e)),Oe=e=>!!e&&Number.isInteger(Number(e)),Re=e=>e.endsWith("%")&&_e(e.slice(0,-1)),Le=e=>je.test(e),Me=()=>!0,Fe=e=>Te.test(e)&&!Ie.test(e),ze=()=>!1,Be=e=>Ae.test(e),We=e=>Ve.test(e),$e=e=>!Ge(e)&&!Ze(e),qe=e=>at(e,lt,ze),Ge=e=>Se.test(e),He=e=>at(e,ut,Fe),Ke=e=>at(e,dt,_e),Ye=e=>at(e,ot,ze),Je=e=>at(e,ct,We),Qe=e=>at(e,pt,Be),Ze=e=>Ce.test(e),Xe=e=>it(e,ut),et=e=>it(e,mt),tt=e=>it(e,ot),rt=e=>it(e,lt),nt=e=>it(e,ct),st=e=>it(e,pt,!0),at=(e,t,r)=>{const n=Se.exec(e);return!!n&&(n[1]?t(n[1]):r(n[2]))},it=(e,t,r=!1)=>{const n=Ce.exec(e);return!!n&&(n[1]?t(n[1]):r)},ot=e=>"position"===e||"percentage"===e,ct=e=>"image"===e||"url"===e,lt=e=>"length"===e||"size"===e||"bg-size"===e,ut=e=>"length"===e,dt=e=>"number"===e,mt=e=>"family-name"===e,pt=e=>"shadow"===e,ft=De(()=>{const e=Ee("color"),t=Ee("font"),r=Ee("text"),n=Ee("font-weight"),s=Ee("tracking"),a=Ee("leading"),i=Ee("breakpoint"),o=Ee("container"),c=Ee("spacing"),l=Ee("radius"),u=Ee("shadow"),d=Ee("inset-shadow"),m=Ee("text-shadow"),p=Ee("drop-shadow"),f=Ee("blur"),h=Ee("perspective"),g=Ee("aspect"),y=Ee("ease"),b=Ee("animate"),v=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",Ze,Ge],x=()=>[Ze,Ge,c],w=()=>[Ue,"full","auto",...x()],k=()=>[Oe,"none","subgrid",Ze,Ge],N=()=>["auto",{span:["full",Oe,Ze,Ge]},Oe,Ze,Ge],D=()=>[Oe,"auto",Ze,Ge],E=()=>["auto","min","max","fr",Ze,Ge],S=()=>["auto",...x()],C=()=>[Ue,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...x()],P=()=>[e,Ze,Ge],j=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",tt,Ye,{position:[Ze,Ge]}],T=()=>["auto","cover","contain",rt,qe,{size:[Ze,Ge]}],I=()=>[Re,Xe,He],A=()=>["","none","full",l,Ze,Ge],V=()=>["",_e,Xe,He],U=()=>[_e,Re,tt,Ye],_=()=>["","none",f,Ze,Ge],O=()=>["none",_e,Ze,Ge],R=()=>["none",_e,Ze,Ge],L=()=>[_e,Ze,Ge],M=()=>[Ue,"full",...x()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Le],breakpoint:[Le],color:[Me],container:[Le],"drop-shadow":[Le],ease:["in","out","in-out"],font:[$e],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Le],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Le],shadow:[Le],spacing:["px",_e],text:[Le],"text-shadow":[Le],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ue,Ge,Ze,g]}],container:["container"],columns:[{columns:[_e,Ge,Ze,o]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:v()}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:w()}],"inset-x":[{"inset-x":w()}],"inset-y":[{"inset-y":w()}],start:[{start:w()}],end:[{end:w()}],top:[{top:w()}],right:[{right:w()}],bottom:[{bottom:w()}],left:[{left:w()}],visibility:["visible","invisible","collapse"],z:[{z:[Oe,"auto",Ze,Ge]}],basis:[{basis:[Ue,"full","auto",o,...x()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[_e,Ue,"auto","initial","none",Ge]}],grow:[{grow:["",_e,Ze,Ge]}],shrink:[{shrink:["",_e,Ze,Ge]}],order:[{order:[Oe,"first","last","none",Ze,Ge]}],"grid-cols":[{"grid-cols":k()}],"col-start-end":[{col:N()}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":k()}],"row-start-end":[{row:N()}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":E()}],"auto-rows":[{"auto-rows":E()}],gap:[{gap:x()}],"gap-x":[{"gap-x":x()}],"gap-y":[{"gap-y":x()}],"justify-content":[{justify:["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe","normal"]}],"justify-items":[{"justify-items":["start","end","center","stretch","center-safe","end-safe","normal"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"align-items":[{items:["start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"align-self":[{self:["auto","start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"place-items":[{"place-items":["start","end","center","stretch","center-safe","end-safe","baseline"]}],"place-self":[{"place-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],p:[{p:x()}],px:[{px:x()}],py:[{py:x()}],ps:[{ps:x()}],pe:[{pe:x()}],pt:[{pt:x()}],pr:[{pr:x()}],pb:[{pb:x()}],pl:[{pl:x()}],m:[{m:S()}],mx:[{mx:S()}],my:[{my:S()}],ms:[{ms:S()}],me:[{me:S()}],mt:[{mt:S()}],mr:[{mr:S()}],mb:[{mb:S()}],ml:[{ml:S()}],"space-x":[{"space-x":x()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":x()}],"space-y-reverse":["space-y-reverse"],size:[{size:C()}],w:[{w:[o,"screen",...C()]}],"min-w":[{"min-w":[o,"screen","none",...C()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[i]},...C()]}],h:[{h:["screen","lh",...C()]}],"min-h":[{"min-h":["screen","lh","none",...C()]}],"max-h":[{"max-h":["screen","lh",...C()]}],"font-size":[{text:["base",r,Xe,He]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Ze,Ke]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Re,Ge]}],"font-family":[{font:[et,Ge,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Ze,Ge]}],"line-clamp":[{"line-clamp":[_e,"none",Ze,Ke]}],leading:[{leading:[a,...x()]}],"list-image":[{"list-image":["none",Ze,Ge]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ze,Ge]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:P()}],"text-color":[{text:P()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","wavy"]}],"text-decoration-thickness":[{decoration:[_e,"from-font","auto",Ze,He]}],"text-decoration-color":[{decoration:P()}],"underline-offset":[{"underline-offset":[_e,"auto",Ze,Ge]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:x()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ze,Ge]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ze,Ge]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:j()}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:T()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Oe,Ze,Ge],radial:["",Ze,Ge],conic:[Oe,Ze,Ge]},nt,Je]}],"bg-color":[{bg:P()}],"gradient-from-pos":[{from:I()}],"gradient-via-pos":[{via:I()}],"gradient-to-pos":[{to:I()}],"gradient-from":[{from:P()}],"gradient-via":[{via:P()}],"gradient-to":[{to:P()}],rounded:[{rounded:A()}],"rounded-s":[{"rounded-s":A()}],"rounded-e":[{"rounded-e":A()}],"rounded-t":[{"rounded-t":A()}],"rounded-r":[{"rounded-r":A()}],"rounded-b":[{"rounded-b":A()}],"rounded-l":[{"rounded-l":A()}],"rounded-ss":[{"rounded-ss":A()}],"rounded-se":[{"rounded-se":A()}],"rounded-ee":[{"rounded-ee":A()}],"rounded-es":[{"rounded-es":A()}],"rounded-tl":[{"rounded-tl":A()}],"rounded-tr":[{"rounded-tr":A()}],"rounded-br":[{"rounded-br":A()}],"rounded-bl":[{"rounded-bl":A()}],"border-w":[{border:V()}],"border-w-x":[{"border-x":V()}],"border-w-y":[{"border-y":V()}],"border-w-s":[{"border-s":V()}],"border-w-e":[{"border-e":V()}],"border-w-t":[{"border-t":V()}],"border-w-r":[{"border-r":V()}],"border-w-b":[{"border-b":V()}],"border-w-l":[{"border-l":V()}],"divide-x":[{"divide-x":V()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":V()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:["solid","dashed","dotted","double","hidden","none"]}],"divide-style":[{divide:["solid","dashed","dotted","double","hidden","none"]}],"border-color":[{border:P()}],"border-color-x":[{"border-x":P()}],"border-color-y":[{"border-y":P()}],"border-color-s":[{"border-s":P()}],"border-color-e":[{"border-e":P()}],"border-color-t":[{"border-t":P()}],"border-color-r":[{"border-r":P()}],"border-color-b":[{"border-b":P()}],"border-color-l":[{"border-l":P()}],"divide-color":[{divide:P()}],"outline-style":[{outline:["solid","dashed","dotted","double","none","hidden"]}],"outline-offset":[{"outline-offset":[_e,Ze,Ge]}],"outline-w":[{outline:["",_e,Xe,He]}],"outline-color":[{outline:P()}],shadow:[{shadow:["","none",u,st,Qe]}],"shadow-color":[{shadow:P()}],"inset-shadow":[{"inset-shadow":["none",d,st,Qe]}],"inset-shadow-color":[{"inset-shadow":P()}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:P()}],"ring-offset-w":[{"ring-offset":[_e,He]}],"ring-offset-color":[{"ring-offset":P()}],"inset-ring-w":[{"inset-ring":V()}],"inset-ring-color":[{"inset-ring":P()}],"text-shadow":[{"text-shadow":["none",m,st,Qe]}],"text-shadow-color":[{"text-shadow":P()}],opacity:[{opacity:[_e,Ze,Ge]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[_e]}],"mask-image-linear-from-pos":[{"mask-linear-from":U()}],"mask-image-linear-to-pos":[{"mask-linear-to":U()}],"mask-image-linear-from-color":[{"mask-linear-from":P()}],"mask-image-linear-to-color":[{"mask-linear-to":P()}],"mask-image-t-from-pos":[{"mask-t-from":U()}],"mask-image-t-to-pos":[{"mask-t-to":U()}],"mask-image-t-from-color":[{"mask-t-from":P()}],"mask-image-t-to-color":[{"mask-t-to":P()}],"mask-image-r-from-pos":[{"mask-r-from":U()}],"mask-image-r-to-pos":[{"mask-r-to":U()}],"mask-image-r-from-color":[{"mask-r-from":P()}],"mask-image-r-to-color":[{"mask-r-to":P()}],"mask-image-b-from-pos":[{"mask-b-from":U()}],"mask-image-b-to-pos":[{"mask-b-to":U()}],"mask-image-b-from-color":[{"mask-b-from":P()}],"mask-image-b-to-color":[{"mask-b-to":P()}],"mask-image-l-from-pos":[{"mask-l-from":U()}],"mask-image-l-to-pos":[{"mask-l-to":U()}],"mask-image-l-from-color":[{"mask-l-from":P()}],"mask-image-l-to-color":[{"mask-l-to":P()}],"mask-image-x-from-pos":[{"mask-x-from":U()}],"mask-image-x-to-pos":[{"mask-x-to":U()}],"mask-image-x-from-color":[{"mask-x-from":P()}],"mask-image-x-to-color":[{"mask-x-to":P()}],"mask-image-y-from-pos":[{"mask-y-from":U()}],"mask-image-y-to-pos":[{"mask-y-to":U()}],"mask-image-y-from-color":[{"mask-y-from":P()}],"mask-image-y-to-color":[{"mask-y-to":P()}],"mask-image-radial":[{"mask-radial":[Ze,Ge]}],"mask-image-radial-from-pos":[{"mask-radial-from":U()}],"mask-image-radial-to-pos":[{"mask-radial-to":U()}],"mask-image-radial-from-color":[{"mask-radial-from":P()}],"mask-image-radial-to-color":[{"mask-radial-to":P()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"]}],"mask-image-conic-pos":[{"mask-conic":[_e]}],"mask-image-conic-from-pos":[{"mask-conic-from":U()}],"mask-image-conic-to-pos":[{"mask-conic-to":U()}],"mask-image-conic-from-color":[{"mask-conic-from":P()}],"mask-image-conic-to-color":[{"mask-conic-to":P()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:j()}],"mask-repeat":[{mask:["no-repeat",{repeat:["","x","y","space","round"]}]}],"mask-size":[{mask:T()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ze,Ge]}],filter:[{filter:["","none",Ze,Ge]}],blur:[{blur:_()}],brightness:[{brightness:[_e,Ze,Ge]}],contrast:[{contrast:[_e,Ze,Ge]}],"drop-shadow":[{"drop-shadow":["","none",p,st,Qe]}],"drop-shadow-color":[{"drop-shadow":P()}],grayscale:[{grayscale:["",_e,Ze,Ge]}],"hue-rotate":[{"hue-rotate":[_e,Ze,Ge]}],invert:[{invert:["",_e,Ze,Ge]}],saturate:[{saturate:[_e,Ze,Ge]}],sepia:[{sepia:["",_e,Ze,Ge]}],"backdrop-filter":[{"backdrop-filter":["","none",Ze,Ge]}],"backdrop-blur":[{"backdrop-blur":_()}],"backdrop-brightness":[{"backdrop-brightness":[_e,Ze,Ge]}],"backdrop-contrast":[{"backdrop-contrast":[_e,Ze,Ge]}],"backdrop-grayscale":[{"backdrop-grayscale":["",_e,Ze,Ge]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[_e,Ze,Ge]}],"backdrop-invert":[{"backdrop-invert":["",_e,Ze,Ge]}],"backdrop-opacity":[{"backdrop-opacity":[_e,Ze,Ge]}],"backdrop-saturate":[{"backdrop-saturate":[_e,Ze,Ge]}],"backdrop-sepia":[{"backdrop-sepia":["",_e,Ze,Ge]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":x()}],"border-spacing-x":[{"border-spacing-x":x()}],"border-spacing-y":[{"border-spacing-y":x()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ze,Ge]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[_e,"initial",Ze,Ge]}],ease:[{ease:["linear","initial",y,Ze,Ge]}],delay:[{delay:[_e,Ze,Ge]}],animate:[{animate:["none",b,Ze,Ge]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[h,Ze,Ge]}],"perspective-origin":[{"perspective-origin":v()}],rotate:[{rotate:O()}],"rotate-x":[{"rotate-x":O()}],"rotate-y":[{"rotate-y":O()}],"rotate-z":[{"rotate-z":O()}],scale:[{scale:R()}],"scale-x":[{"scale-x":R()}],"scale-y":[{"scale-y":R()}],"scale-z":[{"scale-z":R()}],"scale-3d":["scale-3d"],skew:[{skew:L()}],"skew-x":[{"skew-x":L()}],"skew-y":[{"skew-y":L()}],transform:[{transform:[Ze,Ge,"","none","gpu","cpu"]}],"transform-origin":[{origin:v()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:M()}],"translate-x":[{"translate-x":M()}],"translate-y":[{"translate-y":M()}],"translate-z":[{"translate-z":M()}],"translate-none":["translate-none"],accent:[{accent:P()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:P()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ze,Ge]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":x()}],"scroll-mx":[{"scroll-mx":x()}],"scroll-my":[{"scroll-my":x()}],"scroll-ms":[{"scroll-ms":x()}],"scroll-me":[{"scroll-me":x()}],"scroll-mt":[{"scroll-mt":x()}],"scroll-mr":[{"scroll-mr":x()}],"scroll-mb":[{"scroll-mb":x()}],"scroll-ml":[{"scroll-ml":x()}],"scroll-p":[{"scroll-p":x()}],"scroll-px":[{"scroll-px":x()}],"scroll-py":[{"scroll-py":x()}],"scroll-ps":[{"scroll-ps":x()}],"scroll-pe":[{"scroll-pe":x()}],"scroll-pt":[{"scroll-pt":x()}],"scroll-pr":[{"scroll-pr":x()}],"scroll-pb":[{"scroll-pb":x()}],"scroll-pl":[{"scroll-pl":x()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ze,Ge]}],fill:[{fill:["none",...P()]}],"stroke-w":[{stroke:[_e,Xe,He,Ke]}],stroke:[{stroke:["none",...P()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}});function ht(...e){return ft(T(e))}const gt=ce("inline-flex items-center justify-center rounded-lg text-sm font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background active:scale-[0.98] select-none touch-manipulation",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-sm hover:shadow-md active:bg-primary/80",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-sm hover:shadow-md active:bg-destructive/80",outline:"border border-input hover:bg-accent hover:text-accent-foreground shadow-sm hover:shadow-md active:bg-accent/80",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 shadow-sm hover:shadow-md active:bg-secondary/70",ghost:"hover:bg-accent hover:text-accent-foreground active:bg-accent/50",link:"underline-offset-4 hover:underline text-primary shadow-none hover:shadow-none active:text-primary/80",success:"bg-success text-success-foreground hover:bg-success/90 shadow-sm hover:shadow-md active:bg-success/80",warning:"bg-warning text-warning-foreground hover:bg-warning/90 shadow-sm hover:shadow-md active:bg-warning/80",gradient:"bg-gradient-to-r from-primary to-accent text-primary-foreground hover:from-primary/90 hover:to-accent/90 shadow-lg hover:shadow-xl active:from-primary/80 active:to-accent/80"},size:{xs:"h-8 px-2 text-xs rounded-md min-h-[32px] min-w-[32px]",sm:"h-9 px-3 text-xs rounded-md min-h-[36px] min-w-[36px]",default:"h-12 py-2 px-4 min-h-[44px] min-w-[44px]",lg:"h-12 px-6 text-base rounded-lg min-h-[48px] min-w-[48px]",xl:"h-16 px-8 text-lg rounded-xl min-h-[56px] min-w-[56px]",icon:"h-12 w-12 min-h-[44px] min-w-[44px]","icon-sm":"h-9 w-9 min-h-[36px] min-w-[36px]","icon-lg":"h-14 w-14 min-h-[48px] min-w-[48px]"},shape:{default:"",square:"rounded-none",pill:"rounded-full",circle:"rounded-full"}},defaultVariants:{variant:"default",size:"default",shape:"default"}}),yt=r.forwardRef(({className:e,variant:n,size:s,shape:a,type:i="button",loading:o=!1,leftIcon:c,rightIcon:l,fullWidth:u=!1,hapticFeedback:d=!0,longPress:m=!1,onLongPress:p,longPressDelay:f=500,ripple:h=!0,disabled:y,onClick:b,onTouchStart:v,onTouchEnd:x,onMouseDown:w,onMouseUp:k,children:N,...D},E)=>{const S=y||o,C=r.useRef(),P=r.useRef([]),[j,T]=r.useState(!1),[I,A]=r.useState(!1),[V,U]=r.useState([]),_=r.useCallback(()=>{d&&"vibrate"in navigator&&navigator.vibrate(50)},[d]),O=r.useCallback(e=>{S||(T(!0),v?.(e),m&&p&&(C.current=setTimeout(()=>{A(!0),_(),p()},f)))},[S,m,p,f,v,_]),R=r.useCallback(e=>{T(!1),A(!1),x?.(e),C.current&&clearTimeout(C.current)},[x]),L=r.useCallback(e=>{S||(T(!0),w?.(e),m&&p&&(C.current=setTimeout(()=>{A(!0),p()},f)))},[S,m,p,f,w]),M=r.useCallback(e=>{T(!1),A(!1),k?.(e),C.current&&clearTimeout(C.current)},[k]),F=r.useCallback(e=>{if(!S&&!I){if(h){const t=e.currentTarget.getBoundingClientRect(),r=e.clientX-t.left,n=e.clientY-t.top,s=Date.now();U(e=>[...e,{x:r,y:n,id:s}]);const a=setTimeout(()=>{U(e=>e.filter(e=>e.id!==s)),P.current=P.current.filter(e=>e!==a)},600);P.current.push(a)}_(),b?.(e)}},[S,I,h,_,b]);return r.useEffect(()=>()=>{C.current&&clearTimeout(C.current);for(const e of P.current)clearTimeout(e);P.current=[]},[]),t.jsxDEV("button",{className:ht(gt({variant:n,size:s,shape:a,className:e}),u&&"w-full",o&&"cursor-wait",j&&"scale-95",I&&"ring-2 ring-primary ring-opacity-50",h&&"relative overflow-hidden","touch-manipulation select-none"),ref:E,type:i,disabled:S,"aria-disabled":S,"aria-pressed":j,onClick:F,onTouchStart:O,onTouchEnd:R,onMouseDown:L,onMouseUp:M,...D,children:[h&&V.map(e=>t.jsxDEV("span",{className:"absolute bg-white/30 rounded-full pointer-events-none animate-ripple",style:{left:e.x,top:e.y,width:"20px",height:"20px",transform:"translate(-50%, -50%)"}},e.id,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Button.tsx",lineNumber:244,columnNumber:13},void 0)),o&&t.jsxDEV(g,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":"true"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Button.tsx",lineNumber:257,columnNumber:21},void 0),!o&&c&&t.jsxDEV("span",{className:"mr-2 flex-shrink-0","aria-hidden":"true",children:c},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Button.tsx",lineNumber:259,columnNumber:11},void 0),t.jsxDEV("span",{className:ht("flex items-center justify-center",o&&"opacity-70"),children:N},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Button.tsx",lineNumber:263,columnNumber:9},void 0),!o&&l&&t.jsxDEV("span",{className:"ml-2 flex-shrink-0","aria-hidden":"true",children:l},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Button.tsx",lineNumber:267,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Button.tsx",lineNumber:219,columnNumber:7},void 0)});yt.displayName="Button";const bt=ce("rounded-lg border bg-card text-card-foreground shadow-md transition-all duration-200",{variants:{variant:{default:"border-border",elevated:"shadow-2xl hover:shadow-2xl/80",outlined:"border-2 shadow-none",filled:"bg-muted/50 border-muted",ghost:"border-transparent shadow-none bg-transparent",gradient:"bg-gradient-to-br from-card to-muted/50 border-muted/50",accented:"border-2 border-primary/40 shadow-2xl hover:shadow-2xl/80"},padding:{none:"p-0",sm:"p-3",default:"p-6",lg:"p-8",xl:"p-10"},hover:{none:"",lift:"hover:-translate-y-1.5 hover:shadow-2xl/70",glow:"hover:shadow-2xl hover:shadow-primary/15",scale:"hover:scale-[1.02] hover:shadow-lg"}},defaultVariants:{variant:"default",padding:"default",hover:"none"}}),vt=r.forwardRef(({className:e,variant:r,padding:n,hover:s,...a},i)=>t.jsxDEV("div",{ref:i,className:ht(bt({variant:r,padding:n,hover:s,className:e})),...a,children:["severity"in a&&a.severity?t.jsxDEV("div",{"aria-hidden":!0,className:ht("absolute -top-2 -left-2 h-2 w-12 rounded-b-md"),style:{backgroundColor:"low"===a.severity?"rgb(var(--color-pain-none))":"medium"===a.severity?"rgb(var(--color-pain-mild))":"high"===a.severity?"rgb(var(--color-pain-severe))":"rgb(var(--color-pain-extreme))"}},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Card.tsx",lineNumber:59,columnNumber:9},void 0):null,a.children]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Card.tsx",lineNumber:56,columnNumber:5},void 0));vt.displayName="Card";const xt=r.forwardRef(({className:e,...r},n)=>t.jsxDEV("div",{ref:n,className:ht("flex items-center justify-between space-x-3 pb-4",e),...r},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Card.tsx",lineNumber:82,columnNumber:5},void 0));xt.displayName="CardHeader";const wt=r.forwardRef(({className:e,...r},n)=>t.jsxDEV("h2",{ref:n,className:ht("text-2xl font-semibold leading-none tracking-tight",e),...r},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Card.tsx",lineNumber:93,columnNumber:5},void 0));wt.displayName="CardTitle";const kt=r.forwardRef(({className:e,...r},n)=>t.jsxDEV("p",{ref:n,className:ht("text-sm text-muted-foreground",e),...r},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Card.tsx",lineNumber:106,columnNumber:3},void 0));kt.displayName="CardDescription";const Nt=r.forwardRef(({className:e,...r},n)=>t.jsxDEV("div",{ref:n,className:ht("pt-0",e),...r},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Card.tsx",lineNumber:111,columnNumber:37},void 0));Nt.displayName="CardContent";r.forwardRef(({className:e,...r},n)=>t.jsxDEV("div",{ref:n,className:ht("flex items-center pt-4",e),...r},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Card.tsx",lineNumber:117,columnNumber:5},void 0)).displayName="CardFooter";r.forwardRef(({className:e,...r},n)=>t.jsxDEV(vt,{ref:n,className:ht("cursor-pointer hover:shadow-md transition-shadow",e),...r},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Card.tsx",lineNumber:124,columnNumber:3},void 0)).displayName="CardAction";r.forwardRef(({className:e,children:r,...n},s)=>t.jsxDEV(vt,{ref:s,variant:"elevated",className:ht("text-center",e),...n,children:r},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Card.tsx",lineNumber:134,columnNumber:5},void 0)).displayName="CardStats";const Dt=r.forwardRef(({className:e,type:n,label:s,error:a,helperText:i,startIcon:o,endIcon:c,fullWidth:l=!1,variant:u="default",mobileOptimized:d=!0,inputMode:m,autoComplete:p,autoCapitalize:f,autoCorrect:h,spellCheck:g,id:v,required:x,disabled:w,...k},N)=>{const[D,E]=r.useState(!1),[S]=r.useState(v||`input-${Math.random().toString(36).substr(2,9)}`),[C,P]=r.useState(n);r.useEffect(()=>{P("password"===n&&D?"text":n)},[n,D]);const j=(()=>{if(!d)return{};const e={style:{fontSize:"16px"},"data-mobile-optimized":"true"};return m?e.inputMode=m:"number"===n?e.inputMode="decimal":"email"===n?e.inputMode="email":"tel"===n?e.inputMode="tel":"url"===n&&(e.inputMode="url"),p&&(e.autoComplete=p),f&&(e.autoCapitalize=f),void 0!==h&&(e.autoCorrect=h),void 0!==g&&(e.spellCheck=g),e})(),T=ht("flex h-12 w-full rounded-md border border-gray-300 bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-offset-1 focus-visible:ring-blue-500 disabled:cursor-not-allowed disabled:opacity-50 transition-colors duration-200","filled"===u&&"bg-muted/50 border-muted","outlined"===u&&"border-2",a&&"border-red-500 focus:ring-red-500 focus-visible:ring-red-500",o&&"pl-12",(c||"password"===n)&&"pr-12",l&&"w-full",d&&"mobile-keyboard-optimized touch-manipulation");return t.jsxDEV("div",{className:ht("space-y-2",l&&"w-full",d&&"mobile-form-spacing"),children:[s&&t.jsxDEV("label",{htmlFor:S,className:ht("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",a&&"text-destructive"),children:[s,x&&t.jsxDEV("span",{className:"text-destructive ml-1","aria-label":"required",children:"*"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Input.tsx",lineNumber:140,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Input.tsx",lineNumber:131,columnNumber:11},void 0),t.jsxDEV("div",{className:"relative",children:[o&&t.jsxDEV("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-muted-foreground z-10",children:o},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Input.tsx",lineNumber:149,columnNumber:13},void 0),t.jsxDEV("input",{id:S,type:C,className:ht(T,e),ref:N,disabled:w,"aria-invalid":a?"true":"false","aria-describedby":a?`${S}-error`:i?`${S}-helper`:void 0,...j,...k},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Input.tsx",lineNumber:154,columnNumber:11},void 0),"password"===n&&t.jsxDEV("button",{type:"button",onClick:()=>{E(!D)},className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors z-10 min-h-[44px] min-w-[44px] flex items-center justify-center","aria-label":D?"Hide password":"Show password",tabIndex:-1,children:D?t.jsxDEV(y,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Input.tsx",lineNumber:176,columnNumber:31},void 0):t.jsxDEV(b,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Input.tsx",lineNumber:176,columnNumber:64},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Input.tsx",lineNumber:169,columnNumber:13},void 0),c&&"password"!==n&&t.jsxDEV("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground z-10",children:c},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Input.tsx",lineNumber:181,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Input.tsx",lineNumber:147,columnNumber:9},void 0),a&&t.jsxDEV("p",{id:`${S}-error`,className:"text-sm text-destructive",role:"alert","aria-live":"polite",children:a},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Input.tsx",lineNumber:188,columnNumber:11},void 0),i&&!a&&t.jsxDEV("p",{id:`${S}-helper`,className:"text-sm text-muted-foreground",children:i},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Input.tsx",lineNumber:199,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Input.tsx",lineNumber:127,columnNumber:7},void 0)});Dt.displayName="Input";const Et=ce("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-success text-success-foreground hover:bg-success/80",warning:"border-transparent bg-warning text-warning-foreground hover:bg-warning/80",info:"border-transparent bg-info text-info-foreground hover:bg-info/80"},size:{sm:"px-2 py-0.5 text-xs",default:"px-2.5 py-0.5 text-xs",lg:"px-3 py-1 text-sm"}},defaultVariants:{variant:"default",size:"default"}}),St=r.forwardRef(({className:e,variant:r,size:n,removable:s=!1,onRemove:a,children:i,...o},c)=>t.jsxDEV("div",{ref:c,className:ht(Et({variant:r,size:n}),e),...o,children:t.jsxDEV("span",{className:"flex items-center",children:[i,s&&a&&t.jsxDEV("button",{onClick:a,className:"ml-1 rounded-full hover:bg-black/10 p-0.5 -mr-1","aria-label":"Remove",children:t.jsxDEV(v,{className:"h-3 w-3"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Badge.tsx",lineNumber:58,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Badge.tsx",lineNumber:53,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Badge.tsx",lineNumber:50,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Badge.tsx",lineNumber:49,columnNumber:7},void 0));St.displayName="Badge";const Ct=ce("animate-spin",{variants:{size:{xs:"h-3 w-3",sm:"h-4 w-4",default:"h-6 w-6",lg:"h-8 w-8",xl:"h-12 w-12"},variant:{default:"text-muted-foreground",primary:"text-primary",secondary:"text-secondary",destructive:"text-destructive",success:"text-success",warning:"text-warning"}},defaultVariants:{size:"default",variant:"default"}});r.forwardRef(({className:e,size:r,variant:n,text:s,fullScreen:a=!1,overlay:i=!1,...o},c)=>{const l=t.jsxDEV("div",{ref:c,className:ht("flex flex-col items-center justify-center gap-2",a&&"fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",i&&"absolute inset-0 z-10 bg-background/50 backdrop-blur-sm rounded-lg",e),...o,children:[t.jsxDEV(g,{className:ht(Ct({size:r,variant:n}))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Loading.tsx",lineNumber:56,columnNumber:9},void 0),s&&t.jsxDEV("p",{className:"text-sm text-muted-foreground animate-pulse",children:s},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Loading.tsx",lineNumber:57,columnNumber:18},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Loading.tsx",lineNumber:46,columnNumber:7},void 0);return a||i?l:t.jsxDEV("div",{className:"flex items-center justify-center p-4",children:l},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Loading.tsx",lineNumber:65,columnNumber:12},void 0)}).displayName="Loading";r.forwardRef(({className:e,...r},n)=>t.jsxDEV("div",{ref:n,className:ht("flex space-x-1",e),...r,children:[t.jsxDEV("div",{className:"w-2 h-2 bg-current rounded-full animate-bounce [animation-delay:-0.3s]"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Loading.tsx",lineNumber:73,columnNumber:7},void 0),t.jsxDEV("div",{className:"w-2 h-2 bg-current rounded-full animate-bounce [animation-delay:-0.15s]"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Loading.tsx",lineNumber:74,columnNumber:7},void 0),t.jsxDEV("div",{className:"w-2 h-2 bg-current rounded-full animate-bounce"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Loading.tsx",lineNumber:75,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Loading.tsx",lineNumber:72,columnNumber:5},void 0)).displayName="LoadingDots";r.forwardRef(({className:e,lines:r=1,height:n="h-4",...s},a)=>t.jsxDEV("div",{ref:a,className:ht("space-y-2",e),...s,children:Array.from({length:r}).map((e,s)=>t.jsxDEV("div",{className:ht("bg-muted animate-pulse rounded",n,s===r-1&&r>1?"w-3/4":"w-full")},s,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Loading.tsx",lineNumber:90,columnNumber:7},void 0))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Loading.tsx",lineNumber:88,columnNumber:3},void 0)).displayName="LoadingSkeleton",e.createContext(void 0);const Pt=e=>{if("undefined"!=typeof window){return`${"/"}${e}`.replace(/\/+/g,"/")}return e.startsWith("/")?e:`/${e}`},jt={colors:{primary:{500:"#0ea5e9",600:"#0284c7",700:"#0369a1"},secondary:{500:"#22c55e",700:"#15803d"},accent:{400:"#c084fc",500:"#a855f7",700:"#7c3aed"},pain:{none:"#10b981",mild:"#84cc16",moderate:"#eab308",severe:"#f59e0b",extreme:"#ef4444"},status:{success:"#22c55e",warning:"#f59e0b",error:"#ef4444",info:"#3b82f6"},neutral:{0:"#ffffff",500:"#64748b",600:"#475569"}},typography:{fonts:{sans:["Inter","-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","sans-serif"],mono:["Fira Code","Monaco","Consolas","Liberation Mono","Courier New","monospace"],display:["Cal Sans","Inter","system-ui","sans-serif"]}},logos:{primary:Pt("logos/pain-tracker-logo.svg"),wordmark:Pt("logos/pain-tracker-wordmark.svg"),icon:Pt("logos/pain-tracker-icon.svg"),iconWhite:Pt("logos/pain-tracker-icon-white.svg"),appIcon:Pt("icons/app-icon-512.png"),favicon:Pt("icons/favicon.ico")},visual:{borderRadius:{md:"0.5rem"},shadows:{sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)"}},motion:{duration:{fast:"150ms",normal:"300ms",slow:"500ms"},easing:{ease:"cubic-bezier(0.4, 0, 0.2, 1)"}}},Tt={":root":{"--color-primary":jt.colors.primary[500],"--color-primary-foreground":jt.colors.neutral[0],"--color-secondary":jt.colors.secondary[500],"--color-secondary-foreground":jt.colors.neutral[0],"--color-accent":jt.colors.accent[500],"--color-accent-foreground":jt.colors.neutral[0],"--color-pain-none":jt.colors.pain.none,"--color-pain-mild":jt.colors.pain.mild,"--color-pain-moderate":jt.colors.pain.moderate,"--color-pain-severe":jt.colors.pain.severe,"--color-pain-extreme":jt.colors.pain.extreme,"--font-sans":jt.typography.fonts.sans.join(", "),"--font-mono":jt.typography.fonts.mono.join(", "),"--font-display":jt.typography.fonts.display.join(", "),"--radius":jt.visual.borderRadius.md,"--shadow-sm":jt.visual.shadows.sm,"--shadow-md":jt.visual.shadows.md,"--shadow-lg":jt.visual.shadows.lg,"--duration-fast":jt.motion.duration.fast,"--duration-normal":jt.motion.duration.normal,"--duration-slow":jt.motion.duration.slow,"--easing":jt.motion.easing.ease}},It=e=>{if("undefined"!=typeof window&&"undefined"!=typeof document)try{const t=getComputedStyle(document.documentElement).getPropertyValue(`--${e}`).trim();if(t)return t}catch(t){}try{if(Tt&&Tt[":root"]&&Object.prototype.hasOwnProperty.call(Tt[":root"],`--${e}`))return Tt[":root"][`--${e}`]}catch{}return jt.colors.neutral?.[500]},At="undefined"!=typeof window&&window?.document?.documentElement||null;function Vt(e,t=1){if(!e)return`rgba(0,0,0,${t})`;const r=e.match(/^#([0-9a-fA-F]{6})$/);if(r){const e=r[1];return`rgba(${parseInt(e.substr(0,2),16)}, ${parseInt(e.substr(2,2),16)}, ${parseInt(e.substr(4,2),16)}, ${t})`}const n=e.match(/(\d+)\s*(?:[, ])\s*(\d+)\s*(?:[, ])\s*(\d+)/)||e.match(/(\d+)\s+(\d+)\s+(\d+)/);if(n){return`rgba(${Number(n[1])}, ${Number(n[2])}, ${Number(n[3])}, ${t})`}return`rgba(0,0,0,${t})`}function Ut(e,t,r=1){const n=function(e){try{if(!At)return null;const t=getComputedStyle(At).getPropertyValue(e).trim();if(!t)return null;if(t.startsWith("#"))return t;const r=t.replace(/,/g," ").replace(/\s+/g," ").trim().split(" ");if(3===r.length&&r.every(e=>/^\d+$/.test(e))){const[e,t,n]=r.map(Number);return`rgb(${e} ${t} ${n})`}return t||null}catch{return null}}(e);return n?Vt(n,r):t?Vt(t,r):`rgba(0,0,0,${r})`}const _t={pain:{none:Ut("--color-pain-none",jt.colors.pain.none),mild:Ut("--color-pain-mild",jt.colors.pain.mild),moderate:Ut("--color-pain-moderate",jt.colors.pain.moderate),severe:Ut("--color-pain-severe",jt.colors.pain.severe),extreme:Ut("--color-pain-extreme",jt.colors.pain.extreme)},treatment:{primary:Ut("--chart-series-2",jt.colors.secondary[500]),medication:Ut("--chart-series-3",jt.colors.accent[500]),therapy:Ut("--chart-series-1",jt.colors.primary[600]),lifestyle:Ut("--chart-series-6",jt.colors.neutral[600])},analytics:{trend:Ut("--chart-series-1",jt.colors.primary[500]),average:Ut("--chart-series-2",jt.colors.secondary[500]),prediction:Ut("--chart-series-3",jt.colors.accent[400]),baseline:Ut("--chart-series-6",jt.colors.neutral[500])},status:{normal:Ut("--chart-series-1",jt.colors.status.info),warning:Ut("--chart-series-4",jt.colors.status.warning),critical:Ut("--chart-series-6",jt.colors.status.error),success:Ut("--chart-series-2",jt.colors.status.success)},series:[Ut("--chart-series-1",jt.colors.primary[500]),Ut("--chart-series-2",jt.colors.secondary[500]),Ut("--chart-series-3",jt.colors.accent[500]),Ut("--chart-series-4",jt.colors.pain.severe),Ut("--chart-series-5",jt.colors.pain.moderate),Ut("--chart-series-6",jt.colors.neutral[600]),Ut("--chart-series-1",jt.colors.primary[700]),Ut("--chart-series-2",jt.colors.secondary[700]),Ut("--chart-series-3",jt.colors.accent[700]),Ut("--chart-series-6",jt.colors.pain.extreme)]},Ot=(e,t="series")=>{const r=_t[t];if(Array.isArray(r))return r[e%r.length];if("object"==typeof r&&null!==r){const t=Object.values(r);return String(t[e%t.length])}return _t.series[e%_t.series.length]},Rt=(e,t=.2,r="series")=>{const n=Ot(e,r);return n.startsWith("rgba")?n.replace(/rgba\((\d+),\s*(\d+),\s*(\d+),\s*([0-9.]+)\)/,`rgba($1, $2, $3, ${t})`):Vt(n,t)};Rt(0,.1,"analytics");const Lt=I;function Mt(e,t,r=0){const n={...e,...Ft(e,r),borderWidth:e.borderWidth??2,tension:e.tension??.4,fill:zt(e,t)};return"line"===t&&function(e,t){e.pointBackgroundColor=Bt(t.backgroundColor,e.backgroundColor),e.pointBorderColor=Bt(t.borderColor,e.borderColor)}(n,e),n}function Ft(e,t){const r=Ot(t),n=Rt(t,.1);return{borderColor:e.borderColor??r,backgroundColor:e.backgroundColor??n}}function zt(e,t){return"boolean"==typeof e.fill?e.fill:"line"===t}function Bt(e,t){return Array.isArray(e)?e:t}function Wt({data:e,type:n="line",title:s,summary:a,height:i=300,className:o,config:c={}}){const{responsive:l=!0,maintainAspectRatio:u=!1,showLegend:d=!0,showTitle:m=!0,scales:p,plugins:f}=c,h=r.useMemo(()=>({labels:e.labels,datasets:e.datasets.map((e,t)=>Mt(e,n,t))}),[e,n]),g=r.useMemo(()=>({responsive:l,maintainAspectRatio:u,devicePixelRatio:"undefined"!=typeof window&&window.devicePixelRatio||1,interaction:{mode:"index",intersect:!1,includeInvisible:!1},plugins:{legend:{display:d,labels:{color:It("color-foreground"),padding:"undefined"!=typeof window&&window.innerWidth<768?20:10,usePointStyle:!0,pointStyle:"circle"},position:"undefined"!=typeof window&&window.innerWidth<768?"bottom":"top"},title:{display:m&&!!s,text:s,color:It("color-foreground")},tooltip:{enabled:!0,mode:"nearest",intersect:!1,backgroundColor:It("color-card"),titleColor:It("color-foreground"),bodyColor:It("color-foreground"),borderColor:It("color-border"),borderWidth:1,padding:12,titleFont:{size:"undefined"!=typeof window&&window.innerWidth<768?14:12},bodyFont:{size:"undefined"!=typeof window&&window.innerWidth<768?13:11},position:"nearest",yAlign:"bottom",callbacks:{label:function(e){return function(e){try{const t=e.dataset,r=e.dataIndex,n=e.dataset.label??"";let s=`${n}: ${e.parsed?.y??e.parsed??e.raw??""}`;return t._meta&&t._meta[r]&&(s+=function(e){let t="";"number"==typeof e.count&&(t+=`  ${e.count} entr${1===e.count?"y":"ies"}`);const r=[];e.notes&&r.push(`${e.notes} notes`);e.meds&&r.push(`${e.meds} meds`);r.length&&(t+=` (${r.join(", ")})`);return t}(t._meta[r])),s}catch{const t=e.dataset.label;return t?`${t}: ${e.formattedValue}`:`${e.formattedValue}`}}(e)}}},zoom:{pan:{enabled:!0,mode:"xy",threshold:10},zoom:{wheel:{enabled:!1},pinch:{enabled:!0},mode:"xy"}},...f},elements:{point:{radius:"undefined"!=typeof window&&window.innerWidth<768?4:3,hoverRadius:"undefined"!=typeof window&&window.innerWidth<768?8:6,borderWidth:2},line:{tension:.35},bar:{borderRadius:"undefined"!=typeof window&&window.innerWidth<768?2:0}},animation:{duration:"undefined"!=typeof window&&window.innerWidth<768?200:400,easing:"easeOutQuart"},scales:"doughnut"!==n&&"radar"!==n?{x:{ticks:{color:It("color-foreground"),maxTicksLimit:"undefined"!=typeof window&&window.innerWidth<768?5:10,font:{size:"undefined"!=typeof window&&window.innerWidth<768?11:12}},grid:{color:It("color-border")},pan:{enabled:!0},zoom:{wheel:{enabled:!1},pinch:{enabled:!0}}},y:{min:0,max:10,ticks:{color:It("color-foreground"),font:{size:"undefined"!=typeof window&&window.innerWidth<768?11:12}},grid:{color:It("color-border")},title:{display:!0,text:"Pain Level"},pan:{enabled:!0},zoom:{wheel:{enabled:!1},pinch:{enabled:!0}}},y1:{position:"right",ticks:{color:It("color-foreground"),font:{size:"undefined"!=typeof window&&window.innerWidth<768?11:12}},grid:{display:!1},title:{display:!0,text:"Entries"},pan:{enabled:!0},zoom:{wheel:{enabled:!1},pinch:{enabled:!0}}},...p}:void 0}),[l,u,d,m,s,n,p,f]),y=a??(s?`${s} chart with ${e.datasets.length} dataset(s)`:"Chart data");return t.jsxDEV(vt,{className:ht("w-full mobile-chart",o),children:t.jsxDEV(Nt,{className:"p-4 md:p-6",children:t.jsxDEV("figure",{"aria-labelledby":s?"chart-title":void 0,children:[s&&t.jsxDEV("figcaption",{id:"chart-title",className:"sr-only",children:s},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Chart.tsx",lineNumber:298,columnNumber:13},this),t.jsxDEV("p",{className:"sr-only",id:"chart-summary",children:y},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Chart.tsx",lineNumber:302,columnNumber:11},this),t.jsxDEV("div",{"aria-describedby":"chart-summary",children:["bar"===n&&t.jsxDEV(U,{data:h,options:g,height:i},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Chart.tsx",lineNumber:307,columnNumber:15},this),"doughnut"===n&&t.jsxDEV(_,{data:h,options:g,height:i},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Chart.tsx",lineNumber:314,columnNumber:15},this),"radar"===n&&t.jsxDEV(O,{data:h,options:g,height:i},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Chart.tsx",lineNumber:321,columnNumber:15},this),"line"===n&&t.jsxDEV(R,{data:h,options:g,height:i},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Chart.tsx",lineNumber:328,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Chart.tsx",lineNumber:305,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Chart.tsx",lineNumber:296,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Chart.tsx",lineNumber:295,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Chart.tsx",lineNumber:294,columnNumber:5},this)}function $t({id:r,type:n,title:s,message:a,duration:i=5e3,action:o,customOnDismiss:c,onDismiss:l}){const[u,d]=e.useState(!0),[p,f]=e.useState(!1),h=e.useRef(!0),g=e.useRef(null);e.useEffect(()=>(h.current=!0,()=>{h.current=!1,g.current&&clearTimeout(g.current)}),[]);const y=e.useCallback(()=>{h.current&&(f(!0),g.current&&clearTimeout(g.current),g.current=setTimeout(()=>{if(h.current){d(!1);try{l(r),c?.()}catch(e){}}},150))},[r,l,c]);e.useEffect(()=>{if(i>0){const e=setTimeout(()=>{y()},i);return()=>clearTimeout(e)}},[i,y]);return u?t.jsxDEV("div",{className:`\n        w-full max-w-sm rounded-lg border p-4 shadow-lg\n        transition-all duration-150 ease-in-out\n        ${(()=>{switch(n){case"success":return"bg-green-50 border-green-200 dark:bg-green-950/30 dark:border-green-800";case"error":return"bg-red-50 border-red-200 dark:bg-red-950/30 dark:border-red-800";case"warning":return"bg-yellow-50 border-yellow-200 dark:bg-yellow-950/30 dark:border-yellow-800";case"info":return"bg-blue-50 border-blue-200 dark:bg-blue-950/30 dark:border-blue-800";default:return"bg-card border-border"}})()}\n        ${p?"opacity-0 transform translate-x-full":"opacity-100 transform translate-x-0"}\n      `,role:"alert","aria-live":"polite",children:t.jsxDEV("div",{className:"flex items-start space-x-3",children:[t.jsxDEV("div",{className:"flex-shrink-0",children:(()=>{switch(n){case"success":return t.jsxDEV(k,{className:"h-5 w-5 text-green-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/Toast.tsx",lineNumber:91,columnNumber:16},this);case"error":return t.jsxDEV(w,{className:"h-5 w-5 text-red-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/Toast.tsx",lineNumber:93,columnNumber:16},this);case"warning":return t.jsxDEV(m,{className:"h-5 w-5 text-yellow-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/Toast.tsx",lineNumber:95,columnNumber:16},this);case"info":return t.jsxDEV(x,{className:"h-5 w-5 text-blue-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/Toast.tsx",lineNumber:97,columnNumber:16},this);default:return t.jsxDEV(x,{className:"h-5 w-5 text-blue-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/Toast.tsx",lineNumber:99,columnNumber:16},this)}})()},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/Toast.tsx",lineNumber:132,columnNumber:9},this),t.jsxDEV("div",{className:"flex-1 min-w-0",children:[t.jsxDEV("h4",{className:"text-sm font-semibold text-foreground",children:s},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/Toast.tsx",lineNumber:135,columnNumber:11},this),a&&t.jsxDEV("p",{className:"text-sm text-muted-foreground mt-1",children:a},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/Toast.tsx",lineNumber:136,columnNumber:23},this),o&&t.jsxDEV("button",{onClick:o.onClick,className:"pointer-events-auto text-sm font-medium text-primary hover:text-primary/80 mt-2 block",children:o.label},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/Toast.tsx",lineNumber:139,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/Toast.tsx",lineNumber:134,columnNumber:9},this),t.jsxDEV("button",{onClick:y,className:"pointer-events-auto flex-shrink-0 text-muted-foreground hover:text-foreground transition-colors","aria-label":"Dismiss notification",children:t.jsxDEV(v,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/Toast.tsx",lineNumber:153,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/Toast.tsx",lineNumber:148,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/Toast.tsx",lineNumber:131,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/Toast.tsx",lineNumber:121,columnNumber:5},this):null}function qt(e,t){return e.filter(e=>e.id!==t)}"undefined"!=typeof window&&!0!==Lt._registered&&(I.register(...A,V),Lt._registered=!0);const Gt=e.createContext(void 0);class Ht extends e.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e,t){}render(){return this.state.hasError?t.jsxDEV("div",{style:{display:"none"},"aria-hidden":"true"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/ToastProvider.tsx",lineNumber:32,columnNumber:14},this):this.props.children}}function Kt({children:r}){const[n,s]=e.useState([]),[a,i]=e.useState([]),o=e=>{s(t=>qt(t,e)),i(t=>qt(t,e))};return t.jsxDEV(Gt.Provider,{value:{addToast:e=>{const t={...e,id:Math.random().toString(36).substring(2,9)};s(e=>function(e,t,r=6){const n=e.find(e=>e.type===t.type&&e.title===t.title&&e.message===t.message);if(n)return[...e.filter(e=>e.id!==n.id),{...n,id:n.id}];const s=[...e,t];return s.length>r?s.slice(s.length-r):s}(e,t))},removeToast:o,clearToasts:()=>{s([]),i([])},addBottomLeftToast:e=>{const t={...e,id:Math.random().toString(36).substring(2,9)};i(e=>function(e,t,r=3){const n=e.find(e=>e.type===t.type&&e.title===t.title&&e.message===t.message);if(n)return[...e.filter(e=>e.id!==n.id),{...n,id:n.id}];const s=[...e,t];return s.length>r?s.slice(s.length-r):s}(e,t))}},children:[r,t.jsxDEV(Ht,{children:t.jsxDEV("div",{className:"fixed top-4 right-4 z-[10002] flex flex-col space-y-2 pointer-events-none",children:n.map(e=>t.jsxDEV($t,{...e,customOnDismiss:e.onDismiss,onDismiss:t=>o(t??e.id)},e.id,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/ToastProvider.tsx",lineNumber:88,columnNumber:13},this))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/ToastProvider.tsx",lineNumber:86,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/ToastProvider.tsx",lineNumber:85,columnNumber:7},this),t.jsxDEV(Ht,{children:t.jsxDEV("div",{className:"fixed bottom-4 left-4 z-[10000] flex flex-col space-y-2 pointer-events-none max-w-[90%]",children:a.map(e=>t.jsxDEV($t,{...e,customOnDismiss:e.onDismiss,onDismiss:t=>o(t??e.id)},e.id,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/ToastProvider.tsx",lineNumber:103,columnNumber:13},this))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/ToastProvider.tsx",lineNumber:101,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/ToastProvider.tsx",lineNumber:100,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/ToastProvider.tsx",lineNumber:79,columnNumber:5},this)}function Yt(){const{addToast:t,removeToast:r,clearToasts:n,addBottomLeftToast:s}=function(){const t=e.useContext(Gt);if(!t)throw new Error("useToastContext must be used within a ToastProvider");return t}();return{success:(e,r,n)=>{t({type:"success",title:e,message:r,action:n})},error:(e,r,n)=>{t({type:"error",title:e,message:r,action:n,duration:7e3})},warning:(e,r,n)=>{t({type:"warning",title:e,message:r,action:n,duration:6e3})},info:(e,r,n)=>{t({type:"info",title:e,message:r,action:n})},bottomLeft:{success:(e,t,r,n)=>{s({type:"success",title:e,message:t,action:r,onDismiss:n?.onDismiss})},error:(e,t,r,n)=>{s({type:"error",title:e,message:t,action:r,duration:7e3,onDismiss:n?.onDismiss})},warning:(e,t,r,n)=>{s({type:"warning",title:e,message:t,action:r,duration:6e3,onDismiss:n?.onDismiss})},info:(e,t,r,n)=>{s({type:"info",title:e,message:t,action:r,onDismiss:n?.onDismiss})}},custom:e=>{t(e)},dismiss:r,clear:n}}const Jt={simplifiedMode:!0,showMemoryAids:!0,autoSave:!0,showProgress:!0,showCognitiveLoadIndicators:!0,adaptiveComplexity:!0,fontSize:"medium",contrast:"normal",reduceMotion:!1,touchTargetSize:"large",confirmationLevel:"standard",voiceInput:!1,gentleLanguage:!0,hideDistressingContent:!1,showComfortPrompts:!0,enableContentWarnings:!0,contentWarningLevel:"standard",enableCrisisDetection:!0,crisisDetectionSensitivity:"medium",showCrisisResources:!0,enableProgressiveDisclosure:!0,defaultDisclosureLevel:"helpful",adaptiveDisclosure:!0,realTimeValidation:!0,theme:"auto",reminderFrequency:"daily"},Qt=e.createContext({preferences:Jt,updatePreferences:()=>{}}),Zt=()=>e.useContext(Qt),Xt=/^[a-z0-9:_-]+$/i;function er(e,t){return`${t||"pt"}:${e}`}const tr={get(e,t){try{if(!Xt.test(e))return null;const r=er(e,t?.namespace),n=localStorage.getItem(r);if(null==n)return null;if('"__SERIALIZATION_ERROR__"'===n)return null;try{let e=n;if(t?.encrypt){const r=t.decryptFn||globalThis.__secureStorageDecrypt;if(!r)return null;try{e=r(n)}catch{return null}}return JSON.parse(e)}catch{return n}}catch{return null}},set(e,t,r){if(!Xt.test(e))return{success:!1,error:"INVALID_KEY"};const n=er(e,r?.namespace);try{const{data:e,bytes:s}=function(e){try{const t="string"==typeof e?e:JSON.stringify(e);return{data:t,truncated:!1,bytes:new Blob([t]).size}}catch{return{data:'"__SERIALIZATION_ERROR__"',truncated:!1,bytes:28}}}(t);if(s>(r?.maxValueSizeBytes??51200))return{success:!1,error:"VALUE_TOO_LARGE",bytes:s};let a=e;if(r?.encrypt){const t=r.encryptFn||globalThis.__secureStorageEncrypt;if(!t)return{success:!1,error:"ENCRYPTION_UNAVAILABLE"};try{a=t(e)}catch{return{success:!1,error:"ENCRYPT_FAILED"}}}return localStorage.setItem(n,a),{success:!0,bytes:s}}catch(s){return{success:!1,error:s.message}}},remove(e,t){try{const r=er(e,t?.namespace);return localStorage.removeItem(r),!0}catch{return!1}},safeJSON(e,t,r){const n=this.get(e,r);return null==n?t:n},keys(e){const t=`${e||"pt"}:`,r=[];for(let n=0;n<localStorage.length;n++){const e=localStorage.key(n);e&&e.startsWith(t)&&r.push(e.slice(t.length))}return r}},rr="log_pain_entry",nr="use_validation",sr="view_progress",ar="export_data",ir="change_accessibility_setting",or="log_mood_entry",cr="complete_onboarding",lr="skip_onboarding";function ur(){const e=(new Date).getHours();return e>=5&&e<12?"morning":e>=12&&e<17?"afternoon":e>=17&&e<21?"evening":"night"}function dr(e,t){if("undefined"!=typeof window&&"function"==typeof window.gtag)try{const r={...t,time_of_day:t?.time_of_day||ur()};window.gtag?.("event",e,r)}catch{}}function mr(e,t){dr(ar,{format:e,entry_count:t})}function pr(){dr(cr)}function fr(){dr(lr)}const hr="pain-tracker:usage-events",gr="pain-tracker:feature-counts",yr="pain-tracker:export-history";function br(e,t){try{const r=localStorage.getItem(e);return r?JSON.parse(r):t}catch{return t}}function vr(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch{}}function xr(e,t,r){const n=br(hr,[]),s={type:e,category:t,timestamp:Date.now(),metadata:r},a=[...n.slice(-499),s];vr(hr,a);const i=br(gr,{}),o=`${t}:${e}`;i[o]=(i[o]||0)+1,vr(gr,i)}function wr(e,t){const r=br(yr,[]),n={type:e,timestamp:Date.now(),recordCount:t},s=[...r.slice(-99),n];vr(yr,s),xr(`export_${e}`,"export",{recordCount:t})}function kr({children:r}){const[n,s]=e.useState(()=>{const e=tr.get("trauma-informed-preferences",{encrypt:!0});if(e)return{...Jt,...e};try{const e=localStorage.getItem("trauma-informed-preferences");if(e){const t=JSON.parse(e);return tr.set("trauma-informed-preferences",t,{encrypt:!0}),{...Jt,...t}}}catch{}return Jt});return e.useEffect(()=>{const e=document.documentElement;e.style.setProperty("--ti-font-size",{small:"14px",medium:"16px",large:"18px",xl:"20px"}[n.fontSize]),e.style.setProperty("--ti-touch-size",(e=>({normal:"44px",large:"56px","extra-large":"72px"}[e]))(n.touchTargetSize));const t=`ti-contrast-${n.contrast}`;document.body.className=document.body.className.replace(/ti-contrast-\w+/g,""),document.body.classList.add(t),n.reduceMotion?document.body.classList.add("ti-reduce-motion"):document.body.classList.remove("ti-reduce-motion"),n.simplifiedMode?document.body.classList.add("ti-simplified"):document.body.classList.remove("ti-simplified")},[n]),t.jsxDEV(Qt.Provider,{value:{preferences:n,updatePreferences:e=>{const t={...n,...e};s(t),tr.set("trauma-informed-preferences",t,{encrypt:!0}),Object.keys(e).forEach(t=>{const r=t,n=e[r];!function(e,t){dr(ir,{setting_name:e,setting_value:t})}(r,String(n)),xr(`accessibility_${r}`,"accessibility",{value:n})})}},children:r},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/TraumaInformedContext.tsx",lineNumber:90,columnNumber:5},this)}const Nr={warmth:0,coachIntensity:0,allowLightness:!1,medicalTerms:!1},Dr=1.5,Er=7,Sr=24;const Cr=new class{measurements=[];detectState(e,t){const r=Array.isArray(e)?e:[];if(0===r.length)return"stable";const n=[...r].sort((e,t)=>new Date(t.timestamp).getTime()-new Date(e.timestamp).getTime()),s=n[0],a=s.baselineData?.pain??s.intensity??0;if(a>=Er)return"flare";if(void 0!==t&&t<Sr)return"recovery";if(n.length>=2){const e=n[1];if(a-(e.baselineData?.pain??e.intensity??0)>=Dr)return"rising"}return"stable"}calculatePainTrend(e){const t=Array.isArray(e)?e:[];if(t.length<2)return;const r=[...t].sort((e,t)=>new Date(t.timestamp).getTime()-new Date(e.timestamp).getTime()),n=r[0].baselineData?.pain??r[0].intensity??0,s=r[1].baselineData?.pain??r[1].intensity??0,a=n-s;return{current:n,previous:s,direction:a>.5?"up":a<-.5?"down":"stable"}}buildContext(e,t,r){return{state:this.detectState(e,r?.timeSinceFlare),preferences:t,painTrend:this.calculatePainTrend(e),timeSinceFlare:r?.timeSinceFlare,sleepQuality:r?.sleepQuality}}selectCopy(e,t){if(e.states){const r=e.states[t.state];if(r)return r}return e.warmth&&1===t.preferences.warmth?e.warmth.warm:e.medical&&t.preferences.medicalTerms?e.medical.withTerms:e.base}generateInsight(e,t=14){const r=Array.isArray(e)?e:[];if(r.length<2)return null;const n=new Date;n.setDate(n.getDate()-t);const s=r.filter(e=>new Date(e.timestamp)>=n);if(s.length<2)return null;const a=s.reduce((e,t)=>e+(t.baselineData?.pain??t.intensity??0),0)/s.length,i=new Date(n);i.setDate(i.getDate()-t);const o=r.filter(e=>new Date(e.timestamp)>=i&&new Date(e.timestamp)<n);if(o.length<2)return{summary:`Last ${t} days: average pain ${a.toFixed(1)}.`,confidence:"low"};const c=o.reduce((e,t)=>e+(t.baselineData?.pain??t.intensity??0),0)/o.length,l=a-c,u=l>0?"":"",d=Math.abs(l),m=s.length>=10?"high":s.length>=5?"medium":"low",p=[];return{summary:`Last ${t} days: average pain ${c.toFixed(1)}  ${a.toFixed(1)} (${u}${d.toFixed(1)}).`,factors:p.length>0?p:void 0,confidence:m}}trackMeasurement(e){this.measurements.push(e),this.persistMeasurement(e)}getAcceptanceRate(e,t){const r=this.measurements.filter(r=>"prompt_acceptance"===r.metric&&r.context.intent===e&&(!t||r.context.state===t));if(0===r.length)return;return r.reduce((e,t)=>e+t.value,0)/r.length}getAverageTimeToCalm(){const e=this.measurements.filter(e=>"time_to_calm"===e.metric);if(0===e.length)return;return e.reduce((e,t)=>e+t.value,0)/e.length}async persistMeasurement(e){try{const t=await this.openDatabase(),r=t.transaction("tone-measurements","readwrite").objectStore("tone-measurements");await r.add(e)}catch(t){}}async openDatabase(){return new Promise((e,t)=>{const r=indexedDB.open("pain-tracker-tone",1);r.onerror=()=>t(r.error),r.onsuccess=()=>e(r.result),r.onupgradeneeded=e=>{const t=e.target.result;t.objectStoreNames.contains("tone-measurements")||t.createObjectStore("tone-measurements",{keyPath:"timestamp",autoIncrement:!0})}})}async loadMeasurements(){try{const e=(await this.openDatabase()).transaction("tone-measurements","readonly"),t=e.objectStore("tone-measurements").getAll();t.onsuccess=()=>{this.measurements=t.result}}catch(e){}}};function Pr(e,t=1){return Number.isNaN(e)||e===1/0||e===-1/0?(0).toFixed(t):e.toFixed(t)}function jr(e){return"[object Date]"===Object.prototype.toString.call(e)}function Tr(e){if(null!=e){if(jr(e))return e.toISOString();if("number"==typeof e)return new Date(e).toISOString();if("string"==typeof e){const t=new Date(e);return isNaN(t.getTime())?void 0:t.toISOString()}}}var Ir={};function Ar(e){if("undefined"!=typeof Buffer)return Buffer.from(e).toString("base64");let t="";const r=new Uint8Array(e);for(let n=0;n<r.byteLength;n++)t+=String.fromCharCode(r[n]);return btoa(t)}function Vr(e){if("undefined"!=typeof Buffer){const t=Buffer.from(e,"base64"),r=t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength);return new Uint8Array(r)}const t=atob(e),r=new ArrayBuffer(t.length),n=new Uint8Array(r);for(let s=0;s<t.length;s++)n[s]=t.charCodeAt(s);return n}class Ur{events=[];encryptionConfig;privacyConfig;sessionId;masterCryptoKey=null;masterHmacKey=null;constructor(e,t){this.encryptionConfig={algorithm:"AES",keySize:256,mode:"CBC",padding:"PKCS7",...e},this.privacyConfig={enableAnalytics:!0,dataRetentionDays:90,anonymizationLevel:"advanced",consentRequired:!0,minimumNoiseLevel:.1,...t},this._isTestEnvCached=Ur.detectTestEnv(),this.sessionId=this.generateSessionId(),this.initializeSecurity()}_isTestEnvCached;isTestEnv(){return this._isTestEnvCached}static detectTestEnv(){try{const e=("undefined"!=typeof process?Ir:void 0)||{},t=!(!e||!e.VITEST&&"test"!==e.NODE_ENV);return t&&"undefined"!=typeof window&&window.location,t}catch{return!1}}generateSessionId(){const e=new Uint8Array(16);return crypto.getRandomValues(e),Array.from(e).map(e=>e.toString(16).padStart(2,"0")).join("")}initializeSecurity(){this.logSecurityEvent({type:"audit",level:"info",message:"Security service initialized",metadata:{encryptionAlgorithm:this.encryptionConfig.algorithm,keySize:this.encryptionConfig.keySize,privacyLevel:this.privacyConfig.anonymizationLevel},timestamp:new Date,sessionId:this.sessionId})}async initializeMasterKey(e){try{const t=crypto.subtle,r="undefined"!=typeof process&&Ir&&Ir.VITEST?500:15e4;if(e){const n=crypto.getRandomValues(new Uint8Array(16)),s=new Uint8Array(n),a=(new TextEncoder).encode(e),i=await t.importKey("raw",a,"PBKDF2",!1,["deriveBits","deriveKey"]);this.masterCryptoKey=await t.deriveKey({name:"PBKDF2",salt:s,iterations:r,hash:"SHA-256"},i,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"]);const o=await t.deriveBits({name:"PBKDF2",salt:s,iterations:r,hash:"SHA-256"},i,256);this.masterHmacKey=await t.importKey("raw",o,{name:"HMAC",hash:"SHA-256"},!1,["sign","verify"])}else this.masterCryptoKey=await crypto.subtle.generateKey({name:"AES-GCM",length:256},!1,["encrypt","decrypt"]),this.masterHmacKey=await crypto.subtle.generateKey({name:"HMAC",hash:"SHA-256"},!1,["sign","verify"]);this.logSecurityEvent({type:"encryption",level:"info",message:"Master key initialized",timestamp:new Date,sessionId:this.sessionId})}catch(t){throw this.logSecurityEvent({type:"encryption",level:"error",message:"Failed to initialize master key",metadata:{error:t instanceof Error?t.message:"Unknown error"},timestamp:new Date,sessionId:this.sessionId}),new Error("Failed to initialize encryption key")}}async encryptData(e,t){try{if(!this.masterCryptoKey||!this.masterHmacKey){if(this.isTestEnv())return JSON.stringify({v:"clear",payload:e});throw new Error("Encryption key not available")}const t=new Uint8Array(12);crypto.getRandomValues(t);const r=(new TextEncoder).encode(e),n=Ar(await crypto.subtle.encrypt({name:"AES-GCM",iv:t},this.masterCryptoKey,r)),s=Ar(await crypto.subtle.sign("HMAC",this.masterHmacKey,Vr(n))),a=JSON.stringify({v:"1",cipher:n,iv:Ar(t.buffer),hmac:s});return this.logSecurityEvent({type:"encryption",level:"info",message:"Data encrypted successfully",metadata:{dataLength:e.length},timestamp:new Date,sessionId:this.sessionId}),a}catch(r){throw this.logSecurityEvent({type:"encryption",level:"error",message:"Data encryption failed",metadata:{error:r instanceof Error?r.message:"Unknown error"},timestamp:new Date,sessionId:this.sessionId}),r}}async decryptData(e,t){try{if(!this.masterCryptoKey||!this.masterHmacKey){if(this.isTestEnv())try{const t=JSON.parse(e);if(t&&"clear"===t.v&&"string"==typeof t.payload)return t.payload}catch{}throw new Error("Decryption key not available")}let t;try{t=JSON.parse(e)}catch{throw new Error("Malformed encrypted payload")}if("clear"===t.v&&"string"==typeof t.payload)return t.payload;if(!t.cipher||!t.iv||!t.hmac)throw new Error("Encrypted payload missing fields");if(!(await crypto.subtle.verify("HMAC",this.masterHmacKey,Vr(t.hmac),Vr(t.cipher))))throw new Error("Integrity check failed - HMAC mismatch");const r=Vr(t.iv),n=Vr(t.cipher);let s;try{s=await crypto.subtle.decrypt({name:"AES-GCM",iv:r},this.masterCryptoKey,n)}catch{throw new Error("Decryption failed - invalid key or corrupted data")}const a=(new TextDecoder).decode(new Uint8Array(s));return this.logSecurityEvent({type:"encryption",level:"info",message:"Data decrypted successfully",timestamp:new Date,sessionId:this.sessionId}),a}catch(r){throw this.logSecurityEvent({type:"encryption",level:"error",message:"Data decryption failed",metadata:{error:r instanceof Error?r.message:"Unknown error"},timestamp:new Date,sessionId:this.sessionId}),r}}createSecureStorage(){return{encrypt:async(e,t)=>this.encryptData(e,t),decrypt:async(e,t)=>this.decryptData(e,t),store:async(e,t,r=!0)=>{const n=JSON.stringify(t);if(r)if(this.masterCryptoKey){const t=await this.encryptData(n);localStorage.setItem(e,t)}else{if(!this.isTestEnv())throw new Error("Secure storage requires initialized master key");localStorage.setItem(e,n)}else{if(!this.isTestEnv())throw new Error("Storing plaintext sensitive data in localStorage is forbidden");localStorage.setItem(e,n)}this.logSecurityEvent({type:"data_access",level:"info",message:`Data stored: ${e}`,metadata:{encrypted:r,dataSize:n.length},timestamp:new Date,sessionId:this.sessionId})},retrieve:async(e,t=!0)=>{const r=localStorage.getItem(e);if(!r)return null;try{const e=t?await this.decryptData(r):r;return JSON.parse(e)}catch(n){return this.logSecurityEvent({type:"data_access",level:"error",message:`Failed to retrieve data: ${e}`,metadata:{error:n instanceof Error?n.message:"Unknown error"},timestamp:new Date,sessionId:this.sessionId}),null}},delete:async e=>{localStorage.removeItem(e),this.logSecurityEvent({type:"data_access",level:"info",message:`Data deleted: ${e}`,timestamp:new Date,sessionId:this.sessionId})},clear:async()=>{localStorage.clear(),this.logSecurityEvent({type:"data_access",level:"warning",message:"All local storage cleared",timestamp:new Date,sessionId:this.sessionId})}}}logSecurityEvent(e){this.events.push({...e,sessionId:e.sessionId||this.sessionId}),this.events.length>500&&(this.events=this.events.slice(-250)),!this.isTestEnv()&&("critical"===e.level||e.level)}async performSecurityAudit(){const e=[],t=[];this.masterCryptoKey||(e.push({id:"no-master-key",severity:"high",category:"encryption",title:"No Master Key Initialized",description:"Encryption is not properly configured",remediation:"Initialize master key using initializeMasterKey()",affectedComponents:["SecureStorage","DataEncryption"]}),t.push("Initialize encryption system with a strong master key"));const r=this.events.filter(e=>"error"===e.level||"critical"===e.level).filter(e=>Date.now()-e.timestamp.getTime()<864e5);r.length>0&&(e.push({id:"recent-security-errors",severity:"medium",category:"configuration",title:"Recent Security Errors Detected",description:`${r.length} security errors in the last 24 hours`,remediation:"Review security event logs and address recurring issues",affectedComponents:["SecurityMonitoring"]}),t.push("Review and address recent security errors"));const n="security-audit-test",s=this.createSecureStorage();try{await s.store(n,{test:!0},!0),await s.retrieve(n,!0),await s.delete(n)}catch(l){e.push({id:"storage-encryption-failure",severity:"high",category:"encryption",title:"Storage Encryption Test Failed",description:"Secure storage operations are not working correctly",remediation:"Debug encryption/decryption process and ensure proper key management",affectedComponents:["SecureStorage"]})}const a=e.filter(e=>"critical"===e.severity).length,i=e.filter(e=>"high"===e.severity).length,o=e.filter(e=>"medium"===e.severity).length,c=Math.max(0,1-(.4*a+.3*i+.1*o));return this.logSecurityEvent({type:"audit",level:0===e.length?"info":"warning",message:`Security audit completed. Score: ${Pr(100*c,1)}%`,metadata:{totalIssues:e.length,criticalIssues:a,highIssues:i,mediumIssues:o,score:c},timestamp:new Date,sessionId:this.sessionId}),{passed:c>=.8&&0===a,score:c,issues:e,recommendations:t,lastAudit:new Date}}async wrapKey(e){if(!this.masterCryptoKey){if(this.isTestEnv())try{const t=await crypto.subtle.exportKey("raw",e);return JSON.stringify({wrapped:Ar(t),iv:null,format:"raw"})}catch{return JSON.stringify({wrapped:null,iv:null,format:"none"})}throw new Error("Master crypto key not initialized - cannot wrap key")}const t=new Uint8Array(12);crypto.getRandomValues(t);const r=await crypto.subtle.wrapKey("raw",e,this.masterCryptoKey,{name:"AES-GCM",iv:t});return JSON.stringify({wrapped:Ar(r),iv:Ar(t.buffer),format:"raw"})}async unwrapKey(e,t={name:"AES-GCM"},r=["encrypt","decrypt"]){try{const n=JSON.parse(e);if(!n||!n.wrapped)return null;if(!("raw"!==n.format||n.iv&&this.masterCryptoKey)){if(this.isTestEnv()){const e=Vr(n.wrapped);return await crypto.subtle.importKey("raw",e,t,!1,r)}throw new Error("Cannot unwrap key - master key missing")}const s=n.iv?Vr(n.iv):null,a=Vr(n.wrapped);if(!this.masterCryptoKey)throw new Error("Master crypto key not initialized");return await crypto.subtle.unwrapKey("raw",a,this.masterCryptoKey,{name:"AES-GCM",iv:s??new Uint8Array(12)},t,!1,r)}catch(n){if(this.logSecurityEvent({type:"encryption",level:"error",message:"Failed to unwrap key",metadata:{error:n instanceof Error?n.message:String(n)},timestamp:new Date,sessionId:this.sessionId}),this.isTestEnv())return null;throw n}}getSecurityEvents(e){let t=[...this.events];return e&&(e.type&&(t=t.filter(t=>t.type===e.type)),e.level&&(t=t.filter(t=>t.level===e.level)),e.since&&(t=t.filter(t=>t.timestamp>=e.since)),e.limit&&(t=t.slice(-e.limit))),t.sort((e,t)=>t.timestamp.getTime()-e.timestamp.getTime())}clearSecurityEvents(e){this.events=e?this.events.filter(t=>t.timestamp>=e):[],this.logSecurityEvent({type:"audit",level:"info",message:"Security events cleared",metadata:{olderThan:e?.toISOString()},timestamp:new Date,sessionId:this.sessionId})}getSecurityStatus(){const e=new Date(Date.now()-864e5),t=this.events.filter(t=>t.timestamp>=e),r=t.filter(e=>"error"===e.level||"critical"===e.level),n=this.events.filter(e=>"audit"===e.type&&e.message.includes("audit completed")).sort((e,t)=>t.timestamp.getTime()-e.timestamp.getTime())[0];return{encryptionEnabled:!!this.masterCryptoKey,masterKeyInitialized:!!this.masterCryptoKey,recentEvents:t.length,recentErrors:r.length,lastAudit:n?.timestamp||null}}}const _r=new Ur;function Or(e){let t;if("string"==typeof e){if(!/^\d{4}-\d{2}-\d{2}T?/.test(e))return new Date(NaN);t=q(e)}else t=e;return t instanceof Date&&!Number.isNaN(t.getTime())?new Date(t.getFullYear(),t.getMonth(),t.getDate()):new Date(NaN)}class Rr{epsilon;budgetUsed=0;constructor(e=1){this.epsilon=e}addLaplaceNoise(e,t=1){if(this.budgetUsed>=this.epsilon)throw new Error("Privacy budget exhausted");const r=t/this.epsilon,n=this.generateLaplaceNoise(r);return this.budgetUsed+=.1*this.epsilon,Math.max(0,e+n)}generateLaplaceNoise(e){const t=Math.random()-.5;return-e*Math.sign(t)*Math.log(1-2*Math.abs(t))}getRemainingBudget(){return Math.max(0,this.epsilon-this.budgetUsed)}resetBudget(){this.budgetUsed=0}}const Lr=new class{config;events=[];privacyEngine;userConsent=!1;sessionHash;constructor(e){this.config={enableAnalytics:!0,differentialPrivacyEnabled:!0,noiseLevel:1,dataRetentionDays:30,minimumAggregationSize:5,allowedMetrics:["pain_level","location","usage_time","validation_usage"],consentRequired:!0,...e},this.privacyEngine=new Rr(this.config.noiseLevel),this.sessionHash=this.generateSessionHash(),this.initializeService()}generateSessionHash(){const e=`${Date.now()}-${Math.random()}-${navigator.userAgent}`;let t=0;for(let r=0;r<e.length;r++){t=(t<<5)-t+e.charCodeAt(r),t&=t}return Math.abs(t).toString(36)}initializeService(){_r.logSecurityEvent({type:"analytics",level:"info",message:"Privacy-preserving analytics service initialized",metadata:{differentialPrivacyEnabled:this.config.differentialPrivacyEnabled,noiseLevel:this.config.noiseLevel,consentRequired:this.config.consentRequired},timestamp:new Date}),this.cleanOldEvents()}async requestConsent(){return this.config.consentRequired?(this.userConsent=!0,_r.logSecurityEvent({type:"analytics",level:"info",message:"User consent for analytics granted",metadata:{consentGiven:this.userConsent},timestamp:new Date}),this.userConsent):(this.userConsent=!0,!0)}revokeConsent(){this.userConsent=!1,_r.logSecurityEvent({type:"analytics",level:"info",message:"User consent for analytics revoked",metadata:{consentGiven:this.userConsent},timestamp:new Date})}hasConsent(){return this.userConsent||!this.config.consentRequired}async trackPainEntry(e){if(!this.shouldTrack())return;const t={painLevel:this.anonymizePainLevel(e.baselineData.pain),hasLocation:!!e.baselineData.locations&&e.baselineData.locations.length>0,hasDescription:!!e.notes&&e.notes.length>0,timeOfDay:new Date(e.timestamp).getHours(),dayOfWeek:new Date(e.timestamp).getDay()},r={eventType:"pain_logged",timestamp:new Date,metadata:t,sessionHash:this.sessionHash,isAnonymized:!0};var n;this.addEvent(r),n={painLevel:e.baselineData.pain,hasLocation:t.hasLocation,hasNotes:t.hasDescription,locationCount:e.baselineData.locations?.length??0,symptomCount:e.baselineData.symptoms?.length??0},dr(rr,{pain_level:n.painLevel,has_location:n.hasLocation,has_notes:n.hasNotes,location_count:n.locationCount,symptom_count:n.symptomCount}),_r.logSecurityEvent({type:"analytics",level:"info",message:"Pain entry tracked (anonymized)",metadata:{sessionHash:this.sessionHash},timestamp:new Date})}async trackValidationUsage(e){if(!this.shouldTrack())return;const t={eventType:"validation_used",timestamp:new Date,metadata:{validationType:this.anonymizeString(e),timeOfDay:(new Date).getHours()},sessionHash:this.sessionHash,isAnonymized:!0};this.addEvent(t),function(e){dr(nr,{validation_type:e})}(e)}async trackProgressView(e){if(!this.shouldTrack())return;const t={eventType:"progress_viewed",timestamp:new Date,metadata:{viewType:this.anonymizeString(e),timeOfDay:(new Date).getHours()},sessionHash:this.sessionHash,isAnonymized:!0};this.addEvent(t),function(e){dr(sr,{view_type:e})}(e)}async trackDataExport(e){if(!this.shouldTrack())return;const t={eventType:"export_performed",timestamp:new Date,metadata:{exportType:e,timeOfDay:(new Date).getHours()},sessionHash:this.sessionHash,isAnonymized:!0};this.addEvent(t)}async generateInsights(){if(!this.shouldTrack()||this.events.length<this.config.minimumAggregationSize)return null;try{const e=this.events.filter(e=>"pain_logged"===e.eventType),t=this.events.filter(e=>"validation_used"===e.eventType),r=this.config.differentialPrivacyEnabled?this.privacyEngine.addLaplaceNoise(this.getUniqueSessionCount()):this.getUniqueSessionCount(),n=this.config.differentialPrivacyEnabled?this.privacyEngine.addLaplaceNoise(this.calculateAveragePainLevel(e)):this.calculateAveragePainLevel(e),s=this.getCommonPainLocations(),a={averageEntriesPerWeek:this.config.differentialPrivacyEnabled?this.privacyEngine.addLaplaceNoise(this.calculateWeeklyAverage(e)):this.calculateWeeklyAverage(e),peakUsageHours:this.getPeakUsageHours(this.events),validationUsageRate:this.config.differentialPrivacyEnabled?this.privacyEngine.addLaplaceNoise(t.length/Math.max(1,e.length)):t.length/Math.max(1,e.length)},i={totalUsers:Math.round(r),averagePainLevel:Number(Pr(n,1)),commonPainLocations:s,usagePatterns:a,privacyMetrics:{noiseAdded:this.config.differentialPrivacyEnabled?this.config.noiseLevel:0,dataPointsAggregated:this.events.length,privacyBudgetUsed:this.config.differentialPrivacyEnabled?this.privacyEngine.getRemainingBudget():0},generatedAt:new Date};return _r.logSecurityEvent({type:"analytics",level:"info",message:"Privacy-preserving insights generated",metadata:{totalEvents:this.events.length,uniqueSessions:this.getUniqueSessionCount(),privacyBudgetRemaining:this.privacyEngine.getRemainingBudget()},timestamp:new Date}),i}catch(e){return _r.logSecurityEvent({type:"analytics",level:"error",message:"Failed to generate insights",metadata:{error:e instanceof Error?e.message:"Unknown error"},timestamp:new Date}),null}}getPrivacyStatus(){return{analyticsEnabled:this.config.enableAnalytics,consentGiven:this.userConsent,differentialPrivacyEnabled:this.config.differentialPrivacyEnabled,eventsCollected:this.events.length,privacyBudgetRemaining:this.privacyEngine.getRemainingBudget(),dataRetentionDays:this.config.dataRetentionDays}}async clearAnalyticsData(){this.events=[],this.privacyEngine.resetBudget(),_r.logSecurityEvent({type:"analytics",level:"info",message:"Analytics data cleared",timestamp:new Date})}updatePrivacyConfig(e){this.config={...this.config,...e},e.noiseLevel&&(this.privacyEngine=new Rr(e.noiseLevel)),_r.logSecurityEvent({type:"analytics",level:"info",message:"Privacy configuration updated",metadata:e,timestamp:new Date})}shouldTrack(){return this.config.enableAnalytics&&(!this.config.consentRequired||this.userConsent)}addEvent(e){this.events.push(e),this.cleanOldEvents()}cleanOldEvents(){const e=new Date;e.setDate(e.getDate()-this.config.dataRetentionDays);const t=this.events.length;this.events=this.events.filter(t=>t.timestamp>=e),this.events.length<t&&_r.logSecurityEvent({type:"analytics",level:"info",message:"Old analytics events cleaned",metadata:{removed:t-this.events.length},timestamp:new Date})}anonymizePainLevel(e){return 2*Math.round(e/2)}anonymizeString(e){return e.toLowerCase().includes("validation")?"validation":e.toLowerCase().includes("progress")?"progress":e.toLowerCase().includes("export")?"export":"other"}getUniqueSessionCount(){return new Set(this.events.map(e=>e.sessionHash)).size}calculateAveragePainLevel(e){if(0===e.length)return 0;return e.reduce((e,t)=>e+(t.metadata.painLevel||0),0)/e.length}calculateWeeklyAverage(e){if(0===e.length)return 0;const t=new Date(Or(new Date).getTime());t.setDate(t.getDate()-6);const r=e.filter(e=>(function(e){if(null!=e){if(jr(e))return e;if("number"==typeof e)return new Date(e);if("string"==typeof e){const t=new Date(e);return isNaN(t.getTime())?void 0:t}}}(e.timestamp)??new Date(String(e.timestamp)))>=t);if(0===r.length)return 0;const n=r.reduce((e,t)=>e+(t.metadata&&t.metadata.painLevel||0),0)/r.length;return Math.max(0,Math.min(10,n))}getCommonPainLocations(){return[{location:"upper_body",frequency:50*Math.random()},{location:"lower_body",frequency:50*Math.random()},{location:"extremities",frequency:30*Math.random()}]}getPeakUsageHours(e){const t=new Array(24).fill(0);return e.forEach(e=>{const r=e.metadata.timeOfDay;r>=0&&r<24&&t[r]++}),t.map((e,t)=>({hour:t,count:e})).sort((e,t)=>t.count-e.count).slice(0,3).map(e=>e.hour)}};class Mr{config;auditTrails=[];accessRequests=new Map;breachAssessments=new Map;static MAX_AUDIT_TRAILS=1e4;static AUDIT_EVICTION_COUNT=2e3;constructor(e){this.config=e}async validateFHIRResource(e){const t=[],r=[];e.resourceType||t.push("Missing required field: resourceType"),e.id&&!this.isValidId(e.id)&&t.push("Invalid resource ID format");const n=await this.scanForPHI(e);n.identifiers.length>0&&r.push(`Potential PHI detected in ${n.identifiers.length} fields`),e.meta?.lastUpdated&&!this.isValidTimestamp(e.meta.lastUpdated)&&t.push("Invalid lastUpdated timestamp");const s=this.calculateComplianceScore(t,r);return{isValid:0===t.length,errors:t,warnings:r,complianceScore:s}}async validateFHIRBundle(e){const t=[],r=[];if(e.type||t.push("Bundle missing required type field"),e.entry)for(let a=0;a<e.entry.length;a++){const t=e.entry[a];if(t.resource){const e=await this.validateFHIRResource(t.resource);r.push({resourceId:t.resource.id,isValid:e.isValid,errors:e.errors,warnings:e.warnings})}}const n=t.length+r.reduce((e,t)=>e+t.errors.length,0),s=Math.max(0,100-10*n);return{isValid:0===t.length&&r.every(e=>e.isValid),resourceResults:r,overallErrors:t,complianceScore:s}}async scanForPHI(e){const t=[],r=JSON.stringify(e),n={ssn:/\b\d{3}-?\d{2}-?\d{4}\b/g,phone:/\b\d{3}[-.]?\d{3}[-.]?\d{4}\b/g,email:/\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b/g,ipAddress:/\b(?:\d{1,3}\.){3}\d{1,3}\b/g,creditCard:/\b\d{4}[-\s]?\d{4}[-\s]?\d{4}[-\s]?\d{4}\b/g,zipCode:/\b\d{5}(?:-\d{4})?\b/g};for(const[a,i]of Object.entries(n)){const e=r.match(i);e&&e.forEach(e=>{t.push({type:a,value:e,location:"data",confidence:.8})})}let s="low";return t.length>10?s="high":t.length>3&&(s="medium"),{identifiers:t,riskLevel:s}}async deidentifyData(e,t="safe-harbor"){const r=JSON.parse(JSON.stringify(e)),n=JSON.parse(JSON.stringify(e)),s=[];if("safe-harbor"===t){const e=await this.scanForPHI(n);s.push(...e.identifiers);let t=JSON.stringify(n);e.identifiers.forEach(e=>{t=t.replace(new RegExp(this.escapeRegExp(e.value),"g"),"[REDACTED]")});try{Object.assign(n,JSON.parse(t))}catch{}}return{originalData:r,deidentifiedData:n,identifiersRemoved:s,method:t,timestamp:(new Date).toISOString(),processedBy:"hipaa-compliance-service"}}async requestDataAccess(e){const t=`ar-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,r={...e,requestId:t,requestDate:(new Date).toISOString(),approvalStatus:"pending"};return"emergency"===e.urgency&&(r.approvalStatus="approved",r.approvedBy="emergency-protocol",r.approvalDate=(new Date).toISOString(),r.expirationDate=new Date(Date.now()+864e5).toISOString(),await this.logAuditEvent({actionType:"access",userId:e.requesterId,userRole:e.requesterRole,resourceType:"patient-data",patientId:e.patientId,outcome:"success",details:{emergency:!0,autoApproved:!0}})),this.accessRequests.set(t,r),t}async approveAccessRequest(e,t){const r=this.accessRequests.get(e);if(!r)throw new Error("Access request not found");r.approvalStatus="approved",r.approvedBy=t.userId,r.approvalDate=(new Date).toISOString(),r.conditions=t.conditions,r.expirationDate=new Date(Date.now()+2592e6).toISOString(),this.accessRequests.set(e,r),await this.logAuditEvent({actionType:"access",userId:t.userId,userRole:"supervisor",resourceType:"access-request",resourceId:e,outcome:"success",details:{action:"approved",conditions:t.conditions}})}async logAuditEvent(e){const t={...e,eventId:`ae-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,timestamp:(new Date).toISOString(),ipAddress:"0.0.0.0",userAgent:"system",riskScore:this.calculateRiskScore(e)};this.auditTrails.push(t),this.auditTrails.length>Mr.MAX_AUDIT_TRAILS&&(this.auditTrails=this.auditTrails.slice(-8e3)),t.riskScore>80&&await this.flagSuspiciousActivity(t)}async getAuditTrail(e){return this.auditTrails.filter(t=>{if(e.userId&&t.userId!==e.userId)return!1;if(e.patientId&&t.patientId!==e.patientId)return!1;if(e.actionType&&t.actionType!==e.actionType)return!1;if(e.startDate){if(new Date(t.timestamp)<new Date(e.startDate))return!1}if(e.endDate){if(new Date(t.timestamp)>new Date(e.endDate))return!1}return!0})}async reportBreach(e){const t=`br-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,r={...e,incidentId:t,reportedDate:(new Date).toISOString(),investigationStatus:"open"};return this.breachAssessments.set(t,r),e.phiInvolved.patientCount>=500&&(r.notificationRequired=!0,r.authoritiesNotified=!0),await this.logAuditEvent({actionType:"create",userId:"system",userRole:"security-officer",resourceType:"breach-report",resourceId:t,outcome:"success",details:{patientCount:e.phiInvolved.patientCount,riskLevel:e.riskLevel}}),t}async getBreachAssessment(e){return this.breachAssessments.get(e)||null}async generateComplianceReport(e){const t=new Date(e.start),r=new Date(e.end),n=this.auditTrails.filter(e=>{const n=new Date(e.timestamp);return n>=t&&n<=r}),s=n.filter(e=>e.riskScore>70).length,a=n.filter(e=>e.riskScore>80).length,i=this.generateComplianceRecommendations(n),o=this.calculateOverallComplianceScore(n);return{period:e,summary:{totalAuditEvents:n.length,breachReports:Array.from(this.breachAssessments.values()).filter(e=>{const n=new Date(e.reportedDate);return n>=t&&n<=r}).length,accessRequests:Array.from(this.accessRequests.values()).filter(e=>{const n=new Date(e.requestDate);return n>=t&&n<=r}).length,dataValidations:n.filter(e=>"read"===e.actionType).length,complianceScore:o},riskAnalysis:{highRiskEvents:s,suspiciousActivity:a,recommendations:i},generatedAt:(new Date).toISOString()}}isValidId(e){return/^[A-Za-z0-9\-.]{1,64}$/.test(e)}isValidTimestamp(e){const t=new Date(e);return!isNaN(t.getTime())}calculateComplianceScore(e,t){const r=20*e.length,n=5*t.length;return Math.max(0,100-r-n)}calculateRiskScore(e){let t=0;return t+={delete:40,export:30,print:25,update:20,read:10,create:15,access:20,login:5,logout:0}[e.actionType]||10,"failure"===e.outcome&&(t+=30),e.patientId&&(t+=10),Math.min(100,t)}async flagSuspiciousActivity(e){}generateComplianceRecommendations(e){const t=[];e.filter(e=>"failure"===e.outcome).length/e.length>.1&&t.push("High failure rate detected - review access controls");e.filter(e=>e.riskScore>70).length>10&&t.push("Multiple high-risk events - enhance monitoring");const r=new Set(e.map(e=>e.userId)).size;return e.length/r>100&&t.push("High activity per user - consider additional training"),t}calculateOverallComplianceScore(e){if(0===e.length)return 100;const t=e.reduce((e,t)=>e+t.riskScore,0)/e.length;return Math.max(0,100-t)}escapeRegExp(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}const Fr=new Mr({organizationId:"pain-tracker-org",privacyOfficer:{name:"Privacy Officer",title:"Chief Privacy Officer",email:"privacy@paintracker.app",phone:"+1-555-0100"},securityOfficer:{name:"Security Officer",title:"Chief Security Officer",email:"security@paintracker.app",phone:"+1-555-0101"},complianceOfficer:{name:"Compliance Officer",title:"Chief Compliance Officer",email:"compliance@paintracker.app",phone:"+1-555-0102"},businessAssociates:[],policies:[],technicalSafeguards:{accessControl:{uniqueUserIdentification:!0,automaticLogoff:!0,encryptionDecryption:!0},auditControls:{hardwareSystemsAccess:!0,softwareSystemsAccess:!0,activityReviews:!0},integrity:{protectionFromAlteration:!0,protectionFromDestruction:!0},personOrEntityAuthentication:{verifyUserIdentity:!0},transmissionSecurity:{guardAgainstUnauthorizedAccess:!0,dataIntegrityControls:!0,encryptionStandards:["TLS-1.3","AES-256"]}},physicalSafeguards:{facilityAccessControls:{limitPhysicalAccess:!0,workstationAccess:!0,mediaControls:!0},workstationUse:{limitedAccess:!0,physicalAttributes:["locked-room","secure-access"]},deviceMediaControls:{disposalProcedures:!0,reuseProtocols:!0,accountabilityMeasures:!0,dataBackupStorage:!0}},administrativeSafeguards:{securityManagement:{securityOfficerAssigned:!0,managementResponsibilities:["policy-enforcement","incident-response"]},workforceTraining:{privacyTraining:!0,securityTraining:!0,trainingFrequency:"annually",lastCompleted:"2025-01-01"},accessManagement:{accessAuthorizationProcedures:!0,accessEstablishmentModification:!0,accessTerminationProcedures:!0},contingencyPlan:{dataBackupPlan:!0,disasterRecoveryPlan:!0,emergencyModeOperationPlan:!0,dataRecoveryPlan:!0},businessAssociateContracts:{writtenContracts:!0,safeguardRequirements:!0}}});const zr=F()(z(B(W($(e=>({entries:[],moodEntries:[],fibromyalgiaEntries:[],emergencyData:null,activityLogs:[],ui:{showWCBReport:!1,showOnboarding:!1,showWalkthrough:!1,showEmpathyDashboard:!1,currentFormSection:0,reportPeriod:{start:new Date(Date.now()-2592e6).toISOString().split("T")[0],end:(new Date).toISOString().split("T")[0]}},isLoading:!1,error:null,crisisDetectionEnabled:!0,scheduledReports:[],addEntry:t=>{e(e=>{const r={id:1e3*Date.now()+Math.floor(1e3*Math.random()),timestamp:(new Date).toISOString(),baselineData:{pain:t.baselineData?.pain||0,locations:t.baselineData?.locations||[],symptoms:t.baselineData?.symptoms||[]},functionalImpact:{limitedActivities:t.functionalImpact?.limitedActivities||[],assistanceNeeded:t.functionalImpact?.assistanceNeeded||[],mobilityAids:t.functionalImpact?.mobilityAids||[]},medications:{current:t.medications?.current||[],changes:t.medications?.changes||"",effectiveness:t.medications?.effectiveness||""},treatments:{recent:t.treatments?.recent||[],effectiveness:t.treatments?.effectiveness||"",planned:t.treatments?.planned||[]},qualityOfLife:{sleepQuality:t.qualityOfLife?.sleepQuality||0,moodImpact:t.qualityOfLife?.moodImpact||0,socialImpact:t.qualityOfLife?.socialImpact||[]},workImpact:{missedWork:t.workImpact?.missedWork||0,modifiedDuties:t.workImpact?.modifiedDuties||[],workLimitations:t.workImpact?.workLimitations||[]},comparison:{worseningSince:t.comparison?.worseningSince||"",newLimitations:t.comparison?.newLimitations||[]},notes:t.notes||"",triggers:t.triggers??[],intensity:t.intensity??t.baselineData?.pain??0,location:t.location??t.baselineData?.locations?.[0],quality:t.quality??[],reliefMethods:t.reliefMethods??[],activityLevel:t.activityLevel??void 0,weather:t.weather,sleep:t.sleep??t.qualityOfLife?.sleepQuality,mood:t.mood??t.qualityOfLife?.moodImpact,stress:t.stress??void 0,activities:t.activities??[],medicationAdherence:t.medicationAdherence};e.entries.push(r),e.error=null,Lr.trackPainEntry(r).catch(()=>{})})},updateEntry:(t,r)=>{e(e=>{const n=e.entries.findIndex(e=>e.id===t);n>=0&&(e.entries[n]={...e.entries[n],...r})})},deleteEntry:t=>{e(e=>{e.entries=e.entries.filter(e=>e.id!==t)})},addMoodEntry:t=>{e(e=>{const r=function(e={}){const t=Tr(e.timestamp)??e.timestamp;return{id:e.id??1e3*Date.now()+Math.floor(1e3*Math.random()),timestamp:t??(new Date).toISOString(),mood:e.mood??5,energy:e.energy??5,anxiety:e.anxiety??5,stress:e.stress??5,hopefulness:e.hopefulness??5,selfEfficacy:e.selfEfficacy??5,emotionalClarity:e.emotionalClarity??5,emotionalRegulation:e.emotionalRegulation??5,context:e.context??"",triggers:e.triggers??[],copingStrategies:e.copingStrategies??[],socialSupport:e.socialSupport??"none",notes:e.notes??""}}(t);var n;e.moodEntries.push(r),e.error=null,n=r.mood,dr(or,{mood_level:n})})},updateMoodEntry:(t,r)=>{e(e=>{const n=e.moodEntries.findIndex(e=>{if("number"==typeof t)return e.id===t;const r=t;return e.timestamp===r||new Date(e.timestamp).toISOString()===new Date(r).toISOString()});n>=0&&(e.moodEntries[n]={...e.moodEntries[n],...r})})},deleteMoodEntry:t=>{e(e=>{e.moodEntries=e.moodEntries.filter(e=>{if("number"==typeof t)return e.id!==t;const r=t;return!(e.timestamp===r||new Date(e.timestamp).toISOString()===new Date(r).toISOString())})})},addFibromyalgiaEntry:t=>{e(e=>{e.fibromyalgiaEntries.push(t)})},updateFibromyalgiaEntry:(t,r)=>{e(e=>{const n=e.fibromyalgiaEntries.findIndex(e=>e.id===t);-1!==n&&(e.fibromyalgiaEntries[n]={...e.fibromyalgiaEntries[n],...r})})},deleteFibromyalgiaEntry:t=>{e(e=>{e.fibromyalgiaEntries=e.fibromyalgiaEntries.filter(e=>e.id!==t)})},setShowWCBReport:t=>{e(e=>{e.ui.showWCBReport=t})},setShowOnboarding:t=>{e(e=>{e.ui.showOnboarding=t})},setShowWalkthrough:t=>{e(e=>{e.ui.showWalkthrough=t})},setShowEmpathyDashboard:t=>{e(e=>{e.ui.showEmpathyDashboard=t})},setCurrentFormSection:t=>{e(e=>{e.ui.currentFormSection=t})},setReportPeriod:t=>{e(e=>{e.ui.reportPeriod={...e.ui.reportPeriod,...t}})},setCrisisDetectionEnabled:t=>{e(e=>{e.crisisDetectionEnabled=t})},updateEmergencyData:t=>{e(e=>{e.emergencyData=t})},addActivityLog:t=>{e(e=>{const r={id:Date.now(),...t};e.activityLogs.push(r)})},updateActivityLog:(t,r)=>{e(e=>{const n=e.activityLogs.findIndex(e=>e.id===t);n>=0&&(e.activityLogs[n]={...e.activityLogs[n],...r})})},setError:t=>{e(e=>{e.error=t})},setLoading:t=>{e(e=>{e.isLoading=t})},clearAllData:()=>{e(e=>{e.entries=[],e.moodEntries=[],e.fibromyalgiaEntries=[],e.activityLogs=[],e.emergencyData=null,e.scheduledReports=[],e.error=null})},loadSampleData:()=>{zr.getState().isLoading||(e(e=>{e.isLoading=!0}),d(async()=>{const{samplePainEntries:e}=await import("./sampleData-D4UYskcb.js");return{samplePainEntries:e}},[]).then(({samplePainEntries:t})=>{e(e=>{e.entries=t,e.isLoading=!1})}).catch(t=>{e(e=>{e.error="Failed to load sample data",e.isLoading=!1})}))},loadChronicPainTestData:()=>{zr.getState().isLoading||(e(e=>{e.isLoading=!0}),d(async()=>{const{chronicPain12MonthPainEntries:e,chronicPain12MonthMoodEntries:t,chronicPainDataStats:r}=await import("./chronic-pain-12-month-seed-DhKl-9Ha.js");return{chronicPain12MonthPainEntries:e,chronicPain12MonthMoodEntries:t,chronicPainDataStats:r}},[]).then(({chronicPain12MonthPainEntries:t,chronicPain12MonthMoodEntries:r,chronicPainDataStats:n})=>{e(e=>{e.entries=t,e.moodEntries=r,e.isLoading=!1})}).catch(t=>{e(e=>{e.error="Failed to load test data",e.isLoading=!1})}))},addScheduledReport:t=>{e(e=>{e.scheduledReports.push(t)}),Fr.logAuditEvent({actionType:"create",userId:"local-user",userRole:"patient",resourceType:"ScheduledReport",resourceId:t.id,outcome:"success",details:{name:t.name,frequency:t.frequency,recipients:t.recipients}}).catch(()=>{0})},deleteScheduledReport:t=>{e(e=>{e.scheduledReports=e.scheduledReports.filter(e=>e.id!==t)}),Fr.logAuditEvent({actionType:"delete",userId:"local-user",userRole:"patient",resourceType:"ScheduledReport",resourceId:t,outcome:"success",details:{action:"delete"}}).catch(()=>{0})},updateScheduledReport:(t,r)=>{e(e=>{const n=e.scheduledReports.findIndex(e=>e.id===t);n>=0&&(e.scheduledReports[n]={...e.scheduledReports[n],...r})}),Fr.logAuditEvent({actionType:"update",userId:"local-user",userRole:"patient",resourceType:"ScheduledReport",resourceId:t,outcome:"success",details:{updates:r}}).catch(()=>{0})},runScheduledReport:async t=>{const r=zr.getState(),n=r.scheduledReports.find(e=>e.id===t);if(n)try{const{generatePDFReport:s}=await d(async()=>{const{generatePDFReport:e}=await import("./pdfReportGenerator-L__OjqwH.js");return{generatePDFReport:e}},__vite__mapDeps([0,1,2,3,4,5,6,7])),a=(new Date).toISOString().split("T")[0],i=new Date(Date.now()-2592e6).toISOString().split("T")[0];await s({template:{id:n.templateId,name:n.name,description:n.name,type:"summary",sections:[],createdAt:(new Date).toISOString(),lastModified:(new Date).toISOString()},entries:r.entries,dateRange:{start:i,end:a},includeCharts:!0,includeRawData:!1}),e(e=>{const r=e.scheduledReports.findIndex(e=>e.id===t);r>=0&&(e.scheduledReports[r].lastRun=(new Date).toISOString())}),Fr.logAuditEvent({actionType:"export",userId:"local-user",userRole:"patient",resourceType:"ScheduledReport",resourceId:n.id,outcome:"success",details:{runNow:!0,recipients:n.recipients}}).catch(()=>{0})}catch(s){Fr.logAuditEvent({actionType:"export",userId:"local-user",userRole:"patient",resourceType:"ScheduledReport",resourceId:t,outcome:"failure",details:{error:s.message||"unknown"}}).catch(()=>{0})}}}))),{name:"pain-tracker-storage",version:2,migrate:(e,t)=>function(e){if(!e)return e;const t={...e};return Array.isArray(t.moodEntries)&&(t.moodEntries=t.moodEntries.map(e=>{const t={...e};void 0!==t.id&&null!==t.id||(t.id=Date.now()+Math.floor(1e4*Math.random()));const r=Tr(t.timestamp);return t.timestamp=r??(new Date).toISOString(),t})),Array.isArray(t.entries)&&(t.entries=t.entries.map(e=>{const t={...e};return t.id||(t.id=Date.now()+Math.floor(1e4*Math.random())),t.timestamp=Tr(t.timestamp)??(new Date).toISOString(),t.treatments&&Array.isArray(t.treatments.recent)&&(t.treatments.recent=t.treatments.recent.map(e=>({...e,date:Tr(e.date)??(new Date).toISOString()}))),t})),Array.isArray(t.activityLogs)&&(t.activityLogs=t.activityLogs.map(e=>{const t={...e};return t.id||(t.id=Date.now()+Math.floor(1e4*Math.random())),t.date=Tr(t.date)??(new Date).toISOString(),Array.isArray(t.activities)&&(t.activities=t.activities.map(e=>({...e,timestamp:Tr(e.timestamp)??(new Date).toISOString()}))),t})),Array.isArray(t.scheduledReports)&&(t.scheduledReports=t.scheduledReports.map(e=>{const t={...e};return t.id||(t.id=`sr-${Date.now()}-${Math.floor(1e4*Math.random())}`),t.nextRun=Tr(t.nextRun)??(new Date).toISOString(),t.lastRun=Tr(t.lastRun)??t.lastRun,t})),Array.isArray(t.scheduledReports),t}(e),partialize:e=>({entries:e.entries,moodEntries:e.moodEntries,emergencyData:e.emergencyData,activityLogs:e.activityLogs,scheduledReports:e.scheduledReports})}),{name:"PainTracker Store"})),Br=e=>e.entries,Wr=e.createContext(void 0);function $r({children:r}){const n=zr(e=>e.entries||[]),[s,a]=e.useState(()=>{const e=localStorage.getItem("tone-preferences");if(e)try{return JSON.parse(e)}catch{return Nr}return Nr}),[i,o]=e.useState(()=>Cr.buildContext(n,s));e.useEffect(()=>{const e=Cr.buildContext(n,s,{});o(e)},[n,s]);const c=e.useCallback(e=>{a(t=>{const r={...t,...e};return localStorage.setItem("tone-preferences",JSON.stringify(r)),r})},[]),l=e.useCallback(e=>Cr.selectCopy(e,i),[i]),u=e.useCallback((e,t)=>{const r={metric:"prompt_acceptance",value:t?1:0,context:{state:i.state,intent:e},timestamp:(new Date).toISOString()};Cr.trackMeasurement(r)},[i.state]),d=e.useCallback(e=>{const t={metric:"time_to_calm",value:e,context:{state:"flare",intent:"coach"},timestamp:(new Date).toISOString()};Cr.trackMeasurement(t)},[]),m=e.useCallback(e=>{o(t=>({...t,state:e}))},[]),p={context:i,preferences:s,updatePreferences:c,getCopy:l,trackInteraction:u,trackTimeToCalm:d,forceState:m};return t.jsxDEV(Wr.Provider,{value:p,children:r},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/contexts/ToneContext.tsx",lineNumber:150,columnNumber:10},this)}function qr(){const t=e.useContext(Wr);if(!t)throw new Error("useTone must be used within ToneProvider");return t}function Gr(e){const{getCopy:t}=qr();return t(e)}const Hr={free:{tier:"free",name:"Free",tagline:"Unlimited pain tracking, forever free",description:"Complete pain, mood, and activity tracking with no entry limits. Upgrade for advanced analytics, automated insights, and clinical reports.",features:{maxPainEntries:-1,maxMoodEntries:-1,maxActivityLogs:-1,maxStorageMB:100,dataRetentionDays:-1,basicAnalytics:!0,advancedAnalytics:!1,predictiveInsights:!1,customReports:!1,empathyIntelligence:!1,csvExport:!0,jsonExport:!0,pdfReports:!0,wcbReports:!0,clinicalPDFExport:!1,scheduledReports:!1,maxExportsPerMonth:5,healthcareProviderAPI:!1,fhirIntegration:!1,calendarSync:!1,wearableDevices:!1,multiUser:!1,familySharing:!1,caregiverAccess:!1,maxSharedUsers:0,encryption:"basic",twoFactorAuth:!1,auditLogs:!1,hipaaCompliance:!1,soc2Compliance:!1,customDataRetention:!1,supportLevel:"community",responseTime:"72h",onboarding:!1,customTraining:!1,aiInsights:!1,automatedReminders:!0,smartSuggestions:!1,patternRecognition:!1,customThemes:!1,customDashboard:!1,customFields:!1,branding:!1,whiteLabel:!1,offlineMode:!0,mobileApp:!0,apiAccess:!1,webhooks:!1,customIntegrations:!1},pricing:{tier:"free",monthly:{amount:0,currency:"USD",display:"$0"},yearly:{amount:0,currency:"USD",display:"$0",savings:0},trial:{enabled:!1,days:0}},limits:{softLimits:!1,gracePeriodDays:0},targeting:{userType:["individual","patient","caregiver"],painLevel:"any"}},basic:{tier:"basic",name:"Basic",tagline:"Comprehensive pain management",description:"For individuals committed to understanding and managing chronic pain. Includes advanced analytics, PDF reports, and family sharing.",features:{maxPainEntries:-1,maxMoodEntries:-1,maxActivityLogs:-1,maxStorageMB:500,dataRetentionDays:-1,basicAnalytics:!0,advancedAnalytics:!0,predictiveInsights:!1,customReports:!0,empathyIntelligence:!0,csvExport:!0,jsonExport:!0,pdfReports:!0,wcbReports:!0,clinicalPDFExport:!1,scheduledReports:!1,maxExportsPerMonth:50,healthcareProviderAPI:!1,fhirIntegration:!1,calendarSync:!0,wearableDevices:!1,multiUser:!1,familySharing:!0,caregiverAccess:!0,maxSharedUsers:2,encryption:"advanced",twoFactorAuth:!0,auditLogs:!1,hipaaCompliance:!1,soc2Compliance:!1,customDataRetention:!1,supportLevel:"email",responseTime:"24h",onboarding:!0,customTraining:!1,aiInsights:!0,automatedReminders:!0,smartSuggestions:!0,patternRecognition:!0,customThemes:!0,customDashboard:!0,customFields:!0,branding:!1,whiteLabel:!1,offlineMode:!0,mobileApp:!0,apiAccess:!1,webhooks:!1,customIntegrations:!1},pricing:{tier:"basic",monthly:{amount:999,currency:"USD",display:"$9.99"},yearly:{amount:9990,currency:"USD",display:"$99.90",savings:17},trial:{enabled:!0,days:14}},popular:!0,limits:{softLimits:!0,gracePeriodDays:7},targeting:{userType:["individual","caregiver"],painLevel:"chronic"}},pro:{tier:"pro",name:"Pro",tagline:"Clinic-ready exports & insights",description:"Power users and healthcare coordination. Unlimited entries, pattern-based alerts, clinical PDF exports, and HIPAA-aligned controls.",features:{maxPainEntries:-1,maxMoodEntries:-1,maxActivityLogs:-1,maxStorageMB:5e3,dataRetentionDays:-1,basicAnalytics:!0,advancedAnalytics:!0,predictiveInsights:!0,customReports:!0,empathyIntelligence:!0,csvExport:!0,jsonExport:!0,pdfReports:!0,wcbReports:!0,clinicalPDFExport:!0,scheduledReports:!0,maxExportsPerMonth:200,healthcareProviderAPI:!0,fhirIntegration:!0,calendarSync:!0,wearableDevices:!0,multiUser:!0,familySharing:!0,caregiverAccess:!0,maxSharedUsers:5,encryption:"advanced",twoFactorAuth:!0,auditLogs:!0,hipaaCompliance:!0,soc2Compliance:!1,customDataRetention:!0,supportLevel:"priority",responseTime:"4h",onboarding:!0,customTraining:!1,aiInsights:!0,automatedReminders:!0,smartSuggestions:!0,patternRecognition:!0,customThemes:!0,customDashboard:!0,customFields:!0,branding:!1,whiteLabel:!1,offlineMode:!0,mobileApp:!0,apiAccess:!0,webhooks:!0,customIntegrations:!1},pricing:{tier:"pro",monthly:{amount:2499,currency:"USD",display:"$24.99"},yearly:{amount:24990,currency:"USD",display:"$249.90",savings:21},lifetime:{amount:49900,currency:"USD",display:"$499"},trial:{enabled:!0,days:30}},recommended:!0,limits:{softLimits:!0,gracePeriodDays:14},targeting:{userType:["power_user","healthcare_coordinator","professional"],painLevel:"chronic"}},enterprise:{tier:"enterprise",name:"Enterprise",tagline:"Healthcare organization solution",description:"For clinics, healthcare organizations, and large-scale deployments. Custom features, white-label options, and dedicated support.",features:{maxPainEntries:-1,maxMoodEntries:-1,maxActivityLogs:-1,maxStorageMB:-1,dataRetentionDays:-1,basicAnalytics:!0,advancedAnalytics:!0,predictiveInsights:!0,customReports:!0,empathyIntelligence:!0,csvExport:!0,jsonExport:!0,pdfReports:!0,wcbReports:!0,clinicalPDFExport:!0,scheduledReports:!0,maxExportsPerMonth:-1,healthcareProviderAPI:!0,fhirIntegration:!0,calendarSync:!0,wearableDevices:!0,multiUser:!0,familySharing:!0,caregiverAccess:!0,maxSharedUsers:-1,encryption:"enterprise",twoFactorAuth:!0,auditLogs:!0,hipaaCompliance:!0,soc2Compliance:!1,customDataRetention:!0,supportLevel:"dedicated",responseTime:"1h",onboarding:!0,customTraining:!0,aiInsights:!0,automatedReminders:!0,smartSuggestions:!0,patternRecognition:!0,customThemes:!0,customDashboard:!0,customFields:!0,branding:!0,whiteLabel:!0,offlineMode:!0,mobileApp:!0,apiAccess:!0,webhooks:!0,customIntegrations:!0},pricing:{tier:"enterprise",monthly:{amount:0,currency:"USD",display:"Custom"},yearly:{amount:0,currency:"USD",display:"Custom",savings:0},trial:{enabled:!0,days:60}},limits:{softLimits:!0,gracePeriodDays:30},targeting:{userType:["organization","clinic","healthcare_provider"]}}},Kr={storage:{category:"Storage & Data",items:[{name:"Pain Entries",free:"Unlimited",basic:"Unlimited",pro:"Unlimited",enterprise:"Unlimited"},{name:"Data Retention",free:"Unlimited",basic:"Unlimited",pro:"Unlimited",enterprise:"Unlimited + Custom"},{name:"Storage Space",free:"100 MB",basic:"500 MB",pro:"5 GB",enterprise:"Unlimited"}]},analytics:{category:"Analytics & Insights",items:[{name:"Basic Analytics",free:!0,basic:!0,pro:!0,enterprise:!0},{name:"Advanced Analytics",free:!1,basic:!0,pro:!0,enterprise:!0},{name:"Pattern-based alerts",free:!1,basic:!1,pro:!0,enterprise:!0},{name:"Empathy Intelligence",free:!1,basic:!0,pro:!0,enterprise:!0}]},export:{category:"Reports & Export",items:[{name:"CSV Export",free:!0,basic:!0,pro:!0,enterprise:!0},{name:"PDF Reports",free:!0,basic:!0,pro:!0,enterprise:!0},{name:"WorkSafe BC Reports",free:!0,basic:!0,pro:!0,enterprise:!0},{name:"Clinical PDF Export",free:!1,basic:!1,pro:!0,enterprise:!0}]},collaboration:{category:"Sharing & Collaboration",items:[{name:"Family Sharing",free:!1,basic:!0,pro:!0,enterprise:!0},{name:"Shared Users",free:"0",basic:"2",pro:"5",enterprise:"Unlimited"},{name:"Caregiver Access",free:!1,basic:!0,pro:!0,enterprise:!0}]},security:{category:"Security & Compliance",items:[{name:"Encryption",free:"Basic",basic:"Advanced",pro:"Advanced",enterprise:"Enterprise"},{name:"Two-Factor Auth",free:!1,basic:!0,pro:!0,enterprise:!0},{name:"HIPAA-aligned controls",free:!1,basic:!1,pro:!0,enterprise:!0}]},support:{category:"Support",items:[{name:"Support Level",free:"Community",basic:"Email",pro:"Priority",enterprise:"Dedicated"},{name:"Response Time",free:"72 hours",basic:"24 hours",pro:"4 hours",enterprise:"1 hour"},{name:"Custom Training",free:!1,basic:!1,pro:!1,enterprise:!0}]}},Yr={free:["basic","pro","enterprise"],basic:["pro","enterprise"],pro:["enterprise"],enterprise:[]},Jr={free:{storageMB:{limit:100,warningAt:80,unit:"MB"},exportCount:{limit:5,warningAt:4,unit:"exports/month",resetMonthly:!0}},basic:{storageMB:{limit:500,warningAt:450,unit:"MB"},exportCount:{limit:50,warningAt:45,unit:"exports/month",resetMonthly:!0}},pro:{storageMB:{limit:5e3,warningAt:4500,unit:"MB"},apiCalls:{limit:1e4,warningAt:9e3,unit:"calls/month",resetMonthly:!0}},enterprise:{}};const Qr=new class{subscriptions=new Map;billingEvents=[];async createSubscription(e,t="free",r="monthly"){const n=(new Date).toISOString(),s=Hr[t],a=n,i=this.calculatePeriodEnd(a,r),o=s.pricing.trial.enabled&&"free"!==t,c={id:this.generateSubscriptionId(),userId:e,tier:t,status:o?"trialing":"active",billingInterval:r,currentPeriodStart:a,currentPeriodEnd:i,cancelAtPeriodEnd:!1,trialStart:o?n:void 0,trialEnd:o?this.calculateTrialEnd(n,s.pricing.trial.days):void 0,usage:{painEntries:0,moodEntries:0,activityLogs:0,storageMB:0,apiCalls:0,exportCount:0},createdAt:n,updatedAt:n};return this.subscriptions.set(e,c),await this.logBillingEvent({type:"subscription_created",subscriptionId:c.id,userId:e,metadata:{billingInterval:r,isTrial:o,tier:t}}),await _r.logSecurityEvent({type:"audit",level:"info",message:`Subscription created: ${t} tier for user ${e}`,userId:e,timestamp:new Date}),c}getSubscription(e){return this.subscriptions.get(e)||null}getUserTier(e){const t=this.getSubscription(e);return t?this.isSubscriptionExpired(t)?"free":t.tier:"free"}async checkFeatureAccess(e,t){const r=this.getUserTier(e),n=Hr[r].features[t];if("boolean"==typeof n)return{hasAccess:n,reason:n?"Feature included in your plan":`Feature requires ${this.getMinimumTierForFeature(t)} plan`,upgradeRequired:n?void 0:this.getMinimumTierForFeature(t)};if("number"==typeof n){if(!this.getSubscription(e))return{hasAccess:!1,reason:"No active subscription",upgradeRequired:"basic"};const s=await this.getFeatureQuota(e,t);return{hasAccess:s.remaining>0||-1===n,reason:s.remaining>0?"Quota available":"Quota exceeded",quota:s,upgradeRequired:s.remaining<=0?this.getNextTier(r):void 0}}return{hasAccess:!!n,reason:n?`${n} access included`:"Feature not available"}}async getFeatureQuota(e,t){const r=this.getUserTier(e),n=Hr[r],s=this.getSubscription(e);if(!s)return{feature:t,limit:0,current:0,remaining:0,percentage:0};const a=n.features[t],i="number"==typeof a?a:0;let o=0;"maxPainEntries"===t?o=s.usage.painEntries:"maxMoodEntries"===t?o=s.usage.moodEntries:"maxActivityLogs"===t?o=s.usage.activityLogs:"maxStorageMB"===t?o=s.usage.storageMB:"maxExportsPerMonth"===t&&(o=s.usage.exportCount);const c=-1===i?1/0:Math.max(0,i-o);return{feature:t,limit:i,current:o,remaining:-1===i?-1:c,percentage:-1===i?0:Math.min(100,o/i*100),resetDate:this.shouldResetMonthly(t)?s.currentPeriodEnd:void 0}}async trackUsage(e,t,r=1){const n=this.getSubscription(e);if(!n)return{success:!1};n.usage[t]+=r,n.updatedAt=(new Date).toISOString();const s={painEntries:"maxPainEntries",moodEntries:"maxMoodEntries",activityLogs:"maxActivityLogs",storageMB:"maxStorageMB",apiCalls:"maxPainEntries",exportCount:"maxExportsPerMonth"}[t],a=await this.getFeatureQuota(e,s),i=this.getUserTier(e),o=Jr[i];if(o&&o[t]){const r=o[t];n.usage[t]>=r.warningAt&&await _r.logSecurityEvent({type:"audit",level:"warning",message:`User approaching ${t} limit: ${n.usage[t]}/${r.limit}`,userId:e,timestamp:new Date})}return{success:!0,quota:a}}async upgradeTier(e,t,r=!0){const n=this.getSubscription(e);if(!n)throw new Error("No active subscription found");const s=n.tier,a=await this.calculateTierChange(s,t);return r?(n.tier=t,n.status="active",n.updatedAt=(new Date).toISOString(),await this.logBillingEvent({type:"tier_upgraded",subscriptionId:n.id,userId:e,metadata:{fromTier:s,toTier:t}}),await _r.logSecurityEvent({type:"audit",level:"info",message:`Subscription upgraded: ${s}  ${t}`,userId:e,timestamp:new Date})):n.scheduledChange={newTier:t,effectiveDate:n.currentPeriodEnd,reason:"upgrade"},a}async downgradeTier(e,t){const r=this.getSubscription(e);if(!r)throw new Error("No active subscription found");const n=r.tier,s=await this.calculateTierChange(n,t);return r.scheduledChange={newTier:t,effectiveDate:r.currentPeriodEnd,reason:"downgrade"},r.updatedAt=(new Date).toISOString(),await this.logBillingEvent({type:"tier_downgraded",subscriptionId:r.id,userId:e,metadata:{fromTier:n,toTier:t,effectiveDate:r.currentPeriodEnd}}),s}async cancelSubscription(e,t=!1){const r=this.getSubscription(e);if(!r)throw new Error("No active subscription found");return t?(r.status="canceled",r.tier="free"):(r.cancelAtPeriodEnd=!0,r.status="canceled"),r.updatedAt=(new Date).toISOString(),await this.logBillingEvent({type:"subscription_canceled",subscriptionId:r.id,userId:e,metadata:{immediate:t,effectiveDate:t?(new Date).toISOString():r.currentPeriodEnd}}),await _r.logSecurityEvent({type:"audit",level:"info",message:"Subscription canceled"+(t?" (immediate)":" (at period end)"),userId:e,timestamp:new Date}),r}async reactivateSubscription(e){const t=this.getSubscription(e);if(!t)throw new Error("No subscription found");if("canceled"!==t.status||!t.cancelAtPeriodEnd)throw new Error("Subscription is not canceled");return t.cancelAtPeriodEnd=!1,t.status="active",t.updatedAt=(new Date).toISOString(),await _r.logSecurityEvent({type:"audit",level:"info",message:"Subscription reactivated",userId:e,timestamp:new Date}),t}async calculateTierChange(e,t){const r=Hr[e],n=Hr[t],s=this.isUpgrade(e,t),a=[],i=[];return Object.keys(r.features).forEach(e=>{const t=r.features[e],s=n.features[e];"boolean"==typeof t&&"boolean"==typeof s&&(!t&&s&&a.push(e),t&&!s&&i.push(e))}),{fromTier:e,toTier:t,type:s?"upgrade":"downgrade",immediateCharge:s?n.pricing.monthly.amount:0,nextBillingChange:n.pricing.monthly.amount,featuresGained:a,featuresLost:i,requiresMigration:!s,effectiveImmediately:s,confirmationRequired:i.length>0}}async getAnalytics(e){const t=this.getSubscription(e);if(!t)return null;const r=new Date,n=new Date(r.getTime()-864e5),s=new Date(r.getTime()-6048e5),a=new Date(r.getTime()-2592e6),i=this.calculateEngagementScore(t),o=this.calculateChurnRisk(i,t);return{userId:e,tier:t.tier,dailyActive:new Date(t.updatedAt)>n,weeklyActive:new Date(t.updatedAt)>s,monthlyActive:new Date(t.updatedAt)>a,mostUsedFeatures:[],entriesCreated:t.usage.painEntries+t.usage.moodEntries,reportsGenerated:t.usage.exportCount,insightsViewed:0,exportsMade:t.usage.exportCount,engagementScore:i,churnRisk:o}}isSubscriptionExpired(e){return"active"!==e.status&&"trialing"!==e.status&&("canceled"!==e.status||e.cancelAtPeriodEnd?"expired"===e.status:new Date>new Date(e.currentPeriodEnd))}getMinimumTierForFeature(e){const t=["free","basic","pro","enterprise"];for(const r of t){const t=Hr[r].features[e];if("boolean"!=typeof t){if("number"!=typeof t){if("string"==typeof t)return r}else if(0!==t)return r}else if(!0===t)return r}return"enterprise"}getNextTier(e){const t=Yr[e];return t.length>0?t[0]:void 0}isUpgrade(e,t){const r=["free","basic","pro","enterprise"];return r.indexOf(t)>r.indexOf(e)}calculatePeriodEnd(e,t){const r=new Date(e);return"monthly"===t?r.setMonth(r.getMonth()+1):"yearly"===t?r.setFullYear(r.getFullYear()+1):r.setFullYear(r.getFullYear()+100),r.toISOString()}calculateTrialEnd(e,t){const r=new Date(e);return r.setDate(r.getDate()+t),r.toISOString()}shouldResetMonthly(e){return["exportCount","apiCalls"].includes(e)}calculateEngagementScore(e){let t=0;e.usage.painEntries>0&&(t+=20),e.usage.painEntries>10&&(t+=10),e.usage.painEntries>50&&(t+=10),e.usage.moodEntries>0&&(t+=10),e.usage.activityLogs>0&&(t+=10),e.usage.exportCount>0&&(t+=10);const r=Math.floor((Date.now()-new Date(e.updatedAt).getTime())/864e5);return 0===r?t+=30:r<=3?t+=20:r<=7&&(t+=10),Math.min(100,t)}calculateChurnRisk(e,t){return t.cancelAtPeriodEnd||e<30?"high":e<60?"medium":"low"}generateSubscriptionId(){return`sub_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}async logBillingEvent(e){const t={id:`evt_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,type:e.type,subscriptionId:e.subscriptionId,userId:e.userId,timestamp:(new Date).toISOString(),amount:e.amount,currency:e.currency,metadata:e.metadata};this.billingEvents.push(t)}},Zr=e.createContext(void 0),Xr=({children:r,userId:n})=>{const[s,a]=e.useState(null),[i,o]=e.useState("free"),[c,l]=e.useState(!1),[u,d]=e.useState(null),m=e.useCallback(async e=>{l(!0),d(null);try{let t=await Qr.getSubscription(e);t||(t=await Qr.createSubscription(e,"free")),a(t),o(t.tier)}catch(t){d(t instanceof Error?t.message:"Failed to initialize subscription")}finally{l(!1)}},[]),p=e.useCallback(async()=>{s?.userId&&await m(s.userId)},[s?.userId,m]),f=e.useCallback(async(e,t=!0)=>{if(!s)throw new Error("No active subscription");l(!0),d(null);try{const r=await Qr.upgradeTier(s.userId,e,t);return await p(),r}catch(r){const e=r instanceof Error?r.message:"Failed to upgrade subscription";throw d(e),r}finally{l(!1)}},[s,p]),h=e.useCallback(async e=>{if(!s)throw new Error("No active subscription");l(!0),d(null);try{const t=await Qr.downgradeTier(s.userId,e);return await p(),t}catch(t){const e=t instanceof Error?t.message:"Failed to downgrade subscription";throw d(e),t}finally{l(!1)}},[s,p]),g=e.useCallback(async(e=!1)=>{if(!s)throw new Error("No active subscription");l(!0),d(null);try{await Qr.cancelSubscription(s.userId,e),await p()}catch(t){const e=t instanceof Error?t.message:"Failed to cancel subscription";throw d(e),t}finally{l(!1)}},[s,p]),y=e.useCallback(async()=>{if(!s)throw new Error("No active subscription");l(!0),d(null);try{await Qr.reactivateSubscription(s.userId),await p()}catch(e){const t=e instanceof Error?e.message:"Failed to reactivate subscription";throw d(t),e}finally{l(!1)}},[s,p]),b=e.useCallback(async e=>s?Qr.checkFeatureAccess(s.userId,e):{hasAccess:!1,reason:"No active subscription",upgradeRequired:"basic"},[s]),v=e.useCallback(e=>{const t=Hr[i].features[e];return"boolean"==typeof t?t:"number"==typeof t?0!==t:!!t},[i]),x=e.useCallback(async(e,t=1)=>{if(s)try{const r=await Qr.trackUsage(s.userId,e,t);r.success&&r.quota&&0===r.quota.remaining&&d(`You've reached your ${e} limit. Consider upgrading your plan.`),await p()}catch(r){}},[s,p]),w=e.useCallback(async()=>s?Qr.getAnalytics(s.userId):null,[s]);e.useEffect(()=>{n&&m(n)},[n,m]);const k={subscription:s,currentTier:i,isLoading:c,error:u,initialize:m,upgradeTier:f,downgradeTier:h,cancelSubscription:g,reactivateSubscription:y,checkFeatureAccess:b,hasFeature:v,trackUsage:x,getAnalytics:w,refresh:p};return t.jsxDEV(Zr.Provider,{value:k,children:r},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/contexts/SubscriptionContext.tsx",lineNumber:300,columnNumber:10},void 0)},en=()=>{const t=e.useContext(Zr);if(!t)throw new Error("useSubscription must be used within a SubscriptionProvider");return t},tn=()=>{const{currentTier:e}=en();return{free:{label:"Free",color:"gray",icon:""},basic:{label:"Basic",color:"blue",icon:""},pro:{label:"Pro",color:"purple",icon:""},enterprise:{label:"Enterprise",color:"gold",icon:""}}[e]},rn=e.createContext(void 0);function nn(){const t=e.useContext(rn);if(!t)throw new Error("useStartupPrompts must be used within StartupPromptsProvider");return t}function sn({children:r}){const[n,s]=e.useState(null),[a,i]=e.useState([]),[o,c]=e.useState(new Set);e.useEffect(()=>{if(null===n&&a.length>0){const e=[...a].sort((e,t)=>e.priority-t.priority)[0];s(e.type),i(a.filter(t=>t.type!==e.type))}},[n,a]);const l=e.useCallback((e,t)=>{i(r=>r.some(t=>t.type===e)?r:[...r,{type:e,priority:t}])},[]),u=e.useCallback(e=>{c(t=>new Set(t).add(e)),n===e&&s(null)},[n]),d=e.useCallback(e=>n===e&&!o.has(e),[n,o]);return t.jsxDEV(rn.Provider,{value:{requestPrompt:l,dismissPrompt:u,canShowPrompt:d,activePrompt:n},children:r},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/contexts/StartupPromptsContext.tsx",lineNumber:73,columnNumber:5},this)}const an=(e,t="polite",r=100)=>{let n=document.getElementById("aria-live-region");n||(n=document.createElement("div"),n.id="aria-live-region",n.setAttribute("aria-live",t),n.setAttribute("aria-atomic","true"),n.className="sr-only",document.body.appendChild(n)),n.getAttribute("aria-live")!==t&&n.setAttribute("aria-live",t),n.textContent="",setTimeout(()=>{n&&(n.textContent=e)},r)};class on{static focusStack=[];static saveFocusAndMoveTo(e){const t=document.activeElement;t&&t!==document.body&&this.focusStack.push(t),e&&e.focus()}static restoreFocus(){const e=this.focusStack.pop();e&&document.body.contains(e)&&e.focus()}static getFocusableElements(e){const t=["a[href]","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])",'[tabindex]:not([tabindex="-1"])','[contenteditable="true"]'].join(", ");return Array.from(e.querySelectorAll(t)).filter(e=>!e.hasAttribute("hidden")&&null!==e.offsetParent)}static createFocusTrap(e){const t=this.getFocusableElements(e),r=t[0],n=t[t.length-1],s=e=>{"Tab"===e.key&&(e.shiftKey?document.activeElement===r&&(e.preventDefault(),n?.focus()):document.activeElement===n&&(e.preventDefault(),r?.focus()))};return e.addEventListener("keydown",s),()=>{e.removeEventListener("keydown",s)}}}const cn=(t={})=>{const{enableValidation:r=!0,enableAutoLabeling:n=!0,announceRouteChanges:s=!0}=t;return e.useEffect(()=>{if((()=>{if(document.getElementById("skip-links-container"))return;const e=document.createElement("div");e.id="skip-links-container",e.className="sr-only-focusable",[{id:"skip-to-main",target:"main-content",text:"Skip to main content"},{id:"skip-to-nav",target:"main-navigation",text:"Skip to navigation"},{id:"skip-to-footer",target:"page-footer",text:"Skip to footer"}].forEach(({id:t,target:r,text:n})=>{const s=document.getElementById(r);if(!s)return;const a=document.createElement("a");a.id=t,a.href=`#${r}`,a.textContent=n,a.className="skip-link",a.addEventListener("click",e=>{e.preventDefault(),s.focus(),s.scrollIntoView({behavior:"smooth",block:"start"})}),e.appendChild(a)}),document.body.insertBefore(e,document.body.firstChild)})(),n){const e=setInterval(()=>{((e=document.body)=>{e.querySelectorAll("button:not([aria-label])").forEach(e=>{if(!e.textContent?.trim()&&!e.getAttribute("aria-labelledby")){const t=e.querySelector('[class*="icon"]')?.className||"";e.setAttribute("aria-label",`Button with ${t||"no label"}`)}}),e.querySelectorAll("a:not([aria-label])").forEach(e=>{if(!e.textContent?.trim()&&!e.getAttribute("aria-labelledby")){const t=e.getAttribute("href");e.setAttribute("aria-label",`Link to ${t||"unknown destination"}`)}}),e.querySelectorAll("input:not([aria-label]):not([aria-labelledby])").forEach(t=>{const r=t.getAttribute("id");if(!r||!e.querySelector(`label[for="${r}"]`)){const e=t.getAttribute("placeholder");t.setAttribute("aria-label",e||"Input field")}})})()},5e3);return()=>clearInterval(e)}},[n]),e.useEffect(()=>{if(r){const e=setInterval(()=>{const{errors:e,warnings:t}=((e=document.body)=>{const t=[],r=[],n=e.querySelectorAll("[role]"),s=["alert","alertdialog","application","article","banner","button","checkbox","dialog","grid","gridcell","heading","img","link","list","listbox","listitem","main","menu","menubar","menuitem","navigation","progressbar","radio","radiogroup","region","row","rowheader","search","slider","spinbutton","status","tab","tablist","tabpanel","textbox","toolbar","tooltip","tree","treegrid","treeitem"];return n.forEach(e=>{const r=e.getAttribute("role");r&&!s.includes(r)&&t.push(`Invalid ARIA role: ${r} on element ${e.tagName}`)}),e.querySelectorAll("[aria-labelledby]").forEach(e=>{(e.getAttribute("aria-labelledby")?.split(" ")||[]).forEach(e=>{document.getElementById(e)||r.push(`aria-labelledby references non-existent ID: ${e}`)})}),e.querySelectorAll("[aria-describedby]").forEach(e=>{(e.getAttribute("aria-describedby")?.split(" ")||[]).forEach(e=>{document.getElementById(e)||r.push(`aria-describedby references non-existent ID: ${e}`)})}),{errors:t,warnings:r}})();e.length,t.length},1e4);return()=>clearInterval(e)}},[r]),e.useEffect(()=>{if(s){const e=new MutationObserver(e=>{e.forEach(e=>{if("childList"===e.type&&e.target===document.body){const e=document.title;an(`Navigated to: ${e}`,"polite",1e3)}})});return e.observe(document.body,{childList:!0,subtree:!0}),()=>e.disconnect()}},[s]),e.useEffect(()=>{const e=e=>{if((e.ctrlKey||e.metaKey)&&"/"===e.key){e.preventDefault();const t=new CustomEvent("showKeyboardShortcuts");window.dispatchEvent(t)}if("Escape"===e.key){document.querySelector('[role="dialog"][aria-modal="true"]')&&an("Modal closed","polite")}};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[]),{announceMessage:an}},ln={en:{translation:{common:{save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",loading:"Loading...",error:"Error",success:"Success",yes:"Yes",no:"No",close:"Close",back:"Back",next:"Next",previous:"Previous",export:"Export",import:"Import",print:"Print"},navigation:{overview:"Overview",comparisons:"Comparisons",heatmap:"Body Heatmap",treatment:"Treatment Timeline",clinical:"Clinical Export"},pain:{level:"Pain Level",location:"Location",locations:"Locations",symptoms:"Symptoms",intensity:"Intensity",average:"Average Pain",current:"Current Pain",trend:"Pain Trend",assessment:"Pain Assessment",triggers:"Pain Triggers",triggersDescription:"What makes your pain worse?",reliefMethods:"Relief Methods",reliefMethodsDescription:"What helps reduce your pain?",quality:"Pain Quality",qualityDescription:"How would you describe your pain?",activities:"Physical Activities",activitiesDescription:"Activities you've done today",activityLevel:"Activity Level",activityLevelDescription:"Your overall activity level (0-10)",stress:"Stress Level",stressDescription:"Your current stress level (0-10)"},weather:{title:"Weather Conditions",temperature:"Temperature",pressure:"Barometric Pressure",humidity:"Humidity",condition:"Weather",correlation:"Weather Correlation",correlationDescription:"How weather affects your pain patterns"},analytics:{title:"Pain Analytics",noData:"No data available",totalEntries:"Total Entries",dateRange:"Date Range",summary:"Summary",details:"Details"},export:{clinical:"Clinical Data Export",visitSummary:"Visit Summary",formats:{standard:"Standard Clinical Export",detailed:"Detailed Comprehensive Export",summary:"Executive Summary Export"}},accessibility:{settings:"Accessibility Settings",theme:"Visual Theme",themes:{light:"Light Theme",dark:"Dark Theme",highContrast:"High Contrast"},reducedMotion:"Reduced Motion",enabled:"Enabled",disabled:"Disabled",keyboardTips:"Keyboard Navigation Tips"}}},fr:{translation:{common:{save:"Enregistrer",cancel:"Annuler",delete:"Supprimer",edit:"Modifier",loading:"Chargement...",error:"Erreur",success:"Succs",yes:"Oui",no:"Non",close:"Fermer",back:"Retour",next:"Suivant",previous:"Prcdent",export:"Exporter",import:"Importer",print:"Imprimer"},navigation:{overview:"Aperu",comparisons:"Comparaisons",heatmap:"Carte thermique corporelle",treatment:"Chronologie des traitements",clinical:"Exportation clinique"},pain:{level:"Niveau de douleur",location:"Emplacement",locations:"Emplacements",symptoms:"Symptmes",intensity:"Intensit",average:"Douleur moyenne",current:"Douleur actuelle",trend:"Tendance de la douleur",assessment:"valuation de la douleur"},analytics:{title:"Analyses de la douleur",noData:"Aucune donne disponible",totalEntries:"Total des entres",dateRange:"Plage de dates",summary:"Rsum",details:"Dtails"},export:{clinical:"Exportation de donnes cliniques",visitSummary:"Rsum de visite",formats:{standard:"Exportation clinique standard",detailed:"Exportation complte dtaille",summary:"Exportation de rsum excutif"}},accessibility:{settings:"Paramtres d'accessibilit",theme:"Thme visuel",themes:{light:"Thme clair",dark:"Thme sombre",highContrast:"Contraste lev"},reducedMotion:"Mouvement rduit",enabled:"Activ",disabled:"Dsactiv",keyboardTips:"Conseils de navigation au clavier"}}},es:{translation:{common:{save:"Guardar",cancel:"Cancelar",delete:"Eliminar",edit:"Editar",loading:"Cargando...",error:"Error",success:"xito",yes:"S",no:"No",close:"Cerrar",back:"Atrs",next:"Siguiente",previous:"Anterior",export:"Exportar",import:"Importar",print:"Imprimir"},navigation:{overview:"Resumen",comparisons:"Comparaciones",heatmap:"Mapa de calor corporal",treatment:"Cronologa de tratamiento",clinical:"Exportacin clnica"},pain:{level:"Nivel de dolor",location:"Ubicacin",locations:"Ubicaciones",symptoms:"Sntomas",intensity:"Intensidad",average:"Dolor promedio",current:"Dolor actual",trend:"Tendencia del dolor",assessment:"Evaluacin del dolor"},analytics:{title:"Anlisis del dolor",noData:"No hay datos disponibles",totalEntries:"Total de entradas",dateRange:"Rango de fechas",summary:"Resumen",details:"Detalles"},export:{clinical:"Exportacin de datos clnicos",visitSummary:"Resumen de visita",formats:{standard:"Exportacin clnica estndar",detailed:"Exportacin detallada completa",summary:"Exportacin de resumen ejecutivo"}},accessibility:{settings:"Configuracin de accesibilidad",theme:"Tema visual",themes:{light:"Tema claro",dark:"Tema oscuro",highContrast:"Alto contraste"},reducedMotion:"Movimiento reducido",enabled:"Habilitado",disabled:"Deshabilitado",keyboardTips:"Consejos de navegacin por teclado"}}}};G.use(H).use(n).init({resources:ln,fallbackLng:"en",debug:!0,interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator","htmlTag"],caches:["localStorage"]},react:{useSuspense:!1}});const un={BASE_URL:"/",DEV:!0,MODE:"production",PROD:!1,SSR:!1,VITE_APP_ENVIRONMENT:"development",VITE_REACT_APP_ENABLE_VALIDATION:"true",VITE_SENTRY_DSN:"",VITE_USER_NODE_ENV:"development",VITE_WCB_API_ENDPOINT:"/api/wcb"};class dn{static instance;installPromptEvent=null;isInstalled=!1;swRegistration=null;isInitialized=!1;capabilities={serviceWorker:!1,pushNotifications:!1,backgroundSync:!1,persistentStorage:!1,installPrompt:!1,fullscreen:!1};constructor(){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>this.init()):this.init()}static getInstance(){return dn.instance||(dn.instance=new dn),dn.instance}async init(){this.isInitialized||(this.checkInstallStatus(),this.setupInstallPromptListener(),await this.detectCapabilities(),await this.registerServiceWorker(),await this.initializeOfflineStorage(),this.setupOnlineOfflineListeners(),this.setupPerformanceMonitoring(),this.isInitialized=!0,this.dispatchCustomEvent("pwa-initialized",{capabilities:this.capabilities}))}async detectCapabilities(){this.capabilities.serviceWorker="serviceWorker"in navigator,this.capabilities.pushNotifications="Notification"in window&&"PushManager"in window,this.capabilities.backgroundSync="serviceWorker"in navigator&&"sync"in window.ServiceWorkerRegistration.prototype,this.capabilities.installPrompt="BeforeInstallPromptEvent"in window,this.capabilities.fullscreen="requestFullscreen"in document.documentElement,"storage"in navigator&&"persist"in navigator.storage&&(this.capabilities.persistentStorage=await navigator.storage.persist())}getCapabilities(){return{...this.capabilities}}async initializeOfflineStorage(){try{const{offlineStorage:e}=await d(async()=>{const{offlineStorage:e}=await import("./offline-storage-BNc7x0M7.js");return{offlineStorage:e}},[]);if(await e.init(),"storage"in navigator&&"persist"in navigator.storage){1,await navigator.storage.persist()&&this.dispatchCustomEvent("pwa-persistent-storage-granted")}}catch(e){this.dispatchCustomEvent("pwa-storage-error",{error:e})}}async registerServiceWorker(){if(this.capabilities.serviceWorker)try{let e=un.VITE_BASE||"/";try{if(!e||"./"===e||!e.startsWith("/")){e=(location.pathname.endsWith("/")?location.pathname:location.pathname+"/")||"/"}}catch{e="./"===e?"/":e}const t=`${e}sw.js`.replace(/\/\/+/,"/");this.swRegistration=await navigator.serviceWorker.register(t,{scope:e,updateViaCache:"none"}),this.swRegistration.addEventListener("updatefound",()=>{const e=this.swRegistration?.installing;e&&e.addEventListener("statechange",()=>{"installed"===e.state&&(navigator.serviceWorker.controller?this.notifyUpdate():this.notifyInstalled())})}),navigator.serviceWorker.addEventListener("message",e=>{this.handleServiceWorkerMessage(e)});try{navigator.serviceWorker.addEventListener("message",e=>{try{const t=e&&e.data||{};"SW_READY"!==t.type&&"PONG"!==t.type||(window.__pwa_sw_ready=!0,window.__pwa_sw_version=t.version||this.swRegistration&&this.swRegistration.__SW_VERSION||null)}catch{}}),(async()=>{try{if(this.swRegistration&&this.swRegistration.active){try{this.swRegistration.active.postMessage({type:"PING"})}catch{}window.__pwa_sw_ready=!0,window.__pwa_sw_version=this.swRegistration.active&&this.swRegistration.__SW_VERSION||null}}catch{}})()}catch{}this.capabilities.backgroundSync&&this.setupBackgroundSync(),this.monitorServiceWorkerPerformance()}catch(e){this.dispatchCustomEvent("pwa-sw-registration-failed",{error:e})}}async __test_registerSW(){!this.swRegistration&&this.capabilities.serviceWorker&&await this.registerServiceWorker()}handleServiceWorkerMessage(e){const{data:t}=e;switch(t.type){case"SW_UPDATE_AVAILABLE":this.dispatchCustomEvent("pwa-update-available");break;case"SW_OFFLINE_FALLBACK":this.dispatchCustomEvent("pwa-offline-fallback",{url:t.url});break;case"SW_CACHE_UPDATED":this.dispatchCustomEvent("pwa-cache-updated",{cacheName:t.cacheName});break;case"SW_SYNC_COMPLETED":this.dispatchCustomEvent("pwa-sync-completed",{stats:t.stats})}}monitorServiceWorkerPerformance(){if(!this.swRegistration)return;let e=0,t=0;navigator.serviceWorker.addEventListener("message",r=>{"CACHE_HIT"===r.data.type?e++:"CACHE_MISS"===r.data.type&&t++}),setInterval(()=>{const r=e+t;if(r>0){const n=e/r*100;this.dispatchCustomEvent("pwa-cache-performance",{hitRatio:Number(Pr(n,2)),totalRequests:r}),e=0,t=0}},6e4)}setupInstallPromptListener(){window.addEventListener("beforeinstallprompt",e=>{e.preventDefault(),this.installPromptEvent=e,this.dispatchCustomEvent("pwa-install-available")}),window.addEventListener("appinstalled",()=>{this.isInstalled=!0,this.installPromptEvent=null,this.dispatchCustomEvent("pwa-installed")})}async showInstallPrompt(){if(!this.installPromptEvent)return!1;try{await this.installPromptEvent.prompt();return"accepted"===(await this.installPromptEvent.userChoice).outcome}catch(e){return!1}}isInstallPromptAvailable(){return null!==this.installPromptEvent}checkInstallStatus(){window.matchMedia("(display-mode: standalone)").matches&&(this.isInstalled=!0),window.navigator.standalone&&(this.isInstalled=!0)}isAppInstalled(){return this.isInstalled}setupOnlineOfflineListeners(){window.addEventListener("online",async()=>{await this.handleOnlineStatus(!0),this.dispatchCustomEvent("pwa-online")}),window.addEventListener("offline",()=>{this.handleOnlineStatus(!1),this.dispatchCustomEvent("pwa-offline")}),this.monitorConnectionQuality()}async handleOnlineStatus(e){if(e)try{const{backgroundSync:e}=await d(async()=>{const{backgroundSync:e}=await import("./background-sync-DiQN0jqO.js");return{backgroundSync:e}},__vite__mapDeps([8,9,2,3,4,1,5,6,7])),r=e;if("function"==typeof r.forceSync?await r.forceSync():"function"==typeof r.forcSync&&await r.forcSync(),this.swRegistration?.active&&this.swRegistration.active.postMessage({type:"ONLINE"}),"sync"in this.swRegistration)try{const e=this.swRegistration;await e.sync.register("pain-tracker-sync")}catch(t){}}catch(t){}}monitorConnectionQuality(){if("connection"in navigator){const e=navigator.connection,t=()=>{e&&this.dispatchCustomEvent("pwa-connection-change",{effectiveType:e.effectiveType,downlink:e.downlink,rtt:e.rtt,saveData:e.saveData})};e&&"function"==typeof e.addEventListener&&e.addEventListener("change",t),t()}this.startConnectionQualityTests()}startConnectionQualityTests(){setInterval(async()=>{if(!navigator.onLine)return;const e=performance.now();try{const t=`${"/"}manifest.json`.replace(/\/+/g,"/");await fetch(t,{mode:"cors",cache:"no-cache"});const r=performance.now()-e;this.dispatchCustomEvent("pwa-connection-test",{latency:r,quality:r<100?"good":r<500?"moderate":"poor"})}catch{this.dispatchCustomEvent("pwa-connection-test",{latency:-1,quality:"offline"})}},3e4)}setupPerformanceMonitoring(){if("performance"in window){window.addEventListener("load",()=>{setTimeout(()=>{const e=performance.getEntriesByType("navigation")[0];this.dispatchCustomEvent("pwa-performance-metrics",{loadTime:e.loadEventEnd-e.fetchStart,domContentLoaded:e.domContentLoadedEventEnd-e.fetchStart,firstPaint:this.getFirstPaint(),cacheHitRatio:this.getCacheHitRatio()})},0)});new PerformanceObserver(e=>{const t=e.getEntries().filter(e=>e.duration>1e3);t.length>0&&this.dispatchCustomEvent("pwa-slow-resources",{resources:t.map(e=>{const t=e;return{name:e.name,duration:e.duration,size:t.transferSize||0}})})}).observe({type:"resource",buffered:!0})}}getFirstPaint(){const e=performance.getEntriesByType("paint").find(e=>"first-paint"===e.name);return e?e.startTime:0}getCacheHitRatio(){const e=tr.get("pwa-cache-hit-ratio");return parseFloat(e||"0")}isOnline(){return navigator.onLine}async requestNotificationPermission(){return"Notification"in window?"default"===Notification.permission?await Notification.requestPermission():Notification.permission:"denied"}async subscribeToPushNotifications(){if(!this.swRegistration)return null;try{if("granted"!==await this.requestNotificationPermission())return null;const e=un?.VITE_VAPID_PUBLIC_KEY;if(!e)return null;return await this.swRegistration.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:this.urlBase64ToUint8Array(e).buffer})}catch(e){return null}}async scheduleNotification(e,t,r){if(!("Notification"in window))return;"granted"===await this.requestNotificationPermission()&&setTimeout(()=>{new Notification(e,{body:t,icon:"/icons/icon-192x192.png".replace(/\/+/g,"/"),badge:"/icons/badge-72x72.png".replace(/\/+/g,"/"),tag:"pain-tracker-reminder",requireInteraction:!0})},r)}setupBackgroundSync(){this.swRegistration&&this.swRegistration}notifyUpdate(){this.dispatchCustomEvent("pwa-update-available")}notifyInstalled(){this.dispatchCustomEvent("pwa-content-cached")}async updateApp(){if(this.swRegistration){const e=this.swRegistration;e.waiting&&(e.waiting.postMessage({type:"SKIP_WAITING"}),window.location.reload())}}dispatchCustomEvent(e,t){const r=new CustomEvent(e,{detail:t});window.dispatchEvent(r)}urlBase64ToUint8Array(e){const t=(e+"=".repeat((4-e.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),r=window.atob(t),n=new Uint8Array(r.length);for(let s=0;s<r.length;++s)n[s]=r.charCodeAt(s);return n}async clearCaches(){if("caches"in window){const e=await caches.keys();await Promise.all(e.map(e=>caches.delete(e)))}}async getCacheSize(){if(!("storage"in navigator)||!("estimate"in navigator.storage))return 0;try{return(await navigator.storage.estimate()).usage||0}catch(e){return 0}}async exportOfflineData(){try{const{offlineStorage:e}=await d(async()=>{const{offlineStorage:e}=await import("./offline-storage-BNc7x0M7.js");return{offlineStorage:e}},[]),t=await e.exportData();return{entries:tr.safeJSON("painEntries",[]),settings:tr.safeJSON("pain-tracker-settings",{}),timestamp:(new Date).toISOString(),syncQueue:t.syncQueue}}catch(e){throw e}}async importOfflineData(e){try{if(e.entries&&tr.set("painEntries",e.entries),e.settings&&tr.set("pain-tracker-settings",e.settings),e.syncQueue){const{offlineStorage:t}=await d(async()=>{const{offlineStorage:e}=await import("./offline-storage-BNc7x0M7.js");return{offlineStorage:e}},[]);for(const r of e.syncQueue){const e=r;await t.addToSyncQueue({url:e.url,method:e.method,headers:e.headers||{},body:"string"==typeof e.body?e.body:JSON.stringify(e.body||{}),priority:e.priority||"medium",type:e.type||"sync"})}}1,this.dispatchCustomEvent("pwa-data-imported")}catch(t){throw t}}async enableHealthDataSync(){try{if("storage"in navigator&&"persist"in navigator.storage){if(!(await navigator.storage.persist()))return!1}if(this.swRegistration&&"sync"in this.swRegistration){const e=this.swRegistration;return await e.sync.register("health-data-sync"),!0}return!1}catch(e){return!1}}async scheduleHealthReminder(e,t,r){if(!("Notification"in window))return;if("granted"!==await this.requestNotificationPermission())return;const n=new Date,s=r.getTime()-n.getTime();s<=0?this.showNotification(e,t):setTimeout(()=>{this.showNotification(e,t)},s)}showNotification(e,t){new Notification(e,{body:t,icon:"/icons/icon-192x192.png".replace(/\/+/g,"/"),badge:"/icons/badge-72x72.png".replace(/\/+/g,"/"),tag:"health-reminder",requireInteraction:!0,data:{url:"/?reminder=true".replace(/\/+/g,"/"),timestamp:(new Date).toISOString()}})}async getDiagnostics(){const{offlineStorage:e}=await d(async()=>{const{offlineStorage:e}=await import("./offline-storage-BNc7x0M7.js");return{offlineStorage:e}},[]),{backgroundSync:t}=await d(async()=>{const{backgroundSync:e}=await import("./background-sync-DiQN0jqO.js");return{backgroundSync:e}},__vite__mapDeps([8,9,2,3,4,1,5,6,7])),r=await e.getStorageUsage(),n=await t.getPendingItemsCount(),s=tr.get("last-sync-time");return{isInstalled:this.isInstalled,hasServiceWorker:!!this.swRegistration,isOnline:navigator.onLine,storageUsage:r,capabilities:this.capabilities,pendingSyncItems:n,lastSync:s}}async clearPWAData(){try{await this.clearCaches();const{offlineStorage:e}=await d(async()=>{const{offlineStorage:e}=await import("./offline-storage-BNc7x0M7.js");return{offlineStorage:e}},[]);await e.clearAllData(),tr.keys().forEach(e=>tr.remove(e)),this.dispatchCustomEvent("pwa-data-cleared")}catch(e){throw e}}async resetServiceWorker(){try{if("serviceWorker"in navigator){const e=await navigator.serviceWorker.getRegistrations();await Promise.all(e.map(e=>e.unregister()))}await this.clearCaches(),await this.clearPWAData(),this.dispatchCustomEvent("pwa-service-worker-reset")}catch(e){throw e}}async forceRefresh(){try{await this.clearCaches(),window.location.reload()}catch(e){window.location.reload()}}async checkForUpdates(){if(!this.swRegistration)return!1;try{return await this.swRegistration.update(),!!this.swRegistration.waiting}catch(e){return!1}}}const mn=dn.getInstance();function pn(){const[r,n]=e.useState(!1),[s,a]=e.useState(!1);e.useEffect(()=>{const e=()=>{mn.isAppInstalled()||n(!0)},t=()=>{n(!1),a(!1)};return mn.isInstallPromptAvailable()&&!mn.isAppInstalled()&&n(!0),window.addEventListener("pwa-install-available",e),window.addEventListener("pwa-installed",t),()=>{window.removeEventListener("pwa-install-available",e),window.removeEventListener("pwa-installed",t)}},[]);return sessionStorage.getItem("pwa-install-dismissed")?null:r?t.jsxDEV("div",{className:"fixed bottom-4 left-4 z-50 max-w-sm w-[min(92%,420px)]",role:"dialog","aria-label":"Install Pain Tracker",children:[t.jsxDEV("div",{className:"absolute -inset-2 rounded-3xl opacity-60 blur-xl",style:{background:"linear-gradient(135deg, rgba(56, 189, 248, 0.3) 0%, rgba(168, 85, 247, 0.3) 100%)"}},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:71,columnNumber:7},this),t.jsxDEV("div",{className:"relative rounded-2xl overflow-hidden",style:{background:"linear-gradient(135deg, rgba(30, 41, 59, 0.98) 0%, rgba(15, 23, 42, 0.98) 100%)",border:"1px solid rgba(56, 189, 248, 0.3)",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.5), 0 0 40px rgba(56, 189, 248, 0.15)"},children:[t.jsxDEV("div",{className:"absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-sky-400 to-transparent"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:88,columnNumber:9},this),t.jsxDEV("div",{className:"p-5",children:[t.jsxDEV("div",{className:"flex items-start gap-4",children:[t.jsxDEV("div",{className:"flex-shrink-0 w-12 h-12 rounded-xl flex items-center justify-center",style:{background:"linear-gradient(135deg, rgba(56, 189, 248, 0.2) 0%, rgba(168, 85, 247, 0.2) 100%)",boxShadow:"0 8px 20px rgba(56, 189, 248, 0.2)"},children:t.jsxDEV(N,{className:"h-6 w-6 text-sky-400"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:100,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:93,columnNumber:13},this),t.jsxDEV("div",{className:"flex-1 min-w-0",children:[t.jsxDEV("div",{className:"flex items-center gap-2",children:[t.jsxDEV("h3",{className:"text-base font-bold text-white",children:"Install Pain Tracker"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:106,columnNumber:17},this),t.jsxDEV(D,{className:"h-4 w-4 text-amber-400"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:107,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:105,columnNumber:15},this),t.jsxDEV("p",{className:"text-sm text-slate-400 mt-1 leading-relaxed",children:"Add to your home screen for quick access and offline tracking"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:109,columnNumber:15},this),t.jsxDEV("div",{className:"flex items-center gap-3 mt-4",children:[t.jsxDEV(yt,{size:"sm",onClick:async()=>{a(!0);try{await mn.showInstallPrompt()||a(!1)}catch(e){a(!1)}},disabled:s,className:"relative px-5 py-2.5 text-white font-medium transition-all duration-300 hover:scale-105",style:{background:"linear-gradient(135deg, #0ea5e9 0%, #8b5cf6 100%)",boxShadow:"0 8px 20px rgba(56, 189, 248, 0.3)"},children:[t.jsxDEV(E,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:125,columnNumber:19},this),t.jsxDEV("span",{children:s?"Installing...":"Install App"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:126,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:115,columnNumber:17},this),t.jsxDEV("button",{onClick:()=>{n(!1),sessionStorage.setItem("pwa-install-dismissed","true")},className:"p-2 rounded-lg text-slate-500 hover:text-slate-300 hover:bg-slate-800/50 transition-colors duration-200","aria-label":"Dismiss",children:t.jsxDEV(v,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:134,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:129,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:114,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:104,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:91,columnNumber:11},this),t.jsxDEV("div",{className:"mt-5 pt-4 grid grid-cols-3 gap-3",style:{borderTop:"1px solid rgba(255, 255, 255, 0.1)"},children:[{icon:S,label:"Works offline",color:"#34d399"},{icon:C,label:"Lightning fast",color:"#38bdf8"},{icon:P,label:"Reminders",color:"#a855f7"}].map(e=>t.jsxDEV("div",{className:"flex flex-col items-center text-center",children:[t.jsxDEV("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center mb-1.5",style:{background:`${e.color}20`},children:t.jsxDEV(e.icon,{className:"h-4 w-4",style:{color:e.color}},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:155,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:151,columnNumber:17},this),t.jsxDEV("span",{className:"text-[11px] text-slate-400",children:e.label},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:157,columnNumber:17},this)]},e.label,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:150,columnNumber:15},this))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:141,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:90,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:79,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:65,columnNumber:5},this):null}function fn(){const[r,n]=e.useState({isOnline:navigator.onLine,pendingSync:0,isSyncing:!1});return e.useEffect(()=>{const e=async()=>{try{const{backgroundSync:e}=await d(async()=>{const{backgroundSync:e}=await import("./background-sync-DiQN0jqO.js");return{backgroundSync:e}},__vite__mapDeps([8,9,2,3,4,1,5,6,7])),t=await e.getPendingItemsCount(),{isSyncing:r}=e.getSyncStatus();n(e=>({...e,pendingSync:t,isSyncing:r}))}catch{n(e=>({...e,pendingSync:0,isSyncing:!1}))}},t=()=>{n(e=>({...e,isOnline:!0})),e()},r=()=>n(e=>({...e,isOnline:!1})),s=()=>e();window.addEventListener("online",t),window.addEventListener("offline",r),window.addEventListener("background-sync-sync-completed",s),window.addEventListener("background-sync-sync-started",s),e();const a=setInterval(e,3e4);return()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r),window.removeEventListener("background-sync-sync-completed",s),window.removeEventListener("background-sync-sync-started",s),clearInterval(a)}},[]),r.isOnline&&0===r.pendingSync&&!r.isSyncing?null:t.jsxDEV("div",{className:"fixed bottom-4 right-4 z-50",children:t.jsxDEV("div",{className:"bg-white rounded-lg border shadow-lg border-l-4 border-l-blue-500 p-3 max-w-xs",children:[t.jsxDEV("div",{className:"flex items-center space-x-2",children:[!r.isOnline&&t.jsxDEV("div",{className:"flex items-center space-x-1",children:[t.jsxDEV("div",{className:"w-2 h-2 bg-red-500 rounded-full"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAStatusIndicator.tsx",lineNumber:82,columnNumber:15},this),t.jsxDEV("span",{className:"text-sm font-medium text-red-700",children:"Offline"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAStatusIndicator.tsx",lineNumber:83,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAStatusIndicator.tsx",lineNumber:81,columnNumber:13},this),r.isSyncing&&t.jsxDEV("div",{className:"flex items-center space-x-1",children:[t.jsxDEV("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAStatusIndicator.tsx",lineNumber:88,columnNumber:15},this),t.jsxDEV("span",{className:"text-sm font-medium text-blue-700",children:"Syncing..."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAStatusIndicator.tsx",lineNumber:89,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAStatusIndicator.tsx",lineNumber:87,columnNumber:13},this),r.pendingSync>0&&!r.isSyncing&&t.jsxDEV("div",{className:"flex items-center space-x-1",children:[t.jsxDEV("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAStatusIndicator.tsx",lineNumber:94,columnNumber:15},this),t.jsxDEV("span",{className:"text-sm font-medium text-yellow-700",children:[r.pendingSync," pending"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAStatusIndicator.tsx",lineNumber:95,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAStatusIndicator.tsx",lineNumber:93,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAStatusIndicator.tsx",lineNumber:79,columnNumber:9},this),!r.isOnline&&t.jsxDEV("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:"Your data is saved locally and will sync when you're back online"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAStatusIndicator.tsx",lineNumber:102,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAStatusIndicator.tsx",lineNumber:78,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAStatusIndicator.tsx",lineNumber:77,columnNumber:5},this)}const hn="pain-tracker:notification-consent";function gn(){const[t,r]=e.useState(()=>{try{return localStorage.getItem(hn)}catch{return null}}),{bottomLeft:n}=Yt(),{requestPrompt:s,dismissPrompt:a,canShowPrompt:i}=nn(),o=e.useRef(!1),c=e.useRef(a);return e.useEffect(()=>{c.current=a},[a]),e.useEffect(()=>{t||s("notification-consent",2)},[t,s]),e.useEffect(()=>{if(!localStorage.getItem(hn)&&!t&&i("notification-consent")&&!o.current){o.current=!0;const e=async()=>{try{const e=await Notification.requestPermission();localStorage.setItem(hn,e),r(e),c.current("notification-consent")}catch{localStorage.setItem(hn,"denied"),r("denied"),c.current("notification-consent")}},t=()=>{localStorage.setItem(hn,"dismissed"),r("dismissed"),c.current("notification-consent")};n.info("Get gentle notifications?","We can notify you about important pain pattern alerts and medication reminders. You can change this later in Settings.",{label:"Allow",onClick:e},{onDismiss:t})}},[t,i]),null}const yn="pain-tracker:analytics-consent";function bn(){const[t,r]=e.useState(()=>{try{return localStorage.getItem(yn)}catch{return null}}),{bottomLeft:n}=Yt(),{requestPrompt:s,dismissPrompt:a,canShowPrompt:i}=nn(),o=e.useRef(!1),c=e.useRef(n),l=e.useRef(a);return e.useEffect(()=>{c.current=n,l.current=a},[n,a]),e.useEffect(()=>{t||s("analytics-consent",3)},[t,s]),e.useEffect(()=>{if(!localStorage.getItem(yn)&&!t&&i("analytics-consent")&&!o.current){o.current=!0;const e=async()=>{try{localStorage.setItem(yn,"granted"),r("granted");await Lr.requestConsent()&&c.current.success("Thank you!","Your anonymous usage data will help us improve Pain Tracker for everyone."),l.current("analytics-consent")}catch{localStorage.setItem(yn,"error"),r("error"),l.current("analytics-consent")}},t=()=>{localStorage.setItem(yn,"declined"),r("declined"),Lr.updatePrivacyConfig({enableAnalytics:!1}),l.current("analytics-consent")};c.current.info("Help improve Pain Tracker?","We'd like to collect anonymous usage data to improve the app. Your pain data stays private and local. No personal information is collected.",{label:"Allow",onClick:e},{onDismiss:t})}},[t,i]),null}let vn=null,xn=null;async function wn(){return vn&&"function"==typeof vn.crypto_pwhash?vn:(vn&&(vn=null,xn=null),xn||(xn=(async()=>{const e=await d(()=>import("./crypto-vendor-BimNoyyQ.js").then(e=>e.l),__vite__mapDeps([10,3,2,4])),t=e.default||e;if(await t.ready,"function"!=typeof t.crypto_pwhash)throw new Error("[sodium] crypto_pwhash function not available even in SUMO version!");return vn=t,t})()),xn)}const kn={BASE_URL:"/",DEV:!0,MODE:"production",PROD:!1,SSR:!1,VITE_APP_ENVIRONMENT:"development",VITE_REACT_APP_ENABLE_VALIDATION:"true",VITE_SENTRY_DSN:"",VITE_USER_NODE_ENV:"development",VITE_WCB_API_ENDPOINT:"/api/wcb"},Nn="vault:metadata";async function Dn(){await wn()}function En(e){try{const t=JSON.parse(e);return"object"==typeof t&&"xchacha20-poly1305"===t?.v&&"string"==typeof t?.c&&"string"==typeof t?.n}catch{return!1}}const Sn=new class{status={state:"uninitialized",metadata:null,sodiumReady:!1};key=null;listeners=new Set;initialized=!1;async initialize(){if(this.initialized)return this.status;try{await wn(),this.status.sodiumReady=!0}catch(t){return this.logEvent("error","Failed to initialize libsodium",{error:t instanceof Error?t.message:"unknown"}),this.status.state="error",this.status}const e=this.loadMetadata();return this.status=e?{state:"locked",metadata:e,sodiumReady:!0}:{state:"uninitialized",metadata:null,sodiumReady:!0},this.initialized=!0,this.emit(),this.status}onChange(e){return this.listeners.add(e),e(this.status),()=>{this.listeners.delete(e)}}getStatus(){return this.status}async setupPassphrase(e){if(!e||e.length<12)throw new Error("Passphrase must be at least 12 characters.");await Dn();const t=await wn(),r=t.crypto_pwhash_SALTBYTES,n=Number.isInteger(r)&&r>0?r:16;n!==r&&this.logEvent("warning","Using fallback salt length",{configuredSaltBytes:r,saltBytes:n});const s=t.randombytes_buf(n),a=t.crypto_pwhash_OPSLIMIT_MODERATE,i=t.crypto_pwhash_MEMLIMIT_MODERATE,o=t.crypto_aead_xchacha20poly1305_ietf_KEYBYTES,c=t.crypto_pwhash(o,e,s,a,i,t.crypto_pwhash_ALG_ARGON2ID13),l=t.crypto_pwhash_str(e,a,i),u={version:"3.0.0",createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),derivation:{algorithm:"argon2id",salt:t.to_base64(s,1),opslimit:a,memlimit:i,keyLength:o},verification:{algorithm:"argon2id",hash:l},cipher:{algorithm:"xchacha20-poly1305",nonceLength:t.crypto_aead_xchacha20poly1305_ietf_NPUBBYTES},migrations:{}};if(!tr.set(Nn,u).success)throw new Error("Failed to persist vault metadata.");this.key=c,this.status={state:"unlocked",metadata:u,sodiumReady:!0},this.applyGlobalHooks(),await this.migrateLegacyStorage(),this.logEvent("info","Vault passphrase initialized"),this.emit()}async unlock(e){if(!e)throw new Error("Passphrase is required.");await this.initialize(),await Dn();const{metadata:t}=this.status;if(!t)throw new Error("Vault not configured.");const r=await wn();let n=!1;try{n=r.crypto_pwhash_str_verify(t.verification.hash,e)}catch(i){throw this.logEvent("error",`Passphrase verification error: ${i}`),new Error("Passphrase verification failed.")}if(!n)throw this.logEvent("warning","Vault unlock attempt failed"),new Error("Incorrect passphrase.");const s=r.from_base64(t.derivation.salt,1);s instanceof Uint8Array&&!(s.length<=0)||this.logEvent("error","Derived salt invalid",{actual:s?.length});const a=r.crypto_pwhash(t.derivation.keyLength,e,s,t.derivation.opslimit,t.derivation.memlimit,r.crypto_pwhash_ALG_ARGON2ID13);this.key=a,this.status={...this.status,state:"unlocked"},this.applyGlobalHooks(),await this.migrateLegacyStorage(),this.logEvent("info","Vault unlocked"),this.emit()}lock(){this.key&&wn().then(e=>{e.memzero(this.key)}).catch(()=>{}),this.key=null,delete globalThis.__secureStorageEncrypt,delete globalThis.__secureStorageDecrypt,"uninitialized"!==this.status.state&&(this.status={...this.status,state:"locked"},this.emit()),this.logEvent("info","Vault locked")}isUnlocked(){return"unlocked"===this.status.state&&!!this.key}encryptString(e){if(!this.key)throw new Error("encryptString: key not set");if(!this.status.sodiumReady)throw new Error("encryptString: libsodium not ready");const t=this.assertSodium(),r=this.key;if(!(r instanceof Uint8Array)||r.length!==t.crypto_aead_xchacha20poly1305_ietf_KEYBYTES)throw new Error("encryptString: invalid key type/length");const n=function(e){if(null==e)throw new TypeError("encryptString: message is null/undefined");if(e instanceof Uint8Array)return e;if("undefined"!=typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);if(ArrayBuffer.isView(e)){const t=e;return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}if(e instanceof ArrayBuffer)return new Uint8Array(e);const t=new TextEncoder;return"string"==typeof e?t.encode(e):t.encode(JSON.stringify(e))}(e),s=t.crypto_aead_xchacha20poly1305_ietf_NPUBBYTES;if(!Number.isInteger(s)||s<=0)throw new Error("encryptString: invalid nonce length constant");const a=t.randombytes_buf(s),i=ArrayBuffer.isView(n)?new Uint8Array(n.buffer,n.byteOffset,n.byteLength):n,o=t.crypto_aead_xchacha20poly1305_ietf_encrypt(i,null,null,a,r);return JSON.stringify({v:"xchacha20-poly1305",n:t.to_base64(a,1),c:t.to_base64(o,1)})}decryptString(e){if(!this.key)throw new Error("decryptString: key not set");if(!this.status.sodiumReady)throw new Error("decryptString: libsodium not ready");const t=this.assertSodium();try{const r=JSON.parse(e);if("xchacha20-poly1305"!==r?.v)return e;const n=this.key,s=t.from_base64(r.n,1),a=t.from_base64(r.c,1),i=t.crypto_aead_xchacha20poly1305_ietf_decrypt(null,a,null,s,n);return t.to_string(i)}catch{return e}}encryptBytes(e){if(!this.key)throw new Error("Vault is locked.");const t=this.assertSodium(),r=t.crypto_aead_xchacha20poly1305_ietf_NPUBBYTES;if(!Number.isInteger(r)||r<=0)throw new Error("encryptBytes: invalid nonce length constant");const n=t.randombytes_buf(r),s=t.crypto_aead_xchacha20poly1305_ietf_encrypt(e,null,null,n,this.key);return{nonce:t.to_base64(n,1),cipher:t.to_base64(s,1)}}decryptBytes(e){if(!this.key)throw new Error("Vault is locked.");const t=this.assertSodium(),r=t.from_base64(e.nonce,1),n=t.from_base64(e.cipher,1);return t.crypto_aead_xchacha20poly1305_ietf_decrypt(null,n,null,r,this.key)}clearAll(){tr.remove(Nn),this.lock(),this.status={state:"uninitialized",metadata:null,sodiumReady:this.status.sodiumReady},this.emit()}emit(){for(const e of this.listeners)e(this.status)}loadMetadata(){try{const e=tr.get(Nn);return e||null}catch{return null}}async migrateLegacyStorage(){if(!this.key||!this.status.metadata)return;let e=0,t=0;for(let n=0;n<localStorage.length;n++){const s=localStorage.key(n);if(!s||!s.startsWith("pt:"))continue;if(s===`pt:${Nn}`)continue;const a=localStorage.getItem(s);if("string"==typeof a&&0!==a.length){if(!En(a))try{const t=this.encryptString(a);localStorage.setItem(s,t),e+=1}catch(r){t+=1,this.logEvent("warning","Failed to migrate legacy secureStorage entry",{key:s,error:r instanceof Error?r.message:"unknown"})}}else t+=1}if(e>0||t>0){const r={...this.status.metadata,migrations:{...this.status.metadata?.migrations,legacyCompletedAt:(new Date).toISOString()},updatedAt:(new Date).toISOString()};tr.set(Nn,r).success||this.logEvent("warning","Failed to update vault metadata after migration"),this.status={...this.status,metadata:r},this.logEvent("info","Legacy storage re-encrypted",{reencrypted:e,skipped:t})}}applyGlobalHooks(){this.key&&(globalThis.__secureStorageEncrypt=e=>this.encryptString(e),globalThis.__secureStorageDecrypt=e=>this.decryptString(e))}assertSodium(){const e=vn;if(!e)throw new Error("libsodium not ready");return e}logEvent(e,t,r){try{_r.logSecurityEvent({type:"vault",level:e,message:t,metadata:r,timestamp:new Date})}catch{}}};try{kn&&import.meta.DEV&&(globalThis.__test_vault={setup:async e=>{try{return await Sn.setupPassphrase(e),{success:!0}}catch(t){return{success:!1,error:String(t?.message||t)}}},unlock:async e=>{try{return await Sn.unlock(e),{success:!0}}catch(t){return{success:!1,error:String(t?.message||t)}}},isUnlocked:()=>Sn.isUnlocked()})}catch{}function Cn(e){return Sn.onChange(()=>e())}function Pn(){return Sn.getStatus()}function jn(){const t=e.useSyncExternalStore(Cn,Pn,Pn);return e.useEffect(()=>{Sn.initialize()},[]),t}const Tn=({children:r})=>{const{status:n,setupPassphrase:s,unlock:a,lock:i,clearAll:o}={status:jn(),setupPassphrase:e=>Sn.setupPassphrase(e),unlock:e=>Sn.unlock(e),lock:()=>Sn.lock(),clearAll:()=>Sn.clearAll()},[c,l]=e.useState(""),[u,d]=e.useState(""),[m,p]=e.useState(null),[f,h]=e.useState(!1),g=e.useRef(null),[y,b]=e.useState(!1);e.useEffect(()=>{"uninitialized"!==n.state&&"locked"!==n.state||setTimeout(()=>{g.current?.focus()},50)},[n.state]);const v=()=>{l(""),d(""),p(null)},x=async e=>{if(e.preventDefault(),!f)if(c===u)if(c.length<12)p("Passphrase must be at least 12 characters long.");else{h(!0),p(null);try{await s(c),v()}catch(t){p(t instanceof Error?t.message:"Unable to initialize vault.")}finally{h(!1)}}else p("Passphrases must match.")},w=async e=>{if(e.preventDefault(),!f)if(c){h(!0),p(null);try{await a(c),v()}catch(t){p(t instanceof Error?t.message:"Unable to unlock vault.")}finally{h(!1)}}else p("Please enter your secure passphrase.")},k=async()=>{window.confirm("Resetting the secure vault will permanently remove all locally stored entries and settings. This action cannot be undone. Do you want to continue?")&&(o(),i(),v())};try{const e=window.__pt_test_mode,n="undefined"!=typeof localStorage&&"1"===localStorage.getItem("pt:test_mode");if(e&&n)return t.jsxDEV(t.Fragment,{children:r},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:317,columnNumber:14},void 0)}catch{}return t.jsxDEV(t.Fragment,{children:"unlocked"===n.state?r:n.sodiumReady?"unlocked"===n.state?t.jsxDEV(t.Fragment,{children:r},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:271,columnNumber:14},void 0):t.jsxDEV("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/95 dark:bg-black/90 px-4",role:"dialog","aria-modal":"true","aria-labelledby":"vault-dialog-title",children:t.jsxDEV("div",{className:"w-full max-w-lg rounded-xl bg-white dark:bg-slate-800 p-6 shadow-2xl focus:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500",children:[t.jsxDEV("div",{className:"flex items-center justify-between mb-6",children:[t.jsxDEV("div",{children:[t.jsxDEV("h1",{id:"vault-dialog-title",className:"text-3xl font-semibold text-gray-900 dark:text-gray-100",children:"Secure vault"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:284,columnNumber:15},void 0),t.jsxDEV("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"End-to-end encrypted storage protects your story and wellbeing."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:290,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:283,columnNumber:13},void 0),t.jsxDEV("span",{"aria-hidden":"true",className:"inline-flex h-10 w-10 items-center justify-center rounded-full bg-indigo-50 text-indigo-600 text-lg font-semibold",children:""},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:294,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:282,columnNumber:11},void 0),t.jsxDEV("div",{children:"uninitialized"===n.state?t.jsxDEV("form",{onSubmit:x,className:"space-y-6","aria-labelledby":"vault-setup-title",children:[t.jsxDEV("div",{children:[t.jsxDEV("h2",{id:"vault-setup-title",className:"text-2xl font-semibold text-gray-900 dark:text-gray-100",children:"Create a secure passphrase"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:93,columnNumber:9},void 0),t.jsxDEV("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Choose a gentle yet strong passphrase that you will remember. It protects your pain entries and personal notes on this device. For security, your passphrase is never stored anywhere."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:99,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:92,columnNumber:7},void 0),t.jsxDEV("div",{className:"space-y-4",children:[t.jsxDEV("label",{className:"block",htmlFor:"vault-passphrase",children:[t.jsxDEV("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Passphrase"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:108,columnNumber:11},void 0),t.jsxDEV("input",{id:"vault-passphrase",ref:g,type:y?"text":"password",value:c,onChange:e=>l(e.target.value),className:"mt-1 block w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-slate-700 text-gray-900 dark:text-gray-100 px-3 py-2 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500",minLength:12,"aria-describedby":"vault-passphrase-help",autoComplete:"new-password",required:!0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:109,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:107,columnNumber:9},void 0),t.jsxDEV("p",{id:"vault-passphrase-help",className:"text-xs text-gray-500 dark:text-gray-400",children:["Use at least ",12," characters. Short sentences or unique phrases are often easiest to recall."]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:122,columnNumber:9},void 0),t.jsxDEV("label",{className:"block",htmlFor:"vault-passphrase-confirm",children:[t.jsxDEV("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Confirm passphrase"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:128,columnNumber:11},void 0),t.jsxDEV("input",{id:"vault-passphrase-confirm",type:y?"text":"password",value:u,onChange:e=>d(e.target.value),className:"mt-1 block w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-slate-700 text-gray-900 dark:text-gray-100 px-3 py-2 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500",autoComplete:"new-password",required:!0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:131,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:127,columnNumber:9},void 0),t.jsxDEV("button",{type:"button",onClick:()=>b(e=>!e),className:"text-sm text-indigo-600 dark:text-indigo-400 hover:text-indigo-500 focus:outline-none",children:y?"Hide passphrase":"Show passphrase"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:142,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:106,columnNumber:7},void 0),m&&t.jsxDEV("div",{role:"alert",className:"rounded-md bg-red-50 dark:bg-red-900/30 p-3 text-sm text-red-700 dark:text-red-300 border border-red-100 dark:border-red-800",children:m},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:152,columnNumber:9},void 0),t.jsxDEV("div",{className:"flex flex-col space-y-3 sm:flex-row sm:space-y-0 sm:space-x-3",children:[t.jsxDEV("button",{type:"submit",className:"inline-flex items-center justify-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-60",disabled:f,children:f?"Securing...":"Create secure vault"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:161,columnNumber:9},void 0),t.jsxDEV("button",{type:"button",onClick:v,className:"inline-flex items-center justify-center rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-slate-700 px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 shadow-sm hover:bg-gray-50 dark:hover:bg-slate-600 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:"Clear fields"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:168,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:160,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:91,columnNumber:5},void 0):t.jsxDEV("form",{onSubmit:w,className:"space-y-6","aria-labelledby":"vault-unlock-title",children:[t.jsxDEV("div",{className:"flex items-start justify-between",children:[t.jsxDEV("div",{children:[t.jsxDEV("h2",{id:"vault-unlock-title",className:"text-2xl font-semibold text-gray-900 dark:text-gray-100",children:"Unlock secure vault"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:183,columnNumber:11},void 0),t.jsxDEV("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Enter your trusted passphrase to access encrypted pain entries and preferences."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:189,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:182,columnNumber:9},void 0),t.jsxDEV("button",{type:"button",onClick:k,className:"text-sm text-red-600 dark:text-red-400 hover:text-red-500 focus:outline-none",children:"Reset vault"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:193,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:181,columnNumber:7},void 0),t.jsxDEV("div",{className:"space-y-4",children:[t.jsxDEV("label",{className:"block",htmlFor:"vault-passphrase-unlock",children:[t.jsxDEV("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Passphrase"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:204,columnNumber:11},void 0),t.jsxDEV("input",{id:"vault-passphrase-unlock",ref:g,type:y?"text":"password",value:c,onChange:e=>l(e.target.value),className:"mt-1 block w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-slate-700 text-gray-900 dark:text-gray-100 px-3 py-2 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500",autoComplete:"current-password",required:!0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:205,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:203,columnNumber:9},void 0),t.jsxDEV("button",{type:"button",onClick:()=>b(e=>!e),className:"text-sm text-indigo-600 dark:text-indigo-400 hover:text-indigo-500 focus:outline-none",children:y?"Hide passphrase":"Show passphrase"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:216,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:202,columnNumber:7},void 0),m&&t.jsxDEV("div",{role:"alert",className:"rounded-md bg-yellow-50 dark:bg-yellow-900/30 p-3 text-sm text-yellow-800 dark:text-yellow-300 border border-yellow-100 dark:border-yellow-800",children:m},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:226,columnNumber:9},void 0),t.jsxDEV("div",{className:"flex flex-col space-y-3 sm:flex-row sm:space-y-0 sm:space-x-3",children:[t.jsxDEV("button",{type:"submit",className:"inline-flex items-center justify-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-60",disabled:f,children:f?"Unlocking...":"Unlock vault"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:235,columnNumber:9},void 0),t.jsxDEV("button",{type:"button",onClick:()=>{v(),setTimeout(()=>g.current?.focus(),50)},className:"inline-flex items-center justify-center rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-slate-700 px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 shadow-sm hover:bg-gray-50 dark:hover:bg-slate-600 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:"Try again"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:242,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:234,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:180,columnNumber:5},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:301,columnNumber:11},void 0),t.jsxDEV("p",{className:"mt-6 text-xs text-gray-500 dark:text-gray-400",children:"Tip: If you ever need to safely reset the vault, choose Reset vault. This keeps your account secure but removes local data from this device."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:302,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:281,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:275,columnNumber:7},void 0):t.jsxDEV("div",{className:"text-center",children:[t.jsxDEV("p",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Preparing secure vault"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:260,columnNumber:11},void 0),t.jsxDEV("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Loading privacy protections. Thank you for your patience."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:263,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:259,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:323,columnNumber:10},void 0)},In=Object.freeze(Object.defineProperty({__proto__:null,VaultGate:Tn},Symbol.toStringTag,{value:"Module"}));var An,Vn,Un,_n,On,Rn,Ln,Mn,Fn,zn,Bn,Wn={exports:{}};function $n(){if(Vn)return An;Vn=1;var e=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;return An=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(s){return!1}}()?Object.assign:function(n,s){for(var a,i,o=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(n),c=1;c<arguments.length;c++){for(var l in a=Object(arguments[c]))t.call(a,l)&&(o[l]=a[l]);if(e){i=e(a);for(var u=0;u<i.length;u++)r.call(a,i[u])&&(o[i[u]]=a[i[u]])}}return o},An}function qn(){if(_n)return Un;_n=1;return Un="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}function Gn(){return Rn?On:(Rn=1,On=Function.call.bind(Object.prototype.hasOwnProperty))}function Hn(){if(Mn)return Ln;Mn=1;var e,t=qn(),r={},n=Gn();function s(s,a,i,o,c){for(var l in s)if(n(s,l)){var u;try{if("function"!=typeof s[l]){var d=Error((o||"React class")+": "+i+" type `"+l+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof s[l]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw d.name="Invariant Violation",d}u=s[l](a,l,o,i,null,t)}catch(p){u=p}if(!u||u instanceof Error||e((o||"React class")+": type specification of "+i+" `"+l+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof u+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),u instanceof Error&&!(u.message in r)){r[u.message]=!0;var m=c?c():"";e("Failed "+i+" type: "+u.message+(null!=m?m:""))}}}return e=function(e){var t="Warning: "+e;try{throw new Error(t)}catch(r){}},s.resetWarningCache=function(){r={}},Ln=s}function Kn(){if(zn)return Fn;zn=1;var e,t=s(),r=$n(),n=qn(),a=Gn(),i=Hn();function o(){return null}return e=function(e){var t="Warning: "+e;try{throw new Error(t)}catch(r){}},Fn=function(s,c){var l="function"==typeof Symbol&&Symbol.iterator;var u="<<anonymous>>",d={array:h("array"),bigint:h("bigint"),bool:h("boolean"),func:h("function"),number:h("number"),object:h("object"),string:h("string"),symbol:h("symbol"),any:f(o),arrayOf:function(e){return f(function(t,r,s,a,i){if("function"!=typeof e)return new p("Property `"+i+"` of component `"+s+"` has invalid PropType notation inside arrayOf.");var o=t[r];if(!Array.isArray(o))return new p("Invalid "+a+" `"+i+"` of type `"+b(o)+"` supplied to `"+s+"`, expected an array.");for(var c=0;c<o.length;c++){var l=e(o,c,s,a,i+"["+c+"]",n);if(l instanceof Error)return l}return null})},element:f(function(e,t,r,n,a){var i=e[t];return s(i)?null:new p("Invalid "+n+" `"+a+"` of type `"+b(i)+"` supplied to `"+r+"`, expected a single ReactElement.")}),elementType:f(function(e,r,n,s,a){var i=e[r];return t.isValidElementType(i)?null:new p("Invalid "+s+" `"+a+"` of type `"+b(i)+"` supplied to `"+n+"`, expected a single ReactElement type.")}),instanceOf:function(e){return f(function(t,r,n,s,a){if(!(t[r]instanceof e)){var i=e.name||u;return new p("Invalid "+s+" `"+a+"` of type `"+(((o=t[r]).constructor&&o.constructor.name?o.constructor.name:u)+"` supplied to `")+n+"`, expected instance of `"+i+"`.")}var o;return null})},node:f(function(e,t,r,n,s){return y(e[t])?null:new p("Invalid "+n+" `"+s+"` supplied to `"+r+"`, expected a ReactNode.")}),objectOf:function(e){return f(function(t,r,s,i,o){if("function"!=typeof e)return new p("Property `"+o+"` of component `"+s+"` has invalid PropType notation inside objectOf.");var c=t[r],l=b(c);if("object"!==l)return new p("Invalid "+i+" `"+o+"` of type `"+l+"` supplied to `"+s+"`, expected an object.");for(var u in c)if(a(c,u)){var d=e(c,u,s,i,o+"."+u,n);if(d instanceof Error)return d}return null})},oneOf:function(t){if(!Array.isArray(t))return e(arguments.length>1?"Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).":"Invalid argument supplied to oneOf, expected an array."),o;return f(function(e,r,n,s,a){for(var i=e[r],o=0;o<t.length;o++)if(m(i,t[o]))return null;var c=JSON.stringify(t,function(e,t){return"symbol"===v(t)?String(t):t});return new p("Invalid "+s+" `"+a+"` of value `"+String(i)+"` supplied to `"+n+"`, expected one of "+c+".")})},oneOfType:function(t){if(!Array.isArray(t))return e("Invalid argument supplied to oneOfType, expected an instance of array."),o;for(var r=0;r<t.length;r++){var s=t[r];if("function"!=typeof s)return e("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+x(s)+" at index "+r+"."),o}return f(function(e,r,s,i,o){for(var c=[],l=0;l<t.length;l++){var u=(0,t[l])(e,r,s,i,o,n);if(null==u)return null;u.data&&a(u.data,"expectedType")&&c.push(u.data.expectedType)}return new p("Invalid "+i+" `"+o+"` supplied to `"+s+"`"+(c.length>0?", expected one of type ["+c.join(", ")+"]":"")+".")})},shape:function(e){return f(function(t,r,s,a,i){var o=t[r],c=b(o);if("object"!==c)return new p("Invalid "+a+" `"+i+"` of type `"+c+"` supplied to `"+s+"`, expected `object`.");for(var l in e){var u=e[l];if("function"!=typeof u)return g(s,a,i,l,v(u));var d=u(o,l,s,a,i+"."+l,n);if(d)return d}return null})},exact:function(e){return f(function(t,s,i,o,c){var l=t[s],u=b(l);if("object"!==u)return new p("Invalid "+o+" `"+c+"` of type `"+u+"` supplied to `"+i+"`, expected `object`.");var d=r({},t[s],e);for(var m in d){var f=e[m];if(a(e,m)&&"function"!=typeof f)return g(i,o,c,m,v(f));if(!f)return new p("Invalid "+o+" `"+c+"` key `"+m+"` supplied to `"+i+"`.\nBad object: "+JSON.stringify(t[s],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var h=f(l,m,i,o,c+"."+m,n);if(h)return h}return null})}};function m(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function p(e,t){this.message=e,this.data=t&&"object"==typeof t?t:{},this.stack=""}function f(t){var r={},s=0;function a(a,i,o,l,d,m,f){if(l=l||u,m=m||o,f!==n){if(c){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}if("undefined"!=typeof console){var g=l+":"+o;!r[g]&&s<3&&(e("You are manually calling a React.PropTypes validation function for the `"+m+"` prop on `"+l+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),r[g]=!0,s++)}}return null==i[o]?a?null===i[o]?new p("The "+d+" `"+m+"` is marked as required in `"+l+"`, but its value is `null`."):new p("The "+d+" `"+m+"` is marked as required in `"+l+"`, but its value is `undefined`."):null:t(i,o,l,d,m)}var i=a.bind(null,!1);return i.isRequired=a.bind(null,!0),i}function h(e){return f(function(t,r,n,s,a,i){var o=t[r];return b(o)!==e?new p("Invalid "+s+" `"+a+"` of type `"+v(o)+"` supplied to `"+n+"`, expected `"+e+"`.",{expectedType:e}):null})}function g(e,t,r,n,s){return new p((e||"React class")+": "+t+" type `"+r+"."+n+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+s+"`.")}function y(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(y);if(null===e||s(e))return!0;var t=function(e){var t=e&&(l&&e[l]||e["@@iterator"]);if("function"==typeof t)return t}(e);if(!t)return!1;var r,n=t.call(e);if(t!==e.entries){for(;!(r=n.next()).done;)if(!y(r.value))return!1}else for(;!(r=n.next()).done;){var a=r.value;if(a&&!y(a[1]))return!1}return!0;default:return!1}}function b(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||!!t&&("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}(t,e)?"symbol":t}function v(e){if(null==e)return""+e;var t=b(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function x(e){var t=v(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}return p.prototype=Error.prototype,d.checkPropTypes=i,d.resetWarningCache=i.resetWarningCache,d.PropTypes=d,d},Fn}function Yn(){if(Bn)return Wn.exports;Bn=1;var e=s();return Wn.exports=Kn()(e.isElement,true),Wn.exports}var Jn=["input","select","textarea","a[href]","button","[tabindex]:not(slot)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],Qn=Jn.join(","),Zn="undefined"==typeof Element,Xn=Zn?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,es=!Zn&&Element.prototype.getRootNode?function(e){return e.getRootNode()}:function(e){return e.ownerDocument},ts=function(e,t,r){var n=Array.prototype.slice.apply(e.querySelectorAll(Qn));return t&&Xn.call(e,Qn)&&n.unshift(e),n=n.filter(r)},rs=function e(t,r,n){for(var s=[],a=Array.from(t);a.length;){var i=a.shift();if("SLOT"===i.tagName){var o=i.assignedElements(),c=e(o.length?o:i.children,!0,n);n.flatten?s.push.apply(s,c):s.push({scope:i,candidates:c})}else{Xn.call(i,Qn)&&n.filter(i)&&(r||!t.includes(i))&&s.push(i);var l=i.shadowRoot||"function"==typeof n.getShadowRoot&&n.getShadowRoot(i),u=!n.shadowRootFilter||n.shadowRootFilter(i);if(l&&u){var d=e(!0===l?i.children:l.children,!0,n);n.flatten?s.push.apply(s,d):s.push({scope:i,candidates:d})}else a.unshift.apply(a,i.children)}}return s},ns=function(e,t){return e.tabIndex<0&&(t||/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||e.isContentEditable)&&isNaN(parseInt(e.getAttribute("tabindex"),10))?0:e.tabIndex},ss=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},as=function(e){return"INPUT"===e.tagName},is=function(e){return function(e){return as(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;var t,r=e.form||es(e),n=function(e){return r.querySelectorAll('input[type="radio"][name="'+e+'"]')};if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)t=n(window.CSS.escape(e.name));else try{t=n(e.name)}catch(a){return!1}var s=function(e,t){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===t)return e[r]}(t,e.form);return!s||s===e}(e)},os=function(e){var t=e.getBoundingClientRect(),r=t.width,n=t.height;return 0===r&&0===n},cs=function(e,t){return!(t.disabled||function(e){return as(e)&&"hidden"===e.type}(t)||function(e,t){var r=t.displayCheck,n=t.getShadowRoot;if("hidden"===getComputedStyle(e).visibility)return!0;var s=Xn.call(e,"details>summary:first-of-type")?e.parentElement:e;if(Xn.call(s,"details:not([open]) *"))return!0;var a=es(e).host,i=(null==a?void 0:a.ownerDocument.contains(a))||e.ownerDocument.contains(e);if(r&&"full"!==r){if("non-zero-area"===r)return os(e)}else{if("function"==typeof n){for(var o=e;e;){var c=e.parentElement,l=es(e);if(c&&!c.shadowRoot&&!0===n(c))return os(e);e=e.assignedSlot?e.assignedSlot:c||l===e.ownerDocument?c:l.host}e=o}if(i)return!e.getClientRects().length}return!1}(t,e)||function(e){return"DETAILS"===e.tagName&&Array.prototype.slice.apply(e.children).some(function(e){return"SUMMARY"===e.tagName})}(t)||function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if("FIELDSET"===t.tagName&&t.disabled){for(var r=0;r<t.children.length;r++){var n=t.children.item(r);if("LEGEND"===n.tagName)return!!Xn.call(t,"fieldset[disabled] *")||!n.contains(e)}return!0}t=t.parentElement}return!1}(t))},ls=function(e,t){return!(is(t)||ns(t)<0||!cs(e,t))},us=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},ds=function e(t){var r=[],n=[];return t.forEach(function(t,s){var a=!!t.scope,i=a?t.scope:t,o=ns(i,a),c=a?e(t.candidates):i;0===o?a?r.push.apply(r,c):r.push(i):n.push({documentOrder:s,tabIndex:o,item:t,isScope:a,content:c})}),n.sort(ss).reduce(function(e,t){return t.isScope?e.push.apply(e,t.content):e.push(t.content),e},[]).concat(r)},ms=function(e,t){var r;return r=(t=t||{}).getShadowRoot?rs([e],t.includeContainer,{filter:ls.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:us}):ts(e,t.includeContainer,ls.bind(null,t)),ds(r)},ps=function(e,t){return(t=t||{}).getShadowRoot?rs([e],t.includeContainer,{filter:cs.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):ts(e,t.includeContainer,cs.bind(null,t))},fs=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return!1!==Xn.call(e,Qn)&&ls(t,e)},hs=Jn.concat("iframe").join(","),gs=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return!1!==Xn.call(e,hs)&&cs(t,e)};const ys=Object.freeze(Object.defineProperty({__proto__:null,focusable:ps,isFocusable:gs,isTabbable:fs,tabbable:ms},Symbol.toStringTag,{value:"Module"}));function bs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function vs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bs(Object(r),!0).forEach(function(t){xs(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bs(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function xs(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ws=function(){var e=[];return{activateTrap:function(t){if(e.length>0){var r=e[e.length-1];r!==t&&r.pause()}var n=e.indexOf(t);-1===n||e.splice(n,1),e.push(t)},deactivateTrap:function(t){var r=e.indexOf(t);-1!==r&&e.splice(r,1),e.length>0&&e[e.length-1].unpause()}}}(),ks=function(e){return setTimeout(e,0)},Ns=function(e,t){var r=-1;return e.every(function(e,n){return!t(e)||(r=n,!1)}),r},Ds=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return"function"==typeof e?e.apply(void 0,r):e},Es=function(e){return e.target.shadowRoot&&"function"==typeof e.composedPath?e.composedPath()[0]:e.target};const Ss=L(Object.freeze(Object.defineProperty({__proto__:null,createFocusTrap:function(e,t){var r,n=(null==t?void 0:t.document)||document,s=vs({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0},t),a={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0},i=function(e,t,r){return e&&void 0!==e[t]?e[t]:s[r||t]},o=function(e){return a.containerGroups.findIndex(function(t){var r=t.container,n=t.tabbableNodes;return r.contains(e)||n.find(function(t){return t===e})})},c=function(e){var t=s[e];if("function"==typeof t){for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];t=t.apply(void 0,a)}if(!0===t&&(t=void 0),!t){if(void 0===t||!1===t)return t;throw new Error("`".concat(e,"` was specified but was not a node, or did not return a node"))}var o=t;if("string"==typeof t&&!(o=n.querySelector(t)))throw new Error("`".concat(e,"` as selector refers to no known node"));return o},l=function(){var e=c("initialFocus");if(!1===e)return!1;if(void 0===e)if(o(n.activeElement)>=0)e=n.activeElement;else{var t=a.tabbableGroups[0];e=t&&t.firstTabbableNode||c("fallbackFocus")}if(!e)throw new Error("Your focus-trap needs to have at least one focusable element");return e},u=function(){if(a.containerGroups=a.containers.map(function(e){var t=ms(e,s.tabbableOptions),r=ps(e,s.tabbableOptions);return{container:e,tabbableNodes:t,focusableNodes:r,firstTabbableNode:t.length>0?t[0]:null,lastTabbableNode:t.length>0?t[t.length-1]:null,nextTabbableNode:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=r.findIndex(function(t){return t===e});if(!(n<0))return t?r.slice(n+1).find(function(e){return fs(e,s.tabbableOptions)}):r.slice(0,n).reverse().find(function(e){return fs(e,s.tabbableOptions)})}}}),a.tabbableGroups=a.containerGroups.filter(function(e){return e.tabbableNodes.length>0}),a.tabbableGroups.length<=0&&!c("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")},d=function e(t){!1!==t&&t!==n.activeElement&&(t&&t.focus?(t.focus({preventScroll:!!s.preventScroll}),a.mostRecentlyFocusedNode=t,function(e){return e.tagName&&"input"===e.tagName.toLowerCase()&&"function"==typeof e.select}(t)&&t.select()):e(l()))},m=function(e){var t=c("setReturnFocus",e);return t||!1!==t&&e},p=function(e){var t=Es(e);o(t)>=0||(Ds(s.clickOutsideDeactivates,e)?r.deactivate({returnFocus:s.returnFocusOnDeactivate&&!gs(t,s.tabbableOptions)}):Ds(s.allowOutsideClick,e)||e.preventDefault())},f=function(e){var t=Es(e),r=o(t)>=0;r||t instanceof Document?r&&(a.mostRecentlyFocusedNode=t):(e.stopImmediatePropagation(),d(a.mostRecentlyFocusedNode||l()))},h=function(e){if(function(e){return"Escape"===e.key||"Esc"===e.key||27===e.keyCode}(e)&&!1!==Ds(s.escapeDeactivates,e))return e.preventDefault(),void r.deactivate();(function(e){return"Tab"===e.key||9===e.keyCode})(e)&&function(e){var t=Es(e);u();var r=null;if(a.tabbableGroups.length>0){var n=o(t),i=n>=0?a.containerGroups[n]:void 0;if(n<0)r=e.shiftKey?a.tabbableGroups[a.tabbableGroups.length-1].lastTabbableNode:a.tabbableGroups[0].firstTabbableNode;else if(e.shiftKey){var l=Ns(a.tabbableGroups,function(e){var r=e.firstTabbableNode;return t===r});if(l<0&&(i.container===t||gs(t,s.tabbableOptions)&&!fs(t,s.tabbableOptions)&&!i.nextTabbableNode(t,!1))&&(l=n),l>=0){var m=0===l?a.tabbableGroups.length-1:l-1;r=a.tabbableGroups[m].lastTabbableNode}}else{var p=Ns(a.tabbableGroups,function(e){var r=e.lastTabbableNode;return t===r});if(p<0&&(i.container===t||gs(t,s.tabbableOptions)&&!fs(t,s.tabbableOptions)&&!i.nextTabbableNode(t))&&(p=n),p>=0){var f=p===a.tabbableGroups.length-1?0:p+1;r=a.tabbableGroups[f].firstTabbableNode}}}else r=c("fallbackFocus");r&&(e.preventDefault(),d(r))}(e)},g=function(e){var t=Es(e);o(t)>=0||Ds(s.clickOutsideDeactivates,e)||Ds(s.allowOutsideClick,e)||(e.preventDefault(),e.stopImmediatePropagation())},y=function(){if(a.active)return ws.activateTrap(r),a.delayInitialFocusTimer=s.delayInitialFocus?ks(function(){d(l())}):d(l()),n.addEventListener("focusin",f,!0),n.addEventListener("mousedown",p,{capture:!0,passive:!1}),n.addEventListener("touchstart",p,{capture:!0,passive:!1}),n.addEventListener("click",g,{capture:!0,passive:!1}),n.addEventListener("keydown",h,{capture:!0,passive:!1}),r},b=function(){if(a.active)return n.removeEventListener("focusin",f,!0),n.removeEventListener("mousedown",p,!0),n.removeEventListener("touchstart",p,!0),n.removeEventListener("click",g,!0),n.removeEventListener("keydown",h,!0),r};return(r={get active(){return a.active},get paused(){return a.paused},activate:function(e){if(a.active)return this;var t=i(e,"onActivate"),r=i(e,"onPostActivate"),s=i(e,"checkCanFocusTrap");s||u(),a.active=!0,a.paused=!1,a.nodeFocusedBeforeActivation=n.activeElement,t&&t();var o=function(){s&&u(),y(),r&&r()};return s?(s(a.containers.concat()).then(o,o),this):(o(),this)},deactivate:function(e){if(!a.active)return this;var t=vs({onDeactivate:s.onDeactivate,onPostDeactivate:s.onPostDeactivate,checkCanReturnFocus:s.checkCanReturnFocus},e);clearTimeout(a.delayInitialFocusTimer),a.delayInitialFocusTimer=void 0,b(),a.active=!1,a.paused=!1,ws.deactivateTrap(r);var n=i(t,"onDeactivate"),o=i(t,"onPostDeactivate"),c=i(t,"checkCanReturnFocus"),l=i(t,"returnFocus","returnFocusOnDeactivate");n&&n();var u=function(){ks(function(){l&&d(m(a.nodeFocusedBeforeActivation)),o&&o()})};return l&&c?(c(m(a.nodeFocusedBeforeActivation)).then(u,u),this):(u(),this)},pause:function(){return a.paused||!a.active||(a.paused=!0,b()),this},unpause:function(){return a.paused&&a.active?(a.paused=!1,u(),y(),this):this},updateContainerElements:function(e){var t=[].concat(e).filter(Boolean);return a.containers=t.map(function(e){return"string"==typeof e?n.querySelector(e):e}),a.active&&u(),this}}).updateContainerElements(e),r}},Symbol.toStringTag,{value:"Module"}))),Cs=L(ys);var Ps,js;const Ts=M(function(){if(js)return Ps;function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function r(e,t){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function n(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=i(t);if(r){var o=i(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return function(t,r){if(r&&("object"===e(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return s(t)}(this,n)}}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}js=1;var o=a(),c=Yn(),l=Ss.createFocusTrap,u=Cs.isFocusable,d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)}(i,e);var a=n(i);function i(e){var t,r,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),t=a.call(this,e),r=s(t),o=function(e){var t,r=null!==(t=this.internalOptions[e])&&void 0!==t?t:this.originalOptions[e];if("function"==typeof r){for(var n=arguments.length,s=new Array(n>1?n-1:0),a=1;a<n;a++)s[a-1]=arguments[a];r=r.apply(void 0,s)}if(!0===r&&(r=void 0),!r){if(void 0===r||!1===r)return r;throw new Error("`".concat(e,"` was specified but was not a node, or did not return a node"))}var i,o=r;if("string"==typeof r&&!(o=null===(i=this.getDocument())||void 0===i?void 0:i.querySelector(r)))throw new Error("`".concat(e,"` as selector refers to no known node"));return o},(n="getNodeForOption")in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,t.handleDeactivate=t.handleDeactivate.bind(s(t)),t.handlePostDeactivate=t.handlePostDeactivate.bind(s(t)),t.handleClickOutsideDeactivates=t.handleClickOutsideDeactivates.bind(s(t)),t.internalOptions={returnFocusOnDeactivate:!1,checkCanReturnFocus:null,onDeactivate:t.handleDeactivate,onPostDeactivate:t.handlePostDeactivate,clickOutsideDeactivates:t.handleClickOutsideDeactivates},t.originalOptions={returnFocusOnDeactivate:!0,onDeactivate:null,onPostDeactivate:null,checkCanReturnFocus:null,clickOutsideDeactivates:!1};var c=e.focusTrapOptions;for(var l in c)Object.prototype.hasOwnProperty.call(c,l)&&("returnFocusOnDeactivate"!==l&&"onDeactivate"!==l&&"onPostDeactivate"!==l&&"checkCanReturnFocus"!==l&&"clickOutsideDeactivates"!==l?t.internalOptions[l]=c[l]:t.originalOptions[l]=c[l]);return t.outsideClick=null,t.focusTrapElements=e.containerElements||[],t.updatePreviousElement(),t}return t(i,[{key:"getDocument",value:function(){return this.props.focusTrapOptions.document||("undefined"!=typeof document?document:void 0)}},{key:"getReturnFocusNode",value:function(){var e=this.getNodeForOption("setReturnFocus",this.previouslyFocusedElement);return e||!1!==e&&this.previouslyFocusedElement}},{key:"updatePreviousElement",value:function(){var e=this.getDocument();e&&(this.previouslyFocusedElement=e.activeElement)}},{key:"deactivateTrap",value:function(){this.focusTrap&&this.focusTrap.active&&this.focusTrap.deactivate({returnFocus:!1,checkCanReturnFocus:null,onDeactivate:this.originalOptions.onDeactivate})}},{key:"handleClickOutsideDeactivates",value:function(e){var t="function"==typeof this.originalOptions.clickOutsideDeactivates?this.originalOptions.clickOutsideDeactivates.call(null,e):this.originalOptions.clickOutsideDeactivates;return t&&(this.outsideClick={target:e.target,allowDeactivation:t}),t}},{key:"handleDeactivate",value:function(){this.originalOptions.onDeactivate&&this.originalOptions.onDeactivate.call(null),this.deactivateTrap()}},{key:"handlePostDeactivate",value:function(){var e=this,t=function(){var t=e.getReturnFocusNode(),r=!(!e.originalOptions.returnFocusOnDeactivate||null==t||!t.focus||e.outsideClick&&(!e.outsideClick.allowDeactivation||u(e.outsideClick.target,e.internalOptions.tabbableOptions))),n=e.internalOptions.preventScroll,s=void 0!==n&&n;r&&t.focus({preventScroll:s}),e.originalOptions.onPostDeactivate&&e.originalOptions.onPostDeactivate.call(null),e.outsideClick=null};this.originalOptions.checkCanReturnFocus?this.originalOptions.checkCanReturnFocus.call(null,this.getReturnFocusNode()).then(t,t):t()}},{key:"setupFocusTrap",value:function(){this.focusTrap?this.props.active&&!this.focusTrap.active&&(this.focusTrap.activate(),this.props.paused&&this.focusTrap.pause()):this.focusTrapElements.some(Boolean)&&(this.focusTrap=this.props._createFocusTrap(this.focusTrapElements,this.internalOptions),this.props.active&&this.focusTrap.activate(),this.props.paused&&this.focusTrap.pause())}},{key:"componentDidMount",value:function(){this.props.active&&this.setupFocusTrap()}},{key:"componentDidUpdate",value:function(e){if(this.focusTrap){e.containerElements!==this.props.containerElements&&this.focusTrap.updateContainerElements(this.props.containerElements);var t=!e.active&&this.props.active,r=e.active&&!this.props.active,n=!e.paused&&this.props.paused,s=e.paused&&!this.props.paused;if(t&&(this.updatePreviousElement(),this.focusTrap.activate()),r)return void this.deactivateTrap();n&&this.focusTrap.pause(),s&&this.focusTrap.unpause()}else e.containerElements!==this.props.containerElements&&(this.focusTrapElements=this.props.containerElements),this.props.active&&(this.updatePreviousElement(),this.setupFocusTrap())}},{key:"componentWillUnmount",value:function(){this.deactivateTrap()}},{key:"render",value:function(){var e=this,t=this.props.children?o.Children.only(this.props.children):void 0;if(t){if(t.type&&t.type===o.Fragment)throw new Error("A focus-trap cannot use a Fragment as its child container. Try replacing it with a <div> element.");return o.cloneElement(t,{ref:function(r){var n=e.props.containerElements;t&&("function"==typeof t.ref?t.ref(r):t.ref&&(t.ref.current=r)),e.focusTrapElements=n||[r]}})}return null}}]),i}(o.Component),m="undefined"==typeof Element?Function:Element;return d.propTypes={active:c.bool,paused:c.bool,focusTrapOptions:c.shape({document:c.object,onActivate:c.func,onPostActivate:c.func,checkCanFocusTrap:c.func,onDeactivate:c.func,onPostDeactivate:c.func,checkCanReturnFocus:c.func,initialFocus:c.oneOfType([c.instanceOf(m),c.string,c.bool,c.func]),fallbackFocus:c.oneOfType([c.instanceOf(m),c.string,c.func]),escapeDeactivates:c.oneOfType([c.bool,c.func]),clickOutsideDeactivates:c.oneOfType([c.bool,c.func]),returnFocusOnDeactivate:c.bool,setReturnFocus:c.oneOfType([c.instanceOf(m),c.string,c.bool,c.func]),allowOutsideClick:c.oneOfType([c.bool,c.func]),preventScroll:c.bool,tabbableOptions:c.shape({displayCheck:c.oneOf(["full","non-zero-area","none"]),getShadowRoot:c.oneOfType([c.bool,c.func])})}),containerElements:c.arrayOf(c.instanceOf(m)),children:c.oneOfType([c.element,c.instanceOf(m)])},d.defaultProps={active:!0,paused:!1,focusTrapOptions:{},_createFocusTrap:l},Ps=d}()),Is="pain-tracker:alerts-log";function As(e){try{const t=function(){try{const e=localStorage.getItem(Is);return e?JSON.parse(e):[]}catch{return[]}}();t.unshift(e),localStorage.setItem(Is,JSON.stringify(t.slice(0,50))),window.dispatchEvent(new Event("alerts-log-updated"))}catch{}}function Vs(t){const r=e.useRef(new Set);e.useEffect(()=>{try{const e=localStorage.getItem("pain-tracker:alerts-settings"),n=e?JSON.parse(e):{threshold:3},s=localStorage.getItem("pain-tracker:notification-consent"),a=t.map(e=>e.pain),i=[e=>((e,t)=>{for(let r=1;r<e.length;r++)if(e[r]-e[r-1]>=t)return r;return-1})(e,n.threshold),e=>((e,t,r)=>{for(let n=t;n<e.length;n++){const s=e.slice(n-t,n).reduce((e,t)=>e+t,0)/t;if(e[n]-s>=r)return n}return-1})(e,3,1),e=>((e,t)=>{const r=e.reduce((e,t)=>e+t,0)/e.length,n=Math.sqrt(e.reduce((e,t)=>e+Math.pow(t-r,2),0)/e.length);for(let s=0;s<e.length;s++)if(Math.abs(e[s]-r)/n>=t)return s;return-1})(e,2)];let o=-1;for(const t of i){const e=t(a);if(e>=0){o=e;break}}if(o>=0&&!r.current.has(o)){r.current.add(o);const e=`Sudden pain increase to ${a[o]} (entry ${o+1})`;try{As({id:`${Date.now()}-${Math.random().toString(36).slice(2,7)}`,time:(new Date).toISOString(),message:e}),window.dispatchEvent(new Event("alerts-log-updated"))}catch{}"granted"===s&&"undefined"!=typeof Notification&&new Notification("Pain pattern detected",{body:e})}}catch(e){}},[t])}function Us(){const[r,n]=e.useState(navigator.onLine);return e.useEffect(()=>{const e=()=>n(!0),t=()=>n(!1);return window.addEventListener("online",e),window.addEventListener("offline",t),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t)}},[]),r?null:t.jsxDEV("div",{className:"bg-orange-500 text-white px-4 py-2",children:t.jsxDEV("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[t.jsxDEV("div",{className:"flex items-center space-x-2",children:[t.jsxDEV(j,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/OfflineIndicator.tsx",lineNumber:90,columnNumber:11},this),t.jsxDEV("div",{children:[t.jsxDEV("p",{className:"font-medium",children:"You're currently offline"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/OfflineIndicator.tsx",lineNumber:92,columnNumber:13},this),t.jsxDEV("p",{className:"text-xs opacity-90",children:"Your data is saved locally and will sync when you're back online"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/OfflineIndicator.tsx",lineNumber:93,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/OfflineIndicator.tsx",lineNumber:91,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/OfflineIndicator.tsx",lineNumber:89,columnNumber:9},this),t.jsxDEV("button",{onClick:()=>window.location.reload(),className:"flex items-center space-x-1 px-3 py-1 bg-white/20 hover:bg-white/30 rounded-md transition-colors",children:[t.jsxDEV(p,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/OfflineIndicator.tsx",lineNumber:103,columnNumber:11},this),t.jsxDEV("span",{className:"text-xs",children:"Retry"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/OfflineIndicator.tsx",lineNumber:104,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/OfflineIndicator.tsx",lineNumber:99,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/OfflineIndicator.tsx",lineNumber:88,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/OfflineIndicator.tsx",lineNumber:87,columnNumber:5},this)}const _s=({message:e="Localizing Database... Air-Gap Active"})=>t.jsxDEV("div",{className:"fixed inset-0 w-full h-full bg-[#050505] flex items-center justify-center overflow-hidden z-50 font-mono",children:t.jsxDEV("div",{className:"glitch-container",children:[t.jsxDEV("div",{className:"glitch-logo"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BlackBoxSplashScreen.tsx",lineNumber:14,columnNumber:9},void 0),t.jsxDEV("div",{className:"absolute -bottom-10 w-full text-center text-[#00F3FF] text-xs tracking-[2px] uppercase opacity-60",children:e},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BlackBoxSplashScreen.tsx",lineNumber:15,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BlackBoxSplashScreen.tsx",lineNumber:13,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BlackBoxSplashScreen.tsx",lineNumber:12,columnNumber:5},void 0);function Os(){const{context:r,forceState:n,preferences:s,updatePreferences:a}=qr(),[i,o]=e.useState(!1),c=e.useCallback(()=>{o(e=>!e)},[]);if(e.useEffect(()=>{const e=e=>{const t=e.target,r="INPUT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable;if("t"===e.key&&(e.ctrlKey||e.metaKey))e.preventDefault(),c();else if("Escape"===e.key&&i)o(!1);else if(i&&!r&&["1","2","3","4"].includes(e.key)){const t=["stable","rising","flare","recovery"],r=parseInt(e.key)-1;t[r]&&n(t[r])}};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[i,c,n]),!i)return t.jsxDEV("button",{onClick:c,className:"fixed bottom-24 right-4 z-50 px-3 py-2 bg-purple-600/90 hover:bg-purple-500 text-white text-xs rounded-lg shadow-lg hover:shadow-xl transition-all hover:scale-105 backdrop-blur-sm","aria-label":"Show tone state tester (Ctrl+T)",title:"Tone Tester (Ctrl+T)",children:" Tone Tester"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:66,columnNumber:7},this);return t.jsxDEV("div",{className:"fixed bottom-4 left-4 z-50 bg-gray-900 dark:bg-gray-100 text-white p-4 rounded-lg shadow-2xl max-w-md max-h-[85vh] overflow-y-auto border-2 border-purple-600 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[t.jsxDEV("div",{className:"flex items-center justify-between mb-3 sticky top-0 bg-gray-900 dark:bg-gray-100 pb-2 border-b border-gray-700 dark:border-gray-300 z-10",children:[t.jsxDEV("h3",{className:"text-sm font-bold text-purple-400",children:" Tone State Tester"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:87,columnNumber:9},this),t.jsxDEV("button",{onClick:()=>o(!1),className:"text-gray-400 dark:text-gray-500 hover:text-white text-xl leading-none px-2 py-1 rounded hover:bg-gray-800 dark:bg-gray-200 transition-colors","aria-label":"Minimize tone state tester (Esc)",title:"Minimize (Esc)",children:""},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:88,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:86,columnNumber:7},this),t.jsxDEV("div",{className:"mb-3 p-2 bg-purple-900/30 rounded border border-purple-700/50 text-xs text-purple-300",children:[t.jsxDEV("div",{className:"font-bold mb-1",children:" Shortcuts:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:100,columnNumber:9},this),t.jsxDEV("div",{className:"space-y-0.5 text-purple-200",children:[t.jsxDEV("div",{children:[t.jsxDEV("kbd",{className:"px-1 py-0.5 bg-gray-800 dark:bg-gray-200 rounded text-xs",children:"Ctrl+T"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:103,columnNumber:13},this)," ","Toggle panel"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:102,columnNumber:11},this),t.jsxDEV("div",{children:[t.jsxDEV("kbd",{className:"px-1 py-0.5 bg-gray-800 dark:bg-gray-200 rounded text-xs",children:"Esc"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:107,columnNumber:13},this)," ","Minimize"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:106,columnNumber:11},this),t.jsxDEV("div",{children:[t.jsxDEV("kbd",{className:"px-1 py-0.5 bg-gray-800 dark:bg-gray-200 rounded text-xs",children:"1-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:111,columnNumber:13},this)," ","Force states"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:110,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:101,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:99,columnNumber:7},this),t.jsxDEV("div",{className:"mb-3 p-2 bg-gray-800 dark:bg-gray-200 rounded border border-gray-700 dark:border-gray-300",children:[t.jsxDEV("div",{className:"text-xs text-gray-400 dark:text-gray-500 mb-1",children:"Current State:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:119,columnNumber:9},this),t.jsxDEV("div",{className:"text-sm font-mono font-bold text-purple-300",children:r.state.toUpperCase()},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:120,columnNumber:9},this),r.painTrend&&t.jsxDEV("div",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:["Pain: ",r.painTrend.current.toFixed(1)," (","up"===r.painTrend.direction?"":"down"===r.painTrend.direction?"":"",")"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:124,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:118,columnNumber:7},this),t.jsxDEV("div",{className:"space-y-2 mb-3",children:[t.jsxDEV("div",{className:"text-xs text-gray-400 dark:text-gray-500 mb-2",children:"Force State:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:138,columnNumber:9},this),[{state:"stable",emoji:"",description:"Brief, upbeat, professional-warm",key:"1"},{state:"rising",emoji:"",description:"Steady, specific, encouraging",key:"2"},{state:"flare",emoji:"",description:"Short lines, imperative, slow cadence",key:"3"},{state:"recovery",emoji:"",description:"Warm, factual, no cheerleading",key:"4"}].map(({state:e,emoji:s,description:a,key:i})=>t.jsxDEV("button",{onClick:()=>n(e),className:"w-full px-3 py-2 text-left text-xs rounded transition-all "+(r.state===e?"bg-purple-600 text-white shadow-md":"bg-gray-800 hover:bg-gray-700 text-gray-300"),children:[t.jsxDEV("div",{className:"flex items-center justify-between",children:[t.jsxDEV("div",{children:[t.jsxDEV("span",{className:"mr-2",children:s},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:151,columnNumber:17},this),t.jsxDEV("span",{className:"font-bold",children:e},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:152,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:150,columnNumber:15},this),t.jsxDEV("kbd",{className:"px-1.5 py-0.5 bg-gray-700 dark:bg-gray-300 rounded text-xs",children:i},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:154,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:149,columnNumber:13},this),t.jsxDEV("div",{className:"text-xs opacity-70 mt-1",children:a},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:158,columnNumber:13},this)]},e,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:140,columnNumber:11},this))]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:137,columnNumber:7},this),t.jsxDEV("div",{className:"border-t border-gray-700 dark:border-gray-300 pt-3 space-y-2",children:[t.jsxDEV("div",{className:"text-xs text-gray-400 dark:text-gray-500 mb-2",children:"Preferences:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:165,columnNumber:9},this),t.jsxDEV("label",{className:"flex items-center justify-between text-xs cursor-pointer hover:bg-gray-800 dark:bg-gray-200 p-1 rounded transition-colors",children:[t.jsxDEV("span",{children:"Warmth"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:168,columnNumber:11},this),t.jsxDEV("select",{value:s.warmth,onChange:e=>a({warmth:Number(e.target.value)}),className:"bg-gray-800 dark:bg-gray-200 border border-gray-700 dark:border-gray-300 rounded px-2 py-1 text-xs hover:border-purple-600 transition-colors",children:[t.jsxDEV("option",{value:"0",children:"Neutral"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:174,columnNumber:13},this),t.jsxDEV("option",{value:"1",children:"Warm"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:175,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:169,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:167,columnNumber:9},this),t.jsxDEV("label",{className:"flex items-center justify-between text-xs cursor-pointer hover:bg-gray-800 dark:bg-gray-200 p-1 rounded transition-colors",children:[t.jsxDEV("span",{children:"Coach Intensity"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:180,columnNumber:11},this),t.jsxDEV("select",{value:s.coachIntensity,onChange:e=>a({coachIntensity:Number(e.target.value)}),className:"bg-gray-800 dark:bg-gray-200 border border-gray-700 dark:border-gray-300 rounded px-2 py-1 text-xs hover:border-purple-600 transition-colors",children:[t.jsxDEV("option",{value:"0",children:"Minimal"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:186,columnNumber:13},this),t.jsxDEV("option",{value:"1",children:"Guided"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:187,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:181,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:179,columnNumber:9},this),t.jsxDEV("label",{className:"flex items-center justify-between text-xs cursor-pointer hover:bg-gray-800 dark:bg-gray-200 p-1 rounded transition-colors",children:[t.jsxDEV("span",{children:"Medical Terms"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:192,columnNumber:11},this),t.jsxDEV("input",{type:"checkbox",checked:s.medicalTerms,onChange:e=>a({medicalTerms:e.target.checked}),className:"bg-gray-800 dark:bg-gray-200 border border-gray-700 dark:border-gray-300 rounded"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:193,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:191,columnNumber:9},this),t.jsxDEV("label",{className:"flex items-center justify-between text-xs cursor-pointer hover:bg-gray-800 dark:bg-gray-200 p-1 rounded transition-colors",children:[t.jsxDEV("span",{children:"Allow Lightness"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:202,columnNumber:11},this),t.jsxDEV("input",{type:"checkbox",checked:s.allowLightness,onChange:e=>a({allowLightness:e.target.checked}),className:"bg-gray-800 dark:bg-gray-200 border border-gray-700 dark:border-gray-300 rounded"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:203,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:201,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:164,columnNumber:7},this),t.jsxDEV("div",{className:"border-t border-gray-700 dark:border-gray-300 pt-3 mt-3",children:t.jsxDEV("div",{className:"text-xs text-gray-400 dark:text-gray-500 space-y-1",children:[t.jsxDEV("div",{className:"font-bold mb-1",children:"Test Areas:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:215,columnNumber:11},this),t.jsxDEV("div",{children:" QuickLogStepper: Pain slider, locations, notes"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:216,columnNumber:11},this),t.jsxDEV("div",{children:" PanicMode: Greeting, breathing, crisis text"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:217,columnNumber:11},this),t.jsxDEV("div",{children:" Dashboard: Empty states, insights"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:218,columnNumber:11},this),t.jsxDEV("div",{children:" Analytics: Progress summaries"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:219,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:214,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:213,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:85,columnNumber:5},this)}var Rs={};function Ls(){return"undefined"!=typeof window}function Ms(){try{const e="development";if("development"===e||"test"===e)return"development"}catch(e){}return"production"}function Fs(){return"development"===((Ls()?window.vam:Ms())||"production")}function zs(e={debug:!0}){var t;if(!Ls())return;!function(e="auto"){window.vam="auto"!==e?e:Ms()}(e.mode),window.va||(window.va=function(...e){(window.vaq=window.vaq||[]).push(e)}),e.beforeSend&&(null==(t=window.va)||t.call(window,"beforeSend",e.beforeSend));const r=function(e){return e.scriptSrc?e.scriptSrc:Fs()?"https://va.vercel-scripts.com/v1/script.debug.js":e.basePath?`${e.basePath}/insights/script.js`:"/_vercel/insights/script.js"}(e);if(document.head.querySelector(`script[src*="${r}"]`))return;const n=document.createElement("script");n.src=r,n.defer=!0,n.dataset.sdkn="@vercel/analytics"+(e.framework?`/${e.framework}`:""),n.dataset.sdkv="1.6.1",e.disableAutoTrack&&(n.dataset.disableAutoTrack="1"),e.endpoint?n.dataset.endpoint=e.endpoint:e.basePath&&(n.dataset.endpoint=`${e.basePath}/insights`),e.dsn&&(n.dataset.dsn=e.dsn),n.onerror=()=>{Fs()},Fs()&&!1===e.debug&&(n.dataset.debug="false"),document.head.appendChild(n)}function Bs(){if("undefined"!=typeof process)return Rs.REACT_APP_VERCEL_OBSERVABILITY_BASEPATH}function Ws(t){return e.useEffect(()=>{var e;t.beforeSend&&(null==(e=window.va)||e.call(window,"beforeSend",t.beforeSend))},[t.beforeSend]),e.useEffect(()=>{zs({framework:t.framework||"react",basePath:t.basePath??Bs(),...void 0!==t.route&&{disableAutoTrack:!0},...t})},[]),e.useEffect(()=>{t.route&&t.path&&function({route:e,path:t}){var r;null==(r=window.va)||r.call(window,"pageview",{route:e,path:t})}({route:t.route,path:t.path})},[t.route,t.path]),null}const $s=e.lazy(()=>d(()=>import("./PainTrackerContainer-CPTQDEPp.js").then(e=>e.a),__vite__mapDeps([11,1,2,3,4,5,12,13])).then(e=>({default:e.PainTrackerContainer}))),qs=e.lazy(()=>d(()=>import("./LandingPage-BVy1XXwI.js"),__vite__mapDeps([14,2,3,4,1,5,6,7,15])).then(e=>({default:e.LandingPage}))),Gs=e.lazy(()=>d(()=>import("./PricingPage-B-K6eN_Y.js"),__vite__mapDeps([16,2,3,4,5,1,6,7,17])).then(e=>({default:e.PricingPage}))),Hs=e.lazy(()=>d(()=>import("./ScreenshotShowcase-98dLAOo2.js"),__vite__mapDeps([18,2,3,4,19,20,5,21,1,6,7,22,12])).then(e=>({default:e.ScreenshotShowcase}))),Ks=e.lazy(()=>d(()=>import("./ClinicPortal-JnXiAHLA.js"),__vite__mapDeps([23,2,3,4,5,1,6,20,24,7])).then(e=>({default:e.ClinicPortal}))),Ys=e.lazy(()=>d(()=>import("./SubscriptionManagementPage-S-4k5iNn.js"),__vite__mapDeps([25,2,3,4,5,1,6,7])).then(e=>({default:e.SubscriptionManagementPage}))),Js=e.lazy(()=>d(()=>import("./SubmitStoryPage-C0iWSSNo.js"),__vite__mapDeps([26,2,3,4,5,1,6,7])).then(e=>({default:e.SubmitStoryPage}))),Qs=()=>t.jsxDEV("div",{className:"min-h-screen flex items-center justify-center bg-background",children:t.jsxDEV("div",{className:"text-center p-8 bg-card rounded-lg border shadow-lg max-w-md mx-4",children:[t.jsxDEV("h2",{className:"text-2xl font-semibold text-destructive mb-4",children:"Something went wrong"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:48,columnNumber:9},void 0),t.jsxDEV("p",{className:"text-muted-foreground mb-6",children:"We encountered an unexpected error. Please try refreshing the page."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:49,columnNumber:9},void 0),t.jsxDEV("button",{onClick:()=>window.location.reload(),className:"bg-primary text-primary-foreground px-6 py-2 rounded-md hover:bg-primary/90 transition-colors",children:"Refresh Page"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:52,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:47,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:46,columnNumber:5},void 0),Zs=()=>t.jsxDEV(_s,{message:"Loading..."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:64,columnNumber:10},void 0);function Xs(){const[r,n]=e.useState(!0);e.useEffect(()=>{const e=setTimeout(()=>n(!1),2500);return()=>clearTimeout(e)},[]),cn({enableValidation:!0,enableAutoLabeling:!0,announceRouteChanges:!0}),e.useEffect(()=>{const e=()=>{(async function(){await Cr.loadMeasurements()})().catch(e=>{}),xr("session_start","session"),d(async()=>{const{trackSessionStart:e}=await import("./AnalyticsTrackingService-BBqrbLyx.js");return{trackSessionStart:e}},[]).then(({trackSessionStart:e})=>{e()})};"requestIdleCallback"in window?window.requestIdleCallback(e):setTimeout(e,100)},[]),e.useEffect(()=>{mn.isAppInstalled();(async()=>{try{const{offlineStorage:e}=await d(async()=>{const{offlineStorage:e}=await import("./offline-storage-BNc7x0M7.js");return{offlineStorage:e}},[]);await e.init();try{await d(()=>import("./background-sync-DiQN0jqO.js"),__vite__mapDeps([8,9,2,3,4,1,5,6,7]))}catch{}await mn.enableHealthDataSync()}catch{}})(),window.resetPWA=async()=>{try{await mn.resetServiceWorker()}catch(e){}},window.loadChronicPainTestData=()=>{d(async()=>{const{chronicPain12MonthPainEntries:e,chronicPain12MonthMoodEntries:t,chronicPainDataStats:r}=await import("./chronic-pain-12-month-seed-DhKl-9Ha.js");return{chronicPain12MonthPainEntries:e,chronicPain12MonthMoodEntries:t,chronicPainDataStats:r}},[]).then(({chronicPain12MonthPainEntries:e,chronicPain12MonthMoodEntries:t,chronicPainDataStats:r})=>{zr.getState().clearAllData(),zr.setState({entries:e,moodEntries:t})})}},[]);return Vs(zr(Br).map(e=>({time:e.timestamp,pain:e.baselineData?.pain??0}))),r?t.jsxDEV(_s,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:180,columnNumber:12},this):t.jsxDEV(i,{children:[t.jsxDEV(Ws,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:185,columnNumber:7},this),t.jsxDEV(ae,{children:t.jsxDEV(Xr,{children:t.jsxDEV($r,{children:t.jsxDEV(kr,{children:t.jsxDEV(Kt,{children:t.jsxDEV(sn,{children:t.jsxDEV(e.Suspense,{fallback:t.jsxDEV(Zs,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:192,columnNumber:39},this),children:t.jsxDEV(o,{children:[t.jsxDEV(c,{path:"/",element:t.jsxDEV(qs,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:195,columnNumber:48},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:195,columnNumber:23},this),t.jsxDEV(c,{path:"/pricing",element:t.jsxDEV(Gs,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:198,columnNumber:55},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:198,columnNumber:23},this),t.jsxDEV(c,{path:"/demo/*",element:t.jsxDEV(Hs,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:201,columnNumber:54},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:201,columnNumber:23},this),t.jsxDEV(c,{path:"/clinic/*",element:t.jsxDEV(Ks,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:204,columnNumber:56},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:204,columnNumber:23},this),t.jsxDEV(c,{path:"/subscription",element:t.jsxDEV(Tn,{children:t.jsxDEV(Ys,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:211,columnNumber:29},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:210,columnNumber:27},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:207,columnNumber:23},this),t.jsxDEV(c,{path:"/start",element:t.jsxDEV(Tn,{children:t.jsxDEV(l,{to:"/app",replace:!0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:221,columnNumber:27},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:220,columnNumber:25},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:217,columnNumber:21},this),t.jsxDEV(c,{path:"/app",element:t.jsxDEV(Tn,{children:t.jsxDEV("div",{className:"min-h-screen bg-background transition-colors",role:"application","aria-label":"Pain Tracker Pro Application",children:[t.jsxDEV(Us,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:230,columnNumber:27},this),t.jsxDEV(gn,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:231,columnNumber:27},this),t.jsxDEV(bn,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:232,columnNumber:27},this),t.jsxDEV(K,{fallback:t.jsxDEV(Qs,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:233,columnNumber:52},this),children:t.jsxDEV(e.Suspense,{fallback:t.jsxDEV(Zs,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:234,columnNumber:49},this),children:t.jsxDEV($s,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:235,columnNumber:31},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:234,columnNumber:29},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:233,columnNumber:27},this),t.jsxDEV(pn,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:238,columnNumber:27},this),t.jsxDEV(fn,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:239,columnNumber:27},this),t.jsxDEV(Os,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:240,columnNumber:27},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:229,columnNumber:25},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:228,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:227,columnNumber:21},this),t.jsxDEV(c,{path:"/app/checkin",element:t.jsxDEV(Tn,{children:t.jsxDEV("div",{className:"min-h-screen bg-background transition-colors",role:"application","aria-label":"Pain Tracker Pro Application",children:[t.jsxDEV(Us,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:249,columnNumber:27},this),t.jsxDEV(gn,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:250,columnNumber:27},this),t.jsxDEV(bn,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:251,columnNumber:27},this),t.jsxDEV(K,{fallback:t.jsxDEV(Qs,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:252,columnNumber:52},this),children:t.jsxDEV(e.Suspense,{fallback:t.jsxDEV(Zs,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:253,columnNumber:49},this),children:t.jsxDEV($s,{initialView:"daily-checkin"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:254,columnNumber:31},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:253,columnNumber:29},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:252,columnNumber:27},this),t.jsxDEV(pn,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:257,columnNumber:27},this),t.jsxDEV(fn,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:258,columnNumber:27},this),t.jsxDEV(Os,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:259,columnNumber:27},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:248,columnNumber:25},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:247,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:246,columnNumber:21},this),t.jsxDEV(c,{path:"/submit-story",element:t.jsxDEV(Js,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:265,columnNumber:58},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:265,columnNumber:21},this),t.jsxDEV(c,{path:"*",element:t.jsxDEV(l,{to:"/",replace:!0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:268,columnNumber:46},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:268,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:193,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:192,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:191,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:190,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:189,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:188,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:187,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:186,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:184,columnNumber:5},this)}try{const e=new URL(window.location.href).searchParams.get("pt_test_mode"),t=localStorage.getItem("pt:test_mode");"1"!==e&&"1"!==t||(window.__pt_test_mode=!0)}catch{}u.createRoot(document.getElementById("root")).render(t.jsxDEV(r.StrictMode,{children:t.jsxDEV(Xs,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/main.tsx",lineNumber:25,columnNumber:5},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/main.tsx",lineNumber:24,columnNumber:3},void 0));export{mr as A,yt as B,vt as C,wr as D,fr as E,Kr as F,pr as G,Dt as I,Hr as S,In as V,Gr as a,zr as b,ht as c,se as d,Nt as e,jt as f,Yt as g,Fr as h,en as i,jn as j,Zt as k,Pr as l,xt as m,wt as n,St as o,tn as p,Wt as q,Or as r,tr as s,kt as t,qr as u,xr as v,on as w,an as x,Ts as y,Lr as z};
