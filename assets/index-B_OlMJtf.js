const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ClinicalPDFExportButton-NfYP_vuT.js","assets/chart-vendor-Cjsg3YbF.js","assets/react-vendor-Bn1aEwkj.js","assets/date-vendor-Bjuqiw2y.js","assets/index-D-5VeUnL.js","assets/index-B8evwRJL.js","assets/background-sync-C0DUYxWS.js","assets/offline-storage-CQ7mII8k.js","assets/libsodium-wrappers-DhqTdZPT.js","assets/index.es-DtVbe0lW.js"])))=>i.map(i=>d[i]);
import{r as dx,a as hk,g as mx,b as fx}from"./react-vendor-Bn1aEwkj.js";import{r as I,R as It,p as pk,c as hx,a as gk,A as bk,C as vm,X as Nm,Y as km,T as Dm,L as wm,b as yk,d as xk,B as Pm,e as vk,f as jm,g as Nk,h as kk}from"./chart-vendor-Cjsg3YbF.js";import{p as Dk,f as na}from"./date-vendor-Bjuqiw2y.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=t(n);fetch(n.href,i)}})();var Cm={exports:{}},gu={},Xp;function wk(){if(Xp)return gu;Xp=1;return(function(){var s=dx(),e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.for("react.offscreen"),g=Symbol.iterator,y="@@iterator";function v(ie){if(ie===null||typeof ie!="object")return null;var Ae=g&&ie[g]||ie[y];return typeof Ae=="function"?Ae:null}var N=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function D(ie){{for(var Ae=arguments.length,Re=new Array(Ae>1?Ae-1:0),ot=1;ot<Ae;ot++)Re[ot-1]=arguments[ot];j("error",ie,Re)}}function j(ie,Ae,Re){{var ot=N.ReactDebugCurrentFrame,Dt=ot.getStackAddendum();Dt!==""&&(Ae+="%s",Re=Re.concat([Dt]));var _t=Re.map(function(pt){return String(pt)});_t.unshift("Warning: "+Ae),Function.prototype.apply.call(console[ie],console,_t)}}var C=!1,E=!1,A=!1,V=!1,P=!1,_;_=Symbol.for("react.module.reference");function O(ie){return!!(typeof ie=="string"||typeof ie=="function"||ie===r||ie===i||P||ie===n||ie===u||ie===d||V||ie===f||C||E||A||typeof ie=="object"&&ie!==null&&(ie.$$typeof===p||ie.$$typeof===m||ie.$$typeof===a||ie.$$typeof===o||ie.$$typeof===l||ie.$$typeof===_||ie.getModuleId!==void 0))}function S(ie,Ae,Re){var ot=ie.displayName;if(ot)return ot;var Dt=Ae.displayName||Ae.name||"";return Dt!==""?Re+"("+Dt+")":Re}function L(ie){return ie.displayName||"Context"}function B(ie){if(ie==null)return null;if(typeof ie.tag=="number"&&D("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof ie=="function")return ie.displayName||ie.name||null;if(typeof ie=="string")return ie;switch(ie){case r:return"Fragment";case t:return"Portal";case i:return"Profiler";case n:return"StrictMode";case u:return"Suspense";case d:return"SuspenseList"}if(typeof ie=="object")switch(ie.$$typeof){case o:var Ae=ie;return L(Ae)+".Consumer";case a:var Re=ie;return L(Re._context)+".Provider";case l:return S(ie,ie.render,"ForwardRef");case m:var ot=ie.displayName||null;return ot!==null?ot:B(ie.type)||"Memo";case p:{var Dt=ie,_t=Dt._payload,pt=Dt._init;try{return B(pt(_t))}catch{return null}}}return null}var $=Object.assign,Z=0,re,le,ee,pe,ue,te,U;function H(){}H.__reactDisabledLog=!0;function G(){{if(Z===0){re=console.log,le=console.info,ee=console.warn,pe=console.error,ue=console.group,te=console.groupCollapsed,U=console.groupEnd;var ie={configurable:!0,enumerable:!0,value:H,writable:!0};Object.defineProperties(console,{info:ie,log:ie,warn:ie,error:ie,group:ie,groupCollapsed:ie,groupEnd:ie})}Z++}}function se(){{if(Z--,Z===0){var ie={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:$({},ie,{value:re}),info:$({},ie,{value:le}),warn:$({},ie,{value:ee}),error:$({},ie,{value:pe}),group:$({},ie,{value:ue}),groupCollapsed:$({},ie,{value:te}),groupEnd:$({},ie,{value:U})})}Z<0&&D("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var ne=N.ReactCurrentDispatcher,ae;function he(ie,Ae,Re){{if(ae===void 0)try{throw Error()}catch(Dt){var ot=Dt.stack.trim().match(/\n( *(at )?)/);ae=ot&&ot[1]||""}return`
`+ae+ie}}var me=!1,ge;{var Pe=typeof WeakMap=="function"?WeakMap:Map;ge=new Pe}function xe(ie,Ae){if(!ie||me)return"";{var Re=ge.get(ie);if(Re!==void 0)return Re}var ot;me=!0;var Dt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var _t;_t=ne.current,ne.current=null,G();try{if(Ae){var pt=function(){throw Error()};if(Object.defineProperty(pt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(pt,[])}catch(As){ot=As}Reflect.construct(ie,[],pt)}else{try{pt.call()}catch(As){ot=As}ie.call(pt.prototype)}}else{try{throw Error()}catch(As){ot=As}ie()}}catch(As){if(As&&ot&&typeof As.stack=="string"){for(var ft=As.stack.split(`
`),Zt=ot.stack.split(`
`),Ot=ft.length-1,Ft=Zt.length-1;Ot>=1&&Ft>=0&&ft[Ot]!==Zt[Ft];)Ft--;for(;Ot>=1&&Ft>=0;Ot--,Ft--)if(ft[Ot]!==Zt[Ft]){if(Ot!==1||Ft!==1)do if(Ot--,Ft--,Ft<0||ft[Ot]!==Zt[Ft]){var hs=`
`+ft[Ot].replace(" at new "," at ");return ie.displayName&&hs.includes("<anonymous>")&&(hs=hs.replace("<anonymous>",ie.displayName)),typeof ie=="function"&&ge.set(ie,hs),hs}while(Ot>=1&&Ft>=0);break}}}finally{me=!1,ne.current=_t,se(),Error.prepareStackTrace=Dt}var cr=ie?ie.displayName||ie.name:"",lr=cr?he(cr):"";return typeof ie=="function"&&ge.set(ie,lr),lr}function Ie(ie,Ae,Re){return xe(ie,!1)}function De(ie){var Ae=ie.prototype;return!!(Ae&&Ae.isReactComponent)}function W(ie,Ae,Re){if(ie==null)return"";if(typeof ie=="function")return xe(ie,De(ie));if(typeof ie=="string")return he(ie);switch(ie){case u:return he("Suspense");case d:return he("SuspenseList")}if(typeof ie=="object")switch(ie.$$typeof){case l:return Ie(ie.render);case m:return W(ie.type,Ae,Re);case p:{var ot=ie,Dt=ot._payload,_t=ot._init;try{return W(_t(Dt),Ae,Re)}catch{}}}return""}var we=Object.prototype.hasOwnProperty,rt={},Ge=N.ReactDebugCurrentFrame;function _e(ie){if(ie){var Ae=ie._owner,Re=W(ie.type,ie._source,Ae?Ae.type:null);Ge.setExtraStackFrame(Re)}else Ge.setExtraStackFrame(null)}function ze(ie,Ae,Re,ot,Dt){{var _t=Function.call.bind(we);for(var pt in ie)if(_t(ie,pt)){var ft=void 0;try{if(typeof ie[pt]!="function"){var Zt=Error((ot||"React class")+": "+Re+" type `"+pt+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof ie[pt]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw Zt.name="Invariant Violation",Zt}ft=ie[pt](Ae,pt,ot,Re,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(Ot){ft=Ot}ft&&!(ft instanceof Error)&&(_e(Dt),D("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",ot||"React class",Re,pt,typeof ft),_e(null)),ft instanceof Error&&!(ft.message in rt)&&(rt[ft.message]=!0,_e(Dt),D("Failed %s type: %s",Re,ft.message),_e(null))}}}var Me=Array.isArray;function ut(ie){return Me(ie)}function it(ie){{var Ae=typeof Symbol=="function"&&Symbol.toStringTag,Re=Ae&&ie[Symbol.toStringTag]||ie.constructor.name||"Object";return Re}}function Wt(ie){try{return gt(ie),!1}catch{return!0}}function gt(ie){return""+ie}function bt(ie){if(Wt(ie))return D("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",it(ie)),gt(ie)}var Rt=N.ReactCurrentOwner,vt={key:!0,ref:!0,__self:!0,__source:!0},et,dt,Ye;Ye={};function Jt(ie){if(we.call(ie,"ref")){var Ae=Object.getOwnPropertyDescriptor(ie,"ref").get;if(Ae&&Ae.isReactWarning)return!1}return ie.ref!==void 0}function Ht(ie){if(we.call(ie,"key")){var Ae=Object.getOwnPropertyDescriptor(ie,"key").get;if(Ae&&Ae.isReactWarning)return!1}return ie.key!==void 0}function Qe(ie,Ae){if(typeof ie.ref=="string"&&Rt.current&&Ae&&Rt.current.stateNode!==Ae){var Re=B(Rt.current.type);Ye[Re]||(D('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',B(Rt.current.type),ie.ref),Ye[Re]=!0)}}function Nt(ie,Ae){{var Re=function(){et||(et=!0,D("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",Ae))};Re.isReactWarning=!0,Object.defineProperty(ie,"key",{get:Re,configurable:!0})}}function es(ie,Ae){{var Re=function(){dt||(dt=!0,D("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",Ae))};Re.isReactWarning=!0,Object.defineProperty(ie,"ref",{get:Re,configurable:!0})}}var lt=function(ie,Ae,Re,ot,Dt,_t,pt){var ft={$$typeof:e,type:ie,key:Ae,ref:Re,props:pt,_owner:_t};return ft._store={},Object.defineProperty(ft._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(ft,"_self",{configurable:!1,enumerable:!1,writable:!1,value:ot}),Object.defineProperty(ft,"_source",{configurable:!1,enumerable:!1,writable:!1,value:Dt}),Object.freeze&&(Object.freeze(ft.props),Object.freeze(ft)),ft};function At(ie,Ae,Re,ot,Dt){{var _t,pt={},ft=null,Zt=null;Re!==void 0&&(bt(Re),ft=""+Re),Ht(Ae)&&(bt(Ae.key),ft=""+Ae.key),Jt(Ae)&&(Zt=Ae.ref,Qe(Ae,Dt));for(_t in Ae)we.call(Ae,_t)&&!vt.hasOwnProperty(_t)&&(pt[_t]=Ae[_t]);if(ie&&ie.defaultProps){var Ot=ie.defaultProps;for(_t in Ot)pt[_t]===void 0&&(pt[_t]=Ot[_t])}if(ft||Zt){var Ft=typeof ie=="function"?ie.displayName||ie.name||"Unknown":ie;ft&&Nt(pt,Ft),Zt&&es(pt,Ft)}return lt(ie,ft,Zt,Dt,ot,Rt.current,pt)}}var ht=N.ReactCurrentOwner,fs=N.ReactDebugCurrentFrame;function ns(ie){if(ie){var Ae=ie._owner,Re=W(ie.type,ie._source,Ae?Ae.type:null);fs.setExtraStackFrame(Re)}else fs.setExtraStackFrame(null)}var Yt;Yt=!1;function mt(ie){return typeof ie=="object"&&ie!==null&&ie.$$typeof===e}function qt(){{if(ht.current){var ie=B(ht.current.type);if(ie)return`

Check the render method of \``+ie+"`."}return""}}function Cn(ie){{if(ie!==void 0){var Ae=ie.fileName.replace(/^.*[\\\/]/,""),Re=ie.lineNumber;return`

Check your code at `+Ae+":"+Re+"."}return""}}var Fs={};function $r(ie){{var Ae=qt();if(!Ae){var Re=typeof ie=="string"?ie:ie.displayName||ie.name;Re&&(Ae=`

Check the top-level render call using <`+Re+">.")}return Ae}}function Tr(ie,Ae){{if(!ie._store||ie._store.validated||ie.key!=null)return;ie._store.validated=!0;var Re=$r(Ae);if(Fs[Re])return;Fs[Re]=!0;var ot="";ie&&ie._owner&&ie._owner!==ht.current&&(ot=" It was passed a child from "+B(ie._owner.type)+"."),ns(ie),D('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',Re,ot),ns(null)}}function ct(ie,Ae){{if(typeof ie!="object")return;if(ut(ie))for(var Re=0;Re<ie.length;Re++){var ot=ie[Re];mt(ot)&&Tr(ot,Ae)}else if(mt(ie))ie._store&&(ie._store.validated=!0);else if(ie){var Dt=v(ie);if(typeof Dt=="function"&&Dt!==ie.entries)for(var _t=Dt.call(ie),pt;!(pt=_t.next()).done;)mt(pt.value)&&Tr(pt.value,Ae)}}}function tn(ie){{var Ae=ie.type;if(Ae==null||typeof Ae=="string")return;var Re;if(typeof Ae=="function")Re=Ae.propTypes;else if(typeof Ae=="object"&&(Ae.$$typeof===l||Ae.$$typeof===m))Re=Ae.propTypes;else return;if(Re){var ot=B(Ae);ze(Re,ie.props,"prop",ot,ie)}else if(Ae.PropTypes!==void 0&&!Yt){Yt=!0;var Dt=B(Ae);D("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",Dt||"Unknown")}typeof Ae.getDefaultProps=="function"&&!Ae.getDefaultProps.isReactClassApproved&&D("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function yr(ie){{for(var Ae=Object.keys(ie.props),Re=0;Re<Ae.length;Re++){var ot=Ae[Re];if(ot!=="children"&&ot!=="key"){ns(ie),D("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",ot),ns(null);break}}ie.ref!==null&&(ns(ie),D("Invalid attribute `ref` supplied to `React.Fragment`."),ns(null))}}var mr={};function xr(ie,Ae,Re,ot,Dt,_t){{var pt=O(ie);if(!pt){var ft="";(ie===void 0||typeof ie=="object"&&ie!==null&&Object.keys(ie).length===0)&&(ft+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var Zt=Cn(Dt);Zt?ft+=Zt:ft+=qt();var Ot;ie===null?Ot="null":ut(ie)?Ot="array":ie!==void 0&&ie.$$typeof===e?(Ot="<"+(B(ie.type)||"Unknown")+" />",ft=" Did you accidentally export a JSX literal instead of a component?"):Ot=typeof ie,D("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",Ot,ft)}var Ft=At(ie,Ae,Re,Dt,_t);if(Ft==null)return Ft;if(pt){var hs=Ae.children;if(hs!==void 0)if(ot)if(ut(hs)){for(var cr=0;cr<hs.length;cr++)ct(hs[cr],ie);Object.freeze&&Object.freeze(hs)}else D("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else ct(hs,ie)}if(we.call(Ae,"key")){var lr=B(ie),As=Object.keys(Ae).filter(function(Qs){return Qs!=="key"}),ui=As.length>0?"{key: someKey, "+As.join(": ..., ")+": ...}":"{key: someKey}";if(!mr[lr+ui]){var pn=As.length>0?"{"+As.join(": ..., ")+": ...}":"{}";D(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,ui,lr,pn,lr),mr[lr+ui]=!0}}return ie===r?yr(Ft):tn(Ft),Ft}}var cs=xr;gu.Fragment=r,gu.jsxDEV=cs})(),gu}var Jp;function Pk(){return Jp||(Jp=1,Cm.exports=wk()),Cm.exports}var c=Pk(),bu={},Zp;function jk(){if(Zp)return bu;Zp=1;var s=hk();{var e=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;bu.createRoot=function(t,r){e.usingClientEntryPoint=!0;try{return s.createRoot(t,r)}finally{e.usingClientEntryPoint=!1}},bu.hydrateRoot=function(t,r,n){e.usingClientEntryPoint=!0;try{return s.hydrateRoot(t,r,n)}finally{e.usingClientEntryPoint=!1}}}return bu}var Ck=jk();const Ek=mx(Ck),Sk="modulepreload",Ak=function(s){return"/"+s},Qp={},qs=function(e,t,r){let n=Promise.resolve();if(t&&t.length>0){let l=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=a?.nonce||a?.getAttribute("nonce");n=l(t.map(u=>{if(u=Ak(u),u in Qp)return;Qp[u]=!0;const d=u.endsWith(".css"),m=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${m}`))return;const p=document.createElement("link");if(p.rel=d?"stylesheet":Sk,d||(p.as="script"),p.crossOrigin="",p.href=u,o&&p.setAttribute("nonce",o),document.head.appendChild(p),d)return new Promise((f,g)=>{p.addEventListener("load",f),p.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return n.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return e().catch(i)})};var e0="popstate";function _k(s={}){function e(r,n){let{pathname:i,search:a,hash:o}=r.location;return Of("",{pathname:i,search:a,hash:o},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function t(r,n){return typeof n=="string"?n:kl(n)}return Vk(e,t,null,s)}function Ss(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function Pn(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Uk(){return Math.random().toString(36).substring(2,10)}function t0(s,e){return{usr:s.state,key:s.key,idx:e}}function Of(s,e,t=null,r){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?uc(e):e,state:t,key:e&&e.key||r||Uk()}}function kl({pathname:s="/",search:e="",hash:t=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(s+=t.charAt(0)==="#"?t:"#"+t),s}function uc(s){let e={};if(s){let t=s.indexOf("#");t>=0&&(e.hash=s.substring(t),s=s.substring(0,t));let r=s.indexOf("?");r>=0&&(e.search=s.substring(r),s=s.substring(0,r)),s&&(e.pathname=s)}return e}function Vk(s,e,t,r={}){let{window:n=document.defaultView,v5Compat:i=!1}=r,a=n.history,o="POP",l=null,u=d();u==null&&(u=0,a.replaceState({...a.state,idx:u},""));function d(){return(a.state||{idx:null}).idx}function m(){o="POP";let v=d(),N=v==null?null:v-u;u=v,l&&l({action:o,location:y.location,delta:N})}function p(v,N){o="PUSH";let D=Of(y.location,v,N);u=d()+1;let j=t0(D,u),C=y.createHref(D);try{a.pushState(j,"",C)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;n.location.assign(C)}i&&l&&l({action:o,location:y.location,delta:1})}function f(v,N){o="REPLACE";let D=Of(y.location,v,N);u=d();let j=t0(D,u),C=y.createHref(D);a.replaceState(j,"",C),i&&l&&l({action:o,location:y.location,delta:0})}function g(v){return Lk(v)}let y={get action(){return o},get location(){return s(n,a)},listen(v){if(l)throw new Error("A history only accepts one active listener");return n.addEventListener(e0,m),l=v,()=>{n.removeEventListener(e0,m),l=null}},createHref(v){return e(n,v)},createURL:g,encodeLocation(v){let N=g(v);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:p,replace:f,go(v){return a.go(v)}};return y}function Lk(s,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Ss(t,"No window.location.(origin|href) available to create URL");let r=typeof s=="string"?s:kl(s);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function px(s,e,t="/"){return Tk(s,e,t,!1)}function Tk(s,e,t,r){let n=typeof e=="string"?uc(e):e,i=Mi(n.pathname||"/",t);if(i==null)return null;let a=gx(s);Mk(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=Gk(i);o=Hk(a[l],u,r)}return o}function gx(s,e=[],t=[],r="",n=!1){let i=(a,o,l=n,u)=>{let d={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(r)&&l)return;Ss(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length)}let m=Ti([r,d.relativePath]),p=t.concat(d);a.children&&a.children.length>0&&(Ss(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),gx(a.children,e,p,m,l)),!(a.path==null&&!a.index)&&e.push({path:m,score:$k(m,a.index),routesMeta:p})};return s.forEach((a,o)=>{if(a.path===""||!a.path?.includes("?"))i(a,o);else for(let l of bx(a.path))i(a,o,!0,l)}),e}function bx(s){let e=s.split("/");if(e.length===0)return[];let[t,...r]=e,n=t.endsWith("?"),i=t.replace(/\?$/,"");if(r.length===0)return n?[i,""]:[i];let a=bx(r.join("/")),o=[];return o.push(...a.map(l=>l===""?i:[i,l].join("/"))),n&&o.push(...a),o.map(l=>s.startsWith("/")&&l===""?"/":l)}function Mk(s){s.sort((e,t)=>e.score!==t.score?t.score-e.score:Wk(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var Ik=/^:[\w-]+$/,Rk=3,Ok=2,Fk=1,Bk=10,zk=-2,s0=s=>s==="*";function $k(s,e){let t=s.split("/"),r=t.length;return t.some(s0)&&(r+=zk),e&&(r+=Ok),t.filter(n=>!s0(n)).reduce((n,i)=>n+(Ik.test(i)?Rk:i===""?Fk:Bk),r)}function Wk(s,e){return s.length===e.length&&s.slice(0,-1).every((r,n)=>r===e[n])?s[s.length-1]-e[e.length-1]:0}function Hk(s,e,t=!1){let{routesMeta:r}=s,n={},i="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],u=o===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",m=hd({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),p=l.route;if(!m&&u&&t&&!r[r.length-1].route.index&&(m=hd({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!m)return null;Object.assign(n,m.params),a.push({params:n,pathname:Ti([i,m.pathname]),pathnameBase:Zk(Ti([i,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(i=Ti([i,m.pathnameBase]))}return a}function hd(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[t,r]=qk(s.path,s.caseSensitive,s.end),n=e.match(t);if(!n)return null;let i=n[0],a=i.replace(/(.)\/+$/,"$1"),o=n.slice(1);return{params:r.reduce((u,{paramName:d,isOptional:m},p)=>{if(d==="*"){let g=o[p]||"";a=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const f=o[p];return m&&!f?u[d]=void 0:u[d]=(f||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:s}}function qk(s,e=!1,t=!0){Pn(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let r=[],n="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(r.push({paramName:"*"}),n+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?n+="\\/*$":s!==""&&s!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,e?void 0:"i"),r]}function Gk(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Pn(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function Mi(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=s.charAt(t);return r&&r!=="/"?null:s.slice(t)||"/"}var Yk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Kk=s=>Yk.test(s);function Xk(s,e="/"){let{pathname:t,search:r="",hash:n=""}=typeof s=="string"?uc(s):s,i;if(t)if(Kk(t))i=t;else{if(t.includes("//")){let a=t;t=t.replace(/\/\/+/g,"/"),Pn(!1,`Pathnames cannot have embedded double slashes - normalizing ${a} -> ${t}`)}t.startsWith("/")?i=r0(t.substring(1),"/"):i=r0(t,e)}else i=e;return{pathname:i,search:Qk(r),hash:e2(n)}}function r0(s,e){let t=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(n=>{n===".."?t.length>1&&t.pop():n!=="."&&t.push(n)}),t.length>1?t.join("/"):"/"}function Em(s,e,t,r){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Jk(s){return s.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function wh(s){let e=Jk(s);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Ph(s,e,t,r=!1){let n;typeof s=="string"?n=uc(s):(n={...s},Ss(!n.pathname||!n.pathname.includes("?"),Em("?","pathname","search",n)),Ss(!n.pathname||!n.pathname.includes("#"),Em("#","pathname","hash",n)),Ss(!n.search||!n.search.includes("#"),Em("#","search","hash",n)));let i=s===""||n.pathname==="",a=i?"/":n.pathname,o;if(a==null)o=t;else{let m=e.length-1;if(!r&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),m-=1;n.pathname=p.join("/")}o=m>=0?e[m]:"/"}let l=Xk(n,o),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}var Ti=s=>s.join("/").replace(/\/\/+/g,"/"),Zk=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),Qk=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,e2=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function t2(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var yx=["POST","PUT","PATCH","DELETE"];new Set(yx);var s2=["GET",...yx];new Set(s2);var dc=I.createContext(null);dc.displayName="DataRouter";var Ud=I.createContext(null);Ud.displayName="DataRouterState";I.createContext(!1);var xx=I.createContext({isTransitioning:!1});xx.displayName="ViewTransition";var r2=I.createContext(new Map);r2.displayName="Fetchers";var n2=I.createContext(null);n2.displayName="Await";var On=I.createContext(null);On.displayName="Navigation";var Fl=I.createContext(null);Fl.displayName="Location";var Fn=I.createContext({outlet:null,matches:[],isDataRoute:!1});Fn.displayName="Route";var jh=I.createContext(null);jh.displayName="RouteError";function i2(s,{relative:e}={}){Ss(mc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=I.useContext(On),{hash:n,pathname:i,search:a}=Bl(s,{relative:e}),o=i;return t!=="/"&&(o=i==="/"?t:Ti([t,i])),r.createHref({pathname:o,search:a,hash:n})}function mc(){return I.useContext(Fl)!=null}function oi(){return Ss(mc(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(Fl).location}var vx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Nx(s){I.useContext(On).static||I.useLayoutEffect(s)}function Oi(){let{isDataRoute:s}=I.useContext(Fn);return s?x2():a2()}function a2(){Ss(mc(),"useNavigate() may be used only in the context of a <Router> component.");let s=I.useContext(dc),{basename:e,navigator:t}=I.useContext(On),{matches:r}=I.useContext(Fn),{pathname:n}=oi(),i=JSON.stringify(wh(r)),a=I.useRef(!1);return Nx(()=>{a.current=!0}),I.useCallback((l,u={})=>{if(Pn(a.current,vx),!a.current)return;if(typeof l=="number"){t.go(l);return}let d=Ph(l,JSON.parse(i),n,u.relative==="path");s==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Ti([e,d.pathname])),(u.replace?t.replace:t.push)(d,u.state,u)},[e,t,i,n,s])}I.createContext(null);function o2(){let{matches:s}=I.useContext(Fn),e=s[s.length-1];return e?e.params:{}}function Bl(s,{relative:e}={}){let{matches:t}=I.useContext(Fn),{pathname:r}=oi(),n=JSON.stringify(wh(t));return I.useMemo(()=>Ph(s,JSON.parse(n),r,e==="path"),[s,n,r,e])}function c2(s,e){return kx(s,e)}function kx(s,e,t,r,n){Ss(mc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=I.useContext(On),{matches:a}=I.useContext(Fn),o=a[a.length-1],l=o?o.params:{},u=o?o.pathname:"/",d=o?o.pathnameBase:"/",m=o&&o.route;{let D=m&&m.path||"";Dx(u,!m||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let p=oi(),f;if(e){let D=typeof e=="string"?uc(e):e;Ss(d==="/"||D.pathname?.startsWith(d),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${D.pathname}" was given in the \`location\` prop.`),f=D}else f=p;let g=f.pathname||"/",y=g;if(d!=="/"){let D=d.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(D.length).join("/")}let v=px(s,{pathname:y});Pn(m||v!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),Pn(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=f2(v&&v.map(D=>Object.assign({},D,{params:Object.assign({},l,D.params),pathname:Ti([d,i.encodeLocation?i.encodeLocation(D.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?d:Ti([d,i.encodeLocation?i.encodeLocation(D.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathnameBase])})),a,t,r,n);return e&&N?I.createElement(Fl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},N):N}function l2(){let s=y2(),e=t2(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),t=s instanceof Error?s.stack:null,r="rgba(200,200,200, 0.5)",n={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",s),a=I.createElement(I.Fragment,null,I.createElement("p",null,"ðŸ’¿ Hey developer ðŸ‘‹"),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:i},"ErrorBoundary")," or"," ",I.createElement("code",{style:i},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),t?I.createElement("pre",{style:n},t):null,a)}var u2=I.createElement(l2,null),d2=class extends I.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){this.props.onError?this.props.onError(s,e):console.error("React Router caught the following error during render",s)}render(){return this.state.error!==void 0?I.createElement(Fn.Provider,{value:this.props.routeContext},I.createElement(jh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function m2({routeContext:s,match:e,children:t}){let r=I.useContext(dc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(Fn.Provider,{value:s},t)}function f2(s,e=[],t=null,r=null,n=null){if(s==null){if(!t)return null;if(t.errors)s=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)s=t.matches;else return null}let i=s,a=t?.errors;if(a!=null){let d=i.findIndex(m=>m.route.id&&a?.[m.route.id]!==void 0);Ss(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let o=!1,l=-1;if(t)for(let d=0;d<i.length;d++){let m=i[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(l=d),m.route.id){let{loaderData:p,errors:f}=t,g=m.route.loader&&!p.hasOwnProperty(m.route.id)&&(!f||f[m.route.id]===void 0);if(m.route.lazy||g){o=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}let u=t&&r?(d,m)=>{r(d,{location:t.location,params:t.matches?.[0]?.params??{},errorInfo:m})}:void 0;return i.reduceRight((d,m,p)=>{let f,g=!1,y=null,v=null;t&&(f=a&&m.route.id?a[m.route.id]:void 0,y=m.route.errorElement||u2,o&&(l<0&&p===0?(Dx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,v=null):l===p&&(g=!0,v=m.route.hydrateFallbackElement||null)));let N=e.concat(i.slice(0,p+1)),D=()=>{let j;return f?j=y:g?j=v:m.route.Component?j=I.createElement(m.route.Component,null):m.route.element?j=m.route.element:j=d,I.createElement(m2,{match:m,routeContext:{outlet:d,matches:N,isDataRoute:t!=null},children:j})};return t&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?I.createElement(d2,{location:t.location,revalidation:t.revalidation,component:y,error:f,children:D(),routeContext:{outlet:null,matches:N,isDataRoute:!0},onError:u}):D()},null)}function Ch(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function h2(s){let e=I.useContext(dc);return Ss(e,Ch(s)),e}function p2(s){let e=I.useContext(Ud);return Ss(e,Ch(s)),e}function g2(s){let e=I.useContext(Fn);return Ss(e,Ch(s)),e}function Eh(s){let e=g2(s),t=e.matches[e.matches.length-1];return Ss(t.route.id,`${s} can only be used on routes that contain a unique "id"`),t.route.id}function b2(){return Eh("useRouteId")}function y2(){let s=I.useContext(jh),e=p2("useRouteError"),t=Eh("useRouteError");return s!==void 0?s:e.errors?.[t]}function x2(){let{router:s}=h2("useNavigate"),e=Eh("useNavigate"),t=I.useRef(!1);return Nx(()=>{t.current=!0}),I.useCallback(async(n,i={})=>{Pn(t.current,vx),t.current&&(typeof n=="number"?s.navigate(n):await s.navigate(n,{fromRouteId:e,...i}))},[s,e])}var n0={};function Dx(s,e,t){!e&&!n0[s]&&(n0[s]=!0,Pn(!1,t))}I.memo(v2);function v2({routes:s,future:e,state:t,unstable_onError:r}){return kx(s,void 0,t,r,e)}function Dl({to:s,replace:e,state:t,relative:r}){Ss(mc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:n}=I.useContext(On);Pn(!n,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=I.useContext(Fn),{pathname:a}=oi(),o=Oi(),l=Ph(s,wh(i),a,r==="path"),u=JSON.stringify(l);return I.useEffect(()=>{o(JSON.parse(u),{replace:e,state:t,relative:r})},[o,u,r,e,t]),null}function br(s){Ss(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function N2({basename:s="/",children:e=null,location:t,navigationType:r="POP",navigator:n,static:i=!1}){Ss(!mc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=s.replace(/^\/*/,"/"),o=I.useMemo(()=>({basename:a,navigator:n,static:i,future:{}}),[a,n,i]);typeof t=="string"&&(t=uc(t));let{pathname:l="/",search:u="",hash:d="",state:m=null,key:p="default"}=t,f=I.useMemo(()=>{let g=Mi(l,a);return g==null?null:{location:{pathname:g,search:u,hash:d,state:m,key:p},navigationType:r}},[a,l,u,d,m,p,r]);return Pn(f!=null,`<Router basename="${a}"> is not able to match the URL "${l}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),f==null?null:I.createElement(On.Provider,{value:o},I.createElement(Fl.Provider,{children:e,value:f}))}function wx({children:s,location:e}){return c2(Ff(s),e)}function Ff(s,e=[]){let t=[];return I.Children.forEach(s,(r,n)=>{if(!I.isValidElement(r))return;let i=[...e,n];if(r.type===I.Fragment){t.push.apply(t,Ff(r.props.children,i));return}Ss(r.type===br,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ss(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Ff(r.props.children,i)),t.push(a)}),t}var nd="get",id="application/x-www-form-urlencoded";function Vd(s){return s!=null&&typeof s.tagName=="string"}function k2(s){return Vd(s)&&s.tagName.toLowerCase()==="button"}function D2(s){return Vd(s)&&s.tagName.toLowerCase()==="form"}function w2(s){return Vd(s)&&s.tagName.toLowerCase()==="input"}function P2(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function j2(s,e){return s.button===0&&(!e||e==="_self")&&!P2(s)}var yu=null;function C2(){if(yu===null)try{new FormData(document.createElement("form"),0),yu=!1}catch{yu=!0}return yu}var E2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Sm(s){return s!=null&&!E2.has(s)?(Pn(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${id}"`),null):s}function S2(s,e){let t,r,n,i,a;if(D2(s)){let o=s.getAttribute("action");r=o?Mi(o,e):null,t=s.getAttribute("method")||nd,n=Sm(s.getAttribute("enctype"))||id,i=new FormData(s)}else if(k2(s)||w2(s)&&(s.type==="submit"||s.type==="image")){let o=s.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=s.getAttribute("formaction")||o.getAttribute("action");if(r=l?Mi(l,e):null,t=s.getAttribute("formmethod")||o.getAttribute("method")||nd,n=Sm(s.getAttribute("formenctype"))||Sm(o.getAttribute("enctype"))||id,i=new FormData(o,s),!C2()){let{name:u,type:d,value:m}=s;if(d==="image"){let p=u?`${u}.`:"";i.append(`${p}x`,"0"),i.append(`${p}y`,"0")}else u&&i.append(u,m)}}else{if(Vd(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=nd,r=null,n=id,a=s}return i&&n==="text/plain"&&(a=i,i=void 0),{action:r,method:t.toLowerCase(),encType:n,formData:i,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Sh(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function A2(s,e,t){let r=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&Mi(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function _2(s,e){if(s.id in e)return e[s.id];try{let t=await import(s.module);return e[s.id]=t,t}catch(t){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function U2(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function V2(s,e,t){let r=await Promise.all(s.map(async n=>{let i=e.routes[n.route.id];if(i){let a=await _2(i,t);return a.links?a.links():[]}return[]}));return I2(r.flat(1).filter(U2).filter(n=>n.rel==="stylesheet"||n.rel==="preload").map(n=>n.rel==="stylesheet"?{...n,rel:"prefetch",as:"style"}:{...n,rel:"prefetch"}))}function i0(s,e,t,r,n,i){let a=(l,u)=>t[u]?l.route.id!==t[u].route.id:!0,o=(l,u)=>t[u].pathname!==l.pathname||t[u].route.path?.endsWith("*")&&t[u].params["*"]!==l.params["*"];return i==="assets"?e.filter((l,u)=>a(l,u)||o(l,u)):i==="data"?e.filter((l,u)=>{let d=r.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(a(l,u)||o(l,u))return!0;if(l.route.shouldRevalidate){let m=l.route.shouldRevalidate({currentUrl:new URL(n.pathname+n.search+n.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function L2(s,e,{includeHydrateFallback:t}={}){return T2(s.map(r=>{let n=e.routes[r.route.id];if(!n)return[];let i=[n.module];return n.clientActionModule&&(i=i.concat(n.clientActionModule)),n.clientLoaderModule&&(i=i.concat(n.clientLoaderModule)),t&&n.hydrateFallbackModule&&(i=i.concat(n.hydrateFallbackModule)),n.imports&&(i=i.concat(n.imports)),i}).flat(1))}function T2(s){return[...new Set(s)]}function M2(s){let e={},t=Object.keys(s).sort();for(let r of t)e[r]=s[r];return e}function I2(s,e){let t=new Set;return new Set(e),s.reduce((r,n)=>{let i=JSON.stringify(M2(n));return t.has(i)||(t.add(i),r.push({key:i,link:n})),r},[])}function Px(){let s=I.useContext(dc);return Sh(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function R2(){let s=I.useContext(Ud);return Sh(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Ah=I.createContext(void 0);Ah.displayName="FrameworkContext";function jx(){let s=I.useContext(Ah);return Sh(s,"You must render this element inside a <HydratedRouter> element"),s}function O2(s,e){let t=I.useContext(Ah),[r,n]=I.useState(!1),[i,a]=I.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:u,onMouseLeave:d,onTouchStart:m}=e,p=I.useRef(null);I.useEffect(()=>{if(s==="render"&&a(!0),s==="viewport"){let y=N=>{N.forEach(D=>{a(D.isIntersecting)})},v=new IntersectionObserver(y,{threshold:.5});return p.current&&v.observe(p.current),()=>{v.disconnect()}}},[s]),I.useEffect(()=>{if(r){let y=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(y)}}},[r]);let f=()=>{n(!0)},g=()=>{n(!1),a(!1)};return t?s!=="intent"?[i,p,{}]:[i,p,{onFocus:$c(o,f),onBlur:$c(l,g),onMouseEnter:$c(u,f),onMouseLeave:$c(d,g),onTouchStart:$c(m,f)}]:[!1,p,{}]}function $c(s,e){return t=>{s&&s(t),t.defaultPrevented||e(t)}}function F2({page:s,...e}){let{router:t}=Px(),r=I.useMemo(()=>px(t.routes,s,t.basename),[t.routes,s,t.basename]);return r?I.createElement(z2,{page:s,matches:r,...e}):null}function B2(s){let{manifest:e,routeModules:t}=jx(),[r,n]=I.useState([]);return I.useEffect(()=>{let i=!1;return V2(s,e,t).then(a=>{i||n(a)}),()=>{i=!0}},[s,e,t]),r}function z2({page:s,matches:e,...t}){let r=oi(),{manifest:n,routeModules:i}=jx(),{basename:a}=Px(),{loaderData:o,matches:l}=R2(),u=I.useMemo(()=>i0(s,e,l,n,r,"data"),[s,e,l,n,r]),d=I.useMemo(()=>i0(s,e,l,n,r,"assets"),[s,e,l,n,r]),m=I.useMemo(()=>{if(s===r.pathname+r.search+r.hash)return[];let g=new Set,y=!1;if(e.forEach(N=>{let D=n.routes[N.route.id];!D||!D.hasLoader||(!u.some(j=>j.route.id===N.route.id)&&N.route.id in o&&i[N.route.id]?.shouldRevalidate||D.hasClientLoader?y=!0:g.add(N.route.id))}),g.size===0)return[];let v=A2(s,a,"data");return y&&g.size>0&&v.searchParams.set("_routes",e.filter(N=>g.has(N.route.id)).map(N=>N.route.id).join(",")),[v.pathname+v.search]},[a,o,r,n,u,e,s,i]),p=I.useMemo(()=>L2(d,n),[d,n]),f=B2(d);return I.createElement(I.Fragment,null,m.map(g=>I.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...t})),p.map(g=>I.createElement("link",{key:g,rel:"modulepreload",href:g,...t})),f.map(({key:g,link:y})=>I.createElement("link",{key:g,nonce:t.nonce,...y})))}function $2(...s){return e=>{s.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Cx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Cx&&(window.__reactRouterVersion="7.9.6")}catch{}function W2({basename:s,children:e,window:t}){let r=I.useRef();r.current==null&&(r.current=_k({window:t,v5Compat:!0}));let n=r.current,[i,a]=I.useState({action:n.action,location:n.location}),o=I.useCallback(l=>{I.startTransition(()=>a(l))},[a]);return I.useLayoutEffect(()=>n.listen(o),[n,o]),I.createElement(N2,{basename:s,children:e,location:i.location,navigationType:i.action,navigator:n})}var Ex=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nc=I.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:n,reloadDocument:i,replace:a,state:o,target:l,to:u,preventScrollReset:d,viewTransition:m,...p},f){let{basename:g}=I.useContext(On),y=typeof u=="string"&&Ex.test(u),v,N=!1;if(typeof u=="string"&&y&&(v=u,Cx))try{let _=new URL(window.location.href),O=u.startsWith("//")?new URL(_.protocol+u):new URL(u),S=Mi(O.pathname,g);O.origin===_.origin&&S!=null?u=S+O.search+O.hash:N=!0}catch{Pn(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=i2(u,{relative:n}),[j,C,E]=O2(r,p),A=Y2(u,{replace:a,state:o,target:l,preventScrollReset:d,relative:n,viewTransition:m});function V(_){e&&e(_),_.defaultPrevented||A(_)}let P=I.createElement("a",{...p,...E,href:v||D,onClick:N||i?e:V,ref:$2(f,C),target:l,"data-discover":!y&&t==="render"?"true":void 0});return j&&!y?I.createElement(I.Fragment,null,P,I.createElement(F2,{page:D})):P});nc.displayName="Link";var H2=I.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:n=!1,style:i,to:a,viewTransition:o,children:l,...u},d){let m=Bl(a,{relative:u.relative}),p=oi(),f=I.useContext(Ud),{navigator:g,basename:y}=I.useContext(On),v=f!=null&&Q2(m)&&o===!0,N=g.encodeLocation?g.encodeLocation(m).pathname:m.pathname,D=p.pathname,j=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;t||(D=D.toLowerCase(),j=j?j.toLowerCase():null,N=N.toLowerCase()),j&&y&&(j=Mi(j,y)||j);const C=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let E=D===N||!n&&D.startsWith(N)&&D.charAt(C)==="/",A=j!=null&&(j===N||!n&&j.startsWith(N)&&j.charAt(N.length)==="/"),V={isActive:E,isPending:A,isTransitioning:v},P=E?e:void 0,_;typeof r=="function"?_=r(V):_=[r,E?"active":null,A?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let O=typeof i=="function"?i(V):i;return I.createElement(nc,{...u,"aria-current":P,className:_,ref:d,style:O,to:a,viewTransition:o},typeof l=="function"?l(V):l)});H2.displayName="NavLink";var q2=I.forwardRef(({discover:s="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:n,state:i,method:a=nd,action:o,onSubmit:l,relative:u,preventScrollReset:d,viewTransition:m,...p},f)=>{let g=J2(),y=Z2(o,{relative:u}),v=a.toLowerCase()==="get"?"get":"post",N=typeof o=="string"&&Ex.test(o),D=j=>{if(l&&l(j),j.defaultPrevented)return;j.preventDefault();let C=j.nativeEvent.submitter,E=C?.getAttribute("formmethod")||a;g(C||j.currentTarget,{fetcherKey:e,method:E,navigate:t,replace:n,state:i,relative:u,preventScrollReset:d,viewTransition:m})};return I.createElement("form",{ref:f,method:v,action:y,onSubmit:r?l:D,...p,"data-discover":!N&&s==="render"?"true":void 0})});q2.displayName="Form";function G2(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Sx(s){let e=I.useContext(dc);return Ss(e,G2(s)),e}function Y2(s,{target:e,replace:t,state:r,preventScrollReset:n,relative:i,viewTransition:a}={}){let o=Oi(),l=oi(),u=Bl(s,{relative:i});return I.useCallback(d=>{if(j2(d,e)){d.preventDefault();let m=t!==void 0?t:kl(l)===kl(u);o(s,{replace:m,state:r,preventScrollReset:n,relative:i,viewTransition:a})}},[l,o,u,t,r,e,s,n,i,a])}var K2=0,X2=()=>`__${String(++K2)}__`;function J2(){let{router:s}=Sx("useSubmit"),{basename:e}=I.useContext(On),t=b2();return I.useCallback(async(r,n={})=>{let{action:i,method:a,encType:o,formData:l,body:u}=S2(r,e);if(n.navigate===!1){let d=n.fetcherKey||X2();await s.fetch(d,t,n.action||i,{preventScrollReset:n.preventScrollReset,formData:l,body:u,formMethod:n.method||a,formEncType:n.encType||o,flushSync:n.flushSync})}else await s.navigate(n.action||i,{preventScrollReset:n.preventScrollReset,formData:l,body:u,formMethod:n.method||a,formEncType:n.encType||o,replace:n.replace,state:n.state,fromRouteId:t,flushSync:n.flushSync,viewTransition:n.viewTransition})},[s,e,t])}function Z2(s,{relative:e}={}){let{basename:t}=I.useContext(On),r=I.useContext(Fn);Ss(r,"useFormAction must be used inside a RouteContext");let[n]=r.matches.slice(-1),i={...Bl(s||".",{relative:e})},a=oi();if(s==null){i.search=a.search;let o=new URLSearchParams(i.search),l=o.getAll("index");if(l.some(d=>d==="")){o.delete("index"),l.filter(m=>m).forEach(m=>o.append("index",m));let d=o.toString();i.search=d?`?${d}`:""}}return(!s||s===".")&&n.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(i.pathname=i.pathname==="/"?t:Ti([t,i.pathname])),kl(i)}function Q2(s,{relative:e}={}){let t=I.useContext(xx);Ss(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Sx("useViewTransitionState"),n=Bl(s,{relative:e});if(!t.isTransitioning)return!1;let i=Mi(t.currentLocation.pathname,r)||t.currentLocation.pathname,a=Mi(t.nextLocation.pathname,r)||t.nextLocation.pathname;return hd(n.pathname,a)!=null||hd(n.pathname,i)!=null}class e5 extends I.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("ErrorBoundary:",e,t)}render(){return this.state.hasError?this.props.fallback||c.jsxDEV("div",{className:"error-boundary",children:[c.jsxDEV("h2",{children:"Something went wrong"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/ErrorBoundary.tsx",lineNumber:32,columnNumber:13},this),c.jsxDEV("p",{children:"Please try refreshing the page"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/ErrorBoundary.tsx",lineNumber:33,columnNumber:13},this),c.jsxDEV("button",{onClick:()=>window.location.reload(),children:"Refresh"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/ErrorBoundary.tsx",lineNumber:34,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/ErrorBoundary.tsx",lineNumber:31,columnNumber:11},this):this.props.children}}const Ax="pt",t5=50*1024,a0=/^[a-z0-9:_-]+$/i;function Am(s,e){return`${e||Ax}:${s}`}function s5(s){try{const e=typeof s=="string"?s:JSON.stringify(s),t=new Blob([e]).size;return{data:e,truncated:!1,bytes:t}}catch{return{data:'"__SERIALIZATION_ERROR__"',truncated:!1,bytes:28}}}const Ps={get(s,e){try{if(!a0.test(s))return null;const t=Am(s,e?.namespace),r=localStorage.getItem(t);if(r==null||r==='"__SERIALIZATION_ERROR__"')return null;try{let n=r;if(e?.encrypt){const i=e.decryptFn||globalThis.__secureStorageDecrypt;if(!i)return null;try{n=i(r)}catch{return null}}return JSON.parse(n)}catch{return r}}catch{return null}},set(s,e,t){if(!a0.test(s))return{success:!1,error:"INVALID_KEY"};const r=Am(s,t?.namespace);try{const{data:n,bytes:i}=s5(e),a=t?.maxValueSizeBytes??t5;if(i>a)return{success:!1,error:"VALUE_TOO_LARGE",bytes:i};let o=n;if(t?.encrypt){const l=t.encryptFn||globalThis.__secureStorageEncrypt;if(!l)return{success:!1,error:"ENCRYPTION_UNAVAILABLE"};try{o=l(n)}catch{return{success:!1,error:"ENCRYPT_FAILED"}}}return localStorage.setItem(r,o),{success:!0,bytes:i}}catch(n){return{success:!1,error:n.message}}},remove(s,e){try{const t=Am(s,e?.namespace);return localStorage.removeItem(t),!0}catch{return!1}},safeJSON(s,e,t){const r=this.get(s,t);return r??e},keys(s){const e=`${s||Ax}:`,t=[];for(let r=0;r<localStorage.length;r++){const n=localStorage.key(r);n&&n.startsWith(e)&&t.push(n.slice(e.length))}return t}},o0=s=>{let e;const t=new Set,r=(u,d)=>{const m=typeof u=="function"?u(e):u;if(!Object.is(m,e)){const p=e;e=d??(typeof m!="object"||m===null)?m:Object.assign({},e,m),t.forEach(f=>f(e,p))}},n=()=>e,o={setState:r,getState:n,getInitialState:()=>l,subscribe:u=>(t.add(u),()=>t.delete(u))},l=e=s(r,n,o);return o},r5=(s=>s?o0(s):o0),n5=s=>s;function i5(s,e=n5){const t=It.useSyncExternalStore(s.subscribe,It.useCallback(()=>e(s.getState()),[s,e]),It.useCallback(()=>e(s.getInitialState()),[s,e]));return It.useDebugValue(t),t}const a5=s=>{const e=r5(s),t=r=>i5(e,r);return Object.assign(t,e),t},o5=(s=>a5);function pa(s,e=1){return Number.isNaN(s)||s===1/0||s===-1/0?0 .toFixed(e):s.toFixed(e)}const c0={BASE_URL:"/",DEV:!0,MODE:"production",PROD:!1,SSR:!1,VITE_USER_NODE_ENV:"development"},wl=new Map,xu=s=>{const e=wl.get(s);return e?Object.fromEntries(Object.entries(e.stores).map(([t,r])=>[t,r.getState()])):{}},c5=(s,e,t)=>{if(s===void 0)return{type:"untracked",connection:e.connect(t)};const r=wl.get(t.name);if(r)return{type:"tracked",store:s,...r};const n={connection:e.connect(t),stores:{}};return wl.set(t.name,n),{type:"tracked",store:s,...n}},l5=(s,e)=>{if(e===void 0)return;const t=wl.get(s);t&&(delete t.stores[e],Object.keys(t.stores).length===0&&wl.delete(s))},u5=s=>{var e,t;if(!s)return;const r=s.split(`
`),n=r.findIndex(a=>a.includes("api.setState"));if(n<0)return;const i=((e=r[n+1])==null?void 0:e.trim())||"";return(t=/.+ (.+) .+/.exec(i))==null?void 0:t[1]},d5=(s,e={})=>(t,r,n)=>{const{enabled:i,anonymousActionType:a,store:o,...l}=e;let u;try{u=(i??(c0?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!u)return s(t,r,n);const{connection:d,...m}=c5(o,u,l);let p=!0;n.setState=((y,v,N)=>{const D=t(y,v);if(!p)return D;const j=N===void 0?{type:a||u5(new Error().stack)||"anonymous"}:typeof N=="string"?{type:N}:N;return o===void 0?(d?.send(j,r()),D):(d?.send({...j,type:`${o}/${j.type}`},{...xu(l.name),[o]:n.getState()}),D)}),n.devtools={cleanup:()=>{d&&typeof d.unsubscribe=="function"&&d.unsubscribe(),l5(l.name,o)}};const f=(...y)=>{const v=p;p=!1,t(...y),p=v},g=s(n.setState,r,n);if(m.type==="untracked"?d?.init(g):(m.stores[m.store]=n,d?.init(Object.fromEntries(Object.entries(m.stores).map(([y,v])=>[y,y===m.store?g:v.getState()])))),n.dispatchFromDevtools&&typeof n.dispatch=="function"){let y=!1;const v=n.dispatch;n.dispatch=(...N)=>{(c0?"production":void 0)!=="production"&&N[0].type==="__setState"&&!y&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),y=!0),v(...N)}}return d.subscribe(y=>{var v;switch(y.type){case"ACTION":if(typeof y.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return _m(y.payload,N=>{if(N.type==="__setState"){if(o===void 0){f(N.state);return}Object.keys(N.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const D=N.state[o];if(D==null)return;JSON.stringify(n.getState())!==JSON.stringify(D)&&f(D);return}n.dispatchFromDevtools&&typeof n.dispatch=="function"&&n.dispatch(N)});case"DISPATCH":switch(y.payload.type){case"RESET":return f(g),o===void 0?d?.init(n.getState()):d?.init(xu(l.name));case"COMMIT":if(o===void 0){d?.init(n.getState());return}return d?.init(xu(l.name));case"ROLLBACK":return _m(y.state,N=>{if(o===void 0){f(N),d?.init(n.getState());return}f(N[o]),d?.init(xu(l.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return _m(y.state,N=>{if(o===void 0){f(N);return}JSON.stringify(n.getState())!==JSON.stringify(N[o])&&f(N[o])});case"IMPORT_STATE":{const{nextLiftedState:N}=y.payload,D=(v=N.computedStates.slice(-1)[0])==null?void 0:v.state;if(!D)return;f(o===void 0?D:D[o]),d?.send(null,N);return}case"PAUSE_RECORDING":return p=!p}return}}),g},m5=d5,_m=(s,e)=>{let t;try{t=JSON.parse(s)}catch(r){console.error("[zustand devtools middleware] Could not parse the received json",r)}t!==void 0&&e(t)},f5=s=>(e,t,r)=>{const n=r.subscribe;return r.subscribe=((a,o,l)=>{let u=a;if(o){const d=l?.equalityFn||Object.is;let m=a(r.getState());u=p=>{const f=a(p);if(!d(m,f)){const g=m;o(m=f,g)}},l?.fireImmediately&&o(m,m)}return n(u)}),s(e,t,r)},h5=f5;function p5(s,e){let t;try{t=s()}catch{return}return{getItem:n=>{var i;const a=l=>l===null?null:JSON.parse(l,void 0),o=(i=t.getItem(n))!=null?i:null;return o instanceof Promise?o.then(a):a(o)},setItem:(n,i)=>t.setItem(n,JSON.stringify(i,void 0)),removeItem:n=>t.removeItem(n)}}const Bf=s=>e=>{try{const t=s(e);return t instanceof Promise?t:{then(r){return Bf(r)(t)},catch(r){return this}}}catch(t){return{then(r){return this},catch(r){return Bf(r)(t)}}}},g5=(s,e)=>(t,r,n)=>{let i={storage:p5(()=>localStorage),partialize:y=>y,version:0,merge:(y,v)=>({...v,...y}),...e},a=!1;const o=new Set,l=new Set;let u=i.storage;if(!u)return s((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),t(...y)},r,n);const d=()=>{const y=i.partialize({...r()});return u.setItem(i.name,{state:y,version:i.version})},m=n.setState;n.setState=(y,v)=>(m(y,v),d());const p=s((...y)=>(t(...y),d()),r,n);n.getInitialState=()=>p;let f;const g=()=>{var y,v;if(!u)return;a=!1,o.forEach(D=>{var j;return D((j=r())!=null?j:p)});const N=((v=i.onRehydrateStorage)==null?void 0:v.call(i,(y=r())!=null?y:p))||void 0;return Bf(u.getItem.bind(u))(i.name).then(D=>{if(D)if(typeof D.version=="number"&&D.version!==i.version){if(i.migrate){const j=i.migrate(D.state,D.version);return j instanceof Promise?j.then(C=>[!0,C]):[!0,j]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,D.state];return[!1,void 0]}).then(D=>{var j;const[C,E]=D;if(f=i.merge(E,(j=r())!=null?j:p),t(f,!0),C)return d()}).then(()=>{N?.(f,void 0),f=r(),a=!0,l.forEach(D=>D(f))}).catch(D=>{N?.(void 0,D)})};return n.persist={setOptions:y=>{i={...i,...y},y.storage&&(u=y.storage)},clearStorage:()=>{u?.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>g(),hasHydrated:()=>a,onHydrate:y=>(o.add(y),()=>{o.delete(y)}),onFinishHydration:y=>(l.add(y),()=>{l.delete(y)})},i.skipHydration||g(),f||p},b5=g5,y5=s=>(e,t,r)=>(r.setState=(n,i,...a)=>{const o=typeof n=="function"?pk(n):n;return e(o,i,...a)},s(r.setState,t,r)),x5=y5;var Um={};function Fo(s){if(typeof Buffer<"u")return Buffer.from(s).toString("base64");let e="";const t=new Uint8Array(s);for(let r=0;r<t.byteLength;r++)e+=String.fromCharCode(t[r]);return btoa(e)}function ia(s){if(typeof Buffer<"u")return Uint8Array.from(Buffer.from(s,"base64")).buffer;const e=atob(s),t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t.buffer}class v5{events=[];encryptionConfig;privacyConfig;sessionId;masterCryptoKey=null;masterHmacKey=null;constructor(e,t){this.encryptionConfig={algorithm:"AES",keySize:256,mode:"CBC",padding:"PKCS7",...e},this.privacyConfig={enableAnalytics:!0,dataRetentionDays:90,anonymizationLevel:"advanced",consentRequired:!0,minimumNoiseLevel:.1,...t},this.sessionId=this.generateSessionId(),this.initializeSecurity()}isTestEnv(){try{const e=(typeof process<"u"?Um:void 0)||{};return!!(e&&(e.VITEST||e.NODE_ENV==="test"))}catch{return!1}}generateSessionId(){const e=new Uint8Array(16);return crypto.getRandomValues(e),Array.from(e).map(t=>t.toString(16).padStart(2,"0")).join("")}initializeSecurity(){this.logSecurityEvent({type:"audit",level:"info",message:"Security service initialized",metadata:{encryptionAlgorithm:this.encryptionConfig.algorithm,keySize:this.encryptionConfig.keySize,privacyLevel:this.privacyConfig.anonymizationLevel},timestamp:new Date,sessionId:this.sessionId})}async initializeMasterKey(e){try{const t=crypto.subtle,r=typeof process<"u"&&Um&&Um.VITEST?500:15e4;if(e){const n=crypto.getRandomValues(new Uint8Array(16)),i=new TextEncoder().encode(e),a=await t.importKey("raw",i,"PBKDF2",!1,["deriveBits","deriveKey"]);this.masterCryptoKey=await t.deriveKey({name:"PBKDF2",salt:n.buffer,iterations:r,hash:"SHA-256"},a,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"]);const o=await t.deriveBits({name:"PBKDF2",salt:n.buffer,iterations:r,hash:"SHA-256"},a,256);this.masterHmacKey=await t.importKey("raw",o,{name:"HMAC",hash:"SHA-256"},!1,["sign","verify"])}else this.masterCryptoKey=await crypto.subtle.generateKey({name:"AES-GCM",length:256},!1,["encrypt","decrypt"]),this.masterHmacKey=await crypto.subtle.generateKey({name:"HMAC",hash:"SHA-256"},!1,["sign","verify"]);this.logSecurityEvent({type:"encryption",level:"info",message:"Master key initialized",timestamp:new Date,sessionId:this.sessionId})}catch(t){throw this.logSecurityEvent({type:"encryption",level:"error",message:"Failed to initialize master key",metadata:{error:t instanceof Error?t.message:"Unknown error"},timestamp:new Date,sessionId:this.sessionId}),new Error("Failed to initialize encryption key")}}async encryptData(e,t){try{if(!this.masterCryptoKey||!this.masterHmacKey){if(this.isTestEnv())return JSON.stringify({v:"clear",payload:e});throw new Error("Encryption key not available")}const r=crypto.getRandomValues(new Uint8Array(12)),n=new TextEncoder().encode(e),i=await crypto.subtle.encrypt({name:"AES-GCM",iv:r},this.masterCryptoKey,n),a=Fo(i),o=await crypto.subtle.sign("HMAC",this.masterHmacKey,ia(a)),l=Fo(o),u=JSON.stringify({v:"1",cipher:a,iv:Fo(r.buffer),hmac:l});return this.logSecurityEvent({type:"encryption",level:"info",message:"Data encrypted successfully",metadata:{dataLength:e.length},timestamp:new Date,sessionId:this.sessionId}),u}catch(r){throw this.logSecurityEvent({type:"encryption",level:"error",message:"Data encryption failed",metadata:{error:r instanceof Error?r.message:"Unknown error"},timestamp:new Date,sessionId:this.sessionId}),r}}async decryptData(e,t){try{if(!this.masterCryptoKey||!this.masterHmacKey){if(this.isTestEnv())try{const u=JSON.parse(e);if(u&&u.v==="clear"&&typeof u.payload=="string")return u.payload}catch{}throw new Error("Decryption key not available")}let r;try{r=JSON.parse(e)}catch{throw new Error("Malformed encrypted payload")}if(r.v==="clear"&&typeof r.payload=="string")return r.payload;if(!r.cipher||!r.iv||!r.hmac)throw new Error("Encrypted payload missing fields");if(!await crypto.subtle.verify("HMAC",this.masterHmacKey,ia(r.hmac),ia(r.cipher)))throw new Error("Integrity check failed - HMAC mismatch");const i=new Uint8Array(ia(r.iv)),a=ia(r.cipher);let o;try{o=await crypto.subtle.decrypt({name:"AES-GCM",iv:i},this.masterCryptoKey,a)}catch{throw new Error("Decryption failed - invalid key or corrupted data")}const l=new TextDecoder().decode(new Uint8Array(o));return this.logSecurityEvent({type:"encryption",level:"info",message:"Data decrypted successfully",timestamp:new Date,sessionId:this.sessionId}),l}catch(r){throw this.logSecurityEvent({type:"encryption",level:"error",message:"Data decryption failed",metadata:{error:r instanceof Error?r.message:"Unknown error"},timestamp:new Date,sessionId:this.sessionId}),r}}createSecureStorage(){return{encrypt:async(e,t)=>this.encryptData(e,t),decrypt:async(e,t)=>this.decryptData(e,t),store:async(e,t,r=!0)=>{const n=JSON.stringify(t);if(r)if(this.masterCryptoKey){const i=await this.encryptData(n);localStorage.setItem(e,i)}else{if(!this.isTestEnv())throw new Error("Secure storage requires initialized master key");localStorage.setItem(e,n)}else{if(!this.isTestEnv())throw new Error("Storing plaintext sensitive data in localStorage is forbidden");localStorage.setItem(e,n)}this.logSecurityEvent({type:"data_access",level:"info",message:`Data stored: ${e}`,metadata:{encrypted:r,dataSize:n.length},timestamp:new Date,sessionId:this.sessionId})},retrieve:async(e,t=!0)=>{const r=localStorage.getItem(e);if(!r)return null;try{const n=t?await this.decryptData(r):r;return JSON.parse(n)}catch(n){return this.logSecurityEvent({type:"data_access",level:"error",message:`Failed to retrieve data: ${e}`,metadata:{error:n instanceof Error?n.message:"Unknown error"},timestamp:new Date,sessionId:this.sessionId}),null}},delete:async e=>{localStorage.removeItem(e),this.logSecurityEvent({type:"data_access",level:"info",message:`Data deleted: ${e}`,timestamp:new Date,sessionId:this.sessionId})},clear:async()=>{localStorage.clear(),this.logSecurityEvent({type:"data_access",level:"warning",message:"All local storage cleared",timestamp:new Date,sessionId:this.sessionId})}}}logSecurityEvent(e){this.events.push({...e,sessionId:e.sessionId||this.sessionId}),this.events.length>1e3&&(this.events=this.events.slice(-500)),!this.isTestEnv()&&(e.level==="critical"||e.level==="error")&&console.error(`[SECURITY ${e.level.toUpperCase()}]`,e.message,e.metadata)}async performSecurityAudit(){const e=[],t=[];this.masterCryptoKey||(e.push({id:"no-master-key",severity:"high",category:"encryption",title:"No Master Key Initialized",description:"Encryption is not properly configured",remediation:"Initialize master key using initializeMasterKey()",affectedComponents:["SecureStorage","DataEncryption"]}),t.push("Initialize encryption system with a strong master key"));const r=this.events.filter(d=>d.level==="error"||d.level==="critical").filter(d=>Date.now()-d.timestamp.getTime()<1440*60*1e3);r.length>0&&(e.push({id:"recent-security-errors",severity:"medium",category:"configuration",title:"Recent Security Errors Detected",description:`${r.length} security errors in the last 24 hours`,remediation:"Review security event logs and address recurring issues",affectedComponents:["SecurityMonitoring"]}),t.push("Review and address recent security errors"));const n="security-audit-test",i=this.createSecureStorage();try{await i.store(n,{test:!0},!0),await i.retrieve(n,!0),await i.delete(n)}catch(d){e.push({id:"storage-encryption-failure",severity:"high",category:"encryption",title:"Storage Encryption Test Failed",description:"Secure storage operations are not working correctly",remediation:"Debug encryption/decryption process and ensure proper key management",affectedComponents:["SecureStorage"]}),console.error("Storage encryption test failed:",d)}const a=e.filter(d=>d.severity==="critical").length,o=e.filter(d=>d.severity==="high").length,l=e.filter(d=>d.severity==="medium").length,u=Math.max(0,1-(a*.4+o*.3+l*.1));return this.logSecurityEvent({type:"audit",level:e.length===0?"info":"warning",message:`Security audit completed. Score: ${pa(u*100,1)}%`,metadata:{totalIssues:e.length,criticalIssues:a,highIssues:o,mediumIssues:l,score:u},timestamp:new Date,sessionId:this.sessionId}),{passed:u>=.8&&a===0,score:u,issues:e,recommendations:t,lastAudit:new Date}}async wrapKey(e){if(!this.masterCryptoKey){if(this.isTestEnv())try{const n=await crypto.subtle.exportKey("raw",e);return JSON.stringify({wrapped:Fo(n),iv:null,format:"raw"})}catch{return JSON.stringify({wrapped:null,iv:null,format:"none"})}throw new Error("Master crypto key not initialized - cannot wrap key")}const t=crypto.getRandomValues(new Uint8Array(12)),r=await crypto.subtle.wrapKey("raw",e,this.masterCryptoKey,{name:"AES-GCM",iv:t});return JSON.stringify({wrapped:Fo(r),iv:Fo(t.buffer),format:"raw"})}async unwrapKey(e,t={name:"AES-GCM"},r=["encrypt","decrypt"]){try{const n=JSON.parse(e);if(!n||!n.wrapped)return null;if(n.format==="raw"&&(!n.iv||!this.masterCryptoKey)){if(this.isTestEnv()){const l=ia(n.wrapped);return await crypto.subtle.importKey("raw",l,t,!1,r)}throw new Error("Cannot unwrap key - master key missing")}const i=n.iv?ia(n.iv):null,a=ia(n.wrapped);if(!this.masterCryptoKey)throw new Error("Master crypto key not initialized");return await crypto.subtle.unwrapKey("raw",a,this.masterCryptoKey,{name:"AES-GCM",iv:i?new Uint8Array(i):new Uint8Array(12)},t,!1,r)}catch(n){if(this.logSecurityEvent({type:"encryption",level:"error",message:"Failed to unwrap key",metadata:{error:n instanceof Error?n.message:String(n)},timestamp:new Date,sessionId:this.sessionId}),this.isTestEnv())return null;throw n}}getSecurityEvents(e){let t=[...this.events];return e&&(e.type&&(t=t.filter(r=>r.type===e.type)),e.level&&(t=t.filter(r=>r.level===e.level)),e.since&&(t=t.filter(r=>r.timestamp>=e.since)),e.limit&&(t=t.slice(-e.limit))),t.sort((r,n)=>n.timestamp.getTime()-r.timestamp.getTime())}clearSecurityEvents(e){e?this.events=this.events.filter(t=>t.timestamp>=e):this.events=[],this.logSecurityEvent({type:"audit",level:"info",message:"Security events cleared",metadata:{olderThan:e?.toISOString()},timestamp:new Date,sessionId:this.sessionId})}getSecurityStatus(){const e=new Date(Date.now()-864e5),t=this.events.filter(i=>i.timestamp>=e),r=t.filter(i=>i.level==="error"||i.level==="critical"),n=this.events.filter(i=>i.type==="audit"&&i.message.includes("audit completed")).sort((i,a)=>a.timestamp.getTime()-i.timestamp.getTime())[0];return{encryptionEnabled:!!this.masterCryptoKey,masterKeyInitialized:!!this.masterCryptoKey,recentEvents:t.length,recentErrors:r.length,lastAudit:n?.timestamp||null}}}const Br=new v5;function N5(s){let e;if(typeof s=="string"){if(!/^\d{4}-\d{2}-\d{2}T?/.test(s))return new Date(NaN);e=Dk(s)}else e=s;return!(e instanceof Date)||Number.isNaN(e.getTime())?new Date(NaN):new Date(e.getFullYear(),e.getMonth(),e.getDate())}class l0{epsilon;budgetUsed=0;constructor(e=1){this.epsilon=e}addLaplaceNoise(e,t=1){if(this.budgetUsed>=this.epsilon)throw new Error("Privacy budget exhausted");const r=t/this.epsilon,n=this.generateLaplaceNoise(r);return this.budgetUsed+=this.epsilon*.1,Math.max(0,e+n)}generateLaplaceNoise(e){const t=Math.random()-.5;return-e*Math.sign(t)*Math.log(1-2*Math.abs(t))}getRemainingBudget(){return Math.max(0,this.epsilon-this.budgetUsed)}resetBudget(){this.budgetUsed=0}}class k5{config;events=[];privacyEngine;userConsent=!1;sessionHash;constructor(e){this.config={enableAnalytics:!0,differentialPrivacyEnabled:!0,noiseLevel:1,dataRetentionDays:30,minimumAggregationSize:5,allowedMetrics:["pain_level","location","usage_time","validation_usage"],consentRequired:!0,...e},this.privacyEngine=new l0(this.config.noiseLevel),this.sessionHash=this.generateSessionHash(),this.initializeService()}generateSessionHash(){const e=`${Date.now()}-${Math.random()}-${navigator.userAgent}`;let t=0;for(let r=0;r<e.length;r++){const n=e.charCodeAt(r);t=(t<<5)-t+n,t=t&t}return Math.abs(t).toString(36)}initializeService(){Br.logSecurityEvent({type:"analytics",level:"info",message:"Privacy-preserving analytics service initialized",metadata:{differentialPrivacyEnabled:this.config.differentialPrivacyEnabled,noiseLevel:this.config.noiseLevel,consentRequired:this.config.consentRequired},timestamp:new Date}),this.cleanOldEvents()}async requestConsent(){return this.config.consentRequired?(this.userConsent=!0,Br.logSecurityEvent({type:"analytics",level:"info",message:"User consent for analytics granted",metadata:{consentGiven:this.userConsent},timestamp:new Date}),this.userConsent):(this.userConsent=!0,!0)}revokeConsent(){this.userConsent=!1,Br.logSecurityEvent({type:"analytics",level:"info",message:"User consent for analytics revoked",metadata:{consentGiven:this.userConsent},timestamp:new Date})}hasConsent(){return this.userConsent||!this.config.consentRequired}async trackPainEntry(e){if(!this.shouldTrack())return;const t={painLevel:this.anonymizePainLevel(e.baselineData.pain),hasLocation:!!e.baselineData.locations&&e.baselineData.locations.length>0,hasDescription:!!e.notes&&e.notes.length>0,timeOfDay:new Date(e.timestamp).getHours(),dayOfWeek:new Date(e.timestamp).getDay()},r={eventType:"pain_logged",timestamp:new Date,metadata:t,sessionHash:this.sessionHash,isAnonymized:!0};this.addEvent(r),Br.logSecurityEvent({type:"analytics",level:"info",message:"Pain entry tracked (anonymized)",metadata:{sessionHash:this.sessionHash},timestamp:new Date})}async trackValidationUsage(e){if(!this.shouldTrack())return;const t={eventType:"validation_used",timestamp:new Date,metadata:{validationType:this.anonymizeString(e),timeOfDay:new Date().getHours()},sessionHash:this.sessionHash,isAnonymized:!0};this.addEvent(t)}async trackProgressView(e){if(!this.shouldTrack())return;const t={eventType:"progress_viewed",timestamp:new Date,metadata:{viewType:this.anonymizeString(e),timeOfDay:new Date().getHours()},sessionHash:this.sessionHash,isAnonymized:!0};this.addEvent(t)}async trackDataExport(e){if(!this.shouldTrack())return;const t={eventType:"export_performed",timestamp:new Date,metadata:{exportType:e,timeOfDay:new Date().getHours()},sessionHash:this.sessionHash,isAnonymized:!0};this.addEvent(t)}async generateInsights(){if(!this.shouldTrack()||this.events.length<this.config.minimumAggregationSize)return null;try{const e=this.events.filter(l=>l.eventType==="pain_logged"),t=this.events.filter(l=>l.eventType==="validation_used"),r=this.config.differentialPrivacyEnabled?this.privacyEngine.addLaplaceNoise(this.getUniqueSessionCount()):this.getUniqueSessionCount(),n=this.config.differentialPrivacyEnabled?this.privacyEngine.addLaplaceNoise(this.calculateAveragePainLevel(e)):this.calculateAveragePainLevel(e),i=this.getCommonPainLocations(),a={averageEntriesPerWeek:this.config.differentialPrivacyEnabled?this.privacyEngine.addLaplaceNoise(this.calculateWeeklyAverage(e)):this.calculateWeeklyAverage(e),peakUsageHours:this.getPeakUsageHours(this.events),validationUsageRate:this.config.differentialPrivacyEnabled?this.privacyEngine.addLaplaceNoise(t.length/Math.max(1,e.length)):t.length/Math.max(1,e.length)},o={totalUsers:Math.round(r),averagePainLevel:Number(pa(n,1)),commonPainLocations:i,usagePatterns:a,privacyMetrics:{noiseAdded:this.config.differentialPrivacyEnabled?this.config.noiseLevel:0,dataPointsAggregated:this.events.length,privacyBudgetUsed:this.config.differentialPrivacyEnabled?this.privacyEngine.getRemainingBudget():0},generatedAt:new Date};return Br.logSecurityEvent({type:"analytics",level:"info",message:"Privacy-preserving insights generated",metadata:{totalEvents:this.events.length,uniqueSessions:this.getUniqueSessionCount(),privacyBudgetRemaining:this.privacyEngine.getRemainingBudget()},timestamp:new Date}),o}catch(e){return Br.logSecurityEvent({type:"analytics",level:"error",message:"Failed to generate insights",metadata:{error:e instanceof Error?e.message:"Unknown error"},timestamp:new Date}),null}}getPrivacyStatus(){return{analyticsEnabled:this.config.enableAnalytics,consentGiven:this.userConsent,differentialPrivacyEnabled:this.config.differentialPrivacyEnabled,eventsCollected:this.events.length,privacyBudgetRemaining:this.privacyEngine.getRemainingBudget(),dataRetentionDays:this.config.dataRetentionDays}}async clearAnalyticsData(){this.events=[],this.privacyEngine.resetBudget(),Br.logSecurityEvent({type:"analytics",level:"info",message:"Analytics data cleared",timestamp:new Date})}updatePrivacyConfig(e){this.config={...this.config,...e},e.noiseLevel&&(this.privacyEngine=new l0(e.noiseLevel)),Br.logSecurityEvent({type:"analytics",level:"info",message:"Privacy configuration updated",metadata:e,timestamp:new Date})}shouldTrack(){return this.config.enableAnalytics&&(!this.config.consentRequired||this.userConsent)}addEvent(e){this.events.push(e),this.cleanOldEvents()}cleanOldEvents(){const e=new Date;e.setDate(e.getDate()-this.config.dataRetentionDays);const t=this.events.length;this.events=this.events.filter(r=>r.timestamp>=e),this.events.length<t&&Br.logSecurityEvent({type:"analytics",level:"info",message:"Old analytics events cleaned",metadata:{removed:t-this.events.length},timestamp:new Date})}anonymizePainLevel(e){return Math.round(e/2)*2}anonymizeString(e){return e.toLowerCase().includes("validation")?"validation":e.toLowerCase().includes("progress")?"progress":e.toLowerCase().includes("export")?"export":"other"}getUniqueSessionCount(){return new Set(this.events.map(t=>t.sessionHash)).size}calculateAveragePainLevel(e){return e.length===0?0:e.reduce((r,n)=>{const i=n.metadata.painLevel;return r+(i||0)},0)/e.length}calculateWeeklyAverage(e){if(e.length===0)return 0;const t=new Date,r=new Date(N5(t).getTime());r.setDate(r.getDate()-6);const n=e.filter(o=>(o.timestamp instanceof Date?o.timestamp:new Date(String(o.timestamp)))>=r);if(n.length===0)return 0;const a=n.reduce((o,l)=>{const u=l.metadata&&l.metadata.painLevel||0;return o+u},0)/n.length;return Math.max(0,Math.min(10,a))}getCommonPainLocations(){return[{location:"upper_body",frequency:Math.random()*50},{location:"lower_body",frequency:Math.random()*50},{location:"extremities",frequency:Math.random()*30}]}getPeakUsageHours(e){const t=new Array(24).fill(0);return e.forEach(r=>{const n=r.metadata.timeOfDay;n>=0&&n<24&&t[n]++}),t.map((r,n)=>({hour:n,count:r})).sort((r,n)=>n.count-r.count).slice(0,3).map(r=>r.hour)}}const ic=new k5,fc=o5()(m5(b5(h5(x5(s=>({entries:[],moodEntries:[],fibromyalgiaEntries:[],emergencyData:null,activityLogs:[],ui:{showWCBReport:!1,showOnboarding:!1,showWalkthrough:!1,showEmpathyDashboard:!1,currentFormSection:0,reportPeriod:{start:new Date(Date.now()-720*60*60*1e3).toISOString().split("T")[0],end:new Date().toISOString().split("T")[0]}},isLoading:!1,error:null,addEntry:e=>{s(t=>{const r={id:Date.now(),timestamp:new Date().toISOString(),baselineData:{pain:e.baselineData?.pain||0,locations:e.baselineData?.locations||[],symptoms:e.baselineData?.symptoms||[]},functionalImpact:{limitedActivities:e.functionalImpact?.limitedActivities||[],assistanceNeeded:e.functionalImpact?.assistanceNeeded||[],mobilityAids:e.functionalImpact?.mobilityAids||[]},medications:{current:e.medications?.current||[],changes:e.medications?.changes||"",effectiveness:e.medications?.effectiveness||""},treatments:{recent:e.treatments?.recent||[],effectiveness:e.treatments?.effectiveness||"",planned:e.treatments?.planned||[]},qualityOfLife:{sleepQuality:e.qualityOfLife?.sleepQuality||0,moodImpact:e.qualityOfLife?.moodImpact||0,socialImpact:e.qualityOfLife?.socialImpact||[]},workImpact:{missedWork:e.workImpact?.missedWork||0,modifiedDuties:e.workImpact?.modifiedDuties||[],workLimitations:e.workImpact?.workLimitations||[]},comparison:{worseningSince:e.comparison?.worseningSince||"",newLimitations:e.comparison?.newLimitations||[]},notes:e.notes||""};t.entries.push(r),t.error=null,ic.trackPainEntry(r).catch(()=>{})})},updateEntry:(e,t)=>{s(r=>{const n=r.entries.findIndex(i=>i.id===e);n>=0&&(r.entries[n]={...r.entries[n],...t})})},deleteEntry:e=>{s(t=>{t.entries=t.entries.filter(r=>r.id!==e)})},addMoodEntry:e=>{s(t=>{const r={timestamp:new Date,mood:e.mood||5,energy:e.energy||5,anxiety:e.anxiety||5,stress:e.stress||5,hopefulness:e.hopefulness||5,selfEfficacy:e.selfEfficacy||5,emotionalClarity:e.emotionalClarity||5,emotionalRegulation:e.emotionalRegulation||5,context:e.context||"",triggers:e.triggers||[],copingStrategies:e.copingStrategies||[],socialSupport:e.socialSupport||"none",notes:e.notes||""};t.moodEntries.push(r),t.error=null})},updateMoodEntry:(e,t)=>{s(r=>{const n=r.moodEntries.findIndex(i=>i.timestamp.toISOString()===e);n>=0&&(r.moodEntries[n]={...r.moodEntries[n],...t})})},deleteMoodEntry:e=>{s(t=>{t.moodEntries=t.moodEntries.filter(r=>r.timestamp.toISOString()!==e)})},addFibromyalgiaEntry:e=>{s(t=>{t.fibromyalgiaEntries.push(e)})},updateFibromyalgiaEntry:(e,t)=>{s(r=>{const n=r.fibromyalgiaEntries.findIndex(i=>i.id===e);n!==-1&&(r.fibromyalgiaEntries[n]={...r.fibromyalgiaEntries[n],...t})})},deleteFibromyalgiaEntry:e=>{s(t=>{t.fibromyalgiaEntries=t.fibromyalgiaEntries.filter(r=>r.id!==e)})},setShowWCBReport:e=>{s(t=>{t.ui.showWCBReport=e})},setShowOnboarding:e=>{s(t=>{t.ui.showOnboarding=e})},setShowWalkthrough:e=>{s(t=>{t.ui.showWalkthrough=e})},setShowEmpathyDashboard:e=>{s(t=>{t.ui.showEmpathyDashboard=e})},setCurrentFormSection:e=>{s(t=>{t.ui.currentFormSection=e})},setReportPeriod:e=>{s(t=>{t.ui.reportPeriod={...t.ui.reportPeriod,...e}})},updateEmergencyData:e=>{s(t=>{t.emergencyData=e})},addActivityLog:e=>{s(t=>{const r={id:Date.now(),...e};t.activityLogs.push(r)})},updateActivityLog:(e,t)=>{s(r=>{const n=r.activityLogs.findIndex(i=>i.id===e);n>=0&&(r.activityLogs[n]={...r.activityLogs[n],...t})})},setError:e=>{s(t=>{t.error=e})},setLoading:e=>{s(t=>{t.isLoading=e})},clearAllData:()=>{s(e=>{e.entries=[],e.moodEntries=[],e.activityLogs=[],e.emergencyData=null,e.error=null})},loadSampleData:()=>{qs(async()=>{const{samplePainEntries:e}=await import("./sampleData-CQjumYEi.js");return{samplePainEntries:e}},[]).then(({samplePainEntries:e})=>{s(t=>{t.entries=e})})}}))),{name:"pain-tracker-storage",partialize:s=>({entries:s.entries,moodEntries:s.moodEntries,emergencyData:s.emergencyData,activityLogs:s.activityLogs})}),{name:"PainTracker Store"})),D5=s=>s.entries;const w5=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),P5=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),u0=s=>{const e=P5(s);return e.charAt(0).toUpperCase()+e.slice(1)},_x=(...s)=>s.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),j5=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var C5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const E5=I.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:n="",children:i,iconNode:a,...o},l)=>I.createElement("svg",{ref:l,...C5,width:e,height:e,stroke:s,strokeWidth:r?Number(t)*24/Number(e):t,className:_x("lucide",n),...!i&&!j5(o)&&{"aria-hidden":"true"},...o},[...a.map(([u,d])=>I.createElement(u,d)),...Array.isArray(i)?i:[i]]));const Be=(s,e)=>{const t=I.forwardRef(({className:r,...n},i)=>I.createElement(E5,{ref:i,iconNode:e,className:_x(`lucide-${w5(u0(s))}`,`lucide-${s}`,r),...n}));return t.displayName=u0(s),t};const S5=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],dr=Be("activity",S5);const A5=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],_5=Be("arrow-left",A5);const U5=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],pd=Be("arrow-right",U5);const V5=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],go=Be("bell",V5);const L5=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Ux=Be("book-open",L5);const T5=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],Mn=Be("brain",T5);const M5=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ci=Be("calendar",M5);const I5=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Ld=Be("chart-column",I5);const R5=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],d0=Be("check",R5);const O5=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],_h=Be("chevron-left",O5);const F5=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Vx=Be("chevron-right",F5);const B5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ac=Be("circle-alert",B5);const z5=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],xa=Be("circle-check-big",z5);const $5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],W5=Be("circle-check",$5);const H5=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],q5=Be("circle-play",H5);const G5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Lx=Be("circle-question-mark",G5);const Y5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Tx=Be("circle-x",Y5);const K5=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],X5=Be("clipboard-check",K5);const J5=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ri=Be("clock",J5);const Z5=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]],Q5=Be("cloud-off",Z5);const eD=[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]],tD=Be("cloud-rain",eD);const sD=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],rD=Be("code",sD);const nD=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],iD=Be("dollar-sign",nD);const aD=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Dn=Be("download",aD);const oD=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],cD=Be("eye-off",oD);const lD=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Uh=Be("eye",lD);const uD=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M16 18v-6",key:"15y0np"}]],dD=Be("file-chart-column-increasing",uD);const mD=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],fD=Be("file-check",mD);const hD=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],Mx=Be("file-json",hD);const pD=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],Ix=Be("file-spreadsheet",pD);const gD=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],In=Be("file-text",gD);const bD=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Rx=Be("funnel",bD);const yD=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],Vm=Be("github",yD);const xD=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Qr=Be("heart",xD);const vD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Ui=Be("info",vD);const ND=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],kD=Be("layout-dashboard",ND);const DD=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],wD=Be("lightbulb",DD);const PD=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Td=Be("loader-circle",PD);const jD=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ga=Be("lock",jD);const CD=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],ED=Be("log-in",CD);const SD=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],AD=Be("log-out",SD);const _D=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Vh=Be("mail",_D);const UD=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Lh=Be("map-pin",UD);const VD=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],LD=Be("maximize-2",VD);const TD=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],MD=Be("menu",TD);const ID=[["path",{d:"M5 12h14",key:"1ays0h"}]],RD=Be("minus",ID);const OD=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],va=Be("moon",OD);const FD=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],BD=Be("palette",FD);const zD=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],$D=Be("pause",zD);const WD=[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]],bo=Be("pill",WD);const HD=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],m0=Be("play",HD);const qD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Lm=Be("plus",qD);const GD=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],YD=Be("quote",GD);const KD=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],XD=Be("refresh-cw",KD);const JD=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Ox=Be("rotate-ccw",JD);const ZD=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],QD=Be("save",ZD);const ew=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],tw=Be("search",ew);const sw=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Fx=Be("settings",sw);const rw=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Th=Be("share-2",rw);const nw=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ii=Be("shield",nw);const iw=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],aw=Be("smartphone",iw);const ow=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],yo=Be("sparkles",ow);const cw=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],lw=Be("star",cw);const uw=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],xo=Be("stethoscope",uw);const dw=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],vo=Be("sun",dw);const mw=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],hc=Be("trending-down",mw);const fw=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],zr=Be("trending-up",fw);const hw=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Zr=Be("triangle-alert",hw);const pw=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],pc=Be("user",pw);const gw=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Na=Be("users",gw);const bw=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],Mh=Be("waves",bw);const yw=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],xw=Be("wifi-off",yw);const vw=[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]],Nw=Be("wind",vw);const kw=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ii=Be("x",kw);const Dw=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ja=Be("zap",Dw);const ww=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],Pw=Be("zoom-in",ww);const jw=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],Cw=Be("zoom-out",jw),Ih="-",Ew=s=>{const e=Aw(s),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=s;return{getClassGroupId:a=>{const o=a.split(Ih);return o[0]===""&&o.length!==1&&o.shift(),Bx(o,e)||Sw(a)},getConflictingClassGroupIds:(a,o)=>{const l=t[a]||[];return o&&r[a]?[...l,...r[a]]:l}}},Bx=(s,e)=>{if(s.length===0)return e.classGroupId;const t=s[0],r=e.nextPart.get(t),n=r?Bx(s.slice(1),r):void 0;if(n)return n;if(e.validators.length===0)return;const i=s.join(Ih);return e.validators.find(({validator:a})=>a(i))?.classGroupId},f0=/^\[(.+)\]$/,Sw=s=>{if(f0.test(s)){const e=f0.exec(s)[1],t=e?.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},Aw=s=>{const{theme:e,classGroups:t}=s,r={nextPart:new Map,validators:[]};for(const n in t)zf(t[n],r,n,e);return r},zf=(s,e,t,r)=>{s.forEach(n=>{if(typeof n=="string"){const i=n===""?e:h0(e,n);i.classGroupId=t;return}if(typeof n=="function"){if(_w(n)){zf(n(r),e,t,r);return}e.validators.push({validator:n,classGroupId:t});return}Object.entries(n).forEach(([i,a])=>{zf(a,h0(e,i),t,r)})})},h0=(s,e)=>{let t=s;return e.split(Ih).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},_w=s=>s.isThemeGetter,Uw=s=>{if(s<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const n=(i,a)=>{t.set(i,a),e++,e>s&&(e=0,r=t,t=new Map)};return{get(i){let a=t.get(i);if(a!==void 0)return a;if((a=r.get(i))!==void 0)return n(i,a),a},set(i,a){t.has(i)?t.set(i,a):n(i,a)}}},$f="!",Wf=":",Vw=Wf.length,Lw=s=>{const{prefix:e,experimentalParseClassName:t}=s;let r=n=>{const i=[];let a=0,o=0,l=0,u;for(let g=0;g<n.length;g++){let y=n[g];if(a===0&&o===0){if(y===Wf){i.push(n.slice(l,g)),l=g+Vw;continue}if(y==="/"){u=g;continue}}y==="["?a++:y==="]"?a--:y==="("?o++:y===")"&&o--}const d=i.length===0?n:n.substring(l),m=Tw(d),p=m!==d,f=u&&u>l?u-l:void 0;return{modifiers:i,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:f}};if(e){const n=e+Wf,i=r;r=a=>a.startsWith(n)?i(a.substring(n.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:a,maybePostfixModifierPosition:void 0}}if(t){const n=r;r=i=>t({className:i,parseClassName:n})}return r},Tw=s=>s.endsWith($f)?s.substring(0,s.length-1):s.startsWith($f)?s.substring(1):s,Mw=s=>{const e=Object.fromEntries(s.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const n=[];let i=[];return r.forEach(a=>{a[0]==="["||e[a]?(n.push(...i.sort(),a),i=[]):i.push(a)}),n.push(...i.sort()),n}},Iw=s=>({cache:Uw(s.cacheSize),parseClassName:Lw(s),sortModifiers:Mw(s),...Ew(s)}),Rw=/\s+/,Ow=(s,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:n,sortModifiers:i}=e,a=[],o=s.trim().split(Rw);let l="";for(let u=o.length-1;u>=0;u-=1){const d=o[u],{isExternal:m,modifiers:p,hasImportantModifier:f,baseClassName:g,maybePostfixModifierPosition:y}=t(d);if(m){l=d+(l.length>0?" "+l:l);continue}let v=!!y,N=r(v?g.substring(0,y):g);if(!N){if(!v){l=d+(l.length>0?" "+l:l);continue}if(N=r(g),!N){l=d+(l.length>0?" "+l:l);continue}v=!1}const D=i(p).join(":"),j=f?D+$f:D,C=j+N;if(a.includes(C))continue;a.push(C);const E=n(N,v);for(let A=0;A<E.length;++A){const V=E[A];a.push(j+V)}l=d+(l.length>0?" "+l:l)}return l};function Fw(){let s=0,e,t,r="";for(;s<arguments.length;)(e=arguments[s++])&&(t=zx(e))&&(r&&(r+=" "),r+=t);return r}const zx=s=>{if(typeof s=="string")return s;let e,t="";for(let r=0;r<s.length;r++)s[r]&&(e=zx(s[r]))&&(t&&(t+=" "),t+=e);return t};function Bw(s,...e){let t,r,n,i=a;function a(l){const u=e.reduce((d,m)=>m(d),s());return t=Iw(u),r=t.cache.get,n=t.cache.set,i=o,o(l)}function o(l){const u=r(l);if(u)return u;const d=Ow(l,t);return n(l,d),d}return function(){return i(Fw.apply(null,arguments))}}const ir=s=>{const e=t=>t[s]||[];return e.isThemeGetter=!0,e},$x=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Wx=/^\((?:(\w[\w-]*):)?(.+)\)$/i,zw=/^\d+\/\d+$/,$w=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Ww=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Hw=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,qw=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Gw=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Bo=s=>zw.test(s),Mt=s=>!!s&&!Number.isNaN(Number(s)),aa=s=>!!s&&Number.isInteger(Number(s)),Tm=s=>s.endsWith("%")&&Mt(s.slice(0,-1)),Ni=s=>$w.test(s),Yw=()=>!0,Kw=s=>Ww.test(s)&&!Hw.test(s),Hx=()=>!1,Xw=s=>qw.test(s),Jw=s=>Gw.test(s),Zw=s=>!Ke(s)&&!Xe(s),Qw=s=>gc(s,Yx,Hx),Ke=s=>$x.test(s),Ka=s=>gc(s,Kx,Kw),Mm=s=>gc(s,nP,Mt),p0=s=>gc(s,qx,Hx),eP=s=>gc(s,Gx,Jw),vu=s=>gc(s,Xx,Xw),Xe=s=>Wx.test(s),Wc=s=>bc(s,Kx),tP=s=>bc(s,iP),g0=s=>bc(s,qx),sP=s=>bc(s,Yx),rP=s=>bc(s,Gx),Nu=s=>bc(s,Xx,!0),gc=(s,e,t)=>{const r=$x.exec(s);return r?r[1]?e(r[1]):t(r[2]):!1},bc=(s,e,t=!1)=>{const r=Wx.exec(s);return r?r[1]?e(r[1]):t:!1},qx=s=>s==="position"||s==="percentage",Gx=s=>s==="image"||s==="url",Yx=s=>s==="length"||s==="size"||s==="bg-size",Kx=s=>s==="length",nP=s=>s==="number",iP=s=>s==="family-name",Xx=s=>s==="shadow",aP=()=>{const s=ir("color"),e=ir("font"),t=ir("text"),r=ir("font-weight"),n=ir("tracking"),i=ir("leading"),a=ir("breakpoint"),o=ir("container"),l=ir("spacing"),u=ir("radius"),d=ir("shadow"),m=ir("inset-shadow"),p=ir("text-shadow"),f=ir("drop-shadow"),g=ir("blur"),y=ir("perspective"),v=ir("aspect"),N=ir("ease"),D=ir("animate"),j=()=>["auto","avoid","all","avoid-page","page","left","right","column"],C=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],E=()=>[...C(),Xe,Ke],A=()=>["auto","hidden","clip","visible","scroll"],V=()=>["auto","contain","none"],P=()=>[Xe,Ke,l],_=()=>[Bo,"full","auto",...P()],O=()=>[aa,"none","subgrid",Xe,Ke],S=()=>["auto",{span:["full",aa,Xe,Ke]},aa,Xe,Ke],L=()=>[aa,"auto",Xe,Ke],B=()=>["auto","min","max","fr",Xe,Ke],$=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Z=()=>["start","end","center","stretch","center-safe","end-safe"],re=()=>["auto",...P()],le=()=>[Bo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...P()],ee=()=>[s,Xe,Ke],pe=()=>[...C(),g0,p0,{position:[Xe,Ke]}],ue=()=>["no-repeat",{repeat:["","x","y","space","round"]}],te=()=>["auto","cover","contain",sP,Qw,{size:[Xe,Ke]}],U=()=>[Tm,Wc,Ka],H=()=>["","none","full",u,Xe,Ke],G=()=>["",Mt,Wc,Ka],se=()=>["solid","dashed","dotted","double"],ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ae=()=>[Mt,Tm,g0,p0],he=()=>["","none",g,Xe,Ke],me=()=>["none",Mt,Xe,Ke],ge=()=>["none",Mt,Xe,Ke],Pe=()=>[Mt,Xe,Ke],xe=()=>[Bo,"full",...P()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ni],breakpoint:[Ni],color:[Yw],container:[Ni],"drop-shadow":[Ni],ease:["in","out","in-out"],font:[Zw],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ni],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ni],shadow:[Ni],spacing:["px",Mt],text:[Ni],"text-shadow":[Ni],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Bo,Ke,Xe,v]}],container:["container"],columns:[{columns:[Mt,Ke,Xe,o]}],"break-after":[{"break-after":j()}],"break-before":[{"break-before":j()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:E()}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:V()}],"overscroll-x":[{"overscroll-x":V()}],"overscroll-y":[{"overscroll-y":V()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:_()}],"inset-x":[{"inset-x":_()}],"inset-y":[{"inset-y":_()}],start:[{start:_()}],end:[{end:_()}],top:[{top:_()}],right:[{right:_()}],bottom:[{bottom:_()}],left:[{left:_()}],visibility:["visible","invisible","collapse"],z:[{z:[aa,"auto",Xe,Ke]}],basis:[{basis:[Bo,"full","auto",o,...P()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Mt,Bo,"auto","initial","none",Ke]}],grow:[{grow:["",Mt,Xe,Ke]}],shrink:[{shrink:["",Mt,Xe,Ke]}],order:[{order:[aa,"first","last","none",Xe,Ke]}],"grid-cols":[{"grid-cols":O()}],"col-start-end":[{col:S()}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":O()}],"row-start-end":[{row:S()}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":B()}],"auto-rows":[{"auto-rows":B()}],gap:[{gap:P()}],"gap-x":[{"gap-x":P()}],"gap-y":[{"gap-y":P()}],"justify-content":[{justify:[...$(),"normal"]}],"justify-items":[{"justify-items":[...Z(),"normal"]}],"justify-self":[{"justify-self":["auto",...Z()]}],"align-content":[{content:["normal",...$()]}],"align-items":[{items:[...Z(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Z(),{baseline:["","last"]}]}],"place-content":[{"place-content":$()}],"place-items":[{"place-items":[...Z(),"baseline"]}],"place-self":[{"place-self":["auto",...Z()]}],p:[{p:P()}],px:[{px:P()}],py:[{py:P()}],ps:[{ps:P()}],pe:[{pe:P()}],pt:[{pt:P()}],pr:[{pr:P()}],pb:[{pb:P()}],pl:[{pl:P()}],m:[{m:re()}],mx:[{mx:re()}],my:[{my:re()}],ms:[{ms:re()}],me:[{me:re()}],mt:[{mt:re()}],mr:[{mr:re()}],mb:[{mb:re()}],ml:[{ml:re()}],"space-x":[{"space-x":P()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":P()}],"space-y-reverse":["space-y-reverse"],size:[{size:le()}],w:[{w:[o,"screen",...le()]}],"min-w":[{"min-w":[o,"screen","none",...le()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[a]},...le()]}],h:[{h:["screen","lh",...le()]}],"min-h":[{"min-h":["screen","lh","none",...le()]}],"max-h":[{"max-h":["screen","lh",...le()]}],"font-size":[{text:["base",t,Wc,Ka]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Xe,Mm]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Tm,Ke]}],"font-family":[{font:[tP,Ke,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[n,Xe,Ke]}],"line-clamp":[{"line-clamp":[Mt,"none",Xe,Mm]}],leading:[{leading:[i,...P()]}],"list-image":[{"list-image":["none",Xe,Ke]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Xe,Ke]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:ee()}],"text-color":[{text:ee()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...se(),"wavy"]}],"text-decoration-thickness":[{decoration:[Mt,"from-font","auto",Xe,Ka]}],"text-decoration-color":[{decoration:ee()}],"underline-offset":[{"underline-offset":[Mt,"auto",Xe,Ke]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Xe,Ke]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Xe,Ke]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:pe()}],"bg-repeat":[{bg:ue()}],"bg-size":[{bg:te()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},aa,Xe,Ke],radial:["",Xe,Ke],conic:[aa,Xe,Ke]},rP,eP]}],"bg-color":[{bg:ee()}],"gradient-from-pos":[{from:U()}],"gradient-via-pos":[{via:U()}],"gradient-to-pos":[{to:U()}],"gradient-from":[{from:ee()}],"gradient-via":[{via:ee()}],"gradient-to":[{to:ee()}],rounded:[{rounded:H()}],"rounded-s":[{"rounded-s":H()}],"rounded-e":[{"rounded-e":H()}],"rounded-t":[{"rounded-t":H()}],"rounded-r":[{"rounded-r":H()}],"rounded-b":[{"rounded-b":H()}],"rounded-l":[{"rounded-l":H()}],"rounded-ss":[{"rounded-ss":H()}],"rounded-se":[{"rounded-se":H()}],"rounded-ee":[{"rounded-ee":H()}],"rounded-es":[{"rounded-es":H()}],"rounded-tl":[{"rounded-tl":H()}],"rounded-tr":[{"rounded-tr":H()}],"rounded-br":[{"rounded-br":H()}],"rounded-bl":[{"rounded-bl":H()}],"border-w":[{border:G()}],"border-w-x":[{"border-x":G()}],"border-w-y":[{"border-y":G()}],"border-w-s":[{"border-s":G()}],"border-w-e":[{"border-e":G()}],"border-w-t":[{"border-t":G()}],"border-w-r":[{"border-r":G()}],"border-w-b":[{"border-b":G()}],"border-w-l":[{"border-l":G()}],"divide-x":[{"divide-x":G()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":G()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...se(),"hidden","none"]}],"divide-style":[{divide:[...se(),"hidden","none"]}],"border-color":[{border:ee()}],"border-color-x":[{"border-x":ee()}],"border-color-y":[{"border-y":ee()}],"border-color-s":[{"border-s":ee()}],"border-color-e":[{"border-e":ee()}],"border-color-t":[{"border-t":ee()}],"border-color-r":[{"border-r":ee()}],"border-color-b":[{"border-b":ee()}],"border-color-l":[{"border-l":ee()}],"divide-color":[{divide:ee()}],"outline-style":[{outline:[...se(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Mt,Xe,Ke]}],"outline-w":[{outline:["",Mt,Wc,Ka]}],"outline-color":[{outline:ee()}],shadow:[{shadow:["","none",d,Nu,vu]}],"shadow-color":[{shadow:ee()}],"inset-shadow":[{"inset-shadow":["none",m,Nu,vu]}],"inset-shadow-color":[{"inset-shadow":ee()}],"ring-w":[{ring:G()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:ee()}],"ring-offset-w":[{"ring-offset":[Mt,Ka]}],"ring-offset-color":[{"ring-offset":ee()}],"inset-ring-w":[{"inset-ring":G()}],"inset-ring-color":[{"inset-ring":ee()}],"text-shadow":[{"text-shadow":["none",p,Nu,vu]}],"text-shadow-color":[{"text-shadow":ee()}],opacity:[{opacity:[Mt,Xe,Ke]}],"mix-blend":[{"mix-blend":[...ne(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ne()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Mt]}],"mask-image-linear-from-pos":[{"mask-linear-from":ae()}],"mask-image-linear-to-pos":[{"mask-linear-to":ae()}],"mask-image-linear-from-color":[{"mask-linear-from":ee()}],"mask-image-linear-to-color":[{"mask-linear-to":ee()}],"mask-image-t-from-pos":[{"mask-t-from":ae()}],"mask-image-t-to-pos":[{"mask-t-to":ae()}],"mask-image-t-from-color":[{"mask-t-from":ee()}],"mask-image-t-to-color":[{"mask-t-to":ee()}],"mask-image-r-from-pos":[{"mask-r-from":ae()}],"mask-image-r-to-pos":[{"mask-r-to":ae()}],"mask-image-r-from-color":[{"mask-r-from":ee()}],"mask-image-r-to-color":[{"mask-r-to":ee()}],"mask-image-b-from-pos":[{"mask-b-from":ae()}],"mask-image-b-to-pos":[{"mask-b-to":ae()}],"mask-image-b-from-color":[{"mask-b-from":ee()}],"mask-image-b-to-color":[{"mask-b-to":ee()}],"mask-image-l-from-pos":[{"mask-l-from":ae()}],"mask-image-l-to-pos":[{"mask-l-to":ae()}],"mask-image-l-from-color":[{"mask-l-from":ee()}],"mask-image-l-to-color":[{"mask-l-to":ee()}],"mask-image-x-from-pos":[{"mask-x-from":ae()}],"mask-image-x-to-pos":[{"mask-x-to":ae()}],"mask-image-x-from-color":[{"mask-x-from":ee()}],"mask-image-x-to-color":[{"mask-x-to":ee()}],"mask-image-y-from-pos":[{"mask-y-from":ae()}],"mask-image-y-to-pos":[{"mask-y-to":ae()}],"mask-image-y-from-color":[{"mask-y-from":ee()}],"mask-image-y-to-color":[{"mask-y-to":ee()}],"mask-image-radial":[{"mask-radial":[Xe,Ke]}],"mask-image-radial-from-pos":[{"mask-radial-from":ae()}],"mask-image-radial-to-pos":[{"mask-radial-to":ae()}],"mask-image-radial-from-color":[{"mask-radial-from":ee()}],"mask-image-radial-to-color":[{"mask-radial-to":ee()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":C()}],"mask-image-conic-pos":[{"mask-conic":[Mt]}],"mask-image-conic-from-pos":[{"mask-conic-from":ae()}],"mask-image-conic-to-pos":[{"mask-conic-to":ae()}],"mask-image-conic-from-color":[{"mask-conic-from":ee()}],"mask-image-conic-to-color":[{"mask-conic-to":ee()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:pe()}],"mask-repeat":[{mask:ue()}],"mask-size":[{mask:te()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Xe,Ke]}],filter:[{filter:["","none",Xe,Ke]}],blur:[{blur:he()}],brightness:[{brightness:[Mt,Xe,Ke]}],contrast:[{contrast:[Mt,Xe,Ke]}],"drop-shadow":[{"drop-shadow":["","none",f,Nu,vu]}],"drop-shadow-color":[{"drop-shadow":ee()}],grayscale:[{grayscale:["",Mt,Xe,Ke]}],"hue-rotate":[{"hue-rotate":[Mt,Xe,Ke]}],invert:[{invert:["",Mt,Xe,Ke]}],saturate:[{saturate:[Mt,Xe,Ke]}],sepia:[{sepia:["",Mt,Xe,Ke]}],"backdrop-filter":[{"backdrop-filter":["","none",Xe,Ke]}],"backdrop-blur":[{"backdrop-blur":he()}],"backdrop-brightness":[{"backdrop-brightness":[Mt,Xe,Ke]}],"backdrop-contrast":[{"backdrop-contrast":[Mt,Xe,Ke]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Mt,Xe,Ke]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Mt,Xe,Ke]}],"backdrop-invert":[{"backdrop-invert":["",Mt,Xe,Ke]}],"backdrop-opacity":[{"backdrop-opacity":[Mt,Xe,Ke]}],"backdrop-saturate":[{"backdrop-saturate":[Mt,Xe,Ke]}],"backdrop-sepia":[{"backdrop-sepia":["",Mt,Xe,Ke]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":P()}],"border-spacing-x":[{"border-spacing-x":P()}],"border-spacing-y":[{"border-spacing-y":P()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Xe,Ke]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Mt,"initial",Xe,Ke]}],ease:[{ease:["linear","initial",N,Xe,Ke]}],delay:[{delay:[Mt,Xe,Ke]}],animate:[{animate:["none",D,Xe,Ke]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[y,Xe,Ke]}],"perspective-origin":[{"perspective-origin":E()}],rotate:[{rotate:me()}],"rotate-x":[{"rotate-x":me()}],"rotate-y":[{"rotate-y":me()}],"rotate-z":[{"rotate-z":me()}],scale:[{scale:ge()}],"scale-x":[{"scale-x":ge()}],"scale-y":[{"scale-y":ge()}],"scale-z":[{"scale-z":ge()}],"scale-3d":["scale-3d"],skew:[{skew:Pe()}],"skew-x":[{"skew-x":Pe()}],"skew-y":[{"skew-y":Pe()}],transform:[{transform:[Xe,Ke,"","none","gpu","cpu"]}],"transform-origin":[{origin:E()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:xe()}],"translate-x":[{"translate-x":xe()}],"translate-y":[{"translate-y":xe()}],"translate-z":[{"translate-z":xe()}],"translate-none":["translate-none"],accent:[{accent:ee()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:ee()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Xe,Ke]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Xe,Ke]}],fill:[{fill:["none",...ee()]}],"stroke-w":[{stroke:[Mt,Wc,Ka,Mm]}],stroke:[{stroke:["none",...ee()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},oP=Bw(aP);function We(...s){return oP(hx(s))}const Fe={primary:{400:"#60a5fa",600:"#2563eb"},accent:{400:"#e879f9",600:"#c026d3"},neutral:{50:"#fafafa",100:"#f5f5f5",200:"#e5e5e5",300:"#d4d4d4",400:"#a3a3a3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717"},success:{50:"#f0fdf4",500:"#22c55e",700:"#15803d"},warning:{50:"#fffbeb",500:"#f59e0b",700:"#b45309"},error:{500:"#ef4444",700:"#b91c1c"},info:{50:"#ecfeff",500:"#06b6d4",700:"#0e7490"}},b0=s=>s==="high-contrast"?{background:"#000000",foreground:"#ffffff",card:"#000000",cardForeground:"#ffffff",popover:"#000000",popoverForeground:"#ffffff",primary:"#ffff00",primaryForeground:"#000000",secondary:"#ffffff",secondaryForeground:"#000000",muted:"#333333",mutedForeground:"#ffffff",accent:"#00ffff",accentForeground:"#000000",destructive:"#ff0000",destructiveForeground:"#ffffff",success:Fe.success[500],successForeground:Fe.success[50],warning:Fe.warning[500],warningForeground:Fe.warning[50],info:Fe.info[500],infoForeground:Fe.info[50],border:"#ffffff",input:"#ffffff",ring:"#ffff00"}:s==="colorblind"?{background:Fe.neutral[50],foreground:Fe.neutral[900],card:Fe.neutral[50],cardForeground:Fe.neutral[900],popover:Fe.neutral[50],popoverForeground:Fe.neutral[900],primary:Fe.neutral[800],primaryForeground:Fe.neutral[50],secondary:Fe.neutral[600],secondaryForeground:Fe.neutral[50],muted:Fe.neutral[100],mutedForeground:Fe.neutral[700],accent:Fe.neutral[500],accentForeground:Fe.neutral[50],destructive:Fe.neutral[900],destructiveForeground:Fe.neutral[50],success:Fe.success[500],successForeground:Fe.success[50],warning:Fe.warning[500],warningForeground:Fe.warning[50],info:Fe.info[500],infoForeground:Fe.info[50],border:Fe.neutral[300],input:Fe.neutral[200],ring:Fe.neutral[800]}:s==="dark"?{background:Fe.neutral[900],foreground:Fe.neutral[50],card:Fe.neutral[800],cardForeground:Fe.neutral[100],popover:Fe.neutral[800],popoverForeground:Fe.neutral[100],primary:Fe.primary[400],primaryForeground:Fe.neutral[900],secondary:Fe.neutral[700],secondaryForeground:Fe.neutral[100],muted:Fe.neutral[700],mutedForeground:Fe.neutral[400],accent:Fe.accent[400],accentForeground:Fe.neutral[900],destructive:Fe.error[500],destructiveForeground:"#ffffff",success:Fe.success[500],successForeground:Fe.success[50],warning:Fe.warning[500],warningForeground:Fe.warning[50],info:Fe.info[500],infoForeground:Fe.info[50],border:Fe.neutral[700],input:Fe.neutral[700],ring:Fe.primary[400]}:{background:Fe.neutral[50],foreground:Fe.neutral[900],card:Fe.neutral[50],cardForeground:Fe.neutral[900],popover:Fe.neutral[50],popoverForeground:Fe.neutral[900],primary:Fe.primary[600],primaryForeground:Fe.neutral[50],secondary:Fe.neutral[100],secondaryForeground:Fe.neutral[900],muted:Fe.neutral[100],mutedForeground:Fe.neutral[700],accent:Fe.accent[600],accentForeground:Fe.neutral[50],destructive:Fe.error[700],destructiveForeground:"#ffffff",success:Fe.success[700],successForeground:Fe.success[50],warning:Fe.warning[700],warningForeground:Fe.warning[50],info:Fe.info[700],infoForeground:Fe.info[50],border:Fe.neutral[200],input:Fe.neutral[200],ring:Fe.primary[600]},zo=s=>typeof window<"u"?`/${s}`.replace(/\/+/g,"/"):s.startsWith("/")?s:`/${s}`,Tt={colors:{primary:{500:"#0ea5e9",600:"#0284c7",700:"#0369a1"},secondary:{500:"#22c55e",700:"#15803d"},accent:{400:"#c084fc",500:"#a855f7",700:"#7c3aed"},pain:{none:"#10b981",mild:"#84cc16",moderate:"#eab308",severe:"#f59e0b",extreme:"#ef4444"},status:{success:"#22c55e",warning:"#f59e0b",error:"#ef4444",info:"#3b82f6"},neutral:{500:"#64748b",600:"#475569"}},logos:{primary:zo("logos/pain-tracker-logo.svg"),wordmark:zo("logos/pain-tracker-wordmark.svg"),icon:zo("logos/pain-tracker-icon.svg"),iconWhite:zo("logos/pain-tracker-icon-white.svg"),appIcon:zo("icons/app-icon-512.png"),favicon:zo("icons/favicon.ico")}},Jx=I.createContext(void 0),cP=()=>{const s=I.useContext(Jx);if(s===void 0)throw new Error("useTheme must be used within a ThemeProvider");return s},lP=({children:s,defaultMode:e="light"})=>{const[t,r]=I.useState(()=>{if(typeof window<"u")try{const m=Ps.get("pain-tracker-theme");if(m==="light"||m==="dark"||m==="high-contrast")return m;if(window.matchMedia&&window.matchMedia("(prefers-contrast: high)").matches)return"high-contrast";if(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches)return"dark"}catch(m){console.warn("Failed to access localStorage for theme preference:",m)}return e}),[n,i]=I.useState(()=>typeof window<"u"?window.matchMedia("(prefers-reduced-motion: reduce)").matches:!1),a=b0(t),o=I.useCallback(m=>{const p=b0(m),f=document.documentElement;Object.entries(p).forEach(([y,v])=>{f.style.setProperty(`--color-${y}`,v)});const g=y=>{if(!y)return"0 0 0";const v=y.replace("#","").trim();if(v.length!==6)return"0 0 0";const N=parseInt(v.substring(0,2),16),D=parseInt(v.substring(2,4),16),j=parseInt(v.substring(4,6),16);return`${N} ${D} ${j}`};f.style.setProperty("--chart-series-1",g(p.primary??Tt.colors.primary[500])),f.style.setProperty("--chart-series-2",g(p.secondary??Tt.colors.secondary[500])),f.style.setProperty("--chart-series-3",g(p.accent??Tt.colors.accent[500])),f.style.setProperty("--chart-series-4",g(p.warning??Tt.colors.status.warning)),f.style.setProperty("--chart-series-5",g(p.info??Tt.colors.status.info)),f.style.setProperty("--chart-series-6",g(p.destructive??Tt.colors.status.error)),f.style.setProperty("--color-pain-none",g(p.success??Tt.colors.pain.none)),f.style.setProperty("--color-pain-mild",g(p.success??Tt.colors.pain.mild)),f.style.setProperty("--color-pain-moderate",g(p.warning??Tt.colors.pain.moderate)),f.style.setProperty("--color-pain-severe",g(p.warning??Tt.colors.pain.severe)),f.style.setProperty("--color-pain-extreme",g(p.destructive??Tt.colors.pain.extreme)),f.setAttribute("data-theme",m),m==="dark"||m==="high-contrast"?f.classList.add("dark"):f.classList.remove("dark")},[]),l=I.useCallback(m=>{r(m);try{Ps.set("pain-tracker-theme",m)}catch(p){console.warn("Failed to save theme preference to localStorage:",p)}o(m)},[o]),u=I.useCallback(()=>{l(t==="light"?"dark":t==="dark"?"high-contrast":"light")},[t,l]);I.useEffect(()=>{const m=[{query:"(prefers-color-scheme: dark)",handler:f=>{try{!Ps.get("pain-tracker-theme")&&t!=="high-contrast"&&l(f.matches?"dark":"light")}catch(g){console.warn("Failed to access localStorage for system theme detection:",g)}}},{query:"(prefers-contrast: high)",handler:f=>{try{!Ps.get("pain-tracker-theme")&&f.matches&&l("high-contrast")}catch(g){console.warn("Failed to handle high contrast preference:",g)}}},{query:"(prefers-reduced-motion: reduce)",handler:f=>{i(f.matches)}}],p=[];return m.forEach(({query:f,handler:g})=>{const y=window.matchMedia(f);y.addEventListener?(y.addEventListener("change",g),p.push(()=>y.removeEventListener("change",g))):(y.addListener(g),p.push(()=>y.removeListener(g)))}),()=>{p.forEach(f=>f())}},[t,l]),I.useEffect(()=>{o(t)},[t,o]);const d={mode:t,toggleMode:u,colors:a,setMode:l,isHighContrast:t==="high-contrast",hasReducedMotion:n};return c.jsxDEV(Jx.Provider,{value:d,children:s},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/ThemeProvider.tsx",lineNumber:248,columnNumber:10},void 0)},y0=s=>typeof s=="boolean"?`${s}`:s===0?"0":s,x0=hx,Md=(s,e)=>t=>{var r;if(e?.variants==null)return x0(s,t?.class,t?.className);const{variants:n,defaultVariants:i}=e,a=Object.keys(n).map(u=>{const d=t?.[u],m=i?.[u];if(d===null)return null;const p=y0(d)||y0(m);return n[u][p]}),o=t&&Object.entries(t).reduce((u,d)=>{let[m,p]=d;return p===void 0||(u[m]=p),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:m,className:p,...f}=d;return Object.entries(f).every(g=>{let[y,v]=g;return Array.isArray(v)?v.includes({...i,...o}[y]):{...i,...o}[y]===v})?[...u,m,p]:u},[]);return x0(s,a,l,t?.class,t?.className)},uP=Md("inline-flex items-center justify-center rounded-lg text-sm font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background active:scale-[0.98] select-none touch-manipulation",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-sm hover:shadow-md active:bg-primary/80",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-sm hover:shadow-md active:bg-destructive/80",outline:"border border-input hover:bg-accent hover:text-accent-foreground shadow-sm hover:shadow-md active:bg-accent/80",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 shadow-sm hover:shadow-md active:bg-secondary/70",ghost:"hover:bg-accent hover:text-accent-foreground active:bg-accent/50",link:"underline-offset-4 hover:underline text-primary shadow-none hover:shadow-none active:text-primary/80",success:"bg-success text-success-foreground hover:bg-success/90 shadow-sm hover:shadow-md active:bg-success/80",warning:"bg-warning text-warning-foreground hover:bg-warning/90 shadow-sm hover:shadow-md active:bg-warning/80",gradient:"bg-gradient-to-r from-primary to-accent text-primary-foreground hover:from-primary/90 hover:to-accent/90 shadow-lg hover:shadow-xl active:from-primary/80 active:to-accent/80"},size:{xs:"h-8 px-2 text-xs rounded-md min-h-[32px] min-w-[32px]",sm:"h-9 px-3 text-xs rounded-md min-h-[36px] min-w-[36px]",default:"h-12 py-2 px-4 min-h-[44px] min-w-[44px]",lg:"h-12 px-6 text-base rounded-lg min-h-[48px] min-w-[48px]",xl:"h-16 px-8 text-lg rounded-xl min-h-[56px] min-w-[56px]",icon:"h-12 w-12 min-h-[44px] min-w-[44px]","icon-sm":"h-9 w-9 min-h-[36px] min-w-[36px]","icon-lg":"h-14 w-14 min-h-[48px] min-w-[48px]"},shape:{default:"",square:"rounded-none",pill:"rounded-full",circle:"rounded-full"}},defaultVariants:{variant:"default",size:"default",shape:"default"}}),js=It.forwardRef(({className:s,variant:e,size:t,shape:r,type:n="button",loading:i=!1,leftIcon:a,rightIcon:o,fullWidth:l=!1,hapticFeedback:u=!0,longPress:d=!1,onLongPress:m,longPressDelay:p=500,ripple:f=!0,disabled:g,onClick:y,onTouchStart:v,onTouchEnd:N,onMouseDown:D,onMouseUp:j,children:C,...E},A)=>{const V=g||i,P=It.useRef(),[_,O]=It.useState(!1),[S,L]=It.useState(!1),[B,$]=It.useState([]),Z=It.useCallback(()=>{u&&"vibrate"in navigator&&navigator.vibrate(50)},[u]),re=It.useCallback(te=>{V||(O(!0),v?.(te),d&&m&&(P.current=setTimeout(()=>{L(!0),Z(),m()},p)))},[V,d,m,p,v,Z]),le=It.useCallback(te=>{O(!1),L(!1),N?.(te),P.current&&clearTimeout(P.current)},[N]),ee=It.useCallback(te=>{V||(O(!0),D?.(te),d&&m&&(P.current=setTimeout(()=>{L(!0),m()},p)))},[V,d,m,p,D]),pe=It.useCallback(te=>{O(!1),L(!1),j?.(te),P.current&&clearTimeout(P.current)},[j]),ue=It.useCallback(te=>{if(!(V||S)){if(f){const U=te.currentTarget.getBoundingClientRect(),H=te.clientX-U.left,G=te.clientY-U.top,se=Date.now();$(ne=>[...ne,{x:H,y:G,id:se}]),setTimeout(()=>{$(ne=>ne.filter(ae=>ae.id!==se))},600)}Z(),y?.(te)}},[V,S,f,Z,y]);return It.useEffect(()=>()=>{P.current&&clearTimeout(P.current)},[]),c.jsxDEV("button",{className:We(uP({variant:e,size:t,shape:r,className:s}),l&&"w-full",i&&"cursor-wait",_&&"scale-95",S&&"ring-2 ring-primary ring-opacity-50",f&&"relative overflow-hidden","touch-manipulation select-none"),ref:A,type:n,disabled:V,"aria-disabled":V,"aria-pressed":_,onClick:ue,onTouchStart:re,onTouchEnd:le,onMouseDown:ee,onMouseUp:pe,...E,children:[f&&B.map(te=>c.jsxDEV("span",{className:"absolute bg-white/30 rounded-full pointer-events-none animate-ripple",style:{left:te.x,top:te.y,width:"20px",height:"20px",transform:"translate(-50%, -50%)"}},te.id,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Button.tsx",lineNumber:237,columnNumber:13},void 0)),i&&c.jsxDEV(Td,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":"true"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Button.tsx",lineNumber:250,columnNumber:21},void 0),!i&&a&&c.jsxDEV("span",{className:"mr-2 flex-shrink-0","aria-hidden":"true",children:a},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Button.tsx",lineNumber:252,columnNumber:11},void 0),c.jsxDEV("span",{className:We("flex items-center justify-center",i&&"opacity-70"),children:C},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Button.tsx",lineNumber:256,columnNumber:9},void 0),!i&&o&&c.jsxDEV("span",{className:"ml-2 flex-shrink-0","aria-hidden":"true",children:o},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Button.tsx",lineNumber:260,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Button.tsx",lineNumber:212,columnNumber:7},void 0)});js.displayName="Button";const dP=Md("rounded-lg border bg-card text-card-foreground shadow-md transition-all duration-200",{variants:{variant:{default:"border-border",elevated:"shadow-2xl hover:shadow-2xl/80",outlined:"border-2 shadow-none",filled:"bg-muted/50 border-muted",ghost:"border-transparent shadow-none bg-transparent",gradient:"bg-gradient-to-br from-card to-muted/50 border-muted/50",accented:"border-2 border-primary/40 shadow-2xl hover:shadow-2xl/80"},padding:{none:"p-0",sm:"p-3",default:"p-6",lg:"p-8",xl:"p-10"},hover:{none:"",lift:"hover:-translate-y-1.5 hover:shadow-2xl/70",glow:"hover:shadow-2xl hover:shadow-primary/15",scale:"hover:scale-[1.02] hover:shadow-lg"}},defaultVariants:{variant:"default",padding:"default",hover:"none"}}),Ur=It.forwardRef(({className:s,variant:e,padding:t,hover:r,...n},i)=>c.jsxDEV("div",{ref:i,className:We(dP({variant:e,padding:t,hover:r,className:s})),...n,children:["severity"in n&&n.severity?c.jsxDEV("div",{"aria-hidden":!0,className:We("absolute -top-2 -left-2 h-2 w-12 rounded-b-md"),style:{backgroundColor:n.severity==="low"?"rgb(var(--color-pain-none))":n.severity==="medium"?"rgb(var(--color-pain-mild))":n.severity==="high"?"rgb(var(--color-pain-severe))":"rgb(var(--color-pain-extreme))"}},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Card.tsx",lineNumber:59,columnNumber:9},void 0):null,n.children]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Card.tsx",lineNumber:56,columnNumber:5},void 0));Ur.displayName="Card";const ai=It.forwardRef(({className:s,...e},t)=>c.jsxDEV("div",{ref:t,className:We("flex items-center justify-between space-x-3 pb-4",s),...e},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Card.tsx",lineNumber:82,columnNumber:5},void 0));ai.displayName="CardHeader";const Ri=It.forwardRef(({className:s,...e},t)=>c.jsxDEV("h2",{ref:t,className:We("text-2xl font-semibold leading-none tracking-tight",s),...e},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Card.tsx",lineNumber:93,columnNumber:5},void 0));Ri.displayName="CardTitle";const Pl=It.forwardRef(({className:s,...e},t)=>c.jsxDEV("p",{ref:t,className:We("text-sm text-muted-foreground",s),...e},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Card.tsx",lineNumber:106,columnNumber:3},void 0));Pl.displayName="CardDescription";const ni=It.forwardRef(({className:s,...e},t)=>c.jsxDEV("div",{ref:t,className:We("pt-0",s),...e},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Card.tsx",lineNumber:111,columnNumber:37},void 0));ni.displayName="CardContent";const mP=It.forwardRef(({className:s,...e},t)=>c.jsxDEV("div",{ref:t,className:We("flex items-center pt-4",s),...e},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Card.tsx",lineNumber:117,columnNumber:5},void 0));mP.displayName="CardFooter";const fP=It.forwardRef(({className:s,...e},t)=>c.jsxDEV(Ur,{ref:t,className:We("cursor-pointer hover:shadow-md transition-shadow",s),...e},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Card.tsx",lineNumber:124,columnNumber:3},void 0));fP.displayName="CardAction";const hP=It.forwardRef(({className:s,children:e,...t},r)=>c.jsxDEV(Ur,{ref:r,variant:"elevated",className:We("text-center",s),...t,children:e},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Card.tsx",lineNumber:134,columnNumber:5},void 0));hP.displayName="CardStats";const pP=It.forwardRef(({className:s,type:e,label:t,error:r,helperText:n,startIcon:i,endIcon:a,fullWidth:o=!1,variant:l="default",mobileOptimized:u=!0,inputMode:d,autoComplete:m,autoCapitalize:p,autoCorrect:f,spellCheck:g,id:y,required:v,disabled:N,...D},j)=>{const[C,E]=It.useState(!1),[A]=It.useState(y||`input-${Math.random().toString(36).substr(2,9)}`),[V,P]=It.useState(e);It.useEffect(()=>{P(e==="password"&&C?"text":e)},[e,C]);const _=()=>{E(!C)},S=(()=>{if(!u)return{};const B={style:{fontSize:"16px"},"data-mobile-optimized":"true"};return d?B.inputMode=d:e==="number"?B.inputMode="decimal":e==="email"?B.inputMode="email":e==="tel"?B.inputMode="tel":e==="url"&&(B.inputMode="url"),m&&(B.autoComplete=m),p&&(B.autoCapitalize=p),f!==void 0&&(B.autoCorrect=f),g!==void 0&&(B.spellCheck=g),B})(),L=We("flex h-12 w-full rounded-md border border-gray-300 bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-offset-1 focus-visible:ring-blue-500 disabled:cursor-not-allowed disabled:opacity-50 transition-colors duration-200",l==="filled"&&"bg-muted/50 border-muted",l==="outlined"&&"border-2",r&&"border-red-500 focus:ring-red-500 focus-visible:ring-red-500",i&&"pl-12",(a||e==="password")&&"pr-12",o&&"w-full",u&&"mobile-keyboard-optimized touch-manipulation");return c.jsxDEV("div",{className:We("space-y-2",o&&"w-full",u&&"mobile-form-spacing"),children:[t&&c.jsxDEV("label",{htmlFor:A,className:We("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",r&&"text-destructive"),children:[t,v&&c.jsxDEV("span",{className:"text-destructive ml-1","aria-label":"required",children:"*"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Input.tsx",lineNumber:137,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Input.tsx",lineNumber:128,columnNumber:11},void 0),c.jsxDEV("div",{className:"relative",children:[i&&c.jsxDEV("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-muted-foreground z-10",children:i},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Input.tsx",lineNumber:146,columnNumber:13},void 0),c.jsxDEV("input",{id:A,type:V,className:We(L,s),ref:j,disabled:N,"aria-invalid":r?"true":"false","aria-describedby":r?`${A}-error`:n?`${A}-helper`:void 0,...S,...D},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Input.tsx",lineNumber:151,columnNumber:11},void 0),e==="password"&&c.jsxDEV("button",{type:"button",onClick:_,className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors z-10 min-h-[44px] min-w-[44px] flex items-center justify-center","aria-label":C?"Hide password":"Show password",tabIndex:-1,children:C?c.jsxDEV(cD,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Input.tsx",lineNumber:173,columnNumber:31},void 0):c.jsxDEV(Uh,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Input.tsx",lineNumber:173,columnNumber:64},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Input.tsx",lineNumber:166,columnNumber:13},void 0),a&&e!=="password"&&c.jsxDEV("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground z-10",children:a},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Input.tsx",lineNumber:178,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Input.tsx",lineNumber:144,columnNumber:9},void 0),r&&c.jsxDEV("p",{id:`${A}-error`,className:"text-sm text-destructive",role:"alert","aria-live":"polite",children:r},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Input.tsx",lineNumber:185,columnNumber:11},void 0),n&&!r&&c.jsxDEV("p",{id:`${A}-helper`,className:"text-sm text-muted-foreground",children:n},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Input.tsx",lineNumber:196,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Input.tsx",lineNumber:124,columnNumber:7},void 0)});pP.displayName="Input";function gP(s){const e=I.useRef(null),t=I.useRef(null);return I.useEffect(()=>{if(!s||!e.current)return;const r=e.current;t.current=document.activeElement;const n=()=>{const o=["a[href]","button:not([disabled])","textarea:not([disabled])","input:not([disabled])","select:not([disabled])",'[tabindex]:not([tabindex="-1"])'].join(", ");return Array.from(r.querySelectorAll(o)).filter(l=>l.offsetParent!==null&&l.tabIndex>=0)},i=n();i.length>0&&setTimeout(()=>{i[0]?.focus()},10);const a=o=>{if(o.key!=="Tab")return;const l=n();if(l.length===0)return;const u=l[0],d=l[l.length-1];o.shiftKey?document.activeElement===u&&(o.preventDefault(),d.focus()):document.activeElement===d&&(o.preventDefault(),u.focus())};return r.addEventListener("keydown",a),()=>{r.removeEventListener("keydown",a),t.current&&t.current.focus()}},[s]),e}const bP={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-full mx-4"};function yP({isOpen:s,onClose:e,title:t,children:r,size:n="md",className:i,showCloseButton:a=!0,closeOnBackdropClick:o=!0,closeOnEscape:l=!0,footer:u,headerClassName:d,contentClassName:m,footerClassName:p}){const f=I.useRef(null),g=gP(s);if(I.useEffect(()=>{const v=N=>{N.key==="Escape"&&l&&e()};return s&&(document.addEventListener("keydown",v),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",v),document.body.style.overflow="unset"}},[s,e,l]),I.useEffect(()=>{s&&f.current&&f.current.focus()},[s]),!s)return null;const y=v=>{v.target===v.currentTarget&&o&&e()};return c.jsxDEV("div",{ref:g,className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",onClick:y,role:"dialog","aria-modal":"true","aria-labelledby":t?"modal-title":void 0,"aria-describedby":r?"modal-description":void 0,children:c.jsxDEV("div",{ref:f,className:We("w-full bg-background rounded-lg shadow-xl animate-in zoom-in-95 duration-200",bP[n],i),tabIndex:-1,role:"document",children:c.jsxDEV(Ur,{className:"border-0 shadow-none",children:[(t||a)&&c.jsxDEV(ai,{className:We("flex flex-row items-center justify-between space-y-0 pb-4",d),children:[t&&c.jsxDEV(Ri,{id:"modal-title",className:"text-lg font-semibold",children:t},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Modal.tsx",lineNumber:113,columnNumber:17},this),a&&c.jsxDEV(js,{variant:"ghost",size:"sm",onClick:e,className:"h-8 w-8 p-0 hover:bg-muted","aria-label":"Close modal",children:c.jsxDEV(Ii,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Modal.tsx",lineNumber:125,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Modal.tsx",lineNumber:118,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Modal.tsx",lineNumber:106,columnNumber:13},this),c.jsxDEV(ni,{className:We("pt-0",m),id:"modal-description",children:r},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Modal.tsx",lineNumber:131,columnNumber:11},this),u&&c.jsxDEV("div",{className:We("flex justify-end space-x-2 pt-4 border-t px-6 pb-6",p),children:u},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Modal.tsx",lineNumber:136,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Modal.tsx",lineNumber:104,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Modal.tsx",lineNumber:94,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Modal.tsx",lineNumber:85,columnNumber:5},this)}const xP=Md("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-success text-success-foreground hover:bg-success/80",warning:"border-transparent bg-warning text-warning-foreground hover:bg-warning/80",info:"border-transparent bg-info text-info-foreground hover:bg-info/80"},size:{sm:"px-2 py-0.5 text-xs",default:"px-2.5 py-0.5 text-xs",lg:"px-3 py-1 text-sm"}},defaultVariants:{variant:"default",size:"default"}}),no=It.forwardRef(({className:s,variant:e,size:t,removable:r=!1,onRemove:n,children:i,...a},o)=>c.jsxDEV("div",{ref:o,className:We(xP({variant:e,size:t}),s),...a,children:c.jsxDEV("span",{className:"flex items-center",children:[i,r&&n&&c.jsxDEV("button",{onClick:n,className:"ml-1 rounded-full hover:bg-black/10 p-0.5 -mr-1","aria-label":"Remove",children:c.jsxDEV(Ii,{className:"h-3 w-3"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Badge.tsx",lineNumber:58,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Badge.tsx",lineNumber:53,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Badge.tsx",lineNumber:50,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Badge.tsx",lineNumber:49,columnNumber:7},void 0));no.displayName="Badge";const vP=Md("animate-spin",{variants:{size:{xs:"h-3 w-3",sm:"h-4 w-4",default:"h-6 w-6",lg:"h-8 w-8",xl:"h-12 w-12"},variant:{default:"text-muted-foreground",primary:"text-primary",secondary:"text-secondary",destructive:"text-destructive",success:"text-success",warning:"text-warning"}},defaultVariants:{size:"default",variant:"default"}}),NP=It.forwardRef(({className:s,size:e,variant:t,text:r,fullScreen:n=!1,overlay:i=!1,...a},o)=>{const l=c.jsxDEV("div",{ref:o,className:We("flex flex-col items-center justify-center gap-2",n&&"fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",i&&"absolute inset-0 z-10 bg-background/50 backdrop-blur-sm rounded-lg",s),...a,children:[c.jsxDEV(Td,{className:We(vP({size:e,variant:t}))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Loading.tsx",lineNumber:56,columnNumber:9},void 0),r&&c.jsxDEV("p",{className:"text-sm text-muted-foreground animate-pulse",children:r},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Loading.tsx",lineNumber:57,columnNumber:18},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Loading.tsx",lineNumber:46,columnNumber:7},void 0);return n||i?l:c.jsxDEV("div",{className:"flex items-center justify-center p-4",children:l},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Loading.tsx",lineNumber:65,columnNumber:12},void 0)});NP.displayName="Loading";const kP=It.forwardRef(({className:s,...e},t)=>c.jsxDEV("div",{ref:t,className:We("flex space-x-1",s),...e,children:[c.jsxDEV("div",{className:"w-2 h-2 bg-current rounded-full animate-bounce [animation-delay:-0.3s]"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Loading.tsx",lineNumber:73,columnNumber:7},void 0),c.jsxDEV("div",{className:"w-2 h-2 bg-current rounded-full animate-bounce [animation-delay:-0.15s]"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Loading.tsx",lineNumber:74,columnNumber:7},void 0),c.jsxDEV("div",{className:"w-2 h-2 bg-current rounded-full animate-bounce"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Loading.tsx",lineNumber:75,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Loading.tsx",lineNumber:72,columnNumber:5},void 0));kP.displayName="LoadingDots";const DP=It.forwardRef(({className:s,lines:e=1,height:t="h-4",...r},n)=>c.jsxDEV("div",{ref:n,className:We("space-y-2",s),...r,children:Array.from({length:e}).map((i,a)=>c.jsxDEV("div",{className:We("bg-muted animate-pulse rounded",t,a===e-1&&e>1?"w-3/4":"w-full")},a,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Loading.tsx",lineNumber:90,columnNumber:7},void 0))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Loading.tsx",lineNumber:88,columnNumber:3},void 0));DP.displayName="LoadingSkeleton";I.createContext(void 0);function zl(s){return s+.5|0}const da=(s,e,t)=>Math.max(Math.min(s,t),e);function sl(s){return da(zl(s*2.55),0,255)}function ba(s){return da(zl(s*255),0,255)}function Ai(s){return da(zl(s/2.55)/100,0,1)}function v0(s){return da(zl(s*100),0,100)}const kn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Hf=[..."0123456789ABCDEF"],wP=s=>Hf[s&15],PP=s=>Hf[(s&240)>>4]+Hf[s&15],ku=s=>(s&240)>>4===(s&15),jP=s=>ku(s.r)&&ku(s.g)&&ku(s.b)&&ku(s.a);function CP(s){var e=s.length,t;return s[0]==="#"&&(e===4||e===5?t={r:255&kn[s[1]]*17,g:255&kn[s[2]]*17,b:255&kn[s[3]]*17,a:e===5?kn[s[4]]*17:255}:(e===7||e===9)&&(t={r:kn[s[1]]<<4|kn[s[2]],g:kn[s[3]]<<4|kn[s[4]],b:kn[s[5]]<<4|kn[s[6]],a:e===9?kn[s[7]]<<4|kn[s[8]]:255})),t}const EP=(s,e)=>s<255?e(s):"";function SP(s){var e=jP(s)?wP:PP;return s?"#"+e(s.r)+e(s.g)+e(s.b)+EP(s.a,e):void 0}const AP=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Zx(s,e,t){const r=e*Math.min(t,1-t),n=(i,a=(i+s/30)%12)=>t-r*Math.max(Math.min(a-3,9-a,1),-1);return[n(0),n(8),n(4)]}function _P(s,e,t){const r=(n,i=(n+s/60)%6)=>t-t*e*Math.max(Math.min(i,4-i,1),0);return[r(5),r(3),r(1)]}function UP(s,e,t){const r=Zx(s,1,.5);let n;for(e+t>1&&(n=1/(e+t),e*=n,t*=n),n=0;n<3;n++)r[n]*=1-e-t,r[n]+=e;return r}function VP(s,e,t,r,n){return s===n?(e-t)/r+(e<t?6:0):e===n?(t-s)/r+2:(s-e)/r+4}function Rh(s){const t=s.r/255,r=s.g/255,n=s.b/255,i=Math.max(t,r,n),a=Math.min(t,r,n),o=(i+a)/2;let l,u,d;return i!==a&&(d=i-a,u=o>.5?d/(2-i-a):d/(i+a),l=VP(t,r,n,d,i),l=l*60+.5),[l|0,u||0,o]}function Oh(s,e,t,r){return(Array.isArray(e)?s(e[0],e[1],e[2]):s(e,t,r)).map(ba)}function Fh(s,e,t){return Oh(Zx,s,e,t)}function LP(s,e,t){return Oh(UP,s,e,t)}function TP(s,e,t){return Oh(_P,s,e,t)}function Qx(s){return(s%360+360)%360}function MP(s){const e=AP.exec(s);let t=255,r;if(!e)return;e[5]!==r&&(t=e[6]?sl(+e[5]):ba(+e[5]));const n=Qx(+e[2]),i=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?r=LP(n,i,a):e[1]==="hsv"?r=TP(n,i,a):r=Fh(n,i,a),{r:r[0],g:r[1],b:r[2],a:t}}function IP(s,e){var t=Rh(s);t[0]=Qx(t[0]+e),t=Fh(t),s.r=t[0],s.g=t[1],s.b=t[2]}function RP(s){if(!s)return;const e=Rh(s),t=e[0],r=v0(e[1]),n=v0(e[2]);return s.a<255?`hsla(${t}, ${r}%, ${n}%, ${Ai(s.a)})`:`hsl(${t}, ${r}%, ${n}%)`}const N0={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},k0={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function OP(){const s={},e=Object.keys(k0),t=Object.keys(N0);let r,n,i,a,o;for(r=0;r<e.length;r++){for(a=o=e[r],n=0;n<t.length;n++)i=t[n],o=o.replace(i,N0[i]);i=parseInt(k0[a],16),s[o]=[i>>16&255,i>>8&255,i&255]}return s}let Du;function FP(s){Du||(Du=OP(),Du.transparent=[0,0,0,0]);const e=Du[s.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const BP=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function zP(s){const e=BP.exec(s);let t=255,r,n,i;if(e){if(e[7]!==r){const a=+e[7];t=e[8]?sl(a):da(a*255,0,255)}return r=+e[1],n=+e[3],i=+e[5],r=255&(e[2]?sl(r):da(r,0,255)),n=255&(e[4]?sl(n):da(n,0,255)),i=255&(e[6]?sl(i):da(i,0,255)),{r,g:n,b:i,a:t}}}function $P(s){return s&&(s.a<255?`rgba(${s.r}, ${s.g}, ${s.b}, ${Ai(s.a)})`:`rgb(${s.r}, ${s.g}, ${s.b})`)}const Im=s=>s<=.0031308?s*12.92:Math.pow(s,1/2.4)*1.055-.055,$o=s=>s<=.04045?s/12.92:Math.pow((s+.055)/1.055,2.4);function WP(s,e,t){const r=$o(Ai(s.r)),n=$o(Ai(s.g)),i=$o(Ai(s.b));return{r:ba(Im(r+t*($o(Ai(e.r))-r))),g:ba(Im(n+t*($o(Ai(e.g))-n))),b:ba(Im(i+t*($o(Ai(e.b))-i))),a:s.a+t*(e.a-s.a)}}function wu(s,e,t){if(s){let r=Rh(s);r[e]=Math.max(0,Math.min(r[e]+r[e]*t,e===0?360:1)),r=Fh(r),s.r=r[0],s.g=r[1],s.b=r[2]}}function e1(s,e){return s&&Object.assign(e||{},s)}function D0(s){var e={r:0,g:0,b:0,a:255};return Array.isArray(s)?s.length>=3&&(e={r:s[0],g:s[1],b:s[2],a:255},s.length>3&&(e.a=ba(s[3]))):(e=e1(s,{r:0,g:0,b:0,a:1}),e.a=ba(e.a)),e}function HP(s){return s.charAt(0)==="r"?zP(s):MP(s)}class jl{constructor(e){if(e instanceof jl)return e;const t=typeof e;let r;t==="object"?r=D0(e):t==="string"&&(r=CP(e)||FP(e)||HP(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=e1(this._rgb);return e&&(e.a=Ai(e.a)),e}set rgb(e){this._rgb=D0(e)}rgbString(){return this._valid?$P(this._rgb):void 0}hexString(){return this._valid?SP(this._rgb):void 0}hslString(){return this._valid?RP(this._rgb):void 0}mix(e,t){if(e){const r=this.rgb,n=e.rgb;let i;const a=t===i?.5:t,o=2*a-1,l=r.a-n.a,u=((o*l===-1?o:(o+l)/(1+o*l))+1)/2;i=1-u,r.r=255&u*r.r+i*n.r+.5,r.g=255&u*r.g+i*n.g+.5,r.b=255&u*r.b+i*n.b+.5,r.a=a*r.a+(1-a)*n.a,this.rgb=r}return this}interpolate(e,t){return e&&(this._rgb=WP(this._rgb,e._rgb,t)),this}clone(){return new jl(this.rgb)}alpha(e){return this._rgb.a=ba(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=zl(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return wu(this._rgb,2,e),this}darken(e){return wu(this._rgb,2,-e),this}saturate(e){return wu(this._rgb,1,e),this}desaturate(e){return wu(this._rgb,1,-e),this}rotate(e){return IP(this._rgb,e),this}}function ki(){}const qP=(()=>{let s=0;return()=>s++})();function zt(s){return s==null}function Cs(s){if(Array.isArray&&Array.isArray(s))return!0;const e=Object.prototype.toString.call(s);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function $t(s){return s!==null&&Object.prototype.toString.call(s)==="[object Object]"}function Os(s){return(typeof s=="number"||s instanceof Number)&&isFinite(+s)}function fn(s,e){return Os(s)?s:e}function xt(s,e){return typeof s>"u"?e:s}const GP=(s,e)=>typeof s=="string"&&s.endsWith("%")?parseFloat(s)/100:+s/e,t1=(s,e)=>typeof s=="string"&&s.endsWith("%")?parseFloat(s)/100*e:+s;function yt(s,e,t){if(s&&typeof s.call=="function")return s.apply(t,e)}function Bt(s,e,t,r){let n,i,a;if(Cs(s))for(i=s.length,n=0;n<i;n++)e.call(t,s[n],n);else if($t(s))for(a=Object.keys(s),i=a.length,n=0;n<i;n++)e.call(t,s[a[n]],a[n])}function gd(s,e){let t,r,n,i;if(!s||!e||s.length!==e.length)return!1;for(t=0,r=s.length;t<r;++t)if(n=s[t],i=e[t],n.datasetIndex!==i.datasetIndex||n.index!==i.index)return!1;return!0}function bd(s){if(Cs(s))return s.map(bd);if($t(s)){const e=Object.create(null),t=Object.keys(s),r=t.length;let n=0;for(;n<r;++n)e[t[n]]=bd(s[t[n]]);return e}return s}function s1(s){return["__proto__","prototype","constructor"].indexOf(s)===-1}function YP(s,e,t,r){if(!s1(s))return;const n=e[s],i=t[s];$t(n)&&$t(i)?Cl(n,i,r):e[s]=bd(i)}function Cl(s,e,t){const r=Cs(e)?e:[e],n=r.length;if(!$t(s))return s;t=t||{};const i=t.merger||YP;let a;for(let o=0;o<n;++o){if(a=r[o],!$t(a))continue;const l=Object.keys(a);for(let u=0,d=l.length;u<d;++u)i(l[u],s,a,t)}return s}function ul(s,e){return Cl(s,e,{merger:KP})}function KP(s,e,t){if(!s1(s))return;const r=e[s],n=t[s];$t(r)&&$t(n)?ul(r,n):Object.prototype.hasOwnProperty.call(e,s)||(e[s]=bd(n))}const w0={"":s=>s,x:s=>s.x,y:s=>s.y};function XP(s){const e=s.split("."),t=[];let r="";for(const n of e)r+=n,r.endsWith("\\")?r=r.slice(0,-1)+".":(t.push(r),r="");return t}function JP(s){const e=XP(s);return t=>{for(const r of e){if(r==="")break;t=t&&t[r]}return t}}function ka(s,e){return(w0[e]||(w0[e]=JP(e)))(s)}function Bh(s){return s.charAt(0).toUpperCase()+s.slice(1)}const El=s=>typeof s<"u",Da=s=>typeof s=="function",P0=(s,e)=>{if(s.size!==e.size)return!1;for(const t of s)if(!e.has(t))return!1;return!0};function ZP(s){return s.type==="mouseup"||s.type==="click"||s.type==="contextmenu"}const Qt=Math.PI,Ns=2*Qt,QP=Ns+Qt,yd=Number.POSITIVE_INFINITY,ej=Qt/180,Xs=Qt/2,Xa=Qt/4,j0=Qt*2/3,ma=Math.log10,wn=Math.sign;function co(s,e,t){return Math.abs(s-e)<t}function C0(s){const e=Math.round(s);s=co(s,e,s/1e3)?e:s;const t=Math.pow(10,Math.floor(ma(s))),r=s/t;return(r<=1?1:r<=2?2:r<=5?5:10)*t}function tj(s){const e=[],t=Math.sqrt(s);let r;for(r=1;r<t;r++)s%r===0&&(e.push(r),e.push(s/r));return t===(t|0)&&e.push(t),e.sort((n,i)=>n-i).pop(),e}function sj(s){return typeof s=="symbol"||typeof s=="object"&&s!==null&&!(Symbol.toPrimitive in s||"toString"in s||"valueOf"in s)}function oc(s){return!sj(s)&&!isNaN(parseFloat(s))&&isFinite(s)}function rj(s,e){const t=Math.round(s);return t-e<=s&&t+e>=s}function r1(s,e,t){let r,n,i;for(r=0,n=s.length;r<n;r++)i=s[r][t],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function Tn(s){return s*(Qt/180)}function zh(s){return s*(180/Qt)}function E0(s){if(!Os(s))return;let e=1,t=0;for(;Math.round(s*e)/e!==s;)e*=10,t++;return t}function n1(s,e){const t=e.x-s.x,r=e.y-s.y,n=Math.sqrt(t*t+r*r);let i=Math.atan2(r,t);return i<-.5*Qt&&(i+=Ns),{angle:i,distance:n}}function qf(s,e){return Math.sqrt(Math.pow(e.x-s.x,2)+Math.pow(e.y-s.y,2))}function nj(s,e){return(s-e+QP)%Ns-Qt}function Ar(s){return(s%Ns+Ns)%Ns}function Sl(s,e,t,r){const n=Ar(s),i=Ar(e),a=Ar(t),o=Ar(i-n),l=Ar(a-n),u=Ar(n-i),d=Ar(n-a);return n===i||n===a||r&&i===a||o>l&&u<d}function ur(s,e,t){return Math.max(e,Math.min(t,s))}function ij(s){return ur(s,-32768,32767)}function Vi(s,e,t,r=1e-6){return s>=Math.min(e,t)-r&&s<=Math.max(e,t)+r}function $h(s,e,t){t=t||(a=>s[a]<e);let r=s.length-1,n=0,i;for(;r-n>1;)i=n+r>>1,t(i)?n=i:r=i;return{lo:n,hi:r}}const Li=(s,e,t,r)=>$h(s,t,r?n=>{const i=s[n][e];return i<t||i===t&&s[n+1][e]===t}:n=>s[n][e]<t),aj=(s,e,t)=>$h(s,t,r=>s[r][e]>=t);function oj(s,e,t){let r=0,n=s.length;for(;r<n&&s[r]<e;)r++;for(;n>r&&s[n-1]>t;)n--;return r>0||n<s.length?s.slice(r,n):s}const i1=["push","pop","shift","splice","unshift"];function cj(s,e){if(s._chartjs){s._chartjs.listeners.push(e);return}Object.defineProperty(s,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),i1.forEach(t=>{const r="_onData"+Bh(t),n=s[t];Object.defineProperty(s,t,{configurable:!0,enumerable:!1,value(...i){const a=n.apply(this,i);return s._chartjs.listeners.forEach(o=>{typeof o[r]=="function"&&o[r](...i)}),a}})})}function S0(s,e){const t=s._chartjs;if(!t)return;const r=t.listeners,n=r.indexOf(e);n!==-1&&r.splice(n,1),!(r.length>0)&&(i1.forEach(i=>{delete s[i]}),delete s._chartjs)}function a1(s){const e=new Set(s);return e.size===s.length?s:Array.from(e)}const o1=(function(){return typeof window>"u"?function(s){return s()}:window.requestAnimationFrame})();function c1(s,e){let t=[],r=!1;return function(...n){t=n,r||(r=!0,o1.call(window,()=>{r=!1,s.apply(e,t)}))}}function lj(s,e){let t;return function(...r){return e?(clearTimeout(t),t=setTimeout(s,e,r)):s.apply(this,r),e}}const Wh=s=>s==="start"?"left":s==="end"?"right":"center",Sr=(s,e,t)=>s==="start"?e:s==="end"?t:(e+t)/2,uj=(s,e,t,r)=>s===(r?"left":"right")?t:s==="center"?(e+t)/2:e;function l1(s,e,t){const r=e.length;let n=0,i=r;if(s._sorted){const{iScale:a,vScale:o,_parsed:l}=s,u=s.dataset&&s.dataset.options?s.dataset.options.spanGaps:null,d=a.axis,{min:m,max:p,minDefined:f,maxDefined:g}=a.getUserBounds();if(f){if(n=Math.min(Li(l,d,m).lo,t?r:Li(e,d,a.getPixelForValue(m)).lo),u){const y=l.slice(0,n+1).reverse().findIndex(v=>!zt(v[o.axis]));n-=Math.max(0,y)}n=ur(n,0,r-1)}if(g){let y=Math.max(Li(l,a.axis,p,!0).hi+1,t?0:Li(e,d,a.getPixelForValue(p),!0).hi+1);if(u){const v=l.slice(y-1).findIndex(N=>!zt(N[o.axis]));y+=Math.max(0,v)}i=ur(y,n,r)-n}else i=r-n}return{start:n,count:i}}function u1(s){const{xScale:e,yScale:t,_scaleRanges:r}=s,n={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!r)return s._scaleRanges=n,!0;const i=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==t.min||r.ymax!==t.max;return Object.assign(r,n),i}const Pu=s=>s===0||s===1,A0=(s,e,t)=>-(Math.pow(2,10*(s-=1))*Math.sin((s-e)*Ns/t)),_0=(s,e,t)=>Math.pow(2,-10*s)*Math.sin((s-e)*Ns/t)+1,dl={linear:s=>s,easeInQuad:s=>s*s,easeOutQuad:s=>-s*(s-2),easeInOutQuad:s=>(s/=.5)<1?.5*s*s:-.5*(--s*(s-2)-1),easeInCubic:s=>s*s*s,easeOutCubic:s=>(s-=1)*s*s+1,easeInOutCubic:s=>(s/=.5)<1?.5*s*s*s:.5*((s-=2)*s*s+2),easeInQuart:s=>s*s*s*s,easeOutQuart:s=>-((s-=1)*s*s*s-1),easeInOutQuart:s=>(s/=.5)<1?.5*s*s*s*s:-.5*((s-=2)*s*s*s-2),easeInQuint:s=>s*s*s*s*s,easeOutQuint:s=>(s-=1)*s*s*s*s+1,easeInOutQuint:s=>(s/=.5)<1?.5*s*s*s*s*s:.5*((s-=2)*s*s*s*s+2),easeInSine:s=>-Math.cos(s*Xs)+1,easeOutSine:s=>Math.sin(s*Xs),easeInOutSine:s=>-.5*(Math.cos(Qt*s)-1),easeInExpo:s=>s===0?0:Math.pow(2,10*(s-1)),easeOutExpo:s=>s===1?1:-Math.pow(2,-10*s)+1,easeInOutExpo:s=>Pu(s)?s:s<.5?.5*Math.pow(2,10*(s*2-1)):.5*(-Math.pow(2,-10*(s*2-1))+2),easeInCirc:s=>s>=1?s:-(Math.sqrt(1-s*s)-1),easeOutCirc:s=>Math.sqrt(1-(s-=1)*s),easeInOutCirc:s=>(s/=.5)<1?-.5*(Math.sqrt(1-s*s)-1):.5*(Math.sqrt(1-(s-=2)*s)+1),easeInElastic:s=>Pu(s)?s:A0(s,.075,.3),easeOutElastic:s=>Pu(s)?s:_0(s,.075,.3),easeInOutElastic(s){return Pu(s)?s:s<.5?.5*A0(s*2,.1125,.45):.5+.5*_0(s*2-1,.1125,.45)},easeInBack(s){return s*s*((1.70158+1)*s-1.70158)},easeOutBack(s){return(s-=1)*s*((1.70158+1)*s+1.70158)+1},easeInOutBack(s){let e=1.70158;return(s/=.5)<1?.5*(s*s*(((e*=1.525)+1)*s-e)):.5*((s-=2)*s*(((e*=1.525)+1)*s+e)+2)},easeInBounce:s=>1-dl.easeOutBounce(1-s),easeOutBounce(s){return s<1/2.75?7.5625*s*s:s<2/2.75?7.5625*(s-=1.5/2.75)*s+.75:s<2.5/2.75?7.5625*(s-=2.25/2.75)*s+.9375:7.5625*(s-=2.625/2.75)*s+.984375},easeInOutBounce:s=>s<.5?dl.easeInBounce(s*2)*.5:dl.easeOutBounce(s*2-1)*.5+.5};function Hh(s){if(s&&typeof s=="object"){const e=s.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function U0(s){return Hh(s)?s:new jl(s)}function Rm(s){return Hh(s)?s:new jl(s).saturate(.5).darken(.1).hexString()}const dj=["x","y","borderWidth","radius","tension"],mj=["color","borderColor","backgroundColor"];function fj(s){s.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),s.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),s.set("animations",{colors:{type:"color",properties:mj},numbers:{type:"number",properties:dj}}),s.describe("animations",{_fallback:"animation"}),s.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function hj(s){s.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const V0=new Map;function pj(s,e){e=e||{};const t=s+JSON.stringify(e);let r=V0.get(t);return r||(r=new Intl.NumberFormat(s,e),V0.set(t,r)),r}function $l(s,e,t){return pj(e,t).format(s)}const d1={values(s){return Cs(s)?s:""+s},numeric(s,e,t){if(s===0)return"0";const r=this.chart.options.locale;let n,i=s;if(t.length>1){const u=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(u<1e-4||u>1e15)&&(n="scientific"),i=gj(s,t)}const a=ma(Math.abs(i)),o=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:n,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),$l(s,r,l)},logarithmic(s,e,t){if(s===0)return"0";const r=t[e].significand||s/Math.pow(10,Math.floor(ma(s)));return[1,2,3,5,10,15].includes(r)||e>.8*t.length?d1.numeric.call(this,s,e,t):""}};function gj(s,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&s!==Math.floor(s)&&(t=s-Math.floor(s)),t}var Id={formatters:d1};function bj(s){s.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Id.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),s.route("scale.ticks","color","","color"),s.route("scale.grid","color","","borderColor"),s.route("scale.border","color","","borderColor"),s.route("scale.title","color","","color"),s.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),s.describe("scales",{_fallback:"scale"}),s.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const No=Object.create(null),Gf=Object.create(null);function ml(s,e){if(!e)return s;const t=e.split(".");for(let r=0,n=t.length;r<n;++r){const i=t[r];s=s[i]||(s[i]=Object.create(null))}return s}function Om(s,e,t){return typeof e=="string"?Cl(ml(s,e),t):Cl(ml(s,""),e)}class yj{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,n)=>Rm(n.backgroundColor),this.hoverBorderColor=(r,n)=>Rm(n.borderColor),this.hoverColor=(r,n)=>Rm(n.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Om(this,e,t)}get(e){return ml(this,e)}describe(e,t){return Om(Gf,e,t)}override(e,t){return Om(No,e,t)}route(e,t,r,n){const i=ml(this,e),a=ml(this,r),o="_"+t;Object.defineProperties(i,{[o]:{value:i[t],writable:!0},[t]:{enumerable:!0,get(){const l=this[o],u=a[n];return $t(l)?Object.assign({},u,l):xt(l,u)},set(l){this[o]=l}}})}apply(e){e.forEach(t=>t(this))}}var Es=new yj({_scriptable:s=>!s.startsWith("on"),_indexable:s=>s!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[fj,hj,bj]);function xj(s){return!s||zt(s.size)||zt(s.family)?null:(s.style?s.style+" ":"")+(s.weight?s.weight+" ":"")+s.size+"px "+s.family}function xd(s,e,t,r,n){let i=e[n];return i||(i=e[n]=s.measureText(n).width,t.push(n)),i>r&&(r=i),r}function vj(s,e,t,r){r=r||{};let n=r.data=r.data||{},i=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(n=r.data={},i=r.garbageCollect=[],r.font=e),s.save(),s.font=e;let a=0;const o=t.length;let l,u,d,m,p;for(l=0;l<o;l++)if(m=t[l],m!=null&&!Cs(m))a=xd(s,n,i,a,m);else if(Cs(m))for(u=0,d=m.length;u<d;u++)p=m[u],p!=null&&!Cs(p)&&(a=xd(s,n,i,a,p));s.restore();const f=i.length/2;if(f>t.length){for(l=0;l<f;l++)delete n[i[l]];i.splice(0,f)}return a}function Ja(s,e,t){const r=s.currentDevicePixelRatio,n=t!==0?Math.max(t/2,.5):0;return Math.round((e-n)*r)/r+n}function L0(s,e){!e&&!s||(e=e||s.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,s.width,s.height),e.restore())}function Yf(s,e,t,r){m1(s,e,t,r,null)}function m1(s,e,t,r,n){let i,a,o,l,u,d,m,p;const f=e.pointStyle,g=e.rotation,y=e.radius;let v=(g||0)*ej;if(f&&typeof f=="object"&&(i=f.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){s.save(),s.translate(t,r),s.rotate(v),s.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),s.restore();return}if(!(isNaN(y)||y<=0)){switch(s.beginPath(),f){default:n?s.ellipse(t,r,n/2,y,0,0,Ns):s.arc(t,r,y,0,Ns),s.closePath();break;case"triangle":d=n?n/2:y,s.moveTo(t+Math.sin(v)*d,r-Math.cos(v)*y),v+=j0,s.lineTo(t+Math.sin(v)*d,r-Math.cos(v)*y),v+=j0,s.lineTo(t+Math.sin(v)*d,r-Math.cos(v)*y),s.closePath();break;case"rectRounded":u=y*.516,l=y-u,a=Math.cos(v+Xa)*l,m=Math.cos(v+Xa)*(n?n/2-u:l),o=Math.sin(v+Xa)*l,p=Math.sin(v+Xa)*(n?n/2-u:l),s.arc(t-m,r-o,u,v-Qt,v-Xs),s.arc(t+p,r-a,u,v-Xs,v),s.arc(t+m,r+o,u,v,v+Xs),s.arc(t-p,r+a,u,v+Xs,v+Qt),s.closePath();break;case"rect":if(!g){l=Math.SQRT1_2*y,d=n?n/2:l,s.rect(t-d,r-l,2*d,2*l);break}v+=Xa;case"rectRot":m=Math.cos(v)*(n?n/2:y),a=Math.cos(v)*y,o=Math.sin(v)*y,p=Math.sin(v)*(n?n/2:y),s.moveTo(t-m,r-o),s.lineTo(t+p,r-a),s.lineTo(t+m,r+o),s.lineTo(t-p,r+a),s.closePath();break;case"crossRot":v+=Xa;case"cross":m=Math.cos(v)*(n?n/2:y),a=Math.cos(v)*y,o=Math.sin(v)*y,p=Math.sin(v)*(n?n/2:y),s.moveTo(t-m,r-o),s.lineTo(t+m,r+o),s.moveTo(t+p,r-a),s.lineTo(t-p,r+a);break;case"star":m=Math.cos(v)*(n?n/2:y),a=Math.cos(v)*y,o=Math.sin(v)*y,p=Math.sin(v)*(n?n/2:y),s.moveTo(t-m,r-o),s.lineTo(t+m,r+o),s.moveTo(t+p,r-a),s.lineTo(t-p,r+a),v+=Xa,m=Math.cos(v)*(n?n/2:y),a=Math.cos(v)*y,o=Math.sin(v)*y,p=Math.sin(v)*(n?n/2:y),s.moveTo(t-m,r-o),s.lineTo(t+m,r+o),s.moveTo(t+p,r-a),s.lineTo(t-p,r+a);break;case"line":a=n?n/2:Math.cos(v)*y,o=Math.sin(v)*y,s.moveTo(t-a,r-o),s.lineTo(t+a,r+o);break;case"dash":s.moveTo(t,r),s.lineTo(t+Math.cos(v)*(n?n/2:y),r+Math.sin(v)*y);break;case!1:s.closePath();break}s.fill(),e.borderWidth>0&&s.stroke()}}function ei(s,e,t){return t=t||.5,!e||s&&s.x>e.left-t&&s.x<e.right+t&&s.y>e.top-t&&s.y<e.bottom+t}function Rd(s,e){s.save(),s.beginPath(),s.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),s.clip()}function Od(s){s.restore()}function Nj(s,e,t,r,n){if(!e)return s.lineTo(t.x,t.y);if(n==="middle"){const i=(e.x+t.x)/2;s.lineTo(i,e.y),s.lineTo(i,t.y)}else n==="after"!=!!r?s.lineTo(e.x,t.y):s.lineTo(t.x,e.y);s.lineTo(t.x,t.y)}function kj(s,e,t,r){if(!e)return s.lineTo(t.x,t.y);s.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?t.cp2x:t.cp1x,r?t.cp2y:t.cp1y,t.x,t.y)}function Dj(s,e){e.translation&&s.translate(e.translation[0],e.translation[1]),zt(e.rotation)||s.rotate(e.rotation),e.color&&(s.fillStyle=e.color),e.textAlign&&(s.textAlign=e.textAlign),e.textBaseline&&(s.textBaseline=e.textBaseline)}function wj(s,e,t,r,n){if(n.strikethrough||n.underline){const i=s.measureText(r),a=e-i.actualBoundingBoxLeft,o=e+i.actualBoundingBoxRight,l=t-i.actualBoundingBoxAscent,u=t+i.actualBoundingBoxDescent,d=n.strikethrough?(l+u)/2:u;s.strokeStyle=s.fillStyle,s.beginPath(),s.lineWidth=n.decorationWidth||2,s.moveTo(a,d),s.lineTo(o,d),s.stroke()}}function Pj(s,e){const t=s.fillStyle;s.fillStyle=e.color,s.fillRect(e.left,e.top,e.width,e.height),s.fillStyle=t}function ko(s,e,t,r,n,i={}){const a=Cs(e)?e:[e],o=i.strokeWidth>0&&i.strokeColor!=="";let l,u;for(s.save(),s.font=n.string,Dj(s,i),l=0;l<a.length;++l)u=a[l],i.backdrop&&Pj(s,i.backdrop),o&&(i.strokeColor&&(s.strokeStyle=i.strokeColor),zt(i.strokeWidth)||(s.lineWidth=i.strokeWidth),s.strokeText(u,t,r,i.maxWidth)),s.fillText(u,t,r,i.maxWidth),wj(s,t,r,u,i),r+=Number(n.lineHeight);s.restore()}function Al(s,e){const{x:t,y:r,w:n,h:i,radius:a}=e;s.arc(t+a.topLeft,r+a.topLeft,a.topLeft,1.5*Qt,Qt,!0),s.lineTo(t,r+i-a.bottomLeft),s.arc(t+a.bottomLeft,r+i-a.bottomLeft,a.bottomLeft,Qt,Xs,!0),s.lineTo(t+n-a.bottomRight,r+i),s.arc(t+n-a.bottomRight,r+i-a.bottomRight,a.bottomRight,Xs,0,!0),s.lineTo(t+n,r+a.topRight),s.arc(t+n-a.topRight,r+a.topRight,a.topRight,0,-Xs,!0),s.lineTo(t+a.topLeft,r)}const jj=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Cj=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Ej(s,e){const t=(""+s).match(jj);if(!t||t[1]==="normal")return e*1.2;switch(s=+t[2],t[3]){case"px":return s;case"%":s/=100;break}return e*s}const Sj=s=>+s||0;function qh(s,e){const t={},r=$t(e),n=r?Object.keys(e):e,i=$t(s)?r?a=>xt(s[a],s[e[a]]):a=>s[a]:()=>s;for(const a of n)t[a]=Sj(i(a));return t}function f1(s){return qh(s,{top:"y",right:"x",bottom:"y",left:"x"})}function lo(s){return qh(s,["topLeft","topRight","bottomLeft","bottomRight"])}function Vr(s){const e=f1(s);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function or(s,e){s=s||{},e=e||Es.font;let t=xt(s.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let r=xt(s.style,e.style);r&&!(""+r).match(Cj)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const n={family:xt(s.family,e.family),lineHeight:Ej(xt(s.lineHeight,e.lineHeight),t),size:t,style:r,weight:xt(s.weight,e.weight),string:""};return n.string=xj(n),n}function rl(s,e,t,r){let n,i,a;for(n=0,i=s.length;n<i;++n)if(a=s[n],a!==void 0&&a!==void 0)return a}function Aj(s,e,t){const{min:r,max:n}=s,i=t1(e,(n-r)/2),a=(o,l)=>t&&o===0?0:o+l;return{min:a(r,-Math.abs(i)),max:a(n,i)}}function Ca(s,e){return Object.assign(Object.create(s),e)}function Gh(s,e=[""],t,r,n=()=>s[0]){const i=t||s;typeof r>"u"&&(r=b1("_fallback",s));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:s,_rootScopes:i,_fallback:r,_getTarget:n,override:o=>Gh([o,...s],e,i,r)};return new Proxy(a,{deleteProperty(o,l){return delete o[l],delete o._keys,delete s[0][l],!0},get(o,l){return p1(o,l,()=>Rj(l,e,s,o))},getOwnPropertyDescriptor(o,l){return Reflect.getOwnPropertyDescriptor(o._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(s[0])},has(o,l){return M0(o).includes(l)},ownKeys(o){return M0(o)},set(o,l,u){const d=o._storage||(o._storage=n());return o[l]=d[l]=u,delete o._keys,!0}})}function cc(s,e,t,r){const n={_cacheable:!1,_proxy:s,_context:e,_subProxy:t,_stack:new Set,_descriptors:h1(s,r),setContext:i=>cc(s,i,t,r),override:i=>cc(s.override(i),e,t,r)};return new Proxy(n,{deleteProperty(i,a){return delete i[a],delete s[a],!0},get(i,a,o){return p1(i,a,()=>Uj(i,a,o))},getOwnPropertyDescriptor(i,a){return i._descriptors.allKeys?Reflect.has(s,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(s,a)},getPrototypeOf(){return Reflect.getPrototypeOf(s)},has(i,a){return Reflect.has(s,a)},ownKeys(){return Reflect.ownKeys(s)},set(i,a,o){return s[a]=o,delete i[a],!0}})}function h1(s,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:r=e.indexable,_allKeys:n=e.allKeys}=s;return{allKeys:n,scriptable:t,indexable:r,isScriptable:Da(t)?t:()=>t,isIndexable:Da(r)?r:()=>r}}const _j=(s,e)=>s?s+Bh(e):e,Yh=(s,e)=>$t(e)&&s!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function p1(s,e,t){if(Object.prototype.hasOwnProperty.call(s,e)||e==="constructor")return s[e];const r=t();return s[e]=r,r}function Uj(s,e,t){const{_proxy:r,_context:n,_subProxy:i,_descriptors:a}=s;let o=r[e];return Da(o)&&a.isScriptable(e)&&(o=Vj(e,o,s,t)),Cs(o)&&o.length&&(o=Lj(e,o,s,a.isIndexable)),Yh(e,o)&&(o=cc(o,n,i&&i[e],a)),o}function Vj(s,e,t,r){const{_proxy:n,_context:i,_subProxy:a,_stack:o}=t;if(o.has(s))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+s);o.add(s);let l=e(i,a||r);return o.delete(s),Yh(s,l)&&(l=Kh(n._scopes,n,s,l)),l}function Lj(s,e,t,r){const{_proxy:n,_context:i,_subProxy:a,_descriptors:o}=t;if(typeof i.index<"u"&&r(s))return e[i.index%e.length];if($t(e[0])){const l=e,u=n._scopes.filter(d=>d!==l);e=[];for(const d of l){const m=Kh(u,n,s,d);e.push(cc(m,i,a&&a[s],o))}}return e}function g1(s,e,t){return Da(s)?s(e,t):s}const Tj=(s,e)=>s===!0?e:typeof s=="string"?ka(e,s):void 0;function Mj(s,e,t,r,n){for(const i of e){const a=Tj(t,i);if(a){s.add(a);const o=g1(a._fallback,t,n);if(typeof o<"u"&&o!==t&&o!==r)return o}else if(a===!1&&typeof r<"u"&&t!==r)return null}return!1}function Kh(s,e,t,r){const n=e._rootScopes,i=g1(e._fallback,t,r),a=[...s,...n],o=new Set;o.add(r);let l=T0(o,a,t,i||t,r);return l===null||typeof i<"u"&&i!==t&&(l=T0(o,a,i,l,r),l===null)?!1:Gh(Array.from(o),[""],n,i,()=>Ij(e,t,r))}function T0(s,e,t,r,n){for(;t;)t=Mj(s,e,t,r,n);return t}function Ij(s,e,t){const r=s._getTarget();e in r||(r[e]={});const n=r[e];return Cs(n)&&$t(t)?t:n||{}}function Rj(s,e,t,r){let n;for(const i of e)if(n=b1(_j(i,s),t),typeof n<"u")return Yh(s,n)?Kh(t,r,s,n):n}function b1(s,e){for(const t of e){if(!t)continue;const r=t[s];if(typeof r<"u")return r}}function M0(s){let e=s._keys;return e||(e=s._keys=Oj(s._scopes)),e}function Oj(s){const e=new Set;for(const t of s)for(const r of Object.keys(t).filter(n=>!n.startsWith("_")))e.add(r);return Array.from(e)}function y1(s,e,t,r){const{iScale:n}=s,{key:i="r"}=this._parsing,a=new Array(r);let o,l,u,d;for(o=0,l=r;o<l;++o)u=o+t,d=e[u],a[o]={r:n.parse(ka(d,i),u)};return a}const Fj=Number.EPSILON||1e-14,lc=(s,e)=>e<s.length&&!s[e].skip&&s[e],x1=s=>s==="x"?"y":"x";function Bj(s,e,t,r){const n=s.skip?e:s,i=e,a=t.skip?e:t,o=qf(i,n),l=qf(a,i);let u=o/(o+l),d=l/(o+l);u=isNaN(u)?0:u,d=isNaN(d)?0:d;const m=r*u,p=r*d;return{previous:{x:i.x-m*(a.x-n.x),y:i.y-m*(a.y-n.y)},next:{x:i.x+p*(a.x-n.x),y:i.y+p*(a.y-n.y)}}}function zj(s,e,t){const r=s.length;let n,i,a,o,l,u=lc(s,0);for(let d=0;d<r-1;++d)if(l=u,u=lc(s,d+1),!(!l||!u)){if(co(e[d],0,Fj)){t[d]=t[d+1]=0;continue}n=t[d]/e[d],i=t[d+1]/e[d],o=Math.pow(n,2)+Math.pow(i,2),!(o<=9)&&(a=3/Math.sqrt(o),t[d]=n*a*e[d],t[d+1]=i*a*e[d])}}function $j(s,e,t="x"){const r=x1(t),n=s.length;let i,a,o,l=lc(s,0);for(let u=0;u<n;++u){if(a=o,o=l,l=lc(s,u+1),!o)continue;const d=o[t],m=o[r];a&&(i=(d-a[t])/3,o[`cp1${t}`]=d-i,o[`cp1${r}`]=m-i*e[u]),l&&(i=(l[t]-d)/3,o[`cp2${t}`]=d+i,o[`cp2${r}`]=m+i*e[u])}}function Wj(s,e="x"){const t=x1(e),r=s.length,n=Array(r).fill(0),i=Array(r);let a,o,l,u=lc(s,0);for(a=0;a<r;++a)if(o=l,l=u,u=lc(s,a+1),!!l){if(u){const d=u[e]-l[e];n[a]=d!==0?(u[t]-l[t])/d:0}i[a]=o?u?wn(n[a-1])!==wn(n[a])?0:(n[a-1]+n[a])/2:n[a-1]:n[a]}zj(s,n,i),$j(s,i,e)}function ju(s,e,t){return Math.max(Math.min(s,t),e)}function Hj(s,e){let t,r,n,i,a,o=ei(s[0],e);for(t=0,r=s.length;t<r;++t)a=i,i=o,o=t<r-1&&ei(s[t+1],e),i&&(n=s[t],a&&(n.cp1x=ju(n.cp1x,e.left,e.right),n.cp1y=ju(n.cp1y,e.top,e.bottom)),o&&(n.cp2x=ju(n.cp2x,e.left,e.right),n.cp2y=ju(n.cp2y,e.top,e.bottom)))}function qj(s,e,t,r,n){let i,a,o,l;if(e.spanGaps&&(s=s.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")Wj(s,n);else{let u=r?s[s.length-1]:s[0];for(i=0,a=s.length;i<a;++i)o=s[i],l=Bj(u,o,s[Math.min(i+1,a-(r?0:1))%a],e.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,u=o}e.capBezierPoints&&Hj(s,t)}function Xh(){return typeof window<"u"&&typeof document<"u"}function Jh(s){let e=s.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function vd(s,e,t){let r;return typeof s=="string"?(r=parseInt(s,10),s.indexOf("%")!==-1&&(r=r/100*e.parentNode[t])):r=s,r}const Fd=s=>s.ownerDocument.defaultView.getComputedStyle(s,null);function Gj(s,e){return Fd(s).getPropertyValue(e)}const Yj=["top","right","bottom","left"];function uo(s,e,t){const r={};t=t?"-"+t:"";for(let n=0;n<4;n++){const i=Yj[n];r[i]=parseFloat(s[e+"-"+i+t])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const Kj=(s,e,t)=>(s>0||e>0)&&(!t||!t.shadowRoot);function Xj(s,e){const t=s.touches,r=t&&t.length?t[0]:s,{offsetX:n,offsetY:i}=r;let a=!1,o,l;if(Kj(n,i,s.target))o=n,l=i;else{const u=e.getBoundingClientRect();o=r.clientX-u.left,l=r.clientY-u.top,a=!0}return{x:o,y:l,box:a}}function Qn(s,e){if("native"in s)return s;const{canvas:t,currentDevicePixelRatio:r}=e,n=Fd(t),i=n.boxSizing==="border-box",a=uo(n,"padding"),o=uo(n,"border","width"),{x:l,y:u,box:d}=Xj(s,t),m=a.left+(d&&o.left),p=a.top+(d&&o.top);let{width:f,height:g}=e;return i&&(f-=a.width+o.width,g-=a.height+o.height),{x:Math.round((l-m)/f*t.width/r),y:Math.round((u-p)/g*t.height/r)}}function Jj(s,e,t){let r,n;if(e===void 0||t===void 0){const i=s&&Jh(s);if(!i)e=s.clientWidth,t=s.clientHeight;else{const a=i.getBoundingClientRect(),o=Fd(i),l=uo(o,"border","width"),u=uo(o,"padding");e=a.width-u.width-l.width,t=a.height-u.height-l.height,r=vd(o.maxWidth,i,"clientWidth"),n=vd(o.maxHeight,i,"clientHeight")}}return{width:e,height:t,maxWidth:r||yd,maxHeight:n||yd}}const Cu=s=>Math.round(s*10)/10;function Zj(s,e,t,r){const n=Fd(s),i=uo(n,"margin"),a=vd(n.maxWidth,s,"clientWidth")||yd,o=vd(n.maxHeight,s,"clientHeight")||yd,l=Jj(s,e,t);let{width:u,height:d}=l;if(n.boxSizing==="content-box"){const p=uo(n,"border","width"),f=uo(n,"padding");u-=f.width+p.width,d-=f.height+p.height}return u=Math.max(0,u-i.width),d=Math.max(0,r?u/r:d-i.height),u=Cu(Math.min(u,a,l.maxWidth)),d=Cu(Math.min(d,o,l.maxHeight)),u&&!d&&(d=Cu(u/2)),(e!==void 0||t!==void 0)&&r&&l.height&&d>l.height&&(d=l.height,u=Cu(Math.floor(d*r))),{width:u,height:d}}function I0(s,e,t){const r=e||1,n=Math.floor(s.height*r),i=Math.floor(s.width*r);s.height=Math.floor(s.height),s.width=Math.floor(s.width);const a=s.canvas;return a.style&&(t||!a.style.height&&!a.style.width)&&(a.style.height=`${s.height}px`,a.style.width=`${s.width}px`),s.currentDevicePixelRatio!==r||a.height!==n||a.width!==i?(s.currentDevicePixelRatio=r,a.height=n,a.width=i,s.ctx.setTransform(r,0,0,r,0,0),!0):!1}const Qj=(function(){let s=!1;try{const e={get passive(){return s=!0,!1}};Xh()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return s})();function R0(s,e){const t=Gj(s,e),r=t&&t.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function eo(s,e,t,r){return{x:s.x+t*(e.x-s.x),y:s.y+t*(e.y-s.y)}}function eC(s,e,t,r){return{x:s.x+t*(e.x-s.x),y:r==="middle"?t<.5?s.y:e.y:r==="after"?t<1?s.y:e.y:t>0?e.y:s.y}}function tC(s,e,t,r){const n={x:s.cp2x,y:s.cp2y},i={x:e.cp1x,y:e.cp1y},a=eo(s,n,t),o=eo(n,i,t),l=eo(i,e,t),u=eo(a,o,t),d=eo(o,l,t);return eo(u,d,t)}const sC=function(s,e){return{x(t){return s+s+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,r){return t-r},leftForLtr(t,r){return t-r}}},rC=function(){return{x(s){return s},setWidth(s){},textAlign(s){return s},xPlus(s,e){return s+e},leftForLtr(s,e){return s}}};function rc(s,e,t){return s?sC(e,t):rC()}function v1(s,e){let t,r;(e==="ltr"||e==="rtl")&&(t=s.canvas.style,r=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),s.prevTextDirection=r)}function N1(s,e){e!==void 0&&(delete s.prevTextDirection,s.canvas.style.setProperty("direction",e[0],e[1]))}function k1(s){return s==="angle"?{between:Sl,compare:nj,normalize:Ar}:{between:Vi,compare:(e,t)=>e-t,normalize:e=>e}}function O0({start:s,end:e,count:t,loop:r,style:n}){return{start:s%t,end:e%t,loop:r&&(e-s+1)%t===0,style:n}}function nC(s,e,t){const{property:r,start:n,end:i}=t,{between:a,normalize:o}=k1(r),l=e.length;let{start:u,end:d,loop:m}=s,p,f;if(m){for(u+=l,d+=l,p=0,f=l;p<f&&a(o(e[u%l][r]),n,i);++p)u--,d--;u%=l,d%=l}return d<u&&(d+=l),{start:u,end:d,loop:m,style:s.style}}function D1(s,e,t){if(!t)return[s];const{property:r,start:n,end:i}=t,a=e.length,{compare:o,between:l,normalize:u}=k1(r),{start:d,end:m,loop:p,style:f}=nC(s,e,t),g=[];let y=!1,v=null,N,D,j;const C=()=>l(n,j,N)&&o(n,j)!==0,E=()=>o(i,N)===0||l(i,j,N),A=()=>y||C(),V=()=>!y||E();for(let P=d,_=d;P<=m;++P)D=e[P%a],!D.skip&&(N=u(D[r]),N!==j&&(y=l(N,n,i),v===null&&A()&&(v=o(N,n)===0?P:_),v!==null&&V()&&(g.push(O0({start:v,end:P,loop:p,count:a,style:f})),v=null),_=P,j=N));return v!==null&&g.push(O0({start:v,end:m,loop:p,count:a,style:f})),g}function w1(s,e){const t=[],r=s.segments;for(let n=0;n<r.length;n++){const i=D1(r[n],s.points,e);i.length&&t.push(...i)}return t}function iC(s,e,t,r){let n=0,i=e-1;if(t&&!r)for(;n<e&&!s[n].skip;)n++;for(;n<e&&s[n].skip;)n++;for(n%=e,t&&(i+=n);i>n&&s[i%e].skip;)i--;return i%=e,{start:n,end:i}}function aC(s,e,t,r){const n=s.length,i=[];let a=e,o=s[e],l;for(l=e+1;l<=t;++l){const u=s[l%n];u.skip||u.stop?o.skip||(r=!1,i.push({start:e%n,end:(l-1)%n,loop:r}),e=a=u.stop?l:null):(a=l,o.skip&&(e=l)),o=u}return a!==null&&i.push({start:e%n,end:a%n,loop:r}),i}function oC(s,e){const t=s.points,r=s.options.spanGaps,n=t.length;if(!n)return[];const i=!!s._loop,{start:a,end:o}=iC(t,n,i,r);if(r===!0)return F0(s,[{start:a,end:o,loop:i}],t,e);const l=o<a?o+n:o,u=!!s._fullLoop&&a===0&&o===n-1;return F0(s,aC(t,a,l,u),t,e)}function F0(s,e,t,r){return!r||!r.setContext||!t?e:cC(s,e,t,r)}function cC(s,e,t,r){const n=s._chart.getContext(),i=B0(s.options),{_datasetIndex:a,options:{spanGaps:o}}=s,l=t.length,u=[];let d=i,m=e[0].start,p=m;function f(g,y,v,N){const D=o?-1:1;if(g!==y){for(g+=l;t[g%l].skip;)g-=D;for(;t[y%l].skip;)y+=D;g%l!==y%l&&(u.push({start:g%l,end:y%l,loop:v,style:N}),d=N,m=y%l)}}for(const g of e){m=o?m:g.start;let y=t[m%l],v;for(p=m+1;p<=g.end;p++){const N=t[p%l];v=B0(r.setContext(Ca(n,{type:"segment",p0:y,p1:N,p0DataIndex:(p-1)%l,p1DataIndex:p%l,datasetIndex:a}))),lC(v,d)&&f(m,p-1,g.loop,d),y=N,d=v}m<p-1&&f(m,p-1,g.loop,d)}return u}function B0(s){return{backgroundColor:s.backgroundColor,borderCapStyle:s.borderCapStyle,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderJoinStyle:s.borderJoinStyle,borderWidth:s.borderWidth,borderColor:s.borderColor}}function lC(s,e){if(!e)return!1;const t=[],r=function(n,i){return Hh(i)?(t.includes(i)||t.push(i),t.indexOf(i)):i};return JSON.stringify(s,r)!==JSON.stringify(e,r)}function Eu(s,e,t){return s.options.clip?s[t]:e[t]}function uC(s,e){const{xScale:t,yScale:r}=s;return t&&r?{left:Eu(t,e,"left"),right:Eu(t,e,"right"),top:Eu(r,e,"top"),bottom:Eu(r,e,"bottom")}:e}function P1(s,e){const t=e._clip;if(t.disabled)return!1;const r=uC(e,s.chartArea);return{left:t.left===!1?0:r.left-(t.left===!0?0:t.left),right:t.right===!1?s.width:r.right+(t.right===!0?0:t.right),top:t.top===!1?0:r.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?s.height:r.bottom+(t.bottom===!0?0:t.bottom)}}class dC{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,r,n){const i=t.listeners[n],a=t.duration;i.forEach(o=>o({chart:e,initial:t.initial,numSteps:a,currentStep:Math.min(r-t.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=o1.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((r,n)=>{if(!r.running||!r.items.length)return;const i=r.items;let a=i.length-1,o=!1,l;for(;a>=0;--a)l=i[a],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),o=!0):(i[a]=i[i.length-1],i.pop());o&&(n.draw(),this._notify(n,r,e,"progress")),i.length||(r.running=!1,this._notify(n,r,e,"complete"),r.initial=!1),t+=i.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let r=t.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,r)),r}listen(e,t,r){this._getAnims(e).listeners[t].push(r)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((r,n)=>Math.max(r,n._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const r=t.items;let n=r.length-1;for(;n>=0;--n)r[n].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Ci=new dC;const z0="transparent",mC={boolean(s,e,t){return t>.5?e:s},color(s,e,t){const r=U0(s||z0),n=r.valid&&U0(e||z0);return n&&n.valid?n.mix(r,t).hexString():e},number(s,e,t){return s+(e-s)*t}};class fC{constructor(e,t,r,n){const i=t[r];n=rl([e.to,n,i,e.from]);const a=rl([e.from,i,n]);this._active=!0,this._fn=e.fn||mC[e.type||typeof a],this._easing=dl[e.easing]||dl.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=r,this._from=a,this._to=n,this._promises=void 0}active(){return this._active}update(e,t,r){if(this._active){this._notify(!1);const n=this._target[this._prop],i=r-this._start,a=this._duration-i;this._start=r,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=rl([e.to,t,n,e.from]),this._from=rl([e.from,n,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,r=this._duration,n=this._prop,i=this._from,a=this._loop,o=this._to;let l;if(this._active=i!==o&&(a||t<r),!this._active){this._target[n]=o,this._notify(!0);return}if(t<0){this._target[n]=i;return}l=t/r%2,l=a&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[n]=this._fn(i,o,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,r)=>{e.push({res:t,rej:r})})}_notify(e){const t=e?"res":"rej",r=this._promises||[];for(let n=0;n<r.length;n++)r[n][t]()}}class j1{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!$t(e))return;const t=Object.keys(Es.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(n=>{const i=e[n];if(!$t(i))return;const a={};for(const o of t)a[o]=i[o];(Cs(i.properties)&&i.properties||[n]).forEach(o=>{(o===n||!r.has(o))&&r.set(o,a)})})}_animateOptions(e,t){const r=t.options,n=pC(e,r);if(!n)return[];const i=this._createAnimations(n,r);return r.$shared&&hC(e.options.$animations,r).then(()=>{e.options=r},()=>{}),i}_createAnimations(e,t){const r=this._properties,n=[],i=e.$animations||(e.$animations={}),a=Object.keys(t),o=Date.now();let l;for(l=a.length-1;l>=0;--l){const u=a[l];if(u.charAt(0)==="$")continue;if(u==="options"){n.push(...this._animateOptions(e,t));continue}const d=t[u];let m=i[u];const p=r.get(u);if(m)if(p&&m.active()){m.update(p,d,o);continue}else m.cancel();if(!p||!p.duration){e[u]=d;continue}i[u]=m=new fC(p,e,u,d),n.push(m)}return n}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const r=this._createAnimations(e,t);if(r.length)return Ci.add(this._chart,r),!0}}function hC(s,e){const t=[],r=Object.keys(e);for(let n=0;n<r.length;n++){const i=s[r[n]];i&&i.active()&&t.push(i.wait())}return Promise.all(t)}function pC(s,e){if(!e)return;let t=s.options;if(!t){s.options=e;return}return t.$shared&&(s.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function $0(s,e){const t=s&&s.options||{},r=t.reverse,n=t.min===void 0?e:0,i=t.max===void 0?e:0;return{start:r?i:n,end:r?n:i}}function gC(s,e,t){if(t===!1)return!1;const r=$0(s,t),n=$0(e,t);return{top:n.end,right:r.end,bottom:n.start,left:r.start}}function bC(s){let e,t,r,n;return $t(s)?(e=s.top,t=s.right,r=s.bottom,n=s.left):e=t=r=n=s,{top:e,right:t,bottom:r,left:n,disabled:s===!1}}function C1(s,e){const t=[],r=s._getSortedDatasetMetas(e);let n,i;for(n=0,i=r.length;n<i;++n)t.push(r[n].index);return t}function W0(s,e,t,r={}){const n=s.keys,i=r.mode==="single";let a,o,l,u;if(e===null)return;let d=!1;for(a=0,o=n.length;a<o;++a){if(l=+n[a],l===t){if(d=!0,r.all)continue;break}u=s.values[l],Os(u)&&(i||e===0||wn(e)===wn(u))&&(e+=u)}return!d&&!r.all?0:e}function yC(s,e){const{iScale:t,vScale:r}=e,n=t.axis==="x"?"x":"y",i=r.axis==="x"?"x":"y",a=Object.keys(s),o=new Array(a.length);let l,u,d;for(l=0,u=a.length;l<u;++l)d=a[l],o[l]={[n]:d,[i]:s[d]};return o}function Fm(s,e){const t=s&&s.options.stacked;return t||t===void 0&&e.stack!==void 0}function xC(s,e,t){return`${s.id}.${e.id}.${t.stack||t.type}`}function vC(s){const{min:e,max:t,minDefined:r,maxDefined:n}=s.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:n?t:Number.POSITIVE_INFINITY}}function NC(s,e,t){const r=s[e]||(s[e]={});return r[t]||(r[t]={})}function H0(s,e,t,r){for(const n of e.getMatchingVisibleMetas(r).reverse()){const i=s[n.index];if(t&&i>0||!t&&i<0)return n.index}return null}function q0(s,e){const{chart:t,_cachedMeta:r}=s,n=t._stacks||(t._stacks={}),{iScale:i,vScale:a,index:o}=r,l=i.axis,u=a.axis,d=xC(i,a,r),m=e.length;let p;for(let f=0;f<m;++f){const g=e[f],{[l]:y,[u]:v}=g,N=g._stacks||(g._stacks={});p=N[u]=NC(n,d,y),p[o]=v,p._top=H0(p,a,!0,r.type),p._bottom=H0(p,a,!1,r.type);const D=p._visualValues||(p._visualValues={});D[o]=v}}function Bm(s,e){const t=s.scales;return Object.keys(t).filter(r=>t[r].axis===e).shift()}function kC(s,e){return Ca(s,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function DC(s,e,t){return Ca(s,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Hc(s,e){const t=s.controller.index,r=s.vScale&&s.vScale.axis;if(r){e=e||s._parsed;for(const n of e){const i=n._stacks;if(!i||i[r]===void 0||i[r][t]===void 0)return;delete i[r][t],i[r]._visualValues!==void 0&&i[r]._visualValues[t]!==void 0&&delete i[r]._visualValues[t]}}}const zm=s=>s==="reset"||s==="none",G0=(s,e)=>e?s:Object.assign({},s),wC=(s,e,t)=>s&&!e.hidden&&e._stacked&&{keys:C1(t,!0),values:null};class Ea{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Fm(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Hc(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,r=this.getDataset(),n=(m,p,f,g)=>m==="x"?p:m==="r"?g:f,i=t.xAxisID=xt(r.xAxisID,Bm(e,"x")),a=t.yAxisID=xt(r.yAxisID,Bm(e,"y")),o=t.rAxisID=xt(r.rAxisID,Bm(e,"r")),l=t.indexAxis,u=t.iAxisID=n(l,i,a,o),d=t.vAxisID=n(l,a,i,o);t.xScale=this.getScaleForId(i),t.yScale=this.getScaleForId(a),t.rScale=this.getScaleForId(o),t.iScale=this.getScaleForId(u),t.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&S0(this._data,this),e._stacked&&Hc(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),r=this._data;if($t(t)){const n=this._cachedMeta;this._data=yC(t,n)}else if(r!==t){if(r){S0(r,this);const n=this._cachedMeta;Hc(n),n._parsed=[]}t&&Object.isExtensible(t)&&cj(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,r=this.getDataset();let n=!1;this._dataCheck();const i=t._stacked;t._stacked=Fm(t.vScale,t),t.stack!==r.stack&&(n=!0,Hc(t),t.stack=r.stack),this._resyncElements(e),(n||i!==t._stacked)&&(q0(this,t._parsed),t._stacked=Fm(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:r,_data:n}=this,{iScale:i,_stacked:a}=r,o=i.axis;let l=e===0&&t===n.length?!0:r._sorted,u=e>0&&r._parsed[e-1],d,m,p;if(this._parsing===!1)r._parsed=n,r._sorted=!0,p=n;else{Cs(n[e])?p=this.parseArrayData(r,n,e,t):$t(n[e])?p=this.parseObjectData(r,n,e,t):p=this.parsePrimitiveData(r,n,e,t);const f=()=>m[o]===null||u&&m[o]<u[o];for(d=0;d<t;++d)r._parsed[d+e]=m=p[d],l&&(f()&&(l=!1),u=m);r._sorted=l}a&&q0(this,p)}parsePrimitiveData(e,t,r,n){const{iScale:i,vScale:a}=e,o=i.axis,l=a.axis,u=i.getLabels(),d=i===a,m=new Array(n);let p,f,g;for(p=0,f=n;p<f;++p)g=p+r,m[p]={[o]:d||i.parse(u[g],g),[l]:a.parse(t[g],g)};return m}parseArrayData(e,t,r,n){const{xScale:i,yScale:a}=e,o=new Array(n);let l,u,d,m;for(l=0,u=n;l<u;++l)d=l+r,m=t[d],o[l]={x:i.parse(m[0],d),y:a.parse(m[1],d)};return o}parseObjectData(e,t,r,n){const{xScale:i,yScale:a}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,u=new Array(n);let d,m,p,f;for(d=0,m=n;d<m;++d)p=d+r,f=t[p],u[d]={x:i.parse(ka(f,o),p),y:a.parse(ka(f,l),p)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,r){const n=this.chart,i=this._cachedMeta,a=t[e.axis],o={keys:C1(n,!0),values:t._stacks[e.axis]._visualValues};return W0(o,a,i.index,{mode:r})}updateRangeFromParsed(e,t,r,n){const i=r[t.axis];let a=i===null?NaN:i;const o=n&&r._stacks[t.axis];n&&o&&(n.values=o,a=W0(n,i,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,t){const r=this._cachedMeta,n=r._parsed,i=r._sorted&&e===r.iScale,a=n.length,o=this._getOtherScale(e),l=wC(t,r,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:m}=vC(o);let p,f;function g(){f=n[p];const y=f[o.axis];return!Os(f[e.axis])||d>y||m<y}for(p=0;p<a&&!(!g()&&(this.updateRangeFromParsed(u,e,f,l),i));++p);if(i){for(p=a-1;p>=0;--p)if(!g()){this.updateRangeFromParsed(u,e,f,l);break}}return u}getAllParsedValues(e){const t=this._cachedMeta._parsed,r=[];let n,i,a;for(n=0,i=t.length;n<i;++n)a=t[n][e.axis],Os(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,r=t.iScale,n=t.vScale,i=this.getParsed(e);return{label:r?""+r.getLabelForValue(i[r.axis]):"",value:n?""+n.getLabelForValue(i[n.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=bC(xt(this.options.clip,gC(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,r=this._cachedMeta,n=r.data||[],i=t.chartArea,a=[],o=this._drawStart||0,l=this._drawCount||n.length-o,u=this.options.drawActiveElementsOnTop;let d;for(r.dataset&&r.dataset.draw(e,i,o,l),d=o;d<o+l;++d){const m=n[d];m.hidden||(m.active&&u?a.push(m):m.draw(e,i))}for(d=0;d<a.length;++d)a[d].draw(e,i)}getStyle(e,t){const r=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,t,r){const n=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];i=a.$context||(a.$context=DC(this.getContext(),e,a)),i.parsed=this.getParsed(e),i.raw=n.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=kC(this.chart.getContext(),this.index)),i.dataset=n,i.index=i.datasetIndex=this.index;return i.active=!!t,i.mode=r,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",r){const n=t==="active",i=this._cachedDataOpts,a=e+"-"+t,o=i[a],l=this.enableOptionSharing&&El(r);if(o)return G0(o,l);const u=this.chart.config,d=u.datasetElementScopeKeys(this._type,e),m=n?[`${e}Hover`,"hover",e,""]:[e,""],p=u.getOptionScopes(this.getDataset(),d),f=Object.keys(Es.elements[e]),g=()=>this.getContext(r,n,t),y=u.resolveNamedOptions(p,f,g,m);return y.$shared&&(y.$shared=l,i[a]=Object.freeze(G0(y,l))),y}_resolveAnimations(e,t,r){const n=this.chart,i=this._cachedDataOpts,a=`animation-${t}`,o=i[a];if(o)return o;let l;if(n.options.animation!==!1){const d=this.chart.config,m=d.datasetAnimationScopeKeys(this._type,t),p=d.getOptionScopes(this.getDataset(),m);l=d.createResolver(p,this.getContext(e,r,t))}const u=new j1(n,l&&l.animations);return l&&l._cacheable&&(i[a]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||zm(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const r=this.resolveDataElementOptions(e,t),n=this._sharedOptions,i=this.getSharedOptions(r),a=this.includeOptions(t,i)||i!==n;return this.updateSharedOptions(i,t,r),{sharedOptions:i,includeOptions:a}}updateElement(e,t,r,n){zm(n)?Object.assign(e,r):this._resolveAnimations(t,n).update(e,r)}updateSharedOptions(e,t,r){e&&!zm(t)&&this._resolveAnimations(void 0,t).update(e,r)}_setStyle(e,t,r,n){e.active=n;const i=this.getStyle(t,n);this._resolveAnimations(t,r,n).update(e,{options:!n&&this.getSharedOptions(i)||i})}removeHoverStyle(e,t,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,t,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,r=this._cachedMeta.data;for(const[o,l,u]of this._syncList)this[o](l,u);this._syncList=[];const n=r.length,i=t.length,a=Math.min(i,n);a&&this.parse(0,a),i>n?this._insertElements(n,i-n,e):i<n&&this._removeElements(i,n-i)}_insertElements(e,t,r=!0){const n=this._cachedMeta,i=n.data,a=e+t;let o;const l=u=>{for(u.length+=t,o=u.length-1;o>=a;o--)u[o]=u[o-t]};for(l(i),o=e;o<a;++o)i[o]=new this.dataElementType;this._parsing&&l(n._parsed),this.parse(e,t),r&&this.updateElements(i,e,t,"reset")}updateElements(e,t,r,n){}_removeElements(e,t){const r=this._cachedMeta;if(this._parsing){const n=r._parsed.splice(e,t);r._stacked&&Hc(r,n)}r.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,r,n]=e;this[t](r,n)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function PC(s,e){if(!s._cache.$bar){const t=s.getMatchingVisibleMetas(e);let r=[];for(let n=0,i=t.length;n<i;n++)r=r.concat(t[n].controller.getAllParsedValues(s));s._cache.$bar=a1(r.sort((n,i)=>n-i))}return s._cache.$bar}function jC(s){const e=s.iScale,t=PC(e,s.type);let r=e._length,n,i,a,o;const l=()=>{a===32767||a===-32768||(El(o)&&(r=Math.min(r,Math.abs(a-o)||r)),o=a)};for(n=0,i=t.length;n<i;++n)a=e.getPixelForValue(t[n]),l();for(o=void 0,n=0,i=e.ticks.length;n<i;++n)a=e.getPixelForTick(n),l();return r}function CC(s,e,t,r){const n=t.barThickness;let i,a;return zt(n)?(i=e.min*t.categoryPercentage,a=t.barPercentage):(i=n*r,a=1),{chunk:i/r,ratio:a,start:e.pixels[s]-i/2}}function EC(s,e,t,r){const n=e.pixels,i=n[s];let a=s>0?n[s-1]:null,o=s<n.length-1?n[s+1]:null;const l=t.categoryPercentage;a===null&&(a=i-(o===null?e.end-e.start:o-i)),o===null&&(o=i+i-a);const u=i-(i-Math.min(a,o))/2*l;return{chunk:Math.abs(o-a)/2*l/r,ratio:t.barPercentage,start:u}}function SC(s,e,t,r){const n=t.parse(s[0],r),i=t.parse(s[1],r),a=Math.min(n,i),o=Math.max(n,i);let l=a,u=o;Math.abs(a)>Math.abs(o)&&(l=o,u=a),e[t.axis]=u,e._custom={barStart:l,barEnd:u,start:n,end:i,min:a,max:o}}function E1(s,e,t,r){return Cs(s)?SC(s,e,t,r):e[t.axis]=t.parse(s,r),e}function Y0(s,e,t,r){const n=s.iScale,i=s.vScale,a=n.getLabels(),o=n===i,l=[];let u,d,m,p;for(u=t,d=t+r;u<d;++u)p=e[u],m={},m[n.axis]=o||n.parse(a[u],u),l.push(E1(p,m,i,u));return l}function $m(s){return s&&s.barStart!==void 0&&s.barEnd!==void 0}function AC(s,e,t){return s!==0?wn(s):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function _C(s){let e,t,r,n,i;return s.horizontal?(e=s.base>s.x,t="left",r="right"):(e=s.base<s.y,t="bottom",r="top"),e?(n="end",i="start"):(n="start",i="end"),{start:t,end:r,reverse:e,top:n,bottom:i}}function UC(s,e,t,r){let n=e.borderSkipped;const i={};if(!n){s.borderSkipped=i;return}if(n===!0){s.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:o,reverse:l,top:u,bottom:d}=_C(s);n==="middle"&&t&&(s.enableBorderRadius=!0,(t._top||0)===r?n=u:(t._bottom||0)===r?n=d:(i[K0(d,a,o,l)]=!0,n=u)),i[K0(n,a,o,l)]=!0,s.borderSkipped=i}function K0(s,e,t,r){return r?(s=VC(s,e,t),s=X0(s,t,e)):s=X0(s,e,t),s}function VC(s,e,t){return s===e?t:s===t?e:s}function X0(s,e,t){return s==="start"?e:s==="end"?t:s}function LC(s,{inflateAmount:e},t){s.inflateAmount=e==="auto"?t===1?.33:0:e}class TC extends Ea{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,t,r,n){return Y0(e,t,r,n)}parseArrayData(e,t,r,n){return Y0(e,t,r,n)}parseObjectData(e,t,r,n){const{iScale:i,vScale:a}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,u=i.axis==="x"?o:l,d=a.axis==="x"?o:l,m=[];let p,f,g,y;for(p=r,f=r+n;p<f;++p)y=t[p],g={},g[i.axis]=i.parse(ka(y,u),p),m.push(E1(ka(y,d),g,a,p));return m}updateRangeFromParsed(e,t,r,n){super.updateRangeFromParsed(e,t,r,n);const i=r._custom;i&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:r,vScale:n}=t,i=this.getParsed(e),a=i._custom,o=$m(a)?"["+a.start+", "+a.end+"]":""+n.getLabelForValue(i[n.axis]);return{label:""+r.getLabelForValue(i[r.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,r,n){const i=n==="reset",{index:a,_cachedMeta:{vScale:o}}=this,l=o.getBasePixel(),u=o.isHorizontal(),d=this._getRuler(),{sharedOptions:m,includeOptions:p}=this._getSharedOptions(t,n);for(let f=t;f<t+r;f++){const g=this.getParsed(f),y=i||zt(g[o.axis])?{base:l,head:l}:this._calculateBarValuePixels(f),v=this._calculateBarIndexPixels(f,d),N=(g._stacks||{})[o.axis],D={horizontal:u,base:y.base,enableBorderRadius:!N||$m(g._custom)||a===N._top||a===N._bottom,x:u?y.head:v.center,y:u?v.center:y.head,height:u?v.size:Math.abs(y.size),width:u?Math.abs(y.size):v.size};p&&(D.options=m||this.resolveDataElementOptions(f,e[f].active?"active":n));const j=D.options||e[f].options;UC(D,j,N,a),LC(D,j,d.ratio),this.updateElement(e[f],f,D,n)}}_getStacks(e,t){const{iScale:r}=this._cachedMeta,n=r.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),i=r.options.stacked,a=[],o=this._cachedMeta.controller.getParsed(t),l=o&&o[r.axis],u=d=>{const m=d._parsed.find(f=>f[r.axis]===l),p=m&&m[d.vScale.axis];if(zt(p)||isNaN(p))return!0};for(const d of n)if(!(t!==void 0&&u(d))&&((i===!1||a.indexOf(d.stack)===-1||i===void 0&&d.stack===void 0)&&a.push(d.stack),d.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(r=>e[r].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)e[xt(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,r){const n=this._getStacks(e,r),i=t!==void 0?n.indexOf(t):-1;return i===-1?n.length-1:i}_getRuler(){const e=this.options,t=this._cachedMeta,r=t.iScale,n=[];let i,a;for(i=0,a=t.data.length;i<a;++i)n.push(r.getPixelForValue(this.getParsed(i)[r.axis],i));const o=e.barThickness;return{min:o||jC(t),pixels:n,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:o?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:r,index:n},options:{base:i,minBarLength:a}}=this,o=i||0,l=this.getParsed(e),u=l._custom,d=$m(u);let m=l[t.axis],p=0,f=r?this.applyStack(t,l,r):m,g,y;f!==m&&(p=f-m,f=m),d&&(m=u.barStart,f=u.barEnd-u.barStart,m!==0&&wn(m)!==wn(u.barEnd)&&(p=0),p+=m);const v=!zt(i)&&!d?i:p;let N=t.getPixelForValue(v);if(this.chart.getDataVisibility(e)?g=t.getPixelForValue(p+f):g=N,y=g-N,Math.abs(y)<a){y=AC(y,t,o)*a,m===o&&(N-=y/2);const D=t.getPixelForDecimal(0),j=t.getPixelForDecimal(1),C=Math.min(D,j),E=Math.max(D,j);N=Math.max(Math.min(N,E),C),g=N+y,r&&!d&&(l._stacks[t.axis]._visualValues[n]=t.getValueForPixel(g)-t.getValueForPixel(N))}if(N===t.getPixelForValue(o)){const D=wn(y)*t.getLineWidthForValue(o)/2;N+=D,y-=D}return{size:y,base:N,head:g,center:g+y/2}}_calculateBarIndexPixels(e,t){const r=t.scale,n=this.options,i=n.skipNull,a=xt(n.maxBarThickness,1/0);let o,l;const u=this._getAxisCount();if(t.grouped){const d=i?this._getStackCount(e):t.stackCount,m=n.barThickness==="flex"?EC(e,t,n,d*u):CC(e,t,n,d*u),p=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,f=this._getAxis().indexOf(xt(p,this.getFirstScaleIdForIndexAxis())),g=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0)+f;o=m.start+m.chunk*g+m.chunk/2,l=Math.min(a,m.chunk*m.ratio)}else o=r.getPixelForValue(this.getParsed(e)[r.axis],e),l=Math.min(a,t.min*t.ratio);return{base:o-l/2,head:o+l/2,center:o,size:l}}draw(){const e=this._cachedMeta,t=e.vScale,r=e.data,n=r.length;let i=0;for(;i<n;++i)this.getParsed(i)[t.axis]!==null&&!r[i].hidden&&r[i].draw(this._ctx)}}class MC extends Ea{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,r,n){const i=super.parsePrimitiveData(e,t,r,n);for(let a=0;a<i.length;a++)i[a]._custom=this.resolveDataElementOptions(a+r).radius;return i}parseArrayData(e,t,r,n){const i=super.parseArrayData(e,t,r,n);for(let a=0;a<i.length;a++){const o=t[r+a];i[a]._custom=xt(o[2],this.resolveDataElementOptions(a+r).radius)}return i}parseObjectData(e,t,r,n){const i=super.parseObjectData(e,t,r,n);for(let a=0;a<i.length;a++){const o=t[r+a];i[a]._custom=xt(o&&o.r&&+o.r,this.resolveDataElementOptions(a+r).radius)}return i}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let r=e.length-1;r>=0;--r)t=Math.max(t,e[r].size(this.resolveDataElementOptions(r))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,r=this.chart.data.labels||[],{xScale:n,yScale:i}=t,a=this.getParsed(e),o=n.getLabelForValue(a.x),l=i.getLabelForValue(a.y),u=a._custom;return{label:r[e]||"",value:"("+o+", "+l+(u?", "+u:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,r,n){const i=n==="reset",{iScale:a,vScale:o}=this._cachedMeta,{sharedOptions:l,includeOptions:u}=this._getSharedOptions(t,n),d=a.axis,m=o.axis;for(let p=t;p<t+r;p++){const f=e[p],g=!i&&this.getParsed(p),y={},v=y[d]=i?a.getPixelForDecimal(.5):a.getPixelForValue(g[d]),N=y[m]=i?o.getBasePixel():o.getPixelForValue(g[m]);y.skip=isNaN(v)||isNaN(N),u&&(y.options=l||this.resolveDataElementOptions(p,f.active?"active":n),i&&(y.options.radius=0)),this.updateElement(f,p,y,n)}}resolveDataElementOptions(e,t){const r=this.getParsed(e);let n=super.resolveDataElementOptions(e,t);n.$shared&&(n=Object.assign({},n,{$shared:!1}));const i=n.radius;return t!=="active"&&(n.radius=0),n.radius+=xt(r&&r._custom,i),n}}function IC(s,e,t){let r=1,n=1,i=0,a=0;if(e<Ns){const o=s,l=o+e,u=Math.cos(o),d=Math.sin(o),m=Math.cos(l),p=Math.sin(l),f=(j,C,E)=>Sl(j,o,l,!0)?1:Math.max(C,C*t,E,E*t),g=(j,C,E)=>Sl(j,o,l,!0)?-1:Math.min(C,C*t,E,E*t),y=f(0,u,m),v=f(Xs,d,p),N=g(Qt,u,m),D=g(Qt+Xs,d,p);r=(y-N)/2,n=(v-D)/2,i=-(y+N)/2,a=-(v+D)/2}return{ratioX:r,ratioY:n,offsetX:i,offsetY:a}}class Zh extends Ea{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:r,color:n}}=e.legend.options;return t.labels.map((i,a)=>{const l=e.getDatasetMeta(0).controller.getStyle(a);return{text:i,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:n,lineWidth:l.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const r=this.getDataset().data,n=this._cachedMeta;if(this._parsing===!1)n._parsed=r;else{let i=l=>+r[l];if($t(r[e])){const{key:l="value"}=this._parsing;i=u=>+ka(r[u],l)}let a,o;for(a=e,o=e+t;a<o;++a)n._parsed[a]=i(a)}}_getRotation(){return Tn(this.options.rotation-90)}_getCircumference(){return Tn(this.options.circumference)}_getRotationExtents(){let e=Ns,t=-Ns;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const n=this.chart.getDatasetMeta(r).controller,i=n._getRotation(),a=n._getCircumference();e=Math.min(e,i),t=Math.max(t,i+a)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:r}=t,n=this._cachedMeta,i=n.data,a=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,o=Math.max((Math.min(r.width,r.height)-a)/2,0),l=Math.min(GP(this.options.cutout,o),1),u=this._getRingWeight(this.index),{circumference:d,rotation:m}=this._getRotationExtents(),{ratioX:p,ratioY:f,offsetX:g,offsetY:y}=IC(m,d,l),v=(r.width-a)/p,N=(r.height-a)/f,D=Math.max(Math.min(v,N)/2,0),j=t1(this.options.radius,D),C=Math.max(j*l,0),E=(j-C)/this._getVisibleDatasetWeightTotal();this.offsetX=g*j,this.offsetY=y*j,n.total=this.calculateTotal(),this.outerRadius=j-E*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-E*u,0),this.updateElements(i,0,i.length,e)}_circumference(e,t){const r=this.options,n=this._cachedMeta,i=this._getCircumference();return t&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||n._parsed[e]===null||n.data[e].hidden?0:this.calculateCircumference(n._parsed[e]*i/Ns)}updateElements(e,t,r,n){const i=n==="reset",a=this.chart,o=a.chartArea,u=a.options.animation,d=(o.left+o.right)/2,m=(o.top+o.bottom)/2,p=i&&u.animateScale,f=p?0:this.innerRadius,g=p?0:this.outerRadius,{sharedOptions:y,includeOptions:v}=this._getSharedOptions(t,n);let N=this._getRotation(),D;for(D=0;D<t;++D)N+=this._circumference(D,i);for(D=t;D<t+r;++D){const j=this._circumference(D,i),C=e[D],E={x:d+this.offsetX,y:m+this.offsetY,startAngle:N,endAngle:N+j,circumference:j,outerRadius:g,innerRadius:f};v&&(E.options=y||this.resolveDataElementOptions(D,C.active?"active":n)),N+=j,this.updateElement(C,D,E,n)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let r=0,n;for(n=0;n<t.length;n++){const i=e._parsed[n];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(n)&&!t[n].hidden&&(r+=Math.abs(i))}return r}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?Ns*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,r=this.chart,n=r.data.labels||[],i=$l(t._parsed[e],r.options.locale);return{label:n[e]||"",value:i}}getMaxBorderWidth(e){let t=0;const r=this.chart;let n,i,a,o,l;if(!e){for(n=0,i=r.data.datasets.length;n<i;++n)if(r.isDatasetVisible(n)){a=r.getDatasetMeta(n),e=a.data,o=a.controller;break}}if(!e)return 0;for(n=0,i=e.length;n<i;++n)l=o.resolveDataElementOptions(n),l.borderAlign!=="inner"&&(t=Math.max(t,l.borderWidth||0,l.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let r=0,n=e.length;r<n;++r){const i=this.resolveDataElementOptions(r);t=Math.max(t,i.offset||0,i.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(t+=this._getRingWeight(r));return t}_getRingWeight(e){return Math.max(xt(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class RC extends Ea{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:r,data:n=[],_dataset:i}=t,a=this.chart._animationsDisabled;let{start:o,count:l}=l1(t,n,a);this._drawStart=o,this._drawCount=l,u1(t)&&(o=0,l=n.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!i._decimated,r.points=n;const u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:u},e),this.updateElements(n,o,l,e)}updateElements(e,t,r,n){const i=n==="reset",{iScale:a,vScale:o,_stacked:l,_dataset:u}=this._cachedMeta,{sharedOptions:d,includeOptions:m}=this._getSharedOptions(t,n),p=a.axis,f=o.axis,{spanGaps:g,segment:y}=this.options,v=oc(g)?g:Number.POSITIVE_INFINITY,N=this.chart._animationsDisabled||i||n==="none",D=t+r,j=e.length;let C=t>0&&this.getParsed(t-1);for(let E=0;E<j;++E){const A=e[E],V=N?A:{};if(E<t||E>=D){V.skip=!0;continue}const P=this.getParsed(E),_=zt(P[f]),O=V[p]=a.getPixelForValue(P[p],E),S=V[f]=i||_?o.getBasePixel():o.getPixelForValue(l?this.applyStack(o,P,l):P[f],E);V.skip=isNaN(O)||isNaN(S)||_,V.stop=E>0&&Math.abs(P[p]-C[p])>v,y&&(V.parsed=P,V.raw=u.data[E]),m&&(V.options=d||this.resolveDataElementOptions(E,A.active?"active":n)),N||this.updateElement(A,E,V,n),C=P}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,r=t.options&&t.options.borderWidth||0,n=e.data||[];if(!n.length)return r;const i=n[0].size(this.resolveDataElementOptions(0)),a=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(r,i,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class S1 extends Ea{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:r,color:n}}=e.legend.options;return t.labels.map((i,a)=>{const l=e.getDatasetMeta(0).controller.getStyle(a);return{text:i,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:n,lineWidth:l.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,r=this.chart,n=r.data.labels||[],i=$l(t._parsed[e].r,r.options.locale);return{label:n[e]||"",value:i}}parseObjectData(e,t,r,n){return y1.bind(this)(e,t,r,n)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((r,n)=>{const i=this.getParsed(n).r;!isNaN(i)&&this.chart.getDataVisibility(n)&&(i<t.min&&(t.min=i),i>t.max&&(t.max=i))}),t}_updateRadius(){const e=this.chart,t=e.chartArea,r=e.options,n=Math.min(t.right-t.left,t.bottom-t.top),i=Math.max(n/2,0),a=Math.max(r.cutoutPercentage?i/100*r.cutoutPercentage:1,0),o=(i-a)/e.getVisibleDatasetCount();this.outerRadius=i-o*this.index,this.innerRadius=this.outerRadius-o}updateElements(e,t,r,n){const i=n==="reset",a=this.chart,l=a.options.animation,u=this._cachedMeta.rScale,d=u.xCenter,m=u.yCenter,p=u.getIndexAngle(0)-.5*Qt;let f=p,g;const y=360/this.countVisibleElements();for(g=0;g<t;++g)f+=this._computeAngle(g,n,y);for(g=t;g<t+r;g++){const v=e[g];let N=f,D=f+this._computeAngle(g,n,y),j=a.getDataVisibility(g)?u.getDistanceFromCenterForValue(this.getParsed(g).r):0;f=D,i&&(l.animateScale&&(j=0),l.animateRotate&&(N=D=p));const C={x:d,y:m,innerRadius:0,outerRadius:j,startAngle:N,endAngle:D,options:this.resolveDataElementOptions(g,v.active?"active":n)};this.updateElement(v,g,C,n)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach((r,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&t++}),t}_computeAngle(e,t,r){return this.chart.getDataVisibility(e)?Tn(this.resolveDataElementOptions(e,t).angle||r):0}}class OC extends Zh{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class FC extends Ea{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){const t=this._cachedMeta.vScale,r=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(r[t.axis])}}parseObjectData(e,t,r,n){return y1.bind(this)(e,t,r,n)}update(e){const t=this._cachedMeta,r=t.dataset,n=t.data||[],i=t.iScale.getLabels();if(r.points=n,e!=="resize"){const a=this.resolveDatasetElementOptions(e);this.options.showLine||(a.borderWidth=0);const o={_loop:!0,_fullLoop:i.length===n.length,options:a};this.updateElement(r,void 0,o,e)}this.updateElements(n,0,n.length,e)}updateElements(e,t,r,n){const i=this._cachedMeta.rScale,a=n==="reset";for(let o=t;o<t+r;o++){const l=e[o],u=this.resolveDataElementOptions(o,l.active?"active":n),d=i.getPointPositionForValue(o,this.getParsed(o).r),m=a?i.xCenter:d.x,p=a?i.yCenter:d.y,f={x:m,y:p,angle:d.angle,skip:isNaN(m)||isNaN(p),options:u};this.updateElement(l,o,f,n)}}}class BC extends Ea{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){const t=this._cachedMeta,r=this.chart.data.labels||[],{xScale:n,yScale:i}=t,a=this.getParsed(e),o=n.getLabelForValue(a.x),l=i.getLabelForValue(a.y);return{label:r[e]||"",value:"("+o+", "+l+")"}}update(e){const t=this._cachedMeta,{data:r=[]}=t,n=this.chart._animationsDisabled;let{start:i,count:a}=l1(t,r,n);if(this._drawStart=i,this._drawCount=a,u1(t)&&(i=0,a=r.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:o,_dataset:l}=t;o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!l._decimated,o.points=r;const u=this.resolveDatasetElementOptions(e);u.segment=this.options.segment,this.updateElement(o,void 0,{animated:!n,options:u},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(r,i,a,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,r,n){const i=n==="reset",{iScale:a,vScale:o,_stacked:l,_dataset:u}=this._cachedMeta,d=this.resolveDataElementOptions(t,n),m=this.getSharedOptions(d),p=this.includeOptions(n,m),f=a.axis,g=o.axis,{spanGaps:y,segment:v}=this.options,N=oc(y)?y:Number.POSITIVE_INFINITY,D=this.chart._animationsDisabled||i||n==="none";let j=t>0&&this.getParsed(t-1);for(let C=t;C<t+r;++C){const E=e[C],A=this.getParsed(C),V=D?E:{},P=zt(A[g]),_=V[f]=a.getPixelForValue(A[f],C),O=V[g]=i||P?o.getBasePixel():o.getPixelForValue(l?this.applyStack(o,A,l):A[g],C);V.skip=isNaN(_)||isNaN(O)||P,V.stop=C>0&&Math.abs(A[f]-j[f])>N,v&&(V.parsed=A,V.raw=u.data[C]),p&&(V.options=m||this.resolveDataElementOptions(C,E.active?"active":n)),D||this.updateElement(E,C,V,n),j=A}this.updateSharedOptions(m,n,d)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let o=0;for(let l=t.length-1;l>=0;--l)o=Math.max(o,t[l].size(this.resolveDataElementOptions(l))/2);return o>0&&o}const r=e.dataset,n=r.options&&r.options.borderWidth||0;if(!t.length)return n;const i=t[0].size(this.resolveDataElementOptions(0)),a=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(n,i,a)/2}}var zC=Object.freeze({__proto__:null,BarController:TC,BubbleController:MC,DoughnutController:Zh,LineController:RC,PieController:OC,PolarAreaController:S1,RadarController:FC,ScatterController:BC});function Za(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Qh{static override(e){Object.assign(Qh.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return Za()}parse(){return Za()}format(){return Za()}add(){return Za()}diff(){return Za()}startOf(){return Za()}endOf(){return Za()}}var $C={_date:Qh};function WC(s,e,t,r){const{controller:n,data:i,_sorted:a}=s,o=n._cachedMeta.iScale,l=s.dataset&&s.dataset.options?s.dataset.options.spanGaps:null;if(o&&e===o.axis&&e!=="r"&&a&&i.length){const u=o._reversePixels?aj:Li;if(r){if(n._sharedOptions){const d=i[0],m=typeof d.getRange=="function"&&d.getRange(e);if(m){const p=u(i,e,t-m),f=u(i,e,t+m);return{lo:p.lo,hi:f.hi}}}}else{const d=u(i,e,t);if(l){const{vScale:m}=n._cachedMeta,{_parsed:p}=s,f=p.slice(0,d.lo+1).reverse().findIndex(y=>!zt(y[m.axis]));d.lo-=Math.max(0,f);const g=p.slice(d.hi).findIndex(y=>!zt(y[m.axis]));d.hi+=Math.max(0,g)}return d}}return{lo:0,hi:i.length-1}}function Bd(s,e,t,r,n){const i=s.getSortedVisibleDatasetMetas(),a=t[e];for(let o=0,l=i.length;o<l;++o){const{index:u,data:d}=i[o],{lo:m,hi:p}=WC(i[o],e,a,n);for(let f=m;f<=p;++f){const g=d[f];g.skip||r(g,u,f)}}}function HC(s){const e=s.indexOf("x")!==-1,t=s.indexOf("y")!==-1;return function(r,n){const i=e?Math.abs(r.x-n.x):0,a=t?Math.abs(r.y-n.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(a,2))}}function Wm(s,e,t,r,n){const i=[];return!n&&!s.isPointInArea(e)||Bd(s,t,e,function(o,l,u){!n&&!ei(o,s.chartArea,0)||o.inRange(e.x,e.y,r)&&i.push({element:o,datasetIndex:l,index:u})},!0),i}function qC(s,e,t,r){let n=[];function i(a,o,l){const{startAngle:u,endAngle:d}=a.getProps(["startAngle","endAngle"],r),{angle:m}=n1(a,{x:e.x,y:e.y});Sl(m,u,d)&&n.push({element:a,datasetIndex:o,index:l})}return Bd(s,t,e,i),n}function GC(s,e,t,r,n,i){let a=[];const o=HC(t);let l=Number.POSITIVE_INFINITY;function u(d,m,p){const f=d.inRange(e.x,e.y,n);if(r&&!f)return;const g=d.getCenterPoint(n);if(!(!!i||s.isPointInArea(g))&&!f)return;const v=o(e,g);v<l?(a=[{element:d,datasetIndex:m,index:p}],l=v):v===l&&a.push({element:d,datasetIndex:m,index:p})}return Bd(s,t,e,u),a}function Hm(s,e,t,r,n,i){return!i&&!s.isPointInArea(e)?[]:t==="r"&&!r?qC(s,e,t,n):GC(s,e,t,r,n,i)}function J0(s,e,t,r,n){const i=[],a=t==="x"?"inXRange":"inYRange";let o=!1;return Bd(s,t,e,(l,u,d)=>{l[a]&&l[a](e[t],n)&&(i.push({element:l,datasetIndex:u,index:d}),o=o||l.inRange(e.x,e.y,n))}),r&&!o?[]:i}var YC={modes:{index(s,e,t,r){const n=Qn(e,s),i=t.axis||"x",a=t.includeInvisible||!1,o=t.intersect?Wm(s,n,i,r,a):Hm(s,n,i,!1,r,a),l=[];return o.length?(s.getSortedVisibleDatasetMetas().forEach(u=>{const d=o[0].index,m=u.data[d];m&&!m.skip&&l.push({element:m,datasetIndex:u.index,index:d})}),l):[]},dataset(s,e,t,r){const n=Qn(e,s),i=t.axis||"xy",a=t.includeInvisible||!1;let o=t.intersect?Wm(s,n,i,r,a):Hm(s,n,i,!1,r,a);if(o.length>0){const l=o[0].datasetIndex,u=s.getDatasetMeta(l).data;o=[];for(let d=0;d<u.length;++d)o.push({element:u[d],datasetIndex:l,index:d})}return o},point(s,e,t,r){const n=Qn(e,s),i=t.axis||"xy",a=t.includeInvisible||!1;return Wm(s,n,i,r,a)},nearest(s,e,t,r){const n=Qn(e,s),i=t.axis||"xy",a=t.includeInvisible||!1;return Hm(s,n,i,t.intersect,r,a)},x(s,e,t,r){const n=Qn(e,s);return J0(s,n,"x",t.intersect,r)},y(s,e,t,r){const n=Qn(e,s);return J0(s,n,"y",t.intersect,r)}}};const A1=["left","top","right","bottom"];function qc(s,e){return s.filter(t=>t.pos===e)}function Z0(s,e){return s.filter(t=>A1.indexOf(t.pos)===-1&&t.box.axis===e)}function Gc(s,e){return s.sort((t,r)=>{const n=e?r:t,i=e?t:r;return n.weight===i.weight?n.index-i.index:n.weight-i.weight})}function KC(s){const e=[];let t,r,n,i,a,o;for(t=0,r=(s||[]).length;t<r;++t)n=s[t],{position:i,options:{stack:a,stackWeight:o=1}}=n,e.push({index:t,box:n,pos:i,horizontal:n.isHorizontal(),weight:n.weight,stack:a&&i+a,stackWeight:o});return e}function XC(s){const e={};for(const t of s){const{stack:r,pos:n,stackWeight:i}=t;if(!r||!A1.includes(n))continue;const a=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=i}return e}function JC(s,e){const t=XC(s),{vBoxMaxWidth:r,hBoxMaxHeight:n}=e;let i,a,o;for(i=0,a=s.length;i<a;++i){o=s[i];const{fullSize:l}=o.box,u=t[o.stack],d=u&&o.stackWeight/u.weight;o.horizontal?(o.width=d?d*r:l&&e.availableWidth,o.height=n):(o.width=r,o.height=d?d*n:l&&e.availableHeight)}return t}function ZC(s){const e=KC(s),t=Gc(e.filter(u=>u.box.fullSize),!0),r=Gc(qc(e,"left"),!0),n=Gc(qc(e,"right")),i=Gc(qc(e,"top"),!0),a=Gc(qc(e,"bottom")),o=Z0(e,"x"),l=Z0(e,"y");return{fullSize:t,leftAndTop:r.concat(i),rightAndBottom:n.concat(l).concat(a).concat(o),chartArea:qc(e,"chartArea"),vertical:r.concat(n).concat(l),horizontal:i.concat(a).concat(o)}}function Q0(s,e,t,r){return Math.max(s[t],e[t])+Math.max(s[r],e[r])}function _1(s,e){s.top=Math.max(s.top,e.top),s.left=Math.max(s.left,e.left),s.bottom=Math.max(s.bottom,e.bottom),s.right=Math.max(s.right,e.right)}function QC(s,e,t,r){const{pos:n,box:i}=t,a=s.maxPadding;if(!$t(n)){t.size&&(s[n]-=t.size);const m=r[t.stack]||{size:0,count:1};m.size=Math.max(m.size,t.horizontal?i.height:i.width),t.size=m.size/m.count,s[n]+=t.size}i.getPadding&&_1(a,i.getPadding());const o=Math.max(0,e.outerWidth-Q0(a,s,"left","right")),l=Math.max(0,e.outerHeight-Q0(a,s,"top","bottom")),u=o!==s.w,d=l!==s.h;return s.w=o,s.h=l,t.horizontal?{same:u,other:d}:{same:d,other:u}}function eE(s){const e=s.maxPadding;function t(r){const n=Math.max(e[r]-s[r],0);return s[r]+=n,n}s.y+=t("top"),s.x+=t("left"),t("right"),t("bottom")}function tE(s,e){const t=e.maxPadding;function r(n){const i={left:0,top:0,right:0,bottom:0};return n.forEach(a=>{i[a]=Math.max(e[a],t[a])}),i}return r(s?["left","right"]:["top","bottom"])}function nl(s,e,t,r){const n=[];let i,a,o,l,u,d;for(i=0,a=s.length,u=0;i<a;++i){o=s[i],l=o.box,l.update(o.width||e.w,o.height||e.h,tE(o.horizontal,e));const{same:m,other:p}=QC(e,t,o,r);u|=m&&n.length,d=d||p,l.fullSize||n.push(o)}return u&&nl(n,e,t,r)||d}function Su(s,e,t,r,n){s.top=t,s.left=e,s.right=e+r,s.bottom=t+n,s.width=r,s.height=n}function eg(s,e,t,r){const n=t.padding;let{x:i,y:a}=e;for(const o of s){const l=o.box,u=r[o.stack]||{placed:0,weight:1},d=o.stackWeight/u.weight||1;if(o.horizontal){const m=e.w*d,p=u.size||l.height;El(u.start)&&(a=u.start),l.fullSize?Su(l,n.left,a,t.outerWidth-n.right-n.left,p):Su(l,e.left+u.placed,a,m,p),u.start=a,u.placed+=m,a=l.bottom}else{const m=e.h*d,p=u.size||l.width;El(u.start)&&(i=u.start),l.fullSize?Su(l,i,n.top,p,t.outerHeight-n.bottom-n.top):Su(l,i,e.top+u.placed,p,m),u.start=i,u.placed+=m,i=l.right}}e.x=i,e.y=a}var _r={addBox(s,e){s.boxes||(s.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},s.boxes.push(e)},removeBox(s,e){const t=s.boxes?s.boxes.indexOf(e):-1;t!==-1&&s.boxes.splice(t,1)},configure(s,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(s,e,t,r){if(!s)return;const n=Vr(s.options.layout.padding),i=Math.max(e-n.width,0),a=Math.max(t-n.height,0),o=ZC(s.boxes),l=o.vertical,u=o.horizontal;Bt(s.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});const d=l.reduce((y,v)=>v.box.options&&v.box.options.display===!1?y:y+1,0)||1,m=Object.freeze({outerWidth:e,outerHeight:t,padding:n,availableWidth:i,availableHeight:a,vBoxMaxWidth:i/2/d,hBoxMaxHeight:a/2}),p=Object.assign({},n);_1(p,Vr(r));const f=Object.assign({maxPadding:p,w:i,h:a,x:n.left,y:n.top},n),g=JC(l.concat(u),m);nl(o.fullSize,f,m,g),nl(l,f,m,g),nl(u,f,m,g)&&nl(l,f,m,g),eE(f),eg(o.leftAndTop,f,m,g),f.x+=f.w,f.y+=f.h,eg(o.rightAndBottom,f,m,g),s.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},Bt(o.chartArea,y=>{const v=y.box;Object.assign(v,s.chartArea),v.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class U1{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,r){}removeEventListener(e,t,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,r,n){return t=Math.max(0,t||e.width),r=r||e.height,{width:t,height:Math.max(0,n?Math.floor(t/n):r)}}isAttached(e){return!0}updateConfig(e){}}class sE extends U1{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const ad="$chartjs",rE={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},tg=s=>s===null||s==="";function nE(s,e){const t=s.style,r=s.getAttribute("height"),n=s.getAttribute("width");if(s[ad]={initial:{height:r,width:n,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",tg(n)){const i=R0(s,"width");i!==void 0&&(s.width=i)}if(tg(r))if(s.style.height==="")s.height=s.width/(e||2);else{const i=R0(s,"height");i!==void 0&&(s.height=i)}return s}const V1=Qj?{passive:!0}:!1;function iE(s,e,t){s&&s.addEventListener(e,t,V1)}function aE(s,e,t){s&&s.canvas&&s.canvas.removeEventListener(e,t,V1)}function oE(s,e){const t=rE[s.type]||s.type,{x:r,y:n}=Qn(s,e);return{type:t,chart:e,native:s,x:r!==void 0?r:null,y:n!==void 0?n:null}}function Nd(s,e){for(const t of s)if(t===e||t.contains(e))return!0}function cE(s,e,t){const r=s.canvas,n=new MutationObserver(i=>{let a=!1;for(const o of i)a=a||Nd(o.addedNodes,r),a=a&&!Nd(o.removedNodes,r);a&&t()});return n.observe(document,{childList:!0,subtree:!0}),n}function lE(s,e,t){const r=s.canvas,n=new MutationObserver(i=>{let a=!1;for(const o of i)a=a||Nd(o.removedNodes,r),a=a&&!Nd(o.addedNodes,r);a&&t()});return n.observe(document,{childList:!0,subtree:!0}),n}const _l=new Map;let sg=0;function L1(){const s=window.devicePixelRatio;s!==sg&&(sg=s,_l.forEach((e,t)=>{t.currentDevicePixelRatio!==s&&e()}))}function uE(s,e){_l.size||window.addEventListener("resize",L1),_l.set(s,e)}function dE(s){_l.delete(s),_l.size||window.removeEventListener("resize",L1)}function mE(s,e,t){const r=s.canvas,n=r&&Jh(r);if(!n)return;const i=c1((o,l)=>{const u=n.clientWidth;t(o,l),u<n.clientWidth&&t()},window),a=new ResizeObserver(o=>{const l=o[0],u=l.contentRect.width,d=l.contentRect.height;u===0&&d===0||i(u,d)});return a.observe(n),uE(s,i),a}function qm(s,e,t){t&&t.disconnect(),e==="resize"&&dE(s)}function fE(s,e,t){const r=s.canvas,n=c1(i=>{s.ctx!==null&&t(oE(i,s))},s);return iE(r,e,n),n}class hE extends U1{acquireContext(e,t){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(nE(e,t),r):null}releaseContext(e){const t=e.canvas;if(!t[ad])return!1;const r=t[ad].initial;["height","width"].forEach(i=>{const a=r[i];zt(a)?t.removeAttribute(i):t.setAttribute(i,a)});const n=r.style||{};return Object.keys(n).forEach(i=>{t.style[i]=n[i]}),t.width=t.width,delete t[ad],!0}addEventListener(e,t,r){this.removeEventListener(e,t);const n=e.$proxies||(e.$proxies={}),a={attach:cE,detach:lE,resize:mE}[t]||fE;n[t]=a(e,t,r)}removeEventListener(e,t){const r=e.$proxies||(e.$proxies={}),n=r[t];if(!n)return;({attach:qm,detach:qm,resize:qm}[t]||aE)(e,t,n),r[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,r,n){return Zj(e,t,r,n)}isAttached(e){const t=e&&Jh(e);return!!(t&&t.isConnected)}}function pE(s){return!Xh()||typeof OffscreenCanvas<"u"&&s instanceof OffscreenCanvas?sE:hE}let Fi=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}hasValue(){return oc(this.x)&&oc(this.y)}getProps(e,t){const r=this.$animations;if(!t||!r)return this;const n={};return e.forEach(i=>{n[i]=r[i]&&r[i].active()?r[i]._to:this[i]}),n}};function gE(s,e){const t=s.options.ticks,r=bE(s),n=Math.min(t.maxTicksLimit||r,r),i=t.major.enabled?xE(e):[],a=i.length,o=i[0],l=i[a-1],u=[];if(a>n)return vE(e,u,i,a/n),u;const d=yE(i,e,n);if(a>0){let m,p;const f=a>1?Math.round((l-o)/(a-1)):null;for(Au(e,u,d,zt(f)?0:o-f,o),m=0,p=a-1;m<p;m++)Au(e,u,d,i[m],i[m+1]);return Au(e,u,d,l,zt(f)?e.length:l+f),u}return Au(e,u,d),u}function bE(s){const e=s.options.offset,t=s._tickSize(),r=s._length/t+(e?0:1),n=s._maxLength/t;return Math.floor(Math.min(r,n))}function yE(s,e,t){const r=NE(s),n=e.length/t;if(!r)return Math.max(n,1);const i=tj(r);for(let a=0,o=i.length-1;a<o;a++){const l=i[a];if(l>n)return l}return Math.max(n,1)}function xE(s){const e=[];let t,r;for(t=0,r=s.length;t<r;t++)s[t].major&&e.push(t);return e}function vE(s,e,t,r){let n=0,i=t[0],a;for(r=Math.ceil(r),a=0;a<s.length;a++)a===i&&(e.push(s[a]),n++,i=t[n*r])}function Au(s,e,t,r,n){const i=xt(r,0),a=Math.min(xt(n,s.length),s.length);let o=0,l,u,d;for(t=Math.ceil(t),n&&(l=n-r,t=l/Math.floor(l/t)),d=i;d<0;)o++,d=Math.round(i+o*t);for(u=Math.max(i,0);u<a;u++)u===d&&(e.push(s[u]),o++,d=Math.round(i+o*t))}function NE(s){const e=s.length;let t,r;if(e<2)return!1;for(r=s[0],t=1;t<e;++t)if(s[t]-s[t-1]!==r)return!1;return r}const kE=s=>s==="left"?"right":s==="right"?"left":s,rg=(s,e,t)=>e==="top"||e==="left"?s[e]+t:s[e]-t,ng=(s,e)=>Math.min(e||s,s);function ig(s,e){const t=[],r=s.length/e,n=s.length;let i=0;for(;i<n;i+=r)t.push(s[Math.floor(i)]);return t}function DE(s,e,t){const r=s.ticks.length,n=Math.min(e,r-1),i=s._startPixel,a=s._endPixel,o=1e-6;let l=s.getPixelForTick(n),u;if(!(t&&(r===1?u=Math.max(l-i,a-l):e===0?u=(s.getPixelForTick(1)-l)/2:u=(l-s.getPixelForTick(n-1))/2,l+=n<e?u:-u,l<i-o||l>a+o)))return l}function wE(s,e){Bt(s,t=>{const r=t.gc,n=r.length/2;let i;if(n>e){for(i=0;i<n;++i)delete t.data[r[i]];r.splice(0,n)}})}function Yc(s){return s.drawTicks?s.tickLength:0}function ag(s,e){if(!s.display)return 0;const t=or(s.font,e),r=Vr(s.padding);return(Cs(s.text)?s.text.length:1)*t.lineHeight+r.height}function PE(s,e){return Ca(s,{scale:e,type:"scale"})}function jE(s,e,t){return Ca(s,{tick:t,index:e,type:"tick"})}function CE(s,e,t){let r=Wh(s);return(t&&e!=="right"||!t&&e==="right")&&(r=kE(r)),r}function EE(s,e,t,r){const{top:n,left:i,bottom:a,right:o,chart:l}=s,{chartArea:u,scales:d}=l;let m=0,p,f,g;const y=a-n,v=o-i;if(s.isHorizontal()){if(f=Sr(r,i,o),$t(t)){const N=Object.keys(t)[0],D=t[N];g=d[N].getPixelForValue(D)+y-e}else t==="center"?g=(u.bottom+u.top)/2+y-e:g=rg(s,t,e);p=o-i}else{if($t(t)){const N=Object.keys(t)[0],D=t[N];f=d[N].getPixelForValue(D)-v+e}else t==="center"?f=(u.left+u.right)/2-v+e:f=rg(s,t,e);g=Sr(r,a,n),m=t==="left"?-Xs:Xs}return{titleX:f,titleY:g,maxWidth:p,rotation:m}}class jo extends Fi{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:r,_suggestedMax:n}=this;return e=fn(e,Number.POSITIVE_INFINITY),t=fn(t,Number.NEGATIVE_INFINITY),r=fn(r,Number.POSITIVE_INFINITY),n=fn(n,Number.NEGATIVE_INFINITY),{min:fn(e,r),max:fn(t,n),minDefined:Os(e),maxDefined:Os(t)}}getMinMax(e){let{min:t,max:r,minDefined:n,maxDefined:i}=this.getUserBounds(),a;if(n&&i)return{min:t,max:r};const o=this.getMatchingVisibleMetas();for(let l=0,u=o.length;l<u;++l)a=o[l].controller.getMinMax(this,e),n||(t=Math.min(t,a.min)),i||(r=Math.max(r,a.max));return t=i&&t>r?r:t,r=n&&t>r?t:r,{min:fn(t,fn(r,t)),max:fn(r,fn(t,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){yt(this.options.beforeUpdate,[this])}update(e,t,r){const{beginAtZero:n,grace:i,ticks:a}=this.options,o=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Aj(this,i,n),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=o<this.ticks.length;this._convertTicksToLabels(l?ig(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=gE(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,r;this.isHorizontal()?(t=this.left,r=this.right):(t=this.top,r=this.bottom,e=!e),this._startPixel=t,this._endPixel=r,this._reversePixels=e,this._length=r-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){yt(this.options.afterUpdate,[this])}beforeSetDimensions(){yt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){yt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),yt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){yt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let r,n,i;for(r=0,n=e.length;r<n;r++)i=e[r],i.label=yt(t.callback,[i.value,r,e],this)}afterTickToLabelConversion(){yt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){yt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,r=ng(this.ticks.length,e.ticks.maxTicksLimit),n=t.minRotation||0,i=t.maxRotation;let a=n,o,l,u;if(!this._isVisible()||!t.display||n>=i||r<=1||!this.isHorizontal()){this.labelRotation=n;return}const d=this._getLabelSizes(),m=d.widest.width,p=d.highest.height,f=ur(this.chart.width-m,0,this.maxWidth);o=e.offset?this.maxWidth/r:f/(r-1),m+6>o&&(o=f/(r-(e.offset?.5:1)),l=this.maxHeight-Yc(e.grid)-t.padding-ag(e.title,this.chart.options.font),u=Math.sqrt(m*m+p*p),a=zh(Math.min(Math.asin(ur((d.highest.height+6)/o,-1,1)),Math.asin(ur(l/u,-1,1))-Math.asin(ur(p/u,-1,1)))),a=Math.max(n,Math.min(i,a))),this.labelRotation=a}afterCalculateLabelRotation(){yt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){yt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:r,title:n,grid:i}}=this,a=this._isVisible(),o=this.isHorizontal();if(a){const l=ag(n,t.options.font);if(o?(e.width=this.maxWidth,e.height=Yc(i)+l):(e.height=this.maxHeight,e.width=Yc(i)+l),r.display&&this.ticks.length){const{first:u,last:d,widest:m,highest:p}=this._getLabelSizes(),f=r.padding*2,g=Tn(this.labelRotation),y=Math.cos(g),v=Math.sin(g);if(o){const N=r.mirror?0:v*m.width+y*p.height;e.height=Math.min(this.maxHeight,e.height+N+f)}else{const N=r.mirror?0:y*m.width+v*p.height;e.width=Math.min(this.maxWidth,e.width+N+f)}this._calculatePadding(u,d,v,y)}}this._handleMargins(),o?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,r,n){const{ticks:{align:i,padding:a},position:o}=this.options,l=this.labelRotation!==0,u=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,m=this.right-this.getPixelForTick(this.ticks.length-1);let p=0,f=0;l?u?(p=n*e.width,f=r*t.height):(p=r*e.height,f=n*t.width):i==="start"?f=t.width:i==="end"?p=e.width:i!=="inner"&&(p=e.width/2,f=t.width/2),this.paddingLeft=Math.max((p-d+a)*this.width/(this.width-d),0),this.paddingRight=Math.max((f-m+a)*this.width/(this.width-m),0)}else{let d=t.height/2,m=e.height/2;i==="start"?(d=0,m=e.height):i==="end"&&(d=t.height,m=0),this.paddingTop=d+a,this.paddingBottom=m+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){yt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,r;for(t=0,r=e.length;t<r;t++)zt(e[t].label)&&(e.splice(t,1),r--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let r=this.ticks;t<r.length&&(r=ig(r,t)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,r){const{ctx:n,_longestTextCache:i}=this,a=[],o=[],l=Math.floor(t/ng(t,r));let u=0,d=0,m,p,f,g,y,v,N,D,j,C,E;for(m=0;m<t;m+=l){if(g=e[m].label,y=this._resolveTickFontOptions(m),n.font=v=y.string,N=i[v]=i[v]||{data:{},gc:[]},D=y.lineHeight,j=C=0,!zt(g)&&!Cs(g))j=xd(n,N.data,N.gc,j,g),C=D;else if(Cs(g))for(p=0,f=g.length;p<f;++p)E=g[p],!zt(E)&&!Cs(E)&&(j=xd(n,N.data,N.gc,j,E),C+=D);a.push(j),o.push(C),u=Math.max(j,u),d=Math.max(C,d)}wE(i,t);const A=a.indexOf(u),V=o.indexOf(d),P=_=>({width:a[_]||0,height:o[_]||0});return{first:P(0),last:P(t-1),widest:P(A),highest:P(V),widths:a,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return ij(this._alignToPixels?Ja(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const r=t[e];return r.$context||(r.$context=jE(this.getContext(),e,r))}return this.$context||(this.$context=PE(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=Tn(this.labelRotation),r=Math.abs(Math.cos(t)),n=Math.abs(Math.sin(t)),i=this._getLabelSizes(),a=e.autoSkipPadding||0,o=i?i.widest.width+a:0,l=i?i.highest.height+a:0;return this.isHorizontal()?l*r>o*n?o/r:l/n:l*n<o*r?l/r:o/n}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,r=this.chart,n=this.options,{grid:i,position:a,border:o}=n,l=i.offset,u=this.isHorizontal(),m=this.ticks.length+(l?1:0),p=Yc(i),f=[],g=o.setContext(this.getContext()),y=g.display?g.width:0,v=y/2,N=function(re){return Ja(r,re,y)};let D,j,C,E,A,V,P,_,O,S,L,B;if(a==="top")D=N(this.bottom),V=this.bottom-p,_=D-v,S=N(e.top)+v,B=e.bottom;else if(a==="bottom")D=N(this.top),S=e.top,B=N(e.bottom)-v,V=D+v,_=this.top+p;else if(a==="left")D=N(this.right),A=this.right-p,P=D-v,O=N(e.left)+v,L=e.right;else if(a==="right")D=N(this.left),O=e.left,L=N(e.right)-v,A=D+v,P=this.left+p;else if(t==="x"){if(a==="center")D=N((e.top+e.bottom)/2+.5);else if($t(a)){const re=Object.keys(a)[0],le=a[re];D=N(this.chart.scales[re].getPixelForValue(le))}S=e.top,B=e.bottom,V=D+v,_=V+p}else if(t==="y"){if(a==="center")D=N((e.left+e.right)/2);else if($t(a)){const re=Object.keys(a)[0],le=a[re];D=N(this.chart.scales[re].getPixelForValue(le))}A=D-v,P=A-p,O=e.left,L=e.right}const $=xt(n.ticks.maxTicksLimit,m),Z=Math.max(1,Math.ceil(m/$));for(j=0;j<m;j+=Z){const re=this.getContext(j),le=i.setContext(re),ee=o.setContext(re),pe=le.lineWidth,ue=le.color,te=ee.dash||[],U=ee.dashOffset,H=le.tickWidth,G=le.tickColor,se=le.tickBorderDash||[],ne=le.tickBorderDashOffset;C=DE(this,j,l),C!==void 0&&(E=Ja(r,C,pe),u?A=P=O=L=E:V=_=S=B=E,f.push({tx1:A,ty1:V,tx2:P,ty2:_,x1:O,y1:S,x2:L,y2:B,width:pe,color:ue,borderDash:te,borderDashOffset:U,tickWidth:H,tickColor:G,tickBorderDash:se,tickBorderDashOffset:ne}))}return this._ticksLength=m,this._borderValue=D,f}_computeLabelItems(e){const t=this.axis,r=this.options,{position:n,ticks:i}=r,a=this.isHorizontal(),o=this.ticks,{align:l,crossAlign:u,padding:d,mirror:m}=i,p=Yc(r.grid),f=p+d,g=m?-d:f,y=-Tn(this.labelRotation),v=[];let N,D,j,C,E,A,V,P,_,O,S,L,B="middle";if(n==="top")A=this.bottom-g,V=this._getXAxisLabelAlignment();else if(n==="bottom")A=this.top+g,V=this._getXAxisLabelAlignment();else if(n==="left"){const Z=this._getYAxisLabelAlignment(p);V=Z.textAlign,E=Z.x}else if(n==="right"){const Z=this._getYAxisLabelAlignment(p);V=Z.textAlign,E=Z.x}else if(t==="x"){if(n==="center")A=(e.top+e.bottom)/2+f;else if($t(n)){const Z=Object.keys(n)[0],re=n[Z];A=this.chart.scales[Z].getPixelForValue(re)+f}V=this._getXAxisLabelAlignment()}else if(t==="y"){if(n==="center")E=(e.left+e.right)/2-f;else if($t(n)){const Z=Object.keys(n)[0],re=n[Z];E=this.chart.scales[Z].getPixelForValue(re)}V=this._getYAxisLabelAlignment(p).textAlign}t==="y"&&(l==="start"?B="top":l==="end"&&(B="bottom"));const $=this._getLabelSizes();for(N=0,D=o.length;N<D;++N){j=o[N],C=j.label;const Z=i.setContext(this.getContext(N));P=this.getPixelForTick(N)+i.labelOffset,_=this._resolveTickFontOptions(N),O=_.lineHeight,S=Cs(C)?C.length:1;const re=S/2,le=Z.color,ee=Z.textStrokeColor,pe=Z.textStrokeWidth;let ue=V;a?(E=P,V==="inner"&&(N===D-1?ue=this.options.reverse?"left":"right":N===0?ue=this.options.reverse?"right":"left":ue="center"),n==="top"?u==="near"||y!==0?L=-S*O+O/2:u==="center"?L=-$.highest.height/2-re*O+O:L=-$.highest.height+O/2:u==="near"||y!==0?L=O/2:u==="center"?L=$.highest.height/2-re*O:L=$.highest.height-S*O,m&&(L*=-1),y!==0&&!Z.showLabelBackdrop&&(E+=O/2*Math.sin(y))):(A=P,L=(1-S)*O/2);let te;if(Z.showLabelBackdrop){const U=Vr(Z.backdropPadding),H=$.heights[N],G=$.widths[N];let se=L-U.top,ne=0-U.left;switch(B){case"middle":se-=H/2;break;case"bottom":se-=H;break}switch(V){case"center":ne-=G/2;break;case"right":ne-=G;break;case"inner":N===D-1?ne-=G:N>0&&(ne-=G/2);break}te={left:ne,top:se,width:G+U.width,height:H+U.height,color:Z.backdropColor}}v.push({label:C,font:_,textOffset:L,options:{rotation:y,color:le,strokeColor:ee,strokeWidth:pe,textAlign:ue,textBaseline:B,translation:[E,A],backdrop:te}})}return v}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Tn(this.labelRotation))return e==="top"?"left":"right";let n="center";return t.align==="start"?n="left":t.align==="end"?n="right":t.align==="inner"&&(n="inner"),n}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:r,mirror:n,padding:i}}=this.options,a=this._getLabelSizes(),o=e+i,l=a.widest.width;let u,d;return t==="left"?n?(d=this.right+i,r==="near"?u="left":r==="center"?(u="center",d+=l/2):(u="right",d+=l)):(d=this.right-o,r==="near"?u="right":r==="center"?(u="center",d-=l/2):(u="left",d=this.left)):t==="right"?n?(d=this.left+i,r==="near"?u="right":r==="center"?(u="center",d-=l/2):(u="left",d-=l)):(d=this.left+o,r==="near"?u="left":r==="center"?(u="center",d+=l/2):(u="right",d=this.right)):u="right",{textAlign:u,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:r,top:n,width:i,height:a}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(r,n,i,a),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const n=this.ticks.findIndex(i=>i.value===e);return n>=0?t.setContext(this.getContext(n)).lineWidth:0}drawGrid(e){const t=this.options.grid,r=this.ctx,n=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,a;const o=(l,u,d)=>{!d.width||!d.color||(r.save(),r.lineWidth=d.width,r.strokeStyle=d.color,r.setLineDash(d.borderDash||[]),r.lineDashOffset=d.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(u.x,u.y),r.stroke(),r.restore())};if(t.display)for(i=0,a=n.length;i<a;++i){const l=n[i];t.drawOnChartArea&&o({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),t.drawTicks&&o({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:r,grid:n}}=this,i=r.setContext(this.getContext()),a=r.display?i.width:0;if(!a)return;const o=n.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let u,d,m,p;this.isHorizontal()?(u=Ja(e,this.left,a)-a/2,d=Ja(e,this.right,o)+o/2,m=p=l):(m=Ja(e,this.top,a)-a/2,p=Ja(e,this.bottom,o)+o/2,u=d=l),t.save(),t.lineWidth=i.width,t.strokeStyle=i.color,t.beginPath(),t.moveTo(u,m),t.lineTo(d,p),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,n=this._computeLabelArea();n&&Rd(r,n);const i=this.getLabelItems(e);for(const a of i){const o=a.options,l=a.font,u=a.label,d=a.textOffset;ko(r,u,0,d,l,o)}n&&Od(r)}drawTitle(){const{ctx:e,options:{position:t,title:r,reverse:n}}=this;if(!r.display)return;const i=or(r.font),a=Vr(r.padding),o=r.align;let l=i.lineHeight/2;t==="bottom"||t==="center"||$t(t)?(l+=a.bottom,Cs(r.text)&&(l+=i.lineHeight*(r.text.length-1))):l+=a.top;const{titleX:u,titleY:d,maxWidth:m,rotation:p}=EE(this,l,t,o);ko(e,r.text,0,0,i,{color:r.color,maxWidth:m,rotation:p,textAlign:CE(o,t,n),textBaseline:"middle",translation:[u,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,r=xt(e.grid&&e.grid.z,-1),n=xt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==jo.prototype.draw?[{z:t,draw:i=>{this.draw(i)}}]:[{z:r,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:n,draw:()=>{this.drawBorder()}},{z:t,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",n=[];let i,a;for(i=0,a=t.length;i<a;++i){const o=t[i];o[r]===this.id&&(!e||o.type===e)&&n.push(o)}return n}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return or(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class _u{constructor(e,t,r){this.type=e,this.scope=t,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let r;_E(t)&&(r=this.register(t));const n=this.items,i=e.id,a=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in n||(n[i]=e,SE(e,a,r),this.override&&Es.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const t=this.items,r=e.id,n=this.scope;r in t&&delete t[r],n&&r in Es[n]&&(delete Es[n][r],this.override&&delete No[r])}}function SE(s,e,t){const r=Cl(Object.create(null),[t?Es.get(t):{},Es.get(e),s.defaults]);Es.set(e,r),s.defaultRoutes&&AE(e,s.defaultRoutes),s.descriptors&&Es.describe(e,s.descriptors)}function AE(s,e){Object.keys(e).forEach(t=>{const r=t.split("."),n=r.pop(),i=[s].concat(r).join("."),a=e[t].split("."),o=a.pop(),l=a.join(".");Es.route(i,n,l,o)})}function _E(s){return"id"in s&&"defaults"in s}class UE{constructor(){this.controllers=new _u(Ea,"datasets",!0),this.elements=new _u(Fi,"elements"),this.plugins=new _u(Object,"plugins"),this.scales=new _u(jo,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,r){[...t].forEach(n=>{const i=r||this._getRegistryForType(n);r||i.isForType(n)||i===this.plugins&&n.id?this._exec(e,i,n):Bt(n,a=>{const o=r||this._getRegistryForType(a);this._exec(e,o,a)})})}_exec(e,t,r){const n=Bh(e);yt(r["before"+n],[],r),t[e](r),yt(r["after"+n],[],r)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const r=this._typedRegistries[t];if(r.isForType(e))return r}return this.plugins}_get(e,t,r){const n=t.get(e);if(n===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return n}}var Zn=new UE;class VE{constructor(){this._init=[]}notify(e,t,r,n){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=n?this._descriptors(e).filter(n):this._descriptors(e),a=this._notify(i,e,t,r);return t==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,t,r,n){n=n||{};for(const i of e){const a=i.plugin,o=a[r],l=[t,n,i.options];if(yt(o,l,a)===!1&&n.cancelable)return!1}return!0}invalidate(){zt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const r=e&&e.config,n=xt(r.options&&r.options.plugins,{}),i=LE(r);return n===!1&&!t?[]:ME(e,i,n,t)}_notifyStateChanges(e){const t=this._oldCache||[],r=this._cache,n=(i,a)=>i.filter(o=>!a.some(l=>o.plugin.id===l.plugin.id));this._notify(n(t,r),e,"stop"),this._notify(n(r,t),e,"start")}}function LE(s){const e={},t=[],r=Object.keys(Zn.plugins.items);for(let i=0;i<r.length;i++)t.push(Zn.getPlugin(r[i]));const n=s.plugins||[];for(let i=0;i<n.length;i++){const a=n[i];t.indexOf(a)===-1&&(t.push(a),e[a.id]=!0)}return{plugins:t,localIds:e}}function TE(s,e){return!e&&s===!1?null:s===!0?{}:s}function ME(s,{plugins:e,localIds:t},r,n){const i=[],a=s.getContext();for(const o of e){const l=o.id,u=TE(r[l],n);u!==null&&i.push({plugin:o,options:IE(s.config,{plugin:o,local:t[l]},u,a)})}return i}function IE(s,{plugin:e,local:t},r,n){const i=s.pluginScopeKeys(e),a=s.getOptionScopes(r,i);return t&&e.defaults&&a.push(e.defaults),s.createResolver(a,n,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Kf(s,e){const t=Es.datasets[s]||{};return((e.datasets||{})[s]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function RE(s,e){let t=s;return s==="_index_"?t=e:s==="_value_"&&(t=e==="x"?"y":"x"),t}function OE(s,e){return s===e?"_index_":"_value_"}function og(s){if(s==="x"||s==="y"||s==="r")return s}function FE(s){if(s==="top"||s==="bottom")return"x";if(s==="left"||s==="right")return"y"}function Xf(s,...e){if(og(s))return s;for(const t of e){const r=t.axis||FE(t.position)||s.length>1&&og(s[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${s}' axis. Please provide 'axis' or 'position' option.`)}function cg(s,e,t){if(t[e+"AxisID"]===s)return{axis:e}}function BE(s,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(r=>r.xAxisID===s||r.yAxisID===s);if(t.length)return cg(s,"x",t[0])||cg(s,"y",t[0])}return{}}function zE(s,e){const t=No[s.type]||{scales:{}},r=e.scales||{},n=Kf(s.type,e),i=Object.create(null);return Object.keys(r).forEach(a=>{const o=r[a];if(!$t(o))return console.error(`Invalid scale configuration for scale: ${a}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const l=Xf(a,o,BE(a,s),Es.scales[o.type]),u=OE(l,n),d=t.scales||{};i[a]=ul(Object.create(null),[{axis:l},o,d[l],d[u]])}),s.data.datasets.forEach(a=>{const o=a.type||s.type,l=a.indexAxis||Kf(o,e),d=(No[o]||{}).scales||{};Object.keys(d).forEach(m=>{const p=RE(m,l),f=a[p+"AxisID"]||p;i[f]=i[f]||Object.create(null),ul(i[f],[{axis:p},r[f],d[m]])})}),Object.keys(i).forEach(a=>{const o=i[a];ul(o,[Es.scales[o.type],Es.scale])}),i}function T1(s){const e=s.options||(s.options={});e.plugins=xt(e.plugins,{}),e.scales=zE(s,e)}function M1(s){return s=s||{},s.datasets=s.datasets||[],s.labels=s.labels||[],s}function $E(s){return s=s||{},s.data=M1(s.data),T1(s),s}const lg=new Map,I1=new Set;function Uu(s,e){let t=lg.get(s);return t||(t=e(),lg.set(s,t),I1.add(t)),t}const Kc=(s,e,t)=>{const r=ka(e,t);r!==void 0&&s.add(r)};class WE{constructor(e){this._config=$E(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=M1(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),T1(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Uu(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Uu(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Uu(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,r=this.type;return Uu(`${r}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const r=this._scopeCache;let n=r.get(e);return(!n||t)&&(n=new Map,r.set(e,n)),n}getOptionScopes(e,t,r){const{options:n,type:i}=this,a=this._cachedScopes(e,r),o=a.get(t);if(o)return o;const l=new Set;t.forEach(d=>{e&&(l.add(e),d.forEach(m=>Kc(l,e,m))),d.forEach(m=>Kc(l,n,m)),d.forEach(m=>Kc(l,No[i]||{},m)),d.forEach(m=>Kc(l,Es,m)),d.forEach(m=>Kc(l,Gf,m))});const u=Array.from(l);return u.length===0&&u.push(Object.create(null)),I1.has(t)&&a.set(t,u),u}chartOptionScopes(){const{options:e,type:t}=this;return[e,No[t]||{},Es.datasets[t]||{},{type:t},Es,Gf]}resolveNamedOptions(e,t,r,n=[""]){const i={$shared:!0},{resolver:a,subPrefixes:o}=ug(this._resolverCache,e,n);let l=a;if(qE(a,t)){i.$shared=!1,r=Da(r)?r():r;const u=this.createResolver(e,r,o);l=cc(a,r,u)}for(const u of t)i[u]=l[u];return i}createResolver(e,t,r=[""],n){const{resolver:i}=ug(this._resolverCache,e,r);return $t(t)?cc(i,t,void 0,n):i}}function ug(s,e,t){let r=s.get(e);r||(r=new Map,s.set(e,r));const n=t.join();let i=r.get(n);return i||(i={resolver:Gh(e,t),subPrefixes:t.filter(o=>!o.toLowerCase().includes("hover"))},r.set(n,i)),i}const HE=s=>$t(s)&&Object.getOwnPropertyNames(s).some(e=>Da(s[e]));function qE(s,e){const{isScriptable:t,isIndexable:r}=h1(s);for(const n of e){const i=t(n),a=r(n),o=(a||i)&&s[n];if(i&&(Da(o)||HE(o))||a&&Cs(o))return!0}return!1}var GE="4.5.0";const YE=["top","bottom","left","right","chartArea"];function dg(s,e){return s==="top"||s==="bottom"||YE.indexOf(s)===-1&&e==="x"}function mg(s,e){return function(t,r){return t[s]===r[s]?t[e]-r[e]:t[s]-r[s]}}function fg(s){const e=s.chart,t=e.options.animation;e.notifyPlugins("afterRender"),yt(t&&t.onComplete,[s],e)}function KE(s){const e=s.chart,t=e.options.animation;yt(t&&t.onProgress,[s],e)}function R1(s){return Xh()&&typeof s=="string"?s=document.getElementById(s):s&&s.length&&(s=s[0]),s&&s.canvas&&(s=s.canvas),s}const od={},hg=s=>{const e=R1(s);return Object.values(od).filter(t=>t.canvas===e).pop()};function XE(s,e,t){const r=Object.keys(s);for(const n of r){const i=+n;if(i>=e){const a=s[n];delete s[n],(t>0||i>e)&&(s[i+t]=a)}}}function JE(s,e,t,r){return!t||s.type==="mouseout"?null:r?e:s}class cd{static defaults=Es;static instances=od;static overrides=No;static registry=Zn;static version=GE;static getChart=hg;static register(...e){Zn.add(...e),pg()}static unregister(...e){Zn.remove(...e),pg()}constructor(e,t){const r=this.config=new WE(t),n=R1(e),i=hg(n);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||pE(n)),this.platform.updateConfig(r);const o=this.platform.acquireContext(n,a.aspectRatio),l=o&&o.canvas,u=l&&l.height,d=l&&l.width;if(this.id=qP(),this.ctx=o,this.canvas=l,this.width=d,this.height=u,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new VE,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=lj(m=>this.update(m),a.resizeDelay||0),this._dataChanges=[],od[this.id]=this,!o||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Ci.listen(this,"complete",fg),Ci.listen(this,"progress",KE),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:r,height:n,_aspectRatio:i}=this;return zt(e)?t&&i?i:n?r/n:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Zn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():I0(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return L0(this.canvas,this.ctx),this}stop(){return Ci.stop(this),this}resize(e,t){Ci.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const r=this.options,n=this.canvas,i=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(n,e,t,i),o=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,I0(this,o,!0)&&(this.notifyPlugins("resize",{size:a}),yt(r.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};Bt(t,(r,n)=>{r.id=n})}buildOrUpdateScales(){const e=this.options,t=e.scales,r=this.scales,n=Object.keys(r).reduce((a,o)=>(a[o]=!1,a),{});let i=[];t&&(i=i.concat(Object.keys(t).map(a=>{const o=t[a],l=Xf(a,o),u=l==="r",d=l==="x";return{options:o,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),Bt(i,a=>{const o=a.options,l=o.id,u=Xf(l,o),d=xt(o.type,a.dtype);(o.position===void 0||dg(o.position,u)!==dg(a.dposition))&&(o.position=a.dposition),n[l]=!0;let m=null;if(l in r&&r[l].type===d)m=r[l];else{const p=Zn.getScale(d);m=new p({id:l,type:d,ctx:this.ctx,chart:this}),r[m.id]=m}m.init(o,e)}),Bt(n,(a,o)=>{a||delete r[o]}),Bt(r,a=>{_r.configure(this,a,a.options),_r.addBox(this,a)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,r=e.length;if(e.sort((n,i)=>n.index-i.index),r>t){for(let n=t;n<r;++n)this._destroyDatasetMeta(n);e.splice(t,r-t)}this._sortedMetasets=e.slice(0).sort(mg("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((r,n)=>{t.filter(i=>i===r._dataset).length===0&&this._destroyDatasetMeta(n)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let r,n;for(this._removeUnreferencedMetasets(),r=0,n=t.length;r<n;r++){const i=t[r];let a=this.getDatasetMeta(r);const o=i.type||this.config.type;if(a.type&&a.type!==o&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=o,a.indexAxis=i.indexAxis||Kf(o,this.options),a.order=i.order||0,a.index=r,a.label=""+i.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{const l=Zn.getController(o),{datasetElementType:u,dataElementType:d}=Es.datasets[o];Object.assign(l,{dataElementType:Zn.getElement(d),datasetElementType:u&&Zn.getElement(u)}),a.controller=new l(this,r),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){Bt(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const r=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),n=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let u=0,d=this.data.datasets.length;u<d;u++){const{controller:m}=this.getDatasetMeta(u),p=!n&&i.indexOf(m)===-1;m.buildOrUpdateElements(p),a=Math.max(+m.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),n||Bt(i,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(mg("z","_idx"));const{_active:o,_lastEvent:l}=this;l?this._eventHandler(l,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){Bt(this.scales,e=>{_r.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!P0(t,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:r,start:n,count:i}of t){const a=r==="_removeElements"?-i:i;XE(e,n,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,r=i=>new Set(e.filter(a=>a[0]===i).map((a,o)=>o+","+a.splice(1).join(","))),n=r(0);for(let i=1;i<t;i++)if(!P0(n,r(i)))return;return Array.from(n).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;_r.update(this,this.width,this.height,e);const t=this.chartArea,r=t.width<=0||t.height<=0;this._layers=[],Bt(this.boxes,n=>{r&&n.position==="chartArea"||(n.configure&&n.configure(),this._layers.push(...n._layers()))},this),this._layers.forEach((n,i)=>{n._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,r=this.data.datasets.length;t<r;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,r=this.data.datasets.length;t<r;++t)this._updateDataset(t,Da(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const r=this.getDatasetMeta(e),n={meta:r,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",n)!==!1&&(r.controller._update(t),n.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",n))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ci.has(this)?this.attached&&!Ci.running(this)&&Ci.start(this):(this.draw(),fg({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:n}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,n)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,r=[];let n,i;for(n=0,i=t.length;n<i;++n){const a=t[n];(!e||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,r={meta:e,index:e.index,cancelable:!0},n=P1(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(n&&Rd(t,n),e.controller.draw(),n&&Od(t),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return ei(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,r,n){const i=YC.modes[t];return typeof i=="function"?i(this,e,r,n):[]}getDatasetMeta(e){const t=this.data.datasets[e],r=this._metasets;let n=r.filter(i=>i&&i._dataset===t).pop();return n||(n={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},r.push(n)),n}getContext(){return this.$context||(this.$context=Ca(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!t.hidden}setDatasetVisibility(e,t){const r=this.getDatasetMeta(e);r.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,r){const n=r?"show":"hide",i=this.getDatasetMeta(e),a=i.controller._resolveAnimations(void 0,n);El(t)?(i.data[t].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),a.update(i,{visible:r}),this.update(o=>o.datasetIndex===e?n:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Ci.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),L0(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete od[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,r=(i,a)=>{t.addEventListener(this,i,a),e[i]=a},n=(i,a,o)=>{i.offsetX=a,i.offsetY=o,this._eventHandler(i)};Bt(this.options.events,i=>r(i,n))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,r=(l,u)=>{t.addEventListener(this,l,u),e[l]=u},n=(l,u)=>{e[l]&&(t.removeEventListener(this,l,u),delete e[l])},i=(l,u)=>{this.canvas&&this.resize(l,u)};let a;const o=()=>{n("attach",o),this.attached=!0,this.resize(),r("resize",i),r("detach",a)};a=()=>{this.attached=!1,n("resize",i),this._stop(),this._resize(0,0),r("attach",o)},t.isAttached(this.canvas)?o():a()}unbindEvents(){Bt(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Bt(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,r){const n=r?"set":"remove";let i,a,o,l;for(t==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+n+"DatasetHoverStyle"]()),o=0,l=e.length;o<l;++o){a=e[o];const u=a&&this.getDatasetMeta(a.datasetIndex).controller;u&&u[n+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],r=e.map(({datasetIndex:i,index:a})=>{const o=this.getDatasetMeta(i);if(!o)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:o.data[a],index:a}});!gd(r,t)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,t))}notifyPlugins(e,t,r){return this._plugins.notify(this,e,t,r)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,r){const n=this.options.hover,i=(l,u)=>l.filter(d=>!u.some(m=>d.datasetIndex===m.datasetIndex&&d.index===m.index)),a=i(t,e),o=r?e:i(e,t);a.length&&this.updateHoverStyle(a,n.mode,!1),o.length&&n.mode&&this.updateHoverStyle(o,n.mode,!0)}_eventHandler(e,t){const r={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},n=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,n)===!1)return;const i=this._handleEvent(e,t,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,n),(i||r.changed)&&this.render(),this}_handleEvent(e,t,r){const{_active:n=[],options:i}=this,a=t,o=this._getActiveElements(e,n,r,a),l=ZP(e),u=JE(e,this._lastEvent,r,l);r&&(this._lastEvent=null,yt(i.onHover,[e,o,this],this),l&&yt(i.onClick,[e,o,this],this));const d=!gd(o,n);return(d||t)&&(this._active=o,this._updateHoverStyles(o,n,t)),this._lastEvent=u,d}_getActiveElements(e,t,r,n){if(e.type==="mouseout")return[];if(!r)return t;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,n)}}function pg(){return Bt(cd.instances,s=>s._plugins.invalidate())}function ZE(s,e,t){const{startAngle:r,x:n,y:i,outerRadius:a,innerRadius:o,options:l}=e,{borderWidth:u,borderJoinStyle:d}=l,m=Math.min(u/a,Ar(r-t));if(s.beginPath(),s.arc(n,i,a-u/2,r+m/2,t-m/2),o>0){const p=Math.min(u/o,Ar(r-t));s.arc(n,i,o+u/2,t-p/2,r+p/2,!0)}else{const p=Math.min(u/2,a*Ar(r-t));if(d==="round")s.arc(n,i,p,t-Qt/2,r+Qt/2,!0);else if(d==="bevel"){const f=2*p*p,g=-f*Math.cos(t+Qt/2)+n,y=-f*Math.sin(t+Qt/2)+i,v=f*Math.cos(r+Qt/2)+n,N=f*Math.sin(r+Qt/2)+i;s.lineTo(g,y),s.lineTo(v,N)}}s.closePath(),s.moveTo(0,0),s.rect(0,0,s.canvas.width,s.canvas.height),s.clip("evenodd")}function QE(s,e,t){const{startAngle:r,pixelMargin:n,x:i,y:a,outerRadius:o,innerRadius:l}=e;let u=n/o;s.beginPath(),s.arc(i,a,o,r-u,t+u),l>n?(u=n/l,s.arc(i,a,l,t+u,r-u,!0)):s.arc(i,a,n,t+Xs,r-Xs),s.closePath(),s.clip()}function e3(s){return qh(s,["outerStart","outerEnd","innerStart","innerEnd"])}function t3(s,e,t,r){const n=e3(s.options.borderRadius),i=(t-e)/2,a=Math.min(i,r*e/2),o=l=>{const u=(t-Math.min(i,l))*r/2;return ur(l,0,Math.min(i,u))};return{outerStart:o(n.outerStart),outerEnd:o(n.outerEnd),innerStart:ur(n.innerStart,0,a),innerEnd:ur(n.innerEnd,0,a)}}function Wo(s,e,t,r){return{x:t+s*Math.cos(e),y:r+s*Math.sin(e)}}function kd(s,e,t,r,n,i){const{x:a,y:o,startAngle:l,pixelMargin:u,innerRadius:d}=e,m=Math.max(e.outerRadius+r+t-u,0),p=d>0?d+r+t+u:0;let f=0;const g=n-l;if(r){const Z=d>0?d-r:0,re=m>0?m-r:0,le=(Z+re)/2,ee=le!==0?g*le/(le+r):g;f=(g-ee)/2}const y=Math.max(.001,g*m-t/Qt)/m,v=(g-y)/2,N=l+v+f,D=n-v-f,{outerStart:j,outerEnd:C,innerStart:E,innerEnd:A}=t3(e,p,m,D-N),V=m-j,P=m-C,_=N+j/V,O=D-C/P,S=p+E,L=p+A,B=N+E/S,$=D-A/L;if(s.beginPath(),i){const Z=(_+O)/2;if(s.arc(a,o,m,_,Z),s.arc(a,o,m,Z,O),C>0){const pe=Wo(P,O,a,o);s.arc(pe.x,pe.y,C,O,D+Xs)}const re=Wo(L,D,a,o);if(s.lineTo(re.x,re.y),A>0){const pe=Wo(L,$,a,o);s.arc(pe.x,pe.y,A,D+Xs,$+Math.PI)}const le=(D-A/p+(N+E/p))/2;if(s.arc(a,o,p,D-A/p,le,!0),s.arc(a,o,p,le,N+E/p,!0),E>0){const pe=Wo(S,B,a,o);s.arc(pe.x,pe.y,E,B+Math.PI,N-Xs)}const ee=Wo(V,N,a,o);if(s.lineTo(ee.x,ee.y),j>0){const pe=Wo(V,_,a,o);s.arc(pe.x,pe.y,j,N-Xs,_)}}else{s.moveTo(a,o);const Z=Math.cos(_)*m+a,re=Math.sin(_)*m+o;s.lineTo(Z,re);const le=Math.cos(O)*m+a,ee=Math.sin(O)*m+o;s.lineTo(le,ee)}s.closePath()}function s3(s,e,t,r,n){const{fullCircles:i,startAngle:a,circumference:o}=e;let l=e.endAngle;if(i){kd(s,e,t,r,l,n);for(let u=0;u<i;++u)s.fill();isNaN(o)||(l=a+(o%Ns||Ns))}return kd(s,e,t,r,l,n),s.fill(),l}function r3(s,e,t,r,n){const{fullCircles:i,startAngle:a,circumference:o,options:l}=e,{borderWidth:u,borderJoinStyle:d,borderDash:m,borderDashOffset:p,borderRadius:f}=l,g=l.borderAlign==="inner";if(!u)return;s.setLineDash(m||[]),s.lineDashOffset=p,g?(s.lineWidth=u*2,s.lineJoin=d||"round"):(s.lineWidth=u,s.lineJoin=d||"bevel");let y=e.endAngle;if(i){kd(s,e,t,r,y,n);for(let v=0;v<i;++v)s.stroke();isNaN(o)||(y=a+(o%Ns||Ns))}g&&QE(s,e,y),l.selfJoin&&y-a>=Qt&&f===0&&d!=="miter"&&ZE(s,e,y),i||(kd(s,e,t,r,y,n),s.stroke())}class n3 extends Fi{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,r){const n=this.getProps(["x","y"],r),{angle:i,distance:a}=n1(n,{x:e,y:t}),{startAngle:o,endAngle:l,innerRadius:u,outerRadius:d,circumference:m}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),p=(this.options.spacing+this.options.borderWidth)/2,f=xt(m,l-o),g=Sl(i,o,l)&&o!==l,y=f>=Ns||g,v=Vi(a,u+p,d+p);return y&&v}getCenterPoint(e){const{x:t,y:r,startAngle:n,endAngle:i,innerRadius:a,outerRadius:o}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:l,spacing:u}=this.options,d=(n+i)/2,m=(a+o+u+l)/2;return{x:t+Math.cos(d)*m,y:r+Math.sin(d)*m}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:r}=this,n=(t.offset||0)/4,i=(t.spacing||0)/2,a=t.circular;if(this.pixelMargin=t.borderAlign==="inner"?.33:0,this.fullCircles=r>Ns?Math.floor(r/Ns):0,r===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const o=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(o)*n,Math.sin(o)*n);const l=1-Math.sin(Math.min(Qt,r||0)),u=n*l;e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,s3(e,this,u,i,a),r3(e,this,u,i,a),e.restore()}}function O1(s,e,t=e){s.lineCap=xt(t.borderCapStyle,e.borderCapStyle),s.setLineDash(xt(t.borderDash,e.borderDash)),s.lineDashOffset=xt(t.borderDashOffset,e.borderDashOffset),s.lineJoin=xt(t.borderJoinStyle,e.borderJoinStyle),s.lineWidth=xt(t.borderWidth,e.borderWidth),s.strokeStyle=xt(t.borderColor,e.borderColor)}function i3(s,e,t){s.lineTo(t.x,t.y)}function a3(s){return s.stepped?Nj:s.tension||s.cubicInterpolationMode==="monotone"?kj:i3}function F1(s,e,t={}){const r=s.length,{start:n=0,end:i=r-1}=t,{start:a,end:o}=e,l=Math.max(n,a),u=Math.min(i,o),d=n<a&&i<a||n>o&&i>o;return{count:r,start:l,loop:e.loop,ilen:u<l&&!d?r+u-l:u-l}}function o3(s,e,t,r){const{points:n,options:i}=e,{count:a,start:o,loop:l,ilen:u}=F1(n,t,r),d=a3(i);let{move:m=!0,reverse:p}=r||{},f,g,y;for(f=0;f<=u;++f)g=n[(o+(p?u-f:f))%a],!g.skip&&(m?(s.moveTo(g.x,g.y),m=!1):d(s,y,g,p,i.stepped),y=g);return l&&(g=n[(o+(p?u:0))%a],d(s,y,g,p,i.stepped)),!!l}function c3(s,e,t,r){const n=e.points,{count:i,start:a,ilen:o}=F1(n,t,r),{move:l=!0,reverse:u}=r||{};let d=0,m=0,p,f,g,y,v,N;const D=C=>(a+(u?o-C:C))%i,j=()=>{y!==v&&(s.lineTo(d,v),s.lineTo(d,y),s.lineTo(d,N))};for(l&&(f=n[D(0)],s.moveTo(f.x,f.y)),p=0;p<=o;++p){if(f=n[D(p)],f.skip)continue;const C=f.x,E=f.y,A=C|0;A===g?(E<y?y=E:E>v&&(v=E),d=(m*d+C)/++m):(j(),s.lineTo(C,E),g=A,m=0,y=v=E),N=E}j()}function Jf(s){const e=s.options,t=e.borderDash&&e.borderDash.length;return!s._decimated&&!s._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?c3:o3}function l3(s){return s.stepped?eC:s.tension||s.cubicInterpolationMode==="monotone"?tC:eo}function u3(s,e,t,r){let n=e._path;n||(n=e._path=new Path2D,e.path(n,t,r)&&n.closePath()),O1(s,e.options),s.stroke(n)}function d3(s,e,t,r){const{segments:n,options:i}=e,a=Jf(e);for(const o of n)O1(s,i,o.style),s.beginPath(),a(s,e,o,{start:t,end:t+r-1})&&s.closePath(),s.stroke()}const m3=typeof Path2D=="function";function f3(s,e,t,r){m3&&!e.options.segment?u3(s,e,t,r):d3(s,e,t,r)}class zd extends Fi{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const n=r.spanGaps?this._loop:this._fullLoop;qj(this._points,r,e,n,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=oC(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,r=e.length;return r&&t[e[r-1].end]}interpolate(e,t){const r=this.options,n=e[t],i=this.points,a=w1(this,{property:t,start:n,end:n});if(!a.length)return;const o=[],l=l3(r);let u,d;for(u=0,d=a.length;u<d;++u){const{start:m,end:p}=a[u],f=i[m],g=i[p];if(f===g){o.push(f);continue}const y=Math.abs((n-f[t])/(g[t]-f[t])),v=l(f,g,y,r.stepped);v[t]=e[t],o.push(v)}return o.length===1?o[0]:o}pathSegment(e,t,r){return Jf(this)(e,this,t,r)}path(e,t,r){const n=this.segments,i=Jf(this);let a=this._loop;t=t||0,r=r||this.points.length-t;for(const o of n)a&=i(e,this,o,{start:t,end:t+r-1});return!!a}draw(e,t,r,n){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),f3(e,this,r,n),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function gg(s,e,t,r){const n=s.options,{[t]:i}=s.getProps([t],r);return Math.abs(e-i)<n.radius+n.hitRadius}class h3 extends Fi{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,r){const n=this.options,{x:i,y:a}=this.getProps(["x","y"],r);return Math.pow(e-i,2)+Math.pow(t-a,2)<Math.pow(n.hitRadius+n.radius,2)}inXRange(e,t){return gg(this,e,"x",t)}inYRange(e,t){return gg(this,e,"y",t)}getCenterPoint(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}size(e){e=e||this.options||{};let t=e.radius||0;t=Math.max(t,t&&e.hoverRadius||0);const r=t&&e.borderWidth||0;return(t+r)*2}draw(e,t){const r=this.options;this.skip||r.radius<.1||!ei(this,t,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,Yf(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function B1(s,e){const{x:t,y:r,base:n,width:i,height:a}=s.getProps(["x","y","base","width","height"],e);let o,l,u,d,m;return s.horizontal?(m=a/2,o=Math.min(t,n),l=Math.max(t,n),u=r-m,d=r+m):(m=i/2,o=t-m,l=t+m,u=Math.min(r,n),d=Math.max(r,n)),{left:o,top:u,right:l,bottom:d}}function fa(s,e,t,r){return s?0:ur(e,t,r)}function p3(s,e,t){const r=s.options.borderWidth,n=s.borderSkipped,i=f1(r);return{t:fa(n.top,i.top,0,t),r:fa(n.right,i.right,0,e),b:fa(n.bottom,i.bottom,0,t),l:fa(n.left,i.left,0,e)}}function g3(s,e,t){const{enableBorderRadius:r}=s.getProps(["enableBorderRadius"]),n=s.options.borderRadius,i=lo(n),a=Math.min(e,t),o=s.borderSkipped,l=r||$t(n);return{topLeft:fa(!l||o.top||o.left,i.topLeft,0,a),topRight:fa(!l||o.top||o.right,i.topRight,0,a),bottomLeft:fa(!l||o.bottom||o.left,i.bottomLeft,0,a),bottomRight:fa(!l||o.bottom||o.right,i.bottomRight,0,a)}}function b3(s){const e=B1(s),t=e.right-e.left,r=e.bottom-e.top,n=p3(s,t/2,r/2),i=g3(s,t/2,r/2);return{outer:{x:e.left,y:e.top,w:t,h:r,radius:i},inner:{x:e.left+n.l,y:e.top+n.t,w:t-n.l-n.r,h:r-n.t-n.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(n.t,n.l)),topRight:Math.max(0,i.topRight-Math.max(n.t,n.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(n.b,n.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(n.b,n.r))}}}}function Gm(s,e,t,r){const n=e===null,i=t===null,o=s&&!(n&&i)&&B1(s,r);return o&&(n||Vi(e,o.left,o.right))&&(i||Vi(t,o.top,o.bottom))}function y3(s){return s.topLeft||s.topRight||s.bottomLeft||s.bottomRight}function x3(s,e){s.rect(e.x,e.y,e.w,e.h)}function Ym(s,e,t={}){const r=s.x!==t.x?-e:0,n=s.y!==t.y?-e:0,i=(s.x+s.w!==t.x+t.w?e:0)-r,a=(s.y+s.h!==t.y+t.h?e:0)-n;return{x:s.x+r,y:s.y+n,w:s.w+i,h:s.h+a,radius:s.radius}}class v3 extends Fi{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:r,backgroundColor:n}}=this,{inner:i,outer:a}=b3(this),o=y3(a.radius)?Al:x3;e.save(),(a.w!==i.w||a.h!==i.h)&&(e.beginPath(),o(e,Ym(a,t,i)),e.clip(),o(e,Ym(i,-t,a)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),o(e,Ym(i,t)),e.fillStyle=n,e.fill(),e.restore()}inRange(e,t,r){return Gm(this,e,t,r)}inXRange(e,t){return Gm(this,e,null,t)}inYRange(e,t){return Gm(this,null,e,t)}getCenterPoint(e){const{x:t,y:r,base:n,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(t+n)/2:t,y:i?r:(r+n)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}var N3=Object.freeze({__proto__:null,ArcElement:n3,BarElement:v3,LineElement:zd,PointElement:h3});const Zf=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],bg=Zf.map(s=>s.replace("rgb(","rgba(").replace(")",", 0.5)"));function z1(s){return Zf[s%Zf.length]}function $1(s){return bg[s%bg.length]}function k3(s,e){return s.borderColor=z1(e),s.backgroundColor=$1(e),++e}function D3(s,e){return s.backgroundColor=s.data.map(()=>z1(e++)),e}function w3(s,e){return s.backgroundColor=s.data.map(()=>$1(e++)),e}function P3(s){let e=0;return(t,r)=>{const n=s.getDatasetMeta(r).controller;n instanceof Zh?e=D3(t,e):n instanceof S1?e=w3(t,e):n&&(e=k3(t,e))}}function yg(s){let e;for(e in s)if(s[e].borderColor||s[e].backgroundColor)return!0;return!1}function j3(s){return s&&(s.borderColor||s.backgroundColor)}function C3(){return Es.borderColor!=="rgba(0,0,0,0.1)"||Es.backgroundColor!=="rgba(0,0,0,0.1)"}var E3={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(s,e,t){if(!t.enabled)return;const{data:{datasets:r},options:n}=s.config,{elements:i}=n,a=yg(r)||j3(n)||i&&yg(i)||C3();if(!t.forceOverride&&a)return;const o=P3(s);r.forEach(o)}};function S3(s,e,t,r,n){const i=n.samples||r;if(i>=t)return s.slice(e,e+t);const a=[],o=(t-2)/(i-2);let l=0;const u=e+t-1;let d=e,m,p,f,g,y;for(a[l++]=s[d],m=0;m<i-2;m++){let v=0,N=0,D;const j=Math.floor((m+1)*o)+1+e,C=Math.min(Math.floor((m+2)*o)+1,t)+e,E=C-j;for(D=j;D<C;D++)v+=s[D].x,N+=s[D].y;v/=E,N/=E;const A=Math.floor(m*o)+1+e,V=Math.min(Math.floor((m+1)*o)+1,t)+e,{x:P,y:_}=s[d];for(f=g=-1,D=A;D<V;D++)g=.5*Math.abs((P-v)*(s[D].y-_)-(P-s[D].x)*(N-_)),g>f&&(f=g,p=s[D],y=D);a[l++]=p,d=y}return a[l++]=s[u],a}function A3(s,e,t,r){let n=0,i=0,a,o,l,u,d,m,p,f,g,y;const v=[],N=e+t-1,D=s[e].x,C=s[N].x-D;for(a=e;a<e+t;++a){o=s[a],l=(o.x-D)/C*r,u=o.y;const E=l|0;if(E===d)u<g?(g=u,m=a):u>y&&(y=u,p=a),n=(i*n+o.x)/++i;else{const A=a-1;if(!zt(m)&&!zt(p)){const V=Math.min(m,p),P=Math.max(m,p);V!==f&&V!==A&&v.push({...s[V],x:n}),P!==f&&P!==A&&v.push({...s[P],x:n})}a>0&&A!==f&&v.push(s[A]),v.push(o),d=E,i=0,g=y=u,m=p=f=a}}return v}function W1(s){if(s._decimated){const e=s._data;delete s._decimated,delete s._data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function xg(s){s.data.datasets.forEach(e=>{W1(e)})}function _3(s,e){const t=e.length;let r=0,n;const{iScale:i}=s,{min:a,max:o,minDefined:l,maxDefined:u}=i.getUserBounds();return l&&(r=ur(Li(e,i.axis,a).lo,0,t-1)),u?n=ur(Li(e,i.axis,o).hi+1,r,t)-r:n=t-r,{start:r,count:n}}var U3={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(s,e,t)=>{if(!t.enabled){xg(s);return}const r=s.width;s.data.datasets.forEach((n,i)=>{const{_data:a,indexAxis:o}=n,l=s.getDatasetMeta(i),u=a||n.data;if(rl([o,s.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const d=s.scales[l.xAxisID];if(d.type!=="linear"&&d.type!=="time"||s.options.parsing)return;let{start:m,count:p}=_3(l,u);const f=t.threshold||4*r;if(p<=f){W1(n);return}zt(a)&&(n._data=u,delete n.data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(y){this._data=y}}));let g;switch(t.algorithm){case"lttb":g=S3(u,m,p,r,t);break;case"min-max":g=A3(u,m,p,r);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}n._decimated=g})},destroy(s){xg(s)}};function V3(s,e,t){const r=s.segments,n=s.points,i=e.points,a=[];for(const o of r){let{start:l,end:u}=o;u=$d(l,u,n);const d=Qf(t,n[l],n[u],o.loop);if(!e.segments){a.push({source:o,target:d,start:n[l],end:n[u]});continue}const m=w1(e,d);for(const p of m){const f=Qf(t,i[p.start],i[p.end],p.loop),g=D1(o,n,f);for(const y of g)a.push({source:y,target:p,start:{[t]:vg(d,f,"start",Math.max)},end:{[t]:vg(d,f,"end",Math.min)}})}}return a}function Qf(s,e,t,r){if(r)return;let n=e[s],i=t[s];return s==="angle"&&(n=Ar(n),i=Ar(i)),{property:s,start:n,end:i}}function L3(s,e){const{x:t=null,y:r=null}=s||{},n=e.points,i=[];return e.segments.forEach(({start:a,end:o})=>{o=$d(a,o,n);const l=n[a],u=n[o];r!==null?(i.push({x:l.x,y:r}),i.push({x:u.x,y:r})):t!==null&&(i.push({x:t,y:l.y}),i.push({x:t,y:u.y}))}),i}function $d(s,e,t){for(;e>s;e--){const r=t[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function vg(s,e,t,r){return s&&e?r(s[t],e[t]):s?s[t]:e?e[t]:0}function H1(s,e){let t=[],r=!1;return Cs(s)?(r=!0,t=s):t=L3(s,e),t.length?new zd({points:t,options:{tension:0},_loop:r,_fullLoop:r}):null}function Ng(s){return s&&s.fill!==!1}function T3(s,e,t){let n=s[e].fill;const i=[e];let a;if(!t)return n;for(;n!==!1&&i.indexOf(n)===-1;){if(!Os(n))return n;if(a=s[n],!a)return!1;if(a.visible)return n;i.push(n),n=a.fill}return!1}function M3(s,e,t){const r=F3(s);if($t(r))return isNaN(r.value)?!1:r;let n=parseFloat(r);return Os(n)&&Math.floor(n)===n?I3(r[0],e,n,t):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function I3(s,e,t,r){return(s==="-"||s==="+")&&(t=e+t),t===e||t<0||t>=r?!1:t}function R3(s,e){let t=null;return s==="start"?t=e.bottom:s==="end"?t=e.top:$t(s)?t=e.getPixelForValue(s.value):e.getBasePixel&&(t=e.getBasePixel()),t}function O3(s,e,t){let r;return s==="start"?r=t:s==="end"?r=e.options.reverse?e.min:e.max:$t(s)?r=s.value:r=e.getBaseValue(),r}function F3(s){const e=s.options,t=e.fill;let r=xt(t&&t.target,t);return r===void 0&&(r=!!e.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function B3(s){const{scale:e,index:t,line:r}=s,n=[],i=r.segments,a=r.points,o=z3(e,t);o.push(H1({x:null,y:e.bottom},r));for(let l=0;l<i.length;l++){const u=i[l];for(let d=u.start;d<=u.end;d++)$3(n,a[d],o)}return new zd({points:n,options:{}})}function z3(s,e){const t=[],r=s.getMatchingVisibleMetas("line");for(let n=0;n<r.length;n++){const i=r[n];if(i.index===e)break;i.hidden||t.unshift(i.dataset)}return t}function $3(s,e,t){const r=[];for(let n=0;n<t.length;n++){const i=t[n],{first:a,last:o,point:l}=W3(i,e,"x");if(!(!l||a&&o)){if(a)r.unshift(l);else if(s.push(l),!o)break}}s.push(...r)}function W3(s,e,t){const r=s.interpolate(e,t);if(!r)return{};const n=r[t],i=s.segments,a=s.points;let o=!1,l=!1;for(let u=0;u<i.length;u++){const d=i[u],m=a[d.start][t],p=a[d.end][t];if(Vi(n,m,p)){o=n===m,l=n===p;break}}return{first:o,last:l,point:r}}class q1{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,r){const{x:n,y:i,radius:a}=this;return t=t||{start:0,end:Ns},e.arc(n,i,a,t.end,t.start,!0),!r.bounds}interpolate(e){const{x:t,y:r,radius:n}=this,i=e.angle;return{x:t+Math.cos(i)*n,y:r+Math.sin(i)*n,angle:i}}}function H3(s){const{chart:e,fill:t,line:r}=s;if(Os(t))return q3(e,t);if(t==="stack")return B3(s);if(t==="shape")return!0;const n=G3(s);return n instanceof q1?n:H1(n,r)}function q3(s,e){const t=s.getDatasetMeta(e);return t&&s.isDatasetVisible(e)?t.dataset:null}function G3(s){return(s.scale||{}).getPointPositionForValue?K3(s):Y3(s)}function Y3(s){const{scale:e={},fill:t}=s,r=R3(t,e);if(Os(r)){const n=e.isHorizontal();return{x:n?r:null,y:n?null:r}}return null}function K3(s){const{scale:e,fill:t}=s,r=e.options,n=e.getLabels().length,i=r.reverse?e.max:e.min,a=O3(t,e,i),o=[];if(r.grid.circular){const l=e.getPointPositionForValue(0,i);return new q1({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(a)})}for(let l=0;l<n;++l)o.push(e.getPointPositionForValue(l,a));return o}function Km(s,e,t){const r=H3(e),{chart:n,index:i,line:a,scale:o,axis:l}=e,u=a.options,d=u.fill,m=u.backgroundColor,{above:p=m,below:f=m}=d||{},g=n.getDatasetMeta(i),y=P1(n,g);r&&a.points.length&&(Rd(s,t),X3(s,{line:a,target:r,above:p,below:f,area:t,scale:o,axis:l,clip:y}),Od(s))}function X3(s,e){const{line:t,target:r,above:n,below:i,area:a,scale:o,clip:l}=e,u=t._loop?"angle":e.axis;s.save();let d=i;i!==n&&(u==="x"?(kg(s,r,a.top),Xm(s,{line:t,target:r,color:n,scale:o,property:u,clip:l}),s.restore(),s.save(),kg(s,r,a.bottom)):u==="y"&&(Dg(s,r,a.left),Xm(s,{line:t,target:r,color:i,scale:o,property:u,clip:l}),s.restore(),s.save(),Dg(s,r,a.right),d=n)),Xm(s,{line:t,target:r,color:d,scale:o,property:u,clip:l}),s.restore()}function kg(s,e,t){const{segments:r,points:n}=e;let i=!0,a=!1;s.beginPath();for(const o of r){const{start:l,end:u}=o,d=n[l],m=n[$d(l,u,n)];i?(s.moveTo(d.x,d.y),i=!1):(s.lineTo(d.x,t),s.lineTo(d.x,d.y)),a=!!e.pathSegment(s,o,{move:a}),a?s.closePath():s.lineTo(m.x,t)}s.lineTo(e.first().x,t),s.closePath(),s.clip()}function Dg(s,e,t){const{segments:r,points:n}=e;let i=!0,a=!1;s.beginPath();for(const o of r){const{start:l,end:u}=o,d=n[l],m=n[$d(l,u,n)];i?(s.moveTo(d.x,d.y),i=!1):(s.lineTo(t,d.y),s.lineTo(d.x,d.y)),a=!!e.pathSegment(s,o,{move:a}),a?s.closePath():s.lineTo(t,m.y)}s.lineTo(t,e.first().y),s.closePath(),s.clip()}function Xm(s,e){const{line:t,target:r,property:n,color:i,scale:a,clip:o}=e,l=V3(t,r,n);for(const{source:u,target:d,start:m,end:p}of l){const{style:{backgroundColor:f=i}={}}=u,g=r!==!0;s.save(),s.fillStyle=f,J3(s,a,o,g&&Qf(n,m,p)),s.beginPath();const y=!!t.pathSegment(s,u);let v;if(g){y?s.closePath():wg(s,r,p,n);const N=!!r.pathSegment(s,d,{move:y,reverse:!0});v=y&&N,v||wg(s,r,m,n)}s.closePath(),s.fill(v?"evenodd":"nonzero"),s.restore()}}function J3(s,e,t,r){const n=e.chart.chartArea,{property:i,start:a,end:o}=r||{};if(i==="x"||i==="y"){let l,u,d,m;i==="x"?(l=a,u=n.top,d=o,m=n.bottom):(l=n.left,u=a,d=n.right,m=o),s.beginPath(),t&&(l=Math.max(l,t.left),d=Math.min(d,t.right),u=Math.max(u,t.top),m=Math.min(m,t.bottom)),s.rect(l,u,d-l,m-u),s.clip()}}function wg(s,e,t,r){const n=e.interpolate(t,r);n&&s.lineTo(n.x,n.y)}var Z3={id:"filler",afterDatasetsUpdate(s,e,t){const r=(s.data.datasets||[]).length,n=[];let i,a,o,l;for(a=0;a<r;++a)i=s.getDatasetMeta(a),o=i.dataset,l=null,o&&o.options&&o instanceof zd&&(l={visible:s.isDatasetVisible(a),index:a,fill:M3(o,a,r),chart:s,axis:i.controller.options.indexAxis,scale:i.vScale,line:o}),i.$filler=l,n.push(l);for(a=0;a<r;++a)l=n[a],!(!l||l.fill===!1)&&(l.fill=T3(n,a,t.propagate))},beforeDraw(s,e,t){const r=t.drawTime==="beforeDraw",n=s.getSortedVisibleDatasetMetas(),i=s.chartArea;for(let a=n.length-1;a>=0;--a){const o=n[a].$filler;o&&(o.line.updateControlPoints(i,o.axis),r&&o.fill&&Km(s.ctx,o,i))}},beforeDatasetsDraw(s,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;const r=s.getSortedVisibleDatasetMetas();for(let n=r.length-1;n>=0;--n){const i=r[n].$filler;Ng(i)&&Km(s.ctx,i,s.chartArea)}},beforeDatasetDraw(s,e,t){const r=e.meta.$filler;!Ng(r)||t.drawTime!=="beforeDatasetDraw"||Km(s.ctx,r,s.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Pg=(s,e)=>{let{boxHeight:t=e,boxWidth:r=e}=s;return s.usePointStyle&&(t=Math.min(t,e),r=s.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:t,itemHeight:Math.max(e,t)}},Q3=(s,e)=>s!==null&&e!==null&&s.datasetIndex===e.datasetIndex&&s.index===e.index;class jg extends Fi{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,r){this.maxWidth=e,this.maxHeight=t,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=yt(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(r=>e.filter(r,this.chart.data))),e.sort&&(t=t.sort((r,n)=>e.sort(r,n,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,n=or(r.font),i=n.size,a=this._computeTitleHeight(),{boxWidth:o,itemHeight:l}=Pg(r,i);let u,d;t.font=n.string,this.isHorizontal()?(u=this.maxWidth,d=this._fitRows(a,i,o,l)+10):(d=this.maxHeight,u=this._fitCols(a,n,o,l)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,t,r,n){const{ctx:i,maxWidth:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],u=this.lineWidths=[0],d=n+o;let m=e;i.textAlign="left",i.textBaseline="middle";let p=-1,f=-d;return this.legendItems.forEach((g,y)=>{const v=r+t/2+i.measureText(g.text).width;(y===0||u[u.length-1]+v+2*o>a)&&(m+=d,u[u.length-(y>0?0:1)]=0,f+=d,p++),l[y]={left:0,top:f,row:p,width:v,height:n},u[u.length-1]+=v+o}),m}_fitCols(e,t,r,n){const{ctx:i,maxHeight:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],u=this.columnSizes=[],d=a-e;let m=o,p=0,f=0,g=0,y=0;return this.legendItems.forEach((v,N)=>{const{itemWidth:D,itemHeight:j}=e4(r,t,i,v,n);N>0&&f+j+2*o>d&&(m+=p+o,u.push({width:p,height:f}),g+=p+o,y++,p=f=0),l[N]={left:g,top:f,col:y,width:D,height:j},p=Math.max(p,D),f+=j+o}),m+=p,u.push({width:p,height:f}),m}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:r,labels:{padding:n},rtl:i}}=this,a=rc(i,this.left,this.width);if(this.isHorizontal()){let o=0,l=Sr(r,this.left+n,this.right-this.lineWidths[o]);for(const u of t)o!==u.row&&(o=u.row,l=Sr(r,this.left+n,this.right-this.lineWidths[o])),u.top+=this.top+e+n,u.left=a.leftForLtr(a.x(l),u.width),l+=u.width+n}else{let o=0,l=Sr(r,this.top+e+n,this.bottom-this.columnSizes[o].height);for(const u of t)u.col!==o&&(o=u.col,l=Sr(r,this.top+e+n,this.bottom-this.columnSizes[o].height)),u.top=l,u.left+=this.left+n,u.left=a.leftForLtr(a.x(u.left),u.width),l+=u.height+n}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Rd(e,this),this._draw(),Od(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:r,ctx:n}=this,{align:i,labels:a}=e,o=Es.color,l=rc(e.rtl,this.left,this.width),u=or(a.font),{padding:d}=a,m=u.size,p=m/2;let f;this.drawTitle(),n.textAlign=l.textAlign("left"),n.textBaseline="middle",n.lineWidth=.5,n.font=u.string;const{boxWidth:g,boxHeight:y,itemHeight:v}=Pg(a,m),N=function(A,V,P){if(isNaN(g)||g<=0||isNaN(y)||y<0)return;n.save();const _=xt(P.lineWidth,1);if(n.fillStyle=xt(P.fillStyle,o),n.lineCap=xt(P.lineCap,"butt"),n.lineDashOffset=xt(P.lineDashOffset,0),n.lineJoin=xt(P.lineJoin,"miter"),n.lineWidth=_,n.strokeStyle=xt(P.strokeStyle,o),n.setLineDash(xt(P.lineDash,[])),a.usePointStyle){const O={radius:y*Math.SQRT2/2,pointStyle:P.pointStyle,rotation:P.rotation,borderWidth:_},S=l.xPlus(A,g/2),L=V+p;m1(n,O,S,L,a.pointStyleWidth&&g)}else{const O=V+Math.max((m-y)/2,0),S=l.leftForLtr(A,g),L=lo(P.borderRadius);n.beginPath(),Object.values(L).some(B=>B!==0)?Al(n,{x:S,y:O,w:g,h:y,radius:L}):n.rect(S,O,g,y),n.fill(),_!==0&&n.stroke()}n.restore()},D=function(A,V,P){ko(n,P.text,A,V+v/2,u,{strikethrough:P.hidden,textAlign:l.textAlign(P.textAlign)})},j=this.isHorizontal(),C=this._computeTitleHeight();j?f={x:Sr(i,this.left+d,this.right-r[0]),y:this.top+d+C,line:0}:f={x:this.left+d,y:Sr(i,this.top+C+d,this.bottom-t[0].height),line:0},v1(this.ctx,e.textDirection);const E=v+d;this.legendItems.forEach((A,V)=>{n.strokeStyle=A.fontColor,n.fillStyle=A.fontColor;const P=n.measureText(A.text).width,_=l.textAlign(A.textAlign||(A.textAlign=a.textAlign)),O=g+p+P;let S=f.x,L=f.y;l.setWidth(this.width),j?V>0&&S+O+d>this.right&&(L=f.y+=E,f.line++,S=f.x=Sr(i,this.left+d,this.right-r[f.line])):V>0&&L+E>this.bottom&&(S=f.x=S+t[f.line].width+d,f.line++,L=f.y=Sr(i,this.top+C+d,this.bottom-t[f.line].height));const B=l.x(S);if(N(B,L,A),S=uj(_,S+g+p,j?S+O:this.right,e.rtl),D(l.x(S),L,A),j)f.x+=O+d;else if(typeof A.text!="string"){const $=u.lineHeight;f.y+=G1(A,$)+d}else f.y+=E}),N1(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,r=or(t.font),n=Vr(t.padding);if(!t.display)return;const i=rc(e.rtl,this.left,this.width),a=this.ctx,o=t.position,l=r.size/2,u=n.top+l;let d,m=this.left,p=this.width;if(this.isHorizontal())p=Math.max(...this.lineWidths),d=this.top+u,m=Sr(e.align,m,this.right-p);else{const g=this.columnSizes.reduce((y,v)=>Math.max(y,v.height),0);d=u+Sr(e.align,this.top,this.bottom-g-e.labels.padding-this._computeTitleHeight())}const f=Sr(o,m,m+p);a.textAlign=i.textAlign(Wh(o)),a.textBaseline="middle",a.strokeStyle=t.color,a.fillStyle=t.color,a.font=r.string,ko(a,t.text,f,d,r)}_computeTitleHeight(){const e=this.options.title,t=or(e.font),r=Vr(e.padding);return e.display?t.lineHeight+r.height:0}_getLegendItemAt(e,t){let r,n,i;if(Vi(e,this.left,this.right)&&Vi(t,this.top,this.bottom)){for(i=this.legendHitBoxes,r=0;r<i.length;++r)if(n=i[r],Vi(e,n.left,n.left+n.width)&&Vi(t,n.top,n.top+n.height))return this.legendItems[r]}return null}handleEvent(e){const t=this.options;if(!r4(e.type,t))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const n=this._hoveredItem,i=Q3(n,r);n&&!i&&yt(t.onLeave,[e,n,this],this),this._hoveredItem=r,r&&!i&&yt(t.onHover,[e,r,this],this)}else r&&yt(t.onClick,[e,r,this],this)}}function e4(s,e,t,r,n){const i=t4(r,s,e,t),a=s4(n,r,e.lineHeight);return{itemWidth:i,itemHeight:a}}function t4(s,e,t,r){let n=s.text;return n&&typeof n!="string"&&(n=n.reduce((i,a)=>i.length>a.length?i:a)),e+t.size/2+r.measureText(n).width}function s4(s,e,t){let r=s;return typeof e.text!="string"&&(r=G1(e,t)),r}function G1(s,e){const t=s.text?s.text.length:0;return e*t}function r4(s,e){return!!((s==="mousemove"||s==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(s==="click"||s==="mouseup"))}var n4={id:"legend",_element:jg,start(s,e,t){const r=s.legend=new jg({ctx:s.ctx,options:t,chart:s});_r.configure(s,r,t),_r.addBox(s,r)},stop(s){_r.removeBox(s,s.legend),delete s.legend},beforeUpdate(s,e,t){const r=s.legend;_r.configure(s,r,t),r.options=t},afterUpdate(s){const e=s.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(s,e){e.replay||s.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(s,e,t){const r=e.datasetIndex,n=t.chart;n.isDatasetVisible(r)?(n.hide(r),e.hidden=!0):(n.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:s=>s.chart.options.color,boxWidth:40,padding:10,generateLabels(s){const e=s.data.datasets,{labels:{usePointStyle:t,pointStyle:r,textAlign:n,color:i,useBorderRadius:a,borderRadius:o}}=s.legend.options;return s._getSortedDatasetMetas().map(l=>{const u=l.controller.getStyle(t?0:void 0),d=Vr(u.borderWidth);return{text:e[l.index].label,fillStyle:u.backgroundColor,fontColor:i,hidden:!l.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:u.borderColor,pointStyle:r||u.pointStyle,rotation:u.rotation,textAlign:n||u.textAlign,borderRadius:a&&(o||u.borderRadius),datasetIndex:l.index}},this)}},title:{color:s=>s.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:s=>!s.startsWith("on"),labels:{_scriptable:s=>!["generateLabels","filter","sort"].includes(s)}}};class ep extends Fi{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const n=Cs(r.text)?r.text.length:1;this._padding=Vr(r.padding);const i=n*or(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:r,bottom:n,right:i,options:a}=this,o=a.align;let l=0,u,d,m;return this.isHorizontal()?(d=Sr(o,r,i),m=t+e,u=i-r):(a.position==="left"?(d=r+e,m=Sr(o,n,t),l=Qt*-.5):(d=i-e,m=Sr(o,t,n),l=Qt*.5),u=n-t),{titleX:d,titleY:m,maxWidth:u,rotation:l}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const r=or(t.font),i=r.lineHeight/2+this._padding.top,{titleX:a,titleY:o,maxWidth:l,rotation:u}=this._drawArgs(i);ko(e,t.text,0,0,r,{color:t.color,maxWidth:l,rotation:u,textAlign:Wh(t.align),textBaseline:"middle",translation:[a,o]})}}function i4(s,e){const t=new ep({ctx:s.ctx,options:e,chart:s});_r.configure(s,t,e),_r.addBox(s,t),s.titleBlock=t}var a4={id:"title",_element:ep,start(s,e,t){i4(s,t)},stop(s){const e=s.titleBlock;_r.removeBox(s,e),delete s.titleBlock},beforeUpdate(s,e,t){const r=s.titleBlock;_r.configure(s,r,t),r.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Vu=new WeakMap;var o4={id:"subtitle",start(s,e,t){const r=new ep({ctx:s.ctx,options:t,chart:s});_r.configure(s,r,t),_r.addBox(s,r),Vu.set(s,r)},stop(s){_r.removeBox(s,Vu.get(s)),Vu.delete(s)},beforeUpdate(s,e,t){const r=Vu.get(s);_r.configure(s,r,t),r.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const il={average(s){if(!s.length)return!1;let e,t,r=new Set,n=0,i=0;for(e=0,t=s.length;e<t;++e){const o=s[e].element;if(o&&o.hasValue()){const l=o.tooltipPosition();r.add(l.x),n+=l.y,++i}}return i===0||r.size===0?!1:{x:[...r].reduce((o,l)=>o+l)/r.size,y:n/i}},nearest(s,e){if(!s.length)return!1;let t=e.x,r=e.y,n=Number.POSITIVE_INFINITY,i,a,o;for(i=0,a=s.length;i<a;++i){const l=s[i].element;if(l&&l.hasValue()){const u=l.getCenterPoint(),d=qf(e,u);d<n&&(n=d,o=l)}}if(o){const l=o.tooltipPosition();t=l.x,r=l.y}return{x:t,y:r}}};function Xn(s,e){return e&&(Cs(e)?Array.prototype.push.apply(s,e):s.push(e)),s}function Ei(s){return(typeof s=="string"||s instanceof String)&&s.indexOf(`
`)>-1?s.split(`
`):s}function c4(s,e){const{element:t,datasetIndex:r,index:n}=e,i=s.getDatasetMeta(r).controller,{label:a,value:o}=i.getLabelAndValue(n);return{chart:s,label:a,parsed:i.getParsed(n),raw:s.data.datasets[r].data[n],formattedValue:o,dataset:i.getDataset(),dataIndex:n,datasetIndex:r,element:t}}function Cg(s,e){const t=s.chart.ctx,{body:r,footer:n,title:i}=s,{boxWidth:a,boxHeight:o}=e,l=or(e.bodyFont),u=or(e.titleFont),d=or(e.footerFont),m=i.length,p=n.length,f=r.length,g=Vr(e.padding);let y=g.height,v=0,N=r.reduce((C,E)=>C+E.before.length+E.lines.length+E.after.length,0);if(N+=s.beforeBody.length+s.afterBody.length,m&&(y+=m*u.lineHeight+(m-1)*e.titleSpacing+e.titleMarginBottom),N){const C=e.displayColors?Math.max(o,l.lineHeight):l.lineHeight;y+=f*C+(N-f)*l.lineHeight+(N-1)*e.bodySpacing}p&&(y+=e.footerMarginTop+p*d.lineHeight+(p-1)*e.footerSpacing);let D=0;const j=function(C){v=Math.max(v,t.measureText(C).width+D)};return t.save(),t.font=u.string,Bt(s.title,j),t.font=l.string,Bt(s.beforeBody.concat(s.afterBody),j),D=e.displayColors?a+2+e.boxPadding:0,Bt(r,C=>{Bt(C.before,j),Bt(C.lines,j),Bt(C.after,j)}),D=0,t.font=d.string,Bt(s.footer,j),t.restore(),v+=g.width,{width:v,height:y}}function l4(s,e){const{y:t,height:r}=e;return t<r/2?"top":t>s.height-r/2?"bottom":"center"}function u4(s,e,t,r){const{x:n,width:i}=r,a=t.caretSize+t.caretPadding;if(s==="left"&&n+i+a>e.width||s==="right"&&n-i-a<0)return!0}function d4(s,e,t,r){const{x:n,width:i}=t,{width:a,chartArea:{left:o,right:l}}=s;let u="center";return r==="center"?u=n<=(o+l)/2?"left":"right":n<=i/2?u="left":n>=a-i/2&&(u="right"),u4(u,s,e,t)&&(u="center"),u}function Eg(s,e,t){const r=t.yAlign||e.yAlign||l4(s,t);return{xAlign:t.xAlign||e.xAlign||d4(s,e,t,r),yAlign:r}}function m4(s,e){let{x:t,width:r}=s;return e==="right"?t-=r:e==="center"&&(t-=r/2),t}function f4(s,e,t){let{y:r,height:n}=s;return e==="top"?r+=t:e==="bottom"?r-=n+t:r-=n/2,r}function Sg(s,e,t,r){const{caretSize:n,caretPadding:i,cornerRadius:a}=s,{xAlign:o,yAlign:l}=t,u=n+i,{topLeft:d,topRight:m,bottomLeft:p,bottomRight:f}=lo(a);let g=m4(e,o);const y=f4(e,l,u);return l==="center"?o==="left"?g+=u:o==="right"&&(g-=u):o==="left"?g-=Math.max(d,p)+n:o==="right"&&(g+=Math.max(m,f)+n),{x:ur(g,0,r.width-e.width),y:ur(y,0,r.height-e.height)}}function Lu(s,e,t){const r=Vr(t.padding);return e==="center"?s.x+s.width/2:e==="right"?s.x+s.width-r.right:s.x+r.left}function Ag(s){return Xn([],Ei(s))}function h4(s,e,t){return Ca(s,{tooltip:e,tooltipItems:t,type:"tooltip"})}function _g(s,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?s.override(t):s}const Y1={beforeTitle:ki,title(s){if(s.length>0){const e=s[0],t=e.chart.data.labels,r=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return t[e.dataIndex]}return""},afterTitle:ki,beforeBody:ki,beforeLabel:ki,label(s){if(this&&this.options&&this.options.mode==="dataset")return s.label+": "+s.formattedValue||s.formattedValue;let e=s.dataset.label||"";e&&(e+=": ");const t=s.formattedValue;return zt(t)||(e+=t),e},labelColor(s){const t=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(s){const t=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:ki,afterBody:ki,beforeFooter:ki,footer:ki,afterFooter:ki};function Kr(s,e,t,r){const n=s[e].call(t,r);return typeof n>"u"?Y1[e].call(t,r):n}class Ug extends Fi{static positioners=il;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,r=this.options.setContext(this.getContext()),n=r.enabled&&t.options.animation&&r.animations,i=new j1(this.chart,n);return n._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=h4(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:r}=t,n=Kr(r,"beforeTitle",this,e),i=Kr(r,"title",this,e),a=Kr(r,"afterTitle",this,e);let o=[];return o=Xn(o,Ei(n)),o=Xn(o,Ei(i)),o=Xn(o,Ei(a)),o}getBeforeBody(e,t){return Ag(Kr(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:r}=t,n=[];return Bt(e,i=>{const a={before:[],lines:[],after:[]},o=_g(r,i);Xn(a.before,Ei(Kr(o,"beforeLabel",this,i))),Xn(a.lines,Kr(o,"label",this,i)),Xn(a.after,Ei(Kr(o,"afterLabel",this,i))),n.push(a)}),n}getAfterBody(e,t){return Ag(Kr(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:r}=t,n=Kr(r,"beforeFooter",this,e),i=Kr(r,"footer",this,e),a=Kr(r,"afterFooter",this,e);let o=[];return o=Xn(o,Ei(n)),o=Xn(o,Ei(i)),o=Xn(o,Ei(a)),o}_createItems(e){const t=this._active,r=this.chart.data,n=[],i=[],a=[];let o=[],l,u;for(l=0,u=t.length;l<u;++l)o.push(c4(this.chart,t[l]));return e.filter&&(o=o.filter((d,m,p)=>e.filter(d,m,p,r))),e.itemSort&&(o=o.sort((d,m)=>e.itemSort(d,m,r))),Bt(o,d=>{const m=_g(e.callbacks,d);n.push(Kr(m,"labelColor",this,d)),i.push(Kr(m,"labelPointStyle",this,d)),a.push(Kr(m,"labelTextColor",this,d))}),this.labelColors=n,this.labelPointStyles=i,this.labelTextColors=a,this.dataPoints=o,o}update(e,t){const r=this.options.setContext(this.getContext()),n=this._active;let i,a=[];if(!n.length)this.opacity!==0&&(i={opacity:0});else{const o=il[r.position].call(this,n,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);const l=this._size=Cg(this,r),u=Object.assign({},o,l),d=Eg(this.chart,r,u),m=Sg(r,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,i={opacity:1,x:m.x,y:m.y,width:l.width,height:l.height,caretX:o.x,caretY:o.y}}this._tooltipItems=a,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,r,n){const i=this.getCaretPosition(e,r,n);t.lineTo(i.x1,i.y1),t.lineTo(i.x2,i.y2),t.lineTo(i.x3,i.y3)}getCaretPosition(e,t,r){const{xAlign:n,yAlign:i}=this,{caretSize:a,cornerRadius:o}=r,{topLeft:l,topRight:u,bottomLeft:d,bottomRight:m}=lo(o),{x:p,y:f}=e,{width:g,height:y}=t;let v,N,D,j,C,E;return i==="center"?(C=f+y/2,n==="left"?(v=p,N=v-a,j=C+a,E=C-a):(v=p+g,N=v+a,j=C-a,E=C+a),D=v):(n==="left"?N=p+Math.max(l,d)+a:n==="right"?N=p+g-Math.max(u,m)-a:N=this.caretX,i==="top"?(j=f,C=j-a,v=N-a,D=N+a):(j=f+y,C=j+a,v=N+a,D=N-a),E=j),{x1:v,x2:N,x3:D,y1:j,y2:C,y3:E}}drawTitle(e,t,r){const n=this.title,i=n.length;let a,o,l;if(i){const u=rc(r.rtl,this.x,this.width);for(e.x=Lu(this,r.titleAlign,r),t.textAlign=u.textAlign(r.titleAlign),t.textBaseline="middle",a=or(r.titleFont),o=r.titleSpacing,t.fillStyle=r.titleColor,t.font=a.string,l=0;l<i;++l)t.fillText(n[l],u.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+o,l+1===i&&(e.y+=r.titleMarginBottom-o)}}_drawColorBox(e,t,r,n,i){const a=this.labelColors[r],o=this.labelPointStyles[r],{boxHeight:l,boxWidth:u}=i,d=or(i.bodyFont),m=Lu(this,"left",i),p=n.x(m),f=l<d.lineHeight?(d.lineHeight-l)/2:0,g=t.y+f;if(i.usePointStyle){const y={radius:Math.min(u,l)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},v=n.leftForLtr(p,u)+u/2,N=g+l/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,Yf(e,y,v,N),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,Yf(e,y,v,N)}else{e.lineWidth=$t(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const y=n.leftForLtr(p,u),v=n.leftForLtr(n.xPlus(p,1),u-2),N=lo(a.borderRadius);Object.values(N).some(D=>D!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,Al(e,{x:y,y:g,w:u,h:l,radius:N}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),Al(e,{x:v,y:g+1,w:u-2,h:l-2,radius:N}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(y,g,u,l),e.strokeRect(y,g,u,l),e.fillStyle=a.backgroundColor,e.fillRect(v,g+1,u-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,t,r){const{body:n}=this,{bodySpacing:i,bodyAlign:a,displayColors:o,boxHeight:l,boxWidth:u,boxPadding:d}=r,m=or(r.bodyFont);let p=m.lineHeight,f=0;const g=rc(r.rtl,this.x,this.width),y=function(P){t.fillText(P,g.x(e.x+f),e.y+p/2),e.y+=p+i},v=g.textAlign(a);let N,D,j,C,E,A,V;for(t.textAlign=a,t.textBaseline="middle",t.font=m.string,e.x=Lu(this,v,r),t.fillStyle=r.bodyColor,Bt(this.beforeBody,y),f=o&&v!=="right"?a==="center"?u/2+d:u+2+d:0,C=0,A=n.length;C<A;++C){for(N=n[C],D=this.labelTextColors[C],t.fillStyle=D,Bt(N.before,y),j=N.lines,o&&j.length&&(this._drawColorBox(t,e,C,g,r),p=Math.max(m.lineHeight,l)),E=0,V=j.length;E<V;++E)y(j[E]),p=m.lineHeight;Bt(N.after,y)}f=0,p=m.lineHeight,Bt(this.afterBody,y),e.y-=i}drawFooter(e,t,r){const n=this.footer,i=n.length;let a,o;if(i){const l=rc(r.rtl,this.x,this.width);for(e.x=Lu(this,r.footerAlign,r),e.y+=r.footerMarginTop,t.textAlign=l.textAlign(r.footerAlign),t.textBaseline="middle",a=or(r.footerFont),t.fillStyle=r.footerColor,t.font=a.string,o=0;o<i;++o)t.fillText(n[o],l.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+r.footerSpacing}}drawBackground(e,t,r,n){const{xAlign:i,yAlign:a}=this,{x:o,y:l}=e,{width:u,height:d}=r,{topLeft:m,topRight:p,bottomLeft:f,bottomRight:g}=lo(n.cornerRadius);t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.beginPath(),t.moveTo(o+m,l),a==="top"&&this.drawCaret(e,t,r,n),t.lineTo(o+u-p,l),t.quadraticCurveTo(o+u,l,o+u,l+p),a==="center"&&i==="right"&&this.drawCaret(e,t,r,n),t.lineTo(o+u,l+d-g),t.quadraticCurveTo(o+u,l+d,o+u-g,l+d),a==="bottom"&&this.drawCaret(e,t,r,n),t.lineTo(o+f,l+d),t.quadraticCurveTo(o,l+d,o,l+d-f),a==="center"&&i==="left"&&this.drawCaret(e,t,r,n),t.lineTo(o,l+m),t.quadraticCurveTo(o,l,o+m,l),t.closePath(),t.fill(),n.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,r=this.$animations,n=r&&r.x,i=r&&r.y;if(n||i){const a=il[e.position].call(this,this._active,this._eventPosition);if(!a)return;const o=this._size=Cg(this,e),l=Object.assign({},a,this._size),u=Eg(t,e,l),d=Sg(e,l,u,t);(n._to!==d.x||i._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=o.width,this.height=o.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(t);const n={width:this.width,height:this.height},i={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const a=Vr(t.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&o&&(e.save(),e.globalAlpha=r,this.drawBackground(i,e,n,t),v1(e,t.textDirection),i.y+=a.top,this.drawTitle(i,e,t),this.drawBody(i,e,t),this.drawFooter(i,e,t),N1(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const r=this._active,n=e.map(({datasetIndex:o,index:l})=>{const u=this.chart.getDatasetMeta(o);if(!u)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:u.data[l],index:l}}),i=!gd(r,n),a=this._positionChanged(n,t);(i||a)&&(this._active=n,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,r=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const n=this.options,i=this._active||[],a=this._getActiveElements(e,i,t,r),o=this._positionChanged(a,e),l=t||!gd(a,i)||o;return l&&(this._active=a,(n.enabled||n.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),l}_getActiveElements(e,t,r,n){const i=this.options;if(e.type==="mouseout")return[];if(!n)return t.filter(o=>this.chart.data.datasets[o.datasetIndex]&&this.chart.getDatasetMeta(o.datasetIndex).controller.getParsed(o.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,i.mode,i,r);return i.reverse&&a.reverse(),a}_positionChanged(e,t){const{caretX:r,caretY:n,options:i}=this,a=il[i.position].call(this,e,t);return a!==!1&&(r!==a.x||n!==a.y)}}var p4={id:"tooltip",_element:Ug,positioners:il,afterInit(s,e,t){t&&(s.tooltip=new Ug({chart:s,options:t}))},beforeUpdate(s,e,t){s.tooltip&&s.tooltip.initialize(t)},reset(s,e,t){s.tooltip&&s.tooltip.initialize(t)},afterDraw(s){const e=s.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(s.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(s.ctx),s.notifyPlugins("afterTooltipDraw",t)}},afterEvent(s,e){if(s.tooltip){const t=e.replay;s.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(s,e)=>e.bodyFont.size,boxWidth:(s,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Y1},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:s=>s!=="filter"&&s!=="itemSort"&&s!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},g4=Object.freeze({__proto__:null,Colors:E3,Decimation:U3,Filler:Z3,Legend:n4,SubTitle:o4,Title:a4,Tooltip:p4});const b4=(s,e,t,r)=>(typeof e=="string"?(t=s.push(e)-1,r.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function y4(s,e,t,r){const n=s.indexOf(e);if(n===-1)return b4(s,e,t,r);const i=s.lastIndexOf(e);return n!==i?t:n}const x4=(s,e)=>s===null?null:ur(Math.round(s),0,e);function Vg(s){const e=this.getLabels();return s>=0&&s<e.length?e[s]:s}class v4 extends jo{static id="category";static defaults={ticks:{callback:Vg}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const r=this.getLabels();for(const{index:n,label:i}of t)r[n]===i&&r.splice(n,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(zt(e))return null;const r=this.getLabels();return t=isFinite(t)&&r[t]===e?t:y4(r,e,xt(t,e),this._addedLabels),x4(t,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:r,max:n}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),t||(n=this.getLabels().length-1)),this.min=r,this.max=n}buildTicks(){const e=this.min,t=this.max,r=this.options.offset,n=[];let i=this.getLabels();i=e===0&&t===i.length-1?i:i.slice(e,t+1),this._valueRange=Math.max(i.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=e;a<=t;a++)n.push({value:a});return n}getLabelForValue(e){return Vg.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function N4(s,e){const t=[],{bounds:n,step:i,min:a,max:o,precision:l,count:u,maxTicks:d,maxDigits:m,includeBounds:p}=s,f=i||1,g=d-1,{min:y,max:v}=e,N=!zt(a),D=!zt(o),j=!zt(u),C=(v-y)/(m+1);let E=C0((v-y)/g/f)*f,A,V,P,_;if(E<1e-14&&!N&&!D)return[{value:y},{value:v}];_=Math.ceil(v/E)-Math.floor(y/E),_>g&&(E=C0(_*E/g/f)*f),zt(l)||(A=Math.pow(10,l),E=Math.ceil(E*A)/A),n==="ticks"?(V=Math.floor(y/E)*E,P=Math.ceil(v/E)*E):(V=y,P=v),N&&D&&i&&rj((o-a)/i,E/1e3)?(_=Math.round(Math.min((o-a)/E,d)),E=(o-a)/_,V=a,P=o):j?(V=N?a:V,P=D?o:P,_=u-1,E=(P-V)/_):(_=(P-V)/E,co(_,Math.round(_),E/1e3)?_=Math.round(_):_=Math.ceil(_));const O=Math.max(E0(E),E0(V));A=Math.pow(10,zt(l)?O:l),V=Math.round(V*A)/A,P=Math.round(P*A)/A;let S=0;for(N&&(p&&V!==a?(t.push({value:a}),V<a&&S++,co(Math.round((V+S*E)*A)/A,a,Lg(a,C,s))&&S++):V<a&&S++);S<_;++S){const L=Math.round((V+S*E)*A)/A;if(D&&L>o)break;t.push({value:L})}return D&&p&&P!==o?t.length&&co(t[t.length-1].value,o,Lg(o,C,s))?t[t.length-1].value=o:t.push({value:o}):(!D||P===o)&&t.push({value:P}),t}function Lg(s,e,{horizontal:t,minRotation:r}){const n=Tn(r),i=(t?Math.sin(n):Math.cos(n))||.001,a=.75*e*(""+s).length;return Math.min(e/i,a)}class Dd extends jo{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return zt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:r}=this.getUserBounds();let{min:n,max:i}=this;const a=l=>n=t?n:l,o=l=>i=r?i:l;if(e){const l=wn(n),u=wn(i);l<0&&u<0?o(0):l>0&&u>0&&a(0)}if(n===i){let l=i===0?1:Math.abs(i*.05);o(i+l),e||a(n-l)}this.min=n,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:r}=e,n;return r?(n=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,n>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${n} ticks. Limiting to 1000.`),n=1e3)):(n=this.computeTickLimit(),t=t||11),t&&(n=Math.min(t,n)),n}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const n={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},i=this._range||this,a=N4(n,i);return e.bounds==="ticks"&&r1(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let t=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const n=(r-t)/Math.max(e.length-1,1)/2;t-=n,r+=n}this._startValue=t,this._endValue=r,this._valueRange=r-t}getLabelForValue(e){return $l(e,this.chart.options.locale,this.options.ticks.format)}}class k4 extends Dd{static id="linear";static defaults={ticks:{callback:Id.formatters.numeric}};determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Os(e)?e:0,this.max=Os(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,r=Tn(this.options.ticks.minRotation),n=(e?Math.sin(r):Math.cos(r))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,i.lineHeight/n))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const Ul=s=>Math.floor(ma(s)),Qa=(s,e)=>Math.pow(10,Ul(s)+e);function Tg(s){return s/Math.pow(10,Ul(s))===1}function Mg(s,e,t){const r=Math.pow(10,t),n=Math.floor(s/r);return Math.ceil(e/r)-n}function D4(s,e){const t=e-s;let r=Ul(t);for(;Mg(s,e,r)>10;)r++;for(;Mg(s,e,r)<10;)r--;return Math.min(r,Ul(s))}function w4(s,{min:e,max:t}){e=fn(s.min,e);const r=[],n=Ul(e);let i=D4(e,t),a=i<0?Math.pow(10,Math.abs(i)):1;const o=Math.pow(10,i),l=n>i?Math.pow(10,n):0,u=Math.round((e-l)*a)/a,d=Math.floor((e-l)/o/10)*o*10;let m=Math.floor((u-d)/Math.pow(10,i)),p=fn(s.min,Math.round((l+d+m*Math.pow(10,i))*a)/a);for(;p<t;)r.push({value:p,major:Tg(p),significand:m}),m>=10?m=m<15?15:20:m++,m>=20&&(i++,m=2,a=i>=0?1:a),p=Math.round((l+d+m*Math.pow(10,i))*a)/a;const f=fn(s.max,p);return r.push({value:f,major:Tg(f),significand:m}),r}class P4 extends jo{static id="logarithmic";static defaults={ticks:{callback:Id.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const r=Dd.prototype.parse.apply(this,[e,t]);if(r===0){this._zero=!0;return}return Os(r)&&r>0?r:null}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Os(e)?Math.max(0,e):null,this.max=Os(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Os(this._userMin)&&(this.min=e===Qa(this.min,0)?Qa(this.min,-1):Qa(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let r=this.min,n=this.max;const i=o=>r=e?r:o,a=o=>n=t?n:o;r===n&&(r<=0?(i(1),a(10)):(i(Qa(r,-1)),a(Qa(n,1)))),r<=0&&i(Qa(n,-1)),n<=0&&a(Qa(r,1)),this.min=r,this.max=n}buildTicks(){const e=this.options,t={min:this._userMin,max:this._userMax},r=w4(t,this);return e.bounds==="ticks"&&r1(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(e){return e===void 0?"0":$l(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=ma(e),this._valueRange=ma(this.max)-ma(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(ma(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function eh(s){const e=s.ticks;if(e.display&&s.display){const t=Vr(e.backdropPadding);return xt(e.font&&e.font.size,Es.font.size)+t.height}return 0}function j4(s,e,t){return t=Cs(t)?t:[t],{w:vj(s,e.string,t),h:t.length*e.lineHeight}}function Ig(s,e,t,r,n){return s===r||s===n?{start:e-t/2,end:e+t/2}:s<r||s>n?{start:e-t,end:e}:{start:e,end:e+t}}function C4(s){const e={l:s.left+s._padding.left,r:s.right-s._padding.right,t:s.top+s._padding.top,b:s.bottom-s._padding.bottom},t=Object.assign({},e),r=[],n=[],i=s._pointLabels.length,a=s.options.pointLabels,o=a.centerPointLabels?Qt/i:0;for(let l=0;l<i;l++){const u=a.setContext(s.getPointLabelContext(l));n[l]=u.padding;const d=s.getPointPosition(l,s.drawingArea+n[l],o),m=or(u.font),p=j4(s.ctx,m,s._pointLabels[l]);r[l]=p;const f=Ar(s.getIndexAngle(l)+o),g=Math.round(zh(f)),y=Ig(g,d.x,p.w,0,180),v=Ig(g,d.y,p.h,90,270);E4(t,e,f,y,v)}s.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),s._pointLabelItems=_4(s,r,n)}function E4(s,e,t,r,n){const i=Math.abs(Math.sin(t)),a=Math.abs(Math.cos(t));let o=0,l=0;r.start<e.l?(o=(e.l-r.start)/i,s.l=Math.min(s.l,e.l-o)):r.end>e.r&&(o=(r.end-e.r)/i,s.r=Math.max(s.r,e.r+o)),n.start<e.t?(l=(e.t-n.start)/a,s.t=Math.min(s.t,e.t-l)):n.end>e.b&&(l=(n.end-e.b)/a,s.b=Math.max(s.b,e.b+l))}function S4(s,e,t){const r=s.drawingArea,{extra:n,additionalAngle:i,padding:a,size:o}=t,l=s.getPointPosition(e,r+n+a,i),u=Math.round(zh(Ar(l.angle+Xs))),d=L4(l.y,o.h,u),m=U4(u),p=V4(l.x,o.w,m);return{visible:!0,x:l.x,y:d,textAlign:m,left:p,top:d,right:p+o.w,bottom:d+o.h}}function A4(s,e){if(!e)return!0;const{left:t,top:r,right:n,bottom:i}=s;return!(ei({x:t,y:r},e)||ei({x:t,y:i},e)||ei({x:n,y:r},e)||ei({x:n,y:i},e))}function _4(s,e,t){const r=[],n=s._pointLabels.length,i=s.options,{centerPointLabels:a,display:o}=i.pointLabels,l={extra:eh(i)/2,additionalAngle:a?Qt/n:0};let u;for(let d=0;d<n;d++){l.padding=t[d],l.size=e[d];const m=S4(s,d,l);r.push(m),o==="auto"&&(m.visible=A4(m,u),m.visible&&(u=m))}return r}function U4(s){return s===0||s===180?"center":s<180?"left":"right"}function V4(s,e,t){return t==="right"?s-=e:t==="center"&&(s-=e/2),s}function L4(s,e,t){return t===90||t===270?s-=e/2:(t>270||t<90)&&(s-=e),s}function T4(s,e,t){const{left:r,top:n,right:i,bottom:a}=t,{backdropColor:o}=e;if(!zt(o)){const l=lo(e.borderRadius),u=Vr(e.backdropPadding);s.fillStyle=o;const d=r-u.left,m=n-u.top,p=i-r+u.width,f=a-n+u.height;Object.values(l).some(g=>g!==0)?(s.beginPath(),Al(s,{x:d,y:m,w:p,h:f,radius:l}),s.fill()):s.fillRect(d,m,p,f)}}function M4(s,e){const{ctx:t,options:{pointLabels:r}}=s;for(let n=e-1;n>=0;n--){const i=s._pointLabelItems[n];if(!i.visible)continue;const a=r.setContext(s.getPointLabelContext(n));T4(t,a,i);const o=or(a.font),{x:l,y:u,textAlign:d}=i;ko(t,s._pointLabels[n],l,u+o.lineHeight/2,o,{color:a.color,textAlign:d,textBaseline:"middle"})}}function K1(s,e,t,r){const{ctx:n}=s;if(t)n.arc(s.xCenter,s.yCenter,e,0,Ns);else{let i=s.getPointPosition(0,e);n.moveTo(i.x,i.y);for(let a=1;a<r;a++)i=s.getPointPosition(a,e),n.lineTo(i.x,i.y)}}function I4(s,e,t,r,n){const i=s.ctx,a=e.circular,{color:o,lineWidth:l}=e;!a&&!r||!o||!l||t<0||(i.save(),i.strokeStyle=o,i.lineWidth=l,i.setLineDash(n.dash||[]),i.lineDashOffset=n.dashOffset,i.beginPath(),K1(s,t,a,r),i.closePath(),i.stroke(),i.restore())}function R4(s,e,t){return Ca(s,{label:t,index:e,type:"pointLabel"})}class O4 extends Dd{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Id.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Vr(eh(this.options)/2),t=this.width=this.maxWidth-e.width,r=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+r/2+e.top),this.drawingArea=Math.floor(Math.min(t,r)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=Os(e)&&!isNaN(e)?e:0,this.max=Os(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/eh(this.options))}generateTickLabels(e){Dd.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,r)=>{const n=yt(this.options.pointLabels.callback,[t,r],this);return n||n===0?n:""}).filter((t,r)=>this.chart.getDataVisibility(r))}fit(){const e=this.options;e.display&&e.pointLabels.display?C4(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,r,n){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((r-n)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,r,n))}getIndexAngle(e){const t=Ns/(this._pointLabels.length||1),r=this.options.startAngle||0;return Ar(e*t+Tn(r))}getDistanceFromCenterForValue(e){if(zt(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(zt(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const r=t[e];return R4(this.getContext(),e,r)}}getPointPosition(e,t,r=0){const n=this.getIndexAngle(e)-Xs+r;return{x:Math.cos(n)*t+this.xCenter,y:Math.sin(n)*t+this.yCenter,angle:n}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:r,right:n,bottom:i}=this._pointLabelItems[e];return{left:t,top:r,right:n,bottom:i}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const r=this.ctx;r.save(),r.beginPath(),K1(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),r.closePath(),r.fillStyle=e,r.fill(),r.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:r,grid:n,border:i}=t,a=this._pointLabels.length;let o,l,u;if(t.pointLabels.display&&M4(this,a),n.display&&this.ticks.forEach((d,m)=>{if(m!==0||m===0&&this.min<0){l=this.getDistanceFromCenterForValue(d.value);const p=this.getContext(m),f=n.setContext(p),g=i.setContext(p);I4(this,f,l,a,g)}}),r.display){for(e.save(),o=a-1;o>=0;o--){const d=r.setContext(this.getPointLabelContext(o)),{color:m,lineWidth:p}=d;!p||!m||(e.lineWidth=p,e.strokeStyle=m,e.setLineDash(d.borderDash),e.lineDashOffset=d.borderDashOffset,l=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),u=this.getPointPosition(o,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(u.x,u.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,r=t.ticks;if(!r.display)return;const n=this.getIndexAngle(0);let i,a;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(n),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((o,l)=>{if(l===0&&this.min>=0&&!t.reverse)return;const u=r.setContext(this.getContext(l)),d=or(u.font);if(i=this.getDistanceFromCenterForValue(this.ticks[l].value),u.showLabelBackdrop){e.font=d.string,a=e.measureText(o.label).width,e.fillStyle=u.backdropColor;const m=Vr(u.backdropPadding);e.fillRect(-a/2-m.left,-i-d.size/2-m.top,a+m.width,d.size+m.height)}ko(e,o.label,0,-i,d,{color:u.color,strokeColor:u.textStrokeColor,strokeWidth:u.textStrokeWidth})}),e.restore()}drawTitle(){}}const Wd={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Jr=Object.keys(Wd);function Rg(s,e){return s-e}function Og(s,e){if(zt(e))return null;const t=s._adapter,{parser:r,round:n,isoWeekday:i}=s._parseOpts;let a=e;return typeof r=="function"&&(a=r(a)),Os(a)||(a=typeof r=="string"?t.parse(a,r):t.parse(a)),a===null?null:(n&&(a=n==="week"&&(oc(i)||i===!0)?t.startOf(a,"isoWeek",i):t.startOf(a,n)),+a)}function Fg(s,e,t,r){const n=Jr.length;for(let i=Jr.indexOf(s);i<n-1;++i){const a=Wd[Jr[i]],o=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((t-e)/(o*a.size))<=r)return Jr[i]}return Jr[n-1]}function F4(s,e,t,r,n){for(let i=Jr.length-1;i>=Jr.indexOf(t);i--){const a=Jr[i];if(Wd[a].common&&s._adapter.diff(n,r,a)>=e-1)return a}return Jr[t?Jr.indexOf(t):0]}function B4(s){for(let e=Jr.indexOf(s)+1,t=Jr.length;e<t;++e)if(Wd[Jr[e]].common)return Jr[e]}function Bg(s,e,t){if(!t)s[e]=!0;else if(t.length){const{lo:r,hi:n}=$h(t,e),i=t[r]>=e?t[r]:t[n];s[i]=!0}}function z4(s,e,t,r){const n=s._adapter,i=+n.startOf(e[0].value,r),a=e[e.length-1].value;let o,l;for(o=i;o<=a;o=+n.add(o,1,r))l=t[o],l>=0&&(e[l].major=!0);return e}function zg(s,e,t){const r=[],n={},i=e.length;let a,o;for(a=0;a<i;++a)o=e[a],n[o]=a,r.push({value:o,major:!1});return i===0||!t?r:z4(s,r,n,t)}class th extends jo{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const r=e.time||(e.time={}),n=this._adapter=new $C._date(e.adapters.date);n.init(t),ul(r.displayFormats,n.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:Og(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,r=e.time.unit||"day";let{min:n,max:i,minDefined:a,maxDefined:o}=this.getUserBounds();function l(u){!a&&!isNaN(u.min)&&(n=Math.min(n,u.min)),!o&&!isNaN(u.max)&&(i=Math.max(i,u.max))}(!a||!o)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),n=Os(n)&&!isNaN(n)?n:+t.startOf(Date.now(),r),i=Os(i)&&!isNaN(i)?i:+t.endOf(Date.now(),r)+1,this.min=Math.min(n,i-1),this.max=Math.max(n+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],r=e[e.length-1]),{min:t,max:r}}buildTicks(){const e=this.options,t=e.time,r=e.ticks,n=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&n.length&&(this.min=this._userMin||n[0],this.max=this._userMax||n[n.length-1]);const i=this.min,a=this.max,o=oj(n,i,a);return this._unit=t.unit||(r.autoSkip?Fg(t.minUnit,this.min,this.max,this._getLabelCapacity(i)):F4(this,o.length,t.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:B4(this._unit),this.initOffsets(n),e.reverse&&o.reverse(),zg(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,r=0,n,i;this.options.offset&&e.length&&(n=this.getDecimalForValue(e[0]),e.length===1?t=1-n:t=(this.getDecimalForValue(e[1])-n)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?r=i:r=(i-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;t=ur(t,0,a),r=ur(r,0,a),this._offsets={start:t,end:r,factor:1/(t+1+r)}}_generate(){const e=this._adapter,t=this.min,r=this.max,n=this.options,i=n.time,a=i.unit||Fg(i.minUnit,t,r,this._getLabelCapacity(t)),o=xt(n.ticks.stepSize,1),l=a==="week"?i.isoWeekday:!1,u=oc(l)||l===!0,d={};let m=t,p,f;if(u&&(m=+e.startOf(m,"isoWeek",l)),m=+e.startOf(m,u?"day":a),e.diff(r,t,a)>1e5*o)throw new Error(t+" and "+r+" are too far apart with stepSize of "+o+" "+a);const g=n.ticks.source==="data"&&this.getDataTimestamps();for(p=m,f=0;p<r;p=+e.add(p,o,a),f++)Bg(d,p,g);return(p===r||n.bounds==="ticks"||f===1)&&Bg(d,p,g),Object.keys(d).sort(Rg).map(y=>+y)}getLabelForValue(e){const t=this._adapter,r=this.options.time;return r.tooltipFormat?t.format(e,r.tooltipFormat):t.format(e,r.displayFormats.datetime)}format(e,t){const n=this.options.time.displayFormats,i=this._unit,a=t||n[i];return this._adapter.format(e,a)}_tickFormatFunction(e,t,r,n){const i=this.options,a=i.ticks.callback;if(a)return yt(a,[e,t,r],this);const o=i.time.displayFormats,l=this._unit,u=this._majorUnit,d=l&&o[l],m=u&&o[u],p=r[t],f=u&&m&&p&&p.major;return this._adapter.format(e,n||(f?m:d))}generateTickLabels(e){let t,r,n;for(t=0,r=e.length;t<r;++t)n=e[t],n.label=this._tickFormatFunction(n.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+r)*t.factor)}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,r=this.ctx.measureText(e).width,n=Tn(this.isHorizontal()?t.maxRotation:t.minRotation),i=Math.cos(n),a=Math.sin(n),o=this._resolveTickFontOptions(0).size;return{w:r*i+o*a,h:r*a+o*i}}_getLabelCapacity(e){const t=this.options.time,r=t.displayFormats,n=r[t.unit]||r.millisecond,i=this._tickFormatFunction(e,0,zg(this,[e],this._majorUnit),n),a=this._getLabelSize(i),o=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return o>0?o:1}getDataTimestamps(){let e=this._cache.data||[],t,r;if(e.length)return e;const n=this.getMatchingVisibleMetas();if(this._normalized&&n.length)return this._cache.data=n[0].controller.getAllParsedValues(this);for(t=0,r=n.length;t<r;++t)e=e.concat(n[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,r;if(e.length)return e;const n=this.getLabels();for(t=0,r=n.length;t<r;++t)e.push(Og(this,n[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return a1(e.sort(Rg))}}function Tu(s,e,t){let r=0,n=s.length-1,i,a,o,l;t?(e>=s[r].pos&&e<=s[n].pos&&({lo:r,hi:n}=Li(s,"pos",e)),{pos:i,time:o}=s[r],{pos:a,time:l}=s[n]):(e>=s[r].time&&e<=s[n].time&&({lo:r,hi:n}=Li(s,"time",e)),{time:i,pos:o}=s[r],{time:a,pos:l}=s[n]);const u=a-i;return u?o+(l-o)*(e-i)/u:o}class $4 extends th{static id="timeseries";static defaults=th.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Tu(t,this.min),this._tableRange=Tu(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:r}=this,n=[],i=[];let a,o,l,u,d;for(a=0,o=e.length;a<o;++a)u=e[a],u>=t&&u<=r&&n.push(u);if(n.length<2)return[{time:t,pos:0},{time:r,pos:1}];for(a=0,o=n.length;a<o;++a)d=n[a+1],l=n[a-1],u=n[a],Math.round((d+l)/2)!==u&&i.push({time:u,pos:a/(o-1)});return i}_generate(){const e=this.min,t=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(t)||r.length===1)&&r.push(t),r.sort((n,i)=>n-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),r=this.getLabelTimestamps();return t.length&&r.length?e=this.normalize(t.concat(r)):e=t.length?t:r,e=this._cache.all=e,e}getDecimalForValue(e){return(Tu(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return Tu(this._table,r*this._tableRange+this._minPos,!0)}}var W4=Object.freeze({__proto__:null,CategoryScale:v4,LinearScale:k4,LogarithmicScale:P4,RadialLinearScale:O4,TimeScale:th,TimeSeriesScale:$4});const H4=[zC,N3,g4,W4];var Jm={exports:{}};var $g;function q4(){return $g||($g=1,(function(s){(function(e,t,r,n){var i=["","webkit","Moz","MS","ms","o"],a=t.createElement("div"),o="function",l=Math.round,u=Math.abs,d=Date.now;function m(F,K,oe){return setTimeout(j(F,oe),K)}function p(F,K,oe){return Array.isArray(F)?(f(F,oe[K],oe),!0):!1}function f(F,K,oe){var ke;if(F)if(F.forEach)F.forEach(K,oe);else if(F.length!==n)for(ke=0;ke<F.length;)K.call(oe,F[ke],ke,F),ke++;else for(ke in F)F.hasOwnProperty(ke)&&K.call(oe,F[ke],ke,F)}function g(F,K,oe){var ke="DEPRECATED METHOD: "+K+`
`+oe+` AT 
`;return function(){var Le=new Error("get-stack-trace"),$e=Le&&Le.stack?Le.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",Ut=e.console&&(e.console.warn||e.console.log);return Ut&&Ut.call(e.console,ke,$e),F.apply(this,arguments)}}var y;typeof Object.assign!="function"?y=function(K){if(K===n||K===null)throw new TypeError("Cannot convert undefined or null to object");for(var oe=Object(K),ke=1;ke<arguments.length;ke++){var Le=arguments[ke];if(Le!==n&&Le!==null)for(var $e in Le)Le.hasOwnProperty($e)&&(oe[$e]=Le[$e])}return oe}:y=Object.assign;var v=g(function(K,oe,ke){for(var Le=Object.keys(oe),$e=0;$e<Le.length;)(!ke||ke&&K[Le[$e]]===n)&&(K[Le[$e]]=oe[Le[$e]]),$e++;return K},"extend","Use `assign`."),N=g(function(K,oe){return v(K,oe,!0)},"merge","Use `assign`.");function D(F,K,oe){var ke=K.prototype,Le;Le=F.prototype=Object.create(ke),Le.constructor=F,Le._super=ke,oe&&y(Le,oe)}function j(F,K){return function(){return F.apply(K,arguments)}}function C(F,K){return typeof F==o?F.apply(K&&K[0]||n,K):F}function E(F,K){return F===n?K:F}function A(F,K,oe){f(O(K),function(ke){F.addEventListener(ke,oe,!1)})}function V(F,K,oe){f(O(K),function(ke){F.removeEventListener(ke,oe,!1)})}function P(F,K){for(;F;){if(F==K)return!0;F=F.parentNode}return!1}function _(F,K){return F.indexOf(K)>-1}function O(F){return F.trim().split(/\s+/g)}function S(F,K,oe){if(F.indexOf&&!oe)return F.indexOf(K);for(var ke=0;ke<F.length;){if(oe&&F[ke][oe]==K||!oe&&F[ke]===K)return ke;ke++}return-1}function L(F){return Array.prototype.slice.call(F,0)}function B(F,K,oe){for(var ke=[],Le=[],$e=0;$e<F.length;){var Ut=F[$e][K];S(Le,Ut)<0&&ke.push(F[$e]),Le[$e]=Ut,$e++}return ke=ke.sort(function(ys,Ds){return ys[K]>Ds[K]}),ke}function $(F,K){for(var oe,ke,Le=K[0].toUpperCase()+K.slice(1),$e=0;$e<i.length;){if(oe=i[$e],ke=oe?oe+Le:K,ke in F)return ke;$e++}return n}var Z=1;function re(){return Z++}function le(F){var K=F.ownerDocument||F;return K.defaultView||K.parentWindow||e}var ee=/mobile|tablet|ip(ad|hone|od)|android/i,pe="ontouchstart"in e,ue=$(e,"PointerEvent")!==n,te=pe&&ee.test(navigator.userAgent),U="touch",H="pen",G="mouse",se="kinect",ne=25,ae=1,he=2,me=4,ge=8,Pe=1,xe=2,Ie=4,De=8,W=16,we=xe|Ie,rt=De|W,Ge=we|rt,_e=["x","y"],ze=["clientX","clientY"];function Me(F,K){var oe=this;this.manager=F,this.callback=K,this.element=F.element,this.target=F.options.inputTarget,this.domHandler=function(ke){C(F.options.enable,[F])&&oe.handler(ke)},this.init()}Me.prototype={handler:function(){},init:function(){this.evEl&&A(this.element,this.evEl,this.domHandler),this.evTarget&&A(this.target,this.evTarget,this.domHandler),this.evWin&&A(le(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&V(this.element,this.evEl,this.domHandler),this.evTarget&&V(this.target,this.evTarget,this.domHandler),this.evWin&&V(le(this.element),this.evWin,this.domHandler)}};function ut(F){var K,oe=F.options.inputClass;return oe?K=oe:ue?K=mt:te?K=yr:pe?K=ie:K=At,new K(F,it)}function it(F,K,oe){var ke=oe.pointers.length,Le=oe.changedPointers.length,$e=K&ae&&ke-Le===0,Ut=K&(me|ge)&&ke-Le===0;oe.isFirst=!!$e,oe.isFinal=!!Ut,$e&&(F.session={}),oe.eventType=K,Wt(F,oe),F.emit("hammer.input",oe),F.recognize(oe),F.session.prevInput=oe}function Wt(F,K){var oe=F.session,ke=K.pointers,Le=ke.length;oe.firstInput||(oe.firstInput=Rt(K)),Le>1&&!oe.firstMultiple?oe.firstMultiple=Rt(K):Le===1&&(oe.firstMultiple=!1);var $e=oe.firstInput,Ut=oe.firstMultiple,ks=Ut?Ut.center:$e.center,ys=K.center=vt(ke);K.timeStamp=d(),K.deltaTime=K.timeStamp-$e.timeStamp,K.angle=Jt(ks,ys),K.distance=Ye(ks,ys),gt(oe,K),K.offsetDirection=dt(K.deltaX,K.deltaY);var Ds=et(K.deltaTime,K.deltaX,K.deltaY);K.overallVelocityX=Ds.x,K.overallVelocityY=Ds.y,K.overallVelocity=u(Ds.x)>u(Ds.y)?Ds.x:Ds.y,K.scale=Ut?Qe(Ut.pointers,ke):1,K.rotation=Ut?Ht(Ut.pointers,ke):0,K.maxPointers=oe.prevInput?K.pointers.length>oe.prevInput.maxPointers?K.pointers.length:oe.prevInput.maxPointers:K.pointers.length,bt(oe,K);var Hr=F.element;P(K.srcEvent.target,Hr)&&(Hr=K.srcEvent.target),K.target=Hr}function gt(F,K){var oe=K.center,ke=F.offsetDelta||{},Le=F.prevDelta||{},$e=F.prevInput||{};(K.eventType===ae||$e.eventType===me)&&(Le=F.prevDelta={x:$e.deltaX||0,y:$e.deltaY||0},ke=F.offsetDelta={x:oe.x,y:oe.y}),K.deltaX=Le.x+(oe.x-ke.x),K.deltaY=Le.y+(oe.y-ke.y)}function bt(F,K){var oe=F.lastInterval||K,ke=K.timeStamp-oe.timeStamp,Le,$e,Ut,ks;if(K.eventType!=ge&&(ke>ne||oe.velocity===n)){var ys=K.deltaX-oe.deltaX,Ds=K.deltaY-oe.deltaY,Hr=et(ke,ys,Ds);$e=Hr.x,Ut=Hr.y,Le=u(Hr.x)>u(Hr.y)?Hr.x:Hr.y,ks=dt(ys,Ds),F.lastInterval=K}else Le=oe.velocity,$e=oe.velocityX,Ut=oe.velocityY,ks=oe.direction;K.velocity=Le,K.velocityX=$e,K.velocityY=Ut,K.direction=ks}function Rt(F){for(var K=[],oe=0;oe<F.pointers.length;)K[oe]={clientX:l(F.pointers[oe].clientX),clientY:l(F.pointers[oe].clientY)},oe++;return{timeStamp:d(),pointers:K,center:vt(K),deltaX:F.deltaX,deltaY:F.deltaY}}function vt(F){var K=F.length;if(K===1)return{x:l(F[0].clientX),y:l(F[0].clientY)};for(var oe=0,ke=0,Le=0;Le<K;)oe+=F[Le].clientX,ke+=F[Le].clientY,Le++;return{x:l(oe/K),y:l(ke/K)}}function et(F,K,oe){return{x:K/F||0,y:oe/F||0}}function dt(F,K){return F===K?Pe:u(F)>=u(K)?F<0?xe:Ie:K<0?De:W}function Ye(F,K,oe){oe||(oe=_e);var ke=K[oe[0]]-F[oe[0]],Le=K[oe[1]]-F[oe[1]];return Math.sqrt(ke*ke+Le*Le)}function Jt(F,K,oe){oe||(oe=_e);var ke=K[oe[0]]-F[oe[0]],Le=K[oe[1]]-F[oe[1]];return Math.atan2(Le,ke)*180/Math.PI}function Ht(F,K){return Jt(K[1],K[0],ze)+Jt(F[1],F[0],ze)}function Qe(F,K){return Ye(K[0],K[1],ze)/Ye(F[0],F[1],ze)}var Nt={mousedown:ae,mousemove:he,mouseup:me},es="mousedown",lt="mousemove mouseup";function At(){this.evEl=es,this.evWin=lt,this.pressed=!1,Me.apply(this,arguments)}D(At,Me,{handler:function(K){var oe=Nt[K.type];oe&ae&&K.button===0&&(this.pressed=!0),oe&he&&K.which!==1&&(oe=me),this.pressed&&(oe&me&&(this.pressed=!1),this.callback(this.manager,oe,{pointers:[K],changedPointers:[K],pointerType:G,srcEvent:K}))}});var ht={pointerdown:ae,pointermove:he,pointerup:me,pointercancel:ge,pointerout:ge},fs={2:U,3:H,4:G,5:se},ns="pointerdown",Yt="pointermove pointerup pointercancel";e.MSPointerEvent&&!e.PointerEvent&&(ns="MSPointerDown",Yt="MSPointerMove MSPointerUp MSPointerCancel");function mt(){this.evEl=ns,this.evWin=Yt,Me.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}D(mt,Me,{handler:function(K){var oe=this.store,ke=!1,Le=K.type.toLowerCase().replace("ms",""),$e=ht[Le],Ut=fs[K.pointerType]||K.pointerType,ks=Ut==U,ys=S(oe,K.pointerId,"pointerId");$e&ae&&(K.button===0||ks)?ys<0&&(oe.push(K),ys=oe.length-1):$e&(me|ge)&&(ke=!0),!(ys<0)&&(oe[ys]=K,this.callback(this.manager,$e,{pointers:oe,changedPointers:[K],pointerType:Ut,srcEvent:K}),ke&&oe.splice(ys,1))}});var qt={touchstart:ae,touchmove:he,touchend:me,touchcancel:ge},Cn="touchstart",Fs="touchstart touchmove touchend touchcancel";function $r(){this.evTarget=Cn,this.evWin=Fs,this.started=!1,Me.apply(this,arguments)}D($r,Me,{handler:function(K){var oe=qt[K.type];if(oe===ae&&(this.started=!0),!!this.started){var ke=Tr.call(this,K,oe);oe&(me|ge)&&ke[0].length-ke[1].length===0&&(this.started=!1),this.callback(this.manager,oe,{pointers:ke[0],changedPointers:ke[1],pointerType:U,srcEvent:K})}}});function Tr(F,K){var oe=L(F.touches),ke=L(F.changedTouches);return K&(me|ge)&&(oe=B(oe.concat(ke),"identifier")),[oe,ke]}var ct={touchstart:ae,touchmove:he,touchend:me,touchcancel:ge},tn="touchstart touchmove touchend touchcancel";function yr(){this.evTarget=tn,this.targetIds={},Me.apply(this,arguments)}D(yr,Me,{handler:function(K){var oe=ct[K.type],ke=mr.call(this,K,oe);ke&&this.callback(this.manager,oe,{pointers:ke[0],changedPointers:ke[1],pointerType:U,srcEvent:K})}});function mr(F,K){var oe=L(F.touches),ke=this.targetIds;if(K&(ae|he)&&oe.length===1)return ke[oe[0].identifier]=!0,[oe,oe];var Le,$e,Ut=L(F.changedTouches),ks=[],ys=this.target;if($e=oe.filter(function(Ds){return P(Ds.target,ys)}),K===ae)for(Le=0;Le<$e.length;)ke[$e[Le].identifier]=!0,Le++;for(Le=0;Le<Ut.length;)ke[Ut[Le].identifier]&&ks.push(Ut[Le]),K&(me|ge)&&delete ke[Ut[Le].identifier],Le++;if(ks.length)return[B($e.concat(ks),"identifier"),ks]}var xr=2500,cs=25;function ie(){Me.apply(this,arguments);var F=j(this.handler,this);this.touch=new yr(this.manager,F),this.mouse=new At(this.manager,F),this.primaryTouch=null,this.lastTouches=[]}D(ie,Me,{handler:function(K,oe,ke){var Le=ke.pointerType==U,$e=ke.pointerType==G;if(!($e&&ke.sourceCapabilities&&ke.sourceCapabilities.firesTouchEvents)){if(Le)Ae.call(this,oe,ke);else if($e&&ot.call(this,ke))return;this.callback(K,oe,ke)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function Ae(F,K){F&ae?(this.primaryTouch=K.changedPointers[0].identifier,Re.call(this,K)):F&(me|ge)&&Re.call(this,K)}function Re(F){var K=F.changedPointers[0];if(K.identifier===this.primaryTouch){var oe={x:K.clientX,y:K.clientY};this.lastTouches.push(oe);var ke=this.lastTouches,Le=function(){var $e=ke.indexOf(oe);$e>-1&&ke.splice($e,1)};setTimeout(Le,xr)}}function ot(F){for(var K=F.srcEvent.clientX,oe=F.srcEvent.clientY,ke=0;ke<this.lastTouches.length;ke++){var Le=this.lastTouches[ke],$e=Math.abs(K-Le.x),Ut=Math.abs(oe-Le.y);if($e<=cs&&Ut<=cs)return!0}return!1}var Dt=$(a.style,"touchAction"),_t=Dt!==n,pt="compute",ft="auto",Zt="manipulation",Ot="none",Ft="pan-x",hs="pan-y",cr=ui();function lr(F,K){this.manager=F,this.set(K)}lr.prototype={set:function(F){F==pt&&(F=this.compute()),_t&&this.manager.element.style&&cr[F]&&(this.manager.element.style[Dt]=F),this.actions=F.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var F=[];return f(this.manager.recognizers,function(K){C(K.options.enable,[K])&&(F=F.concat(K.getTouchAction()))}),As(F.join(" "))},preventDefaults:function(F){var K=F.srcEvent,oe=F.offsetDirection;if(this.manager.session.prevented){K.preventDefault();return}var ke=this.actions,Le=_(ke,Ot)&&!cr[Ot],$e=_(ke,hs)&&!cr[hs],Ut=_(ke,Ft)&&!cr[Ft];if(Le){var ks=F.pointers.length===1,ys=F.distance<2,Ds=F.deltaTime<250;if(ks&&ys&&Ds)return}if(!(Ut&&$e)&&(Le||$e&&oe&we||Ut&&oe&rt))return this.preventSrc(K)},preventSrc:function(F){this.manager.session.prevented=!0,F.preventDefault()}};function As(F){if(_(F,Ot))return Ot;var K=_(F,Ft),oe=_(F,hs);return K&&oe?Ot:K||oe?K?Ft:hs:_(F,Zt)?Zt:ft}function ui(){if(!_t)return!1;var F={},K=e.CSS&&e.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(oe){F[oe]=K?e.CSS.supports("touch-action",oe):!0}),F}var pn=1,Qs=2,En=4,Bs=8,Mr=Bs,$n=16,vr=32;function Wr(F){this.options=y({},this.defaults,F||{}),this.id=re(),this.manager=null,this.options.enable=E(this.options.enable,!0),this.state=pn,this.simultaneous={},this.requireFail=[]}Wr.prototype={defaults:{},set:function(F){return y(this.options,F),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(F){if(p(F,"recognizeWith",this))return this;var K=this.simultaneous;return F=Sn(F,this),K[F.id]||(K[F.id]=F,F.recognizeWith(this)),this},dropRecognizeWith:function(F){return p(F,"dropRecognizeWith",this)?this:(F=Sn(F,this),delete this.simultaneous[F.id],this)},requireFailure:function(F){if(p(F,"requireFailure",this))return this;var K=this.requireFail;return F=Sn(F,this),S(K,F)===-1&&(K.push(F),F.requireFailure(this)),this},dropRequireFailure:function(F){if(p(F,"dropRequireFailure",this))return this;F=Sn(F,this);var K=S(this.requireFail,F);return K>-1&&this.requireFail.splice(K,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(F){return!!this.simultaneous[F.id]},emit:function(F){var K=this,oe=this.state;function ke(Le){K.manager.emit(Le,F)}oe<Bs&&ke(K.options.event+Sa(oe)),ke(K.options.event),F.additionalEvent&&ke(F.additionalEvent),oe>=Bs&&ke(K.options.event+Sa(oe))},tryEmit:function(F){if(this.canEmit())return this.emit(F);this.state=vr},canEmit:function(){for(var F=0;F<this.requireFail.length;){if(!(this.requireFail[F].state&(vr|pn)))return!1;F++}return!0},recognize:function(F){var K=y({},F);if(!C(this.options.enable,[this,K])){this.reset(),this.state=vr;return}this.state&(Mr|$n|vr)&&(this.state=pn),this.state=this.process(K),this.state&(Qs|En|Bs|$n)&&this.tryEmit(K)},process:function(F){},getTouchAction:function(){},reset:function(){}};function Sa(F){return F&$n?"cancel":F&Bs?"end":F&En?"move":F&Qs?"start":""}function Aa(F){return F==W?"down":F==De?"up":F==xe?"left":F==Ie?"right":""}function Sn(F,K){var oe=K.manager;return oe?oe.get(F):F}function Ir(){Wr.apply(this,arguments)}D(Ir,Wr,{defaults:{pointers:1},attrTest:function(F){var K=this.options.pointers;return K===0||F.pointers.length===K},process:function(F){var K=this.state,oe=F.eventType,ke=K&(Qs|En),Le=this.attrTest(F);return ke&&(oe&ge||!Le)?K|$n:ke||Le?oe&me?K|Bs:K&Qs?K|En:Qs:vr}});function bs(){Ir.apply(this,arguments),this.pX=null,this.pY=null}D(bs,Ir,{defaults:{event:"pan",threshold:10,pointers:1,direction:Ge},getTouchAction:function(){var F=this.options.direction,K=[];return F&we&&K.push(hs),F&rt&&K.push(Ft),K},directionTest:function(F){var K=this.options,oe=!0,ke=F.distance,Le=F.direction,$e=F.deltaX,Ut=F.deltaY;return Le&K.direction||(K.direction&we?(Le=$e===0?Pe:$e<0?xe:Ie,oe=$e!=this.pX,ke=Math.abs(F.deltaX)):(Le=Ut===0?Pe:Ut<0?De:W,oe=Ut!=this.pY,ke=Math.abs(F.deltaY))),F.direction=Le,oe&&ke>K.threshold&&Le&K.direction},attrTest:function(F){return Ir.prototype.attrTest.call(this,F)&&(this.state&Qs||!(this.state&Qs)&&this.directionTest(F))},emit:function(F){this.pX=F.deltaX,this.pY=F.deltaY;var K=Aa(F.direction);K&&(F.additionalEvent=this.options.event+K),this._super.emit.call(this,F)}});function Bi(){Ir.apply(this,arguments)}D(Bi,Ir,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Ot]},attrTest:function(F){return this._super.attrTest.call(this,F)&&(Math.abs(F.scale-1)>this.options.threshold||this.state&Qs)},emit:function(F){if(F.scale!==1){var K=F.scale<1?"in":"out";F.additionalEvent=this.options.event+K}this._super.emit.call(this,F)}});function zi(){Wr.apply(this,arguments),this._timer=null,this._input=null}D(zi,Wr,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[ft]},process:function(F){var K=this.options,oe=F.pointers.length===K.pointers,ke=F.distance<K.threshold,Le=F.deltaTime>K.time;if(this._input=F,!ke||!oe||F.eventType&(me|ge)&&!Le)this.reset();else if(F.eventType&ae)this.reset(),this._timer=m(function(){this.state=Mr,this.tryEmit()},K.time,this);else if(F.eventType&me)return Mr;return vr},reset:function(){clearTimeout(this._timer)},emit:function(F){this.state===Mr&&(F&&F.eventType&me?this.manager.emit(this.options.event+"up",F):(this._input.timeStamp=d(),this.manager.emit(this.options.event,this._input)))}});function sn(){Ir.apply(this,arguments)}D(sn,Ir,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Ot]},attrTest:function(F){return this._super.attrTest.call(this,F)&&(Math.abs(F.rotation)>this.options.threshold||this.state&Qs)}});function An(){Ir.apply(this,arguments)}D(An,Ir,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:we|rt,pointers:1},getTouchAction:function(){return bs.prototype.getTouchAction.call(this)},attrTest:function(F){var K=this.options.direction,oe;return K&(we|rt)?oe=F.overallVelocity:K&we?oe=F.overallVelocityX:K&rt&&(oe=F.overallVelocityY),this._super.attrTest.call(this,F)&&K&F.offsetDirection&&F.distance>this.options.threshold&&F.maxPointers==this.options.pointers&&u(oe)>this.options.velocity&&F.eventType&me},emit:function(F){var K=Aa(F.offsetDirection);K&&this.manager.emit(this.options.event+K,F),this.manager.emit(this.options.event,F)}});function Nr(){Wr.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}D(Nr,Wr,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Zt]},process:function(F){var K=this.options,oe=F.pointers.length===K.pointers,ke=F.distance<K.threshold,Le=F.deltaTime<K.time;if(this.reset(),F.eventType&ae&&this.count===0)return this.failTimeout();if(ke&&Le&&oe){if(F.eventType!=me)return this.failTimeout();var $e=this.pTime?F.timeStamp-this.pTime<K.interval:!0,Ut=!this.pCenter||Ye(this.pCenter,F.center)<K.posThreshold;this.pTime=F.timeStamp,this.pCenter=F.center,!Ut||!$e?this.count=1:this.count+=1,this._input=F;var ks=this.count%K.taps;if(ks===0)return this.hasRequireFailures()?(this._timer=m(function(){this.state=Mr,this.tryEmit()},K.interval,this),Qs):Mr}return vr},failTimeout:function(){return this._timer=m(function(){this.state=vr},this.options.interval,this),vr},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Mr&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function kr(F,K){return K=K||{},K.recognizers=E(K.recognizers,kr.defaults.preset),new _a(F,K)}kr.VERSION="2.0.7",kr.defaults={domEvents:!1,touchAction:pt,enable:!0,inputTarget:null,inputClass:null,preset:[[sn,{enable:!1}],[Bi,{enable:!1},["rotate"]],[An,{direction:we}],[bs,{direction:we},["swipe"]],[Nr],[Nr,{event:"doubletap",taps:2},["tap"]],[zi]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var _s=1,$i=2;function _a(F,K){this.options=y({},kr.defaults,K||{}),this.options.inputTarget=this.options.inputTarget||F,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=F,this.input=ut(this),this.touchAction=new lr(this,this.options.touchAction),Ao(this,!0),f(this.options.recognizers,function(oe){var ke=this.add(new oe[0](oe[1]));oe[2]&&ke.recognizeWith(oe[2]),oe[3]&&ke.requireFailure(oe[3])},this)}_a.prototype={set:function(F){return y(this.options,F),F.touchAction&&this.touchAction.update(),F.inputTarget&&(this.input.destroy(),this.input.target=F.inputTarget,this.input.init()),this},stop:function(F){this.session.stopped=F?$i:_s},recognize:function(F){var K=this.session;if(!K.stopped){this.touchAction.preventDefaults(F);var oe,ke=this.recognizers,Le=K.curRecognizer;(!Le||Le&&Le.state&Mr)&&(Le=K.curRecognizer=null);for(var $e=0;$e<ke.length;)oe=ke[$e],K.stopped!==$i&&(!Le||oe==Le||oe.canRecognizeWith(Le))?oe.recognize(F):oe.reset(),!Le&&oe.state&(Qs|En|Bs)&&(Le=K.curRecognizer=oe),$e++}},get:function(F){if(F instanceof Wr)return F;for(var K=this.recognizers,oe=0;oe<K.length;oe++)if(K[oe].options.event==F)return K[oe];return null},add:function(F){if(p(F,"add",this))return this;var K=this.get(F.options.event);return K&&this.remove(K),this.recognizers.push(F),F.manager=this,this.touchAction.update(),F},remove:function(F){if(p(F,"remove",this))return this;if(F=this.get(F),F){var K=this.recognizers,oe=S(K,F);oe!==-1&&(K.splice(oe,1),this.touchAction.update())}return this},on:function(F,K){if(F!==n&&K!==n){var oe=this.handlers;return f(O(F),function(ke){oe[ke]=oe[ke]||[],oe[ke].push(K)}),this}},off:function(F,K){if(F!==n){var oe=this.handlers;return f(O(F),function(ke){K?oe[ke]&&oe[ke].splice(S(oe[ke],K),1):delete oe[ke]}),this}},emit:function(F,K){this.options.domEvents&&vc(F,K);var oe=this.handlers[F]&&this.handlers[F].slice();if(!(!oe||!oe.length)){K.type=F,K.preventDefault=function(){K.srcEvent.preventDefault()};for(var ke=0;ke<oe.length;)oe[ke](K),ke++}},destroy:function(){this.element&&Ao(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function Ao(F,K){var oe=F.element;if(oe.style){var ke;f(F.options.cssProps,function(Le,$e){ke=$(oe.style,$e),K?(F.oldCssProps[ke]=oe.style[ke],oe.style[ke]=Le):oe.style[ke]=F.oldCssProps[ke]||""}),K||(F.oldCssProps={})}}function vc(F,K){var oe=t.createEvent("Event");oe.initEvent(F,!0,!0),oe.gesture=K,K.target.dispatchEvent(oe)}y(kr,{INPUT_START:ae,INPUT_MOVE:he,INPUT_END:me,INPUT_CANCEL:ge,STATE_POSSIBLE:pn,STATE_BEGAN:Qs,STATE_CHANGED:En,STATE_ENDED:Bs,STATE_RECOGNIZED:Mr,STATE_CANCELLED:$n,STATE_FAILED:vr,DIRECTION_NONE:Pe,DIRECTION_LEFT:xe,DIRECTION_RIGHT:Ie,DIRECTION_UP:De,DIRECTION_DOWN:W,DIRECTION_HORIZONTAL:we,DIRECTION_VERTICAL:rt,DIRECTION_ALL:Ge,Manager:_a,Input:Me,TouchAction:lr,TouchInput:yr,MouseInput:At,PointerEventInput:mt,TouchMouseInput:ie,SingleTouchInput:$r,Recognizer:Wr,AttrRecognizer:Ir,Tap:Nr,Pan:bs,Swipe:An,Pinch:Bi,Rotate:sn,Press:zi,on:A,off:V,each:f,merge:N,extend:v,assign:y,inherit:D,bindFn:j,prefixed:$});var gn=typeof e<"u"?e:typeof self<"u"?self:{};gn.Hammer=kr,s.exports?s.exports=kr:e[r]=kr})(window,document,"Hammer")})(Jm)),Jm.exports}var G4=q4();const fl=mx(G4);const Vl=s=>s&&s.enabled&&s.modifierKey,X1=(s,e)=>s&&e[s+"Key"],tp=(s,e)=>s&&!e[s+"Key"];function wa(s,e,t){return s===void 0?!0:typeof s=="string"?s.indexOf(e)!==-1:typeof s=="function"?s({chart:t}).indexOf(e)!==-1:!1}function Zm(s,e){return typeof s=="function"&&(s=s({chart:e})),typeof s=="string"?{x:s.indexOf("x")!==-1,y:s.indexOf("y")!==-1}:{x:!1,y:!1}}function Y4(s,e){let t;return function(){return clearTimeout(t),t=setTimeout(s,e),e}}function K4({x:s,y:e},t){const r=t.scales,n=Object.keys(r);for(let i=0;i<n.length;i++){const a=r[n[i]];if(e>=a.top&&e<=a.bottom&&s>=a.left&&s<=a.right)return a}return null}function J1(s,e,t){const{mode:r="xy",scaleMode:n,overScaleMode:i}=s||{},a=K4(e,t),o=Zm(r,t),l=Zm(n,t);if(i){const d=Zm(i,t);for(const m of["x","y"])d[m]&&(l[m]=o[m],o[m]=!1)}if(a&&l[a.axis])return[a];const u=[];return Bt(t.scales,function(d){o[d.axis]&&u.push(d)}),u}const sh=new WeakMap;function Vs(s){let e=sh.get(s);return e||(e={originalScaleLimits:{},updatedScaleLimits:{},handlers:{},panDelta:{},dragging:!1,panning:!1},sh.set(s,e)),e}function X4(s){sh.delete(s)}function Z1(s,e,t,r){const n=Math.max(0,Math.min(1,(s-e)/t||0)),i=1-n;return{min:r*n,max:r*i}}function Q1(s,e){const t=s.isHorizontal()?e.x:e.y;return s.getValueForPixel(t)}function ev(s,e,t){const r=s.max-s.min,n=r*(e-1),i=Q1(s,t);return Z1(i,s.min,r,n)}function J4(s,e,t){const r=Q1(s,t);if(r===void 0)return{min:s.min,max:s.max};const n=Math.log10(s.min),i=Math.log10(s.max),a=Math.log10(r),o=i-n,l=o*(e-1),u=Z1(a,n,o,l);return{min:Math.pow(10,n+u.min),max:Math.pow(10,i-u.max)}}function Z4(s,e){return e&&(e[s.id]||e[s.axis])||{}}function Wg(s,e,t,r,n){let i=t[r];if(i==="original"){const a=s.originalScaleLimits[e.id][r];i=xt(a.options,a.scale)}return xt(i,n)}function Q4(s,e,t){const r=s.getValueForPixel(e),n=s.getValueForPixel(t);return{min:Math.min(r,n),max:Math.max(r,n)}}function eS(s,{min:e,max:t,minLimit:r,maxLimit:n},i){const a=(s-t+e)/2;e-=a,t+=a;const o=i.min.options??i.min.scale,l=i.max.options??i.max.scale,u=s/1e6;return co(e,o,u)&&(e=o),co(t,l,u)&&(t=l),e<r?(e=r,t=Math.min(r+s,n)):t>n&&(t=n,e=Math.max(n-s,r)),{min:e,max:t}}function Co(s,{min:e,max:t},r,n=!1){const i=Vs(s.chart),{options:a}=s,o=Z4(s,r),{minRange:l=0}=o,u=Wg(i,s,o,"min",-1/0),d=Wg(i,s,o,"max",1/0);if(n==="pan"&&(e<u||t>d))return!0;const m=s.max-s.min,p=n?Math.max(t-e,l):m;if(n&&p===l&&m<=l)return!0;const f=eS(p,{min:e,max:t,minLimit:u,maxLimit:d},i.originalScaleLimits[s.id]);return a.min=f.min,a.max=f.max,i.updatedScaleLimits[s.id]=f,s.parse(f.min)!==s.min||s.parse(f.max)!==s.max}function tS(s,e,t,r){const n=ev(s,e,t),i={min:s.min+n.min,max:s.max-n.max};return Co(s,i,r,!0)}function sS(s,e,t,r){const n=J4(s,e,t);return Co(s,n,r,!0)}function rS(s,e,t,r){Co(s,Q4(s,e,t),r,!0)}const Hg=s=>s===0||isNaN(s)?0:s<0?Math.min(Math.round(s),-1):Math.max(Math.round(s),1);function nS(s){const t=s.getLabels().length-1;s.min>0&&(s.min-=1),s.max<t&&(s.max+=1)}function iS(s,e,t,r){const n=ev(s,e,t);s.min===s.max&&e<1&&nS(s);const i={min:s.min+Hg(n.min),max:s.max-Hg(n.max)};return Co(s,i,r,!0)}function aS(s){return s.isHorizontal()?s.width:s.height}function oS(s,e,t){const n=s.getLabels().length-1;let{min:i,max:a}=s;const o=Math.max(a-i,1),l=Math.round(aS(s)/Math.max(o,10)),u=Math.round(Math.abs(e/l));let d;return e<-l?(a=Math.min(a+u,n),i=o===1?a:a-o,d=a===n):e>l&&(i=Math.max(0,i-u),a=o===1?i:i+o,d=i===0),Co(s,{min:i,max:a},t)||d}const cS={second:500,minute:30*1e3,hour:1800*1e3,day:720*60*1e3,week:3.5*24*60*60*1e3,month:360*60*60*1e3,quarter:1440*60*60*1e3,year:4368*60*60*1e3};function tv(s,e,t,r=!1){const{min:n,max:i,options:a}=s,o=a.time&&a.time.round,l=cS[o]||0,u=s.getValueForPixel(s.getPixelForValue(n+l)-e),d=s.getValueForPixel(s.getPixelForValue(i+l)-e);return isNaN(u)||isNaN(d)?!0:Co(s,{min:u,max:d},t,r?"pan":!1)}function qg(s,e,t){return tv(s,e,t,!0)}const rh={category:iS,default:tS,logarithmic:sS},nh={default:rS},ih={category:oS,default:tv,logarithmic:qg,timeseries:qg};function lS(s,e,t){const{id:r,options:{min:n,max:i}}=s;if(!e[r]||!t[r])return!0;const a=t[r];return a.min!==n||a.max!==i}function Gg(s,e){Bt(s,(t,r)=>{e[r]||delete s[r]})}function yc(s,e){const{scales:t}=s,{originalScaleLimits:r,updatedScaleLimits:n}=e;return Bt(t,function(i){lS(i,r,n)&&(r[i.id]={min:{scale:i.min,options:i.options.min},max:{scale:i.max,options:i.options.max}})}),Gg(r,t),Gg(n,t),r}function Yg(s,e,t,r){const n=rh[s.type]||rh.default;yt(n,[s,e,t,r])}function Kg(s,e,t,r){const n=nh[s.type]||nh.default;yt(n,[s,e,t,r])}function uS(s){const e=s.chartArea;return{x:(e.left+e.right)/2,y:(e.top+e.bottom)/2}}function sp(s,e,t="none",r="api"){const{x:n=1,y:i=1,focalPoint:a=uS(s)}=typeof e=="number"?{x:e,y:e}:e,o=Vs(s),{options:{limits:l,zoom:u}}=o;yc(s,o);const d=n!==1,m=i!==1,p=J1(u,a,s);Bt(p||s.scales,function(f){f.isHorizontal()&&d?Yg(f,n,a,l):!f.isHorizontal()&&m&&Yg(f,i,a,l)}),s.update(t),yt(u.onZoom,[{chart:s,trigger:r}])}function sv(s,e,t,r="none",n="api"){const i=Vs(s),{options:{limits:a,zoom:o}}=i,{mode:l="xy"}=o;yc(s,i);const u=wa(l,"x",s),d=wa(l,"y",s);Bt(s.scales,function(m){m.isHorizontal()&&u?Kg(m,e.x,t.x,a):!m.isHorizontal()&&d&&Kg(m,e.y,t.y,a)}),s.update(r),yt(o.onZoom,[{chart:s,trigger:n}])}function dS(s,e,t,r="none",n="api"){const i=Vs(s);yc(s,i);const a=s.scales[e];Co(a,t,void 0,!0),s.update(r),yt(i.options.zoom?.onZoom,[{chart:s,trigger:n}])}function mS(s,e="default"){const t=Vs(s),r=yc(s,t);Bt(s.scales,function(n){const i=n.options;r[n.id]?(i.min=r[n.id].min.options,i.max=r[n.id].max.options):(delete i.min,delete i.max),delete t.updatedScaleLimits[n.id]}),s.update(e),yt(t.options.zoom.onZoomComplete,[{chart:s}])}function fS(s,e){const t=s.originalScaleLimits[e];if(!t)return;const{min:r,max:n}=t;return xt(n.options,n.scale)-xt(r.options,r.scale)}function hS(s){const e=Vs(s);let t=1,r=1;return Bt(s.scales,function(n){const i=fS(e,n.id);if(i){const a=Math.round(i/(n.max-n.min)*100)/100;t=Math.min(t,a),r=Math.max(r,a)}}),t<1?t:r}function Xg(s,e,t,r){const{panDelta:n}=r,i=n[s.id]||0;wn(i)===wn(e)&&(e+=i);const a=ih[s.type]||ih.default;yt(a,[s,e,t])?n[s.id]=0:n[s.id]=e}function rv(s,e,t,r="none"){const{x:n=0,y:i=0}=typeof e=="number"?{x:e,y:e}:e,a=Vs(s),{options:{pan:o,limits:l}}=a,{onPan:u}=o||{};yc(s,a);const d=n!==0,m=i!==0;Bt(t||s.scales,function(p){p.isHorizontal()&&d?Xg(p,n,l,a):!p.isHorizontal()&&m&&Xg(p,i,l,a)}),s.update(r),yt(u,[{chart:s}])}function nv(s){const e=Vs(s);yc(s,e);const t={};for(const r of Object.keys(s.scales)){const{min:n,max:i}=e.originalScaleLimits[r]||{min:{},max:{}};t[r]={min:n.scale,max:i.scale}}return t}function pS(s){const e=Vs(s),t={};for(const r of Object.keys(s.scales))t[r]=e.updatedScaleLimits[r];return t}function gS(s){const e=nv(s);for(const t of Object.keys(s.scales)){const{min:r,max:n}=e[t];if(r!==void 0&&s.scales[t].min!==r||n!==void 0&&s.scales[t].max!==n)return!0}return!1}function Jg(s){const e=Vs(s);return e.panning||e.dragging}const Zg=(s,e,t)=>Math.min(t,Math.max(e,s));function Xr(s,e){const{handlers:t}=Vs(s),r=t[e];r&&r.target&&(r.target.removeEventListener(e,r),delete t[e])}function hl(s,e,t,r){const{handlers:n,options:i}=Vs(s),a=n[t];if(a&&a.target===e)return;Xr(s,t),n[t]=l=>r(s,l,i),n[t].target=e;const o=t==="wheel"?!1:void 0;e.addEventListener(t,n[t],{passive:o})}function bS(s,e){const t=Vs(s);t.dragStart&&(t.dragging=!0,t.dragEnd=e,s.update("none"))}function yS(s,e){const t=Vs(s);!t.dragStart||e.key!=="Escape"||(Xr(s,"keydown"),t.dragging=!1,t.dragStart=t.dragEnd=null,s.update("none"))}function ah(s,e){if(s.target!==e.canvas){const t=e.canvas.getBoundingClientRect();return{x:s.clientX-t.left,y:s.clientY-t.top}}return Qn(s,e)}function iv(s,e,t){const{onZoomStart:r,onZoomRejected:n}=t;if(r){const i=ah(e,s);if(yt(r,[{chart:s,event:e,point:i}])===!1)return yt(n,[{chart:s,event:e}]),!1}}function xS(s,e){if(s.legend){const i=Qn(e,s);if(ei(i,s.legend))return}const t=Vs(s),{pan:r,zoom:n={}}=t.options;if(e.button!==0||X1(Vl(r),e)||tp(Vl(n.drag),e))return yt(n.onZoomRejected,[{chart:s,event:e}]);iv(s,e,n)!==!1&&(t.dragStart=e,hl(s,s.canvas.ownerDocument,"mousemove",bS),hl(s,window.document,"keydown",yS))}function vS({begin:s,end:e},t){let r=e.x-s.x,n=e.y-s.y;const i=Math.abs(r/n);i>t?r=Math.sign(r)*Math.abs(n*t):i<t&&(n=Math.sign(n)*Math.abs(r/t)),e.x=s.x+r,e.y=s.y+n}function Qg(s,e,t,{min:r,max:n,prop:i}){s[r]=Zg(Math.min(t.begin[i],t.end[i]),e[r],e[n]),s[n]=Zg(Math.max(t.begin[i],t.end[i]),e[r],e[n])}function NS(s,e,t){const r={begin:ah(e.dragStart,s),end:ah(e.dragEnd,s)};if(t){const n=s.chartArea.width/s.chartArea.height;vS(r,n)}return r}function av(s,e,t,r){const n=wa(e,"x",s),i=wa(e,"y",s),{top:a,left:o,right:l,bottom:u,width:d,height:m}=s.chartArea,p={top:a,left:o,right:l,bottom:u},f=NS(s,t,r&&n&&i);n&&Qg(p,s.chartArea,f,{min:"left",max:"right",prop:"x"}),i&&Qg(p,s.chartArea,f,{min:"top",max:"bottom",prop:"y"});const g=p.right-p.left,y=p.bottom-p.top;return{...p,width:g,height:y,zoomX:n&&g?1+(d-g)/d:1,zoomY:i&&y?1+(m-y)/m:1}}function kS(s,e){const t=Vs(s);if(!t.dragStart)return;Xr(s,"mousemove");const{mode:r,onZoomComplete:n,drag:{threshold:i=0,maintainAspectRatio:a}}=t.options.zoom,o=av(s,r,{dragStart:t.dragStart,dragEnd:e},a),l=wa(r,"x",s)?o.width:0,u=wa(r,"y",s)?o.height:0,d=Math.sqrt(l*l+u*u);if(t.dragStart=t.dragEnd=null,d<=i){t.dragging=!1,s.update("none");return}sv(s,{x:o.left,y:o.top},{x:o.right,y:o.bottom},"zoom","drag"),t.dragging=!1,t.filterNextClick=!0,yt(n,[{chart:s}])}function DS(s,e,t){if(tp(Vl(t.wheel),e)){yt(t.onZoomRejected,[{chart:s,event:e}]);return}if(iv(s,e,t)!==!1&&(e.cancelable&&e.preventDefault(),e.deltaY!==void 0))return!0}function wS(s,e){const{handlers:{onZoomComplete:t},options:{zoom:r}}=Vs(s);if(!DS(s,e,r))return;const n=e.target.getBoundingClientRect(),i=r.wheel.speed,a=e.deltaY>=0?2-1/(1-i):1+i,o={x:a,y:a,focalPoint:{x:e.clientX-n.left,y:e.clientY-n.top}};sp(s,o,"zoom","wheel"),yt(t,[{chart:s}])}function PS(s,e,t,r){t&&(Vs(s).handlers[e]=Y4(()=>yt(t,[{chart:s}]),r))}function jS(s,e){const t=s.canvas,{wheel:r,drag:n,onZoomComplete:i}=e.zoom;r.enabled?(hl(s,t,"wheel",wS),PS(s,"onZoomComplete",i,250)):Xr(s,"wheel"),n.enabled?(hl(s,t,"mousedown",xS),hl(s,t.ownerDocument,"mouseup",kS)):(Xr(s,"mousedown"),Xr(s,"mousemove"),Xr(s,"mouseup"),Xr(s,"keydown"))}function CS(s){Xr(s,"mousedown"),Xr(s,"mousemove"),Xr(s,"mouseup"),Xr(s,"wheel"),Xr(s,"click"),Xr(s,"keydown")}function ES(s,e){return function(t,r){const{pan:n,zoom:i={}}=e.options;if(!n||!n.enabled)return!1;const a=r&&r.srcEvent;return a&&!e.panning&&r.pointerType==="mouse"&&(tp(Vl(n),a)||X1(Vl(i.drag),a))?(yt(n.onPanRejected,[{chart:s,event:r}]),!1):!0}}function SS(s,e){const t=Math.abs(s.clientX-e.clientX),r=Math.abs(s.clientY-e.clientY),n=t/r;let i,a;return n>.3&&n<1.7?i=a=!0:t>r?i=!0:a=!0,{x:i,y:a}}function ov(s,e,t){if(e.scale){const{center:r,pointers:n}=t,i=1/e.scale*t.scale,a=t.target.getBoundingClientRect(),o=SS(n[0],n[1]),l=e.options.zoom.mode,u={x:o.x&&wa(l,"x",s)?i:1,y:o.y&&wa(l,"y",s)?i:1,focalPoint:{x:r.x-a.left,y:r.y-a.top}};sp(s,u,"zoom","pinch"),e.scale=t.scale}}function AS(s,e,t){if(e.options.zoom.pinch.enabled){const r=Qn(t,s);yt(e.options.zoom.onZoomStart,[{chart:s,event:t,point:r}])===!1?(e.scale=null,yt(e.options.zoom.onZoomRejected,[{chart:s,event:t}])):e.scale=1}}function _S(s,e,t){e.scale&&(ov(s,e,t),e.scale=null,yt(e.options.zoom.onZoomComplete,[{chart:s}]))}function cv(s,e,t){const r=e.delta;r&&(e.panning=!0,rv(s,{x:t.deltaX-r.x,y:t.deltaY-r.y},e.panScales),e.delta={x:t.deltaX,y:t.deltaY})}function US(s,e,t){const{enabled:r,onPanStart:n,onPanRejected:i}=e.options.pan;if(!r)return;const a=t.target.getBoundingClientRect(),o={x:t.center.x-a.left,y:t.center.y-a.top};if(yt(n,[{chart:s,event:t,point:o}])===!1)return yt(i,[{chart:s,event:t}]);e.panScales=J1(e.options.pan,o,s),e.delta={x:0,y:0},cv(s,e,t)}function VS(s,e){e.delta=null,e.panning&&(e.panning=!1,e.filterNextClick=!0,yt(e.options.pan.onPanComplete,[{chart:s}]))}const oh=new WeakMap;function eb(s,e){const t=Vs(s),r=s.canvas,{pan:n,zoom:i}=e,a=new fl.Manager(r);i&&i.pinch.enabled&&(a.add(new fl.Pinch),a.on("pinchstart",o=>AS(s,t,o)),a.on("pinch",o=>ov(s,t,o)),a.on("pinchend",o=>_S(s,t,o))),n&&n.enabled&&(a.add(new fl.Pan({threshold:n.threshold,enable:ES(s,t)})),a.on("panstart",o=>US(s,t,o)),a.on("panmove",o=>cv(s,t,o)),a.on("panend",()=>VS(s,t))),oh.set(s,a)}function tb(s){const e=oh.get(s);e&&(e.remove("pinchstart"),e.remove("pinch"),e.remove("pinchend"),e.remove("panstart"),e.remove("pan"),e.remove("panend"),e.destroy(),oh.delete(s))}function LS(s,e){const{pan:t,zoom:r}=s,{pan:n,zoom:i}=e;return r?.zoom?.pinch?.enabled!==i?.zoom?.pinch?.enabled||t?.enabled!==n?.enabled||t?.threshold!==n?.threshold}var TS="2.2.0";function Mu(s,e,t){const r=t.zoom.drag,{dragStart:n,dragEnd:i}=Vs(s);if(r.drawTime!==e||!i)return;const{left:a,top:o,width:l,height:u}=av(s,t.zoom.mode,{dragStart:n,dragEnd:i},r.maintainAspectRatio),d=s.ctx;d.save(),d.beginPath(),d.fillStyle=r.backgroundColor||"rgba(225,225,225,0.3)",d.fillRect(a,o,l,u),r.borderWidth>0&&(d.lineWidth=r.borderWidth,d.strokeStyle=r.borderColor||"rgba(225,225,225)",d.strokeRect(a,o,l,u)),d.restore()}var MS={id:"zoom",version:TS,defaults:{pan:{enabled:!1,mode:"xy",threshold:10,modifierKey:null},zoom:{wheel:{enabled:!1,speed:.1,modifierKey:null},drag:{enabled:!1,drawTime:"beforeDatasetsDraw",modifierKey:null},pinch:{enabled:!1},mode:"xy"}},start:function(s,e,t){const r=Vs(s);r.options=t,Object.prototype.hasOwnProperty.call(t.zoom,"enabled")&&console.warn("The option `zoom.enabled` is no longer supported. Please use `zoom.wheel.enabled`, `zoom.drag.enabled`, or `zoom.pinch.enabled`."),(Object.prototype.hasOwnProperty.call(t.zoom,"overScaleMode")||Object.prototype.hasOwnProperty.call(t.pan,"overScaleMode"))&&console.warn("The option `overScaleMode` is deprecated. Please use `scaleMode` instead (and update `mode` as desired)."),fl&&eb(s,t),s.pan=(n,i,a)=>rv(s,n,i,a),s.zoom=(n,i)=>sp(s,n,i),s.zoomRect=(n,i,a)=>sv(s,n,i,a),s.zoomScale=(n,i,a)=>dS(s,n,i,a),s.resetZoom=n=>mS(s,n),s.getZoomLevel=()=>hS(s),s.getInitialScaleBounds=()=>nv(s),s.getZoomedScaleBounds=()=>pS(s),s.isZoomedOrPanned=()=>gS(s),s.isZoomingOrPanning=()=>Jg(s)},beforeEvent(s,{event:e}){if(Jg(s))return!1;if(e.type==="click"||e.type==="mouseup"){const t=Vs(s);if(t.filterNextClick)return t.filterNextClick=!1,!1}},beforeUpdate:function(s,e,t){const r=Vs(s),n=r.options;r.options=t,LS(n,t)&&(tb(s),eb(s,t)),jS(s,t)},beforeDatasetsDraw(s,e,t){Mu(s,"beforeDatasetsDraw",t)},afterDatasetsDraw(s,e,t){Mu(s,"afterDatasetsDraw",t)},beforeDraw(s,e,t){Mu(s,"beforeDraw",t)},afterDraw(s,e,t){Mu(s,"afterDraw",t)},stop:function(s){CS(s),fl&&tb(s),X4(s)},panFunctions:ih,zoomFunctions:rh,zoomRectFunctions:nh};const sb=typeof window<"u"&&window?.document?.documentElement||null;function IS(s){try{if(!sb)return null;const e=getComputedStyle(sb).getPropertyValue(s).trim();if(!e)return null;if(e.startsWith("#"))return e;const r=e.replace(/,/g," ").replace(/\s+/g," ").trim().split(" ");if(r.length===3&&r.every(n=>/^\d+$/.test(n))){const[n,i,a]=r.map(Number);return`rgb(${n} ${i} ${a})`}return e||null}catch{return null}}function ch(s,e=1){if(!s)return`rgba(0,0,0,${e})`;const t=s.match(/^#([0-9a-fA-F]{6})$/);if(t){const n=t[1],i=parseInt(n.substr(0,2),16),a=parseInt(n.substr(2,2),16),o=parseInt(n.substr(4,2),16);return`rgba(${i}, ${a}, ${o}, ${e})`}const r=s.match(/(\d+)\s*(?:[, ])\s*(\d+)\s*(?:[, ])\s*(\d+)/)||s.match(/(\d+)\s+(\d+)\s+(\d+)/);if(r){const n=Number(r[1]),i=Number(r[2]),a=Number(r[3]);return`rgba(${n}, ${i}, ${a}, ${e})`}return`rgba(0,0,0,${e})`}function ds(s,e,t=1){const r=IS(s);return r?ch(r,t):e?ch(e,t):`rgba(0,0,0,${t})`}const Qm={pain:{none:ds("--color-pain-none",Tt.colors.pain.none),mild:ds("--color-pain-mild",Tt.colors.pain.mild),moderate:ds("--color-pain-moderate",Tt.colors.pain.moderate),severe:ds("--color-pain-severe",Tt.colors.pain.severe),extreme:ds("--color-pain-extreme",Tt.colors.pain.extreme)},treatment:{primary:ds("--chart-series-2",Tt.colors.secondary[500]),medication:ds("--chart-series-3",Tt.colors.accent[500]),therapy:ds("--chart-series-1",Tt.colors.primary[600]),lifestyle:ds("--chart-series-6",Tt.colors.neutral[600])},analytics:{trend:ds("--chart-series-1",Tt.colors.primary[500]),average:ds("--chart-series-2",Tt.colors.secondary[500]),prediction:ds("--chart-series-3",Tt.colors.accent[400]),baseline:ds("--chart-series-6",Tt.colors.neutral[500])},status:{normal:ds("--chart-series-1",Tt.colors.status.info),warning:ds("--chart-series-4",Tt.colors.status.warning),critical:ds("--chart-series-6",Tt.colors.status.error),success:ds("--chart-series-2",Tt.colors.status.success)},series:[ds("--chart-series-1",Tt.colors.primary[500]),ds("--chart-series-2",Tt.colors.secondary[500]),ds("--chart-series-3",Tt.colors.accent[500]),ds("--chart-series-4",Tt.colors.pain.severe),ds("--chart-series-5",Tt.colors.pain.moderate),ds("--chart-series-6",Tt.colors.neutral[600]),ds("--chart-series-1",Tt.colors.primary[700]),ds("--chart-series-2",Tt.colors.secondary[700]),ds("--chart-series-3",Tt.colors.accent[700]),ds("--chart-series-6",Tt.colors.pain.extreme)]},RS=(s,e="series")=>{const t=Qm[e];return Array.isArray(t)?t[s%t.length]:typeof t=="object"?Object.values(t)[s%Object.values(t).length]:Qm.series[s%Qm.series.length]},OS=(s,e=.2,t="series")=>{const r=RS(s,t);return r.startsWith("rgba")?r.replace(/rgba\((\d+),\s*(\d+),\s*(\d+),\s*([0-9.]+)\)/,`rgba($1, $2, $3, ${e})`):ch(r,e)};OS(0,.1,"analytics");typeof window<"u"&&cd._registered!==!0&&(cd.register(...H4,MS),cd._registered=!0);const rb={warmth:0,coachIntensity:0,allowLightness:!1,medicalTerms:!1},ef={risingPainIncrease:1.5,flarePainLevel:7,recoveryHours:24};class FS{measurements=[];detectState(e,t){if(e.length===0)return"stable";const r=[...e].sort((a,o)=>new Date(o.timestamp).getTime()-new Date(a.timestamp).getTime()),n=r[0],i=n.baselineData?.pain??n.intensity??0;if(i>=ef.flarePainLevel)return"flare";if(t!==void 0&&t<ef.recoveryHours)return"recovery";if(r.length>=2){const a=r[1],o=a.baselineData?.pain??a.intensity??0;if(i-o>=ef.risingPainIncrease)return"rising"}return"stable"}calculatePainTrend(e){if(e.length<2)return;const t=[...e].sort((a,o)=>new Date(o.timestamp).getTime()-new Date(a.timestamp).getTime()),r=t[0].baselineData?.pain??t[0].intensity??0,n=t[1].baselineData?.pain??t[1].intensity??0,i=r-n;return{current:r,previous:n,direction:i>.5?"up":i<-.5?"down":"stable"}}buildContext(e,t,r){return{state:this.detectState(e,r?.timeSinceFlare),preferences:t,painTrend:this.calculatePainTrend(e),timeSinceFlare:r?.timeSinceFlare,sleepQuality:r?.sleepQuality}}selectCopy(e,t){if(e.states){const r=e.states[t.state];if(r)return r}return e.warmth&&t.preferences.warmth===1?e.warmth.warm:e.medical&&t.preferences.medicalTerms?e.medical.withTerms:e.base}generateInsight(e,t=14){if(e.length<2)return null;const r=new Date;r.setDate(r.getDate()-t);const n=e.filter(y=>new Date(y.timestamp)>=r);if(n.length<2)return null;const i=n.reduce((y,v)=>y+(v.baselineData?.pain??v.intensity??0),0)/n.length,a=new Date(r);a.setDate(a.getDate()-t);const o=e.filter(y=>new Date(y.timestamp)>=a&&new Date(y.timestamp)<r);if(o.length<2)return{summary:`Last ${t} days: average pain ${i.toFixed(1)}.`,confidence:"low"};const l=o.reduce((y,v)=>y+(v.baselineData?.pain??v.intensity??0),0)/o.length,u=i-l,d=u>0?"â†‘":"â†“",m=Math.abs(u),p=n.length>=10?"high":n.length>=5?"medium":"low",f=`Last ${t} days: average pain ${l.toFixed(1)} â†’ ${i.toFixed(1)} (${d}${m.toFixed(1)}).`,g=[];return{summary:f,factors:g.length>0?g:void 0,confidence:p}}trackMeasurement(e){this.measurements.push(e),this.persistMeasurement(e)}getAcceptanceRate(e,t){const r=this.measurements.filter(i=>i.metric==="prompt_acceptance"&&i.context.intent===e&&(!t||i.context.state===t));return r.length===0?void 0:r.reduce((i,a)=>i+a.value,0)/r.length}getAverageTimeToCalm(){const e=this.measurements.filter(r=>r.metric==="time_to_calm");return e.length===0?void 0:e.reduce((r,n)=>r+n.value,0)/e.length}async persistMeasurement(e){try{await(await this.openDatabase()).transaction("tone-measurements","readwrite").objectStore("tone-measurements").add(e)}catch(t){console.error("Failed to persist tone measurement:",t)}}async openDatabase(){return new Promise((e,t)=>{const r=indexedDB.open("pain-tracker-tone",1);r.onerror=()=>t(r.error),r.onsuccess=()=>e(r.result),r.onupgradeneeded=n=>{const i=n.target.result;i.objectStoreNames.contains("tone-measurements")||i.createObjectStore("tone-measurements",{keyPath:"timestamp",autoIncrement:!0})}})}async loadMeasurements(){try{const n=(await this.openDatabase()).transaction("tone-measurements","readonly").objectStore("tone-measurements").getAll();n.onsuccess=()=>{this.measurements=n.result}}catch(e){console.error("Failed to load tone measurements:",e)}}}const Qo=new FS;async function BS(){await Qo.loadMeasurements()}const lv=I.createContext(void 0);function zS({children:s}){const e=fc(p=>p.entries||[]),[t,r]=I.useState(()=>{const p=localStorage.getItem("tone-preferences");if(p)try{return JSON.parse(p)}catch{return rb}return rb}),[n,i]=I.useState(()=>Qo.buildContext(e,t));I.useEffect(()=>{const p=Qo.buildContext(e,t,{});i(p)},[e,t]);const a=I.useCallback(p=>{r(f=>{const g={...f,...p};return localStorage.setItem("tone-preferences",JSON.stringify(g)),g})},[]),o=I.useCallback(p=>Qo.selectCopy(p,n),[n]),l=I.useCallback((p,f)=>{const g={metric:"prompt_acceptance",value:f?1:0,context:{state:n.state,intent:p},timestamp:new Date().toISOString()};Qo.trackMeasurement(g)},[n.state]),u=I.useCallback(p=>{const f={metric:"time_to_calm",value:p,context:{state:"flare",intent:"coach"},timestamp:new Date().toISOString()};Qo.trackMeasurement(f)},[]),d=I.useCallback(p=>{i(f=>({...f,state:p}))},[]),m={context:n,preferences:t,updatePreferences:a,getCopy:o,trackInteraction:l,trackTimeToCalm:u,forceState:d};return c.jsxDEV(lv.Provider,{value:m,children:s},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/contexts/ToneContext.tsx",lineNumber:150,columnNumber:10},this)}function rp(){const s=I.useContext(lv);if(!s)throw new Error("useTone must be used within ToneProvider");return s}function Rs(s){const{getCopy:e}=rp();return e(s)}const Gn={painSliderLabel:{base:"Pain intensity (0â€“10)",states:{flare:"Pain level"},medical:{plain:"Pain intensity",withTerms:"Pain intensity (numeric rating scale)"}},painSliderHint:{base:"Use slider or enter number directly",states:{flare:"Pick your number"}},locationsLabel:{base:"Where does it hurt?",states:{stable:"Affected areas",flare:"Location"}},locationsHint:{base:"Choose all that apply",states:{flare:"Tap all areas"}},bodyMapToggle:{base:"Or choose from a list",states:{flare:"Use list instead"}},notesLabel:{base:"Anything worth noting?",states:{stable:"Notes (optional)",flare:"Notes"},warmth:{neutral:"Additional notes",warm:"Anything worth noting?"}},notesPlaceholder:{base:"What triggered it? What helped?",states:{stable:"Triggers, relief strategies, context...",flare:"What happened?"}},continueButton:{base:"Continue",states:{flare:"Next"}},saveButton:{base:"Save entry",states:{stable:"Save and finish",flare:"Save"}},keyboardHint:{base:"Press Enter to continue",states:{flare:"Enter = next"}}},Si={greeting:{base:"You're safe. We'll go step by step.",warmth:{neutral:"Flare mode. Follow the guide.",warm:"You're safe. We'll go step by step."}},breathingPhases:{inhale:{base:"Inhaleâ€¦ 4",states:{flare:"Inâ€¦ 4"}},hold:{base:"Holdâ€¦ 4",states:{flare:"Holdâ€¦ 4"}},exhale:{base:"Exhaleâ€¦ 6",states:{flare:"Outâ€¦ 6"}},pause:{base:"Pauseâ€¦ 2",states:{flare:"Restâ€¦ 2"}}},affirmations:["This will pass.","You've managed this before.","One breath at a time.","You're doing what helps.","Your body is working to calm.","This is temporary.","You're safe right now.","Each breath helps."],crisisPrompt:{base:"Need immediate support?",states:{flare:"Need help now?"}},crisisHotline:{base:"988 Suicide & Crisis Lifeline",srText:"Call 988 for immediate crisis support"},closeButton:{base:"I'm feeling better",states:{flare:"Done"},warmth:{neutral:"Exit",warm:"I'm feeling better"}}},Iu={noLogs:{headline:{base:"Two days of logs unlock patterns."},subtext:{base:"Start with todayâ€”10 seconds."},cta:{base:"Log first entry"},secondaryCta:{base:"Learn how tracking helps"}}},$S=Si.affirmations,Ru={inhale:4e3,hold:4e3,exhale:6e3,pause:2e3};function WS({isActive:s,onClose:e,affirmations:t=$S,showRedactionToggle:r=!1}){const[n,i]=I.useState("inhale"),[a,o]=I.useState(0),[l,u]=I.useState(!1),[d,m]=I.useState(0),[p]=I.useState(Date.now()),{trackTimeToCalm:f}=rp(),g=Rs(Si.greeting),y=Rs(Si.crisisPrompt),v=Rs(Si.crisisHotline),N=Rs(Si.closeButton),D=Rs(Si.breathingPhases.inhale),j=Rs(Si.breathingPhases.hold),C=Rs(Si.breathingPhases.exhale),E=Rs(Si.breathingPhases.pause),A=()=>{const O=(Date.now()-p)/1e3;f(O),e()},V=O=>{if("vibrate"in navigator){const S={light:[10],medium:[20],heavy:[30,10,30]};navigator.vibrate(S[O])}};if(I.useEffect(()=>{if(!s)return;const O=[{phase:"inhale",duration:Ru.inhale},{phase:"hold",duration:Ru.hold},{phase:"exhale",duration:Ru.exhale},{phase:"pause",duration:Ru.pause}];let S=0;const L=()=>{S=(S+1)%O.length;const{phase:$,duration:Z}=O[S];return i($),$==="inhale"?(V("light"),m(re=>re+1)):$==="exhale"&&V("medium"),setTimeout(L,Z)},B=setTimeout(L,O[0].duration);return()=>clearTimeout(B)},[s,n]),I.useEffect(()=>{if(!s)return;const O=setInterval(()=>{o(S=>(S+1)%t.length)},1e4);return()=>clearInterval(O)},[s,t.length]),I.useEffect(()=>{s&&(i("inhale"),o(0),m(0),V("heavy"))},[s]),!s)return null;const P=()=>{switch(n){case"inhale":return D;case"hold":return j;case"exhale":return C;case"pause":return E}},_=()=>{switch(n){case"inhale":return"scale-150";case"hold":return"scale-150";case"exhale":return"scale-100";case"pause":return"scale-100"}};return c.jsxDEV("div",{className:"fixed inset-0 z-[9999] bg-gradient-to-br from-blue-950 via-indigo-950 to-purple-950 flex items-center justify-center p-4 animate-in fade-in duration-500",role:"dialog","aria-modal":"true","aria-labelledby":"panic-mode-title","aria-describedby":"panic-mode-description",children:[c.jsxDEV("button",{onClick:A,className:We("absolute top-6 right-6 z-10","w-14 h-14 min-w-[56px] min-h-[56px]","bg-white/10 hover:bg-white/20 rounded-full","flex items-center justify-center","text-white/60 hover:text-white/90","transition-all duration-300","focus:outline-none focus:ring-4 focus:ring-white/30","backdrop-blur-sm"),"aria-label":N,children:c.jsxDEV(Ii,{className:"w-6 h-6"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/PanicMode.tsx",lineNumber:195,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/PanicMode.tsx",lineNumber:181,columnNumber:7},this),r&&c.jsxDEV("button",{onClick:()=>u(!l),className:We("absolute top-6 left-6 z-10","px-4 py-2 min-h-[44px]","bg-white/10 hover:bg-white/20 rounded-full","text-white/60 hover:text-white/90 text-sm","transition-all duration-300","focus:outline-none focus:ring-4 focus:ring-white/30","backdrop-blur-sm"),"aria-label":l?"Show content":"Hide sensitive content","aria-pressed":l,children:l?"ðŸ‘ï¸ Show":"ðŸ™ˆ Hide"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/PanicMode.tsx",lineNumber:200,columnNumber:9},this),c.jsxDEV("div",{className:"max-w-2xl w-full text-center space-y-8",children:[c.jsxDEV("div",{children:[c.jsxDEV("h1",{id:"panic-mode-title",className:"text-4xl md:text-5xl font-bold text-white mb-3 animate-in fade-in slide-in-from-bottom-4 duration-700",children:g},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/PanicMode.tsx",lineNumber:222,columnNumber:11},this),c.jsxDEV("p",{id:"panic-mode-description",className:"text-xl text-white/70 animate-in fade-in slide-in-from-bottom-4 duration-700 delay-100",children:t[a]},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/PanicMode.tsx",lineNumber:228,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/PanicMode.tsx",lineNumber:221,columnNumber:9},this),c.jsxDEV("div",{className:"flex items-center justify-center py-12",children:c.jsxDEV("div",{className:We("relative w-64 h-64 rounded-full","bg-gradient-to-br from-blue-400/30 to-purple-400/30","backdrop-blur-xl border-4 border-white/20","flex items-center justify-center","transition-transform duration-[4000ms] ease-in-out",_()),role:"img","aria-label":`Breathing guide: ${P()}`,"aria-live":"polite",children:[c.jsxDEV("div",{className:"absolute inset-4 rounded-full bg-gradient-to-br from-blue-300/20 to-purple-300/20 blur-xl"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/PanicMode.tsx",lineNumber:252,columnNumber:13},this),c.jsxDEV(Qr,{className:"w-16 h-16 text-white/50 animate-pulse","aria-hidden":"true"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/PanicMode.tsx",lineNumber:255,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/PanicMode.tsx",lineNumber:238,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/PanicMode.tsx",lineNumber:237,columnNumber:9},this),c.jsxDEV("div",{className:"text-2xl md:text-3xl font-medium text-white animate-in fade-in duration-500","aria-live":"assertive","aria-atomic":"true",children:P()},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/PanicMode.tsx",lineNumber:260,columnNumber:9},this),c.jsxDEV("div",{className:"text-sm text-white/50",children:[d," breathing ",d===1?"cycle":"cycles"," completed"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/PanicMode.tsx",lineNumber:269,columnNumber:9},this),c.jsxDEV("div",{className:"text-sm text-white/40 max-w-md mx-auto space-y-2",children:[c.jsxDEV("p",{children:"Follow the expanding and contracting circle"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/PanicMode.tsx",lineNumber:275,columnNumber:11},this),c.jsxDEV("p",{children:"Take your time. There's no rush."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/PanicMode.tsx",lineNumber:276,columnNumber:11},this),c.jsxDEV("p",{className:"text-xs mt-4",children:"Press the Ã— button when you're ready to return"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/PanicMode.tsx",lineNumber:277,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/PanicMode.tsx",lineNumber:274,columnNumber:9},this),c.jsxDEV("div",{className:"pt-8 border-t border-white/10",children:[c.jsxDEV("p",{className:"text-xs text-white/40 mb-3",children:y},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/PanicMode.tsx",lineNumber:282,columnNumber:11},this),c.jsxDEV("div",{className:"flex flex-wrap gap-3 justify-center",children:[c.jsxDEV("a",{href:"tel:988",className:We("px-6 py-3 min-h-[48px]","bg-white/10 hover:bg-white/20 rounded-full","text-white/80 hover:text-white text-sm font-medium","transition-all duration-300","focus:outline-none focus:ring-4 focus:ring-white/30"),children:v},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/PanicMode.tsx",lineNumber:284,columnNumber:13},this),c.jsxDEV("button",{onClick:A,className:We("px-6 py-3 min-h-[48px]","bg-white/10 hover:bg-white/20 rounded-full","text-white/80 hover:text-white text-sm font-medium","transition-all duration-300","focus:outline-none focus:ring-4 focus:ring-white/30"),children:N},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/PanicMode.tsx",lineNumber:296,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/PanicMode.tsx",lineNumber:283,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/PanicMode.tsx",lineNumber:281,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/PanicMode.tsx",lineNumber:219,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/PanicMode.tsx",lineNumber:173,columnNumber:5},this)}function HS({children:s,onNavigate:e,currentView:t="dashboard",stats:r}){const[n,i]=I.useState(!1),[a,o]=I.useState(!1),{mode:l,setMode:u}=cP(),d=[{id:"dashboard",name:"Dashboard",icon:kD,badge:null},{id:"new-entry",name:"New Entry",icon:Lm,badge:null},{id:"body-map",name:"Body Map",icon:pc,badge:null},{id:"fibromyalgia",name:"Fibromyalgia Hub",icon:Qr,badge:"New"},{id:"analytics",name:"Analytics",icon:zr,badge:"Pro"},{id:"calendar",name:"Calendar",icon:ci,badge:null},{id:"reports",name:"Reports",icon:In,badge:null}],m=[{id:"settings",name:"Settings",icon:Fx},{id:"help",name:"Help",icon:Lx}];return c.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-blue-50 dark:from-gray-950 dark:via-gray-900 dark:to-blue-950",children:[c.jsxDEV("a",{href:"#main-content",className:"sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-[9999] focus:px-6 focus:py-3 focus:bg-primary-600 focus:text-white focus:rounded-lg focus:shadow-lg focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 focus:outline-none",children:"Skip to main content"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:65,columnNumber:7},this),c.jsxDEV("header",{className:"fixed top-0 left-0 right-0 z-50 backdrop-blur-xl bg-white/70 dark:bg-gray-900/70 border-b border-gray-200/50 dark:border-gray-700/50",children:c.jsxDEV("div",{className:"mx-auto max-w-screen-2xl px-4 sm:px-6 lg:px-8",children:c.jsxDEV("div",{className:"flex h-16 items-center justify-between",children:[c.jsxDEV("div",{className:"flex items-center gap-4",children:[c.jsxDEV("button",{onClick:()=>i(!n),className:"lg:hidden p-2 rounded-xl hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-800 transition-colors","aria-label":n?"Close navigation menu":"Open navigation menu","data-testid":"nav-toggle",children:n?c.jsxDEV(Ii,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:84,columnNumber:32},this):c.jsxDEV(MD,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:84,columnNumber:60},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:78,columnNumber:15},this),c.jsxDEV("div",{className:"flex items-center gap-3",children:[c.jsxDEV("div",{className:"p-2 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl shadow-lg shadow-blue-500/30",children:c.jsxDEV(Qr,{className:"h-6 w-6 text-white"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:89,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:88,columnNumber:17},this),c.jsxDEV("div",{className:"hidden sm:block",children:[c.jsxDEV("h1",{className:"text-lg font-bold bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-blue-400 dark:to-indigo-400 bg-clip-text text-transparent",children:"Pain Tracker Pro"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:92,columnNumber:19},this),c.jsxDEV("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Empathy-Driven Care"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:95,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:91,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:87,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:77,columnNumber:13},this),r&&c.jsxDEV("div",{className:"hidden md:flex items-center gap-4",children:[c.jsxDEV("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full bg-blue-50 dark:bg-blue-950/30 border border-blue-200 dark:border-blue-800",children:[c.jsxDEV(dr,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:104,columnNumber:19},this),c.jsxDEV("span",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:[r.avgPain.toFixed(1)," avg"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:105,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:103,columnNumber:17},this),c.jsxDEV("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full bg-purple-50 dark:bg-purple-950/30 border border-purple-200 dark:border-purple-800",children:[c.jsxDEV(yo,{className:"h-4 w-4 text-purple-600 dark:text-purple-400"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:110,columnNumber:19},this),c.jsxDEV("span",{className:"text-sm font-medium text-purple-900 dark:text-purple-100",children:[r.streak," day streak"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:111,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:109,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:102,columnNumber:15},this),c.jsxDEV("div",{className:"flex items-center gap-2",children:[c.jsxDEV(js,{variant:"ghost",size:"sm",className:"rounded-xl",onClick:()=>{},children:c.jsxDEV(go,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:121,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:120,columnNumber:15},this),c.jsxDEV(js,{variant:"ghost",size:"sm",className:"rounded-xl",onClick:()=>u(l==="dark"?"light":"dark"),children:l==="dark"?c.jsxDEV(vo,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:130,columnNumber:36},this):c.jsxDEV(va,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:130,columnNumber:66},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:124,columnNumber:15},this),c.jsxDEV("div",{className:"p-2 bg-gradient-to-br from-green-400 to-emerald-500 rounded-xl cursor-pointer hover:shadow-lg hover:shadow-green-500/30 transition-all",children:c.jsxDEV(ii,{className:"h-4 w-4 text-white"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:134,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:133,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:119,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:75,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:74,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:73,columnNumber:7},this),c.jsxDEV("aside",{className:"hidden lg:fixed lg:inset-y-0 lg:left-0 lg:z-40 lg:block lg:w-64 lg:pt-16",children:c.jsxDEV("div",{className:"h-full px-4 py-6 bg-white/50 dark:bg-gray-900/50 backdrop-blur-sm border-r border-gray-200/50 dark:border-gray-700/50",children:[c.jsxDEV("nav",{className:"space-y-1",children:d.map(p=>{const f=p.icon,g=t===p.id;return c.jsxDEV("button",{onClick:()=>e?.(p.id),"data-nav-target":p.id,className:We("group flex w-full items-center justify-between rounded-xl px-4 py-3 text-sm font-medium transition-all duration-200",g?"bg-gradient-to-r from-blue-500 to-indigo-600 text-white shadow-lg shadow-blue-500/30":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"),children:[c.jsxDEV("div",{className:"flex items-center gap-3",children:[c.jsxDEV(f,{className:We("h-5 w-5 transition-transform group-hover:scale-110",g?"text-white":"text-gray-500 dark:text-gray-400")},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:162,columnNumber:21},this),c.jsxDEV("span",{children:p.name},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:168,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:161,columnNumber:19},this),p.badge&&c.jsxDEV(no,{variant:"outline",className:"rounded-full text-xs",children:p.badge},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:171,columnNumber:21},this)]},p.id,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:150,columnNumber:17},this)})},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:144,columnNumber:11},this),c.jsxDEV("div",{className:"mt-8 pt-8 border-t border-gray-200 dark:border-gray-700",children:c.jsxDEV("nav",{className:"space-y-1",children:m.map(p=>{const f=p.icon,g=t===p.id;return c.jsxDEV("button",{onClick:()=>e?.(p.id),className:We("group flex w-full items-center gap-3 rounded-xl px-4 py-3 text-sm font-medium transition-all",g?"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white":"text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-800/50"),children:[c.jsxDEV(f,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:197,columnNumber:21},this),c.jsxDEV("span",{children:p.name},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:198,columnNumber:21},this)]},p.id,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:187,columnNumber:19},this)})},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:181,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:180,columnNumber:11},this),c.jsxDEV("div",{className:"mt-8",children:c.jsxDEV(js,{onClick:()=>e?.("new-entry"),className:"w-full bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white rounded-xl shadow-lg shadow-blue-500/30 transition-all hover:shadow-xl hover:shadow-blue-500/40",children:[c.jsxDEV(Lm,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:211,columnNumber:15},this),"Quick Entry"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:207,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:206,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:143,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:142,columnNumber:7},this),n&&c.jsxDEV("div",{className:"fixed inset-0 z-40 lg:hidden",children:[c.jsxDEV("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>i(!1)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:221,columnNumber:11},this),c.jsxDEV("aside",{className:"fixed inset-y-0 left-0 w-64 bg-white dark:bg-gray-900 shadow-xl",children:c.jsxDEV("div",{className:"h-full px-4 py-6 pt-20",children:c.jsxDEV("nav",{className:"space-y-1",children:d.map(p=>{const f=p.icon,g=t===p.id;return c.jsxDEV("button",{onClick:()=>{e?.(p.id),i(!1)},"data-nav-target":p.id,className:We("group flex w-full items-center justify-between rounded-xl px-4 py-3 text-sm font-medium transition-all",g?"bg-gradient-to-r from-blue-500 to-indigo-600 text-white shadow-lg":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"),children:[c.jsxDEV("div",{className:"flex items-center gap-3",children:[c.jsxDEV(f,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:248,columnNumber:25},this),c.jsxDEV("span",{children:p.name},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:249,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:247,columnNumber:23},this),p.badge&&c.jsxDEV(no,{variant:"outline",className:"rounded-full text-xs",children:p.badge},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:252,columnNumber:25},this)]},p.id,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:233,columnNumber:21},this)})},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:227,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:226,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:225,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:220,columnNumber:9},this),c.jsxDEV("main",{id:"main-content",className:"lg:pl-64 pt-16",tabIndex:-1,children:c.jsxDEV("div",{className:"mx-auto max-w-screen-2xl px-4 sm:px-6 lg:px-8 py-8",children:s},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:267,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:266,columnNumber:7},this),c.jsxDEV("button",{onClick:()=>e?.("new-entry"),className:"lg:hidden fixed bottom-6 right-6 z-50 p-4 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-full shadow-2xl shadow-blue-500/50 hover:shadow-blue-500/70 transition-all hover:scale-110","aria-label":"Quick pain entry",children:c.jsxDEV(Lm,{className:"h-6 w-6 text-white"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:276,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:271,columnNumber:7},this),c.jsxDEV("button",{onClick:()=>o(!0),className:We("fixed bottom-6 left-6 z-50","w-14 h-14 min-w-[56px] min-h-[56px]","bg-gradient-to-br from-purple-500 to-indigo-600","rounded-full shadow-2xl shadow-purple-500/50","flex items-center justify-center","text-white","transition-all duration-300","hover:scale-110 hover:shadow-purple-500/70","focus:outline-none focus:ring-4 focus:ring-purple-500 focus:ring-offset-2","lg:bottom-8 lg:left-8"),"aria-label":"Activate calm breathing mode",title:"Need a moment? Click for breathing guide",children:c.jsxDEV(Nw,{className:"h-6 w-6 animate-pulse"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:297,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:280,columnNumber:7},this),c.jsxDEV(WS,{isActive:a,onClose:()=>o(!1),showRedactionToggle:!1},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:301,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:63,columnNumber:5},this)}function tf({title:s,value:e,delta:t,sparkline:r,severity:n,unit:i,className:a,compact:o=!1}){const l=m=>`var(--severity-${m})`,u=()=>{if(!t)return null;switch(t.direction){case"up":return c.jsxDEV(zr,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/MetricCard.tsx",lineNumber:40,columnNumber:16},this);case"down":return c.jsxDEV(hc,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/MetricCard.tsx",lineNumber:42,columnNumber:16},this);default:return c.jsxDEV(RD,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/MetricCard.tsx",lineNumber:44,columnNumber:16},this)}},d=()=>t?t.direction==="down"?"text-good-500":t.direction==="up"?"text-bad-500":"text-ink-400":"text-ink-400";return c.jsxDEV("div",{className:We("surface-card transition-all duration-[var(--duration-fast)]","hover:surface-elevated hover:shadow-[var(--elevation-2)]",o&&"p-4",a),children:[c.jsxDEV("div",{className:"text-small text-ink-300 mb-2",children:s},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/MetricCard.tsx",lineNumber:67,columnNumber:7},this),c.jsxDEV("div",{className:"flex items-baseline gap-2 mb-1",children:[c.jsxDEV("span",{className:We(o?"text-h2":"text-display","text-mono text-ink-50"),children:e},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/MetricCard.tsx",lineNumber:71,columnNumber:9},this),i&&c.jsxDEV("span",{className:"text-small text-ink-400",children:i},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/MetricCard.tsx",lineNumber:74,columnNumber:18},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/MetricCard.tsx",lineNumber:70,columnNumber:7},this),t&&c.jsxDEV("div",{className:We("flex items-center gap-1 text-small",d()),children:[u(),c.jsxDEV("span",{className:"text-mono",children:[t.value>0?"+":"",t.value.toFixed(1)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/MetricCard.tsx",lineNumber:81,columnNumber:11},this),t.label&&c.jsxDEV("span",{className:"text-ink-400",children:t.label},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/MetricCard.tsx",lineNumber:85,columnNumber:27},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/MetricCard.tsx",lineNumber:79,columnNumber:9},this),r&&r.length>0&&c.jsxDEV("div",{className:"mt-3 h-8",children:c.jsxDEV("svg",{width:"100%",height:"100%",viewBox:"0 0 100 32",preserveAspectRatio:"none",className:"overflow-visible",children:c.jsxDEV("polyline",{fill:"none",stroke:"var(--primary-500)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",points:r.map((m,p)=>{const f=p/(r.length-1)*100,g=Math.max(...r),y=Math.min(...r),v=g-y||1,N=32-(m-y)/v*28;return`${f},${N}`}).join(" ")},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/MetricCard.tsx",lineNumber:99,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/MetricCard.tsx",lineNumber:92,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/MetricCard.tsx",lineNumber:91,columnNumber:9},this),n!==void 0&&c.jsxDEV("div",{className:"mt-3 h-1 bg-surface-700 rounded-full overflow-hidden",children:c.jsxDEV("div",{className:"h-full transition-all duration-[var(--duration-normal)]",style:{width:`${n/10*100}%`,backgroundColor:l(n)}},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/MetricCard.tsx",lineNumber:123,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/MetricCard.tsx",lineNumber:122,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/MetricCard.tsx",lineNumber:58,columnNumber:5},this)}function qS({statement:s,confidence:e,rationale:t,onDismiss:r,className:n}){const[i,a]=I.useState(!1),o=()=>Array.from({length:3},(l,u)=>c.jsxDEV("div",{className:We("w-1.5 h-1.5 rounded-full transition-colors",u<e?"bg-primary-500":"bg-surface-600")},u,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/InsightChip.tsx",lineNumber:25,columnNumber:7},this));return c.jsxDEV("div",{className:We("relative inline-block",n),children:[c.jsxDEV("div",{className:We("flex items-center gap-2 px-3 py-2 rounded-[var(--radius-md)]","bg-surface-700 border border-surface-600","text-small text-ink-100","transition-all duration-[var(--duration-fast)]","hover:bg-surface-600 hover:border-primary-500/30"),children:[c.jsxDEV("span",{className:"flex-1",children:s},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/InsightChip.tsx",lineNumber:47,columnNumber:9},this),c.jsxDEV("div",{className:"flex items-center gap-0.5",children:o()},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/InsightChip.tsx",lineNumber:50,columnNumber:9},this),c.jsxDEV("button",{onClick:()=>a(!i),className:We("p-1 rounded hover:bg-surface-500 transition-colors","focus-visible:outline focus-visible:outline-2 focus-visible:outline-primary-500"),"aria-label":"Show insight details",children:c.jsxDEV(Ui,{className:"w-3.5 h-3.5 text-ink-400"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/InsightChip.tsx",lineNumber:61,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/InsightChip.tsx",lineNumber:53,columnNumber:9},this),r&&c.jsxDEV("button",{onClick:r,className:We("p-1 rounded hover:bg-surface-500 transition-colors","focus-visible:outline focus-visible:outline-2 focus-visible:outline-primary-500"),"aria-label":"Dismiss insight",children:c.jsxDEV(Ii,{className:"w-3.5 h-3.5 text-ink-400"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/InsightChip.tsx",lineNumber:74,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/InsightChip.tsx",lineNumber:66,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/InsightChip.tsx",lineNumber:37,columnNumber:7},this),i&&c.jsxDEV(c.Fragment,{children:[c.jsxDEV("div",{className:"fixed inset-0 z-[var(--z-popover)]",onClick:()=>a(!1)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/InsightChip.tsx",lineNumber:83,columnNumber:11},this),c.jsxDEV("div",{className:We("absolute left-0 top-full mt-2 z-[calc(var(--z-popover)+1)]","w-80 max-w-[90vw]","bg-surface-700 border border-surface-500 rounded-[var(--radius-xl)]","shadow-[var(--elevation-3)] p-4","animate-in fade-in-0 slide-in-from-top-2 duration-[var(--duration-fast)]"),children:[c.jsxDEV("div",{className:"flex items-start justify-between gap-3 mb-3",children:[c.jsxDEV("h4",{className:"text-body-medium text-ink-50",children:"Why this insight?"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/InsightChip.tsx",lineNumber:99,columnNumber:15},this),c.jsxDEV("button",{onClick:()=>a(!1),className:"p-1 rounded hover:bg-surface-600 transition-colors","aria-label":"Close",children:c.jsxDEV(Ii,{className:"w-4 h-4 text-ink-400"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/InsightChip.tsx",lineNumber:105,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/InsightChip.tsx",lineNumber:100,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/InsightChip.tsx",lineNumber:98,columnNumber:13},this),c.jsxDEV("p",{className:"text-small text-ink-200 leading-relaxed mb-3",children:t},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/InsightChip.tsx",lineNumber:109,columnNumber:13},this),c.jsxDEV("div",{className:"flex items-center gap-2 text-tiny text-ink-400",children:[c.jsxDEV("span",{children:"Confidence:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/InsightChip.tsx",lineNumber:113,columnNumber:15},this),c.jsxDEV("div",{className:"flex items-center gap-1",children:o()},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/InsightChip.tsx",lineNumber:114,columnNumber:15},this),c.jsxDEV("span",{children:e===3?"High":e===2?"Medium":"Low"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/InsightChip.tsx",lineNumber:115,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/InsightChip.tsx",lineNumber:112,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/InsightChip.tsx",lineNumber:89,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/InsightChip.tsx",lineNumber:81,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/InsightChip.tsx",lineNumber:36,columnNumber:5},this)}const Ou=["No pain","Very mild","Mild","Uncomfortable","Moderate","Distracting","Distressing","Intense","Very intense","Severe","Unbearable"],GS=["Lower back","Upper back","Neck","Shoulder (L)","Shoulder (R)","Hip (L)","Hip (R)","Knee (L)","Knee (R)","Head","Abdomen"],YS=["Aching","Sharp","Burning","Throbbing","Stabbing","Tingling","Numbness","Stiffness","Weakness"];function KS({onComplete:s,onCancel:e}){const[t,r]=I.useState(1),[n,i]=I.useState(5),[a,o]=I.useState([]),[l,u]=I.useState([]),[d,m]=I.useState(""),p=Rs(Gn.painSliderLabel),f=Rs(Gn.painSliderHint),g=Rs(Gn.locationsLabel),y=Rs(Gn.locationsHint);Rs(Gn.bodyMapToggle);const v=Rs(Gn.notesLabel),N=Rs(Gn.notesPlaceholder),D=Rs(Gn.continueButton),j=Rs(Gn.saveButton),C=Rs(Gn.keyboardHint),E=O=>{i(O)},A=(O,S,L)=>{S.includes(O)?L(S.filter(B=>B!==O)):L([...S,O])},V=I.useCallback(()=>{t<3?r(t+1):s({pain:n,locations:a,symptoms:l,notes:d})},[t,n,a,l,d,s]),P=()=>{t>1?r(t-1):e()},_=O=>`hsl(220, ${20+O*5}%, ${95-O*6}%)`;return I.useEffect(()=>{const O=S=>{if(S.key==="Enter"&&!S.shiftKey){if(document.activeElement?.tagName==="TEXTAREA")return;S.preventDefault(),V()}S.key==="Escape"&&(S.preventDefault(),t>1?r(t-1):e())};return document.addEventListener("keydown",O),()=>document.removeEventListener("keydown",O)},[t,V,e]),c.jsxDEV("div",{className:"min-h-screen bg-surface-900 flex flex-col",children:[c.jsxDEV("div",{className:"flex items-center justify-between p-4 border-b border-surface-700",children:[c.jsxDEV("button",{onClick:P,className:We("flex items-center gap-2 px-3 py-2 rounded-[var(--radius-md)]","text-small text-ink-300 hover:text-ink-100 hover:bg-surface-800","transition-colors duration-[var(--duration-fast)]"),children:[c.jsxDEV(_h,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:146,columnNumber:11},this),t===1?"Cancel":"Back"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:138,columnNumber:9},this),c.jsxDEV("div",{className:"flex items-center gap-2",children:[1,2,3].map(O=>c.jsxDEV("div",{className:We("w-2 h-2 rounded-full transition-all duration-[var(--duration-normal)]",O===t&&"w-6 bg-primary-500",O<t&&"bg-good-500",O>t&&"bg-surface-600")},O,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:152,columnNumber:13},this))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:150,columnNumber:9},this),c.jsxDEV("div",{className:"text-small text-ink-400 text-mono w-16 text-right",children:[t,"/3"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:164,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:137,columnNumber:7},this),c.jsxDEV("div",{className:"flex-1 overflow-y-auto p-6",children:[t===1&&c.jsxDEV("div",{className:"max-w-2xl mx-auto space-y-6",children:[c.jsxDEV("div",{children:[c.jsxDEV("h2",{className:"text-h2 text-ink-50 mb-2",children:p},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:172,columnNumber:15},this),c.jsxDEV("p",{className:"text-small text-ink-400",children:f},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:173,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:171,columnNumber:13},this),c.jsxDEV("div",{className:"flex items-center justify-center gap-4 mb-6",children:[c.jsxDEV("button",{onClick:()=>E(Math.max(0,n-1)),"aria-label":"Decrease pain level",className:We("flex items-center justify-center","w-12 h-12 min-w-[48px] min-h-[48px]","rounded-[var(--radius-md)]","bg-surface-700 hover:bg-surface-600 border border-surface-600","text-ink-200 hover:text-ink-100","transition-colors duration-[var(--duration-fast)]","text-h2 font-medium","disabled:opacity-50 disabled:cursor-not-allowed"),disabled:n===0,children:"âˆ’"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:178,columnNumber:15},this),c.jsxDEV("input",{type:"number",min:"0",max:"10",value:n,onChange:O=>{const S=Math.max(0,Math.min(10,Number(O.target.value)));E(S)},"aria-label":"Pain level numeric entry",className:We("w-24 h-16 text-center","text-4xl font-bold text-mono","bg-surface-800 border-2 border-surface-600","text-ink-50 rounded-[var(--radius-md)]","focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent","[appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none")},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:196,columnNumber:15},this),c.jsxDEV("button",{onClick:()=>E(Math.min(10,n+1)),"aria-label":"Increase pain level",className:We("flex items-center justify-center","w-12 h-12 min-w-[48px] min-h-[48px]","rounded-[var(--radius-md)]","bg-surface-700 hover:bg-surface-600 border border-surface-600","text-ink-200 hover:text-ink-100","transition-colors duration-[var(--duration-fast)]","text-h2 font-medium","disabled:opacity-50 disabled:cursor-not-allowed"),disabled:n===10,children:"+"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:216,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:177,columnNumber:13},this),c.jsxDEV("div",{className:We("p-8 rounded-[var(--radius-xl)] text-center","transition-all duration-[var(--duration-normal)]"),style:{backgroundColor:_(n),color:n>5?"var(--ink-50)":"var(--ink-900)"},role:"status","aria-live":"polite",children:[c.jsxDEV("div",{className:"text-display text-mono mb-2 text-6xl font-bold",children:n},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:248,columnNumber:15},this),c.jsxDEV("div",{className:"text-body-medium",children:Ou[n]},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:249,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:236,columnNumber:13},this),c.jsxDEV("div",{className:"space-y-2",children:[c.jsxDEV("label",{htmlFor:"pain-slider",className:"sr-only",children:"Pain intensity slider. Use arrow keys or swipe to adjust."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:254,columnNumber:15},this),c.jsxDEV("input",{id:"pain-slider",type:"range",min:"0",max:"10",value:n,onChange:O=>E(Number(O.target.value)),onKeyDown:O=>{O.key==="ArrowUp"||O.key==="ArrowRight"?(O.preventDefault(),E(Math.min(10,n+1))):(O.key==="ArrowDown"||O.key==="ArrowLeft")&&(O.preventDefault(),E(Math.max(0,n-1)))},"aria-label":"Pain intensity","aria-valuemin":0,"aria-valuemax":10,"aria-valuenow":n,"aria-valuetext":`${n} of 10, ${Ou[n]}`,"aria-describedby":"pain-slider-help",className:`w-full h-12 cursor-pointer appearance-none bg-transparent
                  [&::-webkit-slider-track]:h-2 [&::-webkit-slider-track]:bg-surface-700 
                  [&::-webkit-slider-track]:rounded-full
                  [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-6 
                  [&::-webkit-slider-thumb]:h-6 [&::-webkit-slider-thumb]:rounded-full 
                  [&::-webkit-slider-thumb]:bg-primary-500 [&::-webkit-slider-thumb]:shadow-lg
                  [&::-moz-range-track]:h-2 [&::-moz-range-track]:bg-surface-700 
                  [&::-moz-range-track]:rounded-full
                  [&::-moz-range-thumb]:w-6 [&::-moz-range-thumb]:h-6 
                  [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:bg-primary-500 
                  [&::-moz-range-thumb]:border-0 [&::-moz-range-thumb]:shadow-lg
                  focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 focus:ring-offset-surface-900`},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:257,columnNumber:15},this),c.jsxDEV("div",{id:"pain-slider-help",className:"sr-only",children:"Use arrow keys to adjust pain level, or click the plus and minus buttons above for precise control."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:292,columnNumber:15},this),c.jsxDEV("div",{className:"flex justify-between text-tiny text-ink-400 text-mono px-1",children:Array.from({length:11},(O,S)=>c.jsxDEV("button",{onClick:()=>E(S),"aria-label":`Set pain level to ${S}, ${Ou[S]}`,className:We("w-8 h-8 min-w-[32px] min-h-[32px] rounded flex items-center justify-center","hover:bg-surface-700 transition-colors","focus:outline-none focus:ring-2 focus:ring-primary-500",S===n&&"bg-primary-500 text-ink-900 font-bold"),children:S},S,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:300,columnNumber:19},this))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:298,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:253,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:170,columnNumber:11},this),t===2&&c.jsxDEV("div",{className:"max-w-2xl mx-auto space-y-6",children:[c.jsxDEV("div",{children:[c.jsxDEV("h2",{className:"text-h2 text-ink-50 mb-2",children:g},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:322,columnNumber:15},this),c.jsxDEV("p",{className:"text-small text-ink-400",children:y},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:323,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:321,columnNumber:13},this),c.jsxDEV("div",{"aria-live":"polite","aria-atomic":"true",className:"sr-only",children:a.length>0?`${a.length} location${a.length>1?"s":""} selected: ${a.join(", ")}`:"No locations selected"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:327,columnNumber:13},this),c.jsxDEV("fieldset",{children:[c.jsxDEV("legend",{className:"sr-only",children:"Pain locations"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:335,columnNumber:15},this),c.jsxDEV("div",{className:"flex flex-wrap gap-2",children:GS.map(O=>c.jsxDEV("button",{onClick:()=>A(O,a,o),role:"checkbox","aria-checked":a.includes(O),"aria-label":`${O} location`,className:We("px-4 py-2 min-w-[48px] min-h-[48px] rounded-[var(--radius-full)] text-small","border-2 transition-all duration-[var(--duration-fast)]","focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 focus:ring-offset-surface-900",a.includes(O)?"bg-primary-500 border-primary-500 text-ink-900 font-medium":"bg-surface-800 border-surface-600 text-ink-200 hover:border-primary-500/50"),children:[a.includes(O)&&c.jsxDEV(d0,{className:"w-3 h-3 inline mr-1","aria-hidden":"true"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:354,columnNumber:23},this),O]},O,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:338,columnNumber:19},this))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:336,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:334,columnNumber:13},this),c.jsxDEV("div",{className:"mt-8",children:[c.jsxDEV("h3",{className:"text-body-medium text-ink-200 mb-3",children:"What does it feel like?"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:364,columnNumber:15},this),c.jsxDEV("div",{"aria-live":"polite","aria-atomic":"true",className:"sr-only",children:l.length>0?`${l.length} symptom${l.length>1?"s":""} selected: ${l.join(", ")}`:"No symptoms selected"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:367,columnNumber:15},this),c.jsxDEV("fieldset",{children:[c.jsxDEV("legend",{className:"sr-only",children:"Pain symptoms"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:374,columnNumber:17},this),c.jsxDEV("div",{className:"flex flex-wrap gap-2",children:YS.map(O=>c.jsxDEV("button",{onClick:()=>A(O,l,u),role:"checkbox","aria-checked":l.includes(O),"aria-label":`${O} symptom`,className:We("px-4 py-2 min-w-[48px] min-h-[48px] rounded-[var(--radius-full)] text-small","border-2 transition-all duration-[var(--duration-fast)]","focus:outline-none focus:ring-2 focus:ring-warn-500 focus:ring-offset-2 focus:ring-offset-surface-900",l.includes(O)?"bg-warn-500 border-warn-500 text-ink-900 font-medium":"bg-surface-800 border-surface-600 text-ink-200 hover:border-warn-500/50"),children:[l.includes(O)&&c.jsxDEV(d0,{className:"w-3 h-3 inline mr-1","aria-hidden":"true"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:393,columnNumber:25},this),O]},O,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:377,columnNumber:21},this))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:375,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:373,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:363,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:320,columnNumber:11},this),t===3&&c.jsxDEV("div",{className:"max-w-2xl mx-auto space-y-6",children:[c.jsxDEV("div",{children:[c.jsxDEV("h2",{className:"text-h2 text-ink-50 mb-2",children:v},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:407,columnNumber:15},this),c.jsxDEV("p",{className:"text-small text-ink-400",children:"Context helps identify patterns"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:408,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:406,columnNumber:13},this),c.jsxDEV("div",{children:[c.jsxDEV("label",{htmlFor:"pain-notes",className:"block text-body-medium text-ink-200 mb-2",children:"Additional Notes"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:412,columnNumber:15},this),c.jsxDEV("textarea",{id:"pain-notes",value:d,onChange:O=>m(O.target.value),placeholder:N,"aria-label":"Additional notes about pain","aria-describedby":"notes-hint notes-remaining",maxLength:500,className:We("w-full h-32 p-4 rounded-[var(--radius-xl)]","bg-surface-800 border border-surface-600","text-body text-ink-100 placeholder:text-ink-500","focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 focus:ring-offset-surface-900 focus:border-transparent","transition-all duration-[var(--duration-fast)]","resize-none")},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:415,columnNumber:15},this),c.jsxDEV("div",{className:"flex justify-between items-center mt-2",children:[c.jsxDEV("span",{id:"notes-hint",className:"text-small text-ink-400",children:d.length===0?"No notes yet":`${d.length} character${d.length===1?"":"s"}`},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:433,columnNumber:17},this),c.jsxDEV("span",{id:"notes-remaining",className:"text-small text-ink-500","aria-live":"polite","aria-atomic":"true",children:[500-d.length," remaining"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:438,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:432,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:411,columnNumber:13},this),c.jsxDEV("div",{className:"surface-card",children:[c.jsxDEV("div",{className:"text-small text-ink-400 mb-3",children:"Summary"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:451,columnNumber:15},this),c.jsxDEV("div",{className:"space-y-2",children:[c.jsxDEV("div",{className:"flex items-center gap-2",children:[c.jsxDEV("span",{className:"text-ink-300",children:"Pain level:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:454,columnNumber:19},this),c.jsxDEV("span",{className:"text-mono text-ink-50 font-medium",children:[n,"/10"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:455,columnNumber:19},this),c.jsxDEV("span",{className:"text-ink-400",children:["(",Ou[n],")"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:456,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:453,columnNumber:17},this),a.length>0&&c.jsxDEV("div",{className:"flex items-start gap-2",children:[c.jsxDEV("span",{className:"text-ink-300",children:"Locations:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:460,columnNumber:21},this),c.jsxDEV("span",{className:"text-ink-50",children:a.join(", ")},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:461,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:459,columnNumber:19},this),l.length>0&&c.jsxDEV("div",{className:"flex items-start gap-2",children:[c.jsxDEV("span",{className:"text-ink-300",children:"Symptoms:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:466,columnNumber:21},this),c.jsxDEV("span",{className:"text-ink-50",children:l.join(", ")},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:467,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:465,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:452,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:450,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:405,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:168,columnNumber:7},this),c.jsxDEV("div",{className:"sticky bottom-0 left-0 right-0 p-4 border-t border-surface-700 bg-surface-900/95 backdrop-blur-sm z-10",children:[c.jsxDEV("div",{className:"max-w-2xl mx-auto flex gap-3",children:[t>1&&c.jsxDEV("button",{onClick:()=>r(t-1),className:We("px-6 py-4 rounded-[var(--radius-xl)]","min-h-[56px] min-w-[56px]","bg-surface-800 hover:bg-surface-700","text-body-medium text-ink-200 font-medium","transition-colors duration-[var(--duration-fast)]","focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 focus:ring-offset-surface-900","flex-shrink-0"),"aria-label":"Go back to previous step",children:"Back"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:480,columnNumber:13},this),c.jsxDEV("button",{onClick:V,className:We("flex-1 py-4 rounded-[var(--radius-xl)]","min-h-[56px]","bg-primary-500 hover:bg-primary-400","text-body-medium text-ink-900 font-medium","transition-colors duration-[var(--duration-fast)]","shadow-[var(--elevation-2)]","focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 focus:ring-offset-surface-900"),"aria-label":t===3?"Save pain entry":`Continue to step ${t+1}`,children:t===3?j:D},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:496,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:478,columnNumber:9},this),c.jsxDEV("div",{className:"max-w-2xl mx-auto mt-2 text-center",children:c.jsxDEV("p",{className:"text-xs text-ink-500",children:[C,t>1&&c.jsxDEV(c.Fragment,{children:[" ","or ",c.jsxDEV("kbd",{className:"px-2 py-1 bg-surface-800 rounded text-ink-400",children:"Esc"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:519,columnNumber:20},this)," to go back"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:517,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:514,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:513,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:477,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:135,columnNumber:5},this)}function XS({entries:s,onLogNow:e,onViewCalendar:t,onViewAnalytics:r,onExport:n}){const i=I.useMemo(()=>{const u=[],d=s.length>0?s.reduce((f,g)=>new Date(g.timestamp)>new Date(f.timestamp)?g:f):null,m=d?(Date.now()-new Date(d.timestamp).getTime())/(1e3*60*60):1/0;if((m>4||s.length===0)&&u.push({id:"log-pain",priority:"primary",icon:dr,title:"Log pain now",subtitle:d?`Last entry: ${Math.floor(m)}h ago`:"Start your tracking journey",action:e,badge:"Quick",estimatedTime:"~10s"}),s.length>=7){const f=s.filter(g=>{const y=new Date(g.timestamp),v=new Date(Date.now()-10080*60*1e3);return y>=v});f.length>=5&&u.push({id:"review-trends",priority:"secondary",icon:zr,title:"Review weekly trends",subtitle:`${f.length} entries logged this week`,action:r,estimatedTime:"2 min"})}s.length>=3&&u.push({id:"view-calendar",priority:"secondary",icon:ci,title:"View calendar",subtitle:"See your pain patterns at a glance",action:t,estimatedTime:"1 min"});const p=s.filter(f=>{const g=new Date(f.timestamp),y=new Date(Date.now()-10080*60*1e3);return g>=y});if(p.length>=7&&u.push({id:"export-report",priority:"tertiary",icon:In,title:"Share report with provider",subtitle:"7 days of data ready to export",action:n,badge:"Ready",estimatedTime:"30s"}),s.length>=7){const f=p.map(N=>N.baselineData.pain),g=f.reduce((N,D)=>N+D,0)/f.length,y=f.reduce((N,D)=>N+Math.pow(D-g,2),0)/f.length;Math.sqrt(y)>2&&u.push({id:"learn-patterns",priority:"tertiary",icon:wD,title:"Explore flare triggers",subtitle:"High pain variability detected",action:r,badge:"Insight",estimatedTime:"3 min"})}return u},[s,e,t,r,n]);if(i.length===0)return null;const a=i.find(u=>u.priority==="primary"),o=i.filter(u=>u.priority==="secondary"),l=i.filter(u=>u.priority==="tertiary");return c.jsxDEV("div",{className:"surface-card",children:[c.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[c.jsxDEV("h2",{className:"text-body-medium text-ink-100",children:"Recommended for You"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:154,columnNumber:9},this),c.jsxDEV("div",{className:"flex items-center gap-1.5 text-ink-500",children:[c.jsxDEV(ri,{className:"w-3.5 h-3.5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:156,columnNumber:11},this),c.jsxDEV("span",{className:"text-tiny",children:"Updated just now"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:157,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:155,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:153,columnNumber:7},this),c.jsxDEV("div",{className:"space-y-2",children:[a&&c.jsxDEV("button",{onClick:a.action,className:We("w-full flex items-center justify-between p-4 rounded-[var(--radius-md)]","bg-primary-500 hover:bg-primary-400","transition-all duration-[var(--duration-fast)]","text-left group","hover:scale-[1.01] active:scale-[0.99]"),children:[c.jsxDEV("div",{className:"flex items-center gap-3",children:[c.jsxDEV("div",{className:"p-2 bg-ink-900/20 rounded-[var(--radius-sm)] group-hover:bg-ink-900/30 transition-colors",children:c.jsxDEV(a.icon,{className:"w-5 h-5 text-ink-900"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:176,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:175,columnNumber:15},this),c.jsxDEV("div",{children:[c.jsxDEV("div",{className:"text-body-medium text-ink-900 mb-0.5",children:a.title},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:179,columnNumber:17},this),c.jsxDEV("div",{className:"text-tiny text-ink-800",children:[a.subtitle,a.estimatedTime&&` â€¢ ${a.estimatedTime}`]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:180,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:178,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:174,columnNumber:13},this),a.badge&&c.jsxDEV("div",{className:"text-tiny text-mono bg-ink-900/20 px-2.5 py-1 rounded-full text-ink-900 font-medium",children:a.badge},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:187,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:164,columnNumber:11},this),o.map(u=>c.jsxDEV("button",{onClick:u.action,className:We("w-full flex items-center justify-between p-3 rounded-[var(--radius-md)]","bg-surface-700 hover:bg-surface-600 border border-surface-600","transition-all duration-[var(--duration-fast)]","text-left group","hover:border-surface-500"),children:[c.jsxDEV("div",{className:"flex items-center gap-3",children:[c.jsxDEV(u.icon,{className:"w-4 h-4 text-ink-400 group-hover:text-ink-300 transition-colors"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:208,columnNumber:15},this),c.jsxDEV("div",{children:[c.jsxDEV("span",{className:"text-small text-ink-200 group-hover:text-ink-100 transition-colors",children:u.title},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:210,columnNumber:17},this),c.jsxDEV("div",{className:"text-tiny text-ink-400 mt-0.5",children:[u.subtitle,u.estimatedTime&&` â€¢ ${u.estimatedTime}`]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:213,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:209,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:207,columnNumber:13},this),u.badge&&c.jsxDEV("div",{className:"text-tiny text-mono bg-surface-600 px-2 py-0.5 rounded text-ink-400 border border-surface-500",children:u.badge},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:220,columnNumber:15},this)]},u.id,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:196,columnNumber:11},this)),l.map(u=>c.jsxDEV("button",{onClick:u.action,className:We("w-full flex items-center justify-between p-2.5 rounded-[var(--radius-sm)]","hover:bg-surface-800/50","transition-colors duration-[var(--duration-fast)]","text-left group"),children:[c.jsxDEV("div",{className:"flex items-center gap-2.5",children:[c.jsxDEV(u.icon,{className:"w-3.5 h-3.5 text-ink-500 group-hover:text-ink-400 transition-colors"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:240,columnNumber:15},this),c.jsxDEV("div",{children:[c.jsxDEV("span",{className:"text-small text-ink-300 group-hover:text-ink-200 transition-colors",children:u.title},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:242,columnNumber:17},this),c.jsxDEV("div",{className:"text-tiny text-ink-500 mt-0.5",children:u.subtitle},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:245,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:241,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:239,columnNumber:13},this),u.badge&&c.jsxDEV("div",{className:"text-tiny text-mono px-2 py-0.5 rounded text-ink-500",children:u.badge},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:249,columnNumber:15},this)]},u.id,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:229,columnNumber:11},this))]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:161,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:152,columnNumber:5},this)}function nb({entries:s,onLogNow:e,onViewCalendar:t,onViewAnalytics:r,onExport:n}){const i=I.useMemo(()=>{if(s.length===0)return{avgPain:0,delta:0,sparkline:[],daysTracked:0,variability:0,lastEntry:null,insights:[]};const o=[...s].sort((E,A)=>new Date(E.timestamp).getTime()-new Date(A.timestamp).getTime()),l=new Date,u=new Date(l.getTime()-10080*60*1e3),d=o.filter(E=>new Date(E.timestamp)>=u),m=o.filter(E=>{const A=new Date(E.timestamp),V=new Date(l.getTime()-336*60*60*1e3);return A>=V&&A<u}),p=d.length>0?d.reduce((E,A)=>E+A.baselineData.pain,0)/d.length:0,f=m.length>0?m.reduce((E,A)=>E+A.baselineData.pain,0)/m.length:p,g=p-f,y=d.slice(-7).map(E=>E.baselineData.pain),v=p,N=d.length>1?d.reduce((E,A)=>E+Math.pow(A.baselineData.pain-v,2),0)/d.length:0,D=Math.sqrt(N),j=new Set(d.map(E=>new Date(E.timestamp).toDateString())).size,C=[];return g<-.5&&C.push({statement:`Pain trending down ${Math.abs(g).toFixed(1)} points vs last week`,confidence:g<-1?3:2,rationale:`Your 7-day average is ${p.toFixed(1)}, compared to ${f.toFixed(1)} the previous week. This represents a ${Math.abs(g/f*100).toFixed(0)}% improvement.`}),D>2&&C.push({statement:`High pain variability detected (SD: ${D.toFixed(1)})`,confidence:2,rationale:"Your pain levels vary significantly day-to-day. This could indicate external triggers or inconsistent management. Consider tracking context factors."}),j>=6&&C.push({statement:`Excellent tracking consistency (${j}/7 days)`,confidence:3,rationale:`You've logged pain on ${j} out of the last 7 days. Consistent tracking helps identify patterns and measure treatment effectiveness.`}),{avgPain:p,delta:g,sparkline:y,daysTracked:j,variability:D,lastEntry:o[o.length-1],insights:C}},[s]),a=()=>{if(!i.lastEntry)return"Never";const o=Date.now()-new Date(i.lastEntry.timestamp).getTime(),l=Math.floor(o/(1e3*60*60)),u=Math.floor(l/24);return u>0?`${u}d ago`:l>0?`${l}h ago`:"Just now"};return c.jsxDEV("div",{className:"min-h-screen bg-surface-900 p-6",children:c.jsxDEV("div",{className:"max-w-7xl mx-auto space-y-6",children:[c.jsxDEV("div",{className:"flex items-center justify-between",children:[c.jsxDEV("div",{children:[c.jsxDEV("h1",{className:"text-display text-ink-50 mb-1",children:"Today"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:134,columnNumber:13},this),c.jsxDEV("p",{className:"text-small text-ink-400",children:new Date().toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:135,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:133,columnNumber:11},this),c.jsxDEV("div",{className:"flex items-center gap-2",children:[c.jsxDEV(ri,{className:"w-4 h-4 text-ink-500"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:144,columnNumber:13},this),c.jsxDEV("span",{className:"text-small text-ink-400",children:["Last entry: ",a()]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:145,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:143,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:132,columnNumber:9},this),c.jsxDEV(XS,{entries:s,onLogNow:e,onViewCalendar:t,onViewAnalytics:r||(()=>{}),onExport:n},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:150,columnNumber:9},this),c.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxDEV(tf,{title:"Avg Pain (7d)",value:i.avgPain.toFixed(1),unit:"/10",delta:{value:-i.delta,direction:i.delta<-.3?"down":i.delta>.3?"up":"neutral",label:"vs last week"},sparkline:i.sparkline,severity:Math.round(i.avgPain)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:160,columnNumber:11},this),c.jsxDEV(tf,{title:"Tracking Streak",value:i.daysTracked,unit:"days",delta:{value:i.daysTracked>=5?1:-1,direction:i.daysTracked>=5?"up":"down",label:"this week"}},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:173,columnNumber:11},this),c.jsxDEV(tf,{title:"Variability Index",value:i.variability.toFixed(1),delta:{value:0,direction:"neutral",label:"rolling SD"}},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:184,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:159,columnNumber:9},this),i.insights.length>0&&c.jsxDEV("div",{className:"surface-card",children:[c.jsxDEV("div",{className:"flex items-center gap-2 mb-4",children:[c.jsxDEV(ja,{className:"w-5 h-5 text-primary-500"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:199,columnNumber:15},this),c.jsxDEV("h2",{className:"text-body-medium text-ink-100",children:"Insights"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:200,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:198,columnNumber:13},this),c.jsxDEV("div",{className:"space-y-2",children:i.insights.map((o,l)=>c.jsxDEV(qS,{statement:o.statement,confidence:o.confidence,rationale:o.rationale},l,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:204,columnNumber:17},this))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:202,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:197,columnNumber:11},this),c.jsxDEV("div",{className:"surface-card",children:[c.jsxDEV("h2",{className:"text-body-medium text-ink-200 mb-3",children:"Next Steps"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:217,columnNumber:11},this),c.jsxDEV("div",{className:"text-small text-ink-300 space-y-2",children:[c.jsxDEV("p",{children:"â€¢ Continue daily tracking for pattern detection"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:219,columnNumber:13},this),c.jsxDEV("p",{children:"â€¢ Review calendar for weekly trends"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:220,columnNumber:13},this),c.jsxDEV("p",{children:"â€¢ Share 7-day report with provider before next visit"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:221,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:218,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:216,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:130,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:129,columnNumber:5},this)}function ib({id:s,type:e,title:t,message:r,duration:n=5e3,action:i,customOnDismiss:a,onDismiss:o}){const[l,u]=I.useState(!0),[d,m]=I.useState(!1),p=I.useCallback(()=>{m(!0),setTimeout(()=>{u(!1),o(s),a?.()},150)},[s,o,a]);I.useEffect(()=>{if(n>0){const y=setTimeout(()=>{p()},n);return()=>clearTimeout(y)}},[n,p]);const f=()=>{switch(e){case"success":return c.jsxDEV(xa,{className:"h-5 w-5 text-green-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/Toast.tsx",lineNumber:61,columnNumber:16},this);case"error":return c.jsxDEV(Tx,{className:"h-5 w-5 text-red-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/Toast.tsx",lineNumber:63,columnNumber:16},this);case"warning":return c.jsxDEV(ac,{className:"h-5 w-5 text-yellow-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/Toast.tsx",lineNumber:65,columnNumber:16},this);case"info":return c.jsxDEV(Ui,{className:"h-5 w-5 text-blue-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/Toast.tsx",lineNumber:67,columnNumber:16},this);default:return c.jsxDEV(Ui,{className:"h-5 w-5 text-blue-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/Toast.tsx",lineNumber:69,columnNumber:16},this)}},g=()=>{switch(e){case"success":return"bg-green-50 border-green-200 dark:bg-green-950/30 dark:border-green-800";case"error":return"bg-red-50 border-red-200 dark:bg-red-950/30 dark:border-red-800";case"warning":return"bg-yellow-50 border-yellow-200 dark:bg-yellow-950/30 dark:border-yellow-800";case"info":return"bg-blue-50 border-blue-200 dark:bg-blue-950/30 dark:border-blue-800";default:return"bg-card border-border"}};return l?c.jsxDEV("div",{className:`
        pointer-events-auto w-full max-w-sm rounded-lg border p-4 shadow-lg
        transition-all duration-150 ease-in-out
        ${g()}
        ${d?"opacity-0 transform translate-x-full":"opacity-100 transform translate-x-0"}
      `,role:"alert","aria-live":"polite",children:c.jsxDEV("div",{className:"flex items-start space-x-3",children:[c.jsxDEV("div",{className:"flex-shrink-0",children:f()},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/Toast.tsx",lineNumber:102,columnNumber:9},this),c.jsxDEV("div",{className:"flex-1 min-w-0",children:[c.jsxDEV("h4",{className:"text-sm font-semibold text-foreground",children:t},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/Toast.tsx",lineNumber:105,columnNumber:11},this),r&&c.jsxDEV("p",{className:"text-sm text-muted-foreground mt-1",children:r},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/Toast.tsx",lineNumber:106,columnNumber:23},this),i&&c.jsxDEV("button",{onClick:i.onClick,className:"text-sm font-medium text-primary hover:text-primary/80 mt-2 block",children:i.label},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/Toast.tsx",lineNumber:109,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/Toast.tsx",lineNumber:104,columnNumber:9},this),c.jsxDEV("button",{onClick:p,className:"flex-shrink-0 text-muted-foreground hover:text-foreground transition-colors","aria-label":"Dismiss notification",children:c.jsxDEV(Ii,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/Toast.tsx",lineNumber:123,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/Toast.tsx",lineNumber:118,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/Toast.tsx",lineNumber:101,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/Toast.tsx",lineNumber:91,columnNumber:5},this):null}const uv=I.createContext(void 0);function JS(){const s=I.useContext(uv);if(!s)throw new Error("useToastContext must be used within a ToastProvider");return s}function ZS({children:s}){const[e,t]=I.useState([]),[r,n]=I.useState([]),i=u=>{const d=Math.random().toString(36).substring(2,9),m={...u,id:d};t(p=>[...p,m])},a=u=>{const d=Math.random().toString(36).substring(2,9),m={...u,id:d};n(p=>[...p,m])},o=u=>{t(d=>d.filter(m=>m.id!==u)),n(d=>d.filter(m=>m.id!==u))},l=()=>{t([]),n([])};return c.jsxDEV(uv.Provider,{value:{addToast:i,removeToast:o,clearToasts:l,addBottomLeftToast:a},children:[s,c.jsxDEV("div",{className:"fixed top-4 right-4 z-[10002] flex flex-col space-y-2 pointer-events-none",children:e.map(u=>c.jsxDEV(ib,{...u,onDismiss:d=>o(d??u.id)},u.id,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/ToastProvider.tsx",lineNumber:72,columnNumber:11},this))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/ToastProvider.tsx",lineNumber:70,columnNumber:7},this),c.jsxDEV("div",{className:"fixed bottom-4 left-4 z-[10000] flex flex-col space-y-2 pointer-events-none max-w-[90%]",children:r.map(u=>c.jsxDEV(ib,{...u,onDismiss:d=>o(d??u.id)},u.id,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/ToastProvider.tsx",lineNumber:84,columnNumber:11},this))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/ToastProvider.tsx",lineNumber:82,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/ToastProvider.tsx",lineNumber:64,columnNumber:5},this)}function np(){const{addToast:s,removeToast:e,clearToasts:t,addBottomLeftToast:r}=JS();return{success:(i,a,o)=>{s({type:"success",title:i,message:a,action:o})},error:(i,a,o)=>{s({type:"error",title:i,message:a,action:o,duration:7e3})},warning:(i,a,o)=>{s({type:"warning",title:i,message:a,action:o,duration:6e3})},info:(i,a,o)=>{s({type:"info",title:i,message:a,action:o})},bottomLeft:{success:(i,a,o,l)=>{r({type:"success",title:i,message:a,action:o,onDismiss:l?.onDismiss})},error:(i,a,o,l)=>{r({type:"error",title:i,message:a,action:o,duration:7e3,onDismiss:l?.onDismiss})},warning:(i,a,o,l)=>{r({type:"warning",title:i,message:a,action:o,duration:6e3,onDismiss:l?.onDismiss})},info:(i,a,o,l)=>{r({type:"info",title:i,message:a,action:o,onDismiss:l?.onDismiss})}},custom:i=>{s(i)},dismiss:e,clear:t}}function QS(){return c.jsxDEV("div",{className:"flex justify-center",children:c.jsxDEV("svg",{width:"200",height:"160",viewBox:"0 0 200 160",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-muted-foreground",children:[c.jsxDEV("circle",{cx:"100",cy:"80",r:"60",fill:"currentColor",opacity:"0.1"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:17,columnNumber:9},this),c.jsxDEV("rect",{x:"60",y:"100",width:"8",height:"20",rx:"4",fill:"currentColor",opacity:"0.3"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:20,columnNumber:9},this),c.jsxDEV("rect",{x:"72",y:"90",width:"8",height:"30",rx:"4",fill:"currentColor",opacity:"0.4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:21,columnNumber:9},this),c.jsxDEV("rect",{x:"84",y:"85",width:"8",height:"35",rx:"4",fill:"currentColor",opacity:"0.5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:22,columnNumber:9},this),c.jsxDEV("rect",{x:"96",y:"95",width:"8",height:"25",rx:"4",fill:"currentColor",opacity:"0.4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:23,columnNumber:9},this),c.jsxDEV("rect",{x:"108",y:"105",width:"8",height:"15",rx:"4",fill:"currentColor",opacity:"0.3"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:24,columnNumber:9},this),c.jsxDEV("rect",{x:"120",y:"80",width:"8",height:"40",rx:"4",fill:"currentColor",opacity:"0.5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:25,columnNumber:9},this),c.jsxDEV("rect",{x:"132",y:"88",width:"8",height:"32",rx:"4",fill:"currentColor",opacity:"0.4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:26,columnNumber:9},this),c.jsxDEV("circle",{cx:"70",cy:"50",r:"3",fill:"currentColor",opacity:"0.3"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:29,columnNumber:9},this),c.jsxDEV("circle",{cx:"130",cy:"45",r:"2",fill:"currentColor",opacity:"0.4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:30,columnNumber:9},this),c.jsxDEV("circle",{cx:"150",cy:"65",r:"2.5",fill:"currentColor",opacity:"0.3"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:31,columnNumber:9},this),c.jsxDEV("g",{transform:"translate(85, 65)",children:[c.jsxDEV("path",{d:"M2 12L7 7L13 13L22 2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.6"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:35,columnNumber:11},this),c.jsxDEV("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2",opacity:"0.3"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:43,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:34,columnNumber:9},this),c.jsxDEV("line",{x1:"40",y1:"130",x2:"160",y2:"130",stroke:"currentColor",strokeWidth:"1",opacity:"0.2"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:47,columnNumber:9},this),c.jsxDEV("line",{x1:"50",y1:"135",x2:"150",y2:"135",stroke:"currentColor",strokeWidth:"1",opacity:"0.1"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:56,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:8,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:7,columnNumber:5},this)}function e6(){return c.jsxDEV("div",{className:"flex justify-center",children:c.jsxDEV("svg",{width:"200",height:"160",viewBox:"0 0 200 160",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-primary",children:[c.jsxDEV("circle",{cx:"100",cy:"80",r:"70",fill:"currentColor",opacity:"0.1"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:82,columnNumber:9},this),c.jsxDEV("rect",{x:"70",y:"50",width:"60",height:"45",rx:"4",stroke:"currentColor",strokeWidth:"2",opacity:"0.4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:85,columnNumber:9},this),[0,1,2,3,4].map(s=>[0,1,2,3,4,5].map(e=>{const t=(s+e)%3===0||s===2&&e===3;return c.jsxDEV("rect",{x:75+e*8,y:57+s*7,width:"6",height:"5",rx:"1",fill:"currentColor",opacity:t?.6:.2},`${s}-${e}`,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:102,columnNumber:15},this)})),c.jsxDEV("g",{transform:"translate(85, 105)",children:c.jsxDEV("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z",fill:"currentColor",opacity:"0.6"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:118,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:117,columnNumber:9},this),c.jsxDEV("circle",{cx:"45",cy:"80",r:"8",stroke:"currentColor",strokeWidth:"2",opacity:"0.3"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:126,columnNumber:9},this),c.jsxDEV("circle",{cx:"45",cy:"80",r:"8",stroke:"currentColor",strokeWidth:"2",strokeDasharray:"15,10",opacity:"0.6",transform:"rotate(-90 45 80)"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:127,columnNumber:9},this),c.jsxDEV("circle",{cx:"155",cy:"80",r:"8",stroke:"currentColor",strokeWidth:"2",opacity:"0.3"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:138,columnNumber:9},this),c.jsxDEV("circle",{cx:"155",cy:"80",r:"8",stroke:"currentColor",strokeWidth:"2",strokeDasharray:"20,5",opacity:"0.6",transform:"rotate(-90 155 80)"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:139,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:73,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:72,columnNumber:5},this)}function t6({title:s,description:e,primaryAction:t,secondaryAction:r,illustration:n,className:i=""}){return c.jsxDEV("div",{className:`text-center py-12 px-6 ${i}`,children:c.jsxDEV("div",{className:"max-w-md mx-auto",children:[c.jsxDEV("div",{className:"mb-8",children:n||c.jsxDEV(QS,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/EmptyState.tsx",lineNumber:37,columnNumber:48},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/EmptyState.tsx",lineNumber:37,columnNumber:9},this),c.jsxDEV("div",{className:"mb-8",children:[c.jsxDEV("h3",{className:"text-xl font-semibold text-foreground mb-3",children:s},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/EmptyState.tsx",lineNumber:41,columnNumber:11},this),c.jsxDEV("p",{className:"text-muted-foreground leading-relaxed",children:e},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/EmptyState.tsx",lineNumber:42,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/EmptyState.tsx",lineNumber:40,columnNumber:9},this),(t||r)&&c.jsxDEV("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[t&&c.jsxDEV(js,{onClick:t.onClick,className:"flex items-center space-x-2",children:[t.icon,c.jsxDEV("span",{children:t.label},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/EmptyState.tsx",lineNumber:51,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/EmptyState.tsx",lineNumber:49,columnNumber:15},this),r&&c.jsxDEV(js,{variant:"outline",onClick:r.onClick,children:r.label},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/EmptyState.tsx",lineNumber:56,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/EmptyState.tsx",lineNumber:47,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/EmptyState.tsx",lineNumber:35,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/EmptyState.tsx",lineNumber:34,columnNumber:5},this)}function ab({onStartWalkthrough:s}){const{loadSampleData:e}=fc(),t=Rs(Iu.noLogs.headline),r=Rs(Iu.noLogs.subtext),n=Rs(Iu.noLogs.cta),i=Rs(Iu.noLogs.secondaryCta),a=()=>{e()};return c.jsxDEV(Ur,{children:c.jsxDEV(ni,{className:"pt-8 pb-8",children:c.jsxDEV(t6,{title:t,description:r,primaryAction:{label:n,onClick:s,icon:c.jsxDEV(q5,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/widgets/EmptyStatePanel.tsx",lineNumber:34,columnNumber:19},this)},secondaryAction:{label:i,onClick:a},illustration:c.jsxDEV(e6,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/widgets/EmptyStatePanel.tsx",lineNumber:40,columnNumber:25},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/widgets/EmptyStatePanel.tsx",lineNumber:28,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/widgets/EmptyStatePanel.tsx",lineNumber:27,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/widgets/EmptyStatePanel.tsx",lineNumber:26,columnNumber:5},this)}const ld={simplifiedMode:!0,showMemoryAids:!0,autoSave:!0,showProgress:!0,showCognitiveLoadIndicators:!0,adaptiveComplexity:!0,fontSize:"medium",contrast:"normal",reduceMotion:!1,touchTargetSize:"large",confirmationLevel:"standard",voiceInput:!1,gentleLanguage:!0,hideDistressingContent:!1,showComfortPrompts:!0,enableContentWarnings:!0,contentWarningLevel:"standard",enableCrisisDetection:!0,crisisDetectionSensitivity:"medium",showCrisisResources:!0,enableProgressiveDisclosure:!0,defaultDisclosureLevel:"helpful",adaptiveDisclosure:!0,realTimeValidation:!0,theme:"auto",reminderFrequency:"daily"},s6=s=>({small:"14px",medium:"16px",large:"18px",xl:"20px"})[s],r6=s=>({normal:"44px",large:"56px","extra-large":"72px"})[s],dv=I.createContext({preferences:ld,updatePreferences:()=>{}}),Hd=()=>I.useContext(dv);class n6{positiveKeywords=["better","improved","good","great","healing","progress","relief","comfortable","manageable","hopeful","grateful","thankful","blessed","stronger","resilient","capable","empowered","peaceful","calm"];negativeKeywords=["pain","hurt","suffering","agony","terrible","awful","unbearable","frustrated","angry","sad","depressed","anxious","worried","scared","overwhelmed","exhausted","defeated","hopeless","alone","isolated"];neutralKeywords=["same","unchanged","stable","managing","coping","continuing","routine","regular","normal","usual","consistent","steady"];triggerKeywords=["flare","spike","increase","worse","worsening","setback","episode","attack","breakthrough","sudden","intense","severe"];analyzeText(e){const t=e.toLowerCase().split(/\s+/),r=t.filter(p=>this.positiveKeywords.some(f=>p.includes(f))).length,n=t.filter(p=>this.negativeKeywords.some(f=>p.includes(f))).length,i=t.filter(p=>this.neutralKeywords.some(f=>p.includes(f))).length,a=t.filter(p=>this.triggerKeywords.some(f=>p.includes(f))).length;let o="neutral";r>n&&r>0?o="positive":n>r&&n>0?o="negative":r>0&&n>0&&(o="mixed");const l=["very","extremely","incredibly","really","so","quite"],u=t.filter(p=>l.includes(p)).length;let d="low";a>0||u>2?d="high":(u>0||n>1)&&(d="medium");const m=Math.min((r+n+i)/Math.max(t.length/4,1),1);return{valence:o,arousal:d,keywords:t.filter(p=>this.positiveKeywords.concat(this.negativeKeywords,this.neutralKeywords).some(f=>p.includes(f))),confidence:m,triggers:a>0?t.filter(p=>this.triggerKeywords.some(f=>p.includes(f))):void 0}}}class i6{supportiveMessages=["I hear that you're going through a challenging time. Your experience is valid and important.","Thank you for sharing what you're experiencing. It takes courage to track difficult moments.","Your pain matters, and so do you. Taking time to document this shows incredible strength.","I acknowledge how hard this must be for you right now. You're not alone in this journey.","Your feelings about this experience are completely understandable and valid."];emphaticMessages=["That sounds really difficult. I want you to know that your struggle is seen and recognized.","I can sense this is a tough moment for you. Please be gentle with yourself.","What you're experiencing sounds overwhelming. You're doing the best you can.","This sounds like a particularly hard day. Remember that difficult days don't last forever.","I hear the pain in your words. Your resilience in tracking this is remarkable."];celebratoryMessages=["This sounds like positive progress! It's wonderful to hear things are improving for you.","What encouraging news! Every step forward, no matter how small, is worth celebrating.","I'm so glad to hear you're experiencing some relief. You deserve these better moments.","This improvement is a testament to your strength and perseverance. Well done!","It's beautiful to see progress in your healing journey. Keep nurturing yourself."];gentleMessages=["Thank you for taking the time to track your experience. Every entry helps build understanding.","I appreciate you sharing this with me. Your consistency in tracking is admirable.","This information helps create a clearer picture of your journey. Thank you for your openness.","Each entry you make is a step toward better understanding your patterns. Well done.","Your commitment to tracking your experience shows real dedication to your wellbeing."];generate(e){let t,r,n,i,a;switch(e.valence){case"positive":t=this.celebratoryMessages,r="celebratory",n=vo,i="text-yellow-600 bg-yellow-50 border-yellow-200",a="Would you like to note what contributed to this positive experience?";break;case"negative":e.arousal==="high"?(t=this.emphaticMessages,r="empathetic",n=tD,i="text-blue-600 bg-blue-50 border-blue-200",a="Remember, you have support available. Would you like to review your comfort resources?"):(t=this.supportiveMessages,r="supportive",n=Qr,i="text-pink-600 bg-pink-50 border-pink-200",a="Taking care of yourself during difficult times is so important.");break;case"mixed":t=this.gentleMessages,r="gentle",n=yo,i="text-purple-600 bg-purple-50 border-purple-200",a="Complex experiences deserve gentle acknowledgment.";break;default:t=this.gentleMessages,r="gentle",n=ii,i="text-green-600 bg-green-50 border-green-200";break}return{id:`validation-${Date.now()}`,message:t[Math.floor(Math.random()*t.length)],tone:r,icon:n,color:i,followUp:a,timestamp:new Date}}}function a6({text:s,onValidationGenerated:e,isActive:t=!0,delay:r=2e3}){const{preferences:n}=Hd(),[i,a]=I.useState(null),[o,l]=I.useState(!1),u=I.useRef(new n6),d=I.useRef(new i6),m=I.useRef(),p=I.useCallback(g=>{if(!g.trim()||g.length<10)return;const y=u.current.analyzeText(g);if(y.confidence<.2)return;const v=d.current.generate(y);a(v),l(!0),e?.(v),(y.valence!=="negative"||y.arousal!=="high")&&setTimeout(()=>l(!1),1e4)},[e]);if(I.useEffect(()=>{if(!(!t||!n.realTimeValidation))return m.current&&clearTimeout(m.current),m.current=setTimeout(()=>{p(s)},r),()=>{m.current&&clearTimeout(m.current)}},[s,t,r,p,n.realTimeValidation]),!n.realTimeValidation||!i||!o)return null;const f=i.icon;return c.jsxDEV("div",{className:`
        mt-3 p-4 rounded-lg border transition-all duration-300 ease-in-out
        ${i.color}
        ${o?"opacity-100 transform translate-y-0":"opacity-0 transform translate-y-2"}
      `,role:"alert","aria-live":"polite",children:c.jsxDEV("div",{className:"flex items-start space-x-3",children:[c.jsxDEV(f,{className:"w-5 h-5 mt-0.5 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/services/EmotionalValidationService.tsx",lineNumber:332,columnNumber:9},this),c.jsxDEV("div",{className:"flex-1",children:[c.jsxDEV("p",{className:"text-sm font-medium mb-1",children:i.message},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/services/EmotionalValidationService.tsx",lineNumber:334,columnNumber:11},this),i.followUp&&c.jsxDEV("p",{className:"text-xs opacity-75",children:i.followUp},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/services/EmotionalValidationService.tsx",lineNumber:336,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/services/EmotionalValidationService.tsx",lineNumber:333,columnNumber:9},this),c.jsxDEV("button",{onClick:()=>l(!1),className:"text-xs opacity-50 hover:opacity-75 transition-opacity","aria-label":"Dismiss validation message",children:"âœ•"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/services/EmotionalValidationService.tsx",lineNumber:339,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/services/EmotionalValidationService.tsx",lineNumber:331,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/services/EmotionalValidationService.tsx",lineNumber:322,columnNumber:5},this)}function o6({validations:s,onClear:e}){const{preferences:t}=Hd();return!t.realTimeValidation||s.length===0?null:c.jsxDEV("div",{className:"space-y-2",children:[c.jsxDEV("div",{className:"flex items-center justify-between",children:[c.jsxDEV("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Recent Validation Messages"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/services/EmotionalValidationService.tsx",lineNumber:367,columnNumber:9},this),e&&c.jsxDEV("button",{onClick:e,className:"text-xs text-gray-500 hover:text-gray-700 dark:text-gray-300",children:"Clear History"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/services/EmotionalValidationService.tsx",lineNumber:371,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/services/EmotionalValidationService.tsx",lineNumber:366,columnNumber:7},this),c.jsxDEV("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:s.slice(-5).reverse().map(r=>{const n=r.icon;return c.jsxDEV("div",{className:`p-2 rounded text-xs border ${r.color}`,children:c.jsxDEV("div",{className:"flex items-start space-x-2",children:[c.jsxDEV(n,{className:"w-3 h-3 mt-0.5 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/services/EmotionalValidationService.tsx",lineNumber:389,columnNumber:19},this),c.jsxDEV("div",{className:"flex-1",children:[c.jsxDEV("p",{children:r.message},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/services/EmotionalValidationService.tsx",lineNumber:391,columnNumber:21},this),c.jsxDEV("p",{className:"text-xs opacity-50 mt-1",children:r.timestamp.toLocaleTimeString()},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/services/EmotionalValidationService.tsx",lineNumber:392,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/services/EmotionalValidationService.tsx",lineNumber:390,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/services/EmotionalValidationService.tsx",lineNumber:388,columnNumber:17},this)},r.id,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/services/EmotionalValidationService.tsx",lineNumber:387,columnNumber:15},this)})},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/services/EmotionalValidationService.tsx",lineNumber:380,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/services/EmotionalValidationService.tsx",lineNumber:365,columnNumber:5},this)}function c6(){const[s,e]=I.useState([]),t=I.useCallback(n=>{e(i=>[...i,n].slice(-10))},[]),r=I.useCallback(()=>{e([])},[]);return{validationHistory:s,addValidation:t,clearHistory:r}}class l6{config;auditTrails=[];accessRequests=new Map;breachAssessments=new Map;constructor(e){this.config=e}async validateFHIRResource(e){const t=[],r=[];e.resourceType||t.push("Missing required field: resourceType"),e.id&&!this.isValidId(e.id)&&t.push("Invalid resource ID format");const n=await this.scanForPHI(e);n.identifiers.length>0&&r.push(`Potential PHI detected in ${n.identifiers.length} fields`),e.meta?.lastUpdated&&!this.isValidTimestamp(e.meta.lastUpdated)&&t.push("Invalid lastUpdated timestamp");const i=this.calculateComplianceScore(t,r);return{isValid:t.length===0,errors:t,warnings:r,complianceScore:i}}async validateFHIRBundle(e){const t=[],r=[];if(e.type||t.push("Bundle missing required type field"),e.entry)for(let a=0;a<e.entry.length;a++){const o=e.entry[a];if(o.resource){const l=await this.validateFHIRResource(o.resource);r.push({resourceId:o.resource.id,isValid:l.isValid,errors:l.errors,warnings:l.warnings})}}const n=t.length+r.reduce((a,o)=>a+o.errors.length,0),i=Math.max(0,100-n*10);return{isValid:t.length===0&&r.every(a=>a.isValid),resourceResults:r,overallErrors:t,complianceScore:i}}async scanForPHI(e){const t=[],r=JSON.stringify(e),n={ssn:/\b\d{3}-?\d{2}-?\d{4}\b/g,phone:/\b\d{3}[-.]?\d{3}[-.]?\d{4}\b/g,email:/\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b/g,ipAddress:/\b(?:\d{1,3}\.){3}\d{1,3}\b/g,creditCard:/\b\d{4}[-\s]?\d{4}[-\s]?\d{4}[-\s]?\d{4}\b/g,zipCode:/\b\d{5}(?:-\d{4})?\b/g};for(const[a,o]of Object.entries(n)){const l=r.match(o);l&&l.forEach(u=>{t.push({type:a,value:u,location:"data",confidence:.8})})}let i="low";return t.length>10?i="high":t.length>3&&(i="medium"),{identifiers:t,riskLevel:i}}async deidentifyData(e,t="safe-harbor"){const r=JSON.parse(JSON.stringify(e)),n=JSON.parse(JSON.stringify(e)),i=[];if(t==="safe-harbor"){const a=await this.scanForPHI(n);i.push(...a.identifiers);let o=JSON.stringify(n);a.identifiers.forEach(l=>{o=o.replace(new RegExp(this.escapeRegExp(l.value),"g"),"[REDACTED]")});try{Object.assign(n,JSON.parse(o))}catch{}}return{originalData:r,deidentifiedData:n,identifiersRemoved:i,method:t,timestamp:new Date().toISOString(),processedBy:"hipaa-compliance-service"}}async requestDataAccess(e){const t=`ar-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,r={...e,requestId:t,requestDate:new Date().toISOString(),approvalStatus:"pending"};return e.urgency==="emergency"&&(r.approvalStatus="approved",r.approvedBy="emergency-protocol",r.approvalDate=new Date().toISOString(),r.expirationDate=new Date(Date.now()+1440*60*1e3).toISOString(),await this.logAuditEvent({actionType:"access",userId:e.requesterId,userRole:e.requesterRole,resourceType:"patient-data",patientId:e.patientId,outcome:"success",details:{emergency:!0,autoApproved:!0}})),this.accessRequests.set(t,r),t}async approveAccessRequest(e,t){const r=this.accessRequests.get(e);if(!r)throw new Error("Access request not found");r.approvalStatus="approved",r.approvedBy=t.userId,r.approvalDate=new Date().toISOString(),r.conditions=t.conditions,r.expirationDate=new Date(Date.now()+720*60*60*1e3).toISOString(),this.accessRequests.set(e,r),await this.logAuditEvent({actionType:"access",userId:t.userId,userRole:"supervisor",resourceType:"access-request",resourceId:e,outcome:"success",details:{action:"approved",conditions:t.conditions}})}async logAuditEvent(e){const t={...e,eventId:`ae-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,timestamp:new Date().toISOString(),ipAddress:"0.0.0.0",userAgent:"system",riskScore:this.calculateRiskScore(e)};this.auditTrails.push(t),t.riskScore>80&&await this.flagSuspiciousActivity(t)}async getAuditTrail(e){return this.auditTrails.filter(t=>{if(e.userId&&t.userId!==e.userId||e.patientId&&t.patientId!==e.patientId||e.actionType&&t.actionType!==e.actionType)return!1;if(e.startDate){const r=new Date(t.timestamp),n=new Date(e.startDate);if(r<n)return!1}if(e.endDate){const r=new Date(t.timestamp),n=new Date(e.endDate);if(r>n)return!1}return!0})}async reportBreach(e){const t=`br-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,r={...e,incidentId:t,reportedDate:new Date().toISOString(),investigationStatus:"open"};return this.breachAssessments.set(t,r),e.phiInvolved.patientCount>=500&&(r.notificationRequired=!0,r.authoritiesNotified=!0),await this.logAuditEvent({actionType:"create",userId:"system",userRole:"security-officer",resourceType:"breach-report",resourceId:t,outcome:"success",details:{patientCount:e.phiInvolved.patientCount,riskLevel:e.riskLevel}}),t}async getBreachAssessment(e){return this.breachAssessments.get(e)||null}async generateComplianceReport(e){const t=new Date(e.start),r=new Date(e.end),n=this.auditTrails.filter(u=>{const d=new Date(u.timestamp);return d>=t&&d<=r}),i=n.filter(u=>u.riskScore>70).length,a=n.filter(u=>u.riskScore>80).length,o=this.generateComplianceRecommendations(n),l=this.calculateOverallComplianceScore(n);return{period:e,summary:{totalAuditEvents:n.length,breachReports:Array.from(this.breachAssessments.values()).filter(u=>{const d=new Date(u.reportedDate);return d>=t&&d<=r}).length,accessRequests:Array.from(this.accessRequests.values()).filter(u=>{const d=new Date(u.requestDate);return d>=t&&d<=r}).length,dataValidations:n.filter(u=>u.actionType==="read").length,complianceScore:l},riskAnalysis:{highRiskEvents:i,suspiciousActivity:a,recommendations:o},generatedAt:new Date().toISOString()}}isValidId(e){return/^[A-Za-z0-9\-.]{1,64}$/.test(e)}isValidTimestamp(e){const t=new Date(e);return!isNaN(t.getTime())}calculateComplianceScore(e,t){const r=e.length*20,n=t.length*5;return Math.max(0,100-r-n)}calculateRiskScore(e){let t=0;return t+={delete:40,export:30,print:25,update:20,read:10,create:15,access:20,login:5,logout:0}[e.actionType]||10,e.outcome==="failure"&&(t+=30),e.patientId&&(t+=10),Math.min(100,t)}async flagSuspiciousActivity(e){console.warn("Suspicious activity detected:",{eventId:e.eventId,userId:e.userId,riskScore:e.riskScore,actionType:e.actionType})}generateComplianceRecommendations(e){const t=[];e.filter(o=>o.outcome==="failure").length/e.length>.1&&t.push("High failure rate detected - review access controls"),e.filter(o=>o.riskScore>70).length>10&&t.push("Multiple high-risk events - enhance monitoring");const i=new Set(e.map(o=>o.userId)).size;return e.length/i>100&&t.push("High activity per user - consider additional training"),t}calculateOverallComplianceScore(e){if(e.length===0)return 100;const t=e.reduce((r,n)=>r+n.riskScore,0)/e.length;return Math.max(0,100-t)}escapeRegExp(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}const al=new l6({organizationId:"pain-tracker-org",privacyOfficer:{name:"Privacy Officer",title:"Chief Privacy Officer",email:"privacy@paintracker.app",phone:"+1-555-0100"},securityOfficer:{name:"Security Officer",title:"Chief Security Officer",email:"security@paintracker.app",phone:"+1-555-0101"},complianceOfficer:{name:"Compliance Officer",title:"Chief Compliance Officer",email:"compliance@paintracker.app",phone:"+1-555-0102"},businessAssociates:[],policies:[],technicalSafeguards:{accessControl:{uniqueUserIdentification:!0,automaticLogoff:!0,encryptionDecryption:!0},auditControls:{hardwareSystemsAccess:!0,softwareSystemsAccess:!0,activityReviews:!0},integrity:{protectionFromAlteration:!0,protectionFromDestruction:!0},personOrEntityAuthentication:{verifyUserIdentity:!0},transmissionSecurity:{guardAgainstUnauthorizedAccess:!0,dataIntegrityControls:!0,encryptionStandards:["TLS-1.3","AES-256"]}},physicalSafeguards:{facilityAccessControls:{limitPhysicalAccess:!0,workstationAccess:!0,mediaControls:!0},workstationUse:{limitedAccess:!0,physicalAttributes:["locked-room","secure-access"]},deviceMediaControls:{disposalProcedures:!0,reuseProtocols:!0,accountabilityMeasures:!0,dataBackupStorage:!0}},administrativeSafeguards:{securityManagement:{securityOfficerAssigned:!0,managementResponsibilities:["policy-enforcement","incident-response"]},workforceTraining:{privacyTraining:!0,securityTraining:!0,trainingFrequency:"annually",lastCompleted:"2025-01-01"},accessManagement:{accessAuthorizationProcedures:!0,accessEstablishmentModification:!0,accessTerminationProcedures:!0},contingencyPlan:{dataBackupPlan:!0,disasterRecoveryPlan:!0,emergencyModeOperationPlan:!0,dataRecoveryPlan:!0},businessAssociateContracts:{writtenContracts:!0,safeguardRequirements:!0}}}),u6={minEntriesForTrend:7,minSupportForCorrelation:8,minConfidenceForDisplay:.6,episodePainThreshold:6,episodeMinLengthDays:2,baselineWindowDays:30,enableLaggedCorrelations:!0,maxLagDays:3,enableQoLDissonance:!0};function d6(s,e={}){const t={...u6,...e},r=m6(s),n=f6(r,t.baselineWindowDays),i=h6(r),a=p6(i),o=g6(i,n,t),l=b6(r,n,t),u=y6(r,n,t),d=x6(r,n,t),m=v6(r,n,t),p=k6(r,t),f=D6(r,n,t),g=t.enableQoLDissonance?P6(r,i):[],y={dataWindow:{start:r[0]?.timestamp||new Date().toISOString(),end:r[r.length-1]?.timestamp||new Date().toISOString()},entryCount:r.length,dataQuality:j6(r,t),cautions:C6(r,t),generatedAt:new Date().toISOString()};return{cleanedEntries:r,dailyTrend:i,weeklyTrend:a,episodes:o,triggerCorrelations:l,symptomCorrelations:u,medicationCorrelations:d,locationCorrelations:m,triggerBundles:p,qolPatterns:f,qolDissonances:g,meta:y,config:t}}function m6(s){return s.filter(e=>{const t=e.baselineData?.pain;if(t==null||t<0||t>10)return!1;try{const r=new Date(e.timestamp);if(isNaN(r.getTime()))return!1}catch{return!1}return!0}).sort((e,t)=>new Date(e.timestamp).getTime()-new Date(t.timestamp).getTime())}function f6(s,e=30){if(s.length===0)return{value:0,method:"median",confidence:"low",windowDays:0,entryCount:0};const t=Date.now(),r=e*24*60*60*1e3,n=s.filter(d=>t-new Date(d.timestamp).getTime()<=r),i=n.length>=7?n:s,o=[...i.map(d=>d.baselineData.pain)].sort((d,m)=>d-m),l=o.length%2===0?(o[o.length/2-1]+o[o.length/2])/2:o[Math.floor(o.length/2)],u=i.length>=30?"high":i.length>=14?"medium":"low";return{value:l,method:"median",confidence:u,windowDays:i===n?e:s.length,entryCount:i.length}}function h6(s){if(s.length===0)return[];const e=new Map;return s.forEach(t=>{const r=new Date(t.timestamp),n=`${r.getFullYear()}-${String(r.getMonth()+1).padStart(2,"0")}-${String(r.getDate()).padStart(2,"0")}`;e.has(n)||e.set(n,{values:[],count:0});const i=e.get(n);i.values.push(t.baselineData.pain),i.count++}),Array.from(e.entries()).map(([t,r])=>{const n=[...r.values].sort((l,u)=>l-u),i=r.values.reduce((l,u)=>l+u,0)/r.count,a=r.values.reduce((l,u)=>l+Math.pow(u-i,2),0)/r.count,o=Math.sqrt(a);return{date:t,value:i,count:r.count,range:[n[0],n[n.length-1]],stdDev:o}}).sort((t,r)=>t.date.localeCompare(r.date))}function p6(s){if(s.length<7)return[];const e=[],t=7;for(let r=t-1;r<s.length;r++){const n=s.slice(r-t+1,r+1),i=n.map(d=>d.value),a=i.reduce((d,m)=>d+m,0)/i.length,o=n.reduce((d,m)=>d+m.count,0),l=Math.min(...i),u=Math.max(...i);e.push({date:s[r].date,value:a,count:o,range:[l,u]})}return e}function g6(s,e,t){if(s.length===0)return[];const r=[];let n=null;const i=Math.max(t.episodePainThreshold,e.value+2);for(let a=0;a<s.length;a++){const o=s[a];if(o.value>=i)n?n.points.push(o):n={start:o.date,points:[o]};else{if(n&&n.points.length>=t.episodeMinLengthDays){const u=n.points,d=u.map(v=>v.value),m=d.reduce((v,N)=>v+N,0)/d.length,p=Math.max(...d);let f=null;const g=new Date(u[u.length-1].date);for(let v=a;v<s.length;v++){const N=s[v],D=new Date(N.date);if(N.value<e.value){f=Math.floor((D.getTime()-g.getTime())/(1440*60*1e3));break}}const y=p>=8?"severe":p>=6?"moderate":"mild";r.push({id:`episode-${n.start}`,start:n.start,end:u[u.length-1].date,peakPain:Math.min(10,Math.round(p)),avgPain:Number(m.toFixed(1)),entryCount:u.reduce((v,N)=>v+N.count,0),recoveryDays:f,durationDays:u.length,severity:y,associatedTriggers:[],associatedLocations:[]})}n=null}}if(n&&n.points.length>=t.episodeMinLengthDays){const a=n.points,o=a.map(m=>m.value),l=o.reduce((m,p)=>m+p,0)/o.length,u=Math.max(...o),d=u>=8?"severe":u>=6?"moderate":"mild";r.push({id:`episode-${n.start}`,start:n.start,end:a[a.length-1].date,peakPain:Math.min(10,Math.round(u)),avgPain:Number(l.toFixed(1)),entryCount:a.reduce((m,p)=>m+p.count,0),recoveryDays:null,durationDays:a.length,severity:d,associatedTriggers:[],associatedLocations:[]})}return r}function b6(s,e,t){return qd(s,e,t,r=>r.triggers||[])}function y6(s,e,t){return qd(s,e,t,r=>r.baselineData.symptoms||[])}function x6(s,e,t){const r=s.map(n=>n.medications?.current?.map(i=>i.name)||[]);return qd(s,e,t,(n,i)=>r[i]||[])}function v6(s,e,t){return qd(s,e,t,r=>r.baselineData.locations||[])}function qd(s,e,t,r){const n=new Map;s.forEach((a,o)=>{const l=r(a,o),u=a.baselineData.pain;l.forEach(d=>{n.has(d)||n.set(d,{withItem:[],withoutItem:[]}),n.get(d).withItem.push(u)}),n.forEach((d,m)=>{l.includes(m)||d.withoutItem.push(u)})});const i=[];return n.forEach((a,o)=>{const l=a.withItem.length;if(l<t.minSupportForCorrelation)return;const u=a.withItem.reduce((D,j)=>D+j,0)/a.withItem.length,d=a.withoutItem.length>0?a.withoutItem.reduce((D,j)=>D+j,0)/a.withoutItem.length:e.value,m=u-d,f=a.withItem.filter(D=>D>e.value).length/a.withItem.length,g=a.withItem.reduce((D,j)=>D+Math.pow(j-u,2),0)/a.withItem.length,y=Math.max(0,1-g/10),v=ip(m,f),N=m>.3?"increases":m<-.3?"decreases":"neutral";v!=="none"&&f>=t.minConfidenceForDisplay&&i.push({key:o,label:N6(o),deltaPain:Number(m.toFixed(2)),support:l,confidence:Number(f.toFixed(2)),strength:v,direction:N,stabilityScore:Number(y.toFixed(2))})}),i.sort((a,o)=>Math.abs(o.deltaPain)-Math.abs(a.deltaPain))}function ip(s,e){return e<.5||Math.abs(s)<.3?"none":Math.abs(s)<.7?"weak":Math.abs(s)<1.5?"moderate":"strong"}function N6(s){return s.split(/[-_\s]+/).map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" ")}function k6(s,e){const t=[],r=new Map;return s.forEach(n=>{const i=n.triggers||[];if(!(i.length<2))for(let a=0;a<i.length;a++)for(let o=a+1;o<i.length;o++){const l=[i[a],i[o]].sort().join("|");r.has(l)||r.set(l,{count:0,totalDelta:0,baseline:0});const u=r.get(l);u.count++,u.totalDelta+=n.baselineData.pain}}),r.forEach((n,i)=>{if(n.count>=Math.max(3,e.minSupportForCorrelation/2)){const a=i.split("|"),o=n.totalDelta/n.count,l=ip(o,n.count/s.length);l!=="none"&&t.push({id:`bundle-${i}`,triggers:a,combinedDelta:Number(o.toFixed(2)),coOccurrence:n.count,strength:l})}}),t.sort((n,i)=>Math.abs(i.combinedDelta)-Math.abs(n.combinedDelta))}function D6(s,e,t){const r=[],n=sf(s,e,t,"sleep",o=>o.qualityOfLife?.sleepQuality,{goodThreshold:7,poorThreshold:3});n&&r.push(n);const i=sf(s,e,t,"mood",o=>o.qualityOfLife?.moodImpact,{goodThreshold:3,poorThreshold:-2});i&&r.push(i);const a=sf(s,e,t,"activity",o=>o.activityLevel,{goodThreshold:7,poorThreshold:3});return a&&r.push(a),r}function sf(s,e,t,r,n,i,a=!1){const o=[],l=[];let u=0;if(s.forEach(N=>{const D=n(N);if(D==null)return;u++;const j=N.baselineData.pain;a?(D<=i.goodThreshold&&o.push(j),D>=i.poorThreshold&&l.push(j)):(D>=i.goodThreshold&&o.push(j),D<=i.poorThreshold&&l.push(j))}),u<t.minSupportForCorrelation||o.length<3&&l.length<3)return null;const d=o.length>0?o.reduce((N,D)=>N+D,0)/o.length:e.value,m=l.length>0?l.reduce((N,D)=>N+D,0)/l.length:e.value,p=d-m,f=o.length+l.length,g=f>=20?"high":f>=10?"medium":"low",y=ip(p,f/u);if(y==="none")return null;const v=w6(r,p,i,a);return{id:`qol-${r}`,description:v,metric:r,correlation:y,evidenceCount:f,delta:Number(p.toFixed(2)),confidence:g,condition:a?`When ${r} â‰¤ ${i.goodThreshold}`:`When ${r} â‰¥ ${i.goodThreshold}`}}function w6(s,e,t,r){const n=e<0?"lower":"higher",i=Math.abs(e).toFixed(1);return r?`When ${s} is low (â‰¤${t.goodThreshold}), pain averages ${i} points ${n}.`:`When ${s} is good (â‰¥${t.goodThreshold}), pain averages ${i} points ${n}.`}function P6(s,e,t){const r=[];if(s.length<14||e.length<7)return r;const n=e.slice(-7),i=e.slice(-14,-7),a=n.reduce((g,y)=>g+y.value,0)/n.length,o=i.reduce((g,y)=>g+y.value,0)/i.length,l=a-o;let u;l<-.5?u="improving":l>.5?u="worsening":u="stable";const d=s.slice(-7),m=s.slice(-14,-7),p=d.map(g=>g.qualityOfLife?.sleepQuality).filter(g=>g!==void 0),f=m.map(g=>g.qualityOfLife?.sleepQuality).filter(g=>g!==void 0);if(p.length>=3&&f.length>=3){const g=p.reduce((N,D)=>N+D,0)/p.length,y=f.reduce((N,D)=>N+D,0)/f.length,v=g-y;u==="stable"&&v<-1.5&&r.push({type:"pain_stable_qol_declining",description:`Pain levels holding steady, but sleep quality declined by ${Math.abs(v).toFixed(1)} points in the past week.`,painTrend:"stable",qolTrend:"declining",affectedMetrics:["sleep"],severity:Math.abs(v)>2.5?"high":"medium",recommendation:"Consider discussing sleep interventions with care team, as poor sleep may predict future pain increases."})}return r}function j6(s,e){return s.length>=60?"high":s.length>=e.minEntriesForTrend*3?"medium":"low"}function C6(s,e){const t=[];return s.length<e.minEntriesForTrend&&t.push(`Low sample size (${s.length} entries). Add more entries for reliable trends.`),s.length<e.minSupportForCorrelation&&t.push("Not enough data for correlation analysis. Keep logging triggers and symptoms."),s.some(n=>n.qualityOfLife?.sleepQuality!==void 0||n.qualityOfLife?.moodImpact!==void 0||n.activityLevel!==void 0)||t.push("Quality of Life data missing. Log sleep, mood, and activity for richer insights."),t}const ob={BASE_URL:"/",DEV:!0,MODE:"production",PROD:!1,SSR:!1,VITE_USER_NODE_ENV:"development"};var cb={};const Ll=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],rf=[{id:"overnight",start:0,end:5,label:"Midnight â€“ 5 AM"},{id:"early-morning",start:5,end:9,label:"5 AM â€“ 9 AM"},{id:"late-morning",start:9,end:12,label:"9 AM â€“ Noon"},{id:"early-afternoon",start:12,end:16,label:"Noon â€“ 4 PM"},{id:"late-afternoon",start:16,end:19,label:"4 PM â€“ 7 PM"},{id:"evening",start:19,end:23,label:"7 PM â€“ 11 PM"},{id:"late-night",start:23,end:24,label:"11 PM â€“ Midnight"}],E6=(s,e,t)=>Math.min(t,Math.max(e,s)),mv=()=>({morning:{count:0,avgIntensity:0},afternoon:{count:0,avgIntensity:0},evening:{count:0,avgIntensity:0},night:{count:0,avgIntensity:0}}),S6=()=>({avgPain:0,trend:0,volatility:0,goodDays:0,badDays:0,topLocations:[],topTriggers:[],timePatterns:mv(),dayOfWeekPatterns:[],monthlyTrend:[],triggerPainCorrelation:[],medicationEffectiveness:[],predictedFlare:null,riskScore:0,improvementScore:0,optimalMedicationWindow:null,nextWeekForecast:null,personalizedRecommendations:[]}),A6=()=>{try{if(typeof import.meta<"u"&&ob)return ob}catch{}return typeof process<"u"&&cb?cb:{}},_6=(()=>{const s=A6();return s.VITE_REACT_APP_ENABLE_VALIDATION!=="false"&&s.REACT_APP_ENABLE_VALIDATION!=="false"})(),U6=It.lazy(()=>qs(()=>import("./ClinicalPDFExportButton-NfYP_vuT.js"),__vite__mapDeps([0,1,2,3])).then(s=>({default:s.ClinicalPDFExportButton}))),V6=It.lazy(()=>qs(()=>Promise.resolve().then(()=>p8),void 0).then(s=>({default:s.DataExportModal}))),L6=({entries:s})=>{const[e,t]=I.useState("30d"),[r,n]=I.useState("overview"),i=I.useMemo(()=>{if(e==="all")return s;const u=new Date,d=new Date;switch(e){case"7d":d.setDate(u.getDate()-7);break;case"30d":d.setDate(u.getDate()-30);break;case"90d":d.setDate(u.getDate()-90);break;case"1y":d.setFullYear(u.getFullYear()-1);break}return s.filter(m=>new Date(m.timestamp)>=d)},[s,e]),a=I.useMemo(()=>{if(i.length===0)return S6();const u=i.reduce((W,we)=>W+we.baselineData.pain,0)/i.length,d=Math.floor(i.length/2),m=i.slice(0,d).reduce((W,we)=>W+we.baselineData.pain,0)/d,f=(i.slice(d).reduce((W,we)=>W+we.baselineData.pain,0)/(i.length-d)-m)/m*100,g=i.reduce((W,we)=>W+Math.pow(we.baselineData.pain-u,2),0)/i.length,y=Math.sqrt(g),v=i.filter(W=>W.baselineData.pain<=3).length,N=i.filter(W=>W.baselineData.pain>=7).length,D={};i.forEach(W=>{W.baselineData.locations?.forEach(we=>{D[we]=(D[we]||0)+1})});const j=Object.entries(D).sort(([,W],[,we])=>we-W).slice(0,5).map(([W,we])=>({location:W,count:we,percentage:we/i.length*100})),C={};i.forEach(W=>{W.triggers?.forEach(we=>{C[we]=(C[we]||0)+1})});const E=Object.entries(C).sort(([,W],[,we])=>we-W).slice(0,5).map(([W,we])=>({trigger:W,count:we,percentage:we/i.length*100})),A=mv(),V={0:{count:0,totalPain:0},1:{count:0,totalPain:0},2:{count:0,totalPain:0},3:{count:0,totalPain:0},4:{count:0,totalPain:0},5:{count:0,totalPain:0},6:{count:0,totalPain:0}},P={},_=u,O={},S={},L=W=>rf.find(we=>W>=we.start&&W<we.end)??rf[rf.length-1];i.forEach(W=>{const we=new Date(W.timestamp).getHours(),rt=new Date(W.timestamp),Ge=rt.getDay(),_e=rt.getMonth()+1;let ze;if(we>=5&&we<12?ze="morning":we>=12&&we<17?ze="afternoon":we>=17&&we<21?ze="evening":ze="night",A[ze].count++,A[ze].avgIntensity+=W.baselineData.pain,V[Ge].count++,V[Ge].totalPain+=W.baselineData.pain,P[_e]||(P[_e]={count:0,totalPain:0}),P[_e].count++,P[_e].totalPain+=W.baselineData.pain,W.triggers&&W.triggers.length>0){const Me=W.baselineData.pain-_;W.triggers.forEach(ut=>{O[ut]||(O[ut]={count:0,deltaSum:0}),O[ut].count++,O[ut].deltaSum+=Me})}}),Object.keys(A).forEach(W=>{const we=W;A[we].count>0&&(A[we].avgIntensity/=A[we].count)});const B=Object.entries(V).map(([W,we])=>({day:Number(W),count:we.count,avgPain:we.count>0?we.totalPain/we.count:0})),$=Object.entries(P).map(([W,we])=>({month:Number(W),count:we.count,avgPain:we.count>0?we.totalPain/we.count:0})).sort((W,we)=>W.month-we.month),Z=Object.entries(O).map(([W,we])=>({trigger:W,count:we.count,avgDelta:we.deltaSum/we.count})).sort((W,we)=>Math.abs(we.avgDelta)-Math.abs(W.avgDelta)).slice(0,8),re={};i.forEach((W,we)=>{if(W.medications&&W.medications.current.length>0&&we<i.length-1){const rt=i[we+1],Ge=W.baselineData.pain-rt.baselineData.pain,_e=new Date(W.timestamp).getHours(),ze=L(_e);S[ze.id]||(S[ze.id]={count:0,totalReduction:0,label:ze.label}),S[ze.id].count++,S[ze.id].totalReduction+=Ge,W.medications.current.forEach(Me=>{re[Me.name]||(re[Me.name]={uses:0,totalReduction:0}),re[Me.name].uses++,re[Me.name].totalReduction+=Ge})}});const le=Object.entries(re).map(([W,we])=>({medication:W,uses:we.uses,avgReduction:we.totalReduction/we.uses,effectiveness:we.totalReduction/we.uses/10*100})).sort((W,we)=>we.effectiveness-W.effectiveness),pe=Object.entries(S).map(([W,we])=>({id:W,label:we.label,avgReduction:we.totalReduction/we.count,confidence:Math.min(1,we.count/4),count:we.count})).filter(W=>W.avgReduction>0).sort((W,we)=>we.avgReduction-W.avgReduction)[0]??null,ue=i.slice(-7),te=ue.reduce((W,we)=>W+we.baselineData.pain,0)/ue.length,U=ue.slice(-3).every((W,we,rt)=>we===0||W.baselineData.pain>=rt[we-1].baselineData.pain),H=te>6&&U?{probability:Math.min(95,Math.round(te/10*100)),timeframe:"24-48 hours",severity:te>8?"high":"moderate",recommendations:["Consider preventive medication","Reduce strenuous activities","Ensure adequate rest","Monitor trigger exposure"]}:null,G=Math.min(100,Math.round(u*10+y*5+N/i.length*30+(U?20:0))),se=Math.max(0,Math.min(100,Math.round(100-u*10-(f>0?f:0)+v/i.length*30-y*5))),ne=f>5?.8:f>0?.4:f<-5?-.7:f<0?-.3:0,ae=E6(u+ne,0,10),he=i.length>=40?"high":i.length>=20?"medium":"low",me=ne>.3?"worsening":ne<-.3?"improving":"holding steady",ge={projectedAverage:ae,change:ne,confidence:he,narrative:`Pain levels are ${me} based on the last ${i.length} entries.`},Pe=[];H&&Pe.push({title:"Prepare for possible flare",detail:`Probability ${H.probability}% in the next ${H.timeframe}. Emphasize pacing and preventive care now.`,category:"flare",emphasis:H.severity==="high"?"high":"medium"});const xe=[...B].filter(W=>W.count>0).sort((W,we)=>we.avgPain-W.avgPain)[0];xe&&xe.avgPain-u>=1&&Pe.push({title:`${Ll[xe.day]} pattern`,detail:`Average pain ${xe.avgPain.toFixed(1)} on ${Ll[xe.day]}. Schedule lighter duties or recovery blocks.`,category:"routine",emphasis:"medium"});const Ie=Z.find(W=>W.avgDelta>1);Ie&&Pe.push({title:`${Ie.trigger} drives pain`,detail:`Pain averages +${Ie.avgDelta.toFixed(1)} when this trigger appears. Create a mitigation plan or log exposure notes.`,category:"trigger",emphasis:"high"});const De=le.find(W=>W.avgReduction>.5);return De&&Pe.push({title:`${De.medication} shows relief`,detail:`Average reduction ${De.avgReduction.toFixed(1)} points across ${De.uses} uses. Remember to document dosing accuracy.`,category:"medication",emphasis:"medium"}),pe&&pe.avgReduction>.3&&Pe.push({title:"Optimize medication timing",detail:`Greatest relief occurs around ${pe.label}. Aim to medicate within this window when feasible.`,category:"medication",emphasis:"medium"}),Pe.length===0&&Pe.push({title:"Keep logging for smarter predictions",detail:"More varied entries (triggers, medication notes, sleep quality) will unlock individualized recommendations.",category:"routine",emphasis:"low"}),{avgPain:u,trend:f,volatility:y,goodDays:v,badDays:N,topLocations:j,topTriggers:E,timePatterns:A,dayOfWeekPatterns:B,monthlyTrend:$,triggerPainCorrelation:Z,medicationEffectiveness:le,predictedFlare:H,riskScore:G,improvementScore:se,optimalMedicationWindow:pe,nextWeekForecast:ge,personalizedRecommendations:Pe}},[i]),o=I.useMemo(()=>{if(i.length===0)return null;try{return d6(i)}catch(u){return console.error("Pattern analysis failed:",u),null}},[i]),l=I.useMemo(()=>F6(a,i.length),[a,i.length]);return c.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 dark:from-gray-950 dark:via-blue-950 dark:to-indigo-950",children:[c.jsxDEV("div",{className:"bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 text-white shadow-2xl",children:c.jsxDEV("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxDEV("div",{className:"flex items-center justify-between",children:[c.jsxDEV("div",{className:"flex items-center gap-4",children:[c.jsxDEV("div",{className:"p-3 bg-white/20 backdrop-blur-sm rounded-2xl",children:c.jsxDEV(yo,{className:"w-8 h-8"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:656,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:655,columnNumber:15},void 0),c.jsxDEV("div",{children:[c.jsxDEV("h1",{className:"text-3xl font-bold",children:"Premium Analytics"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:659,columnNumber:17},void 0),c.jsxDEV("p",{className:"text-blue-100 mt-1",children:"Advanced insights powered by clinical-grade algorithms"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:660,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:658,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:654,columnNumber:13},void 0),c.jsxDEV("div",{className:"flex items-center gap-3",children:[c.jsxDEV("button",{className:"px-4 py-2 bg-white/20 hover:bg-white/30 backdrop-blur-sm rounded-lg transition-all flex items-center gap-2",children:[c.jsxDEV(Th,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:668,columnNumber:17},void 0),"Share"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:667,columnNumber:15},void 0),c.jsxDEV("button",{className:"px-4 py-2 bg-white text-blue-600 hover:bg-blue-50 rounded-lg font-medium transition-all flex items-center gap-2",children:[c.jsxDEV(Dn,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:672,columnNumber:17},void 0),"Export Report"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:671,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:666,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:653,columnNumber:11},void 0),c.jsxDEV("div",{className:"flex gap-2 mt-6",children:[{value:"7d",label:"7 Days"},{value:"30d",label:"30 Days"},{value:"90d",label:"90 Days"},{value:"1y",label:"1 Year"},{value:"all",label:"All Time"}].map(u=>c.jsxDEV("button",{onClick:()=>t(u.value),className:`
                  px-4 py-2 rounded-lg font-medium transition-all
                  ${e===u.value?"bg-white text-blue-600 shadow-lg":"bg-white/10 hover:bg-white/20 text-white"}
                `,children:u.label},u.value,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:687,columnNumber:15},void 0))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:679,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:652,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:651,columnNumber:7},void 0),c.jsxDEV("div",{className:"bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700 sticky top-0 z-40 shadow-sm",children:c.jsxDEV("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxDEV("div",{className:"flex gap-1 overflow-x-auto py-2",children:[{id:"overview",label:"Overview",icon:Ld},{id:"patterns",label:"Pattern Analysis",icon:Mh},{id:"predictions",label:"Predictions",icon:Mn},{id:"clinical",label:"Clinical Report",icon:Qr},{id:"insights",label:"AI Insights",icon:yo},{id:"export",label:"Export & Share",icon:Dn}].map(u=>{const d=u.icon;return c.jsxDEV("button",{onClick:()=>n(u.id),className:`
                    flex items-center gap-2 px-4 py-3 rounded-lg font-medium transition-all whitespace-nowrap
                    ${r===u.id?"bg-blue-500 text-white shadow-lg":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"}
                  `,children:[c.jsxDEV(d,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:732,columnNumber:19},void 0),u.label]},u.id,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:720,columnNumber:17},void 0)})},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:709,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:708,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:707,columnNumber:7},void 0),c.jsxDEV("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r==="overview"&&c.jsxDEV(T6,{analytics:a,entries:i},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:743,columnNumber:33},void 0),r==="patterns"&&c.jsxDEV(M6,{analytics:a},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:744,columnNumber:33},void 0),r==="predictions"&&c.jsxDEV(I6,{analytics:a},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:745,columnNumber:36},void 0),r==="clinical"&&c.jsxDEV(R6,{analytics:a,entries:i},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:747,columnNumber:11},void 0),r==="insights"&&c.jsxDEV(O6,{analytics:a,entries:i,reasoningTree:l,patternAnalysis:o},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:750,columnNumber:11},void 0),r==="export"&&c.jsxDEV(B6,{analytics:a,entries:i},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:757,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:742,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:649,columnNumber:5},void 0)},T6=({analytics:s,entries:e})=>c.jsxDEV("div",{className:"space-y-6",children:[c.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[c.jsxDEV(Fu,{title:"Average Pain Level",value:s.avgPain.toFixed(1),subtitle:"out of 10",trend:s.trend,icon:dr,color:"blue"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:772,columnNumber:9},void 0),c.jsxDEV(Fu,{title:"Pain Volatility",value:s.volatility.toFixed(1),subtitle:"standard deviation",icon:Mh,color:"purple"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:781,columnNumber:9},void 0),c.jsxDEV(Fu,{title:"Good Days",value:s.goodDays.toString(),subtitle:`${(s.goodDays/e.length*100).toFixed(0)}% of total`,icon:xa,color:"green"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:789,columnNumber:9},void 0),c.jsxDEV(Fu,{title:"Risk Score",value:s.riskScore.toString(),subtitle:"out of 100",trend:-s.improvementScore,icon:Zr,color:s.riskScore>70?"red":s.riskScore>40?"yellow":"green"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:797,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:771,columnNumber:7},void 0),s.predictedFlare&&c.jsxDEV("div",{className:"bg-gradient-to-r from-red-500 to-orange-500 text-white rounded-2xl p-6 shadow-2xl",children:c.jsxDEV("div",{className:"flex items-start gap-4",children:[c.jsxDEV("div",{className:"p-3 bg-white/20 rounded-xl",children:c.jsxDEV(Zr,{className:"w-6 h-6"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:812,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:811,columnNumber:13},void 0),c.jsxDEV("div",{className:"flex-1",children:[c.jsxDEV("h3",{className:"text-xl font-bold mb-2",children:"âš ï¸ Flare Risk Detected"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:815,columnNumber:15},void 0),c.jsxDEV("p",{className:"text-red-100 mb-4",children:["Our predictive algorithm has identified a"," ",c.jsxDEV("strong",{children:[s.predictedFlare.probability,"% probability"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:818,columnNumber:17},void 0)," of a pain flare within the next ",c.jsxDEV("strong",{children:s.predictedFlare.timeframe},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:819,columnNumber:33},void 0),"."]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:816,columnNumber:15},void 0),c.jsxDEV("div",{className:"space-y-2",children:[c.jsxDEV("p",{className:"font-semibold",children:"Recommended Actions:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:822,columnNumber:17},void 0),c.jsxDEV("ul",{className:"space-y-1 text-red-100",children:s.predictedFlare.recommendations.map((t,r)=>c.jsxDEV("li",{className:"flex items-center gap-2",children:[c.jsxDEV(xa,{className:"w-4 h-4 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:826,columnNumber:23},void 0),t]},r,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:825,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:823,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:821,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:814,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:810,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:809,columnNumber:9},void 0),c.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxDEV("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6",children:[c.jsxDEV("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[c.jsxDEV(Lh,{className:"w-5 h-5 text-blue-500"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:842,columnNumber:13},void 0),"Most Affected Areas"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:841,columnNumber:11},void 0),c.jsxDEV("div",{className:"space-y-3",children:s.topLocations.map((t,r)=>c.jsxDEV("div",{className:"flex items-center gap-3",children:[c.jsxDEV("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-300 rounded-lg flex items-center justify-center font-bold",children:r+1},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:848,columnNumber:17},void 0),c.jsxDEV("div",{className:"flex-1",children:[c.jsxDEV("div",{className:"flex items-center justify-between mb-1",children:[c.jsxDEV("span",{className:"font-medium text-gray-900 dark:text-white capitalize",children:t.location},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:853,columnNumber:21},void 0),c.jsxDEV("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[t.count," times"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:856,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:852,columnNumber:19},void 0),c.jsxDEV("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:c.jsxDEV("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 h-2 rounded-full transition-all",style:{width:`${t.percentage}%`}},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:861,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:860,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:851,columnNumber:17},void 0)]},r,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:847,columnNumber:15},void 0))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:845,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:840,columnNumber:9},void 0),c.jsxDEV("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6",children:[c.jsxDEV("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[c.jsxDEV(ja,{className:"w-5 h-5 text-orange-500"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:875,columnNumber:13},void 0),"Common Triggers"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:874,columnNumber:11},void 0),c.jsxDEV("div",{className:"space-y-3",children:s.topTriggers.length>0?s.topTriggers.map((t,r)=>c.jsxDEV("div",{className:"flex items-center gap-3",children:[c.jsxDEV("div",{className:"flex-shrink-0 w-8 h-8 bg-orange-100 dark:bg-orange-900 text-orange-600 dark:text-orange-300 rounded-lg flex items-center justify-center font-bold",children:r+1},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:882,columnNumber:19},void 0),c.jsxDEV("div",{className:"flex-1",children:[c.jsxDEV("div",{className:"flex items-center justify-between mb-1",children:[c.jsxDEV("span",{className:"font-medium text-gray-900 dark:text-white capitalize",children:t.trigger},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:887,columnNumber:23},void 0),c.jsxDEV("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[t.count," times"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:890,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:886,columnNumber:21},void 0),c.jsxDEV("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:c.jsxDEV("div",{className:"bg-gradient-to-r from-orange-500 to-red-500 h-2 rounded-full transition-all",style:{width:`${t.percentage}%`}},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:895,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:894,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:885,columnNumber:19},void 0)]},r,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:881,columnNumber:17},void 0)):c.jsxDEV("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:"No triggers tracked yet. Start logging triggers to see patterns!"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:904,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:878,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:873,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:838,columnNumber:7},void 0),c.jsxDEV("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6",children:[c.jsxDEV("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-6 flex items-center gap-2",children:[c.jsxDEV(ri,{className:"w-5 h-5 text-purple-500"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:915,columnNumber:11},void 0),"Pain Patterns by Time of Day"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:914,columnNumber:9},void 0),c.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:Object.entries(s.timePatterns).map(([t,r])=>{const a={morning:vo,afternoon:vo,evening:va,night:va}[t],o=r.avgIntensity,l=o>=7?"red":o>=5?"yellow":o>=3?"blue":"green";return c.jsxDEV("div",{className:`p-4 rounded-xl border-2 ${l==="red"?"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800":l==="yellow"?"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800":l==="blue"?"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800":"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800"}`,children:[c.jsxDEV("div",{className:"flex items-center gap-2 mb-2",children:[c.jsxDEV(a,{className:`w-5 h-5 ${l==="red"?"text-red-600":l==="yellow"?"text-yellow-600":l==="blue"?"text-blue-600":"text-green-600"}`},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:952,columnNumber:19},void 0),c.jsxDEV("span",{className:"font-semibold text-gray-900 dark:text-white capitalize",children:t},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:963,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:951,columnNumber:17},void 0),c.jsxDEV("div",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-1",children:r.avgIntensity.toFixed(1)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:967,columnNumber:17},void 0),c.jsxDEV("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[r.count," entries"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:970,columnNumber:17},void 0)]},t,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:939,columnNumber:15},void 0)})},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:918,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:913,columnNumber:7},void 0),s.medicationEffectiveness.length>0&&c.jsxDEV("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6",children:[c.jsxDEV("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[c.jsxDEV(Qr,{className:"w-5 h-5 text-pink-500"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:981,columnNumber:13},void 0),"Medication Effectiveness Analysis"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:980,columnNumber:11},void 0),c.jsxDEV("div",{className:"space-y-3",children:s.medicationEffectiveness.map((t,r)=>c.jsxDEV("div",{className:"flex items-center gap-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-xl",children:c.jsxDEV("div",{className:"flex-1",children:[c.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[c.jsxDEV("span",{className:"font-medium text-gray-900 dark:text-white",children:t.medication},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:992,columnNumber:21},void 0),c.jsxDEV("div",{className:"flex items-center gap-2",children:[c.jsxDEV("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[t.uses," uses"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:996,columnNumber:23},void 0),c.jsxDEV("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${t.effectiveness>50?"bg-green-100 text-green-700":t.effectiveness>20?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:[t.effectiveness.toFixed(0),"% effective"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:999,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:995,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:991,columnNumber:19},void 0),c.jsxDEV("div",{className:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-3",children:c.jsxDEV("div",{className:`h-3 rounded-full transition-all ${t.effectiveness>50?"bg-gradient-to-r from-green-500 to-green-600":t.effectiveness>20?"bg-gradient-to-r from-yellow-500 to-yellow-600":"bg-gradient-to-r from-red-500 to-red-600"}`,style:{width:`${Math.min(100,t.effectiveness)}%`}},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1013,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1012,columnNumber:19},void 0),c.jsxDEV("div",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:["Avg reduction: ",t.avgReduction.toFixed(1)," points"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1024,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:990,columnNumber:17},void 0)},r,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:986,columnNumber:15},void 0))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:984,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:979,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:769,columnNumber:5},void 0),M6=({analytics:s})=>{const e=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],r=[{key:"morning",label:"Morning",window:"5a - 12p",Icon:vo},{key:"afternoon",label:"Afternoon",window:"12p - 5p",Icon:vo},{key:"evening",label:"Evening",window:"5p - 9p",Icon:va},{key:"night",label:"Night",window:"9p - 5a",Icon:va}],n=i=>i>=7?"text-rose-600 bg-rose-50 dark:bg-rose-900/30":i>=5?"text-amber-600 bg-amber-50 dark:bg-amber-900/30":i>=3?"text-sky-600 bg-sky-50 dark:bg-sky-900/30":"text-emerald-600 bg-emerald-50 dark:bg-emerald-900/30";return c.jsxDEV("div",{className:"space-y-6",children:[c.jsxDEV("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[c.jsxDEV("div",{className:"bg-white dark:bg-gray-900/60 backdrop-blur rounded-2xl shadow-xl p-6 border border-gray-100 dark:border-gray-800",children:[c.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[c.jsxDEV("div",{className:"flex items-center gap-2",children:[c.jsxDEV(Mh,{className:"w-5 h-5 text-indigo-500"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1081,columnNumber:15},void 0),c.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Time & Day Patterns"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1082,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1080,columnNumber:13},void 0),c.jsxDEV("span",{className:"text-xs uppercase tracking-wide text-indigo-500 font-semibold",children:"Live"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1086,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1079,columnNumber:11},void 0),c.jsxDEV("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-5",children:"Highlighting when pain is most likely to spike based on your historical entries."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1090,columnNumber:11},void 0),c.jsxDEV("div",{className:"space-y-4",children:[c.jsxDEV("div",{children:[c.jsxDEV("h4",{className:"text-xs font-semibold uppercase text-gray-500 dark:text-gray-400 mb-2",children:"Time of Day"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1096,columnNumber:15},void 0),c.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:r.map(({key:i,label:a,window:o,Icon:l})=>{const u=s.timePatterns[i],d=u&&u.count>0?u.avgIntensity:null;return c.jsxDEV("div",{className:"p-3 rounded-xl bg-gray-50 dark:bg-gray-800 flex items-center justify-between gap-2",children:[c.jsxDEV("div",{children:[c.jsxDEV("p",{className:"text-sm font-semibold text-gray-800 dark:text-gray-100",children:a},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1109,columnNumber:25},void 0),c.jsxDEV("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:o},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1112,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1108,columnNumber:23},void 0),c.jsxDEV("div",{className:`px-2 py-1 rounded-lg text-sm font-semibold ${d===null?"text-gray-400 dark:text-gray-500":n(d)}`,children:d===null?"â€”":d.toFixed(1)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1114,columnNumber:23},void 0),c.jsxDEV(l,{className:"w-4 h-4 text-gray-400 dark:text-gray-500"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1119,columnNumber:23},void 0)]},String(i),!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1104,columnNumber:21},void 0)})},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1099,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1095,columnNumber:13},void 0),c.jsxDEV("div",{children:[c.jsxDEV("h4",{className:"text-xs font-semibold uppercase text-gray-500 dark:text-gray-400 mb-2",children:"Day of Week"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1127,columnNumber:15},void 0),c.jsxDEV("div",{className:"grid grid-cols-7 gap-1",children:e.map((i,a)=>{const o=s.dayOfWeekPatterns?.find(u=>u.day===a),l=o&&o.count>0?o.avgPain:null;return c.jsxDEV("div",{className:"p-2 rounded-lg text-center bg-gray-50 dark:bg-gray-800",children:[c.jsxDEV("div",{className:"text-xs font-semibold text-gray-600 dark:text-gray-300",children:i},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1139,columnNumber:23},void 0),c.jsxDEV("div",{className:`mt-1 text-sm font-bold ${l===null?"text-gray-400 dark:text-gray-500":n(l)}`,children:l===null?"â€”":l.toFixed(1)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1142,columnNumber:23},void 0)]},`${i}-${a}`,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1135,columnNumber:21},void 0)})},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1130,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1126,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1094,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1078,columnNumber:9},void 0),c.jsxDEV("div",{className:"xl:col-span-2 bg-white dark:bg-gray-900/60 backdrop-blur rounded-2xl shadow-xl p-6 border border-gray-100 dark:border-gray-800",children:[c.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[c.jsxDEV("div",{className:"flex items-center gap-2",children:[c.jsxDEV(Ld,{className:"w-5 h-5 text-purple-500"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1159,columnNumber:15},void 0),c.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Trigger Impact Matrix"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1160,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1158,columnNumber:13},void 0),c.jsxDEV("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Î” Pain vs personal baseline"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1164,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1157,columnNumber:11},void 0),s.triggerPainCorrelation&&s.triggerPainCorrelation.length>0?c.jsxDEV("div",{className:"overflow-x-auto",children:c.jsxDEV("table",{className:"min-w-full text-sm",children:[c.jsxDEV("thead",{children:c.jsxDEV("tr",{className:"text-left text-gray-500 dark:text-gray-400 border-b border-gray-200 dark:border-gray-800/70",children:[c.jsxDEV("th",{className:"py-2 pr-4 font-medium",children:"Trigger"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1174,columnNumber:21},void 0),c.jsxDEV("th",{className:"py-2 pr-4 font-medium",children:"Observations"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1175,columnNumber:21},void 0),c.jsxDEV("th",{className:"py-2 pr-4 font-medium",children:"Avg Î” Pain"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1176,columnNumber:21},void 0),c.jsxDEV("th",{className:"py-2 pr-4 font-medium",children:"Interpretation"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1177,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1173,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1172,columnNumber:17},void 0),c.jsxDEV("tbody",{children:s.triggerPainCorrelation.map(i=>{const a=Math.abs(i.avgDelta)>=2?"strong":Math.abs(i.avgDelta)>=1?"moderate":"mild",o=i.avgDelta>0;return c.jsxDEV("tr",{className:"border-b border-gray-100 dark:border-gray-800/60 last:border-0",children:[c.jsxDEV("td",{className:"py-3 pr-4 text-gray-900 dark:text-gray-100 capitalize",children:i.trigger},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1194,columnNumber:25},void 0),c.jsxDEV("td",{className:"py-3 pr-4 text-gray-700 dark:text-gray-300",children:i.count},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1197,columnNumber:25},void 0),c.jsxDEV("td",{className:"py-3 pr-4",children:c.jsxDEV("span",{className:`inline-flex px-2 py-0.5 rounded-full text-xs font-semibold ${o?"bg-rose-100 text-rose-700 dark:bg-rose-900/40 dark:text-rose-200":"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/40 dark:text-emerald-200"}`,children:[o?"+":"",i.avgDelta.toFixed(1)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1199,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1198,columnNumber:25},void 0),c.jsxDEV("td",{className:"py-3 pr-4 text-xs text-gray-600 dark:text-gray-400",children:o?`${a} association with higher pain`:`${a} association with lower pain`},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1206,columnNumber:25},void 0)]},i.trigger,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1190,columnNumber:23},void 0)})},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1180,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1171,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1170,columnNumber:13},void 0):c.jsxDEV("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Log triggers alongside your entries to quantify how each factor raises or lowers your average pain."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1218,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1156,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1076,columnNumber:7},void 0),c.jsxDEV("div",{className:"bg-white dark:bg-gray-900/60 backdrop-blur rounded-2xl shadow-xl p-6 border border-gray-100 dark:border-gray-800",children:[c.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[c.jsxDEV("div",{className:"flex items-center gap-2",children:[c.jsxDEV(ci,{className:"w-5 h-5 text-blue-500"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1230,columnNumber:13},void 0),c.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Seasonality & Cyclical Patterns"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1231,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1229,columnNumber:11},void 0),c.jsxDEV("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Based on monthly averages"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1235,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1228,columnNumber:9},void 0),s.monthlyTrend&&s.monthlyTrend.length>0?c.jsxDEV("div",{className:"flex flex-wrap gap-3",children:t.map((i,a)=>{const o=s.monthlyTrend.find(u=>u.month===a+1);if(!o)return c.jsxDEV("div",{className:"px-4 py-2 rounded-full border border-dashed border-gray-200 dark:border-gray-700 text-gray-400 dark:text-gray-500 text-sm",children:i},i,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1246,columnNumber:19},void 0);const l=o.avgPain;return c.jsxDEV("div",{className:`px-4 py-2 rounded-full text-sm font-semibold ${n(l)} border border-transparent`,children:[i," Â· ",l.toFixed(1)]},i,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1256,columnNumber:17},void 0)})},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1241,columnNumber:11},void 0):c.jsxDEV("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Add entries across different months to spot seasonal pain cycles (e.g., winter flare-ups, summer relief)."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1266,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1227,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1075,columnNumber:5},void 0)},I6=({analytics:s})=>{const e=s.predictedFlare,t=s.nextWeekForecast,r=s.optimalMedicationWindow,n=s.personalizedRecommendations||[],i=(s.medicationEffectiveness||[]).slice(0,3),a=s.triggerPainCorrelation?.find(u=>u.avgDelta>0),o=s.triggerPainCorrelation?.slice().reverse().find(u=>u.avgDelta<0),l=s.dayOfWeekPatterns?.filter(u=>u.count>0).sort((u,d)=>d.avgPain-u.avgPain)[0];return c.jsxDEV("div",{className:"space-y-6",children:[c.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsxDEV("div",{className:"bg-gradient-to-br from-rose-500 to-orange-500 text-white rounded-2xl p-6 shadow-2xl",children:[c.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[c.jsxDEV("div",{children:[c.jsxDEV("p",{className:"text-sm uppercase tracking-wide text-white/70",children:"Flare Risk"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1299,columnNumber:15},void 0),c.jsxDEV("h3",{className:"text-2xl font-bold",children:e?`${e.probability}%`:"Stable"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1300,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1298,columnNumber:13},void 0),c.jsxDEV("div",{className:"p-3 bg-white/20 rounded-xl",children:c.jsxDEV(Zr,{className:"w-6 h-6"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1303,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1302,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1297,columnNumber:11},void 0),c.jsxDEV("p",{className:"text-sm text-white/80",children:e?`Next ${e.timeframe} Â· Severity ${e.severity}`:"No immediate flare risk detected. Keep logging to maintain accuracy."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1306,columnNumber:11},void 0),c.jsxDEV("div",{className:"mt-4",children:[c.jsxDEV("div",{className:"h-2 bg-white/20 rounded-full overflow-hidden",children:c.jsxDEV("div",{className:"h-full bg-white",style:{width:`${e?e.probability:20}%`}},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1313,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1312,columnNumber:13},void 0),e&&c.jsxDEV("ul",{className:"mt-3 text-sm space-y-1 text-white/80 list-disc list-inside",children:e.recommendations.map(u=>c.jsxDEV("li",{children:u},u,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1321,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1319,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1311,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1296,columnNumber:9},void 0),c.jsxDEV("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 shadow-xl border border-blue-100 dark:border-blue-900/40",children:[c.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[c.jsxDEV("div",{children:[c.jsxDEV("p",{className:"text-sm uppercase tracking-wide text-blue-500",children:"7-Day Outlook"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1331,columnNumber:15},void 0),c.jsxDEV("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[t?.projectedAverage?.toFixed(1)??"â€”"," / 10"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1332,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1330,columnNumber:13},void 0),c.jsxDEV("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/30 rounded-xl",children:c.jsxDEV(Mn,{className:"w-6 h-6 text-blue-600 dark:text-blue-300"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1337,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1336,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1329,columnNumber:11},void 0),c.jsxDEV("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t?`${t.change>=0?"+":""}${t.change.toFixed(1)} change vs current average Â· Confidence ${t.confidence}`:"Need more entries to project forward."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1340,columnNumber:11},void 0),c.jsxDEV("p",{className:"text-sm text-gray-500 dark:text-gray-500 mt-3",children:t?.narrative},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1345,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1328,columnNumber:9},void 0),c.jsxDEV("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 shadow-xl border border-purple-100 dark:border-purple-900/40",children:[c.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[c.jsxDEV("div",{children:[c.jsxDEV("p",{className:"text-sm uppercase tracking-wide text-purple-500",children:"Optimal Medication Window"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1351,columnNumber:15},void 0),c.jsxDEV("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:r?r.label:"Need more data"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1354,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1350,columnNumber:13},void 0),c.jsxDEV("div",{className:"p-3 bg-purple-50 dark:bg-purple-900/30 rounded-xl",children:c.jsxDEV(bo,{className:"w-6 h-6 text-purple-600 dark:text-purple-300"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1359,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1358,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1349,columnNumber:11},void 0),c.jsxDEV("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:r?`Avg relief ${r.avgReduction.toFixed(1)} points across ${r.count} documented doses. Confidence ${(r.confidence*100).toFixed(0)}%.`:"Log medication usage alongside pain levels to unlock timing insights."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1362,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1348,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1295,columnNumber:7},void 0),c.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsxDEV("div",{className:"lg:col-span-2 bg-white dark:bg-gray-900 rounded-2xl p-6 shadow-xl border border-gray-100 dark:border-gray-800",children:[c.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[c.jsxDEV("div",{children:[c.jsxDEV("p",{className:"text-sm uppercase tracking-wide text-indigo-500",children:"Personalized Recommendations"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1374,columnNumber:15},void 0),c.jsxDEV("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Next Best Actions"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1377,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1373,columnNumber:13},void 0),c.jsxDEV(yo,{className:"w-6 h-6 text-indigo-500"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1381,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1372,columnNumber:11},void 0),n.length===0?c.jsxDEV("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Keep logging detailed entries (triggers, meds, sleep) to unlock personalized guidance."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1385,columnNumber:13},void 0):c.jsxDEV("div",{className:"space-y-4",children:n.map((u,d)=>c.jsxDEV("div",{className:"p-4 rounded-2xl border border-gray-100 dark:border-gray-800 bg-gray-50/80 dark:bg-gray-800/40",children:[c.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[c.jsxDEV("div",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:u.title},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1396,columnNumber:21},void 0),c.jsxDEV("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${u.emphasis==="high"?"bg-rose-100 text-rose-700 dark:bg-rose-900/40 dark:text-rose-200":u.emphasis==="medium"?"bg-amber-100 text-amber-700 dark:bg-amber-900/40 dark:text-amber-200":"bg-gray-200 text-gray-700 dark:bg-gray-700 dark:text-gray-200"}`,children:u.category},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1399,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1395,columnNumber:19},void 0),c.jsxDEV("p",{className:"text-sm text-gray-600 dark:text-gray-300 leading-relaxed",children:u.detail},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1411,columnNumber:19},void 0)]},`${u.title}-${d}`,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1391,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1389,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1371,columnNumber:9},void 0),c.jsxDEV("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 shadow-xl border border-gray-100 dark:border-gray-800 space-y-5",children:[c.jsxDEV("div",{children:[c.jsxDEV("p",{className:"text-sm uppercase tracking-wide text-gray-500 dark:text-gray-400",children:"Supporting Signals"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1422,columnNumber:13},void 0),c.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"What drives the model"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1425,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1421,columnNumber:11},void 0),c.jsxDEV("div",{className:"space-y-3",children:[c.jsxDEV("div",{className:"p-3 rounded-xl bg-gray-50 dark:bg-gray-800 flex items-center justify-between gap-2",children:[c.jsxDEV("div",{children:[c.jsxDEV("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Most sensitive trigger"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1432,columnNumber:17},void 0),c.jsxDEV("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:a?a.trigger:"Need more data"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1433,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1431,columnNumber:15},void 0),a&&c.jsxDEV("span",{className:"text-sm font-semibold text-rose-600 dark:text-rose-300",children:["+",a.avgDelta.toFixed(1)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1438,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1430,columnNumber:13},void 0),c.jsxDEV("div",{className:"p-3 rounded-xl bg-gray-50 dark:bg-gray-800 flex items-center justify-between gap-2",children:[c.jsxDEV("div",{children:[c.jsxDEV("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Most stable trigger"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1445,columnNumber:17},void 0),c.jsxDEV("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:o?o.trigger:"Logging needed"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1446,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1444,columnNumber:15},void 0),o&&c.jsxDEV("span",{className:"text-sm font-semibold text-emerald-600 dark:text-emerald-300",children:o.avgDelta.toFixed(1)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1451,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1443,columnNumber:13},void 0),c.jsxDEV("div",{className:"p-3 rounded-xl bg-gray-50 dark:bg-gray-800 flex items-center justify-between gap-2",children:[c.jsxDEV("div",{children:[c.jsxDEV("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Peak pain day"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1458,columnNumber:17},void 0),c.jsxDEV("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:l?Ll[l.day]:"Need weekly coverage"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1459,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1457,columnNumber:15},void 0),l&&c.jsxDEV("span",{className:"text-sm font-semibold text-indigo-600 dark:text-indigo-300",children:l.avgPain.toFixed(1)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1464,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1456,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1429,columnNumber:11},void 0),c.jsxDEV("div",{children:[c.jsxDEV("p",{className:"text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400 mb-2",children:"Top relief sources"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1472,columnNumber:13},void 0),c.jsxDEV("div",{className:"space-y-2",children:i.length===0?c.jsxDEV("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Track medication usage to see which options your body responds to best."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1477,columnNumber:17},void 0):i.map(u=>c.jsxDEV("div",{className:"flex items-center justify-between text-sm",children:[c.jsxDEV("span",{className:"font-medium text-gray-900 dark:text-white",children:u.medication},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1483,columnNumber:21},void 0),c.jsxDEV("span",{className:"text-emerald-600 dark:text-emerald-300 font-semibold",children:["-",u.avgReduction.toFixed(1)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1486,columnNumber:21},void 0)]},u.medication,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1482,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1475,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1471,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1420,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1370,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1294,columnNumber:5},void 0)},R6=({analytics:s,entries:e})=>{const t=e.length,r=[...e].sort((g,y)=>new Date(g.timestamp).getTime()-new Date(y.timestamp).getTime()),n=g=>g?new Date(g).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"}):"â€”",i=r[0]?.timestamp,a=r[r.length-1]?.timestamp,o=r[r.length-1],l=e.reduce((g,y)=>(y.functionalImpact&&(y.functionalImpact.limitedActivities?.forEach(v=>g.limitedActivities.add(v)),y.functionalImpact.assistanceNeeded?.forEach(v=>g.assistanceNeeded.add(v)),y.functionalImpact.mobilityAids?.forEach(v=>g.mobilityAids.add(v))),y.qualityOfLife&&(typeof y.qualityOfLife.sleepQuality=="number"&&(g.sleepTotal+=y.qualityOfLife.sleepQuality,g.sleepCount+=1),typeof y.qualityOfLife.moodImpact=="number"&&(g.moodTotal+=y.qualityOfLife.moodImpact,g.moodCount+=1)),g),{limitedActivities:new Set,assistanceNeeded:new Set,mobilityAids:new Set,sleepTotal:0,sleepCount:0,moodTotal:0,moodCount:0}),u=e.reduce((g,y)=>(y.workImpact&&(g.missedDays+=y.workImpact.missedWork??0,y.workImpact.modifiedDuties?.forEach(v=>g.modifiedDuties.add(v)),y.workImpact.workLimitations?.forEach(v=>g.workLimitations.add(v))),g),{missedDays:0,modifiedDuties:new Set,workLimitations:new Set}),d=s.personalizedRecommendations?.slice(0,3)??[],m=s.medicationEffectiveness?.slice(0,3)??[],p=s.riskScore>75?"High":s.riskScore>50?"Elevated":"Managed",f=[`Average reported pain ${s.avgPain.toFixed(1)}/10 with ${s.volatility.toFixed(1)} volatility`,`${s.goodDays} good days (${(s.goodDays/Math.max(t,1)*100).toFixed(0)}% of period)`,s.predictedFlare?`Flare risk ${s.predictedFlare.probability}% in next ${s.predictedFlare.timeframe}`:"No imminent flare risk detected"];return c.jsxDEV("div",{className:"space-y-6",children:[c.jsxDEV("div",{className:"bg-white dark:bg-gray-900 rounded-2xl shadow-xl border border-gray-100 dark:border-gray-800 p-6",children:c.jsxDEV("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[c.jsxDEV("div",{children:[c.jsxDEV("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-500 dark:text-gray-400",children:"Clinical Summary"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1585,columnNumber:13},void 0),c.jsxDEV("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Pain Management Report"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1588,columnNumber:13},void 0),c.jsxDEV("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:t>0?`${n(i)} â€“ ${n(a)} (${t} entries)`:"Awaiting entries to generate report."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1591,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1584,columnNumber:11},void 0),c.jsxDEV("div",{className:"flex flex-wrap gap-3",children:[c.jsxDEV("div",{className:"px-4 py-2 rounded-xl bg-gray-50 dark:bg-gray-800",children:[c.jsxDEV("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Risk Level"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1599,columnNumber:15},void 0),c.jsxDEV("p",{className:"font-semibold text-gray-900 dark:text-white",children:p},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1600,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1598,columnNumber:13},void 0),c.jsxDEV("div",{className:"px-4 py-2 rounded-xl bg-gray-50 dark:bg-gray-800",children:[c.jsxDEV("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Latest Entry"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1603,columnNumber:15},void 0),c.jsxDEV("p",{className:"font-semibold text-gray-900 dark:text-white",children:n(o?.timestamp)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1604,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1602,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1597,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1583,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1582,columnNumber:7},void 0),c.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsxDEV("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-100 dark:border-gray-800 p-6 space-y-3",children:[c.jsxDEV("h3",{className:"text-sm font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wide",children:"Pain Overview"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1614,columnNumber:11},void 0),f.map(g=>c.jsxDEV("div",{className:"flex items-start gap-3",children:[c.jsxDEV("div",{className:"w-2 h-2 rounded-full bg-blue-500 mt-2"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1619,columnNumber:15},void 0),c.jsxDEV("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:g},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1620,columnNumber:15},void 0)]},g,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1618,columnNumber:13},void 0))]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1613,columnNumber:9},void 0),c.jsxDEV("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-100 dark:border-gray-800 p-6",children:[c.jsxDEV("h3",{className:"text-sm font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wide mb-3",children:"Functional Impact"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1626,columnNumber:11},void 0),c.jsxDEV("div",{className:"space-y-2 text-sm text-gray-700 dark:text-gray-300",children:[c.jsxDEV("p",{children:[c.jsxDEV("span",{className:"font-semibold",children:"Limited Activities:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1631,columnNumber:15},void 0)," ",l.limitedActivities.size>0?Array.from(l.limitedActivities).join(", "):"Not documented"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1630,columnNumber:13},void 0),c.jsxDEV("p",{children:[c.jsxDEV("span",{className:"font-semibold",children:"Assistance Needed:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1637,columnNumber:15},void 0)," ",l.assistanceNeeded.size>0?Array.from(l.assistanceNeeded).join(", "):"Not documented"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1636,columnNumber:13},void 0),c.jsxDEV("p",{children:[c.jsxDEV("span",{className:"font-semibold",children:"Mobility Aids:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1643,columnNumber:15},void 0)," ",l.mobilityAids.size>0?Array.from(l.mobilityAids).join(", "):"Not documented"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1642,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1629,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1625,columnNumber:9},void 0),c.jsxDEV("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-100 dark:border-gray-800 p-6",children:[c.jsxDEV("h3",{className:"text-sm font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wide mb-3",children:"WorkSafe BC Readiness"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1652,columnNumber:11},void 0),c.jsxDEV("ul",{className:"space-y-2 text-sm text-gray-700 dark:text-gray-300",children:[c.jsxDEV("li",{children:[c.jsxDEV("span",{className:"font-semibold",children:"Missed days:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1657,columnNumber:15},void 0)," ",u.missedDays]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1656,columnNumber:13},void 0),c.jsxDEV("li",{children:[c.jsxDEV("span",{className:"font-semibold",children:"Modified duties:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1660,columnNumber:15},void 0)," ",u.modifiedDuties.size>0?Array.from(u.modifiedDuties).join(", "):"None recorded"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1659,columnNumber:13},void 0),c.jsxDEV("li",{children:[c.jsxDEV("span",{className:"font-semibold",children:"Limitations:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1666,columnNumber:15},void 0)," ",u.workLimitations.size>0?Array.from(u.workLimitations).join(", "):"None recorded"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1665,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1655,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1651,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1612,columnNumber:7},void 0),c.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxDEV("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-100 dark:border-gray-800 p-6",children:[c.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[c.jsxDEV("h3",{className:"text-sm font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wide",children:"Medication & Treatment Summary"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1678,columnNumber:13},void 0),c.jsxDEV("span",{className:"text-xs text-gray-400 dark:text-gray-500",children:["Last documented: ",n(o?.timestamp)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1681,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1677,columnNumber:11},void 0),m.length===0?c.jsxDEV("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Document medication usage along with pain score changes to surface effectiveness insights."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1686,columnNumber:13},void 0):c.jsxDEV("div",{className:"space-y-3",children:m.map(g=>c.jsxDEV("div",{className:"flex items-center justify-between text-sm text-gray-700 dark:text-gray-200 p-3 rounded-xl bg-gray-50 dark:bg-gray-800/70",children:[c.jsxDEV("div",{children:[c.jsxDEV("p",{className:"font-semibold",children:g.medication},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1698,columnNumber:21},void 0),c.jsxDEV("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[g.uses," entries"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1699,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1697,columnNumber:19},void 0),c.jsxDEV("div",{className:"text-right",children:[c.jsxDEV("p",{className:"font-semibold text-emerald-600 dark:text-emerald-300",children:["-",g.avgReduction.toFixed(1)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1702,columnNumber:21},void 0),c.jsxDEV("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Avg pain change"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1705,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1701,columnNumber:19},void 0)]},g.medication,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1693,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1691,columnNumber:13},void 0),s.optimalMedicationWindow&&c.jsxDEV("div",{className:"mt-4 rounded-xl bg-indigo-50 dark:bg-indigo-900/30 p-4 text-sm text-indigo-900 dark:text-indigo-100",children:["Optimal timing:"," ",c.jsxDEV("span",{className:"font-semibold",children:s.optimalMedicationWindow.label},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1714,columnNumber:15},void 0)," Â· Avg relief ",s.optimalMedicationWindow.avgReduction.toFixed(1)," Â· Confidence"," ",(s.optimalMedicationWindow.confidence*100).toFixed(0),"%"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1712,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1676,columnNumber:9},void 0),c.jsxDEV("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-100 dark:border-gray-800 p-6",children:[c.jsxDEV("h3",{className:"text-sm font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wide mb-4",children:"Provider Notes & Next Steps"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1722,columnNumber:11},void 0),d.length===0?c.jsxDEV("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Log detailed context (triggers, interventions) to unlock provider-ready recommendations."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1726,columnNumber:13},void 0):c.jsxDEV("ol",{className:"list-decimal list-inside space-y-3 text-sm text-gray-700 dark:text-gray-300",children:d.map((g,y)=>c.jsxDEV("li",{children:[c.jsxDEV("p",{className:"font-semibold text-gray-900 dark:text-white",children:g.title},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1734,columnNumber:19},void 0),c.jsxDEV("p",{className:"text-gray-600 dark:text-gray-400",children:g.detail},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1735,columnNumber:19},void 0)]},`${g.title}-${y}`,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1733,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1731,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1721,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1675,columnNumber:7},void 0),c.jsxDEV("div",{className:"bg-gray-50 dark:bg-gray-900/60 rounded-2xl border border-gray-100 dark:border-gray-800 p-6",children:[c.jsxDEV("p",{className:"text-xs uppercase tracking-[0.3em] text-gray-500 dark:text-gray-400 mb-2",children:"Supporting Evidence"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1744,columnNumber:9},void 0),c.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-gray-700 dark:text-gray-300",children:[c.jsxDEV("div",{children:[c.jsxDEV("p",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase",children:"Top Pain Locations"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1749,columnNumber:13},void 0),c.jsxDEV("p",{children:s.topLocations.length>0?s.topLocations.map(g=>`${g.location} (${g.count})`).join(", "):"Not captured"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1750,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1748,columnNumber:11},void 0),c.jsxDEV("div",{children:[c.jsxDEV("p",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase",children:"Primary Triggers"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1757,columnNumber:13},void 0),c.jsxDEV("p",{children:s.topTriggers.length>0?s.topTriggers.map(g=>`${g.trigger} (${g.count})`).join(", "):"Not documented"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1758,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1756,columnNumber:11},void 0),c.jsxDEV("div",{children:[c.jsxDEV("p",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase",children:"Quality-of-Life Metrics"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1767,columnNumber:13},void 0),c.jsxDEV("p",{children:["Sleep avg:"," ",l.sleepCount>0?(l.sleepTotal/l.sleepCount).toFixed(1):"â€”"," ","Â· Mood impact avg:"," ",l.moodCount>0?(l.moodTotal/l.moodCount).toFixed(1):"â€”"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1770,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1766,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1747,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1743,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1581,columnNumber:5},void 0)},O6=({analytics:s,entries:e,reasoningTree:t,patternAnalysis:r})=>{const n=e.length>=60?"high":e.length>=25?"medium":"low",i=s.personalizedRecommendations[0];return c.jsxDEV("div",{className:"space-y-6",children:[c.jsxDEV("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-100 dark:border-gray-800 p-6 shadow-xl",children:[c.jsxDEV("div",{className:"flex items-start justify-between gap-4",children:[c.jsxDEV("div",{children:[c.jsxDEV("p",{className:"text-xs uppercase tracking-[0.3em] text-gray-500 dark:text-gray-400",children:"Tree-of-Thought Reasoning"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1802,columnNumber:13},void 0),c.jsxDEV("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"How the dashboard reached its conclusions"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1805,columnNumber:13},void 0),c.jsxDEV("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:"Each branch represents a reasoning step that connects raw entries to clinical guidance. Confidence is weighted by data coverage."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1808,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1801,columnNumber:11},void 0),c.jsxDEV("div",{className:`px-4 py-2 rounded-xl text-sm font-semibold ${n==="high"?"bg-emerald-100 text-emerald-700":n==="medium"?"bg-amber-100 text-amber-700":"bg-rose-100 text-rose-700"}`,children:["Data confidence: ",n]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1813,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1800,columnNumber:9},void 0),c.jsxDEV("div",{className:"mt-6",children:c.jsxDEV(fv,{nodes:t,depth:0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1827,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1826,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1799,columnNumber:7},void 0),c.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsxDEV("div",{className:"col-span-2 bg-gradient-to-br from-indigo-600 to-purple-600 text-white rounded-2xl p-6 shadow-2xl",children:c.jsxDEV("div",{className:"flex items-start gap-3",children:[c.jsxDEV(yo,{className:"w-6 h-6"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1834,columnNumber:13},void 0),c.jsxDEV("div",{children:[c.jsxDEV("p",{className:"text-xs uppercase tracking-[0.4em] text-white/70",children:"Highlighted Thought"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1836,columnNumber:15},void 0),c.jsxDEV("h4",{className:"text-xl font-bold",children:i?i.title:"Keep logging insights"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1839,columnNumber:15},void 0),c.jsxDEV("p",{className:"text-sm text-white/80 mt-2",children:i?i.detail:"Log triggers, medications, and recovery context to unlock actionable insights."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1842,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1835,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1833,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1832,columnNumber:9},void 0),c.jsxDEV("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-100 dark:border-gray-800 p-6",children:[c.jsxDEV("p",{className:"text-xs uppercase tracking-[0.3em] text-gray-500 dark:text-gray-400",children:"Coverage Snapshot"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1852,columnNumber:11},void 0),c.jsxDEV("div",{className:"mt-4 space-y-3 text-sm text-gray-700 dark:text-gray-300",children:[c.jsxDEV("div",{className:"flex items-center justify-between",children:[c.jsxDEV("span",{children:"Total entries analyzed"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1857,columnNumber:15},void 0),c.jsxDEV("span",{className:"font-semibold",children:e.length},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1858,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1856,columnNumber:13},void 0),c.jsxDEV("div",{className:"flex items-center justify-between",children:[c.jsxDEV("span",{children:"Day-of-week coverage"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1861,columnNumber:15},void 0),c.jsxDEV("span",{className:"font-semibold",children:[s.dayOfWeekPatterns.filter(a=>a.count>0).length,"/7 days"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1862,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1860,columnNumber:13},void 0),c.jsxDEV("div",{className:"flex items-center justify-between",children:[c.jsxDEV("span",{children:"Trigger signals tracked"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1867,columnNumber:15},void 0),c.jsxDEV("span",{className:"font-semibold",children:s.triggerPainCorrelation.length},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1868,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1866,columnNumber:13},void 0),c.jsxDEV("div",{className:"flex items-center justify-between",children:[c.jsxDEV("span",{children:"Medication experiments"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1871,columnNumber:15},void 0),c.jsxDEV("span",{className:"font-semibold",children:s.medicationEffectiveness.length},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1872,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1870,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1855,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1851,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1831,columnNumber:7},void 0),r&&c.jsxDEV("div",{className:"space-y-6",children:[c.jsxDEV("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-2xl p-6 shadow-2xl",children:[c.jsxDEV("div",{className:"flex items-center gap-3 mb-4",children:[c.jsxDEV(Mn,{className:"w-6 h-6"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1883,columnNumber:15},void 0),c.jsxDEV("div",{children:[c.jsxDEV("h3",{className:"text-xl font-bold",children:"Heuristic Pattern Recognition"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1885,columnNumber:17},void 0),c.jsxDEV("p",{className:"text-sm text-white/80",children:"Advanced analysis powered by local algorithms"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1886,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1884,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1882,columnNumber:13},void 0),c.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:[c.jsxDEV("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[c.jsxDEV("p",{className:"text-xs uppercase tracking-wider text-white/70",children:"Trend Slope"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1894,columnNumber:17},void 0),c.jsxDEV("p",{className:"text-2xl font-bold",children:r.dailyTrend.length>0?(r.dailyTrend[r.dailyTrend.length-1].value-r.dailyTrend[0].value).toFixed(1):"0.0"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1895,columnNumber:17},void 0),c.jsxDEV("p",{className:"text-xs text-white/80",children:"Recent trend direction"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1903,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1893,columnNumber:15},void 0),c.jsxDEV("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[c.jsxDEV("p",{className:"text-xs uppercase tracking-wider text-white/70",children:"Episodes Detected"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1906,columnNumber:17},void 0),c.jsxDEV("p",{className:"text-2xl font-bold",children:r.episodes.length},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1907,columnNumber:17},void 0),c.jsxDEV("p",{className:"text-xs text-white/80",children:"Flare patterns identified"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1908,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1905,columnNumber:15},void 0),c.jsxDEV("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[c.jsxDEV("p",{className:"text-xs uppercase tracking-wider text-white/70",children:"Data Quality"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1911,columnNumber:17},void 0),c.jsxDEV("p",{className:"text-2xl font-bold capitalize",children:r.meta.dataQuality},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1912,columnNumber:17},void 0),c.jsxDEV("p",{className:"text-xs text-white/80",children:[r.meta.entryCount," entries analyzed"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1913,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1910,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1892,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1881,columnNumber:11},void 0),r.episodes.length>0&&c.jsxDEV("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-100 dark:border-gray-800 p-6 shadow-xl",children:[c.jsxDEV("h4",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[c.jsxDEV(Zr,{className:"w-5 h-5 text-red-500"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1924,columnNumber:17},void 0),"Pain Episodes (",r.episodes.length,")"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1923,columnNumber:15},void 0),c.jsxDEV("div",{className:"space-y-3",children:r.episodes.slice(0,5).map((a,o)=>c.jsxDEV("div",{className:"border-l-4 border-red-500 pl-4 py-2",children:c.jsxDEV("div",{className:"flex items-center justify-between",children:[c.jsxDEV("div",{children:[c.jsxDEV("p",{className:"font-semibold text-gray-900 dark:text-white capitalize",children:[a.severity," Severity"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1932,columnNumber:25},void 0),c.jsxDEV("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[a.durationDays," days â€¢ Peak: ",a.peakPain.toFixed(1),"/10"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1935,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1931,columnNumber:23},void 0),a.recoveryDays!==null&&c.jsxDEV("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Recovery: ",a.recoveryDays,"d"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1940,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1930,columnNumber:21},void 0)},o,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1929,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1927,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1922,columnNumber:13},void 0),r.triggerCorrelations.length>0&&c.jsxDEV("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-100 dark:border-gray-800 p-6 shadow-xl",children:[c.jsxDEV("h4",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[c.jsxDEV(ja,{className:"w-5 h-5 text-yellow-500"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1955,columnNumber:17},void 0),"Trigger Correlations"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1954,columnNumber:15},void 0),c.jsxDEV("div",{className:"space-y-3",children:r.triggerCorrelations.slice(0,5).map((a,o)=>c.jsxDEV("div",{className:"flex items-center justify-between",children:[c.jsxDEV("div",{className:"flex-1",children:[c.jsxDEV("p",{className:"font-medium text-gray-900 dark:text-white",children:a.label},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1962,columnNumber:23},void 0),c.jsxDEV("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[a.support," occurrences â€¢ ",a.confidence.toFixed(0),"% confidence"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1963,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1961,columnNumber:21},void 0),c.jsxDEV("div",{className:"text-right",children:[c.jsxDEV("p",{className:`text-sm font-semibold ${a.deltaPain>0?"text-red-600":"text-green-600"}`,children:[a.deltaPain>0?"+":"",a.deltaPain.toFixed(1)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1968,columnNumber:23},void 0),c.jsxDEV("p",{className:"text-xs text-gray-500 dark:text-gray-400 capitalize",children:a.strength},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1974,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1967,columnNumber:21},void 0)]},o,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1960,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1958,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1953,columnNumber:13},void 0),r.qolPatterns.length>0&&c.jsxDEV("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-100 dark:border-gray-800 p-6 shadow-xl",children:[c.jsxDEV("h4",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[c.jsxDEV(Qr,{className:"w-5 h-5 text-pink-500"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1988,columnNumber:17},void 0),"Quality of Life Insights"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1987,columnNumber:15},void 0),c.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:r.qolPatterns.map((a,o)=>c.jsxDEV("div",{className:"border border-gray-200 dark:border-gray-700 rounded-xl p-4",children:[c.jsxDEV("div",{className:"flex items-center gap-2 mb-2",children:[a.metric==="sleep"&&c.jsxDEV(va,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1998,columnNumber:54},void 0),a.metric==="mood"&&c.jsxDEV(vo,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1999,columnNumber:53},void 0),a.metric==="activity"&&c.jsxDEV(dr,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2e3,columnNumber:57},void 0),c.jsxDEV("p",{className:"font-semibold text-gray-900 dark:text-white capitalize",children:a.metric},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2001,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1997,columnNumber:21},void 0),c.jsxDEV("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:a.description},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2005,columnNumber:21},void 0),c.jsxDEV("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 capitalize",children:[a.correlation," correlation"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2008,columnNumber:21},void 0)]},o,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1993,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1991,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1986,columnNumber:13},void 0),r.meta.cautions.length>0&&c.jsxDEV("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-xl p-4",children:c.jsxDEV("div",{className:"flex items-start gap-3",children:[c.jsxDEV(Zr,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2021,columnNumber:17},void 0),c.jsxDEV("div",{className:"flex-1",children:[c.jsxDEV("p",{className:"font-semibold text-yellow-900 dark:text-yellow-100",children:"Analysis Notes"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2023,columnNumber:19},void 0),c.jsxDEV("ul",{className:"mt-2 space-y-1 text-sm text-yellow-800 dark:text-yellow-200",children:r.meta.cautions.map((a,o)=>c.jsxDEV("li",{children:["â€¢ ",a]},o,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2028,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2026,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2022,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2020,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2019,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1880,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1798,columnNumber:5},void 0)},fv=({nodes:s,depth:e})=>s.length?c.jsxDEV("div",{className:"space-y-4",children:s.map(t=>c.jsxDEV("div",{className:"rounded-2xl border border-gray-200 dark:border-gray-800 p-4 bg-white dark:bg-gray-900 shadow",children:[c.jsxDEV("div",{className:"flex items-start justify-between gap-3",children:[c.jsxDEV("div",{children:[c.jsxDEV("p",{className:"text-xs uppercase tracking-[0.3em] text-gray-500 dark:text-gray-400",children:["Step ",e+1]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2059,columnNumber:15},void 0),c.jsxDEV("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t.title},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2062,columnNumber:15},void 0),c.jsxDEV("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:t.insight},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2063,columnNumber:15},void 0),t.evidence&&c.jsxDEV("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:["Evidence: ",t.evidence]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2065,columnNumber:17},void 0),t.action&&c.jsxDEV("p",{className:"mt-2 text-sm text-indigo-600 dark:text-indigo-300 font-medium",children:["Next action: ",t.action]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2070,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2058,columnNumber:13},void 0),c.jsxDEV("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${t.confidence==="high"?"bg-emerald-100 text-emerald-700":t.confidence==="medium"?"bg-amber-100 text-amber-700":"bg-rose-100 text-rose-700"}`,children:[t.confidence," confidence"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2075,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2057,columnNumber:11},void 0),t.children&&t.children.length>0&&c.jsxDEV("div",{className:"mt-4 pl-4 border-l-2 border-dashed border-gray-200 dark:border-gray-700 space-y-4",children:c.jsxDEV(fv,{nodes:t.children,depth:e+1},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2090,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2089,columnNumber:13},void 0)]},t.id,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2053,columnNumber:9},void 0))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2051,columnNumber:5},void 0):c.jsxDEV("div",{className:"rounded-xl border border-dashed border-gray-200 dark:border-gray-700 p-4 text-sm text-gray-500 dark:text-gray-400",children:"Not enough data yet. Add a few detailed entries to unlock automated reasoning."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2044,columnNumber:7},void 0),F6=(s,e)=>{if(e===0)return[{id:"empty-state",title:"No evidence yet",insight:"Log at least one pain entry to begin automated reasoning.",confidence:"low",action:"Capture todayâ€™s pain level and triggers."}];const t=e>=60?"high":e>=25?"medium":"low",r={id:"patterns",title:"Temporal & trigger patterns",insight:`Detected ${s.dayOfWeekPatterns.filter(a=>a.count>0).length}/7 day patterns and ${s.timePatterns.morning.count+s.timePatterns.afternoon.count+s.timePatterns.evening.count+s.timePatterns.night.count} time-of-day observations.`,confidence:t,evidence:s.triggerPainCorrelation[0]?`${s.triggerPainCorrelation[0].trigger} shifts pain by ${s.triggerPainCorrelation[0].avgDelta.toFixed(1)}`:"Need more trigger tagging",action:s.triggerPainCorrelation[0]?`Mitigate ${s.triggerPainCorrelation[0].trigger} exposure on ${Ll[s.dayOfWeekPatterns.sort((a,o)=>o.avgPain-a.avgPain)[0]?.day??0]}`:"Log triggers alongside entries for richer pattern detection.",children:s.dayOfWeekPatterns.filter(a=>a.count>0).slice(0,2).map(a=>({id:`day-${a.day}`,title:`${Ll[a.day]} trend`,insight:`Average pain ${a.avgPain.toFixed(1)} with ${a.count} observations`,confidence:a.count>=4?"medium":"low",action:a.avgPain>=s.avgPain?"Prep pacing plan ahead of this day.":"Consider scheduling recovery work here."}))},n={id:"risk",title:"Risk posture & flare outlook",insight:`Risk score ${s.riskScore} with ${s.badDays} high-pain days.`,confidence:s.riskScore>=70?"high":s.riskScore>=40?"medium":"low",evidence:s.predictedFlare?`Flare probability ${s.predictedFlare.probability}% (${s.predictedFlare.timeframe})`:"No imminent flare detected",action:s.predictedFlare?s.predictedFlare.recommendations[0]:"Maintain current pacing plan and continue monitoring.",children:[s.optimalMedicationWindow&&{id:"med-window",title:"Medication timing",insight:`Best relief around ${s.optimalMedicationWindow.label}.`,confidence:s.optimalMedicationWindow.confidence>=.75?"high":"medium",action:"Align doses with this window when medically appropriate."},s.medicationEffectiveness[0]&&{id:"med-effectiveness",title:`${s.medicationEffectiveness[0].medication} response`,insight:`Avg reduction ${s.medicationEffectiveness[0].avgReduction.toFixed(1)} points.`,confidence:s.medicationEffectiveness[0].uses>=3?"high":"medium",action:"Document dosage notes for provider review."}].filter(Boolean)},i={id:"clinical",title:"Clinical + WorkSafe readiness",insight:`${s.goodDays} managed days vs ${s.badDays} tough days.`,confidence:t,evidence:`Top locations: ${s.topLocations.slice(0,2).map(a=>a.location).join(", ")||"N/A"}`,action:"Use export tab to share WorkSafe-ready PDF.",children:s.personalizedRecommendations.slice(0,2).map(a=>({id:`rec-${a.title}`,title:a.title,insight:a.detail,confidence:a.emphasis==="high"?"high":a.emphasis==="medium"?"medium":"low",action:a.category==="medication"?"Confirm with care team before adjusting meds.":"Add notes after acting on this insight."}))};return[{id:"root",title:"Premium analytics reasoning loop",insight:`Analyzed ${e} entries with average pain ${s.avgPain.toFixed(1)}/10 and volatility ${s.volatility.toFixed(1)}.`,confidence:t,children:[r,n,i]}]},B6=({analytics:s,entries:e})=>{const[t,r]=I.useState(null),[n,i]=I.useState(null),[a,o]=I.useState("idle"),[l,u]=I.useState("Clipboard unavailable. Select the summary text and copy manually."),[d,m]=I.useState(null),[p,f]=I.useState(!1),[g,y]=I.useState(!1),[v,N]=I.useState(()=>typeof navigator>"u"?!1:!navigator.onLine),{preferences:D}=Hd(),{validationHistory:j,addValidation:C,clearHistory:E}=c6(),A=I.useMemo(()=>[...e].sort((te,U)=>new Date(te.timestamp).getTime()-new Date(U.timestamp).getTime()),[e]);I.useEffect(()=>{y(D.realTimeValidation)},[D.realTimeValidation]),I.useEffect(()=>{if(typeof window>"u")return;const te=()=>{if(typeof navigator>"u"){N(!1);return}N(!navigator.onLine)};return window.addEventListener("online",te),window.addEventListener("offline",te),()=>{window.removeEventListener("online",te),window.removeEventListener("offline",te)}},[]);const V=I.useMemo(()=>_6&&D.realTimeValidation,[D.realTimeValidation]),P=I.useMemo(()=>{if(A.length===0)return"No entries yet";const te=new Date(A[0].timestamp),U=new Date(A[A.length-1].timestamp);return`${te.toLocaleDateString()} â€“ ${U.toLocaleDateString()}`},[A]),_=I.useMemo(()=>{if(A.length===0)return"no-data";const te=new Date(A[0].timestamp).toISOString().split("T")[0],U=new Date(A[A.length-1].timestamp).toISOString().split("T")[0];return`${te}-to-${U}`},[A]),O=s.riskScore>75?"High":s.riskScore>50?"Elevated":"Managed",S=s.topTriggers?.slice?.(0,2).map(te=>te.trigger).filter(Boolean).join(", ")||"Not captured",L=s.topLocations?.slice?.(0,2).map(te=>te.location).filter(Boolean).join(", ")||"Not captured",B=s.personalizedRecommendations?.[0]?.detail??"Keep logging detailed entries (triggers, interventions, medications) to unlock personalized recommendations.",$=s.nextWeekForecast?`${s.nextWeekForecast.projectedAverage.toFixed(1)}/10 avg (${s.nextWeekForecast.change>=0?"+":""}${s.nextWeekForecast.change.toFixed(1)} change Â· confidence ${s.nextWeekForecast.confidence})`:"Need more entries to forecast next week.",Z=I.useMemo(()=>A.length===0?"No entries logged yet. Capture at least one day of pain data to unlock exportable summaries.":[`Pain Tracker clinical snapshot (${P}, ${A.length} entries)`,"",`â€¢ Avg pain ${s.avgPain.toFixed(1)}/10 Â· Volatility ${s.volatility.toFixed(1)}`,`â€¢ Good days ${s.goodDays} Â· Risk level ${O}`,`â€¢ Top locations: ${L}`,`â€¢ Triggers to watch: ${S}`,`â€¢ Forecast: ${$}`,`â€¢ Recommendation: ${B}`].join(`
`),[s.avgPain,s.goodDays,s.volatility,$,P,B,O,A.length,L,S]),re=I.useCallback(async({action:te,actionType:U="export",outcome:H="success",details:G={}})=>{try{await al.logAuditEvent({actionType:U,userId:"local-user",userRole:"patient",resourceType:"PremiumAnalyticsExport",outcome:H,details:{action:te,timeRange:P,entryCount:e.length,...G}})}catch(se){console.error("HIPAA audit logging failed",se)}},[e.length,P]),le=I.useCallback(async te=>{if(e.length===0){i("Log at least one entry before exporting."),await re({action:"quick-export",outcome:"failure",details:{reason:"no-entries",format:te}});return}r(te),i(null);try{const U=await qs(()=>Promise.resolve().then(()=>h8),void 0),H=new Date().toISOString().split("T")[0],G=`premium-analytics-${_}-${H}.${te==="csv"?"csv":"json"}`;if(te==="csv"){const se=U.exportToCSV(e);U.downloadData(se,G,"text/csv;charset=utf-8")}else{const se=U.exportToJSON(e);U.downloadData(se,G,"application/json;charset=utf-8")}await re({action:"quick-export",details:{format:te,filename:G}})}catch(U){console.error("Quick export failed",U),i("Quick export failed. Try the advanced export workspace."),await re({action:"quick-export",outcome:"failure",details:{format:te,error:U instanceof Error?U.message:"unknown-error"}})}finally{r(null)}},[e,re,_]),ee=I.useCallback(async()=>{try{if(typeof navigator<"u"&&navigator?.clipboard?.writeText)await navigator.clipboard.writeText(Z);else if(typeof document<"u"){const te=document.createElement("textarea");te.value=Z,te.style.position="fixed",te.style.opacity="0",document.body.appendChild(te),te.focus(),te.select(),document.execCommand("copy"),document.body.removeChild(te)}else throw new Error("Clipboard API unavailable");o("copied"),u(""),await re({action:"copy-clinical-summary",details:{channel:"clipboard"}}),setTimeout(()=>o("idle"),3e3)}catch(te){console.error("Clipboard copy failed",te),o("error"),u(te instanceof Error?te.message:"Clipboard unavailable. Select the summary and copy manually."),await re({action:"copy-clinical-summary",outcome:"failure",details:{error:te instanceof Error?te.message:"unknown-error",channel:"clipboard"}})}},[re,Z]),pe=I.useCallback(()=>{f(!0),re({action:"open-advanced-export-workspace",actionType:"access",details:{isOffline:v}})},[v,re]),ue=I.useCallback(async()=>{if(v){m("Email composer unavailable offline. Try again once you reconnect."),await re({action:"compose-email-share",outcome:"failure",details:{reason:"offline"}});return}if(typeof window>"u"){m("Email composer unavailable in this environment."),await re({action:"compose-email-share",outcome:"failure",details:{reason:"no-window"}});return}m(null);const te=encodeURIComponent("Pain Tracker clinical snapshot"),U=encodeURIComponent(Z);window.open(`mailto:?subject=${te}&body=${U}`,"_blank"),await re({action:"compose-email-share",details:{channel:"email"}})},[v,re,Z]);return c.jsxDEV(c.Fragment,{children:[c.jsxDEV("div",{className:"space-y-6",children:[v&&c.jsxDEV("div",{className:"rounded-2xl border border-amber-200 bg-amber-50 dark:border-amber-500/40 dark:bg-amber-900/20 p-4 text-amber-900 dark:text-amber-100",role:"status","aria-live":"polite",children:[c.jsxDEV("p",{className:"text-sm font-semibold",children:"Offline mode detected"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2501,columnNumber:13},void 0),c.jsxDEV("p",{className:"text-sm opacity-90",children:"Quick downloads stay fully local. Email sharing is paused until you're back online, and the advanced export workspace will reopen with cached data only."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2502,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2496,columnNumber:11},void 0),c.jsxDEV("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[c.jsxDEV("div",{className:"bg-white dark:bg-gray-900 rounded-2xl shadow-xl border border-gray-100 dark:border-gray-800 p-6",children:[c.jsxDEV("div",{className:"flex items-start justify-between gap-4",children:[c.jsxDEV("div",{children:[c.jsxDEV("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-500 dark:text-gray-400",children:"Clinical-Grade Exports"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2512,columnNumber:17},void 0),c.jsxDEV("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Share securely with care teams"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2515,columnNumber:17},void 0),c.jsxDEV("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:"Generate WorkSafe BC-ready PDFs or quickly download data snapshots without leaving the browser."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2518,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2511,columnNumber:15},void 0),c.jsxDEV(In,{className:"w-8 h-8 text-blue-500"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2523,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2510,columnNumber:13},void 0),c.jsxDEV(It.Suspense,{fallback:c.jsxDEV("div",{className:"mt-4 p-4 rounded-xl bg-gray-50 dark:bg-gray-800 text-sm text-gray-500 dark:text-gray-400",children:"Preparing clinical export toolsâ€¦"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2528,columnNumber:17},void 0),children:c.jsxDEV(U6,{entries:e,className:"mt-6"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2533,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2526,columnNumber:13},void 0),c.jsxDEV("button",{onClick:pe,className:"mt-4 w-full inline-flex items-center justify-center gap-2 px-4 py-3 rounded-xl border border-dashed border-blue-300 text-blue-700 dark:text-blue-200 hover:bg-blue-50/60 dark:hover:bg-blue-900/20 transition-colors",children:[c.jsxDEV(Rx,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2540,columnNumber:15},void 0),"Open advanced export workspace"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2536,columnNumber:13},void 0),c.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 mt-6",children:[c.jsxDEV("button",{onClick:()=>le("csv"),disabled:t!==null,className:"flex items-center justify-center gap-2 px-4 py-3 rounded-xl bg-gradient-to-r from-blue-500 to-blue-600 text-white font-medium shadow-lg disabled:opacity-60",children:[c.jsxDEV(Ix,{className:"w-5 h-5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2550,columnNumber:17},void 0),t==="csv"?"Preparing CSVâ€¦":"Quick CSV"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2545,columnNumber:15},void 0),c.jsxDEV("button",{onClick:()=>le("json"),disabled:t!==null,className:"flex items-center justify-center gap-2 px-4 py-3 rounded-xl bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 text-gray-900 dark:text-white font-medium shadow",children:[c.jsxDEV(Mx,{className:"w-5 h-5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2558,columnNumber:17},void 0),t==="json"?"Preparing JSONâ€¦":"Quick JSON"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2553,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2544,columnNumber:13},void 0),n&&c.jsxDEV("p",{className:"mt-3 text-sm text-red-600 dark:text-red-400",role:"alert",children:n},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2564,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2509,columnNumber:11},void 0),c.jsxDEV("div",{className:"bg-white dark:bg-gray-900 rounded-2xl shadow-xl border border-gray-100 dark:border-gray-800 p-6",children:[c.jsxDEV("div",{className:"flex items-center justify-between",children:[c.jsxDEV("div",{children:[c.jsxDEV("p",{className:"text-xs uppercase tracking-[0.3em] text-gray-500 dark:text-gray-400",children:"Provider Snapshot"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2573,columnNumber:17},void 0),c.jsxDEV("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Copy or email a clinical summary"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2576,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2572,columnNumber:15},void 0),c.jsxDEV(Th,{className:"w-6 h-6 text-indigo-500"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2580,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2571,columnNumber:13},void 0),c.jsxDEV("textarea",{readOnly:!0,value:Z,className:"mt-4 w-full min-h-[220px] rounded-2xl border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 text-sm text-gray-800 dark:text-gray-100 p-4 font-mono"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2583,columnNumber:13},void 0),V&&c.jsxDEV("div",{className:"mt-4 space-y-3","aria-live":"polite",children:[c.jsxDEV(a6,{text:Z,isActive:V,delay:1200,onValidationGenerated:C},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2591,columnNumber:17},void 0),j.length>0&&c.jsxDEV("div",{className:"rounded-2xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 p-3",children:[c.jsxDEV("div",{className:"flex items-center justify-between gap-3",children:[c.jsxDEV("span",{className:"text-sm font-semibold text-gray-800 dark:text-gray-100",children:"Recent validation messages"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2600,columnNumber:23},void 0),c.jsxDEV("div",{className:"flex items-center gap-2",children:[c.jsxDEV("button",{type:"button",className:"text-xs text-blue-600 dark:text-blue-300 hover:underline",onClick:()=>y(te=>!te),children:g?"Hide history":"Show history"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2604,columnNumber:25},void 0),c.jsxDEV("button",{type:"button",className:"text-xs text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",onClick:E,children:"Clear"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2611,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2603,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2599,columnNumber:21},void 0),g&&c.jsxDEV("div",{className:"mt-2",children:c.jsxDEV(o6,{validations:j,onClear:E},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2622,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2621,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2598,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2590,columnNumber:15},void 0),c.jsxDEV("div",{className:"mt-4 flex flex-wrap gap-3",children:[c.jsxDEV("button",{onClick:ee,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-white ${a==="copied"?"bg-emerald-600":"bg-indigo-600 hover:bg-indigo-700"}`,children:[c.jsxDEV(X5,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2637,columnNumber:17},void 0),a==="copied"?"Copied summary":"Copy summary"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2631,columnNumber:15},void 0),c.jsxDEV("button",{onClick:ue,disabled:v,className:`flex items-center gap-2 px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 text-gray-800 dark:text-gray-100 hover:bg-gray-50 dark:bg-gray-900 dark:hover:bg-gray-800 ${v?"opacity-60 cursor-not-allowed":""}`,children:[c.jsxDEV(Vh,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2647,columnNumber:17},void 0),"Compose secure email"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2640,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2630,columnNumber:13},void 0),a==="error"&&c.jsxDEV("p",{className:"text-sm text-red-600 dark:text-red-400 mt-2",role:"alert",children:l||"Clipboard unavailable. Select the text above and copy manually instead."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2653,columnNumber:15},void 0),d&&c.jsxDEV("p",{className:"text-sm text-amber-700 dark:text-amber-300 mt-2",role:"alert",children:d},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2659,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2570,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2508,columnNumber:9},void 0),c.jsxDEV("div",{className:"bg-gradient-to-r from-slate-900 via-blue-900 to-indigo-900 text-white rounded-2xl p-6 shadow-2xl",children:c.jsxDEV("div",{className:"flex items-start gap-4",children:[c.jsxDEV("div",{className:"p-3 bg-white/20 rounded-xl",children:c.jsxDEV(ii,{className:"w-6 h-6"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2669,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2668,columnNumber:13},void 0),c.jsxDEV("div",{children:[c.jsxDEV("h3",{className:"text-xl font-bold",children:"Security-first export guarantees"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2672,columnNumber:15},void 0),c.jsxDEV("p",{className:"text-sm text-blue-100 mt-1",children:"Exports never leave your device unencrypted. You retain full control over every download and share event."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2673,columnNumber:15},void 0),c.jsxDEV("ul",{className:"mt-4 space-y-2 text-sm text-blue-100",children:[c.jsxDEV("li",{className:"flex items-start gap-2",children:[c.jsxDEV(ga,{className:"w-4 h-4 mt-0.5 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2679,columnNumber:19},void 0),c.jsxDEV("span",{children:"All exports are generated client-side with the same encryption posture as the rest of the app."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2680,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2678,columnNumber:17},void 0),c.jsxDEV("li",{className:"flex items-start gap-2",children:[c.jsxDEV(Dn,{className:"w-4 h-4 mt-0.5 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2686,columnNumber:19},void 0),c.jsxDEV("span",{children:"Audit trails are available through the HIPAA compliance service for every export action."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2687,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2685,columnNumber:17},void 0),c.jsxDEV("li",{className:"flex items-start gap-2",children:[c.jsxDEV(yo,{className:"w-4 h-4 mt-0.5 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2693,columnNumber:19},void 0),c.jsxDEV("span",{children:"Use trauma-informed sharing prompts to maintain agency during clinical conversations."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2694,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2692,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2677,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2671,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2667,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2666,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2494,columnNumber:7},void 0),p&&c.jsxDEV(It.Suspense,{fallback:c.jsxDEV("div",{className:"fixed inset-0 flex items-center justify-center bg-black/40 z-50",children:c.jsxDEV("div",{className:"bg-white dark:bg-gray-900 p-6 rounded-2xl shadow-2xl text-gray-700 dark:text-gray-200",children:"Loading export workspaceâ€¦"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2709,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2708,columnNumber:13},void 0),children:c.jsxDEV(V6,{isOpen:p,onClose:()=>f(!1),entries:e,title:"Clinical export workspace"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2715,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2706,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2493,columnNumber:5},void 0)},Fu=({title:s,value:e,subtitle:t,trend:r,icon:n,color:i})=>{const a={blue:"from-blue-500 to-blue-600 text-blue-600",purple:"from-purple-500 to-purple-600 text-purple-600",green:"from-green-500 to-green-600 text-green-600",red:"from-red-500 to-red-600 text-red-600",yellow:"from-yellow-500 to-yellow-600 text-yellow-600"};return c.jsxDEV("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6 hover:shadow-2xl transition-all",children:[c.jsxDEV("div",{className:"flex items-start justify-between mb-4",children:[c.jsxDEV("div",{className:`p-3 rounded-xl bg-gradient-to-br ${a[i].split(" ")[0]} ${a[i].split(" ")[1]}`,children:c.jsxDEV(n,{className:"w-6 h-6 text-white"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2759,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2756,columnNumber:9},void 0),r!==void 0&&c.jsxDEV("div",{className:`flex items-center gap-1 px-2 py-1 rounded-full text-xs font-bold ${r>0?"bg-red-100 text-red-700":r<0?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:[r>0?c.jsxDEV(zr,{className:"w-3 h-3"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2772,columnNumber:15},void 0):r<0?c.jsxDEV(hc,{className:"w-3 h-3"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2774,columnNumber:15},void 0):null,Math.abs(r).toFixed(1),"%"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2762,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2755,columnNumber:7},void 0),c.jsxDEV("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:s},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2780,columnNumber:7},void 0),c.jsxDEV("div",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-1",children:e},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2781,columnNumber:7},void 0),c.jsxDEV("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:t},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2782,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2754,columnNumber:5},void 0)};function z6({entries:s}){const[e,t]=I.useState(new Date),[r,n]=I.useState(null),i=I.useMemo(()=>{const g=e.getFullYear(),y=e.getMonth(),v=new Date(g,y,1),N=v.getDay(),D=new Date(v);D.setDate(D.getDate()-N);const j=[],C=new Date;C.setHours(0,0,0,0);for(let E=0;E<42;E++){const A=new Date(D);A.setDate(A.getDate()+E);const V=s.filter(_=>{const O=new Date(_.timestamp);return O.getFullYear()===A.getFullYear()&&O.getMonth()===A.getMonth()&&O.getDate()===A.getDate()}),P=V.length>0?V.reduce((_,O)=>_+O.baselineData.pain,0)/V.length:0;j.push({date:A,entries:V,avgPain:P,isCurrentMonth:A.getMonth()===y,isToday:A.getTime()===C.getTime()})}return j},[e,s]),a=I.useMemo(()=>{const g=i.filter(D=>D.isCurrentMonth&&D.entries.length>0).flatMap(D=>D.entries);if(g.length===0)return{avgPain:0,totalEntries:0,daysTracked:0,bestDay:null,worstDay:null};const y=g.reduce((D,j)=>D+j.baselineData.pain,0)/g.length,v=i.filter(D=>D.isCurrentMonth&&D.entries.length>0).length,N=[...i].filter(D=>D.isCurrentMonth&&D.entries.length>0).sort((D,j)=>D.avgPain-j.avgPain);return{avgPain:y,totalEntries:g.length,daysTracked:v,bestDay:N[0],worstDay:N[N.length-1]}},[i]),o=g=>g===0?"bg-gray-100 dark:bg-gray-800 text-gray-400":g<=3?"bg-green-100 dark:bg-green-950/30 text-green-700 dark:text-green-300 border-green-300 dark:border-green-700":g<=5?"bg-yellow-100 dark:bg-yellow-950/30 text-yellow-700 dark:text-yellow-300 border-yellow-300 dark:border-yellow-700":g<=7?"bg-orange-100 dark:bg-orange-950/30 text-orange-700 dark:text-orange-300 border-orange-300 dark:border-orange-700":"bg-red-100 dark:bg-red-950/30 text-red-700 dark:text-red-300 border-red-300 dark:border-red-700",l=g=>g===0?"opacity-20":g<=3?"opacity-40":g<=5?"opacity-60":g<=7?"opacity-80":"opacity-100",u=()=>{t(new Date(e.getFullYear(),e.getMonth()+1,1)),n(null)},d=()=>{t(new Date(e.getFullYear(),e.getMonth()-1,1)),n(null)},m=()=>{t(new Date),n(null)},p=e.toLocaleDateString("en-US",{month:"long",year:"numeric"}),f=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return c.jsxDEV("div",{className:"space-y-6",children:[c.jsxDEV("div",{className:"flex items-center justify-between",children:[c.jsxDEV("div",{children:[c.jsxDEV("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Calendar View"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:161,columnNumber:11},this),c.jsxDEV("p",{className:"text-gray-600 dark:text-gray-400",children:"Visual timeline of your pain tracking journey"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:162,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:160,columnNumber:9},this),c.jsxDEV(js,{variant:"outline",onClick:m,className:"rounded-xl",children:[c.jsxDEV(ci,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:167,columnNumber:11},this),"Today"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:166,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:159,columnNumber:7},this),c.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsxDEV("div",{className:"bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl p-6 text-white shadow-lg",children:[c.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:c.jsxDEV(dr,{className:"h-6 w-6 opacity-80"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:176,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:175,columnNumber:11},this),c.jsxDEV("div",{className:"text-3xl font-bold mb-1",children:a.avgPain.toFixed(1)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:178,columnNumber:11},this),c.jsxDEV("div",{className:"text-sm opacity-90",children:"Avg Pain This Month"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:179,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:174,columnNumber:9},this),c.jsxDEV("div",{className:"bg-gradient-to-br from-purple-500 to-pink-600 rounded-2xl p-6 text-white shadow-lg",children:[c.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:c.jsxDEV(ja,{className:"h-6 w-6 opacity-80"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:184,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:183,columnNumber:11},this),c.jsxDEV("div",{className:"text-3xl font-bold mb-1",children:a.daysTracked},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:186,columnNumber:11},this),c.jsxDEV("div",{className:"text-sm opacity-90",children:"Days Tracked"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:187,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:182,columnNumber:9},this),c.jsxDEV("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 rounded-2xl p-6 text-white shadow-lg",children:[c.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:c.jsxDEV(W5,{className:"h-6 w-6 opacity-80"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:192,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:191,columnNumber:11},this),c.jsxDEV("div",{className:"text-3xl font-bold mb-1",children:a.bestDay?a.bestDay.avgPain.toFixed(1):"-"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:194,columnNumber:11},this),c.jsxDEV("div",{className:"text-sm opacity-90",children:"Best Day"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:197,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:190,columnNumber:9},this),c.jsxDEV("div",{className:"bg-gradient-to-br from-orange-500 to-red-600 rounded-2xl p-6 text-white shadow-lg",children:[c.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:c.jsxDEV(ac,{className:"h-6 w-6 opacity-80"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:202,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:201,columnNumber:11},this),c.jsxDEV("div",{className:"text-3xl font-bold mb-1",children:a.worstDay?a.worstDay.avgPain.toFixed(1):"-"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:204,columnNumber:11},this),c.jsxDEV("div",{className:"text-sm opacity-90",children:"Challenging Day"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:207,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:200,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:173,columnNumber:7},this),c.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsxDEV("div",{className:"lg:col-span-2",children:c.jsxDEV("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 shadow-lg p-6",children:[c.jsxDEV("div",{className:"flex items-center justify-between mb-6",children:[c.jsxDEV("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:p},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:217,columnNumber:15},this),c.jsxDEV("div",{className:"flex items-center gap-2",children:[c.jsxDEV(js,{variant:"ghost",size:"sm",onClick:d,className:"rounded-xl",children:c.jsxDEV(_h,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:220,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:219,columnNumber:17},this),c.jsxDEV(js,{variant:"ghost",size:"sm",onClick:u,className:"rounded-xl",children:c.jsxDEV(Vx,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:223,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:222,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:218,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:216,columnNumber:13},this),c.jsxDEV("div",{className:"grid grid-cols-7 gap-2 mb-2",children:f.map(g=>c.jsxDEV("div",{className:"text-center text-xs font-semibold text-gray-500 dark:text-gray-400 py-2",children:g},g,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:231,columnNumber:17},this))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:229,columnNumber:13},this),c.jsxDEV("div",{className:"grid grid-cols-7 gap-2",children:i.map((g,y)=>c.jsxDEV("button",{onClick:()=>n(g.entries.length>0?g:null),disabled:g.entries.length===0,className:We("relative aspect-square rounded-xl p-2 transition-all duration-200","flex flex-col items-center justify-center",g.entries.length>0&&"cursor-pointer hover:scale-105 border-2",g.entries.length===0&&"cursor-default",!g.isCurrentMonth&&"opacity-30",g.isToday&&"ring-2 ring-blue-500 ring-offset-2 dark:ring-offset-gray-900",g.entries.length>0?o(g.avgPain):"bg-gray-50 dark:bg-gray-800/50 text-gray-400",r?.date.getTime()===g.date.getTime()&&"ring-2 ring-offset-2 dark:ring-offset-gray-900"),children:[c.jsxDEV("span",{className:We("text-sm font-medium mb-1",g.isToday&&"font-bold"),children:g.date.getDate()},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:261,columnNumber:19},this),g.entries.length>0&&c.jsxDEV(c.Fragment,{children:[c.jsxDEV("div",{className:We("w-1.5 h-1.5 rounded-full",o(g.avgPain).split(" ")[0].replace("bg-","bg-"),l(g.avgPain))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:267,columnNumber:23},this),g.entries.length>1&&c.jsxDEV("span",{className:"text-xs opacity-60 mt-0.5",children:g.entries.length},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:275,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:266,columnNumber:21},this)]},y,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:243,columnNumber:17},this))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:241,columnNumber:13},this),c.jsxDEV("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:c.jsxDEV("div",{className:"flex items-center justify-between text-xs",children:[c.jsxDEV("span",{className:"text-gray-600 dark:text-gray-400 font-medium",children:"Pain Level:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:286,columnNumber:17},this),c.jsxDEV("div",{className:"flex items-center gap-2",children:[c.jsxDEV("div",{className:"flex items-center gap-1",children:[c.jsxDEV("div",{className:"w-3 h-3 rounded bg-green-500"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:289,columnNumber:21},this),c.jsxDEV("span",{className:"text-gray-600 dark:text-gray-400",children:"Low"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:290,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:288,columnNumber:19},this),c.jsxDEV("div",{className:"flex items-center gap-1",children:[c.jsxDEV("div",{className:"w-3 h-3 rounded bg-yellow-500"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:293,columnNumber:21},this),c.jsxDEV("span",{className:"text-gray-600 dark:text-gray-400",children:"Mild"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:294,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:292,columnNumber:19},this),c.jsxDEV("div",{className:"flex items-center gap-1",children:[c.jsxDEV("div",{className:"w-3 h-3 rounded bg-orange-500"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:297,columnNumber:21},this),c.jsxDEV("span",{className:"text-gray-600 dark:text-gray-400",children:"Moderate"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:298,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:296,columnNumber:19},this),c.jsxDEV("div",{className:"flex items-center gap-1",children:[c.jsxDEV("div",{className:"w-3 h-3 rounded bg-red-500"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:301,columnNumber:21},this),c.jsxDEV("span",{className:"text-gray-600 dark:text-gray-400",children:"Severe"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:302,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:300,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:287,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:285,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:284,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:214,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:213,columnNumber:9},this),c.jsxDEV("div",{className:"lg:col-span-1",children:r?c.jsxDEV("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 shadow-lg p-6 sticky top-24",children:[c.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[c.jsxDEV("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:r.date.toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"})},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:315,columnNumber:17},this),c.jsxDEV(no,{variant:"outline",className:"rounded-full",children:[r.entries.length," ",r.entries.length===1?"entry":"entries"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:322,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:314,columnNumber:15},this),c.jsxDEV("div",{className:We("rounded-xl p-4 mb-4",o(r.avgPain)),children:c.jsxDEV("div",{className:"flex items-center justify-between",children:[c.jsxDEV("span",{className:"text-sm font-medium opacity-80",children:"Average Pain"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:331,columnNumber:19},this),c.jsxDEV("div",{className:"text-2xl font-bold",children:[r.avgPain.toFixed(1),"/10"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:332,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:330,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:329,columnNumber:15},this),c.jsxDEV("div",{className:"space-y-3",children:r.entries.map(g=>c.jsxDEV("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-xl p-4 space-y-2",children:[c.jsxDEV("div",{className:"flex items-center justify-between",children:[c.jsxDEV("div",{className:"flex items-center gap-2",children:[c.jsxDEV(ri,{className:"h-4 w-4 text-gray-500 dark:text-gray-400"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:345,columnNumber:25},this),c.jsxDEV("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:new Date(g.timestamp).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:346,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:344,columnNumber:23},this),c.jsxDEV(no,{className:We("rounded-full",o(g.baselineData.pain)),children:[g.baselineData.pain,"/10"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:353,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:343,columnNumber:21},this),g.baselineData.locations&&g.baselineData.locations.length>0&&c.jsxDEV("div",{className:"flex items-start gap-2",children:[c.jsxDEV(Lh,{className:"h-4 w-4 text-gray-400 dark:text-gray-500 mt-0.5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:360,columnNumber:25},this),c.jsxDEV("div",{className:"flex flex-wrap gap-1",children:g.baselineData.locations.map((y,v)=>c.jsxDEV(no,{variant:"outline",className:"text-xs rounded-full",children:y},v,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:363,columnNumber:29},this))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:361,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:359,columnNumber:23},this),g.medications?.current&&g.medications.current.length>0&&c.jsxDEV("div",{className:"flex items-start gap-2",children:[c.jsxDEV(bo,{className:"h-4 w-4 text-gray-400 dark:text-gray-500 mt-0.5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:373,columnNumber:25},this),c.jsxDEV("div",{className:"flex flex-wrap gap-1",children:g.medications.current.map((y,v)=>c.jsxDEV(no,{variant:"outline",className:"text-xs rounded-full",children:y.name},v,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:376,columnNumber:29},this))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:374,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:372,columnNumber:23},this),g.notes&&c.jsxDEV("p",{className:"text-sm text-gray-600 dark:text-gray-400 italic",children:['"',g.notes,'"']},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:385,columnNumber:23},this)]},g.id,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:339,columnNumber:19},this))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:337,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:313,columnNumber:13},this):c.jsxDEV("div",{className:"bg-gradient-to-br from-gray-50 to-blue-50 dark:from-gray-900 dark:to-blue-950/20 rounded-2xl border-2 border-dashed border-gray-300 dark:border-gray-700 p-8 text-center",children:[c.jsxDEV(Ui,{className:"h-12 w-12 mx-auto mb-4 text-gray-400 dark:text-gray-500"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:395,columnNumber:15},this),c.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Select a Day"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:396,columnNumber:15},this),c.jsxDEV("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Click on any day with entries to view details"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:399,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:394,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:311,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:211,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:157,columnNumber:5},this)}const Ho=[{id:"head",name:"Head",frontPath:"M150 35 C165 35, 175 45, 175 60 C175 70, 172 78, 165 85 C162 88, 158 90, 153 92 L147 92 C142 90, 138 88, 135 85 C128 78, 125 70, 125 60 C125 45, 135 35, 150 35 Z",backPath:"M150 35 C165 35, 175 45, 175 60 C175 70, 172 78, 165 85 C162 88, 158 90, 153 92 L147 92 C142 90, 138 88, 135 85 C128 78, 125 70, 125 60 C125 45, 135 35, 150 35 Z",center:{x:150,y:63},category:"upper"},{id:"neck",name:"Neck",frontPath:"M142 92 L158 92 L160 110 L140 110 Z",backPath:"M142 92 L158 92 L160 110 L140 110 Z",center:{x:150,y:101},category:"upper"},{id:"left-shoulder",name:"Left Shoulder",frontPath:"M85 115 C95 105, 115 105, 125 110 L130 125 C125 135, 110 140, 95 135 L85 120 Z",center:{x:107,y:120},category:"upper"},{id:"right-shoulder",name:"Right Shoulder",frontPath:"M175 110 C185 105, 205 105, 215 115 L215 120 L205 135 C190 140, 175 135, 170 125 Z",center:{x:193,y:120},category:"upper"},{id:"left-upper-arm",name:"Left Upper Arm",frontPath:"M85 135 L105 140 L107 200 L87 205 Z",center:{x:96,y:170},category:"extremities"},{id:"right-upper-arm",name:"Right Upper Arm",frontPath:"M195 140 L215 135 L213 205 L193 200 Z",center:{x:204,y:170},category:"extremities"},{id:"left-elbow",name:"Left Elbow",frontPath:"M87 205 L107 200 L108 220 L88 225 Z",center:{x:97,y:212},category:"extremities"},{id:"right-elbow",name:"Right Elbow",frontPath:"M193 200 L213 205 L212 225 L192 220 Z",center:{x:203,y:212},category:"extremities"},{id:"left-forearm",name:"Left Forearm",frontPath:"M88 225 L108 220 L110 285 L90 290 Z",center:{x:99,y:255},category:"extremities"},{id:"right-forearm",name:"Right Forearm",frontPath:"M192 220 L212 225 L210 290 L190 285 Z",center:{x:201,y:255},category:"extremities"},{id:"left-hand",name:"Left Hand",frontPath:"M90 290 L110 285 L112 308 L92 312 Z",center:{x:101,y:298},category:"extremities"},{id:"right-hand",name:"Right Hand",frontPath:"M190 285 L210 290 L208 312 L188 308 Z",center:{x:199,y:298},category:"extremities"},{id:"chest",name:"Chest",frontPath:"M130 110 L170 110 L180 145 L178 180 L122 180 L120 145 Z",center:{x:150,y:145},category:"core"},{id:"upper-back",name:"Upper Back",backPath:"M130 110 L170 110 L178 145 L180 180 L120 180 L122 145 Z",center:{x:150,y:145},category:"core"},{id:"abdomen",name:"Abdomen",frontPath:"M122 180 L178 180 L175 235 L125 235 Z",center:{x:150,y:207},category:"core"},{id:"lower-back",name:"Lower Back",backPath:"M120 180 L180 180 L178 235 L122 235 Z",center:{x:150,y:207},category:"core"},{id:"left-hip",name:"Left Hip",frontPath:"M125 235 L145 235 L148 275 L128 275 Z",backPath:"M125 235 L145 235 L148 275 L128 275 Z",center:{x:136,y:255},category:"core"},{id:"right-hip",name:"Right Hip",frontPath:"M155 235 L175 235 L172 275 L152 275 Z",backPath:"M155 235 L175 235 L172 275 L152 275 Z",center:{x:164,y:255},category:"core"},{id:"left-thigh",name:"Left Thigh",frontPath:"M128 275 L148 275 L147 365 L127 365 Z",backPath:"M128 275 L148 275 L147 365 L127 365 Z",center:{x:137,y:320},category:"lower"},{id:"right-thigh",name:"Right Thigh",frontPath:"M152 275 L172 275 L173 365 L153 365 Z",backPath:"M152 275 L172 275 L173 365 L153 365 Z",center:{x:163,y:320},category:"lower"},{id:"left-knee",name:"Left Knee",frontPath:"M127 365 L147 365 L147 385 L127 385 Z",backPath:"M127 365 L147 365 L147 385 L127 385 Z",center:{x:137,y:375},category:"lower"},{id:"right-knee",name:"Right Knee",frontPath:"M153 365 L173 365 L173 385 L153 385 Z",backPath:"M153 365 L173 365 L173 385 L153 385 Z",center:{x:163,y:375},category:"lower"},{id:"left-calf",name:"Left Calf",frontPath:"M127 385 L147 385 L145 465 L125 465 Z",backPath:"M127 385 L147 385 L145 465 L125 465 Z",center:{x:136,y:425},category:"lower"},{id:"right-calf",name:"Right Calf",frontPath:"M153 385 L173 385 L175 465 L155 465 Z",backPath:"M153 385 L173 385 L175 465 L155 465 Z",center:{x:164,y:425},category:"lower"},{id:"left-ankle",name:"Left Ankle",frontPath:"M125 465 L145 465 L144 478 L124 478 Z",backPath:"M125 465 L145 465 L144 478 L124 478 Z",center:{x:134,y:471},category:"lower"},{id:"right-ankle",name:"Right Ankle",frontPath:"M155 465 L175 465 L176 478 L156 478 Z",backPath:"M155 465 L175 465 L176 478 L156 478 Z",center:{x:166,y:471},category:"lower"},{id:"left-foot",name:"Left Foot",frontPath:"M118 478 L150 478 L152 495 L116 495 Z",backPath:"M118 478 L150 478 L152 495 L116 495 Z",center:{x:134,y:486},category:"lower"},{id:"right-foot",name:"Right Foot",frontPath:"M150 478 L182 478 L184 495 L148 495 Z",backPath:"M150 478 L182 478 L184 495 L148 495 Z",center:{x:166,y:486},category:"lower"}];function hv({entries:s=[],selectedRegions:e=[],onRegionSelect:t,mode:r="selection",className:n="",height:i=600}){const[a,o]=I.useState(null),[l,u]=I.useState(!0),[d,m]=I.useState(1),[p,f]=I.useState(!1),g=I.useRef(null),y=I.useRef(null),v=I.useRef(new Map);I.useEffect(()=>{if(r==="heatmap"&&s.length>0){const L=new Map;s.forEach(B=>{B.baselineData?.locations&&B.baselineData.locations.forEach($=>{const Z=$6($);if(Z&&Ho.find(re=>re.id===Z)){L.has(Z)||L.set(Z,{total:0,max:0,count:0});const re=L.get(Z);re.total+=B.baselineData.pain,re.max=Math.max(re.max,B.baselineData.pain),re.count+=1}})}),v.current.clear(),L.forEach((B,$)=>{v.current.set($,{avg:B.total/B.count,max:B.max,count:B.count})})}},[s,r]);const N=L=>{if(r==="selection"&&t){const B=e.includes(L)?e.filter($=>$!==L):[...e,L];t(B)}},D=L=>{if(r==="selection")return e.includes(L)?"#ef4444":a===L?"#60a5fa":"#e5e7eb";if(r==="heatmap"){const B=v.current.get(L);if(!B||B.avg===0)return"#f3f4f6";const $=B.avg/10;return $<.25?"#86efac":$<.4?"#4ade80":$<.6?"#fbbf24":$<.75?"#fb923c":"#ef4444"}return"#e5e7eb"},j=L=>{if(r==="heatmap"){const B=v.current.get(L);if(!B)return .2;const $=Math.min(B.count/10,1),Z=B.avg/10;return .3+$*.3+Z*.4}return a===L?.9:.7},C=L=>v.current.get(L)||{avg:0,max:0,count:0},E=()=>{!document.fullscreenElement&&y.current?(y.current.requestFullscreen(),f(!0)):document.fullscreenElement&&(document.exitFullscreen(),f(!1))},A=()=>m(L=>Math.min(L+.2,3)),V=()=>m(L=>Math.max(L-.2,.5)),P=()=>{if(!g.current)return;const L=new XMLSerializer().serializeToString(g.current),B=document.createElement("canvas"),$=B.getContext("2d"),Z=new Image;Z.onload=()=>{B.width=300*2,B.height=520*2,$?.drawImage(Z,0,0,B.width,B.height);const re=B.toDataURL("image/png"),le=document.createElement("a");le.download=`pain-map-${new Date().toISOString().split("T")[0]}.png`,le.href=re,le.click()},Z.src="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(L)))},_=Ho.filter(L=>l?L.frontPath!==void 0:L.backPath!==void 0),O=e.length,S=r==="heatmap"?v.current.size:0;return c.jsxDEV("div",{ref:y,className:`interactive-body-map ${n} ${p?"fixed inset-0 z-50 bg-white":""}`,children:[c.jsxDEV("div",{className:"flex justify-between items-center mb-4 bg-gradient-to-r from-blue-50 to-indigo-50 p-4 rounded-lg border border-blue-200",children:[c.jsxDEV("div",{className:"flex items-center space-x-3",children:[c.jsxDEV("div",{className:"p-2 bg-blue-100 rounded-lg",children:c.jsxDEV(pc,{className:"h-6 w-6 text-blue-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:405,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:404,columnNumber:11},this),c.jsxDEV("div",{children:[c.jsxDEV("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:r==="selection"?"Select Pain Locations":"Pain Heat Map"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:408,columnNumber:13},this),c.jsxDEV("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:r==="selection"?`${O} region${O!==1?"s":""} selected`:`${S} region${S!==1?"s":""} with recorded pain`},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:411,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:407,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:403,columnNumber:9},this),c.jsxDEV("div",{className:"flex items-center space-x-2",children:[c.jsxDEV("div",{className:"flex items-center space-x-1 bg-white rounded-md border border-gray-300 dark:border-gray-600 px-2 py-1",children:[c.jsxDEV("button",{onClick:V,className:"p-1 hover:bg-gray-100 dark:bg-gray-800 rounded transition-colors",title:"Zoom Out",children:c.jsxDEV(Cw,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:427,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:422,columnNumber:13},this),c.jsxDEV("span",{className:"text-xs text-gray-600 dark:text-gray-400 px-2 min-w-[3rem] text-center",children:[Math.round(d*100),"%"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:429,columnNumber:13},this),c.jsxDEV("button",{onClick:A,className:"p-1 hover:bg-gray-100 dark:bg-gray-800 rounded transition-colors",title:"Zoom In",children:c.jsxDEV(Pw,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:437,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:432,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:421,columnNumber:11},this),c.jsxDEV("button",{onClick:()=>u(!l),className:"flex items-center space-x-2 px-4 py-2 bg-white border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:bg-gray-900 transition-colors",children:[c.jsxDEV(Ox,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:446,columnNumber:13},this),c.jsxDEV("span",{className:"text-sm font-medium",children:l?"Front":"Back"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:447,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:442,columnNumber:11},this),c.jsxDEV("button",{onClick:P,className:"p-2 bg-white border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:bg-gray-900 transition-colors",title:"Export as PNG",children:c.jsxDEV(Dn,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:456,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:451,columnNumber:11},this),c.jsxDEV("button",{onClick:E,className:"p-2 bg-white border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:bg-gray-900 transition-colors",title:"Toggle Fullscreen",children:c.jsxDEV(LD,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:465,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:460,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:419,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:402,columnNumber:7},this),c.jsxDEV("div",{className:"relative bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl border-2 border-gray-200 dark:border-gray-700 p-6 shadow-lg overflow-hidden",children:[c.jsxDEV("div",{className:"absolute inset-0 opacity-5",children:c.jsxDEV("svg",{width:"100%",height:"100%",children:[c.jsxDEV("pattern",{id:"grid",width:"20",height:"20",patternUnits:"userSpaceOnUse",children:c.jsxDEV("path",{d:"M 20 0 L 0 0 0 20",fill:"none",stroke:"gray",strokeWidth:"0.5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:476,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:475,columnNumber:13},this),c.jsxDEV("rect",{width:"100%",height:"100%",fill:"url(#grid)"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:478,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:474,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:473,columnNumber:9},this),c.jsxDEV("svg",{ref:g,viewBox:"0 0 300 520",className:"w-full mx-auto transition-transform duration-300",style:{maxHeight:`${i}px`,maxWidth:"400px",transform:`scale(${d})`,transformOrigin:"center"},children:[c.jsxDEV("rect",{x:"0",y:"0",width:"300",height:"520",fill:"#ffffff",rx:"15"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:494,columnNumber:11},this),c.jsxDEV("ellipse",{cx:"150",cy:"510",rx:"40",ry:"8",fill:"#000000",opacity:"0.1"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:497,columnNumber:11},this),_.map(L=>{const B=l?L.frontPath:L.backPath;if(!B)return null;const $=C(L.id),Z=r==="selection"?e.includes(L.id):$.avg>0;return c.jsxDEV("g",{children:[Z&&c.jsxDEV("path",{d:B,fill:"none",stroke:r==="selection"?"#ef4444":"#fbbf24",strokeWidth:"3",opacity:"0.4",className:"animate-pulse",filter:"blur(4px)"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:512,columnNumber:19},this),c.jsxDEV("path",{d:B,fill:D(L.id),stroke:a===L.id?"#1f2937":"#6b7280",strokeWidth:a===L.id?"2":"1",opacity:j(L.id),className:"cursor-pointer transition-all duration-200 hover:brightness-110",onClick:()=>N(L.id),onMouseEnter:()=>o(L.id),onMouseLeave:()=>o(null)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:524,columnNumber:17},this),r==="heatmap"&&$.avg>0&&c.jsxDEV("text",{x:L.center.x,y:L.center.y,textAnchor:"middle",dominantBaseline:"central",className:"text-xs font-bold pointer-events-none select-none",fill:"#ffffff",stroke:"#000000",strokeWidth:"0.5",children:pa($.avg,1)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:538,columnNumber:19},this)]},L.id,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:509,columnNumber:15},this)}),c.jsxDEV("text",{x:"150",y:"20",textAnchor:"middle",className:"text-sm font-semibold",fill:"#4b5563",children:l?"FRONT VIEW":"BACK VIEW"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:556,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:482,columnNumber:9},this),a&&c.jsxDEV("div",{className:"absolute top-8 right-8 bg-gray-900 dark:bg-gray-100 text-white px-4 py-3 rounded-lg shadow-xl pointer-events-none z-10 min-w-[200px]",children:[c.jsxDEV("div",{className:"font-semibold text-base mb-1",children:Ho.find(L=>L.id===a)?.name},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:564,columnNumber:13},this),r==="heatmap"&&(()=>{const L=C(a);return L.avg>0?c.jsxDEV("div",{className:"text-sm space-y-1",children:[c.jsxDEV("div",{className:"flex justify-between",children:[c.jsxDEV("span",{className:"text-gray-300 dark:text-gray-600",children:"Avg Pain:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:573,columnNumber:23},this),c.jsxDEV("span",{className:"font-medium",children:[pa(L.avg,1),"/10"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:574,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:572,columnNumber:21},this),c.jsxDEV("div",{className:"flex justify-between",children:[c.jsxDEV("span",{className:"text-gray-300 dark:text-gray-600",children:"Max Pain:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:577,columnNumber:23},this),c.jsxDEV("span",{className:"font-medium",children:[L.max,"/10"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:578,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:576,columnNumber:21},this),c.jsxDEV("div",{className:"flex justify-between",children:[c.jsxDEV("span",{className:"text-gray-300 dark:text-gray-600",children:"Entries:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:581,columnNumber:23},this),c.jsxDEV("span",{className:"font-medium",children:L.count},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:582,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:580,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:571,columnNumber:19},this):c.jsxDEV("div",{className:"text-sm text-gray-400 dark:text-gray-500",children:"No pain recorded"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:586,columnNumber:19},this)})(),r==="selection"&&c.jsxDEV("div",{className:"text-sm text-gray-300 dark:text-gray-600",children:["Click to ",e.includes(a)?"deselect":"select"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:590,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:563,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:471,columnNumber:7},this),c.jsxDEV("div",{className:"mt-6 space-y-4",children:[r==="heatmap"&&c.jsxDEV("div",{className:"bg-gradient-to-r from-green-50 via-yellow-50 to-red-50 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[c.jsxDEV("div",{className:"flex items-center justify-between mb-3",children:[c.jsxDEV("span",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Pain Intensity Scale"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:604,columnNumber:15},this),c.jsxDEV(Ui,{className:"h-4 w-4 text-gray-500 dark:text-gray-400"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:607,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:603,columnNumber:13},this),c.jsxDEV("div",{className:"flex items-center space-x-4",children:c.jsxDEV("div",{className:"flex-1",children:[c.jsxDEV("div",{className:"h-8 rounded-lg bg-gradient-to-r from-green-400 via-yellow-400 to-red-500 shadow-inner"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:611,columnNumber:17},this),c.jsxDEV("div",{className:"flex justify-between text-xs text-gray-600 dark:text-gray-400 mt-1",children:[c.jsxDEV("span",{children:"0"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:613,columnNumber:19},this),c.jsxDEV("span",{children:"2.5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:614,columnNumber:19},this),c.jsxDEV("span",{children:"5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:615,columnNumber:19},this),c.jsxDEV("span",{children:"7.5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:616,columnNumber:19},this),c.jsxDEV("span",{children:"10"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:617,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:612,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:610,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:609,columnNumber:13},this),c.jsxDEV("div",{className:"grid grid-cols-3 gap-3 mt-4 text-xs",children:[c.jsxDEV("div",{className:"flex items-center space-x-2",children:[c.jsxDEV("div",{className:"w-3 h-3 rounded-full bg-green-400"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:623,columnNumber:17},this),c.jsxDEV("span",{className:"text-gray-600 dark:text-gray-400",children:"Mild (0-4)"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:624,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:622,columnNumber:15},this),c.jsxDEV("div",{className:"flex items-center space-x-2",children:[c.jsxDEV("div",{className:"w-3 h-3 rounded-full bg-yellow-400"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:627,columnNumber:17},this),c.jsxDEV("span",{className:"text-gray-600 dark:text-gray-400",children:"Moderate (4-7)"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:628,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:626,columnNumber:15},this),c.jsxDEV("div",{className:"flex items-center space-x-2",children:[c.jsxDEV("div",{className:"w-3 h-3 rounded-full bg-red-500"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:631,columnNumber:17},this),c.jsxDEV("span",{className:"text-gray-600 dark:text-gray-400",children:"Severe (7-10)"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:632,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:630,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:621,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:602,columnNumber:11},this),r==="selection"&&e.length>0&&c.jsxDEV("div",{className:"bg-blue-50 rounded-lg p-4 border-2 border-blue-200",children:[c.jsxDEV("div",{className:"text-sm font-semibold text-blue-900 mb-3",children:["Selected Locations (",e.length,")"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:641,columnNumber:13},this),c.jsxDEV("div",{className:"flex flex-wrap gap-2",children:e.map(L=>{const B=Ho.find(re=>re.id===L),$=B?.category,Z={upper:"bg-purple-100 text-purple-800 border-purple-300",core:"bg-blue-100 text-blue-800 border-blue-300",lower:"bg-green-100 text-green-800 border-green-300",extremities:"bg-orange-100 text-orange-800 border-orange-300"};return c.jsxDEV("span",{className:`inline-flex items-center px-3 py-1.5 rounded-full text-sm font-medium border ${Z[$||"core"]}`,children:[B?.name,c.jsxDEV("button",{onClick:()=>N(L),className:"ml-2 hover:scale-125 transition-transform",title:"Remove",children:"Ã—"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:661,columnNumber:21},this)]},L,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:656,columnNumber:19},this)})},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:644,columnNumber:13},this),c.jsxDEV("button",{onClick:()=>t?.([]),className:"mt-3 text-sm text-blue-600 hover:text-blue-800 font-medium",children:"Clear All"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:672,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:640,columnNumber:11},this),r==="heatmap"&&S>0&&c.jsxDEV("div",{className:"grid grid-cols-3 gap-4",children:[c.jsxDEV("div",{className:"bg-white rounded-lg p-4 border border-gray-200 dark:border-gray-700 shadow-sm",children:[c.jsxDEV("div",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-1",children:"Affected Regions"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:685,columnNumber:15},this),c.jsxDEV("div",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:S},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:688,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:684,columnNumber:13},this),c.jsxDEV("div",{className:"bg-white rounded-lg p-4 border border-gray-200 dark:border-gray-700 shadow-sm",children:[c.jsxDEV("div",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-1",children:"Highest Pain"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:693,columnNumber:15},this),c.jsxDEV("div",{className:"text-2xl font-bold text-red-600",children:[Math.max(...Array.from(v.current.values()).map(L=>L.max),0),"/10"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:696,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:692,columnNumber:13},this),c.jsxDEV("div",{className:"bg-white rounded-lg p-4 border border-gray-200 dark:border-gray-700 shadow-sm",children:[c.jsxDEV("div",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-1",children:"Avg Pain"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:701,columnNumber:15},this),c.jsxDEV("div",{className:"text-2xl font-bold text-orange-600",children:[pa(Array.from(v.current.values()).reduce((L,B)=>L+B.avg,0)/(S||1),1),"/10"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:704,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:700,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:683,columnNumber:11},this),c.jsxDEV("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[c.jsxDEV("div",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Body Region Categories"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:718,columnNumber:11},this),c.jsxDEV("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[{name:"Upper Body",category:"upper",color:"purple",icon:"ðŸ§ "},{name:"Core/Torso",category:"core",color:"blue",icon:"ðŸ«€"},{name:"Lower Body",category:"lower",color:"green",icon:"ðŸ¦µ"},{name:"Arms/Hands",category:"extremities",color:"orange",icon:"ðŸ’ª"}].map(({name:L,category:B,color:$,icon:Z})=>{const re=r==="selection"?e.filter(le=>Ho.find(ee=>ee.id===le)?.category===B).length:Array.from(v.current.entries()).filter(([le])=>Ho.find(ee=>ee.id===le)?.category===B).length;return c.jsxDEV("div",{className:`bg-${$}-50 border border-${$}-200 rounded-md p-2 text-center`,children:[c.jsxDEV("div",{className:"text-2xl mb-1",children:Z},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:742,columnNumber:19},this),c.jsxDEV("div",{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:L},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:743,columnNumber:19},this),c.jsxDEV("div",{className:`text-sm font-bold text-${$}-700 mt-1`,children:re},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:744,columnNumber:19},this)]},B,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:738,columnNumber:17},this)})},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:721,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:717,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:599,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:397,columnNumber:5},this)}function $6(s){const e=s.toLowerCase();return{head:"head",neck:"neck",shoulder:"left-shoulder","left shoulder":"left-shoulder","right shoulder":"right-shoulder",arm:"left-upper-arm","left arm":"left-upper-arm","right arm":"right-upper-arm",elbow:"left-elbow","left elbow":"left-elbow","right elbow":"right-elbow",forearm:"left-forearm","left forearm":"left-forearm","right forearm":"right-forearm",hand:"left-hand","left hand":"left-hand","right hand":"right-hand",chest:"chest",back:"upper-back","upper back":"upper-back","lower back":"lower-back",abdomen:"abdomen",stomach:"abdomen",hip:"left-hip","left hip":"left-hip","right hip":"right-hip",thigh:"left-thigh","left thigh":"left-thigh","right thigh":"right-thigh",knee:"left-knee","left knee":"left-knee","right knee":"right-knee",leg:"left-calf",calf:"left-calf","left calf":"left-calf","right calf":"right-calf",ankle:"left-ankle","left ankle":"left-ankle","right ankle":"right-ankle",foot:"left-foot","left foot":"left-foot","right foot":"right-foot"}[e]||null}function W6(){const{entries:s,addEntry:e}=fc(),[t,r]=I.useState([]),[n,i]=I.useState(5),[a,o]=I.useState(""),[l,u]=I.useState(!1),d=s.slice(0,5).flatMap(p=>p.baselineData?.locations||[]).filter((p,f,g)=>g.indexOf(p)===f).slice(0,3),m=async()=>{if(t.length!==0){u(!0);try{await e({baselineData:{pain:n,locations:t,symptoms:[]},notes:a||void 0}),r([]),i(5),o("")}finally{u(!1)}}};return c.jsxDEV("div",{className:"max-w-6xl mx-auto p-4 space-y-6",children:[c.jsxDEV("div",{className:"text-center space-y-2",children:[c.jsxDEV("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Body Map"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/BodyMapPage.tsx",lineNumber:48,columnNumber:9},this),c.jsxDEV("p",{className:"text-gray-600 dark:text-gray-400",children:"Click on the body diagram to select pain locations"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/BodyMapPage.tsx",lineNumber:49,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/BodyMapPage.tsx",lineNumber:47,columnNumber:7},this),d.length>0&&c.jsxDEV("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[c.jsxDEV("h3",{className:"text-sm font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"Recent Locations"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/BodyMapPage.tsx",lineNumber:57,columnNumber:11},this),c.jsxDEV("div",{className:"flex flex-wrap gap-2",children:d.map((p,f)=>c.jsxDEV("button",{onClick:()=>{t.includes(p)||r([...t,p])},className:"px-3 py-1.5 bg-white dark:bg-gray-800 border border-blue-300 dark:border-blue-700 rounded-md text-sm text-blue-900 dark:text-blue-100 hover:bg-blue-100 dark:hover:bg-blue-900/40 transition-colors",children:p},f,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/BodyMapPage.tsx",lineNumber:62,columnNumber:15},this))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/BodyMapPage.tsx",lineNumber:60,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/BodyMapPage.tsx",lineNumber:56,columnNumber:9},this),c.jsxDEV("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm p-6",children:c.jsxDEV(hv,{selectedRegions:t,onRegionSelect:r,mode:"selection"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/BodyMapPage.tsx",lineNumber:80,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/BodyMapPage.tsx",lineNumber:79,columnNumber:7},this),t.length>0&&c.jsxDEV("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-lg border border-gray-200 dark:border-gray-700 p-4",children:[c.jsxDEV("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-3",children:["Selected Areas (",t.length,")"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/BodyMapPage.tsx",lineNumber:90,columnNumber:11},this),c.jsxDEV("div",{className:"flex flex-wrap gap-2",children:t.map(p=>c.jsxDEV("span",{className:"inline-flex items-center gap-2 px-3 py-1.5 bg-blue-100 dark:bg-blue-900/40 text-blue-900 dark:text-blue-100 rounded-md text-sm",children:[p,c.jsxDEV("button",{onClick:()=>r(t.filter(f=>f!==p)),className:"hover:text-blue-700 dark:hover:text-blue-300","aria-label":`Remove ${p}`,children:"Ã—"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/BodyMapPage.tsx",lineNumber:100,columnNumber:17},this)]},p,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/BodyMapPage.tsx",lineNumber:95,columnNumber:15},this))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/BodyMapPage.tsx",lineNumber:93,columnNumber:11},this),c.jsxDEV("div",{className:"mt-4 space-y-2",children:[c.jsxDEV("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["Pain Level: ",n,"/10"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/BodyMapPage.tsx",lineNumber:113,columnNumber:13},this),c.jsxDEV("input",{type:"range",min:"0",max:"10",value:n,onChange:p=>i(Number(p.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/BodyMapPage.tsx",lineNumber:116,columnNumber:13},this),c.jsxDEV("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400",children:[c.jsxDEV("span",{children:"No Pain"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/BodyMapPage.tsx",lineNumber:125,columnNumber:15},this),c.jsxDEV("span",{children:"Worst Pain"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/BodyMapPage.tsx",lineNumber:126,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/BodyMapPage.tsx",lineNumber:124,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/BodyMapPage.tsx",lineNumber:112,columnNumber:11},this),c.jsxDEV("div",{className:"mt-4 space-y-2",children:[c.jsxDEV("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Notes (Optional)"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/BodyMapPage.tsx",lineNumber:132,columnNumber:13},this),c.jsxDEV("textarea",{value:a,onChange:p=>o(p.target.value),placeholder:"Describe your pain, triggers, or any relevant details...",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/BodyMapPage.tsx",lineNumber:135,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/BodyMapPage.tsx",lineNumber:131,columnNumber:11},this),c.jsxDEV("div",{className:"mt-4",children:c.jsxDEV("button",{onClick:m,disabled:l||t.length===0,className:"w-full px-6 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 dark:bg-gray-500 text-white font-semibold rounded-lg transition-colors disabled:cursor-not-allowed",children:l?"Saving...":"Save Entry"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/BodyMapPage.tsx",lineNumber:146,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/BodyMapPage.tsx",lineNumber:145,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/BodyMapPage.tsx",lineNumber:89,columnNumber:9},this),t.length===0&&c.jsxDEV("div",{className:"text-center py-12 bg-gray-50 dark:bg-gray-800/50 rounded-lg border border-gray-200 dark:border-gray-700",children:[c.jsxDEV("div",{className:"inline-flex p-4 bg-gray-100 dark:bg-gray-700 rounded-full mb-4",children:c.jsxDEV("svg",{className:"w-8 h-8 text-gray-400 dark:text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/BodyMapPage.tsx",lineNumber:167,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/BodyMapPage.tsx",lineNumber:161,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/BodyMapPage.tsx",lineNumber:160,columnNumber:11},this),c.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Select Pain Locations"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/BodyMapPage.tsx",lineNumber:175,columnNumber:11},this),c.jsxDEV("p",{className:"text-gray-600 dark:text-gray-400 max-w-md mx-auto",children:"Click on the body diagram above to mark where you're experiencing pain"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/BodyMapPage.tsx",lineNumber:178,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/BodyMapPage.tsx",lineNumber:159,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/BodyMapPage.tsx",lineNumber:45,columnNumber:5},this)}const H6=()=>{const[s,e]=I.useState("track"),t=[{id:"track",label:"Daily Tracking",icon:dr},{id:"patterns",label:"Patterns & Insights",icon:zr},{id:"education",label:"Learn About Fibro",icon:Ux},{id:"community",label:"Support & Tips",icon:Na}];return c.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 dark:from-gray-900 dark:via-purple-900/20 dark:to-gray-900",children:[c.jsxDEV("div",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-purple-100 dark:border-purple-900/30",children:c.jsxDEV("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[c.jsxDEV("div",{className:"flex items-center gap-3",children:[c.jsxDEV("div",{className:"p-3 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl shadow-lg",children:c.jsxDEV(Qr,{className:"w-8 h-8 text-white"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:25,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:24,columnNumber:13},void 0),c.jsxDEV("div",{children:[c.jsxDEV("h1",{className:"text-3xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Fibromyalgia Support Hub"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:28,columnNumber:15},void 0),c.jsxDEV("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Comprehensive tracking and support for living with fibromyalgia"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:31,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:27,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:23,columnNumber:11},void 0),c.jsxDEV("div",{className:"flex gap-2 mt-6 overflow-x-auto pb-2",children:t.map(r=>{const n=r.icon;return c.jsxDEV("button",{onClick:()=>e(r.id),className:`
                    flex items-center gap-2 px-4 py-2.5 rounded-lg font-medium transition-all whitespace-nowrap
                    ${s===r.id?"bg-gradient-to-r from-purple-500 to-pink-500 text-white shadow-lg shadow-purple-500/30":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-purple-50 dark:hover:bg-gray-600"}
                  `,children:[c.jsxDEV(n,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:54,columnNumber:19},void 0),r.label]},r.id,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:42,columnNumber:17},void 0)})},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:38,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:22,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:21,columnNumber:7},void 0),c.jsxDEV("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s==="track"&&c.jsxDEV(q6,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:65,columnNumber:35},void 0),s==="patterns"&&c.jsxDEV(G6,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:66,columnNumber:38},void 0),s==="education"&&c.jsxDEV(Y6,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:67,columnNumber:39},void 0),s==="community"&&c.jsxDEV(K6,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:68,columnNumber:39},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:64,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:19,columnNumber:5},void 0)},q6=()=>{const s=fc(g=>g.addFibromyalgiaEntry),[e,t]=I.useState({}),[r,n]=I.useState({fatigue:0,waking_unrefreshed:0,cognitive_symptoms:0,somatic_symptoms:0}),[i,a]=I.useState(!1),o=[{id:"leftShoulder",label:"Left Shoulder",side:"left"},{id:"rightShoulder",label:"Right Shoulder",side:"right"},{id:"leftUpperArm",label:"Left Upper Arm",side:"left"},{id:"rightUpperArm",label:"Right Upper Arm",side:"right"},{id:"leftLowerArm",label:"Left Lower Arm",side:"left"},{id:"rightLowerArm",label:"Right Lower Arm",side:"right"},{id:"leftHip",label:"Left Hip",side:"left"},{id:"rightHip",label:"Right Hip",side:"right"},{id:"leftUpperLeg",label:"Left Upper Leg",side:"left"},{id:"rightUpperLeg",label:"Right Upper Leg",side:"right"},{id:"leftLowerLeg",label:"Left Lower Leg",side:"left"},{id:"rightLowerLeg",label:"Right Lower Leg",side:"right"},{id:"jaw",label:"Jaw",side:"central"},{id:"chest",label:"Chest",side:"central"},{id:"abdomen",label:"Abdomen",side:"central"},{id:"upperBack",label:"Upper Back",side:"central"},{id:"lowerBack",label:"Lower Back",side:"central"},{id:"neck",label:"Neck",side:"central"}],l=()=>Object.values(e).filter(Boolean).length,u=()=>Object.values(r).reduce((g,y)=>g+y,0),d=l(),m=u(),p=d>=7&&m>=5||d>=4&&d<=6&&m>=9,f=async()=>{a(!0);try{const g={id:Date.now(),timestamp:new Date().toISOString(),wpi:{leftShoulder:e.leftShoulder||!1,rightShoulder:e.rightShoulder||!1,leftUpperArm:e.leftUpperArm||!1,rightUpperArm:e.rightUpperArm||!1,leftLowerArm:e.leftLowerArm||!1,rightLowerArm:e.rightLowerArm||!1,leftHip:e.leftHip||!1,rightHip:e.rightHip||!1,leftUpperLeg:e.leftUpperLeg||!1,rightUpperLeg:e.rightUpperLeg||!1,leftLowerLeg:e.leftLowerLeg||!1,rightLowerLeg:e.rightLowerLeg||!1,jaw:e.jaw||!1,chest:e.chest||!1,abdomen:e.abdomen||!1,upperBack:e.upperBack||!1,lowerBack:e.lowerBack||!1,neck:e.neck||!1},sss:{fatigue:r.fatigue,waking_unrefreshed:r.waking_unrefreshed,cognitive_symptoms:r.cognitive_symptoms,somatic_symptoms:r.somatic_symptoms},symptoms:{headache:!1,migraine:!1,ibs:!1,temporomandibularDisorder:!1,restlessLegSyndrome:!1,lightSensitivity:!1,soundSensitivity:!1,temperatureSensitivity:!1,chemicalSensitivity:!1,clothingSensitivity:!1,touchSensitivity:!1,numbnessTingling:!1,muscleStiffness:!1,jointPain:!1,brainfog:!1,memoryProblems:!1,concentrationDifficulty:!1},triggers:{},impact:{sleepQuality:2,moodRating:2,anxietyLevel:2,functionalAbility:2},activity:{activityLevel:"moderate",restPeriods:0,overexerted:!1,paybackPeriod:!1},interventions:{},notes:""};await s(g),t({}),n({fatigue:0,waking_unrefreshed:0,cognitive_symptoms:0,somatic_symptoms:0}),alert("Fibromyalgia entry saved successfully!")}catch(g){console.error("Failed to save fibromyalgia entry:",g),alert("Failed to save entry. Please try again.")}finally{a(!1)}};return c.jsxDEV("div",{className:"space-y-6",children:[c.jsxDEV("div",{className:`
        p-6 rounded-xl shadow-lg border-2 transition-all
        ${p?"bg-purple-50 dark:bg-purple-900/20 border-purple-300 dark:border-purple-700":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700"}
      `,children:[c.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[c.jsxDEV("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"ACR 2016 Diagnostic Criteria"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:239,columnNumber:11},void 0),p&&c.jsxDEV("span",{className:"px-3 py-1 bg-purple-500 text-white text-sm font-medium rounded-full",children:"Criteria Met"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:243,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:238,columnNumber:9},void 0),c.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[c.jsxDEV("div",{className:"p-4 bg-white dark:bg-gray-700 rounded-lg",children:[c.jsxDEV("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Widespread Pain Index (WPI)"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:251,columnNumber:13},void 0),c.jsxDEV("div",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:[d," / 19"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:254,columnNumber:13},void 0),c.jsxDEV("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Need â‰¥7 for primary criteria"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:257,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:250,columnNumber:11},void 0),c.jsxDEV("div",{className:"p-4 bg-white dark:bg-gray-700 rounded-lg",children:[c.jsxDEV("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Symptom Severity Scale (SSS)"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:263,columnNumber:13},void 0),c.jsxDEV("div",{className:"text-3xl font-bold text-pink-600 dark:text-pink-400",children:[m," / 12"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:266,columnNumber:13},void 0),c.jsxDEV("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Need â‰¥5 for primary criteria"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:269,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:262,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:249,columnNumber:9},void 0),c.jsxDEV("div",{className:"text-sm text-gray-600 dark:text-gray-400 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[c.jsxDEV("strong",{children:"Diagnosis requires:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:276,columnNumber:11},void 0)," WPI â‰¥7 AND SSS â‰¥5, OR WPI 4-6 AND SSS â‰¥9"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:275,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:228,columnNumber:7},void 0),c.jsxDEV("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",children:[c.jsxDEV("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[c.jsxDEV(dr,{className:"w-5 h-5 text-purple-500"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:283,columnNumber:11},void 0),"Widespread Pain Index (WPI)"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:282,columnNumber:9},void 0),c.jsxDEV("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Select all areas where you've had pain in the last week:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:286,columnNumber:9},void 0),c.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:o.map(g=>c.jsxDEV("button",{onClick:()=>t(y=>({...y,[g.id]:!y[g.id]})),className:`
                p-3 rounded-lg border-2 text-left transition-all
                ${e[g.id]?"bg-purple-100 dark:bg-purple-900/30 border-purple-500 dark:border-purple-600":"bg-gray-50 dark:bg-gray-700 border-gray-200 dark:border-gray-600 hover:border-purple-300"}
              `,children:[c.jsxDEV("div",{className:"font-medium text-gray-900 dark:text-white",children:g.label},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:304,columnNumber:15},void 0),c.jsxDEV("div",{className:"text-xs text-gray-500 dark:text-gray-400 capitalize",children:g.side},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:305,columnNumber:15},void 0)]},g.id,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:292,columnNumber:13},void 0))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:290,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:281,columnNumber:7},void 0),c.jsxDEV("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",children:[c.jsxDEV("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[c.jsxDEV(ja,{className:"w-5 h-5 text-pink-500"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:316,columnNumber:11},void 0),"Symptom Severity Scale (SSS)"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:315,columnNumber:9},void 0),c.jsxDEV("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Rate each symptom over the past week (0 = No problem, 3 = Severe):"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:319,columnNumber:9},void 0),c.jsxDEV("div",{className:"space-y-4",children:[{id:"fatigue",label:"Fatigue",icon:va},{id:"waking_unrefreshed",label:"Waking Unrefreshed",icon:va},{id:"cognitive_symptoms",label:"Cognitive Symptoms (Fibro Fog)",icon:Mn},{id:"somatic_symptoms",label:"Somatic Symptoms (Headache, IBS, etc.)",icon:Qr}].map(g=>{const y=g.icon;return c.jsxDEV("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[c.jsxDEV("div",{className:"flex items-center gap-2 mb-3",children:[c.jsxDEV(y,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:338,columnNumber:19},void 0),c.jsxDEV("span",{className:"font-medium text-gray-900 dark:text-white",children:g.label},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:339,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:337,columnNumber:17},void 0),c.jsxDEV("div",{className:"flex gap-2",children:[0,1,2,3].map(v=>c.jsxDEV("button",{onClick:()=>n(N=>({...N,[g.id]:v})),className:`
                        flex-1 py-2 rounded-lg font-medium transition-all
                        ${r[g.id]===v?"bg-gradient-to-r from-purple-500 to-pink-500 text-white shadow-lg":"bg-white dark:bg-gray-600 text-gray-700 dark:text-gray-300 hover:bg-purple-50 dark:hover:bg-gray-500"}
                      `,children:v},v,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:343,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:341,columnNumber:17},void 0),c.jsxDEV("div",{className:"flex justify-between mt-2 text-xs text-gray-500 dark:text-gray-400",children:[c.jsxDEV("span",{children:"None"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:362,columnNumber:19},void 0),c.jsxDEV("span",{children:"Severe"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:363,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:361,columnNumber:17},void 0)]},g.id,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:336,columnNumber:15},void 0)})},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:323,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:314,columnNumber:7},void 0),c.jsxDEV("button",{onClick:f,disabled:i,className:"w-full py-4 bg-gradient-to-r from-purple-500 to-pink-500 text-white font-bold rounded-xl shadow-lg hover:shadow-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Saving...":"Save Today's Entry"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:372,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:226,columnNumber:5},void 0)},G6=()=>c.jsxDEV("div",{className:"space-y-6",children:c.jsxDEV("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",children:[c.jsxDEV("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Pattern Analysis Coming Soon"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:388,columnNumber:9},void 0),c.jsxDEV("p",{className:"text-gray-600 dark:text-gray-400",children:"Track your entries to see patterns in your fibromyalgia symptoms, triggers, and effective interventions."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:391,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:387,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:386,columnNumber:5},void 0),Y6=()=>{const s=[{title:"Understanding Fibromyalgia",description:"Learn about the ACR diagnostic criteria, symptoms, and latest research",category:"diagnosis"},{title:"Managing Flare-Ups",description:"Strategies for identifying triggers and reducing flare severity",category:"management"},{title:"Pacing & Energy Management",description:'Learn the "energy envelope" theory and avoid boom-bust cycles',category:"management"},{title:"Latest Research",description:"Stay informed about new treatments and clinical trials",category:"research"}];return c.jsxDEV("div",{className:"space-y-4",children:s.map((e,t)=>c.jsxDEV("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 hover:shadow-xl transition-all",children:c.jsxDEV("div",{className:"flex items-start justify-between",children:[c.jsxDEV("div",{children:[c.jsxDEV("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-2",children:e.title},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:434,columnNumber:15},void 0),c.jsxDEV("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:e.description},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:437,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:433,columnNumber:13},void 0),c.jsxDEV(Ux,{className:"w-5 h-5 text-purple-500 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:439,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:432,columnNumber:11},void 0)},t,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:428,columnNumber:9},void 0))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:426,columnNumber:5},void 0)},K6=()=>{const s=[{title:"Pacing is Key",content:"Break tasks into smaller chunks. Rest BEFORE you feel exhausted, not after.",author:"Community Tip"},{title:"Track Your Baseline",content:'Find your "good day" activity level and stay at 70% of that to avoid crashes.',author:"Clinical Guideline"},{title:"Weather Watch",content:"Many report flares with barometric pressure changes. Track weather alongside symptoms.",author:"Community Insight"}];return c.jsxDEV("div",{className:"space-y-6",children:[c.jsxDEV("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 rounded-xl shadow-lg p-6 text-white",children:[c.jsxDEV("h3",{className:"text-xl font-bold mb-2",children:"You Are Not Alone"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:471,columnNumber:9},void 0),c.jsxDEV("p",{className:"text-purple-100",children:"Millions live with fibromyalgia. These community tips and validated strategies can help."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:472,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:470,columnNumber:7},void 0),c.jsxDEV("div",{className:"space-y-4",children:s.map((e,t)=>c.jsxDEV("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",children:c.jsxDEV("div",{className:"flex items-start gap-3",children:[c.jsxDEV(Na,{className:"w-5 h-5 text-purple-500 flex-shrink-0 mt-1"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:481,columnNumber:15},void 0),c.jsxDEV("div",{children:[c.jsxDEV("h4",{className:"font-bold text-gray-900 dark:text-white mb-2",children:e.title},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:483,columnNumber:17},void 0),c.jsxDEV("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-2",children:e.content},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:484,columnNumber:17},void 0),c.jsxDEV("span",{className:"text-xs text-purple-600 dark:text-purple-400",children:["â€” ",e.author]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:485,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:482,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:480,columnNumber:13},void 0)},t,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:479,columnNumber:11},void 0))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:477,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:469,columnNumber:5},void 0)},X6=I.lazy(()=>qs(()=>import("./index-D-5VeUnL.js"),__vite__mapDeps([4,1,2,3])).then(s=>({default:s.OnboardingFlow}))),J6=I.lazy(()=>qs(()=>import("./index-B8evwRJL.js"),__vite__mapDeps([5,1,2,3])).then(s=>({default:s.Walkthrough})));function Z6(){const{entries:s,ui:e,addEntry:t,setShowOnboarding:r,setShowWalkthrough:n,setError:i,loadSampleData:a}=fc(),o=np(),[l,u]=I.useState([]),[d,m]=I.useState("dashboard");I.useEffect(()=>{qs(async()=>{const{walkthroughSteps:E}=await import("./sampleData-CQjumYEi.js");return{walkthroughSteps:E}},[]).then(({walkthroughSteps:E})=>{u(E)})},[]),I.useEffect(()=>{try{const E=Ps.get("pain-tracker-onboarding-completed"),A=s.length>0;!E&&!A&&r(!0)}catch(E){console.warn("Unable to check onboarding status:",E)}},[s.length,r]);const p=E=>{try{Ps.set("pain-tracker-onboarding-completed","true")}catch(A){console.warn("Unable to save onboarding status:",A)}r(!1),E?(a(),o.success("Sample data loaded!","Explore the features with example pain entries. You can clear this data anytime.")):o.info("Welcome to Pain Tracker!","Start by recording your first pain entry above.")},f=()=>{try{Ps.set("pain-tracker-onboarding-completed","true")}catch(E){console.warn("Unable to save onboarding status:",E)}r(!1),o.info("Onboarding skipped","You can always access help from the help menu.")},g=()=>{n(!0)},y=()=>{n(!1),o.success("Tutorial completed!","You're all set to start tracking your pain effectively.")},v=()=>{n(!1)},N=E=>{if(!E.baselineData)return!1;const{pain:A}=E.baselineData;if(typeof A!="number"||A<0||A>10)return!1;if(E.qualityOfLife){const{sleepQuality:V,moodImpact:P}=E.qualityOfLife;if(typeof V!="number"||V<0||V>10||typeof P!="number"||P<0||P>10)return!1}return!0},D=E=>{try{if(!N(E)){i("Invalid pain entry data. Please check your input values."),o.error("Invalid Entry","Please check your input values and try again.");return}t(E),i(null),o.success("Entry Saved","Your pain entry has been recorded successfully."),m("dashboard")}catch(A){i("Failed to add pain entry. Please try again."),o.error("Save Failed","Unable to add pain entry. Please try again."),console.error("Error adding pain entry:",A)}},j={totalEntries:s.length,avgPain:s.length>0?s.reduce((E,A)=>E+A.baselineData.pain,0)/s.length:0,streak:s.length>0?Math.min(s.length,7):0},C=()=>{switch(d){case"dashboard":return s.length>0?c.jsxDEV(nb,{entries:s,onLogNow:()=>m("new-entry"),onViewCalendar:()=>m("calendar"),onViewAnalytics:()=>m("analytics"),onExport:()=>{o.info("Export","PDF export coming soon")}},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:153,columnNumber:11},this):c.jsxDEV(ab,{onStartWalkthrough:g},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:164,columnNumber:11},this);case"new-entry":return c.jsxDEV(KS,{onComplete:E=>{D({baselineData:{pain:E.pain,locations:E.locations,symptoms:E.symptoms},notes:E.notes})},onCancel:()=>m("dashboard")},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:169,columnNumber:11},this);case"analytics":return c.jsxDEV(L6,{entries:s},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:186,columnNumber:16},this);case"body-map":return c.jsxDEV(W6,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:189,columnNumber:16},this);case"fibromyalgia":return c.jsxDEV(H6,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:192,columnNumber:16},this);case"calendar":return c.jsxDEV(z6,{entries:s},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:195,columnNumber:16},this);case"reports":return c.jsxDEV("div",{className:"text-center py-20",children:[c.jsxDEV("div",{className:"inline-flex p-6 bg-gray-100 dark:bg-gray-800 rounded-2xl mb-4",children:c.jsxDEV("span",{className:"text-4xl",children:"ðŸš§"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:201,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:200,columnNumber:13},this),c.jsxDEV("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Coming Soon"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:203,columnNumber:13},this),c.jsxDEV("p",{className:"text-gray-600 dark:text-gray-400",children:"This feature is under development"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:204,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:199,columnNumber:11},this);case"settings":case"help":return c.jsxDEV("div",{className:"text-center py-20",children:[c.jsxDEV("div",{className:"inline-flex p-6 bg-gray-100 dark:bg-gray-800 rounded-2xl mb-4",children:c.jsxDEV("span",{className:"text-4xl",children:"âš™ï¸"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:213,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:212,columnNumber:13},this),c.jsxDEV("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:d==="settings"?"Settings":"Help & Support"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:215,columnNumber:13},this),c.jsxDEV("p",{className:"text-gray-600 dark:text-gray-400",children:"Configuration options coming soon"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:218,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:211,columnNumber:11},this);default:return s.length>0?c.jsxDEV(nb,{entries:s,onLogNow:()=>m("new-entry"),onViewCalendar:()=>m("calendar"),onViewAnalytics:()=>m("analytics"),onExport:()=>{o.info("Export","PDF export coming soon")}},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:224,columnNumber:11},this):c.jsxDEV(ab,{onStartWalkthrough:g},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:234,columnNumber:11},this)}};return c.jsxDEV(c.Fragment,{children:[c.jsxDEV(HS,{currentView:d,onNavigate:m,stats:j,children:C()},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:241,columnNumber:7},this),e.showOnboarding&&c.jsxDEV(I.Suspense,{fallback:null,children:c.jsxDEV(X6,{onComplete:p,onSkip:f},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:248,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:247,columnNumber:9},this),e.showWalkthrough&&c.jsxDEV(I.Suspense,{fallback:null,children:c.jsxDEV(J6,{steps:l,isActive:e.showWalkthrough,onComplete:y,onSkip:v},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:255,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:254,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:240,columnNumber:5},this)}const Q6=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,eA={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"Â©","&#169;":"Â©","&reg;":"Â®","&#174;":"Â®","&hellip;":"â€¦","&#8230;":"â€¦","&#x2F;":"/","&#47;":"/"},tA=s=>eA[s],sA=s=>s.replace(Q6,tA);let lb={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:sA};const rA=(s={})=>{lb={...lb,...s}},nA={type:"3rdParty",init(s){rA(s.options.react)}};function iA({children:s}){const[e,t]=I.useState(()=>{const n=Ps.get("trauma-informed-preferences",{encrypt:!0});if(n)return{...ld,...n};try{const i=localStorage.getItem("trauma-informed-preferences");if(i){const a=JSON.parse(i);return Ps.set("trauma-informed-preferences",a,{encrypt:!0}),{...ld,...a}}}catch{}return ld}),r=n=>{const i={...e,...n};t(i),Ps.set("trauma-informed-preferences",i,{encrypt:!0})};return I.useEffect(()=>{const n=document.documentElement;n.style.setProperty("--ti-font-size",s6(e.fontSize)),n.style.setProperty("--ti-touch-size",r6(e.touchTargetSize));const i=`ti-contrast-${e.contrast}`;document.body.className=document.body.className.replace(/ti-contrast-\w+/g,""),document.body.classList.add(i),e.reduceMotion?document.body.classList.add("ti-reduce-motion"):document.body.classList.remove("ti-reduce-motion"),e.simplifiedMode?document.body.classList.add("ti-simplified"):document.body.classList.remove("ti-simplified")},[e]),c.jsxDEV(dv.Provider,{value:{preferences:e,updatePreferences:r},children:s},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/TraumaInformedContext.tsx",lineNumber:79,columnNumber:5},this)}const aA={emergencyMode:{enabled:!0,autoActivate:!0,activationThreshold:.7,simplificationLevel:"moderate",essentialFunctionsOnly:!1,emergencyContactsVisible:!0,autoSaveFrequency:30,timeoutExtensions:!0}},oA={enabled:!0,sensitivity:"medium",monitoringInterval:1e4,painThreshold:7,stressThreshold:.7,cognitiveLoadThreshold:.6,autoActivateEmergencyMode:!0};function Gd(s={}){const{updatePreferences:e}=Hd(),t=I.useMemo(()=>({...oA,...s}),[s]),[r,n]=I.useState({isInCrisis:!1,severity:"none",triggers:[],detectedAt:new Date,duration:0,previousEpisodes:0}),[i,a]=I.useState({current:{painLevel:0,cognitiveLoad:0,inputErraticBehavior:0,timeSpentOnTasks:0,errorRate:0,frustrationMarkers:0},baseline:{painLevel:3,cognitiveLoad:.3,inputErraticBehavior:.2,timeSpentOnTasks:1,errorRate:.1,frustrationMarkers:.1},trend:"stable",lastUpdated:new Date}),[o,l]=I.useState(null),[u]=I.useState(aA.emergencyMode),d=I.useRef({clickFrequency:0,errorRate:0,taskCompletionTime:0,helpRequestsCount:0,backNavigationCount:0,timeSpentOnPage:0,inputErraticBehavior:0}),m=I.useRef(),p=I.useRef(new Date),f=I.useRef([]),g=I.useRef([]),y=I.useRef([]),v=I.useCallback(()=>{const $=g.current.filter(re=>Date.now()-re.getTime()<6e4).length,Z=y.current.filter(re=>Date.now()-re.getTime()<6e4).length;return Math.min(1,$*.2+Z*.3+d.current.timeSpentOnPage*.1)},[]),N=I.useCallback(()=>{if(f.current.length<3)return 0;const $=f.current.filter(ee=>Date.now()-ee<3e4);if($.length<3)return 0;const Z=[];for(let ee=1;ee<$.length;ee++)Z.push($[ee]-$[ee-1]);const re=Z.reduce((ee,pe)=>ee+pe,0)/Z.length,le=Z.reduce((ee,pe)=>ee+Math.pow(pe-re,2),0)/Z.length;return Math.min(1,le/1e4)},[]),D=I.useCallback(()=>d.current.timeSpentOnPage/6e4,[]),j=I.useCallback(()=>{const $=g.current.filter(Z=>Date.now()-Z.getTime()<3e5).length;return Math.min(1,$/10)},[]),C=I.useCallback(()=>{const $=d.current.backNavigationCount,Z=d.current.helpRequestsCount;return Math.min(1,$*.1+Z*.2)},[]),E=I.useCallback(()=>{e({simplifiedMode:!0,showMemoryAids:!0,autoSave:!0,touchTargetSize:"extra-large",confirmationLevel:"high",showComfortPrompts:!0,showProgress:!0}),console.log("Emergency mode activated")},[e]),A=I.useCallback(()=>{if(!t.enabled)return;const $=new Date,Z={painLevel:i.current.painLevel,cognitiveLoad:v(),inputErraticBehavior:N(),timeSpentOnTasks:D(),errorRate:j(),frustrationMarkers:C()},re=[];Z.painLevel>=t.painThreshold&&re.push({type:"pain_spike",value:Z.painLevel/10,threshold:t.painThreshold/10,timestamp:$,context:`Pain level: ${Z.painLevel}/10`}),Z.cognitiveLoad>=t.cognitiveLoadThreshold&&re.push({type:"cognitive_fog",value:Z.cognitiveLoad,threshold:t.cognitiveLoadThreshold,timestamp:$,context:"High cognitive load detected"}),Z.inputErraticBehavior>=.7&&re.push({type:"rapid_input",value:Z.inputErraticBehavior,threshold:.7,timestamp:$,context:"Erratic input patterns detected"}),Z.errorRate>=.3&&re.push({type:"error_pattern",value:Z.errorRate,threshold:.3,timestamp:$,context:"High error rate detected"}),Z.frustrationMarkers>=.5&&re.push({type:"emotional_distress",value:Z.frustrationMarkers,threshold:.5,timestamp:$,context:"Signs of frustration detected"});const le=Z.painLevel/10*.3+Z.cognitiveLoad*.25+Z.inputErraticBehavior*.2+Z.errorRate*.15+Z.frustrationMarkers*.1;let ee="none";le>=.8?ee="critical":le>=.6?ee="severe":le>=.4?ee="moderate":le>=.2&&(ee="mild");const pe=re.length>0||le>=t.stressThreshold;if(pe&&!r.isInCrisis){const ue={id:`crisis_${$.getTime()}`,startTime:$,triggers:re,responses:[],userActions:[],outcome:"ongoing",duration:0,effectiveInterventions:[]};l(ue)}n(ue=>({...ue,isInCrisis:pe,severity:ee,triggers:re,detectedAt:pe?ue.isInCrisis?ue.detectedAt:$:ue.detectedAt,duration:pe?$.getTime()-(ue.isInCrisis?ue.detectedAt:$).getTime():0,previousEpisodes:ue.previousEpisodes+(pe&&!ue.isInCrisis?1:0)})),a(ue=>{const te=le>.6?"worsening":le<.3?"improving":"stable";return{current:Z,baseline:ue.baseline,trend:te,lastUpdated:$}}),pe&&t.autoActivateEmergencyMode&&u.autoActivate&&ee==="critical"&&E()},[t,i,r.isInCrisis,u.autoActivate,v,N,D,j,C,E]),V=I.useCallback(()=>{const $=Date.now();f.current.push($),f.current=f.current.filter(Z=>$-Z<6e4),p.current=new Date},[]),P=I.useCallback(()=>{g.current.push(new Date),d.current.errorRate+=1,g.current=g.current.filter($=>Date.now()-$.getTime()<3e5)},[]),_=I.useCallback(()=>{y.current.push(new Date),d.current.helpRequestsCount+=1,y.current=y.current.filter($=>Date.now()-$.getTime()<3e5)},[]),O=I.useCallback(()=>{d.current.backNavigationCount+=1},[]),S=I.useCallback($=>{a(Z=>({...Z,current:{...Z.current,painLevel:$}}))},[]),L=I.useCallback(()=>{e({simplifiedMode:!1,touchTargetSize:"large",confirmationLevel:"standard"}),console.log("Emergency mode deactivated")},[e]),B=I.useCallback(($,Z)=>{if(o){const re={...o,endTime:new Date,outcome:$,duration:Date.now()-o.startTime.getTime(),userFeedback:Z};l(null),console.log("Crisis session resolved:",re)}n(re=>({...re,isInCrisis:!1,severity:"none",triggers:[],duration:0}))},[o]);return I.useEffect(()=>{if(t.enabled)return m.current=setInterval(A,t.monitoringInterval),()=>{m.current&&clearInterval(m.current)}},[t.enabled,t.monitoringInterval,A]),I.useEffect(()=>{const $=()=>V(),Z=re=>{(re.key==="Escape"||re.key==="Backspace")&&O()};return document.addEventListener("click",$),document.addEventListener("keydown",Z),()=>{document.removeEventListener("click",$),document.removeEventListener("keydown",Z)}},[V,O]),{crisisState:r,stressMetrics:i,currentSession:o,trackClick:V,trackError:P,trackHelpRequest:_,trackBackNavigation:O,updatePainLevel:S,activateEmergencyMode:E,deactivateEmergencyMode:L,resolveCrisis:B,isInCrisis:r.isInCrisis,crisisSeverity:r.severity,overallStressLevel:i.current.painLevel/10*.3+i.current.cognitiveLoad*.25+i.current.inputErraticBehavior*.2+i.current.errorRate*.15+i.current.frustrationMarkers*.1,crisisLevel:r.severity,behaviorData:{rapidClicks:i.current.inputErraticBehavior*100,backNavigationCount:i.current.frustrationMarkers*10,timeOnPage:i.current.timeSpentOnTasks,errorCount:i.current.errorRate*10,lastActive:Date.now()-i.current.timeSpentOnTasks*1e3},resetCrisisDetection:B,config:t}}const cA={maxPainEntries:50,maxMoodEntries:50,maxActivityLogs:30,maxStorageMB:50,dataRetentionDays:90,basicAnalytics:!0,advancedAnalytics:!1,predictiveInsights:!1,customReports:!1,empathyIntelligence:!1,csvExport:!0,jsonExport:!1,pdfReports:!1,wcbReports:!1,clinicalPDFExport:!1,scheduledReports:!1,maxExportsPerMonth:5,healthcareProviderAPI:!1,fhirIntegration:!1,calendarSync:!1,wearableDevices:!1,multiUser:!1,familySharing:!1,caregiverAccess:!1,maxSharedUsers:0,encryption:"basic",twoFactorAuth:!1,auditLogs:!1,hipaaCompliance:!1,soc2Compliance:!1,customDataRetention:!1,supportLevel:"community",responseTime:"72h",onboarding:!1,customTraining:!1,aiInsights:!1,automatedReminders:!0,smartSuggestions:!1,patternRecognition:!1,customThemes:!1,customDashboard:!1,customFields:!1,branding:!1,whiteLabel:!1,offlineMode:!0,mobileApp:!0,apiAccess:!1,webhooks:!1,customIntegrations:!1},lA={maxPainEntries:500,maxMoodEntries:500,maxActivityLogs:300,maxStorageMB:500,dataRetentionDays:365,basicAnalytics:!0,advancedAnalytics:!0,predictiveInsights:!1,customReports:!0,empathyIntelligence:!0,csvExport:!0,jsonExport:!0,pdfReports:!0,wcbReports:!0,clinicalPDFExport:!1,scheduledReports:!1,maxExportsPerMonth:50,healthcareProviderAPI:!1,fhirIntegration:!1,calendarSync:!0,wearableDevices:!1,multiUser:!1,familySharing:!0,caregiverAccess:!0,maxSharedUsers:2,encryption:"advanced",twoFactorAuth:!0,auditLogs:!1,hipaaCompliance:!1,soc2Compliance:!1,customDataRetention:!1,supportLevel:"email",responseTime:"24h",onboarding:!0,customTraining:!1,aiInsights:!0,automatedReminders:!0,smartSuggestions:!0,patternRecognition:!0,customThemes:!0,customDashboard:!0,customFields:!0,branding:!1,whiteLabel:!1,offlineMode:!0,mobileApp:!0,apiAccess:!1,webhooks:!1,customIntegrations:!1},uA={maxPainEntries:-1,maxMoodEntries:-1,maxActivityLogs:-1,maxStorageMB:5e3,dataRetentionDays:-1,basicAnalytics:!0,advancedAnalytics:!0,predictiveInsights:!0,customReports:!0,empathyIntelligence:!0,csvExport:!0,jsonExport:!0,pdfReports:!0,wcbReports:!0,clinicalPDFExport:!0,scheduledReports:!0,maxExportsPerMonth:200,healthcareProviderAPI:!0,fhirIntegration:!0,calendarSync:!0,wearableDevices:!0,multiUser:!0,familySharing:!0,caregiverAccess:!0,maxSharedUsers:5,encryption:"advanced",twoFactorAuth:!0,auditLogs:!0,hipaaCompliance:!0,soc2Compliance:!1,customDataRetention:!0,supportLevel:"priority",responseTime:"4h",onboarding:!0,customTraining:!1,aiInsights:!0,automatedReminders:!0,smartSuggestions:!0,patternRecognition:!0,customThemes:!0,customDashboard:!0,customFields:!0,branding:!1,whiteLabel:!1,offlineMode:!0,mobileApp:!0,apiAccess:!0,webhooks:!0,customIntegrations:!1},dA={maxPainEntries:-1,maxMoodEntries:-1,maxActivityLogs:-1,maxStorageMB:-1,dataRetentionDays:-1,basicAnalytics:!0,advancedAnalytics:!0,predictiveInsights:!0,customReports:!0,empathyIntelligence:!0,csvExport:!0,jsonExport:!0,pdfReports:!0,wcbReports:!0,clinicalPDFExport:!0,scheduledReports:!0,maxExportsPerMonth:-1,healthcareProviderAPI:!0,fhirIntegration:!0,calendarSync:!0,wearableDevices:!0,multiUser:!0,familySharing:!0,caregiverAccess:!0,maxSharedUsers:-1,encryption:"enterprise",twoFactorAuth:!0,auditLogs:!0,hipaaCompliance:!0,soc2Compliance:!0,customDataRetention:!0,supportLevel:"dedicated",responseTime:"1h",onboarding:!0,customTraining:!0,aiInsights:!0,automatedReminders:!0,smartSuggestions:!0,patternRecognition:!0,customThemes:!0,customDashboard:!0,customFields:!0,branding:!0,whiteLabel:!0,offlineMode:!0,mobileApp:!0,apiAccess:!0,webhooks:!0,customIntegrations:!0},mA={tier:"free",monthly:{amount:0,currency:"USD",display:"$0"},yearly:{amount:0,currency:"USD",display:"$0",savings:0},trial:{enabled:!1,days:0}},fA={tier:"basic",monthly:{amount:999,currency:"USD",display:"$9.99"},yearly:{amount:9990,currency:"USD",display:"$99.90",savings:17},trial:{enabled:!0,days:14}},hA={tier:"pro",monthly:{amount:2499,currency:"USD",display:"$24.99"},yearly:{amount:24990,currency:"USD",display:"$249.90",savings:21},lifetime:{amount:49900,currency:"USD",display:"$499"},trial:{enabled:!0,days:30}},pA={tier:"enterprise",monthly:{amount:0,currency:"USD",display:"Custom"},yearly:{amount:0,currency:"USD",display:"Custom",savings:0},trial:{enabled:!0,days:60}},to={free:{tier:"free",name:"Free",tagline:"Start your pain tracking journey",description:"Perfect for individuals exploring pain management tools. Track your pain, mood, and activities with basic analytics.",features:cA,pricing:mA,limits:{softLimits:!1,gracePeriodDays:0},targeting:{userType:["individual","trial_user"],painLevel:"mild"}},basic:{tier:"basic",name:"Basic",tagline:"Comprehensive pain management",description:"For individuals committed to understanding and managing chronic pain. Includes advanced analytics, PDF reports, and family sharing.",features:lA,pricing:fA,popular:!0,limits:{softLimits:!0,gracePeriodDays:7},targeting:{userType:["individual","caregiver"],painLevel:"chronic"}},pro:{tier:"pro",name:"Pro",tagline:"Professional-grade pain tracking",description:"Power users and healthcare coordination. Unlimited entries, predictive insights, clinical PDF exports, and HIPAA compliance.",features:uA,pricing:hA,recommended:!0,limits:{softLimits:!0,gracePeriodDays:14},targeting:{userType:["power_user","healthcare_coordinator","professional"],painLevel:"chronic"}},enterprise:{tier:"enterprise",name:"Enterprise",tagline:"Healthcare organization solution",description:"For clinics, healthcare organizations, and large-scale deployments. Custom features, white-label options, SOC2 compliance, and dedicated support.",features:dA,pricing:pA,limits:{softLimits:!0,gracePeriodDays:30},targeting:{userType:["organization","clinic","healthcare_provider"]}}},gA={free:["basic","pro","enterprise"],basic:["pro","enterprise"],pro:["enterprise"],enterprise:[]},bA={free:{painEntries:{limit:50,warningAt:40,unit:"entries"},storageMB:{limit:50,warningAt:40,unit:"MB"},exportCount:{limit:5,warningAt:4,unit:"exports/month",resetMonthly:!0}},basic:{painEntries:{limit:500,warningAt:450,unit:"entries"},storageMB:{limit:500,warningAt:450,unit:"MB"},exportCount:{limit:50,warningAt:45,unit:"exports/month",resetMonthly:!0}},pro:{storageMB:{limit:5e3,warningAt:4500,unit:"MB"},apiCalls:{limit:1e4,warningAt:9e3,unit:"calls/month",resetMonthly:!0}},enterprise:{}};class yA{subscriptions=new Map;billingEvents=[];async createSubscription(e,t="free",r="monthly"){const n=new Date().toISOString(),i=to[t],a=n,o=this.calculatePeriodEnd(a,r),l=i.pricing.trial.enabled&&t!=="free",u={id:this.generateSubscriptionId(),userId:e,tier:t,status:l?"trialing":"active",billingInterval:r,currentPeriodStart:a,currentPeriodEnd:o,cancelAtPeriodEnd:!1,trialStart:l?n:void 0,trialEnd:l?this.calculateTrialEnd(n,i.pricing.trial.days):void 0,usage:{painEntries:0,moodEntries:0,activityLogs:0,storageMB:0,apiCalls:0,exportCount:0},createdAt:n,updatedAt:n};return this.subscriptions.set(e,u),await this.logBillingEvent({type:"subscription_created",subscriptionId:u.id,userId:e,metadata:{billingInterval:r,isTrial:l,tier:t}}),await Br.logSecurityEvent({type:"audit",level:"info",message:`Subscription created: ${t} tier for user ${e}`,userId:e,timestamp:new Date}),u}getSubscription(e){return this.subscriptions.get(e)||null}getUserTier(e){const t=this.getSubscription(e);return!t||this.isSubscriptionExpired(t)?"free":t.tier}async checkFeatureAccess(e,t){const r=this.getUserTier(e),i=to[r].features[t];if(typeof i=="boolean")return{hasAccess:i,reason:i?"Feature included in your plan":`Feature requires ${this.getMinimumTierForFeature(t)} plan`,upgradeRequired:i?void 0:this.getMinimumTierForFeature(t)};if(typeof i=="number"){if(!this.getSubscription(e))return{hasAccess:!1,reason:"No active subscription",upgradeRequired:"basic"};const o=await this.getFeatureQuota(e,t);return{hasAccess:o.remaining>0||i===-1,reason:o.remaining>0?"Quota available":"Quota exceeded",quota:o,upgradeRequired:o.remaining<=0?this.getNextTier(r):void 0}}return{hasAccess:!!i,reason:i?`${i} access included`:"Feature not available"}}async getFeatureQuota(e,t){const r=this.getUserTier(e),n=to[r],i=this.getSubscription(e);if(!i)return{feature:t,limit:0,current:0,remaining:0,percentage:0};const a=n.features[t],o=typeof a=="number"?a:0;let l=0;t==="maxPainEntries"?l=i.usage.painEntries:t==="maxMoodEntries"?l=i.usage.moodEntries:t==="maxActivityLogs"?l=i.usage.activityLogs:t==="maxStorageMB"?l=i.usage.storageMB:t==="maxExportsPerMonth"&&(l=i.usage.exportCount);const u=o===-1?1/0:Math.max(0,o-l),d=o===-1?0:Math.min(100,l/o*100);return{feature:t,limit:o,current:l,remaining:o===-1?-1:u,percentage:d,resetDate:this.shouldResetMonthly(t)?i.currentPeriodEnd:void 0}}async trackUsage(e,t,r=1){const n=this.getSubscription(e);if(!n)return{success:!1};n.usage[t]+=r,n.updatedAt=new Date().toISOString();const a={painEntries:"maxPainEntries",moodEntries:"maxMoodEntries",activityLogs:"maxActivityLogs",storageMB:"maxStorageMB",apiCalls:"maxPainEntries",exportCount:"maxExportsPerMonth"}[t],o=await this.getFeatureQuota(e,a),l=this.getUserTier(e),u=bA[l];if(u&&u[t]){const d=u[t];n.usage[t]>=d.warningAt&&await Br.logSecurityEvent({type:"audit",level:"warning",message:`User approaching ${t} limit: ${n.usage[t]}/${d.limit}`,userId:e,timestamp:new Date})}return{success:!0,quota:o}}async upgradeTier(e,t,r=!0){const n=this.getSubscription(e);if(!n)throw new Error("No active subscription found");const i=n.tier,a=await this.calculateTierChange(i,t);return r?(n.tier=t,n.status="active",n.updatedAt=new Date().toISOString(),await this.logBillingEvent({type:"tier_upgraded",subscriptionId:n.id,userId:e,metadata:{fromTier:i,toTier:t}}),await Br.logSecurityEvent({type:"audit",level:"info",message:`Subscription upgraded: ${i} â†’ ${t}`,userId:e,timestamp:new Date})):n.scheduledChange={newTier:t,effectiveDate:n.currentPeriodEnd,reason:"upgrade"},a}async downgradeTier(e,t){const r=this.getSubscription(e);if(!r)throw new Error("No active subscription found");const n=r.tier,i=await this.calculateTierChange(n,t);return r.scheduledChange={newTier:t,effectiveDate:r.currentPeriodEnd,reason:"downgrade"},r.updatedAt=new Date().toISOString(),await this.logBillingEvent({type:"tier_downgraded",subscriptionId:r.id,userId:e,metadata:{fromTier:n,toTier:t,effectiveDate:r.currentPeriodEnd}}),i}async cancelSubscription(e,t=!1){const r=this.getSubscription(e);if(!r)throw new Error("No active subscription found");return t?(r.status="canceled",r.tier="free"):(r.cancelAtPeriodEnd=!0,r.status="canceled"),r.updatedAt=new Date().toISOString(),await this.logBillingEvent({type:"subscription_canceled",subscriptionId:r.id,userId:e,metadata:{immediate:t,effectiveDate:t?new Date().toISOString():r.currentPeriodEnd}}),await Br.logSecurityEvent({type:"audit",level:"info",message:`Subscription canceled${t?" (immediate)":" (at period end)"}`,userId:e,timestamp:new Date}),r}async reactivateSubscription(e){const t=this.getSubscription(e);if(!t)throw new Error("No subscription found");if(t.status!=="canceled"||!t.cancelAtPeriodEnd)throw new Error("Subscription is not canceled");return t.cancelAtPeriodEnd=!1,t.status="active",t.updatedAt=new Date().toISOString(),await Br.logSecurityEvent({type:"audit",level:"info",message:"Subscription reactivated",userId:e,timestamp:new Date}),t}async calculateTierChange(e,t){const r=to[e],n=to[t],i=this.isUpgrade(e,t),a=[],o=[];return Object.keys(r.features).forEach(u=>{const d=r.features[u],m=n.features[u];typeof d=="boolean"&&typeof m=="boolean"&&(!d&&m&&a.push(u),d&&!m&&o.push(u))}),{fromTier:e,toTier:t,type:i?"upgrade":"downgrade",immediateCharge:i?n.pricing.monthly.amount:0,nextBillingChange:n.pricing.monthly.amount,featuresGained:a,featuresLost:o,requiresMigration:!i,effectiveImmediately:i,confirmationRequired:o.length>0}}async getAnalytics(e){const t=this.getSubscription(e);if(!t)return null;const r=new Date,n=new Date(r.getTime()-1440*60*1e3),i=new Date(r.getTime()-10080*60*1e3),a=new Date(r.getTime()-720*60*60*1e3),o=this.calculateEngagementScore(t),l=this.calculateChurnRisk(o,t);return{userId:e,tier:t.tier,dailyActive:new Date(t.updatedAt)>n,weeklyActive:new Date(t.updatedAt)>i,monthlyActive:new Date(t.updatedAt)>a,mostUsedFeatures:[],entriesCreated:t.usage.painEntries+t.usage.moodEntries,reportsGenerated:t.usage.exportCount,insightsViewed:0,exportsMade:t.usage.exportCount,engagementScore:o,churnRisk:l}}isSubscriptionExpired(e){return e.status==="active"||e.status==="trialing"?!1:e.status==="canceled"&&!e.cancelAtPeriodEnd?new Date>new Date(e.currentPeriodEnd):e.status==="expired"}getMinimumTierForFeature(e){const t=["free","basic","pro","enterprise"];for(const r of t){const i=to[r].features[e];if(typeof i=="boolean"){if(i===!0)return r;continue}if(typeof i=="number"){if(i!==0)return r;continue}if(typeof i=="string")return r}return"enterprise"}getNextTier(e){const t=gA[e];return t.length>0?t[0]:void 0}isUpgrade(e,t){const r=["free","basic","pro","enterprise"];return r.indexOf(t)>r.indexOf(e)}calculatePeriodEnd(e,t){const r=new Date(e);return t==="monthly"?r.setMonth(r.getMonth()+1):t==="yearly"?r.setFullYear(r.getFullYear()+1):r.setFullYear(r.getFullYear()+100),r.toISOString()}calculateTrialEnd(e,t){const r=new Date(e);return r.setDate(r.getDate()+t),r.toISOString()}shouldResetMonthly(e){return["exportCount","apiCalls"].includes(e)}calculateEngagementScore(e){let t=0;e.usage.painEntries>0&&(t+=20),e.usage.painEntries>10&&(t+=10),e.usage.painEntries>50&&(t+=10),e.usage.moodEntries>0&&(t+=10),e.usage.activityLogs>0&&(t+=10),e.usage.exportCount>0&&(t+=10);const r=Math.floor((Date.now()-new Date(e.updatedAt).getTime())/(1e3*60*60*24));return r===0?t+=30:r<=3?t+=20:r<=7&&(t+=10),Math.min(100,t)}calculateChurnRisk(e,t){return t.cancelAtPeriodEnd||e<30?"high":e<60?"medium":"low"}generateSubscriptionId(){return`sub_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}async logBillingEvent(e){const t={id:`evt_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,type:e.type,subscriptionId:e.subscriptionId,userId:e.userId,timestamp:new Date().toISOString(),amount:e.amount,currency:e.currency,metadata:e.metadata};this.billingEvents.push(t)}}const Di=new yA,xA=I.createContext(void 0),vA=({children:s,userId:e})=>{const[t,r]=I.useState(null),[n,i]=I.useState("free"),[a,o]=I.useState(!1),[l,u]=I.useState(null),d=I.useCallback(async E=>{o(!0),u(null);try{let A=await Di.getSubscription(E);A||(A=await Di.createSubscription(E,"free")),r(A),i(A.tier)}catch(A){u(A instanceof Error?A.message:"Failed to initialize subscription"),console.error("Subscription initialization error:",A)}finally{o(!1)}},[]),m=I.useCallback(async()=>{t?.userId&&await d(t.userId)},[t?.userId,d]),p=I.useCallback(async(E,A=!0)=>{if(!t)throw new Error("No active subscription");o(!0),u(null);try{const V=await Di.upgradeTier(t.userId,E,A);return await m(),V}catch(V){const P=V instanceof Error?V.message:"Failed to upgrade subscription";throw u(P),V}finally{o(!1)}},[t,m]),f=I.useCallback(async E=>{if(!t)throw new Error("No active subscription");o(!0),u(null);try{const A=await Di.downgradeTier(t.userId,E);return await m(),A}catch(A){const V=A instanceof Error?A.message:"Failed to downgrade subscription";throw u(V),A}finally{o(!1)}},[t,m]),g=I.useCallback(async(E=!1)=>{if(!t)throw new Error("No active subscription");o(!0),u(null);try{await Di.cancelSubscription(t.userId,E),await m()}catch(A){const V=A instanceof Error?A.message:"Failed to cancel subscription";throw u(V),A}finally{o(!1)}},[t,m]),y=I.useCallback(async()=>{if(!t)throw new Error("No active subscription");o(!0),u(null);try{await Di.reactivateSubscription(t.userId),await m()}catch(E){const A=E instanceof Error?E.message:"Failed to reactivate subscription";throw u(A),E}finally{o(!1)}},[t,m]),v=I.useCallback(async E=>t?Di.checkFeatureAccess(t.userId,E):{hasAccess:!1,reason:"No active subscription",upgradeRequired:"basic"},[t]),N=I.useCallback(E=>{const V=to[n].features[E];return typeof V=="boolean"?V:typeof V=="number"?V!==0:!!V},[n]),D=I.useCallback(async(E,A=1)=>{if(t)try{const V=await Di.trackUsage(t.userId,E,A);V.success&&V.quota&&V.quota.remaining===0&&u(`You've reached your ${E} limit. Consider upgrading your plan.`),await m()}catch(V){console.error("Failed to track usage:",V)}},[t,m]),j=I.useCallback(async()=>t?Di.getAnalytics(t.userId):null,[t]);I.useEffect(()=>{e&&d(e)},[e,d]);const C={subscription:t,currentTier:n,isLoading:a,error:l,initialize:d,upgradeTier:p,downgradeTier:f,cancelSubscription:g,reactivateSubscription:y,checkFeatureAccess:v,hasFeature:N,trackUsage:D,getAnalytics:j,refresh:m};return c.jsxDEV(xA.Provider,{value:C,children:s},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/contexts/SubscriptionContext.tsx",lineNumber:300,columnNumber:10},void 0)},nf=(s,e="polite",t=100)=>{let r=document.getElementById("aria-live-region");r||(r=document.createElement("div"),r.id="aria-live-region",r.setAttribute("aria-live",e),r.setAttribute("aria-atomic","true"),r.className="sr-only",document.body.appendChild(r)),r.getAttribute("aria-live")!==e&&r.setAttribute("aria-live",e),r.textContent="",setTimeout(()=>{r&&(r.textContent=s)},t)},NA=()=>{const s=[{id:"skip-to-main",target:"main-content",text:"Skip to main content"},{id:"skip-to-nav",target:"main-navigation",text:"Skip to navigation"},{id:"skip-to-footer",target:"page-footer",text:"Skip to footer"}];if(document.getElementById("skip-links-container"))return;const t=document.createElement("div");t.id="skip-links-container",t.className="sr-only-focusable",s.forEach(({id:r,target:n,text:i})=>{const a=document.getElementById(n);if(!a)return;const o=document.createElement("a");o.id=r,o.href=`#${n}`,o.textContent=i,o.className="skip-link",o.addEventListener("click",l=>{l.preventDefault(),a.focus(),a.scrollIntoView({behavior:"smooth",block:"start"})}),t.appendChild(o)}),document.body.insertBefore(t,document.body.firstChild)},kA=(s=document.body)=>{s.querySelectorAll("button:not([aria-label])").forEach(n=>{if(!n.textContent?.trim()&&!n.getAttribute("aria-labelledby")){const i=n.querySelector('[class*="icon"]')?.className||"";n.setAttribute("aria-label",`Button with ${i||"no label"}`),console.warn("Button missing aria-label:",n)}}),s.querySelectorAll("a:not([aria-label])").forEach(n=>{if(!n.textContent?.trim()&&!n.getAttribute("aria-labelledby")){const i=n.getAttribute("href");n.setAttribute("aria-label",`Link to ${i||"unknown destination"}`),console.warn("Link missing aria-label:",n)}}),s.querySelectorAll("input:not([aria-label]):not([aria-labelledby])").forEach(n=>{const i=n.getAttribute("id");if(!(i?s.querySelector(`label[for="${i}"]`):null)){const o=n.getAttribute("placeholder");n.setAttribute("aria-label",o||"Input field"),console.warn("Input missing label:",n)}})},DA=(s=document.body)=>{const e=[],t=[],r=s.querySelectorAll("[role]"),n=["alert","alertdialog","application","article","banner","button","checkbox","dialog","grid","gridcell","heading","img","link","list","listbox","listitem","main","menu","menubar","menuitem","navigation","progressbar","radio","radiogroup","region","row","rowheader","search","slider","spinbutton","status","tab","tablist","tabpanel","textbox","toolbar","tooltip","tree","treegrid","treeitem"];return r.forEach(o=>{const l=o.getAttribute("role");l&&!n.includes(l)&&e.push(`Invalid ARIA role: ${l} on element ${o.tagName}`)}),s.querySelectorAll("[aria-labelledby]").forEach(o=>{(o.getAttribute("aria-labelledby")?.split(" ")||[]).forEach(u=>{document.getElementById(u)||t.push(`aria-labelledby references non-existent ID: ${u}`)})}),s.querySelectorAll("[aria-describedby]").forEach(o=>{(o.getAttribute("aria-describedby")?.split(" ")||[]).forEach(u=>{document.getElementById(u)||t.push(`aria-describedby references non-existent ID: ${u}`)})}),{errors:e,warnings:t}},wA=(s={})=>{const{enableValidation:e=!0,enableAutoLabeling:t=!0,announceRouteChanges:r=!0}=s;return I.useEffect(()=>{if(NA(),t){const n=setInterval(()=>{kA()},5e3);return()=>clearInterval(n)}},[t]),I.useEffect(()=>{if(e){const n=setInterval(()=>{const{errors:i,warnings:a}=DA();i.length>0&&console.error("ARIA Validation Errors:",i),a.length>0&&console.warn("ARIA Validation Warnings:",a)},1e4);return()=>clearInterval(n)}},[e]),I.useEffect(()=>{if(r){const n=new MutationObserver(i=>{i.forEach(a=>{if(a.type==="childList"&&a.target===document.body){const o=document.title;nf(`Navigated to: ${o}`,"polite",1e3)}})});return n.observe(document.body,{childList:!0,subtree:!0}),()=>n.disconnect()}},[r]),I.useEffect(()=>{const n=i=>{if((i.ctrlKey||i.metaKey)&&i.key==="/"){i.preventDefault();const a=new CustomEvent("showKeyboardShortcuts");window.dispatchEvent(a)}i.key==="Escape"&&document.querySelector('[role="dialog"][aria-modal="true"]')&&nf("Modal closed","polite")};return document.addEventListener("keydown",n),()=>document.removeEventListener("keydown",n)},[]),{announceMessage:nf}},Pt=s=>typeof s=="string",Xc=()=>{let s,e;const t=new Promise((r,n)=>{s=r,e=n});return t.resolve=s,t.reject=e,t},ub=s=>s==null?"":""+s,PA=(s,e,t)=>{s.forEach(r=>{e[r]&&(t[r]=e[r])})},jA=/###/g,db=s=>s&&s.indexOf("###")>-1?s.replace(jA,"."):s,mb=s=>!s||Pt(s),pl=(s,e,t)=>{const r=Pt(e)?e.split("."):e;let n=0;for(;n<r.length-1;){if(mb(s))return{};const i=db(r[n]);!s[i]&&t&&(s[i]=new t),Object.prototype.hasOwnProperty.call(s,i)?s=s[i]:s={},++n}return mb(s)?{}:{obj:s,k:db(r[n])}},fb=(s,e,t)=>{const{obj:r,k:n}=pl(s,e,Object);if(r!==void 0||e.length===1){r[n]=t;return}let i=e[e.length-1],a=e.slice(0,e.length-1),o=pl(s,a,Object);for(;o.obj===void 0&&a.length;)i=`${a[a.length-1]}.${i}`,a=a.slice(0,a.length-1),o=pl(s,a,Object),o?.obj&&typeof o.obj[`${o.k}.${i}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${i}`]=t},CA=(s,e,t,r)=>{const{obj:n,k:i}=pl(s,e,Object);n[i]=n[i]||[],n[i].push(t)},wd=(s,e)=>{const{obj:t,k:r}=pl(s,e);if(t&&Object.prototype.hasOwnProperty.call(t,r))return t[r]},EA=(s,e,t)=>{const r=wd(s,t);return r!==void 0?r:wd(e,t)},pv=(s,e,t)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in s?Pt(s[r])||s[r]instanceof String||Pt(e[r])||e[r]instanceof String?t&&(s[r]=e[r]):pv(s[r],e[r],t):s[r]=e[r]);return s},qo=s=>s.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var SA={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const AA=s=>Pt(s)?s.replace(/[&<>"'\/]/g,e=>SA[e]):s;class _A{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const UA=[" ",",","?","!",";"],VA=new _A(20),LA=(s,e,t)=>{e=e||"",t=t||"";const r=UA.filter(a=>e.indexOf(a)<0&&t.indexOf(a)<0);if(r.length===0)return!0;const n=VA.getRegExp(`(${r.map(a=>a==="?"?"\\?":a).join("|")})`);let i=!n.test(s);if(!i){const a=s.indexOf(t);a>0&&!n.test(s.substring(0,a))&&(i=!0)}return i},lh=(s,e,t=".")=>{if(!s)return;if(s[e])return Object.prototype.hasOwnProperty.call(s,e)?s[e]:void 0;const r=e.split(t);let n=s;for(let i=0;i<r.length;){if(!n||typeof n!="object")return;let a,o="";for(let l=i;l<r.length;++l)if(l!==i&&(o+=t),o+=r[l],a=n[o],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&l<r.length-1)continue;i+=l-i+1;break}n=a}return n},Tl=s=>s?.replace("_","-"),TA={type:"logger",log(s){this.output("log",s)},warn(s){this.output("warn",s)},error(s){this.output("error",s)},output(s,e){console?.[s]?.apply?.(console,e)}};class Pd{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||TA,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,r,n){return n&&!this.debug?null:(Pt(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new Pd(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Pd(this.logger,e)}}var ti=new Pd;class Yd{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const n=this.observers[r].get(t)||0;this.observers[r].set(t,n+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e,...t){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([n,i])=>{for(let a=0;a<i;a++)n(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([n,i])=>{for(let a=0;a<i;a++)n.apply(n,[e,...t])})}}class hb extends Yd{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,r,n={}){const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,a=n.ignoreJSONStructure!==void 0?n.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;e.indexOf(".")>-1?o=e.split("."):(o=[e,t],r&&(Array.isArray(r)?o.push(...r):Pt(r)&&i?o.push(...r.split(i)):o.push(r)));const l=wd(this.data,o);return!l&&!t&&!r&&e.indexOf(".")>-1&&(e=o[0],t=o[1],r=o.slice(2).join(".")),l||!a||!Pt(r)?l:lh(this.data?.[e]?.[t],r,i)}addResource(e,t,r,n,i={silent:!1}){const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let o=[e,t];r&&(o=o.concat(a?r.split(a):r)),e.indexOf(".")>-1&&(o=e.split("."),n=t,t=o[1]),this.addNamespaces(t),fb(this.data,o,n),i.silent||this.emit("added",e,t,r,n)}addResources(e,t,r,n={silent:!1}){for(const i in r)(Pt(r[i])||Array.isArray(r[i]))&&this.addResource(e,t,i,r[i],{silent:!0});n.silent||this.emit("added",e,t,r)}addResourceBundle(e,t,r,n,i,a={silent:!1,skipCopy:!1}){let o=[e,t];e.indexOf(".")>-1&&(o=e.split("."),n=r,r=t,t=o[1]),this.addNamespaces(t);let l=wd(this.data,o)||{};a.skipCopy||(r=JSON.parse(JSON.stringify(r))),n?pv(l,r,i):l={...l,...r},fb(this.data,o,l),a.silent||this.emit("added",e,t,r)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(n=>t[n]&&Object.keys(t[n]).length>0)}toJSON(){return this.data}}var gv={processors:{},addPostProcessor(s){this.processors[s.name]=s},handle(s,e,t,r,n){return s.forEach(i=>{e=this.processors[i]?.process(e,t,r,n)??e}),e}};const bv=Symbol("i18next/PATH_KEY");function MA(){const s=[],e=Object.create(null);let t;return e.get=(r,n)=>(t?.revoke?.(),n===bv?s:(s.push(n),t=Proxy.revocable(r,e),t.proxy)),Proxy.revocable(Object.create(null),e).proxy}function uh(s,e){const{[bv]:t}=s(MA());return t.join(e?.keySeparator??".")}const pb={},gb=s=>!Pt(s)&&typeof s!="boolean"&&typeof s!="number";class jd extends Yd{constructor(e,t={}){super(),PA(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=ti.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const r={...t};return e==null?!1:this.resolve(e,r)?.res!==void 0}extractFromKey(e,t){let r=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const n=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let i=t.ns||this.options.defaultNS||[];const a=r&&e.indexOf(r)>-1,o=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!LA(e,r,n);if(a&&!o){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:Pt(i)?[i]:i};const u=e.split(r);(r!==n||r===n&&this.options.ns.indexOf(u[0])>-1)&&(i=u.shift()),e=u.join(n)}return{key:e,namespaces:Pt(i)?[i]:i}}translate(e,t,r){let n=typeof t=="object"?{...t}:t;if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),e==null)return"";typeof e=="function"&&(e=uh(e,{...this.options,...n})),Array.isArray(e)||(e=[String(e)]);const i=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,a=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:o,namespaces:l}=this.extractFromKey(e[e.length-1],n),u=l[l.length-1];let d=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;d===void 0&&(d=":");const m=n.lng||this.language,p=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(m?.toLowerCase()==="cimode")return p?i?{res:`${u}${d}${o}`,usedKey:o,exactUsedKey:o,usedLng:m,usedNS:u,usedParams:this.getUsedParamsDetails(n)}:`${u}${d}${o}`:i?{res:o,usedKey:o,exactUsedKey:o,usedLng:m,usedNS:u,usedParams:this.getUsedParamsDetails(n)}:o;const f=this.resolve(e,n);let g=f?.res;const y=f?.usedKey||o,v=f?.exactUsedKey||o,N=["[object Number]","[object Function]","[object RegExp]"],D=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,j=!this.i18nFormat||this.i18nFormat.handleAsObject,C=n.count!==void 0&&!Pt(n.count),E=jd.hasDefaultValue(n),A=C?this.pluralResolver.getSuffix(m,n.count,n):"",V=n.ordinal&&C?this.pluralResolver.getSuffix(m,n.count,{ordinal:!1}):"",P=C&&!n.ordinal&&n.count===0,_=P&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${A}`]||n[`defaultValue${V}`]||n.defaultValue;let O=g;j&&!g&&E&&(O=_);const S=gb(O),L=Object.prototype.toString.apply(O);if(j&&O&&S&&N.indexOf(L)<0&&!(Pt(D)&&Array.isArray(O))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const B=this.options.returnedObjectHandler?this.options.returnedObjectHandler(y,O,{...n,ns:l}):`key '${o} (${this.language})' returned an object instead of string.`;return i?(f.res=B,f.usedParams=this.getUsedParamsDetails(n),f):B}if(a){const B=Array.isArray(O),$=B?[]:{},Z=B?v:y;for(const re in O)if(Object.prototype.hasOwnProperty.call(O,re)){const le=`${Z}${a}${re}`;E&&!g?$[re]=this.translate(le,{...n,defaultValue:gb(_)?_[re]:void 0,joinArrays:!1,ns:l}):$[re]=this.translate(le,{...n,joinArrays:!1,ns:l}),$[re]===le&&($[re]=O[re])}g=$}}else if(j&&Pt(D)&&Array.isArray(g))g=g.join(D),g&&(g=this.extendTranslation(g,e,n,r));else{let B=!1,$=!1;!this.isValidLookup(g)&&E&&(B=!0,g=_),this.isValidLookup(g)||($=!0,g=o);const re=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&$?void 0:g,le=E&&_!==g&&this.options.updateMissing;if($||B||le){if(this.logger.log(le?"updateKey":"missingKey",m,u,o,le?_:g),a){const te=this.resolve(o,{...n,keySeparator:!1});te&&te.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let ee=[];const pe=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&pe&&pe[0])for(let te=0;te<pe.length;te++)ee.push(pe[te]);else this.options.saveMissingTo==="all"?ee=this.languageUtils.toResolveHierarchy(n.lng||this.language):ee.push(n.lng||this.language);const ue=(te,U,H)=>{const G=E&&H!==g?H:re;this.options.missingKeyHandler?this.options.missingKeyHandler(te,u,U,G,le,n):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(te,u,U,G,le,n),this.emit("missingKey",te,u,U,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&C?ee.forEach(te=>{const U=this.pluralResolver.getSuffixes(te,n);P&&n[`defaultValue${this.options.pluralSeparator}zero`]&&U.indexOf(`${this.options.pluralSeparator}zero`)<0&&U.push(`${this.options.pluralSeparator}zero`),U.forEach(H=>{ue([te],o+H,n[`defaultValue${H}`]||_)})}):ue(ee,o,_))}g=this.extendTranslation(g,e,n,f,r),$&&g===o&&this.options.appendNamespaceToMissingKey&&(g=`${u}${d}${o}`),($||B)&&this.options.parseMissingKeyHandler&&(g=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}${d}${o}`:o,B?g:void 0,n))}return i?(f.res=g,f.usedParams=this.getUsedParamsDetails(n),f):g}extendTranslation(e,t,r,n,i){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||n.usedLng,n.usedNS,n.usedKey,{resolved:n});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const l=Pt(e)&&(r?.interpolation?.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let u;if(l){const m=e.match(this.interpolator.nestingRegexp);u=m&&m.length}let d=r.replace&&!Pt(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(d={...this.options.interpolation.defaultVariables,...d}),e=this.interpolator.interpolate(e,d,r.lng||this.language||n.usedLng,r),l){const m=e.match(this.interpolator.nestingRegexp),p=m&&m.length;u<p&&(r.nest=!1)}!r.lng&&n&&n.res&&(r.lng=this.language||n.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...m)=>i?.[0]===m[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${m[0]} in key: ${t[0]}`),null):this.translate(...m,t),r)),r.interpolation&&this.interpolator.reset()}const a=r.postProcess||this.options.postProcess,o=Pt(a)?[a]:a;return e!=null&&o?.length&&r.applyPostProcessor!==!1&&(e=gv.handle(o,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...n,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,t={}){let r,n,i,a,o;return Pt(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(r))return;const u=this.extractFromKey(l,t),d=u.key;n=d;let m=u.namespaces;this.options.fallbackNS&&(m=m.concat(this.options.fallbackNS));const p=t.count!==void 0&&!Pt(t.count),f=p&&!t.ordinal&&t.count===0,g=t.context!==void 0&&(Pt(t.context)||typeof t.context=="number")&&t.context!=="",y=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);m.forEach(v=>{this.isValidLookup(r)||(o=v,!pb[`${y[0]}-${v}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(o)&&(pb[`${y[0]}-${v}`]=!0,this.logger.warn(`key "${n}" for languages "${y.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),y.forEach(N=>{if(this.isValidLookup(r))return;a=N;const D=[d];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(D,d,N,v,t);else{let C;p&&(C=this.pluralResolver.getSuffix(N,t.count,t));const E=`${this.options.pluralSeparator}zero`,A=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(p&&(t.ordinal&&C.indexOf(A)===0&&D.push(d+C.replace(A,this.options.pluralSeparator)),D.push(d+C),f&&D.push(d+E)),g){const V=`${d}${this.options.contextSeparator||"_"}${t.context}`;D.push(V),p&&(t.ordinal&&C.indexOf(A)===0&&D.push(V+C.replace(A,this.options.pluralSeparator)),D.push(V+C),f&&D.push(V+E))}}let j;for(;j=D.pop();)this.isValidLookup(r)||(i=j,r=this.getResource(N,v,j,t))}))})}),{res:r,usedKey:n,exactUsedKey:i,usedLng:a,usedNS:o}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,r,n={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,t,r,n):this.resourceStore.getResource(e,t,r,n)}getUsedParamsDetails(e={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!Pt(e.replace);let n=r?e.replace:e;if(r&&typeof e.count<"u"&&(n.count=e.count),this.options.interpolation.defaultVariables&&(n={...this.options.interpolation.defaultVariables,...n}),!r){n={...n};for(const i of t)delete n[i]}return n}static hasDefaultValue(e){const t="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t===r.substring(0,t.length)&&e[r]!==void 0)return!0;return!1}}class bb{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ti.create("languageUtils")}getScriptPartFromCode(e){if(e=Tl(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=Tl(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(Pt(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(r=>{if(t)return;const n=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(n))&&(t=n)}),!t&&this.options.supportedLngs&&e.forEach(r=>{if(t)return;const n=this.getScriptPartFromCode(r);if(this.isSupportedCode(n))return t=n;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return t=i;t=this.options.supportedLngs.find(a=>{if(a===i)return a;if(!(a.indexOf("-")<0&&i.indexOf("-")<0)&&(a.indexOf("-")>0&&i.indexOf("-")<0&&a.substring(0,a.indexOf("-"))===i||a.indexOf(i)===0&&i.length>1))return a})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),Pt(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}toResolveHierarchy(e,t){const r=this.getFallbackCodes((t===!1?[]:t)||this.options.fallbackLng||[],e),n=[],i=a=>{a&&(this.isSupportedCode(a)?n.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return Pt(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(e))):Pt(e)&&i(this.formatLanguageCode(e)),r.forEach(a=>{n.indexOf(a)<0&&i(this.formatLanguageCode(a))}),n}}const yb={zero:0,one:1,two:2,few:3,many:4,other:5},xb={select:s=>s===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class IA{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=ti.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){const r=Tl(e==="dev"?"en":e),n=t.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:r,type:n});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let a;try{a=new Intl.PluralRules(r,{type:n})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),xb;if(!e.match(/-|_/))return xb;const l=this.languageUtils.getLanguagePartFromCode(e);a=this.getRule(l,t)}return this.pluralRulesCache[i]=a,a}needsPlural(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),r?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,t,r={}){return this.getSuffixes(e,r).map(n=>`${t}${n}`)}getSuffixes(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),r?r.resolvedOptions().pluralCategories.sort((n,i)=>yb[n]-yb[i]).map(n=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${n}`):[]}getSuffix(e,t,r={}){const n=this.getRule(e,r);return n?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${n.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,r))}}const vb=(s,e,t,r=".",n=!0)=>{let i=EA(s,e,t);return!i&&n&&Pt(t)&&(i=lh(s,t,r),i===void 0&&(i=lh(e,t,r))),i},af=s=>s.replace(/\$/g,"$$$$");class RA{constructor(e={}){this.logger=ti.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(t=>t),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:r,useRawValueToEscape:n,prefix:i,prefixEscaped:a,suffix:o,suffixEscaped:l,formatSeparator:u,unescapeSuffix:d,unescapePrefix:m,nestingPrefix:p,nestingPrefixEscaped:f,nestingSuffix:g,nestingSuffixEscaped:y,nestingOptionsSeparator:v,maxReplaces:N,alwaysFormat:D}=e.interpolation;this.escape=t!==void 0?t:AA,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=n!==void 0?n:!1,this.prefix=i?qo(i):a||"{{",this.suffix=o?qo(o):l||"}}",this.formatSeparator=u||",",this.unescapePrefix=d?"":m||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=p?qo(p):f||qo("$t("),this.nestingSuffix=g?qo(g):y||qo(")"),this.nestingOptionsSeparator=v||",",this.maxReplaces=N||1e3,this.alwaysFormat=D!==void 0?D:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,r)=>t?.source===r?(t.lastIndex=0,t):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,t,r,n){let i,a,o;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=f=>{if(f.indexOf(this.formatSeparator)<0){const N=vb(t,l,f,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(N,void 0,r,{...n,...t,interpolationkey:f}):N}const g=f.split(this.formatSeparator),y=g.shift().trim(),v=g.join(this.formatSeparator).trim();return this.format(vb(t,l,y,this.options.keySeparator,this.options.ignoreJSONStructure),v,r,{...n,...t,interpolationkey:y})};this.resetRegExp();const d=n?.missingInterpolationHandler||this.options.missingInterpolationHandler,m=n?.interpolation?.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:f=>af(f)},{regex:this.regexp,safeValue:f=>this.escapeValue?af(this.escape(f)):af(f)}].forEach(f=>{for(o=0;i=f.regex.exec(e);){const g=i[1].trim();if(a=u(g),a===void 0)if(typeof d=="function"){const v=d(e,i,n);a=Pt(v)?v:""}else if(n&&Object.prototype.hasOwnProperty.call(n,g))a="";else if(m){a=i[0];continue}else this.logger.warn(`missed to pass in variable ${g} for interpolating ${e}`),a="";else!Pt(a)&&!this.useRawValueToEscape&&(a=ub(a));const y=f.safeValue(a);if(e=e.replace(i[0],y),m?(f.regex.lastIndex+=a.length,f.regex.lastIndex-=i[0].length):f.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),e}nest(e,t,r={}){let n,i,a;const o=(l,u)=>{const d=this.nestingOptionsSeparator;if(l.indexOf(d)<0)return l;const m=l.split(new RegExp(`${d}[ ]*{`));let p=`{${m[1]}`;l=m[0],p=this.interpolate(p,a);const f=p.match(/'/g),g=p.match(/"/g);((f?.length??0)%2===0&&!g||g.length%2!==0)&&(p=p.replace(/'/g,'"'));try{a=JSON.parse(p),u&&(a={...u,...a})}catch(y){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,y),`${l}${d}${p}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,l};for(;n=this.nestingRegexp.exec(e);){let l=[];a={...r},a=a.replace&&!Pt(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;const u=/{.*}/.test(n[1])?n[1].lastIndexOf("}")+1:n[1].indexOf(this.formatSeparator);if(u!==-1&&(l=n[1].slice(u).split(this.formatSeparator).map(d=>d.trim()).filter(Boolean),n[1]=n[1].slice(0,u)),i=t(o.call(this,n[1].trim(),a),a),i&&n[0]===e&&!Pt(i))return i;Pt(i)||(i=ub(i)),i||(this.logger.warn(`missed to resolve ${n[1]} for nesting ${e}`),i=""),l.length&&(i=l.reduce((d,m)=>this.format(d,m,r.lng,{...r,interpolationkey:n[1].trim()}),i.trim())),e=e.replace(n[0],i),this.regexp.lastIndex=0}return e}}const OA=s=>{let e=s.toLowerCase().trim();const t={};if(s.indexOf("(")>-1){const r=s.split("(");e=r[0].toLowerCase().trim();const n=r[1].substring(0,r[1].length-1);e==="currency"&&n.indexOf(":")<0?t.currency||(t.currency=n.trim()):e==="relativetime"&&n.indexOf(":")<0?t.range||(t.range=n.trim()):n.split(";").forEach(a=>{if(a){const[o,...l]=a.split(":"),u=l.join(":").trim().replace(/^'+|'+$/g,""),d=o.trim();t[d]||(t[d]=u),u==="false"&&(t[d]=!1),u==="true"&&(t[d]=!0),isNaN(u)||(t[d]=parseInt(u,10))}})}return{formatName:e,formatOptions:t}},Nb=s=>{const e={};return(t,r,n)=>{let i=n;n&&n.interpolationkey&&n.formatParams&&n.formatParams[n.interpolationkey]&&n[n.interpolationkey]&&(i={...i,[n.interpolationkey]:void 0});const a=r+JSON.stringify(i);let o=e[a];return o||(o=s(Tl(r),n),e[a]=o),o(t)}},FA=s=>(e,t,r)=>s(Tl(t),r)(e);class BA{constructor(e={}){this.logger=ti.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const r=t.cacheInBuiltFormats?Nb:FA;this.formats={number:r((n,i)=>{const a=new Intl.NumberFormat(n,{...i});return o=>a.format(o)}),currency:r((n,i)=>{const a=new Intl.NumberFormat(n,{...i,style:"currency"});return o=>a.format(o)}),datetime:r((n,i)=>{const a=new Intl.DateTimeFormat(n,{...i});return o=>a.format(o)}),relativetime:r((n,i)=>{const a=new Intl.RelativeTimeFormat(n,{...i});return o=>a.format(o,i.range||"day")}),list:r((n,i)=>{const a=new Intl.ListFormat(n,{...i});return o=>a.format(o)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=Nb(t)}format(e,t,r,n={}){const i=t.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(o=>o.indexOf(")")>-1)){const o=i.findIndex(l=>l.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,o)].join(this.formatSeparator)}return i.reduce((o,l)=>{const{formatName:u,formatOptions:d}=OA(l);if(this.formats[u]){let m=o;try{const p=n?.formatParams?.[n.interpolationkey]||{},f=p.locale||p.lng||n.locale||n.lng||r;m=this.formats[u](o,f,{...d,...n,...p})}catch(p){this.logger.warn(p)}return m}else this.logger.warn(`there was no format function for ${u}`);return o},e)}}const zA=(s,e)=>{s.pending[e]!==void 0&&(delete s.pending[e],s.pendingCount--)};class $A extends Yd{constructor(e,t,r,n={}){super(),this.backend=e,this.store=t,this.services=r,this.languageUtils=r.languageUtils,this.options=n,this.logger=ti.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=n.maxParallelReads||10,this.readingCalls=0,this.maxRetries=n.maxRetries>=0?n.maxRetries:5,this.retryTimeout=n.retryTimeout>=1?n.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(r,n.backend,n)}queueLoad(e,t,r,n){const i={},a={},o={},l={};return e.forEach(u=>{let d=!0;t.forEach(m=>{const p=`${u}|${m}`;!r.reload&&this.store.hasResourceBundle(u,m)?this.state[p]=2:this.state[p]<0||(this.state[p]===1?a[p]===void 0&&(a[p]=!0):(this.state[p]=1,d=!1,a[p]===void 0&&(a[p]=!0),i[p]===void 0&&(i[p]=!0),l[m]===void 0&&(l[m]=!0)))}),d||(o[u]=!0)}),(Object.keys(i).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:n}),{toLoad:Object.keys(i),pending:Object.keys(a),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(l)}}loaded(e,t,r){const n=e.split("|"),i=n[0],a=n[1];t&&this.emit("failedLoading",i,a,t),!t&&r&&this.store.addResourceBundle(i,a,r,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&r&&(this.state[e]=0);const o={};this.queue.forEach(l=>{CA(l.loaded,[i],a),zA(l,e),t&&l.errors.push(t),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(u=>{o[u]||(o[u]={});const d=l.loaded[u];d.length&&d.forEach(m=>{o[u][m]===void 0&&(o[u][m]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(l=>!l.done)}read(e,t,r,n=0,i=this.retryTimeout,a){if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:r,tried:n,wait:i,callback:a});return}this.readingCalls++;const o=(u,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const m=this.waitingReads.shift();this.read(m.lng,m.ns,m.fcName,m.tried,m.wait,m.callback)}if(u&&d&&n<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,r,n+1,i*2,a)},i);return}a(u,d)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const u=l(e,t);u&&typeof u.then=="function"?u.then(d=>o(null,d)).catch(o):o(null,u)}catch(u){o(u)}return}return l(e,t,o)}prepareLoading(e,t,r={},n){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),n&&n();Pt(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Pt(t)&&(t=[t]);const i=this.queueLoad(e,t,r,n);if(!i.toLoad.length)return i.pending.length||n(),null;i.toLoad.forEach(a=>{this.loadOne(a)})}load(e,t,r){this.prepareLoading(e,t,{},r)}reload(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}loadOne(e,t=""){const r=e.split("|"),n=r[0],i=r[1];this.read(n,i,"read",void 0,void 0,(a,o)=>{a&&this.logger.warn(`${t}loading namespace ${i} for language ${n} failed`,a),!a&&o&&this.logger.log(`${t}loaded namespace ${i} for language ${n}`,o),this.loaded(e,a,o)})}saveMissing(e,t,r,n,i,a={},o=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${r}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend?.create){const l={...a,isUpdate:i},u=this.backend.create.bind(this.backend);if(u.length<6)try{let d;u.length===5?d=u(e,t,r,n,l):d=u(e,t,r,n),d&&typeof d.then=="function"?d.then(m=>o(null,m)).catch(o):o(null,d)}catch(d){o(d)}else u(e,t,r,n,o,l)}!e||!e[0]||this.store.addResource(e[0],t,r,n)}}}const kb=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:s=>{let e={};if(typeof s[1]=="object"&&(e=s[1]),Pt(s[1])&&(e.defaultValue=s[1]),Pt(s[2])&&(e.tDescription=s[2]),typeof s[2]=="object"||typeof s[3]=="object"){const t=s[3]||s[2];Object.keys(t).forEach(r=>{e[r]=t[r]})}return e},interpolation:{escapeValue:!0,format:s=>s,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Db=s=>(Pt(s.ns)&&(s.ns=[s.ns]),Pt(s.fallbackLng)&&(s.fallbackLng=[s.fallbackLng]),Pt(s.fallbackNS)&&(s.fallbackNS=[s.fallbackNS]),s.supportedLngs?.indexOf?.("cimode")<0&&(s.supportedLngs=s.supportedLngs.concat(["cimode"])),typeof s.initImmediate=="boolean"&&(s.initAsync=s.initImmediate),s),Bu=()=>{},WA=s=>{Object.getOwnPropertyNames(Object.getPrototypeOf(s)).forEach(t=>{typeof s[t]=="function"&&(s[t]=s[t].bind(s))})};class Ml extends Yd{constructor(e={},t){if(super(),this.options=Db(e),this.services={},this.logger=ti,this.modules={external:[]},WA(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,typeof e=="function"&&(t=e,e={}),e.defaultNS==null&&e.ns&&(Pt(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=kb();this.options={...r,...this.options,...Db(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const n=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?ti.init(n(this.modules.logger),this.options):ti.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:u=BA;const d=new bb(this.options);this.store=new hb(this.options.resources,this.options);const m=this.services;m.logger=ti,m.resourceStore=this.store,m.languageUtils=d,m.pluralResolver=new IA(d,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),u&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(m.formatter=n(u),m.formatter.init&&m.formatter.init(m,this.options),this.options.interpolation.format=m.formatter.format.bind(m.formatter)),m.interpolator=new RA(this.options),m.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},m.backendConnector=new $A(n(this.modules.backend),m.resourceStore,m,this.options),m.backendConnector.on("*",(f,...g)=>{this.emit(f,...g)}),this.modules.languageDetector&&(m.languageDetector=n(this.modules.languageDetector),m.languageDetector.init&&m.languageDetector.init(m,this.options.detection,this.options)),this.modules.i18nFormat&&(m.i18nFormat=n(this.modules.i18nFormat),m.i18nFormat.init&&m.i18nFormat.init(this)),this.translator=new jd(this.services,this.options),this.translator.on("*",(f,...g)=>{this.emit(f,...g)}),this.modules.external.forEach(f=>{f.init&&f.init(this)})}if(this.format=this.options.interpolation.format,t||(t=Bu),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=(...d)=>this.store[u](...d)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=(...d)=>(this.store[u](...d),this)});const o=Xc(),l=()=>{const u=(d,m)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),o.resolve(m),t(d,m)};if(this.languages&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initAsync?l():setTimeout(l,0),o}loadResources(e,t=Bu){let r=t;const n=Pt(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(n?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const i=[],a=o=>{if(!o||o==="cimode")return;this.services.languageUtils.toResolveHierarchy(o).forEach(u=>{u!=="cimode"&&i.indexOf(u)<0&&i.push(u)})};n?a(n):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>a(l)),this.options.preload?.forEach?.(o=>a(o)),this.services.backendConnector.load(i,this.options.ns,o=>{!o&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(o)})}else r(null)}reloadResources(e,t,r){const n=Xc();return typeof e=="function"&&(r=e,e=void 0),typeof t=="function"&&(r=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),r||(r=Bu),this.services.backendConnector.reload(e,t,i=>{n.resolve(),r(i)}),n}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&gv.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let t=0;t<this.languages.length;t++){const r=this.languages[t];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;const r=Xc();this.emit("languageChanging",e);const n=o=>{this.language=o,this.languages=this.services.languageUtils.toResolveHierarchy(o),this.resolvedLanguage=void 0,this.setResolvedLanguage(o)},i=(o,l)=>{l?this.isLanguageChangingTo===e&&(n(l),this.translator.changeLanguage(l),this.isLanguageChangingTo=void 0,this.emit("languageChanged",l),this.logger.log("languageChanged",l)):this.isLanguageChangingTo=void 0,r.resolve((...u)=>this.t(...u)),t&&t(o,(...u)=>this.t(...u))},a=o=>{!e&&!o&&this.services.languageDetector&&(o=[]);const l=Pt(o)?o:o&&o[0],u=this.store.hasLanguageSomeTranslations(l)?l:this.services.languageUtils.getBestMatchFromCodes(Pt(o)?[o]:o);u&&(this.language||n(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector?.cacheUserLanguage?.(u)),this.loadResources(u,d=>{i(d,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),r}getFixedT(e,t,r){const n=(i,a,...o)=>{let l;typeof a!="object"?l=this.options.overloadTranslationOptionHandler([i,a].concat(o)):l={...a},l.lng=l.lng||n.lng,l.lngs=l.lngs||n.lngs,l.ns=l.ns||n.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||n.keyPrefix);const u=this.options.keySeparator||".";let d;return l.keyPrefix&&Array.isArray(i)?d=i.map(m=>(typeof m=="function"&&(m=uh(m,{...this.options,...a})),`${l.keyPrefix}${u}${m}`)):(typeof i=="function"&&(i=uh(i,{...this.options,...a})),d=l.keyPrefix?`${l.keyPrefix}${u}${i}`:i),this.t(d,l)};return Pt(e)?n.lng=e:n.lngs=e,n.ns=t,n.keyPrefix=r,n}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=t.lng||this.resolvedLanguage||this.languages[0],n=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const a=(o,l)=>{const u=this.services.backendConnector.state[`${o}|${l}`];return u===-1||u===0||u===2};if(t.precheck){const o=t.precheck(this,a);if(o!==void 0)return o}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(r,e)&&(!n||a(i,e)))}loadNamespaces(e,t){const r=Xc();return this.options.ns?(Pt(e)&&(e=[e]),e.forEach(n=>{this.options.ns.indexOf(n)<0&&this.options.ns.push(n)}),this.loadResources(n=>{r.resolve(),t&&t(n)}),r):(t&&t(),Promise.resolve())}loadLanguages(e,t){const r=Xc();Pt(e)&&(e=[e]);const n=this.options.preload||[],i=e.filter(a=>n.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return i.length?(this.options.preload=n.concat(i),this.loadResources(a=>{r.resolve(),t&&t(a)}),r):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const n=new Intl.Locale(e);if(n&&n.getTextInfo){const i=n.getTextInfo();if(i&&i.direction)return i.direction}}catch{}const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services?.languageUtils||new bb(kb());return e.toLowerCase().indexOf("-latn")>1?"ltr":t.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){return new Ml(e,t)}cloneInstance(e={},t=Bu){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const n={...this.options,...e,isClone:!0},i=new Ml(n);if((e.debug!==void 0||e.prefix!==void 0)&&(i.logger=i.logger.clone(e)),["store","services","language"].forEach(o=>{i[o]=this[o]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},r){const o=Object.keys(this.store.data).reduce((l,u)=>(l[u]={...this.store.data[u]},l[u]=Object.keys(l[u]).reduce((d,m)=>(d[m]={...l[u][m]},d),l[u]),l),{});i.store=new hb(o,n),i.services.resourceStore=i.store}return i.translator=new jd(i.services,n),i.translator.on("*",(o,...l)=>{i.emit(o,...l)}),i.init(n,t),i.translator.options=n,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Lr=Ml.createInstance();Lr.createInstance=Ml.createInstance;Lr.createInstance;Lr.dir;Lr.init;Lr.loadResources;Lr.reloadResources;Lr.use;Lr.changeLanguage;Lr.getFixedT;Lr.t;Lr.exists;Lr.setDefaultNamespace;Lr.hasLoadedNamespace;Lr.loadNamespaces;Lr.loadLanguages;const{slice:HA,forEach:qA}=[];function GA(s){return qA.call(HA.call(arguments,1),e=>{if(e)for(const t in e)s[t]===void 0&&(s[t]=e[t])}),s}function YA(s){return typeof s!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(t=>t.test(s))}const wb=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,KA=function(s,e){const r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},n=encodeURIComponent(e);let i=`${s}=${n}`;if(r.maxAge>0){const a=r.maxAge-0;if(Number.isNaN(a))throw new Error("maxAge should be a Number");i+=`; Max-Age=${Math.floor(a)}`}if(r.domain){if(!wb.test(r.domain))throw new TypeError("option domain is invalid");i+=`; Domain=${r.domain}`}if(r.path){if(!wb.test(r.path))throw new TypeError("option path is invalid");i+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");i+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(i+="; HttpOnly"),r.secure&&(i+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(i+="; Partitioned"),i},Pb={create(s,e,t,r){let n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};t&&(n.expires=new Date,n.expires.setTime(n.expires.getTime()+t*60*1e3)),r&&(n.domain=r),document.cookie=KA(s,e,n)},read(s){const e=`${s}=`,t=document.cookie.split(";");for(let r=0;r<t.length;r++){let n=t[r];for(;n.charAt(0)===" ";)n=n.substring(1,n.length);if(n.indexOf(e)===0)return n.substring(e.length,n.length)}return null},remove(s,e){this.create(s,"",-1,e)}};var XA={name:"cookie",lookup(s){let{lookupCookie:e}=s;if(e&&typeof document<"u")return Pb.read(e)||void 0},cacheUserLanguage(s,e){let{lookupCookie:t,cookieMinutes:r,cookieDomain:n,cookieOptions:i}=e;t&&typeof document<"u"&&Pb.create(t,s,r,n,i)}},JA={name:"querystring",lookup(s){let{lookupQuerystring:e}=s,t;if(typeof window<"u"){let{search:r}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(r=window.location.hash.substring(window.location.hash.indexOf("?")));const i=r.substring(1).split("&");for(let a=0;a<i.length;a++){const o=i[a].indexOf("=");o>0&&i[a].substring(0,o)===e&&(t=i[a].substring(o+1))}}return t}},ZA={name:"hash",lookup(s){let{lookupHash:e,lookupFromHashIndex:t}=s,r;if(typeof window<"u"){const{hash:n}=window.location;if(n&&n.length>2){const i=n.substring(1);if(e){const a=i.split("&");for(let o=0;o<a.length;o++){const l=a[o].indexOf("=");l>0&&a[o].substring(0,l)===e&&(r=a[o].substring(l+1))}}if(r)return r;if(!r&&t>-1){const a=n.match(/\/([a-zA-Z-]*)/g);return Array.isArray(a)?a[typeof t=="number"?t:0]?.replace("/",""):void 0}}}return r}};let Go=null;const jb=()=>{if(Go!==null)return Go;try{if(Go=typeof window<"u"&&window.localStorage!==null,!Go)return!1;const s="i18next.translate.boo";window.localStorage.setItem(s,"foo"),window.localStorage.removeItem(s)}catch{Go=!1}return Go};var QA={name:"localStorage",lookup(s){let{lookupLocalStorage:e}=s;if(e&&jb())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(s,e){let{lookupLocalStorage:t}=e;t&&jb()&&window.localStorage.setItem(t,s)}};let Yo=null;const Cb=()=>{if(Yo!==null)return Yo;try{if(Yo=typeof window<"u"&&window.sessionStorage!==null,!Yo)return!1;const s="i18next.translate.boo";window.sessionStorage.setItem(s,"foo"),window.sessionStorage.removeItem(s)}catch{Yo=!1}return Yo};var e_={name:"sessionStorage",lookup(s){let{lookupSessionStorage:e}=s;if(e&&Cb())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(s,e){let{lookupSessionStorage:t}=e;t&&Cb()&&window.sessionStorage.setItem(t,s)}},t_={name:"navigator",lookup(s){const e=[];if(typeof navigator<"u"){const{languages:t,userLanguage:r,language:n}=navigator;if(t)for(let i=0;i<t.length;i++)e.push(t[i]);r&&e.push(r),n&&e.push(n)}return e.length>0?e:void 0}},s_={name:"htmlTag",lookup(s){let{htmlTag:e}=s,t;const r=e||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(t=r.getAttribute("lang")),t}},r_={name:"path",lookup(s){let{lookupFromPathIndex:e}=s;if(typeof window>"u")return;const t=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(t)?t[typeof e=="number"?e:0]?.replace("/",""):void 0}},n_={name:"subdomain",lookup(s){let{lookupFromSubdomainIndex:e}=s;const t=typeof e=="number"?e+1:1,r=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(r)return r[t]}};let yv=!1;try{document.cookie,yv=!0}catch{}const xv=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];yv||xv.splice(1,1);const i_=()=>({order:xv,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:s=>s});class vv{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=GA(t,this.options||{},i_()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=n=>n.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(XA),this.addDetector(JA),this.addDetector(QA),this.addDetector(e_),this.addDetector(t_),this.addDetector(s_),this.addDetector(r_),this.addDetector(n_),this.addDetector(ZA)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,t=[];return e.forEach(r=>{if(this.detectors[r]){let n=this.detectors[r].lookup(this.options);n&&typeof n=="string"&&(n=[n]),n&&(t=t.concat(n))}}),t=t.filter(r=>r!=null&&!YA(r)).map(r=>this.options.convertDetectedLanguage(r)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(e,this.options)}))}}vv.type="languageDetector";const a_={save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",loading:"Loading...",error:"Error",success:"Success",yes:"Yes",no:"No",close:"Close",back:"Back",next:"Next",previous:"Previous",export:"Export",import:"Import",print:"Print"},o_={overview:"Overview",comparisons:"Comparisons",heatmap:"Body Heatmap",treatment:"Treatment Timeline",clinical:"Clinical Export"},c_={level:"Pain Level",location:"Location",locations:"Locations",symptoms:"Symptoms",intensity:"Intensity",average:"Average Pain",current:"Current Pain",trend:"Pain Trend",assessment:"Pain Assessment"},l_={title:"Pain Analytics",noData:"No data available",totalEntries:"Total Entries",dateRange:"Date Range",summary:"Summary",details:"Details"},u_={settings:"Accessibility Settings",theme:"Visual Theme",themes:{light:"Light Theme",dark:"Dark Theme",highContrast:"High Contrast"},reducedMotion:"Reduced Motion",enabled:"Enabled",disabled:"Disabled",keyboardTips:"Keyboard Navigation Tips"},d_={common:a_,navigation:o_,pain:c_,analytics:l_,export:{clinical:"Clinical Data Export",visitSummary:"Visit Summary",formats:{standard:"Standard Clinical Export",detailed:"Detailed Comprehensive Export",summary:"Executive Summary Export"}},accessibility:u_},m_={save:"Enregistrer",cancel:"Annuler",delete:"Supprimer",edit:"Modifier",loading:"Chargement...",error:"Erreur",success:"SuccÃ¨s",yes:"Oui",no:"Non",close:"Fermer",back:"Retour",next:"Suivant",previous:"PrÃ©cÃ©dent",export:"Exporter",import:"Importer",print:"Imprimer"},f_={overview:"AperÃ§u",comparisons:"Comparaisons",heatmap:"Carte thermique corporelle",treatment:"Chronologie des traitements",clinical:"Exportation clinique"},h_={level:"Niveau de douleur",location:"Emplacement",locations:"Emplacements",symptoms:"SymptÃ´mes",intensity:"IntensitÃ©",average:"Douleur moyenne",current:"Douleur actuelle",trend:"Tendance de la douleur",assessment:"Ã‰valuation de la douleur"},p_={title:"Analyses de la douleur",noData:"Aucune donnÃ©e disponible",totalEntries:"Total des entrÃ©es",dateRange:"Plage de dates",summary:"RÃ©sumÃ©",details:"DÃ©tails"},g_={settings:"ParamÃ¨tres d'accessibilitÃ©",theme:"ThÃ¨me visuel",themes:{light:"ThÃ¨me clair",dark:"ThÃ¨me sombre",highContrast:"Contraste Ã©levÃ©"},reducedMotion:"Mouvement rÃ©duit",enabled:"ActivÃ©",disabled:"DÃ©sactivÃ©",keyboardTips:"Conseils de navigation au clavier"},b_={common:m_,navigation:f_,pain:h_,analytics:p_,export:{clinical:"Exportation de donnÃ©es cliniques",visitSummary:"RÃ©sumÃ© de visite",formats:{standard:"Exportation clinique standard",detailed:"Exportation complÃ¨te dÃ©taillÃ©e",summary:"Exportation de rÃ©sumÃ© exÃ©cutif"}},accessibility:g_},y_={save:"Guardar",cancel:"Cancelar",delete:"Eliminar",edit:"Editar",loading:"Cargando...",error:"Error",success:"Ã‰xito",yes:"SÃ­",no:"No",close:"Cerrar",back:"AtrÃ¡s",next:"Siguiente",previous:"Anterior",export:"Exportar",import:"Importar",print:"Imprimir"},x_={overview:"Resumen",comparisons:"Comparaciones",heatmap:"Mapa de calor corporal",treatment:"CronologÃ­a de tratamiento",clinical:"ExportaciÃ³n clÃ­nica"},v_={level:"Nivel de dolor",location:"UbicaciÃ³n",locations:"Ubicaciones",symptoms:"SÃ­ntomas",intensity:"Intensidad",average:"Dolor promedio",current:"Dolor actual",trend:"Tendencia del dolor",assessment:"EvaluaciÃ³n del dolor"},N_={title:"AnÃ¡lisis del dolor",noData:"No hay datos disponibles",totalEntries:"Total de entradas",dateRange:"Rango de fechas",summary:"Resumen",details:"Detalles"},k_={settings:"ConfiguraciÃ³n de accesibilidad",theme:"Tema visual",themes:{light:"Tema claro",dark:"Tema oscuro",highContrast:"Alto contraste"},reducedMotion:"Movimiento reducido",enabled:"Habilitado",disabled:"Deshabilitado",keyboardTips:"Consejos de navegaciÃ³n por teclado"},D_={common:y_,navigation:x_,pain:v_,analytics:N_,export:{clinical:"ExportaciÃ³n de datos clÃ­nicos",visitSummary:"Resumen de visita",formats:{standard:"ExportaciÃ³n clÃ­nica estÃ¡ndar",detailed:"ExportaciÃ³n detallada completa",summary:"ExportaciÃ³n de resumen ejecutivo"}},accessibility:k_},w_={en:{translation:d_},fr:{translation:b_},es:{translation:D_}};Lr.use(vv).use(nA).init({resources:w_,fallbackLng:"en",debug:!0,interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator","htmlTag"],caches:["localStorage"]},react:{useSuspense:!1}});const P_={BASE_URL:"/",DEV:!0,MODE:"production",PROD:!1,SSR:!1,VITE_USER_NODE_ENV:"development"};class sc{static instance;installPromptEvent=null;isInstalled=!1;swRegistration=null;isInitialized=!1;capabilities={serviceWorker:!1,pushNotifications:!1,backgroundSync:!1,persistentStorage:!1,installPrompt:!1,fullscreen:!1};constructor(){document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>this.init()):this.init()}static getInstance(){return sc.instance||(sc.instance=new sc),sc.instance}async init(){this.isInitialized||(console.log("PWA: Initializing PWA Manager"),this.checkInstallStatus(),this.setupInstallPromptListener(),await this.detectCapabilities(),await this.registerServiceWorker(),await this.initializeOfflineStorage(),this.setupOnlineOfflineListeners(),this.setupPerformanceMonitoring(),this.isInitialized=!0,this.dispatchCustomEvent("pwa-initialized",{capabilities:this.capabilities}))}async detectCapabilities(){this.capabilities.serviceWorker="serviceWorker"in navigator,this.capabilities.pushNotifications="Notification"in window&&"PushManager"in window,this.capabilities.backgroundSync="serviceWorker"in navigator&&"sync"in window.ServiceWorkerRegistration.prototype,this.capabilities.installPrompt="BeforeInstallPromptEvent"in window,this.capabilities.fullscreen="requestFullscreen"in document.documentElement,"storage"in navigator&&"persist"in navigator.storage&&(this.capabilities.persistentStorage=await navigator.storage.persist())}getCapabilities(){return{...this.capabilities}}async initializeOfflineStorage(){try{const{offlineStorage:e}=await qs(async()=>{const{offlineStorage:t}=await import("./offline-storage-CQ7mII8k.js");return{offlineStorage:t}},[]);if(await e.init(),console.log("PWA: Offline storage initialized"),"storage"in navigator&&"persist"in navigator.storage){const t=await navigator.storage.persist();console.log("PWA: Persistent storage:",t?"granted":"denied"),t&&this.dispatchCustomEvent("pwa-persistent-storage-granted")}}catch(e){console.error("PWA: Failed to initialize offline storage:",e),this.dispatchCustomEvent("pwa-storage-error",{error:e})}}async registerServiceWorker(){if(!this.capabilities.serviceWorker){console.warn("PWA: Service Workers not supported");return}try{const t="/sw.js".replace(/\/+/g,"/");this.swRegistration=await navigator.serviceWorker.register(t,{scope:"/",updateViaCache:"none"}),console.log("PWA: Service Worker registered successfully",this.swRegistration),this.swRegistration.addEventListener("updatefound",()=>{const r=this.swRegistration?.installing;r&&r.addEventListener("statechange",()=>{r.state==="installed"&&(navigator.serviceWorker.controller?this.notifyUpdate():this.notifyInstalled())})}),navigator.serviceWorker.addEventListener("message",r=>{this.handleServiceWorkerMessage(r)}),this.capabilities.backgroundSync&&this.setupBackgroundSync(),this.monitorServiceWorkerPerformance()}catch(e){console.error("PWA: Service Worker registration failed:",e),this.dispatchCustomEvent("pwa-sw-registration-failed",{error:e})}}async __test_registerSW(){this.swRegistration||!this.capabilities.serviceWorker||await this.registerServiceWorker()}handleServiceWorkerMessage(e){const{data:t}=e;switch(t.type){case"SW_UPDATE_AVAILABLE":this.dispatchCustomEvent("pwa-update-available");break;case"SW_OFFLINE_FALLBACK":this.dispatchCustomEvent("pwa-offline-fallback",{url:t.url});break;case"SW_CACHE_UPDATED":this.dispatchCustomEvent("pwa-cache-updated",{cacheName:t.cacheName});break;case"SW_SYNC_COMPLETED":this.dispatchCustomEvent("pwa-sync-completed",{stats:t.stats});break}}monitorServiceWorkerPerformance(){if(!this.swRegistration)return;let e=0,t=0;navigator.serviceWorker.addEventListener("message",r=>{r.data.type==="CACHE_HIT"?e++:r.data.type==="CACHE_MISS"&&t++}),setInterval(()=>{const r=e+t;if(r>0){const n=e/r*100;this.dispatchCustomEvent("pwa-cache-performance",{hitRatio:Number(pa(n,2)),totalRequests:r}),e=0,t=0}},6e4)}setupInstallPromptListener(){window.addEventListener("beforeinstallprompt",e=>{e.preventDefault(),this.installPromptEvent=e,console.log("PWA: Install prompt available"),this.dispatchCustomEvent("pwa-install-available")}),window.addEventListener("appinstalled",()=>{this.isInstalled=!0,this.installPromptEvent=null,console.log("PWA: App installed successfully"),this.dispatchCustomEvent("pwa-installed")})}async showInstallPrompt(){if(!this.installPromptEvent)return!1;try{return await this.installPromptEvent.prompt(),(await this.installPromptEvent.userChoice).outcome==="accepted"?(console.log("PWA: User accepted install prompt"),!0):(console.log("PWA: User dismissed install prompt"),!1)}catch(e){return console.error("PWA: Error showing install prompt:",e),!1}}isInstallPromptAvailable(){return this.installPromptEvent!==null}checkInstallStatus(){window.matchMedia("(display-mode: standalone)").matches&&(this.isInstalled=!0),window.navigator.standalone&&(this.isInstalled=!0)}isAppInstalled(){return this.isInstalled}setupOnlineOfflineListeners(){window.addEventListener("online",async()=>{console.log("PWA: Back online"),await this.handleOnlineStatus(!0),this.dispatchCustomEvent("pwa-online")}),window.addEventListener("offline",()=>{console.log("PWA: Gone offline"),this.handleOnlineStatus(!1),this.dispatchCustomEvent("pwa-offline")}),this.monitorConnectionQuality()}async handleOnlineStatus(e){if(e)try{const{backgroundSync:t}=await qs(async()=>{const{backgroundSync:n}=await import("./background-sync-C0DUYxWS.js");return{backgroundSync:n}},__vite__mapDeps([6,7,2,1,3])),r=t;if(typeof r.forceSync=="function"?await r.forceSync():typeof r.forcSync=="function"&&await r.forcSync(),this.swRegistration?.active&&this.swRegistration.active.postMessage({type:"ONLINE"}),"sync"in this.swRegistration)try{await this.swRegistration.sync.register("pain-tracker-sync")}catch(n){console.error("PWA: Background sync registration failed:",n)}}catch(t){console.error("PWA: Failed to sync data when coming online:",t)}}monitorConnectionQuality(){if("connection"in navigator){const e=navigator.connection,t=()=>{e&&this.dispatchCustomEvent("pwa-connection-change",{effectiveType:e.effectiveType,downlink:e.downlink,rtt:e.rtt,saveData:e.saveData})};e&&typeof e.addEventListener=="function"&&e.addEventListener("change",t),t()}this.startConnectionQualityTests()}startConnectionQualityTests(){setInterval(async()=>{if(!navigator.onLine)return;const e=performance.now();try{const r="/manifest.json".replace(/\/+/g,"/");await fetch(r,{mode:"cors",cache:"no-cache"});const i=performance.now()-e;this.dispatchCustomEvent("pwa-connection-test",{latency:i,quality:i<100?"good":i<500?"moderate":"poor"})}catch{this.dispatchCustomEvent("pwa-connection-test",{latency:-1,quality:"offline"})}},3e4)}setupPerformanceMonitoring(){"performance"in window&&(window.addEventListener("load",()=>{setTimeout(()=>{const t=performance.getEntriesByType("navigation")[0];this.dispatchCustomEvent("pwa-performance-metrics",{loadTime:t.loadEventEnd-t.fetchStart,domContentLoaded:t.domContentLoadedEventEnd-t.fetchStart,firstPaint:this.getFirstPaint(),cacheHitRatio:this.getCacheHitRatio()})},0)}),new PerformanceObserver(t=>{const n=t.getEntries().filter(i=>i.duration>1e3);n.length>0&&this.dispatchCustomEvent("pwa-slow-resources",{resources:n.map(i=>{const a=i;return{name:i.name,duration:i.duration,size:a.transferSize||0}})})}).observe({type:"resource",buffered:!0}))}getFirstPaint(){const t=performance.getEntriesByType("paint").find(r=>r.name==="first-paint");return t?t.startTime:0}getCacheHitRatio(){const e=Ps.get("pwa-cache-hit-ratio");return parseFloat(e||"0")}isOnline(){return navigator.onLine}async requestNotificationPermission(){return"Notification"in window?Notification.permission==="default"?await Notification.requestPermission():Notification.permission:(console.warn("PWA: This browser does not support notifications"),"denied")}async subscribeToPushNotifications(){if(!this.swRegistration)return console.error("PWA: Service Worker not registered"),null;try{if(await this.requestNotificationPermission()!=="granted")return console.warn("PWA: Notification permission not granted"),null;const t=P_?.VITE_VAPID_PUBLIC_KEY;if(!t)return console.error("PWA: VAPID public key not found"),null;const r=await this.swRegistration.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:this.urlBase64ToUint8Array(t).buffer});return console.log("PWA: Push subscription created:",r),r}catch(e){return console.error("PWA: Failed to subscribe to push notifications:",e),null}}async scheduleNotification(e,t,r){!("Notification"in window)||await this.requestNotificationPermission()!=="granted"||setTimeout(()=>{new Notification(e,{body:t,icon:"/icons/icon-192x192.png".replace(/\/+/g,"/"),badge:"/icons/badge-72x72.png".replace(/\/+/g,"/"),tag:"pain-tracker-reminder",requireInteraction:!0})},r)}setupBackgroundSync(){this.swRegistration&&"sync"in this.swRegistration?console.log("PWA: Background sync is supported"):console.log("PWA: Background sync is not supported")}notifyUpdate(){this.dispatchCustomEvent("pwa-update-available")}notifyInstalled(){this.dispatchCustomEvent("pwa-content-cached")}async updateApp(){if(this.swRegistration){const e=this.swRegistration;e.waiting&&(e.waiting.postMessage({type:"SKIP_WAITING"}),window.location.reload())}}dispatchCustomEvent(e,t){const r=new CustomEvent(e,{detail:t});window.dispatchEvent(r)}urlBase64ToUint8Array(e){const t="=".repeat((4-e.length%4)%4),r=(e+t).replace(/-/g,"+").replace(/_/g,"/"),n=window.atob(r),i=new Uint8Array(n.length);for(let a=0;a<n.length;++a)i[a]=n.charCodeAt(a);return i}async clearCaches(){if("caches"in window){const e=await caches.keys();await Promise.all(e.map(t=>caches.delete(t))),console.log("PWA: All caches cleared")}}async getCacheSize(){if(!("storage"in navigator&&"estimate"in navigator.storage))return 0;try{return(await navigator.storage.estimate()).usage||0}catch(e){return console.error("PWA: Failed to get cache size:",e),0}}async exportOfflineData(){try{const{offlineStorage:e}=await qs(async()=>{const{offlineStorage:n}=await import("./offline-storage-CQ7mII8k.js");return{offlineStorage:n}},[]),t=await e.exportData();return{entries:Ps.safeJSON("painEntries",[]),settings:Ps.safeJSON("pain-tracker-settings",{}),timestamp:new Date().toISOString(),syncQueue:t.syncQueue}}catch(e){throw console.error("PWA: Failed to export offline data:",e),e}}async importOfflineData(e){try{if(e.entries&&Ps.set("painEntries",e.entries),e.settings&&Ps.set("pain-tracker-settings",e.settings),e.syncQueue){const{offlineStorage:t}=await qs(async()=>{const{offlineStorage:r}=await import("./offline-storage-CQ7mII8k.js");return{offlineStorage:r}},[]);for(const r of e.syncQueue){const n=r;await t.addToSyncQueue({url:n.url,method:n.method,headers:n.headers||{},body:typeof n.body=="string"?n.body:JSON.stringify(n.body||{}),priority:n.priority||"medium",type:n.type||"sync"})}}console.log("PWA: Data imported successfully"),this.dispatchCustomEvent("pwa-data-imported")}catch(t){throw console.error("PWA: Failed to import offline data:",t),t}}async enableHealthDataSync(){try{return"storage"in navigator&&"persist"in navigator.storage&&!await navigator.storage.persist()?(console.warn("PWA: Persistent storage not granted for health data"),!1):this.swRegistration&&"sync"in this.swRegistration?(await this.swRegistration.sync.register("health-data-sync"),console.log("PWA: Health data background sync enabled"),!0):!1}catch(e){return console.error("PWA: Failed to enable health data sync:",e),!1}}async scheduleHealthReminder(e,t,r){if(!("Notification"in window)){console.warn("PWA: Notifications not supported");return}if(await this.requestNotificationPermission()!=="granted"){console.warn("PWA: Notification permission not granted");return}const i=new Date,a=r.getTime()-i.getTime();if(a<=0){this.showNotification(e,t);return}setTimeout(()=>{this.showNotification(e,t)},a),console.log(`PWA: Health reminder scheduled for ${r.toLocaleString()}`)}showNotification(e,t){new Notification(e,{body:t,icon:"/icons/icon-192x192.png".replace(/\/+/g,"/"),badge:"/icons/badge-72x72.png".replace(/\/+/g,"/"),tag:"health-reminder",requireInteraction:!0,data:{url:"/?reminder=true".replace(/\/+/g,"/"),timestamp:new Date().toISOString()}})}async getDiagnostics(){const{offlineStorage:e}=await qs(async()=>{const{offlineStorage:a}=await import("./offline-storage-CQ7mII8k.js");return{offlineStorage:a}},[]),{backgroundSync:t}=await qs(async()=>{const{backgroundSync:a}=await import("./background-sync-C0DUYxWS.js");return{backgroundSync:a}},__vite__mapDeps([6,7,2,1,3])),r=await e.getStorageUsage(),n=await t.getPendingItemsCount(),i=Ps.get("last-sync-time");return{isInstalled:this.isInstalled,hasServiceWorker:!!this.swRegistration,isOnline:navigator.onLine,storageUsage:r,capabilities:this.capabilities,pendingSyncItems:n,lastSync:i}}async clearPWAData(){try{await this.clearCaches();const{offlineStorage:e}=await qs(async()=>{const{offlineStorage:t}=await import("./offline-storage-CQ7mII8k.js");return{offlineStorage:t}},[]);await e.clearAllData(),Ps.keys().forEach(t=>Ps.remove(t)),console.log("PWA: All PWA data cleared"),this.dispatchCustomEvent("pwa-data-cleared")}catch(e){throw console.error("PWA: Failed to clear PWA data:",e),e}}async resetServiceWorker(){try{if("serviceWorker"in navigator){const e=await navigator.serviceWorker.getRegistrations();await Promise.all(e.map(t=>t.unregister())),console.log("PWA: All service workers unregistered")}await this.clearCaches(),await this.clearPWAData(),console.log("PWA: Service worker completely reset"),this.dispatchCustomEvent("pwa-service-worker-reset")}catch(e){throw console.error("PWA: Failed to reset service worker:",e),e}}async forceRefresh(){try{await this.clearCaches(),window.location.reload()}catch(e){console.error("PWA: Failed to force refresh:",e),window.location.reload()}}async checkForUpdates(){if(!this.swRegistration)return!1;try{return await this.swRegistration.update(),!!this.swRegistration.waiting}catch(e){return console.error("PWA: Failed to check for updates:",e),!1}}}const io=sc.getInstance();function j_(){const[s,e]=I.useState(!1),[t,r]=I.useState(!1);I.useEffect(()=>{const a=()=>{io.isAppInstalled()||e(!0)},o=()=>{e(!1),r(!1)};return io.isInstallPromptAvailable()&&!io.isAppInstalled()&&e(!0),window.addEventListener("pwa-install-available",a),window.addEventListener("pwa-installed",o),()=>{window.removeEventListener("pwa-install-available",a),window.removeEventListener("pwa-installed",o)}},[]);const n=async()=>{r(!0);try{await io.showInstallPrompt()||r(!1)}catch(a){console.error("Failed to install PWA:",a),r(!1)}},i=()=>{e(!1),sessionStorage.setItem("pwa-install-dismissed","true")};return sessionStorage.getItem("pwa-install-dismissed")||!s?null:c.jsxDEV(Ur,{className:"fixed bottom-4 left-4 z-50 shadow-lg border-primary max-w-sm w-[min(92%,420px)]",role:"dialog","aria-label":"Install Pain Tracker",children:c.jsxDEV(ni,{className:"p-4",children:[c.jsxDEV("div",{className:"flex items-start space-x-3",children:[c.jsxDEV("div",{className:"flex-shrink-0",children:c.jsxDEV("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:c.jsxDEV(aw,{className:"h-6 w-6 text-primary"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:74,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:73,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:72,columnNumber:11},this),c.jsxDEV("div",{className:"flex-1 min-w-0",children:[c.jsxDEV("h3",{className:"text-sm font-semibold text-foreground",children:"Install Pain Tracker"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:79,columnNumber:13},this),c.jsxDEV("p",{className:"text-xs text-muted-foreground mt-1",children:"Add to your home screen for quick access and offline use"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:80,columnNumber:13},this),c.jsxDEV("div",{className:"flex items-center space-x-2 mt-3",children:[c.jsxDEV(js,{size:"sm",onClick:n,disabled:t,className:"flex items-center space-x-1",children:[c.jsxDEV(Dn,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:91,columnNumber:17},this),c.jsxDEV("span",{children:t?"Installing...":"Install"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:92,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:85,columnNumber:15},this),c.jsxDEV(js,{variant:"ghost",size:"sm",onClick:i,className:"text-muted-foreground",children:c.jsxDEV(Ii,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:101,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:95,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:84,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:78,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:71,columnNumber:9},this),c.jsxDEV("div",{className:"mt-4 pt-3 border-t border-muted",children:c.jsxDEV("div",{className:"text-xs text-muted-foreground space-y-1",children:[c.jsxDEV("div",{className:"flex items-center space-x-2",children:[c.jsxDEV("div",{className:"w-1 h-1 bg-green-500 rounded-full"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:111,columnNumber:15},this),c.jsxDEV("span",{children:"Works offline"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:112,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:110,columnNumber:13},this),c.jsxDEV("div",{className:"flex items-center space-x-2",children:[c.jsxDEV("div",{className:"w-1 h-1 bg-blue-500 rounded-full"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:115,columnNumber:15},this),c.jsxDEV("span",{children:"Fast app-like experience"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:116,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:114,columnNumber:13},this),c.jsxDEV("div",{className:"flex items-center space-x-2",children:[c.jsxDEV("div",{className:"w-1 h-1 bg-purple-500 rounded-full"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:119,columnNumber:15},this),c.jsxDEV("span",{children:"Reminder notifications"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:120,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:118,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:109,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:108,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:70,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:65,columnNumber:5},this)}function C_(){const[s,e]=I.useState({isOnline:navigator.onLine,pendingSync:0,isSyncing:!1});return I.useEffect(()=>{const t=async()=>{try{const{backgroundSync:o}=await qs(async()=>{const{backgroundSync:d}=await import("./background-sync-C0DUYxWS.js");return{backgroundSync:d}},__vite__mapDeps([6,7,2,1,3])),l=await o.getPendingItemsCount(),{isSyncing:u}=o.getSyncStatus();e(d=>({...d,pendingSync:l,isSyncing:u}))}catch{e(o=>({...o,pendingSync:0,isSyncing:!1}))}},r=()=>{e(o=>({...o,isOnline:!0})),t()},n=()=>e(o=>({...o,isOnline:!1})),i=()=>t();window.addEventListener("online",r),window.addEventListener("offline",n),window.addEventListener("background-sync-sync-completed",i),window.addEventListener("background-sync-sync-started",i),t();const a=setInterval(t,3e4);return()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n),window.removeEventListener("background-sync-sync-completed",i),window.removeEventListener("background-sync-sync-started",i),clearInterval(a)}},[]),s.isOnline&&s.pendingSync===0&&!s.isSyncing?null:c.jsxDEV("div",{className:"fixed bottom-4 right-4 z-50",children:c.jsxDEV("div",{className:"bg-white rounded-lg border shadow-lg border-l-4 border-l-blue-500 p-3 max-w-xs",children:[c.jsxDEV("div",{className:"flex items-center space-x-2",children:[!s.isOnline&&c.jsxDEV("div",{className:"flex items-center space-x-1",children:[c.jsxDEV("div",{className:"w-2 h-2 bg-red-500 rounded-full"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAStatusIndicator.tsx",lineNumber:82,columnNumber:15},this),c.jsxDEV("span",{className:"text-sm font-medium text-red-700",children:"Offline"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAStatusIndicator.tsx",lineNumber:83,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAStatusIndicator.tsx",lineNumber:81,columnNumber:13},this),s.isSyncing&&c.jsxDEV("div",{className:"flex items-center space-x-1",children:[c.jsxDEV("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAStatusIndicator.tsx",lineNumber:88,columnNumber:15},this),c.jsxDEV("span",{className:"text-sm font-medium text-blue-700",children:"Syncing..."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAStatusIndicator.tsx",lineNumber:89,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAStatusIndicator.tsx",lineNumber:87,columnNumber:13},this),s.pendingSync>0&&!s.isSyncing&&c.jsxDEV("div",{className:"flex items-center space-x-1",children:[c.jsxDEV("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAStatusIndicator.tsx",lineNumber:94,columnNumber:15},this),c.jsxDEV("span",{className:"text-sm font-medium text-yellow-700",children:[s.pendingSync," pending"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAStatusIndicator.tsx",lineNumber:95,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAStatusIndicator.tsx",lineNumber:93,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAStatusIndicator.tsx",lineNumber:79,columnNumber:9},this),!s.isOnline&&c.jsxDEV("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:"Your data is saved locally and will sync when you're back online"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAStatusIndicator.tsx",lineNumber:102,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAStatusIndicator.tsx",lineNumber:78,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAStatusIndicator.tsx",lineNumber:77,columnNumber:5},this)}const of={title:"Beta Software Notice",message:"You're running a beta version of Pain Tracker. Please backup your data regularly. This build is intended for testing and feedback. Report issues at the repository issues page.",supportUrl:"https://github.com/CrisisCore-Systems/pain-tracker/issues"},cf="pain-tracker:beta-dismissed";function E_(){const[s,e]=I.useState(!1);I.useEffect(()=>{try{const r=Ps.get(cf);e(r!=="true")}catch{e(!0)}},[]);const t=I.useCallback(()=>{try{Ps.set(cf,"true")}catch{try{localStorage.setItem(cf,"1")}catch{}}e(!1)},[]);return I.useEffect(()=>{if(!s)return;const r=n=>{n.key==="Escape"&&t()};return window.addEventListener("keydown",r),()=>window.removeEventListener("keydown",r)},[s,t]),s?c.jsxDEV("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-[60] max-w-3xl w-full px-4 animate-in fade-in slide-in-from-top-4 duration-300",children:c.jsxDEV("div",{className:"bg-yellow-50 border-2 border-yellow-300 text-yellow-900 rounded-lg p-4 shadow-lg flex items-start justify-between",children:[c.jsxDEV("div",{className:"flex-1",children:[c.jsxDEV("h3",{className:"font-semibold text-base",children:of.title},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/BetaWarning.tsx",lineNumber:50,columnNumber:11},this),c.jsxDEV("p",{className:"text-sm mt-1",children:of.message},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/BetaWarning.tsx",lineNumber:51,columnNumber:11},this),c.jsxDEV("a",{className:"text-xs text-yellow-700 underline mt-2 inline-block hover:text-yellow-800",href:of.supportUrl,target:"_blank",rel:"noreferrer",children:"Report an issue or give feedback"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/BetaWarning.tsx",lineNumber:52,columnNumber:11},this),c.jsxDEV("div",{className:"text-xs text-yellow-600 mt-2 opacity-70",children:["Press"," ",c.jsxDEV("kbd",{className:"px-1.5 py-0.5 bg-yellow-100 rounded border border-yellow-300",children:"Esc"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/BetaWarning.tsx",lineNumber:62,columnNumber:13},this)," ","to dismiss"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/BetaWarning.tsx",lineNumber:60,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/BetaWarning.tsx",lineNumber:49,columnNumber:9},this),c.jsxDEV("div",{className:"ml-4 flex items-start gap-2",children:[c.jsxDEV("button",{"aria-label":"Dismiss beta notice",onClick:t,className:"text-yellow-600 hover:text-yellow-800 p-1 rounded hover:bg-yellow-100 transition-colors",title:"Close (Esc)",children:c.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/BetaWarning.tsx",lineNumber:74,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/BetaWarning.tsx",lineNumber:73,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/BetaWarning.tsx",lineNumber:67,columnNumber:11},this),c.jsxDEV("button",{"aria-label":"Dismiss and don't show again",onClick:t,className:"text-sm bg-yellow-600 text-white px-3 py-1.5 rounded-md hover:bg-yellow-700 transition-colors shadow-sm",children:"Got it"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/BetaWarning.tsx",lineNumber:82,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/BetaWarning.tsx",lineNumber:66,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/BetaWarning.tsx",lineNumber:48,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/BetaWarning.tsx",lineNumber:47,columnNumber:5},this):null}const zu="pain-tracker:notification-consent";function S_(){const[s,e]=I.useState(()=>{try{return localStorage.getItem(zu)}catch{return null}}),{bottomLeft:t}=np();I.useEffect(()=>{s||t.info("Get gentle notifications?","We can notify you about important pain pattern alerts and medication reminders. You can change this later in Settings.",{label:"Allow",onClick:r},{onDismiss:()=>{localStorage.setItem(zu,"dismissed"),e("dismissed")}})},[s,t]);async function r(){try{const n=await Notification.requestPermission();localStorage.setItem(zu,n),e(n)}catch{localStorage.setItem(zu,"denied"),e("denied")}}return null}const $u="pain-tracker:analytics-consent";function A_(){const[s,e]=I.useState(()=>{try{return localStorage.getItem($u)}catch{return null}}),{bottomLeft:t}=np(),r=async()=>{try{localStorage.setItem($u,"granted"),e("granted"),await ic.requestConsent()&&t.success("Thank you!","Your anonymous usage data will help us improve Pain Tracker for everyone.")}catch{localStorage.setItem($u,"error"),e("error")}};return I.useEffect(()=>{if(!s){const n=setTimeout(()=>{t.info("Help improve Pain Tracker?","We'd like to collect anonymous usage data to improve the app. Your pain data stays private and local. No personal information is collected.",{label:"Allow",onClick:r},{onDismiss:()=>{localStorage.setItem($u,"declined"),e("declined"),ic.updatePrivacyConfig({enableAnalytics:!1})}})},2e3);return()=>clearTimeout(n)}},[s,t,r]),null}let so=null,Wu=null;async function ol(){return so&&typeof so.crypto_pwhash=="function"?so:(so&&(console.warn("[sodium] Clearing invalid cached instance"),so=null,Wu=null),Wu||(Wu=(async()=>{console.log("[sodium] Starting initialization (SUMO version)...");const s=await qs(()=>import("./libsodium-wrappers-DhqTdZPT.js").then(t=>t.l),__vite__mapDeps([8,2]));console.log("[sodium] Module type:",typeof s),console.log("[sodium] Module.default type:",typeof s.default);const e=s.default||s;if(console.log("[sodium] Waiting for ready..."),await e.ready,console.log("[sodium] Library initialized successfully"),console.log("[sodium] crypto_pwhash type:",typeof e.crypto_pwhash),console.log("[sodium] crypto_pwhash_str type:",typeof e.crypto_pwhash_str),console.log("[sodium] crypto_pwhash_SALTBYTES:",e.crypto_pwhash_SALTBYTES),typeof e.crypto_pwhash!="function")throw new Error("[sodium] crypto_pwhash function not available even in SUMO version!");return so=e,e})()),Wu)}function __(){return so}const Jc="vault:metadata",U_="3.0.0",Yn=1;function V_(s){if(s==null)throw new TypeError("encryptString: message is null/undefined");if(s instanceof Uint8Array)return s;if(typeof Buffer<"u"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(s))return new Uint8Array(s.buffer,s.byteOffset,s.byteLength);if(ArrayBuffer.isView(s)){const t=s;return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}if(s instanceof ArrayBuffer)return new Uint8Array(s);const e=new TextEncoder;return typeof s=="string"?e.encode(s):e.encode(JSON.stringify(s))}async function Eb(){await ol()}function L_(s){try{const e=JSON.parse(s);return typeof e=="object"&&e?.v==="xchacha20-poly1305"&&typeof e?.c=="string"&&typeof e?.n=="string"}catch{return!1}}class T_{status={state:"uninitialized",metadata:null,sodiumReady:!1};key=null;listeners=new Set;initialized=!1;async initialize(){if(this.initialized)return this.status;try{await ol(),this.status.sodiumReady=!0}catch(t){return this.logEvent("error","Failed to initialize libsodium",{error:t instanceof Error?t.message:"unknown"}),this.status.state="error",this.status}const e=this.loadMetadata();return e?this.status={state:"locked",metadata:e,sodiumReady:!0}:this.status={state:"uninitialized",metadata:null,sodiumReady:!0},this.initialized=!0,this.emit(),this.status}onChange(e){return this.listeners.add(e),e(this.status),()=>{this.listeners.delete(e)}}getStatus(){return this.status}async setupPassphrase(e){if(!e||e.length<12)throw new Error("Passphrase must be at least 12 characters.");await Eb();const t=await ol();console.log("[VaultService] Sodium instance retrieved:",{sodiumType:typeof t,hasCryptoPwhash:typeof t.crypto_pwhash,hasCryptoPwhashStr:typeof t.crypto_pwhash_str,saltBytes:t.crypto_pwhash_SALTBYTES});const r=t.crypto_pwhash_SALTBYTES,n=Number.isInteger(r)&&r>0?r:16;n!==r&&this.logEvent("warning","Using fallback salt length",{configuredSaltBytes:r,saltBytes:n});const i=t.randombytes_buf(n),a=t.crypto_pwhash_OPSLIMIT_MODERATE,o=t.crypto_pwhash_MEMLIMIT_MODERATE,l=t.crypto_aead_xchacha20poly1305_ietf_KEYBYTES;console.log("[VaultService] Creating vault with:",{passphraseType:typeof e,passphraseLength:e?.length,keyLength:l,opslimit:a,memlimit:o,saltLength:i.length});const u=t.crypto_pwhash(l,e,i,a,o,t.crypto_pwhash_ALG_ARGON2ID13);console.log("[VaultService] Key derived, creating verification hash...");const d=t.crypto_pwhash_str(e,a,o);console.log("[VaultService] Verification hash created:",d?.length);const m={version:U_,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),derivation:{algorithm:"argon2id",salt:t.to_base64(i,Yn),opslimit:a,memlimit:o,keyLength:l},verification:{algorithm:"argon2id",hash:d},cipher:{algorithm:"xchacha20-poly1305",nonceLength:t.crypto_aead_xchacha20poly1305_ietf_NPUBBYTES},migrations:{}};if(!Ps.set(Jc,m).success)throw new Error("Failed to persist vault metadata.");this.key=u,this.status={state:"unlocked",metadata:m,sodiumReady:!0},this.applyGlobalHooks(),await this.migrateLegacyStorage(),this.logEvent("info","Vault passphrase initialized"),this.emit()}async unlock(e){if(!e)throw new Error("Passphrase is required.");await this.initialize(),await Eb();const{metadata:t}=this.status;if(!t)throw new Error("Vault not configured.");const r=await ol();let n=!1;try{n=r.crypto_pwhash_str_verify(t.verification.hash,e)}catch(o){throw this.logEvent("error",`Passphrase verification error: ${o}`),new Error("Passphrase verification failed.")}if(!n)throw this.logEvent("warning","Vault unlock attempt failed"),new Error("Incorrect passphrase.");const i=r.from_base64(t.derivation.salt,Yn);(!(i instanceof Uint8Array)||i.length<=0)&&this.logEvent("error","Derived salt invalid",{actual:i?.length});const a=r.crypto_pwhash(t.derivation.keyLength,e,i,t.derivation.opslimit,t.derivation.memlimit,r.crypto_pwhash_ALG_ARGON2ID13);this.key=a,this.status={...this.status,state:"unlocked"},this.applyGlobalHooks(),await this.migrateLegacyStorage(),this.logEvent("info","Vault unlocked"),this.emit()}lock(){this.key&&ol().then(e=>{e.memzero(this.key)}).catch(()=>{}),this.key=null,delete globalThis.__secureStorageEncrypt,delete globalThis.__secureStorageDecrypt,this.status.state!=="uninitialized"&&(this.status={...this.status,state:"locked"},this.emit()),this.logEvent("info","Vault locked")}isUnlocked(){return this.status.state==="unlocked"&&!!this.key}encryptString(e){if(!this.key)throw new Error("encryptString: key not set");if(!this.status.sodiumReady)throw new Error("encryptString: libsodium not ready");const t=this.assertSodium(),r=this.key;if(!(r instanceof Uint8Array)||r.length!==t.crypto_aead_xchacha20poly1305_ietf_KEYBYTES)throw new Error("encryptString: invalid key type/length");const n=V_(e),i=t.crypto_aead_xchacha20poly1305_ietf_NPUBBYTES;if(!Number.isInteger(i)||i<=0)throw new Error("encryptString: invalid nonce length constant");const a=t.randombytes_buf(i),o=ArrayBuffer.isView(n)?new Uint8Array(n.buffer,n.byteOffset,n.byteLength):n,l=t.crypto_aead_xchacha20poly1305_ietf_encrypt(o,null,null,a,r);return JSON.stringify({v:"xchacha20-poly1305",n:t.to_base64(a,Yn),c:t.to_base64(l,Yn)})}decryptString(e){if(!this.key)throw new Error("decryptString: key not set");if(!this.status.sodiumReady)throw new Error("decryptString: libsodium not ready");const t=this.assertSodium();try{const r=JSON.parse(e);if(r?.v!=="xchacha20-poly1305")return e;const n=this.key,i=t.from_base64(r.n,Yn),a=t.from_base64(r.c,Yn),o=t.crypto_aead_xchacha20poly1305_ietf_decrypt(null,a,null,i,n);return t.to_string(o)}catch{return e}}encryptBytes(e){if(!this.key)throw new Error("Vault is locked.");const t=this.assertSodium(),r=t.crypto_aead_xchacha20poly1305_ietf_NPUBBYTES;if(!Number.isInteger(r)||r<=0)throw new Error("encryptBytes: invalid nonce length constant");const n=t.randombytes_buf(r),i=t.crypto_aead_xchacha20poly1305_ietf_encrypt(e,null,null,n,this.key);return{nonce:t.to_base64(n,Yn),cipher:t.to_base64(i,Yn)}}decryptBytes(e){if(!this.key)throw new Error("Vault is locked.");const t=this.assertSodium(),r=t.from_base64(e.nonce,Yn),n=t.from_base64(e.cipher,Yn);return t.crypto_aead_xchacha20poly1305_ietf_decrypt(null,n,null,r,this.key)}clearAll(){Ps.remove(Jc),this.lock(),this.status={state:"uninitialized",metadata:null,sodiumReady:this.status.sodiumReady},this.emit()}emit(){for(const e of this.listeners)e(this.status)}loadMetadata(){try{const e=Ps.get(Jc);return e||null}catch{return null}}async migrateLegacyStorage(){if(!this.key||!this.status.metadata)return;let e=0,t=0;for(let r=0;r<localStorage.length;r++){const n=localStorage.key(r);if(!n||!n.startsWith("pt:")||n===`pt:${Jc}`)continue;const i=localStorage.getItem(n);if(typeof i!="string"||i.length===0){t+=1;continue}if(!L_(i))try{const a=this.encryptString(i);localStorage.setItem(n,a),e+=1}catch(a){t+=1,this.logEvent("warning","Failed to migrate legacy secureStorage entry",{key:n,error:a instanceof Error?a.message:"unknown"})}}if(e>0||t>0){const r={...this.status.metadata,migrations:{...this.status.metadata?.migrations,legacyCompletedAt:new Date().toISOString()},updatedAt:new Date().toISOString()};Ps.set(Jc,r).success||this.logEvent("warning","Failed to update vault metadata after migration"),this.status={...this.status,metadata:r},this.logEvent("info","Legacy storage re-encrypted",{reencrypted:e,skipped:t})}}applyGlobalHooks(){this.key&&(globalThis.__secureStorageEncrypt=e=>this.encryptString(e),globalThis.__secureStorageDecrypt=e=>this.decryptString(e))}assertSodium(){const e=__();if(!e)throw new Error("libsodium not ready");return e}logEvent(e,t,r){try{Br.logSecurityEvent({type:"vault",level:e,message:t,metadata:r,timestamp:new Date})}catch{}}}const ao=new T_;function M_(s){return ao.onChange(()=>s())}function Sb(){return ao.getStatus()}function I_(){const s=I.useSyncExternalStore(M_,Sb,Sb);return I.useEffect(()=>{ao.initialize()},[]),s}function R_(){return{status:I_(),setupPassphrase:e=>ao.setupPassphrase(e),unlock:e=>ao.unlock(e),lock:()=>ao.lock(),clearAll:()=>ao.clearAll()}}const Hu=12,Ab=({children:s})=>{const{status:e,setupPassphrase:t,unlock:r,lock:n,clearAll:i}=R_(),[a,o]=I.useState(""),[l,u]=I.useState(""),[d,m]=I.useState(null),[p,f]=I.useState(!1),g=I.useRef(null),[y,v]=I.useState(!1);I.useEffect(()=>{(e.state==="uninitialized"||e.state==="locked")&&setTimeout(()=>{g.current?.focus()},50)},[e.state]);const N=()=>{o(""),u(""),m(null)},D=async P=>{if(P.preventDefault(),!p){if(a!==l){m("Passphrases must match.");return}if(a.length<Hu){m(`Passphrase must be at least ${Hu} characters long.`);return}f(!0),m(null);try{await t(a),N()}catch(_){m(_ instanceof Error?_.message:"Unable to initialize vault.")}finally{f(!1)}}},j=async P=>{if(P.preventDefault(),!p){if(!a){m("Please enter your secure passphrase.");return}f(!0),m(null);try{await r(a),N()}catch(_){m(_ instanceof Error?_.message:"Unable to unlock vault.")}finally{f(!1)}}},C=async()=>{window.confirm("Resetting the secure vault will permanently remove all locally stored entries and settings. This action cannot be undone. Do you want to continue?")&&(i(),n(),N())},E=()=>c.jsxDEV("form",{onSubmit:D,className:"space-y-6","aria-labelledby":"vault-setup-title",children:[c.jsxDEV("div",{children:[c.jsxDEV("h2",{id:"vault-setup-title",className:"text-2xl font-semibold text-gray-900 dark:text-gray-100",children:"Create a secure passphrase"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:93,columnNumber:9},void 0),c.jsxDEV("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Choose a gentle yet strong passphrase that you will remember. It protects your pain entries and personal notes on this device. For security, your passphrase is never stored anywhere."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:99,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:92,columnNumber:7},void 0),c.jsxDEV("div",{className:"space-y-4",children:[c.jsxDEV("label",{className:"block",htmlFor:"vault-passphrase",children:[c.jsxDEV("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Passphrase"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:108,columnNumber:11},void 0),c.jsxDEV("input",{id:"vault-passphrase",ref:g,type:y?"text":"password",value:a,onChange:P=>o(P.target.value),className:"mt-1 block w-full rounded-md border border-gray-300 dark:border-gray-600 px-3 py-2 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500",minLength:Hu,"aria-describedby":"vault-passphrase-help",autoComplete:"new-password",required:!0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:109,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:107,columnNumber:9},void 0),c.jsxDEV("p",{id:"vault-passphrase-help",className:"text-xs text-gray-500 dark:text-gray-400",children:["Use at least ",Hu," characters. Short sentences or unique phrases are often easiest to recall."]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:122,columnNumber:9},void 0),c.jsxDEV("label",{className:"block",htmlFor:"vault-passphrase-confirm",children:[c.jsxDEV("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Confirm passphrase"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:128,columnNumber:11},void 0),c.jsxDEV("input",{id:"vault-passphrase-confirm",type:y?"text":"password",value:l,onChange:P=>u(P.target.value),className:"mt-1 block w-full rounded-md border border-gray-300 dark:border-gray-600 px-3 py-2 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500",autoComplete:"new-password",required:!0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:131,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:127,columnNumber:9},void 0),c.jsxDEV("button",{type:"button",onClick:()=>v(P=>!P),className:"text-sm text-indigo-600 hover:text-indigo-500 focus:outline-none",children:y?"Hide passphrase":"Show passphrase"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:142,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:106,columnNumber:7},void 0),d&&c.jsxDEV("div",{role:"alert",className:"rounded-md bg-red-50 p-3 text-sm text-red-700 border border-red-100",children:d},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:152,columnNumber:9},void 0),c.jsxDEV("div",{className:"flex flex-col space-y-3 sm:flex-row sm:space-y-0 sm:space-x-3",children:[c.jsxDEV("button",{type:"submit",className:"inline-flex items-center justify-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-60",disabled:p,children:p?"Securing...":"Create secure vault"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:161,columnNumber:9},void 0),c.jsxDEV("button",{type:"button",onClick:N,className:"inline-flex items-center justify-center rounded-md border border-gray-300 dark:border-gray-600 bg-white px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 shadow-sm hover:bg-gray-50 dark:bg-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:"Clear fields"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:168,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:160,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:91,columnNumber:5},void 0),A=()=>c.jsxDEV("form",{onSubmit:j,className:"space-y-6","aria-labelledby":"vault-unlock-title",children:[c.jsxDEV("div",{className:"flex items-start justify-between",children:[c.jsxDEV("div",{children:[c.jsxDEV("h2",{id:"vault-unlock-title",className:"text-2xl font-semibold text-gray-900 dark:text-gray-100",children:"Unlock secure vault"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:183,columnNumber:11},void 0),c.jsxDEV("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Enter your trusted passphrase to access encrypted pain entries and preferences."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:189,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:182,columnNumber:9},void 0),c.jsxDEV("button",{type:"button",onClick:C,className:"text-sm text-red-600 hover:text-red-500 focus:outline-none",children:"Reset vault"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:193,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:181,columnNumber:7},void 0),c.jsxDEV("div",{className:"space-y-4",children:[c.jsxDEV("label",{className:"block",htmlFor:"vault-passphrase-unlock",children:[c.jsxDEV("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Passphrase"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:204,columnNumber:11},void 0),c.jsxDEV("input",{id:"vault-passphrase-unlock",ref:g,type:y?"text":"password",value:a,onChange:P=>o(P.target.value),className:"mt-1 block w-full rounded-md border border-gray-300 dark:border-gray-600 px-3 py-2 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500",autoComplete:"current-password",required:!0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:205,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:203,columnNumber:9},void 0),c.jsxDEV("button",{type:"button",onClick:()=>v(P=>!P),className:"text-sm text-indigo-600 hover:text-indigo-500 focus:outline-none",children:y?"Hide passphrase":"Show passphrase"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:216,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:202,columnNumber:7},void 0),d&&c.jsxDEV("div",{role:"alert",className:"rounded-md bg-yellow-50 p-3 text-sm text-yellow-800 border border-yellow-100",children:d},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:226,columnNumber:9},void 0),c.jsxDEV("div",{className:"flex flex-col space-y-3 sm:flex-row sm:space-y-0 sm:space-x-3",children:[c.jsxDEV("button",{type:"submit",className:"inline-flex items-center justify-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-60",disabled:p,children:p?"Unlocking...":"Unlock vault"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:235,columnNumber:9},void 0),c.jsxDEV("button",{type:"button",onClick:()=>{N(),setTimeout(()=>g.current?.focus(),50)},className:"inline-flex items-center justify-center rounded-md border border-gray-300 dark:border-gray-600 bg-white px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 shadow-sm hover:bg-gray-50 dark:bg-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:"Try again"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:242,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:234,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:180,columnNumber:5},void 0),V=()=>e.sodiumReady?e.state==="unlocked"?c.jsxDEV(c.Fragment,{children:s},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:271,columnNumber:14},void 0):c.jsxDEV("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900 dark:bg-slate-100/80 px-4",role:"dialog","aria-modal":"true","aria-labelledby":"vault-dialog-title",children:c.jsxDEV("div",{className:"w-full max-w-lg rounded-xl bg-white p-6 shadow-2xl focus:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500",children:[c.jsxDEV("div",{className:"flex items-center justify-between mb-6",children:[c.jsxDEV("div",{children:[c.jsxDEV("h1",{id:"vault-dialog-title",className:"text-3xl font-semibold text-gray-900 dark:text-gray-100",children:"Secure vault"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:284,columnNumber:15},void 0),c.jsxDEV("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"End-to-end encrypted storage protects your story and wellbeing."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:290,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:283,columnNumber:13},void 0),c.jsxDEV("span",{"aria-hidden":"true",className:"inline-flex h-10 w-10 items-center justify-center rounded-full bg-indigo-50 text-indigo-600 text-lg font-semibold",children:"ðŸ”’"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:294,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:282,columnNumber:11},void 0),c.jsxDEV("div",{children:e.state==="uninitialized"?E():A()},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:301,columnNumber:11},void 0),c.jsxDEV("p",{className:"mt-6 text-xs text-gray-500 dark:text-gray-400",children:"Tip: If you ever need to safely reset the vault, choose â€œReset vaultâ€. This keeps your account secure but removes local data from this device."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:302,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:281,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:275,columnNumber:7},void 0):c.jsxDEV("div",{className:"text-center",children:[c.jsxDEV("p",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Preparing secure vaultâ€¦"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:260,columnNumber:11},void 0),c.jsxDEV("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Loading privacy protections. Thank you for your patience."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:263,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:259,columnNumber:9},void 0);return c.jsxDEV(c.Fragment,{children:e.state==="unlocked"?s:V()},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:311,columnNumber:10},void 0)};var lf={exports:{}},uf={exports:{}},rs={},_b;function O_(){if(_b)return rs;_b=1;return(function(){var s=typeof Symbol=="function"&&Symbol.for,e=s?Symbol.for("react.element"):60103,t=s?Symbol.for("react.portal"):60106,r=s?Symbol.for("react.fragment"):60107,n=s?Symbol.for("react.strict_mode"):60108,i=s?Symbol.for("react.profiler"):60114,a=s?Symbol.for("react.provider"):60109,o=s?Symbol.for("react.context"):60110,l=s?Symbol.for("react.async_mode"):60111,u=s?Symbol.for("react.concurrent_mode"):60111,d=s?Symbol.for("react.forward_ref"):60112,m=s?Symbol.for("react.suspense"):60113,p=s?Symbol.for("react.suspense_list"):60120,f=s?Symbol.for("react.memo"):60115,g=s?Symbol.for("react.lazy"):60116,y=s?Symbol.for("react.block"):60121,v=s?Symbol.for("react.fundamental"):60117,N=s?Symbol.for("react.responder"):60118,D=s?Symbol.for("react.scope"):60119;function j(xe){return typeof xe=="string"||typeof xe=="function"||xe===r||xe===u||xe===i||xe===n||xe===m||xe===p||typeof xe=="object"&&xe!==null&&(xe.$$typeof===g||xe.$$typeof===f||xe.$$typeof===a||xe.$$typeof===o||xe.$$typeof===d||xe.$$typeof===v||xe.$$typeof===N||xe.$$typeof===D||xe.$$typeof===y)}function C(xe){if(typeof xe=="object"&&xe!==null){var Ie=xe.$$typeof;switch(Ie){case e:var De=xe.type;switch(De){case l:case u:case r:case i:case n:case m:return De;default:var W=De&&De.$$typeof;switch(W){case o:case d:case g:case f:case a:return W;default:return Ie}}case t:return Ie}}}var E=l,A=u,V=o,P=a,_=e,O=d,S=r,L=g,B=f,$=t,Z=i,re=n,le=m,ee=!1;function pe(xe){return ee||(ee=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),ue(xe)||C(xe)===l}function ue(xe){return C(xe)===u}function te(xe){return C(xe)===o}function U(xe){return C(xe)===a}function H(xe){return typeof xe=="object"&&xe!==null&&xe.$$typeof===e}function G(xe){return C(xe)===d}function se(xe){return C(xe)===r}function ne(xe){return C(xe)===g}function ae(xe){return C(xe)===f}function he(xe){return C(xe)===t}function me(xe){return C(xe)===i}function ge(xe){return C(xe)===n}function Pe(xe){return C(xe)===m}rs.AsyncMode=E,rs.ConcurrentMode=A,rs.ContextConsumer=V,rs.ContextProvider=P,rs.Element=_,rs.ForwardRef=O,rs.Fragment=S,rs.Lazy=L,rs.Memo=B,rs.Portal=$,rs.Profiler=Z,rs.StrictMode=re,rs.Suspense=le,rs.isAsyncMode=pe,rs.isConcurrentMode=ue,rs.isContextConsumer=te,rs.isContextProvider=U,rs.isElement=H,rs.isForwardRef=G,rs.isFragment=se,rs.isLazy=ne,rs.isMemo=ae,rs.isPortal=he,rs.isProfiler=me,rs.isStrictMode=ge,rs.isSuspense=Pe,rs.isValidElementType=j,rs.typeOf=C})(),rs}var Ub;function Nv(){return Ub||(Ub=1,uf.exports=O_()),uf.exports}var df,Vb;function F_(){if(Vb)return df;Vb=1;var s=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable;function r(i){if(i==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(i)}function n(){try{if(!Object.assign)return!1;var i=new String("abc");if(i[5]="de",Object.getOwnPropertyNames(i)[0]==="5")return!1;for(var a={},o=0;o<10;o++)a["_"+String.fromCharCode(o)]=o;var l=Object.getOwnPropertyNames(a).map(function(d){return a[d]});if(l.join("")!=="0123456789")return!1;var u={};return"abcdefghijklmnopqrst".split("").forEach(function(d){u[d]=d}),Object.keys(Object.assign({},u)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return df=n()?Object.assign:function(i,a){for(var o,l=r(i),u,d=1;d<arguments.length;d++){o=Object(arguments[d]);for(var m in o)e.call(o,m)&&(l[m]=o[m]);if(s){u=s(o);for(var p=0;p<u.length;p++)t.call(o,u[p])&&(l[u[p]]=o[u[p]])}}return l},df}var mf,Lb;function kv(){if(Lb)return mf;Lb=1;var s="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return mf=s,mf}var ff,Tb;function Dv(){return Tb||(Tb=1,ff=Function.call.bind(Object.prototype.hasOwnProperty)),ff}var hf,Mb;function B_(){if(Mb)return hf;Mb=1;var s=function(){};{var e=kv(),t={},r=Dv();s=function(i){var a="Warning: "+i;typeof console<"u"&&console.error(a);try{throw new Error(a)}catch{}}}function n(i,a,o,l,u){for(var d in i)if(r(i,d)){var m;try{if(typeof i[d]!="function"){var p=Error((l||"React class")+": "+o+" type `"+d+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof i[d]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw p.name="Invariant Violation",p}m=i[d](a,d,l,o,null,e)}catch(g){m=g}if(m&&!(m instanceof Error)&&s((l||"React class")+": type specification of "+o+" `"+d+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof m+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),m instanceof Error&&!(m.message in t)){t[m.message]=!0;var f=u?u():"";s("Failed "+o+" type: "+m.message+(f??""))}}}return n.resetWarningCache=function(){t={}},hf=n,hf}var pf,Ib;function z_(){if(Ib)return pf;Ib=1;var s=Nv(),e=F_(),t=kv(),r=Dv(),n=B_(),i=function(){};i=function(o){var l="Warning: "+o;typeof console<"u"&&console.error(l);try{throw new Error(l)}catch{}};function a(){return null}return pf=function(o,l){var u=typeof Symbol=="function"&&Symbol.iterator,d="@@iterator";function m(ue){var te=ue&&(u&&ue[u]||ue[d]);if(typeof te=="function")return te}var p="<<anonymous>>",f={array:N("array"),bigint:N("bigint"),bool:N("boolean"),func:N("function"),number:N("number"),object:N("object"),string:N("string"),symbol:N("symbol"),any:D(),arrayOf:j,element:C(),elementType:E(),instanceOf:A,node:O(),objectOf:P,oneOf:V,oneOfType:_,shape:L,exact:B};function g(ue,te){return ue===te?ue!==0||1/ue===1/te:ue!==ue&&te!==te}function y(ue,te){this.message=ue,this.data=te&&typeof te=="object"?te:{},this.stack=""}y.prototype=Error.prototype;function v(ue){var te={},U=0;function H(se,ne,ae,he,me,ge,Pe){if(he=he||p,ge=ge||ae,Pe!==t){if(l){var xe=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw xe.name="Invariant Violation",xe}else if(typeof console<"u"){var Ie=he+":"+ae;!te[Ie]&&U<3&&(i("You are manually calling a React.PropTypes validation function for the `"+ge+"` prop on `"+he+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),te[Ie]=!0,U++)}}return ne[ae]==null?se?ne[ae]===null?new y("The "+me+" `"+ge+"` is marked as required "+("in `"+he+"`, but its value is `null`.")):new y("The "+me+" `"+ge+"` is marked as required in "+("`"+he+"`, but its value is `undefined`.")):null:ue(ne,ae,he,me,ge)}var G=H.bind(null,!1);return G.isRequired=H.bind(null,!0),G}function N(ue){function te(U,H,G,se,ne,ae){var he=U[H],me=re(he);if(me!==ue){var ge=le(he);return new y("Invalid "+se+" `"+ne+"` of type "+("`"+ge+"` supplied to `"+G+"`, expected ")+("`"+ue+"`."),{expectedType:ue})}return null}return v(te)}function D(){return v(a)}function j(ue){function te(U,H,G,se,ne){if(typeof ue!="function")return new y("Property `"+ne+"` of component `"+G+"` has invalid PropType notation inside arrayOf.");var ae=U[H];if(!Array.isArray(ae)){var he=re(ae);return new y("Invalid "+se+" `"+ne+"` of type "+("`"+he+"` supplied to `"+G+"`, expected an array."))}for(var me=0;me<ae.length;me++){var ge=ue(ae,me,G,se,ne+"["+me+"]",t);if(ge instanceof Error)return ge}return null}return v(te)}function C(){function ue(te,U,H,G,se){var ne=te[U];if(!o(ne)){var ae=re(ne);return new y("Invalid "+G+" `"+se+"` of type "+("`"+ae+"` supplied to `"+H+"`, expected a single ReactElement."))}return null}return v(ue)}function E(){function ue(te,U,H,G,se){var ne=te[U];if(!s.isValidElementType(ne)){var ae=re(ne);return new y("Invalid "+G+" `"+se+"` of type "+("`"+ae+"` supplied to `"+H+"`, expected a single ReactElement type."))}return null}return v(ue)}function A(ue){function te(U,H,G,se,ne){if(!(U[H]instanceof ue)){var ae=ue.name||p,he=pe(U[H]);return new y("Invalid "+se+" `"+ne+"` of type "+("`"+he+"` supplied to `"+G+"`, expected ")+("instance of `"+ae+"`."))}return null}return v(te)}function V(ue){if(!Array.isArray(ue))return arguments.length>1?i("Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z])."):i("Invalid argument supplied to oneOf, expected an array."),a;function te(U,H,G,se,ne){for(var ae=U[H],he=0;he<ue.length;he++)if(g(ae,ue[he]))return null;var me=JSON.stringify(ue,function(Pe,xe){var Ie=le(xe);return Ie==="symbol"?String(xe):xe});return new y("Invalid "+se+" `"+ne+"` of value `"+String(ae)+"` "+("supplied to `"+G+"`, expected one of "+me+"."))}return v(te)}function P(ue){function te(U,H,G,se,ne){if(typeof ue!="function")return new y("Property `"+ne+"` of component `"+G+"` has invalid PropType notation inside objectOf.");var ae=U[H],he=re(ae);if(he!=="object")return new y("Invalid "+se+" `"+ne+"` of type "+("`"+he+"` supplied to `"+G+"`, expected an object."));for(var me in ae)if(r(ae,me)){var ge=ue(ae,me,G,se,ne+"."+me,t);if(ge instanceof Error)return ge}return null}return v(te)}function _(ue){if(!Array.isArray(ue))return i("Invalid argument supplied to oneOfType, expected an instance of array."),a;for(var te=0;te<ue.length;te++){var U=ue[te];if(typeof U!="function")return i("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+ee(U)+" at index "+te+"."),a}function H(G,se,ne,ae,he){for(var me=[],ge=0;ge<ue.length;ge++){var Pe=ue[ge],xe=Pe(G,se,ne,ae,he,t);if(xe==null)return null;xe.data&&r(xe.data,"expectedType")&&me.push(xe.data.expectedType)}var Ie=me.length>0?", expected one of type ["+me.join(", ")+"]":"";return new y("Invalid "+ae+" `"+he+"` supplied to "+("`"+ne+"`"+Ie+"."))}return v(H)}function O(){function ue(te,U,H,G,se){return $(te[U])?null:new y("Invalid "+G+" `"+se+"` supplied to "+("`"+H+"`, expected a ReactNode."))}return v(ue)}function S(ue,te,U,H,G){return new y((ue||"React class")+": "+te+" type `"+U+"."+H+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+G+"`.")}function L(ue){function te(U,H,G,se,ne){var ae=U[H],he=re(ae);if(he!=="object")return new y("Invalid "+se+" `"+ne+"` of type `"+he+"` "+("supplied to `"+G+"`, expected `object`."));for(var me in ue){var ge=ue[me];if(typeof ge!="function")return S(G,se,ne,me,le(ge));var Pe=ge(ae,me,G,se,ne+"."+me,t);if(Pe)return Pe}return null}return v(te)}function B(ue){function te(U,H,G,se,ne){var ae=U[H],he=re(ae);if(he!=="object")return new y("Invalid "+se+" `"+ne+"` of type `"+he+"` "+("supplied to `"+G+"`, expected `object`."));var me=e({},U[H],ue);for(var ge in me){var Pe=ue[ge];if(r(ue,ge)&&typeof Pe!="function")return S(G,se,ne,ge,le(Pe));if(!Pe)return new y("Invalid "+se+" `"+ne+"` key `"+ge+"` supplied to `"+G+"`.\nBad object: "+JSON.stringify(U[H],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(ue),null,"  "));var xe=Pe(ae,ge,G,se,ne+"."+ge,t);if(xe)return xe}return null}return v(te)}function $(ue){switch(typeof ue){case"number":case"string":case"undefined":return!0;case"boolean":return!ue;case"object":if(Array.isArray(ue))return ue.every($);if(ue===null||o(ue))return!0;var te=m(ue);if(te){var U=te.call(ue),H;if(te!==ue.entries){for(;!(H=U.next()).done;)if(!$(H.value))return!1}else for(;!(H=U.next()).done;){var G=H.value;if(G&&!$(G[1]))return!1}}else return!1;return!0;default:return!1}}function Z(ue,te){return ue==="symbol"?!0:te?te["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&te instanceof Symbol:!1}function re(ue){var te=typeof ue;return Array.isArray(ue)?"array":ue instanceof RegExp?"object":Z(te,ue)?"symbol":te}function le(ue){if(typeof ue>"u"||ue===null)return""+ue;var te=re(ue);if(te==="object"){if(ue instanceof Date)return"date";if(ue instanceof RegExp)return"regexp"}return te}function ee(ue){var te=le(ue);switch(te){case"array":case"object":return"an "+te;case"boolean":case"date":case"regexp":return"a "+te;default:return te}}function pe(ue){return!ue.constructor||!ue.constructor.name?p:ue.constructor.name}return f.checkPropTypes=n,f.resetWarningCache=n.resetWarningCache,f.PropTypes=f,f},pf}var Rb;function $_(){if(Rb)return lf.exports;Rb=1;{var s=Nv(),e=!0;lf.exports=z_()(s.isElement,e)}return lf.exports}var wv=["input","select","textarea","a[href]","button","[tabindex]:not(slot)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],Cd=wv.join(","),Pv=typeof Element>"u",Do=Pv?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,dh=!Pv&&Element.prototype.getRootNode?function(s){return s.getRootNode()}:function(s){return s.ownerDocument},jv=function(e,t,r){var n=Array.prototype.slice.apply(e.querySelectorAll(Cd));return t&&Do.call(e,Cd)&&n.unshift(e),n=n.filter(r),n},Cv=function s(e,t,r){for(var n=[],i=Array.from(e);i.length;){var a=i.shift();if(a.tagName==="SLOT"){var o=a.assignedElements(),l=o.length?o:a.children,u=s(l,!0,r);r.flatten?n.push.apply(n,u):n.push({scope:a,candidates:u})}else{var d=Do.call(a,Cd);d&&r.filter(a)&&(t||!e.includes(a))&&n.push(a);var m=a.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(a),p=!r.shadowRootFilter||r.shadowRootFilter(a);if(m&&p){var f=s(m===!0?a.children:m.children,!0,r);r.flatten?n.push.apply(n,f):n.push({scope:a,candidates:f})}else i.unshift.apply(i,a.children)}}return n},Ev=function(e,t){return e.tabIndex<0&&(t||/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||e.isContentEditable)&&isNaN(parseInt(e.getAttribute("tabindex"),10))?0:e.tabIndex},W_=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},Sv=function(e){return e.tagName==="INPUT"},H_=function(e){return Sv(e)&&e.type==="hidden"},q_=function(e){var t=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return t},G_=function(e,t){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===t)return e[r]},Y_=function(e){if(!e.name)return!0;var t=e.form||dh(e),r=function(o){return t.querySelectorAll('input[type="radio"][name="'+o+'"]')},n;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")n=r(window.CSS.escape(e.name));else try{n=r(e.name)}catch(a){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",a.message),!1}var i=G_(n,e.form);return!i||i===e},K_=function(e){return Sv(e)&&e.type==="radio"},X_=function(e){return K_(e)&&!Y_(e)},Ob=function(e){var t=e.getBoundingClientRect(),r=t.width,n=t.height;return r===0&&n===0},J_=function(e,t){var r=t.displayCheck,n=t.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var i=Do.call(e,"details>summary:first-of-type"),a=i?e.parentElement:e;if(Do.call(a,"details:not([open]) *"))return!0;var o=dh(e).host,l=o?.ownerDocument.contains(o)||e.ownerDocument.contains(e);if(!r||r==="full"){if(typeof n=="function"){for(var u=e;e;){var d=e.parentElement,m=dh(e);if(d&&!d.shadowRoot&&n(d)===!0)return Ob(e);e.assignedSlot?e=e.assignedSlot:!d&&m!==e.ownerDocument?e=m.host:e=d}e=u}if(l)return!e.getClientRects().length}else if(r==="non-zero-area")return Ob(e);return!1},Z_=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(t.tagName==="FIELDSET"&&t.disabled){for(var r=0;r<t.children.length;r++){var n=t.children.item(r);if(n.tagName==="LEGEND")return Do.call(t,"fieldset[disabled] *")?!0:!n.contains(e)}return!0}t=t.parentElement}return!1},Ed=function(e,t){return!(t.disabled||H_(t)||J_(t,e)||q_(t)||Z_(t))},mh=function(e,t){return!(X_(t)||Ev(t)<0||!Ed(e,t))},Q_=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},e7=function s(e){var t=[],r=[];return e.forEach(function(n,i){var a=!!n.scope,o=a?n.scope:n,l=Ev(o,a),u=a?s(n.candidates):o;l===0?a?t.push.apply(t,u):t.push(o):r.push({documentOrder:i,tabIndex:l,item:n,isScope:a,content:u})}),r.sort(W_).reduce(function(n,i){return i.isScope?n.push.apply(n,i.content):n.push(i.content),n},[]).concat(t)},Av=function(e,t){t=t||{};var r;return t.getShadowRoot?r=Cv([e],t.includeContainer,{filter:mh.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:Q_}):r=jv(e,t.includeContainer,mh.bind(null,t)),e7(r)},_v=function(e,t){t=t||{};var r;return t.getShadowRoot?r=Cv([e],t.includeContainer,{filter:Ed.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):r=jv(e,t.includeContainer,Ed.bind(null,t)),r},cl=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return Do.call(e,Cd)===!1?!1:mh(t,e)},t7=wv.concat("iframe").join(","),ud=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return Do.call(e,t7)===!1?!1:Ed(t,e)};const s7=Object.freeze(Object.defineProperty({__proto__:null,focusable:_v,isFocusable:ud,isTabbable:cl,tabbable:Av},Symbol.toStringTag,{value:"Module"}));function Fb(s,e){var t=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),t.push.apply(t,r)}return t}function Bb(s){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Fb(Object(t),!0).forEach(function(r){r7(s,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(t)):Fb(Object(t)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(t,r))})}return s}function r7(s,e,t){return e in s?Object.defineProperty(s,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):s[e]=t,s}var zb=(function(){var s=[];return{activateTrap:function(t){if(s.length>0){var r=s[s.length-1];r!==t&&r.pause()}var n=s.indexOf(t);n===-1||s.splice(n,1),s.push(t)},deactivateTrap:function(t){var r=s.indexOf(t);r!==-1&&s.splice(r,1),s.length>0&&s[s.length-1].unpause()}}})(),n7=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},i7=function(e){return e.key==="Escape"||e.key==="Esc"||e.keyCode===27},a7=function(e){return e.key==="Tab"||e.keyCode===9},$b=function(e){return setTimeout(e,0)},Wb=function(e,t){var r=-1;return e.every(function(n,i){return t(n)?(r=i,!1):!0}),r},Zc=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return typeof e=="function"?e.apply(void 0,r):e},qu=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},o7=function(e,t){var r=t?.document||document,n=Bb({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0},t),i={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0},a,o=function(A,V,P){return A&&A[V]!==void 0?A[V]:n[P||V]},l=function(A){return i.containerGroups.findIndex(function(V){var P=V.container,_=V.tabbableNodes;return P.contains(A)||_.find(function(O){return O===A})})},u=function(A){var V=n[A];if(typeof V=="function"){for(var P=arguments.length,_=new Array(P>1?P-1:0),O=1;O<P;O++)_[O-1]=arguments[O];V=V.apply(void 0,_)}if(V===!0&&(V=void 0),!V){if(V===void 0||V===!1)return V;throw new Error("`".concat(A,"` was specified but was not a node, or did not return a node"))}var S=V;if(typeof V=="string"&&(S=r.querySelector(V),!S))throw new Error("`".concat(A,"` as selector refers to no known node"));return S},d=function(){var A=u("initialFocus");if(A===!1)return!1;if(A===void 0)if(l(r.activeElement)>=0)A=r.activeElement;else{var V=i.tabbableGroups[0],P=V&&V.firstTabbableNode;A=P||u("fallbackFocus")}if(!A)throw new Error("Your focus-trap needs to have at least one focusable element");return A},m=function(){if(i.containerGroups=i.containers.map(function(A){var V=Av(A,n.tabbableOptions),P=_v(A,n.tabbableOptions);return{container:A,tabbableNodes:V,focusableNodes:P,firstTabbableNode:V.length>0?V[0]:null,lastTabbableNode:V.length>0?V[V.length-1]:null,nextTabbableNode:function(O){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,L=P.findIndex(function(B){return B===O});if(!(L<0))return S?P.slice(L+1).find(function(B){return cl(B,n.tabbableOptions)}):P.slice(0,L).reverse().find(function(B){return cl(B,n.tabbableOptions)})}}}),i.tabbableGroups=i.containerGroups.filter(function(A){return A.tabbableNodes.length>0}),i.tabbableGroups.length<=0&&!u("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")},p=function E(A){if(A!==!1&&A!==r.activeElement){if(!A||!A.focus){E(d());return}A.focus({preventScroll:!!n.preventScroll}),i.mostRecentlyFocusedNode=A,n7(A)&&A.select()}},f=function(A){var V=u("setReturnFocus",A);return V||(V===!1?!1:A)},g=function(A){var V=qu(A);if(!(l(V)>=0)){if(Zc(n.clickOutsideDeactivates,A)){a.deactivate({returnFocus:n.returnFocusOnDeactivate&&!ud(V,n.tabbableOptions)});return}Zc(n.allowOutsideClick,A)||A.preventDefault()}},y=function(A){var V=qu(A),P=l(V)>=0;P||V instanceof Document?P&&(i.mostRecentlyFocusedNode=V):(A.stopImmediatePropagation(),p(i.mostRecentlyFocusedNode||d()))},v=function(A){var V=qu(A);m();var P=null;if(i.tabbableGroups.length>0){var _=l(V),O=_>=0?i.containerGroups[_]:void 0;if(_<0)A.shiftKey?P=i.tabbableGroups[i.tabbableGroups.length-1].lastTabbableNode:P=i.tabbableGroups[0].firstTabbableNode;else if(A.shiftKey){var S=Wb(i.tabbableGroups,function(le){var ee=le.firstTabbableNode;return V===ee});if(S<0&&(O.container===V||ud(V,n.tabbableOptions)&&!cl(V,n.tabbableOptions)&&!O.nextTabbableNode(V,!1))&&(S=_),S>=0){var L=S===0?i.tabbableGroups.length-1:S-1,B=i.tabbableGroups[L];P=B.lastTabbableNode}}else{var $=Wb(i.tabbableGroups,function(le){var ee=le.lastTabbableNode;return V===ee});if($<0&&(O.container===V||ud(V,n.tabbableOptions)&&!cl(V,n.tabbableOptions)&&!O.nextTabbableNode(V))&&($=_),$>=0){var Z=$===i.tabbableGroups.length-1?0:$+1,re=i.tabbableGroups[Z];P=re.firstTabbableNode}}}else P=u("fallbackFocus");P&&(A.preventDefault(),p(P))},N=function(A){if(i7(A)&&Zc(n.escapeDeactivates,A)!==!1){A.preventDefault(),a.deactivate();return}if(a7(A)){v(A);return}},D=function(A){var V=qu(A);l(V)>=0||Zc(n.clickOutsideDeactivates,A)||Zc(n.allowOutsideClick,A)||(A.preventDefault(),A.stopImmediatePropagation())},j=function(){if(i.active)return zb.activateTrap(a),i.delayInitialFocusTimer=n.delayInitialFocus?$b(function(){p(d())}):p(d()),r.addEventListener("focusin",y,!0),r.addEventListener("mousedown",g,{capture:!0,passive:!1}),r.addEventListener("touchstart",g,{capture:!0,passive:!1}),r.addEventListener("click",D,{capture:!0,passive:!1}),r.addEventListener("keydown",N,{capture:!0,passive:!1}),a},C=function(){if(i.active)return r.removeEventListener("focusin",y,!0),r.removeEventListener("mousedown",g,!0),r.removeEventListener("touchstart",g,!0),r.removeEventListener("click",D,!0),r.removeEventListener("keydown",N,!0),a};return a={get active(){return i.active},get paused(){return i.paused},activate:function(A){if(i.active)return this;var V=o(A,"onActivate"),P=o(A,"onPostActivate"),_=o(A,"checkCanFocusTrap");_||m(),i.active=!0,i.paused=!1,i.nodeFocusedBeforeActivation=r.activeElement,V&&V();var O=function(){_&&m(),j(),P&&P()};return _?(_(i.containers.concat()).then(O,O),this):(O(),this)},deactivate:function(A){if(!i.active)return this;var V=Bb({onDeactivate:n.onDeactivate,onPostDeactivate:n.onPostDeactivate,checkCanReturnFocus:n.checkCanReturnFocus},A);clearTimeout(i.delayInitialFocusTimer),i.delayInitialFocusTimer=void 0,C(),i.active=!1,i.paused=!1,zb.deactivateTrap(a);var P=o(V,"onDeactivate"),_=o(V,"onPostDeactivate"),O=o(V,"checkCanReturnFocus"),S=o(V,"returnFocus","returnFocusOnDeactivate");P&&P();var L=function(){$b(function(){S&&p(f(i.nodeFocusedBeforeActivation)),_&&_()})};return S&&O?(O(f(i.nodeFocusedBeforeActivation)).then(L,L),this):(L(),this)},pause:function(){return i.paused||!i.active?this:(i.paused=!0,C(),this)},unpause:function(){return!i.paused||!i.active?this:(i.paused=!1,m(),j(),this)},updateContainerElements:function(A){var V=[].concat(A).filter(Boolean);return i.containers=V.map(function(P){return typeof P=="string"?r.querySelector(P):P}),i.active&&m(),this}},a.updateContainerElements(e),a};const c7=Object.freeze(Object.defineProperty({__proto__:null,createFocusTrap:o7},Symbol.toStringTag,{value:"Module"})),l7=fx(c7),u7=fx(s7);var gf,Hb;function d7(){if(Hb)return gf;Hb=1;function s(C){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},s(C)}function e(C,E){if(!(C instanceof E))throw new TypeError("Cannot call a class as a function")}function t(C,E){for(var A=0;A<E.length;A++){var V=E[A];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(C,V.key,V)}}function r(C,E,A){return E&&t(C.prototype,E),Object.defineProperty(C,"prototype",{writable:!1}),C}function n(C,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(E&&E.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),Object.defineProperty(C,"prototype",{writable:!1}),E&&i(C,E)}function i(C,E){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(V,P){return V.__proto__=P,V},i(C,E)}function a(C){var E=u();return function(){var V=d(C),P;if(E){var _=d(this).constructor;P=Reflect.construct(V,arguments,_)}else P=V.apply(this,arguments);return o(this,P)}}function o(C,E){if(E&&(s(E)==="object"||typeof E=="function"))return E;if(E!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l(C)}function l(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}function u(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function d(C){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(A){return A.__proto__||Object.getPrototypeOf(A)},d(C)}function m(C,E,A){return E in C?Object.defineProperty(C,E,{value:A,enumerable:!0,configurable:!0,writable:!0}):C[E]=A,C}var p=dx(),f=$_(),g=l7,y=g.createFocusTrap,v=u7,N=v.isFocusable,D=(function(C){n(A,C);var E=a(A);function A(V){var P;e(this,A),P=E.call(this,V),m(l(P),"getNodeForOption",function(S){var L,B=(L=this.internalOptions[S])!==null&&L!==void 0?L:this.originalOptions[S];if(typeof B=="function"){for(var $=arguments.length,Z=new Array($>1?$-1:0),re=1;re<$;re++)Z[re-1]=arguments[re];B=B.apply(void 0,Z)}if(B===!0&&(B=void 0),!B){if(B===void 0||B===!1)return B;throw new Error("`".concat(S,"` was specified but was not a node, or did not return a node"))}var le=B;if(typeof B=="string"){var ee;if(le=(ee=this.getDocument())===null||ee===void 0?void 0:ee.querySelector(B),!le)throw new Error("`".concat(S,"` as selector refers to no known node"))}return le}),P.handleDeactivate=P.handleDeactivate.bind(l(P)),P.handlePostDeactivate=P.handlePostDeactivate.bind(l(P)),P.handleClickOutsideDeactivates=P.handleClickOutsideDeactivates.bind(l(P)),P.internalOptions={returnFocusOnDeactivate:!1,checkCanReturnFocus:null,onDeactivate:P.handleDeactivate,onPostDeactivate:P.handlePostDeactivate,clickOutsideDeactivates:P.handleClickOutsideDeactivates},P.originalOptions={returnFocusOnDeactivate:!0,onDeactivate:null,onPostDeactivate:null,checkCanReturnFocus:null,clickOutsideDeactivates:!1};var _=V.focusTrapOptions;for(var O in _)if(Object.prototype.hasOwnProperty.call(_,O)){if(O==="returnFocusOnDeactivate"||O==="onDeactivate"||O==="onPostDeactivate"||O==="checkCanReturnFocus"||O==="clickOutsideDeactivates"){P.originalOptions[O]=_[O];continue}P.internalOptions[O]=_[O]}return P.outsideClick=null,P.focusTrapElements=V.containerElements||[],P.updatePreviousElement(),P}return r(A,[{key:"getDocument",value:function(){return this.props.focusTrapOptions.document||(typeof document<"u"?document:void 0)}},{key:"getReturnFocusNode",value:function(){var P=this.getNodeForOption("setReturnFocus",this.previouslyFocusedElement);return P||(P===!1?!1:this.previouslyFocusedElement)}},{key:"updatePreviousElement",value:function(){var P=this.getDocument();P&&(this.previouslyFocusedElement=P.activeElement)}},{key:"deactivateTrap",value:function(){!this.focusTrap||!this.focusTrap.active||this.focusTrap.deactivate({returnFocus:!1,checkCanReturnFocus:null,onDeactivate:this.originalOptions.onDeactivate})}},{key:"handleClickOutsideDeactivates",value:function(P){var _=typeof this.originalOptions.clickOutsideDeactivates=="function"?this.originalOptions.clickOutsideDeactivates.call(null,P):this.originalOptions.clickOutsideDeactivates;return _&&(this.outsideClick={target:P.target,allowDeactivation:_}),_}},{key:"handleDeactivate",value:function(){this.originalOptions.onDeactivate&&this.originalOptions.onDeactivate.call(null),this.deactivateTrap()}},{key:"handlePostDeactivate",value:function(){var P=this,_=function(){var S=P.getReturnFocusNode(),L=!!(P.originalOptions.returnFocusOnDeactivate&&S!==null&&S!==void 0&&S.focus&&(!P.outsideClick||P.outsideClick.allowDeactivation&&!N(P.outsideClick.target,P.internalOptions.tabbableOptions))),B=P.internalOptions.preventScroll,$=B===void 0?!1:B;L&&S.focus({preventScroll:$}),P.originalOptions.onPostDeactivate&&P.originalOptions.onPostDeactivate.call(null),P.outsideClick=null};this.originalOptions.checkCanReturnFocus?this.originalOptions.checkCanReturnFocus.call(null,this.getReturnFocusNode()).then(_,_):_()}},{key:"setupFocusTrap",value:function(){if(this.focusTrap)this.props.active&&!this.focusTrap.active&&(this.focusTrap.activate(),this.props.paused&&this.focusTrap.pause());else{var P=this.focusTrapElements.some(Boolean);P&&(this.focusTrap=this.props._createFocusTrap(this.focusTrapElements,this.internalOptions),this.props.active&&this.focusTrap.activate(),this.props.paused&&this.focusTrap.pause())}}},{key:"componentDidMount",value:function(){this.props.active&&this.setupFocusTrap()}},{key:"componentDidUpdate",value:function(P){if(this.focusTrap){P.containerElements!==this.props.containerElements&&this.focusTrap.updateContainerElements(this.props.containerElements);var _=!P.active&&this.props.active,O=P.active&&!this.props.active,S=!P.paused&&this.props.paused,L=P.paused&&!this.props.paused;if(_&&(this.updatePreviousElement(),this.focusTrap.activate()),O){this.deactivateTrap();return}S&&this.focusTrap.pause(),L&&this.focusTrap.unpause()}else P.containerElements!==this.props.containerElements&&(this.focusTrapElements=this.props.containerElements),this.props.active&&(this.updatePreviousElement(),this.setupFocusTrap())}},{key:"componentWillUnmount",value:function(){this.deactivateTrap()}},{key:"render",value:function(){var P=this,_=this.props.children?p.Children.only(this.props.children):void 0;if(_){if(_.type&&_.type===p.Fragment)throw new Error("A focus-trap cannot use a Fragment as its child container. Try replacing it with a <div> element.");var O=function(B){var $=P.props.containerElements;_&&(typeof _.ref=="function"?_.ref(B):_.ref&&(_.ref.current=B)),P.focusTrapElements=$||[B]},S=p.cloneElement(_,{ref:O});return S}return null}}]),A})(p.Component),j=typeof Element>"u"?Function:Element;return D.propTypes={active:f.bool,paused:f.bool,focusTrapOptions:f.shape({document:f.object,onActivate:f.func,onPostActivate:f.func,checkCanFocusTrap:f.func,onDeactivate:f.func,onPostDeactivate:f.func,checkCanReturnFocus:f.func,initialFocus:f.oneOfType([f.instanceOf(j),f.string,f.bool,f.func]),fallbackFocus:f.oneOfType([f.instanceOf(j),f.string,f.func]),escapeDeactivates:f.oneOfType([f.bool,f.func]),clickOutsideDeactivates:f.oneOfType([f.bool,f.func]),returnFocusOnDeactivate:f.bool,setReturnFocus:f.oneOfType([f.instanceOf(j),f.string,f.bool,f.func]),allowOutsideClick:f.oneOfType([f.bool,f.func]),preventScroll:f.bool,tabbableOptions:f.shape({displayCheck:f.oneOf(["full","non-zero-area","none"]),getShadowRoot:f.oneOfType([f.bool,f.func])})}),containerElements:f.arrayOf(f.instanceOf(j)),children:f.oneOfType([f.element,f.instanceOf(j)])},D.defaultProps={active:!0,paused:!1,focusTrapOptions:{},_createFocusTrap:y},gf=D,gf}d7();const Uv="pain-tracker:alerts-log";function m7(){try{const s=localStorage.getItem(Uv);return s?JSON.parse(s):[]}catch{return[]}}function f7(s){try{const e=m7();e.unshift(s),localStorage.setItem(Uv,JSON.stringify(e.slice(0,50))),window.dispatchEvent(new Event("alerts-log-updated"))}catch{}}const h7=(s,e)=>{for(let t=1;t<s.length;t++)if(s[t]-s[t-1]>=e)return t;return-1},p7=(s,e,t)=>{for(let r=e;r<s.length;r++){const n=s.slice(r-e,r).reduce((i,a)=>i+a,0)/e;if(s[r]-n>=t)return r}return-1},g7=(s,e)=>{const t=s.reduce((n,i)=>n+i,0)/s.length,r=Math.sqrt(s.reduce((n,i)=>n+Math.pow(i-t,2),0)/s.length);for(let n=0;n<s.length;n++)if(Math.abs(s[n]-t)/r>=e)return n;return-1},b7="pain-tracker:alerts-settings",y7="pain-tracker:notification-consent";function x7(s){const e=I.useRef(new Set);I.useEffect(()=>{try{const t=localStorage.getItem(b7),r=t?JSON.parse(t):{threshold:3},n=localStorage.getItem(y7),i=s.map(l=>l.pain),a=[l=>h7(l,r.threshold),l=>p7(l,3,1),l=>g7(l,2)];let o=-1;for(const l of a){const u=l(i);if(u>=0){o=u;break}}if(o>=0&&!e.current.has(o)){e.current.add(o);const l=`Sudden pain increase to ${i[o]} (entry ${o+1})`;try{f7({id:`${Date.now()}-${Math.random().toString(36).slice(2,7)}`,time:new Date().toISOString(),message:l}),window.dispatchEvent(new Event("alerts-log-updated"))}catch{}n==="granted"&&typeof Notification<"u"?new Notification("Pain pattern detected",{body:l}):console.debug("Pattern alert suppressed (no consent)")}}catch(t){console.debug("usePatternAlerts: error",t)}},[s])}function v7(){const[s,e]=I.useState(navigator.onLine);return I.useEffect(()=>{const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t),window.addEventListener("offline",r),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}},[]),s?null:c.jsxDEV("div",{className:"bg-orange-500 text-white px-4 py-2",children:c.jsxDEV("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[c.jsxDEV("div",{className:"flex items-center space-x-2",children:[c.jsxDEV(Q5,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/OfflineIndicator.tsx",lineNumber:90,columnNumber:11},this),c.jsxDEV("div",{children:[c.jsxDEV("p",{className:"font-medium",children:"You're currently offline"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/OfflineIndicator.tsx",lineNumber:92,columnNumber:13},this),c.jsxDEV("p",{className:"text-xs opacity-90",children:"Your data is saved locally and will sync when you're back online"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/OfflineIndicator.tsx",lineNumber:93,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/OfflineIndicator.tsx",lineNumber:91,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/OfflineIndicator.tsx",lineNumber:89,columnNumber:9},this),c.jsxDEV("button",{onClick:()=>window.location.reload(),className:"flex items-center space-x-1 px-3 py-1 bg-white/20 hover:bg-white/30 rounded-md transition-colors",children:[c.jsxDEV(XD,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/OfflineIndicator.tsx",lineNumber:103,columnNumber:11},this),c.jsxDEV("span",{className:"text-xs",children:"Retry"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/OfflineIndicator.tsx",lineNumber:104,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/OfflineIndicator.tsx",lineNumber:99,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/OfflineIndicator.tsx",lineNumber:88,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/OfflineIndicator.tsx",lineNumber:87,columnNumber:5},this)}function N7({size:s=24,className:e="",color:t=Tt.colors.primary[500]}){return c.jsxDEV("svg",{width:s,height:s,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:[c.jsxDEV("circle",{cx:"24",cy:"24",r:"22",fill:t},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLogo.tsx",lineNumber:158,columnNumber:7},this),c.jsxDEV("rect",{x:"19",y:"10",width:"10",height:"28",rx:"3",fill:"white"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLogo.tsx",lineNumber:161,columnNumber:7},this),c.jsxDEV("rect",{x:"10",y:"19",width:"28",height:"10",rx:"3",fill:"white"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLogo.tsx",lineNumber:162,columnNumber:7},this),c.jsxDEV("path",{d:"M8 32 Q12 26 16 32 T24 28 Q28 24 32 28 T40 30",stroke:Tt.colors.secondary[500],strokeWidth:"4",fill:"none",strokeLinecap:"round"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLogo.tsx",lineNumber:165,columnNumber:7},this),c.jsxDEV("circle",{cx:"36",cy:"12",r:"3",fill:Tt.colors.accent[500]},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLogo.tsx",lineNumber:174,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLogo.tsx",lineNumber:149,columnNumber:5},this)}function k7({message:s="Loading Pain Tracker Pro...",progress:e,showProgress:t=!1,className:r=""}){const[n,i]=I.useState(0);return I.useEffect(()=>{if(e!==void 0){const a=setTimeout(()=>{i(e)},100);return()=>clearTimeout(a)}},[e]),c.jsxDEV("div",{className:`min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-green-50 ${r}`,children:c.jsxDEV("div",{className:"text-center space-y-8",children:[c.jsxDEV("div",{className:"relative",children:[c.jsxDEV("div",{className:"animate-pulse",children:c.jsxDEV(N7,{size:96,className:"mx-auto"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:36,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:35,columnNumber:11},this),c.jsxDEV("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsxDEV("div",{className:"w-24 h-24 rounded-full border-4 border-blue-200 animate-ping opacity-75"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:41,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:40,columnNumber:11},this),c.jsxDEV("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsxDEV("div",{className:"w-32 h-32 rounded-full border-2 border-green-200 animate-ping opacity-50 animation-delay-150"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:44,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:43,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:34,columnNumber:9},this),c.jsxDEV("div",{className:"space-y-2",children:[c.jsxDEV("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:["Pain Tracker",c.jsxDEV("span",{className:"inline-flex items-center ml-2 px-2 py-1 rounded-full text-xs bg-gradient-to-r from-purple-600 to-blue-600 text-white font-semibold",children:"PRO"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:52,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:50,columnNumber:11},this),c.jsxDEV("p",{className:"text-slate-600 dark:text-slate-400 font-medium",children:"AI-Powered Pain Management"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:56,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:49,columnNumber:9},this),c.jsxDEV("div",{className:"space-y-4",children:[c.jsxDEV("p",{className:"text-slate-700 dark:text-slate-300 font-medium",children:s},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:63,columnNumber:11},this),t&&c.jsxDEV("div",{className:"w-64 mx-auto",children:[c.jsxDEV("div",{className:"flex justify-between text-sm text-slate-600 dark:text-slate-400 mb-2",children:[c.jsxDEV("span",{children:"Loading..."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:69,columnNumber:17},this),c.jsxDEV("span",{children:[Math.round(n),"%"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:70,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:68,columnNumber:15},this),c.jsxDEV("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-2 overflow-hidden",children:c.jsxDEV("div",{className:"h-full bg-gradient-to-r from-blue-500 to-green-500 rounded-full transition-all duration-500 ease-out",style:{width:`${n}%`}},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:73,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:72,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:67,columnNumber:13},this),!t&&c.jsxDEV("div",{className:"flex items-center justify-center space-x-2",children:[c.jsxDEV("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:84,columnNumber:15},this),c.jsxDEV("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-bounce animation-delay-100"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:85,columnNumber:15},this),c.jsxDEV("div",{className:"w-2 h-2 bg-purple-500 rounded-full animate-bounce animation-delay-200"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:86,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:83,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:62,columnNumber:9},this),c.jsxDEV("div",{className:"grid grid-cols-3 gap-4 text-xs text-slate-600 dark:text-slate-400 max-w-md mx-auto",children:[c.jsxDEV("div",{className:"text-center space-y-1",children:[c.jsxDEV("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mx-auto",children:c.jsxDEV("svg",{className:"w-4 h-4 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsxDEV("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:96,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:95,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:94,columnNumber:13},this),c.jsxDEV("span",{children:"FHIR Compliant"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:99,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:93,columnNumber:11},this),c.jsxDEV("div",{className:"text-center space-y-1",children:[c.jsxDEV("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:c.jsxDEV("svg",{className:"w-4 h-4 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsxDEV("path",{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3z"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:104,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:103,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:102,columnNumber:13},this),c.jsxDEV("span",{children:"AI Analytics"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:107,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:101,columnNumber:11},this),c.jsxDEV("div",{className:"text-center space-y-1",children:[c.jsxDEV("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center mx-auto",children:c.jsxDEV("svg",{className:"w-4 h-4 text-purple-600",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsxDEV("path",{d:"M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:112,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:111,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:110,columnNumber:13},this),c.jsxDEV("span",{children:"Offline Ready"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:115,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:109,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:92,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:32,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:29,columnNumber:5},this)}const D7=`
.animation-delay-100 {
  animation-delay: 0.1s;
}
.animation-delay-150 {
  animation-delay: 0.15s;
}
.animation-delay-200 {
  animation-delay: 0.2s;
}
`;if(typeof document<"u"){const s=document.createElement("style");s.textContent=D7,document.head.appendChild(s)}function w7(){const{context:s,forceState:e,preferences:t,updatePreferences:r}=rp(),[n,i]=I.useState(!1),a=I.useCallback(()=>{i(l=>!l)},[]);if(I.useEffect(()=>{const l=u=>{const d=u.target,m=d.tagName==="INPUT"||d.tagName==="TEXTAREA"||d.isContentEditable;if(u.key==="t"&&(u.ctrlKey||u.metaKey))u.preventDefault(),a();else if(u.key==="Escape"&&n)i(!1);else if(n&&!m&&["1","2","3","4"].includes(u.key)){const p=["stable","rising","flare","recovery"],f=parseInt(u.key)-1;p[f]&&e(p[f])}};return window.addEventListener("keydown",l),()=>window.removeEventListener("keydown",l)},[n,a,e]),!n)return c.jsxDEV("button",{onClick:a,className:"fixed bottom-24 right-4 z-50 px-3 py-2 bg-purple-600/90 hover:bg-purple-500 text-white text-xs rounded-lg shadow-lg hover:shadow-xl transition-all hover:scale-105 backdrop-blur-sm","aria-label":"Show tone state tester (Ctrl+T)",title:"Tone Tester (Ctrl+T)",children:"ðŸŽ­ Tone Tester"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:67,columnNumber:7},this);const o=[{state:"stable",emoji:"ðŸ˜Œ",description:"Brief, upbeat, professional-warm",key:"1"},{state:"rising",emoji:"ðŸ˜Ÿ",description:"Steady, specific, encouraging",key:"2"},{state:"flare",emoji:"ðŸ˜£",description:"Short lines, imperative, slow cadence",key:"3"},{state:"recovery",emoji:"ðŸ™‚",description:"Warm, factual, no cheerleading",key:"4"}];return c.jsxDEV("div",{className:"fixed bottom-4 left-4 z-50 bg-gray-900 dark:bg-gray-100 text-white p-4 rounded-lg shadow-2xl max-w-md max-h-[85vh] overflow-y-auto border-2 border-purple-600 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[c.jsxDEV("div",{className:"flex items-center justify-between mb-3 sticky top-0 bg-gray-900 dark:bg-gray-100 pb-2 border-b border-gray-700 dark:border-gray-300 z-10",children:[c.jsxDEV("h3",{className:"text-sm font-bold text-purple-400",children:"ðŸŽ­ Tone State Tester"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:88,columnNumber:9},this),c.jsxDEV("button",{onClick:()=>i(!1),className:"text-gray-400 dark:text-gray-500 hover:text-white text-xl leading-none px-2 py-1 rounded hover:bg-gray-800 dark:bg-gray-200 transition-colors","aria-label":"Minimize tone state tester (Esc)",title:"Minimize (Esc)",children:"Ã—"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:89,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:87,columnNumber:7},this),c.jsxDEV("div",{className:"mb-3 p-2 bg-purple-900/30 rounded border border-purple-700/50 text-xs text-purple-300",children:[c.jsxDEV("div",{className:"font-bold mb-1",children:"âŒ¨ï¸ Shortcuts:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:101,columnNumber:9},this),c.jsxDEV("div",{className:"space-y-0.5 text-purple-200",children:[c.jsxDEV("div",{children:[c.jsxDEV("kbd",{className:"px-1 py-0.5 bg-gray-800 dark:bg-gray-200 rounded text-xs",children:"Ctrl+T"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:104,columnNumber:13},this)," ","Toggle panel"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:103,columnNumber:11},this),c.jsxDEV("div",{children:[c.jsxDEV("kbd",{className:"px-1 py-0.5 bg-gray-800 dark:bg-gray-200 rounded text-xs",children:"Esc"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:108,columnNumber:13},this)," ","Minimize"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:107,columnNumber:11},this),c.jsxDEV("div",{children:[c.jsxDEV("kbd",{className:"px-1 py-0.5 bg-gray-800 dark:bg-gray-200 rounded text-xs",children:"1-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:112,columnNumber:13},this)," ","Force states"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:111,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:102,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:100,columnNumber:7},this),c.jsxDEV("div",{className:"mb-3 p-2 bg-gray-800 dark:bg-gray-200 rounded border border-gray-700 dark:border-gray-300",children:[c.jsxDEV("div",{className:"text-xs text-gray-400 dark:text-gray-500 mb-1",children:"Current State:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:120,columnNumber:9},this),c.jsxDEV("div",{className:"text-sm font-mono font-bold text-purple-300",children:s.state.toUpperCase()},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:121,columnNumber:9},this),s.painTrend&&c.jsxDEV("div",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:["Pain: ",s.painTrend.current.toFixed(1)," (",s.painTrend.direction==="up"?"â†‘":s.painTrend.direction==="down"?"â†“":"â†’",")"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:125,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:119,columnNumber:7},this),c.jsxDEV("div",{className:"space-y-2 mb-3",children:[c.jsxDEV("div",{className:"text-xs text-gray-400 dark:text-gray-500 mb-2",children:"Force State:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:139,columnNumber:9},this),o.map(({state:l,emoji:u,description:d,key:m})=>c.jsxDEV("button",{onClick:()=>e(l),className:`w-full px-3 py-2 text-left text-xs rounded transition-all ${s.state===l?"bg-purple-600 text-white shadow-md":"bg-gray-800 hover:bg-gray-700 text-gray-300"}`,children:[c.jsxDEV("div",{className:"flex items-center justify-between",children:[c.jsxDEV("div",{children:[c.jsxDEV("span",{className:"mr-2",children:u},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:152,columnNumber:17},this),c.jsxDEV("span",{className:"font-bold",children:l},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:153,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:151,columnNumber:15},this),c.jsxDEV("kbd",{className:"px-1.5 py-0.5 bg-gray-700 dark:bg-gray-300 rounded text-xs",children:m},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:155,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:150,columnNumber:13},this),c.jsxDEV("div",{className:"text-xs opacity-70 mt-1",children:d},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:159,columnNumber:13},this)]},l,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:141,columnNumber:11},this))]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:138,columnNumber:7},this),c.jsxDEV("div",{className:"border-t border-gray-700 dark:border-gray-300 pt-3 space-y-2",children:[c.jsxDEV("div",{className:"text-xs text-gray-400 dark:text-gray-500 mb-2",children:"Preferences:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:166,columnNumber:9},this),c.jsxDEV("label",{className:"flex items-center justify-between text-xs cursor-pointer hover:bg-gray-800 dark:bg-gray-200 p-1 rounded transition-colors",children:[c.jsxDEV("span",{children:"Warmth"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:169,columnNumber:11},this),c.jsxDEV("select",{value:t.warmth,onChange:l=>r({warmth:Number(l.target.value)}),className:"bg-gray-800 dark:bg-gray-200 border border-gray-700 dark:border-gray-300 rounded px-2 py-1 text-xs hover:border-purple-600 transition-colors",children:[c.jsxDEV("option",{value:"0",children:"Neutral"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:175,columnNumber:13},this),c.jsxDEV("option",{value:"1",children:"Warm"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:176,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:170,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:168,columnNumber:9},this),c.jsxDEV("label",{className:"flex items-center justify-between text-xs cursor-pointer hover:bg-gray-800 dark:bg-gray-200 p-1 rounded transition-colors",children:[c.jsxDEV("span",{children:"Coach Intensity"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:181,columnNumber:11},this),c.jsxDEV("select",{value:t.coachIntensity,onChange:l=>r({coachIntensity:Number(l.target.value)}),className:"bg-gray-800 dark:bg-gray-200 border border-gray-700 dark:border-gray-300 rounded px-2 py-1 text-xs hover:border-purple-600 transition-colors",children:[c.jsxDEV("option",{value:"0",children:"Minimal"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:187,columnNumber:13},this),c.jsxDEV("option",{value:"1",children:"Guided"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:188,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:182,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:180,columnNumber:9},this),c.jsxDEV("label",{className:"flex items-center justify-between text-xs cursor-pointer hover:bg-gray-800 dark:bg-gray-200 p-1 rounded transition-colors",children:[c.jsxDEV("span",{children:"Medical Terms"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:193,columnNumber:11},this),c.jsxDEV("input",{type:"checkbox",checked:t.medicalTerms,onChange:l=>r({medicalTerms:l.target.checked}),className:"bg-gray-800 dark:bg-gray-200 border border-gray-700 dark:border-gray-300 rounded"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:194,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:192,columnNumber:9},this),c.jsxDEV("label",{className:"flex items-center justify-between text-xs cursor-pointer hover:bg-gray-800 dark:bg-gray-200 p-1 rounded transition-colors",children:[c.jsxDEV("span",{children:"Allow Lightness"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:203,columnNumber:11},this),c.jsxDEV("input",{type:"checkbox",checked:t.allowLightness,onChange:l=>r({allowLightness:l.target.checked}),className:"bg-gray-800 dark:bg-gray-200 border border-gray-700 dark:border-gray-300 rounded"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:204,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:202,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:165,columnNumber:7},this),c.jsxDEV("div",{className:"border-t border-gray-700 dark:border-gray-300 pt-3 mt-3",children:c.jsxDEV("div",{className:"text-xs text-gray-400 dark:text-gray-500 space-y-1",children:[c.jsxDEV("div",{className:"font-bold mb-1",children:"Test Areas:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:216,columnNumber:11},this),c.jsxDEV("div",{children:"â€¢ QuickLogStepper: Pain slider, locations, notes"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:217,columnNumber:11},this),c.jsxDEV("div",{children:"â€¢ PanicMode: Greeting, breathing, crisis text"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:218,columnNumber:11},this),c.jsxDEV("div",{children:"â€¢ Dashboard: Empty states, insights"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:219,columnNumber:11},this),c.jsxDEV("div",{children:"â€¢ Analytics: Progress summaries"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:220,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:215,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:214,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:86,columnNumber:5},this)}function os(s){"@babel/helpers - typeof";return os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},os(s)}var Rn=Uint8Array,hn=Uint16Array,ap=Int32Array,op=new Rn([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),cp=new Rn([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),qb=new Rn([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Vv=function(s,e){for(var t=new hn(31),r=0;r<31;++r)t[r]=e+=1<<s[r-1];for(var n=new ap(t[30]),r=1;r<30;++r)for(var i=t[r];i<t[r+1];++i)n[i]=i-t[r]<<5|r;return{b:t,r:n}},Lv=Vv(op,2),P7=Lv.b,fh=Lv.r;P7[28]=258,fh[258]=28;var j7=Vv(cp,0),Gb=j7.r,hh=new hn(32768);for(var vs=0;vs<32768;++vs){var oa=(vs&43690)>>1|(vs&21845)<<1;oa=(oa&52428)>>2|(oa&13107)<<2,oa=(oa&61680)>>4|(oa&3855)<<4,hh[vs]=((oa&65280)>>8|(oa&255)<<8)>>1}var gl=(function(s,e,t){for(var r=s.length,n=0,i=new hn(e);n<r;++n)s[n]&&++i[s[n]-1];var a=new hn(e);for(n=1;n<e;++n)a[n]=a[n-1]+i[n-1]<<1;var o;if(t){o=new hn(1<<e);var l=15-e;for(n=0;n<r;++n)if(s[n])for(var u=n<<4|s[n],d=e-s[n],m=a[s[n]-1]++<<d,p=m|(1<<d)-1;m<=p;++m)o[hh[m]>>l]=u}else for(o=new hn(r),n=0;n<r;++n)s[n]&&(o[n]=hh[a[s[n]-1]++]>>15-s[n]);return o}),wo=new Rn(288);for(var vs=0;vs<144;++vs)wo[vs]=8;for(var vs=144;vs<256;++vs)wo[vs]=9;for(var vs=256;vs<280;++vs)wo[vs]=7;for(var vs=280;vs<288;++vs)wo[vs]=8;var Sd=new Rn(32);for(var vs=0;vs<32;++vs)Sd[vs]=5;var C7=gl(wo,9,0),E7=gl(Sd,5,0),Tv=function(s){return(s+7)/8|0},S7=function(s,e,t){return(t==null||t>s.length)&&(t=s.length),new Rn(s.subarray(e,t))},wi=function(s,e,t){t<<=e&7;var r=e/8|0;s[r]|=t,s[r+1]|=t>>8},Qc=function(s,e,t){t<<=e&7;var r=e/8|0;s[r]|=t,s[r+1]|=t>>8,s[r+2]|=t>>16},bf=function(s,e){for(var t=[],r=0;r<s.length;++r)s[r]&&t.push({s:r,f:s[r]});var n=t.length,i=t.slice();if(!n)return{t:Iv,l:0};if(n==1){var a=new Rn(t[0].s+1);return a[t[0].s]=1,{t:a,l:1}}t.sort(function(E,A){return E.f-A.f}),t.push({s:-1,f:25001});var o=t[0],l=t[1],u=0,d=1,m=2;for(t[0]={s:-1,f:o.f+l.f,l:o,r:l};d!=n-1;)o=t[t[u].f<t[m].f?u++:m++],l=t[u!=d&&t[u].f<t[m].f?u++:m++],t[d++]={s:-1,f:o.f+l.f,l:o,r:l};for(var p=i[0].s,r=1;r<n;++r)i[r].s>p&&(p=i[r].s);var f=new hn(p+1),g=ph(t[d-1],f,0);if(g>e){var r=0,y=0,v=g-e,N=1<<v;for(i.sort(function(A,V){return f[V.s]-f[A.s]||A.f-V.f});r<n;++r){var D=i[r].s;if(f[D]>e)y+=N-(1<<g-f[D]),f[D]=e;else break}for(y>>=v;y>0;){var j=i[r].s;f[j]<e?y-=1<<e-f[j]++-1:++r}for(;r>=0&&y;--r){var C=i[r].s;f[C]==e&&(--f[C],++y)}g=e}return{t:new Rn(f),l:g}},ph=function(s,e,t){return s.s==-1?Math.max(ph(s.l,e,t+1),ph(s.r,e,t+1)):e[s.s]=t},Yb=function(s){for(var e=s.length;e&&!s[--e];);for(var t=new hn(++e),r=0,n=s[0],i=1,a=function(l){t[r++]=l},o=1;o<=e;++o)if(s[o]==n&&o!=e)++i;else{if(!n&&i>2){for(;i>138;i-=138)a(32754);i>2&&(a(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(a(n),--i;i>6;i-=6)a(8304);i>2&&(a(i-3<<5|8208),i=0)}for(;i--;)a(n);i=1,n=s[o]}return{c:t.subarray(0,r),n:e}},el=function(s,e){for(var t=0,r=0;r<e.length;++r)t+=s[r]*e[r];return t},Mv=function(s,e,t){var r=t.length,n=Tv(e+2);s[n]=r&255,s[n+1]=r>>8,s[n+2]=s[n]^255,s[n+3]=s[n+1]^255;for(var i=0;i<r;++i)s[n+i+4]=t[i];return(n+4+r)*8},Kb=function(s,e,t,r,n,i,a,o,l,u,d){wi(e,d++,t),++n[256];for(var m=bf(n,15),p=m.t,f=m.l,g=bf(i,15),y=g.t,v=g.l,N=Yb(p),D=N.c,j=N.n,C=Yb(y),E=C.c,A=C.n,V=new hn(19),P=0;P<D.length;++P)++V[D[P]&31];for(var P=0;P<E.length;++P)++V[E[P]&31];for(var _=bf(V,7),O=_.t,S=_.l,L=19;L>4&&!O[qb[L-1]];--L);var B=u+5<<3,$=el(n,wo)+el(i,Sd)+a,Z=el(n,p)+el(i,y)+a+14+3*L+el(V,O)+2*V[16]+3*V[17]+7*V[18];if(l>=0&&B<=$&&B<=Z)return Mv(e,d,s.subarray(l,l+u));var re,le,ee,pe;if(wi(e,d,1+(Z<$)),d+=2,Z<$){re=gl(p,f,0),le=p,ee=gl(y,v,0),pe=y;var ue=gl(O,S,0);wi(e,d,j-257),wi(e,d+5,A-1),wi(e,d+10,L-4),d+=14;for(var P=0;P<L;++P)wi(e,d+3*P,O[qb[P]]);d+=3*L;for(var te=[D,E],U=0;U<2;++U)for(var H=te[U],P=0;P<H.length;++P){var G=H[P]&31;wi(e,d,ue[G]),d+=O[G],G>15&&(wi(e,d,H[P]>>5&127),d+=H[P]>>12)}}else re=C7,le=wo,ee=E7,pe=Sd;for(var P=0;P<o;++P){var se=r[P];if(se>255){var G=se>>18&31;Qc(e,d,re[G+257]),d+=le[G+257],G>7&&(wi(e,d,se>>23&31),d+=op[G]);var ne=se&31;Qc(e,d,ee[ne]),d+=pe[ne],ne>3&&(Qc(e,d,se>>5&8191),d+=cp[ne])}else Qc(e,d,re[se]),d+=le[se]}return Qc(e,d,re[256]),d+le[256]},A7=new ap([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Iv=new Rn(0),_7=function(s,e,t,r,n,i){var a=i.z||s.length,o=new Rn(r+a+5*(1+Math.ceil(a/7e3))+n),l=o.subarray(r,o.length-n),u=i.l,d=(i.r||0)&7;if(e){d&&(l[0]=i.r>>3);for(var m=A7[e-1],p=m>>13,f=m&8191,g=(1<<t)-1,y=i.p||new hn(32768),v=i.h||new hn(g+1),N=Math.ceil(t/3),D=2*N,j=function(De){return(s[De]^s[De+1]<<N^s[De+2]<<D)&g},C=new ap(25e3),E=new hn(288),A=new hn(32),V=0,P=0,_=i.i||0,O=0,S=i.w||0,L=0;_+2<a;++_){var B=j(_),$=_&32767,Z=v[B];if(y[$]=Z,v[B]=$,S<=_){var re=a-_;if((V>7e3||O>24576)&&(re>423||!u)){d=Kb(s,l,0,C,E,A,P,O,L,_-L,d),O=V=P=0,L=_;for(var le=0;le<286;++le)E[le]=0;for(var le=0;le<30;++le)A[le]=0}var ee=2,pe=0,ue=f,te=$-Z&32767;if(re>2&&B==j(_-te))for(var U=Math.min(p,re)-1,H=Math.min(32767,_),G=Math.min(258,re);te<=H&&--ue&&$!=Z;){if(s[_+ee]==s[_+ee-te]){for(var se=0;se<G&&s[_+se]==s[_+se-te];++se);if(se>ee){if(ee=se,pe=te,se>U)break;for(var ne=Math.min(te,se-2),ae=0,le=0;le<ne;++le){var he=_-te+le&32767,me=y[he],ge=he-me&32767;ge>ae&&(ae=ge,Z=he)}}}$=Z,Z=y[$],te+=$-Z&32767}if(pe){C[O++]=268435456|fh[ee]<<18|Gb[pe];var Pe=fh[ee]&31,xe=Gb[pe]&31;P+=op[Pe]+cp[xe],++E[257+Pe],++A[xe],S=_+ee,++V}else C[O++]=s[_],++E[s[_]]}}for(_=Math.max(_,S);_<a;++_)C[O++]=s[_],++E[s[_]];d=Kb(s,l,u,C,E,A,P,O,L,_-L,d),u||(i.r=d&7|l[d/8|0]<<3,d-=7,i.h=v,i.p=y,i.i=_,i.w=S)}else{for(var _=i.w||0;_<a+u;_+=65535){var Ie=_+65535;Ie>=a&&(l[d/8|0]=u,Ie=a),d=Mv(l,d+1,s.subarray(_,Ie))}i.i=a}return S7(o,0,r+Tv(d)+n)},Rv=function(){var s=1,e=0;return{p:function(t){for(var r=s,n=e,i=t.length|0,a=0;a!=i;){for(var o=Math.min(a+2655,i);a<o;++a)n+=r+=t[a];r=(r&65535)+15*(r>>16),n=(n&65535)+15*(n>>16)}s=r,e=n},d:function(){return s%=65521,e%=65521,(s&255)<<24|(s&65280)<<8|(e&255)<<8|e>>8}}},U7=function(s,e,t,r,n){if(!n&&(n={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),a=new Rn(i.length+s.length);a.set(i),a.set(s,i.length),s=a,n.w=i.length}return _7(s,e.level==null?6:e.level,e.mem==null?n.l?Math.ceil(Math.max(8,Math.min(13,Math.log(s.length)))*1.5):20:12+e.mem,t,r,n)},Ov=function(s,e,t){for(;t;++e)s[e]=t,t>>>=8},V7=function(s,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(s[0]=120,s[1]=r<<6|(e.dictionary&&32),s[1]|=31-(s[0]<<8|s[1])%31,e.dictionary){var n=Rv();n.p(e.dictionary),Ov(s,2,n.d())}};function gh(s,e){e||(e={});var t=Rv();t.p(s);var r=U7(s,e,e.dictionary?6:2,4);return V7(r,e),Ov(r,r.length-4,t.d()),r}var L7=typeof TextDecoder<"u"&&new TextDecoder,T7=0;try{L7.decode(Iv,{stream:!0}),T7=1}catch{}function M7(s){if(Array.isArray(s))return s}function I7(s,e){var t=s==null?null:typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(t!=null){var r,n,i,a,o=[],l=!0,u=!1;try{if(i=(t=t.call(s)).next,e!==0)for(;!(l=(r=i.call(t)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){u=!0,n=d}finally{try{if(!l&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw n}}return o}}function Xb(s,e){(e==null||e>s.length)&&(e=s.length);for(var t=0,r=Array(e);t<e;t++)r[t]=s[t];return r}function R7(s,e){if(s){if(typeof s=="string")return Xb(s,e);var t={}.toString.call(s).slice(8,-1);return t==="Object"&&s.constructor&&(t=s.constructor.name),t==="Map"||t==="Set"?Array.from(s):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Xb(s,e):void 0}}function O7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jb(s,e){return M7(s)||I7(s,e)||R7(s,e)||O7()}function Zb(s,e="utf8"){return new TextDecoder(e).decode(s)}const F7=new TextEncoder;function B7(s){return F7.encode(s)}const z7=1024*8,$7=(()=>{const s=new Uint8Array(4),e=new Uint32Array(s.buffer);return!((e[0]=1)&s[0])})(),yf={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class lp{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=z7,t={}){let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const n=t.offset?t.offset>>>0:0,i=e.byteLength-n;let a=n;(ArrayBuffer.isView(e)||e instanceof lp)&&(e.byteLength!==e.buffer.byteLength&&(a=e.byteOffset+n),e=e.buffer),r?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=e,this.length=i,this.byteLength=i,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,i),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,n=new Uint8Array(r);n.set(new Uint8Array(this.buffer)),this.buffer=n.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const r=yf[t].BYTES_PER_ELEMENT*e,n=this.byteOffset+this.offset,i=this.buffer.slice(n,n+r);if(this.littleEndian===$7&&t!=="uint8"&&t!=="int8"){const o=new Uint8Array(this.buffer.slice(n,n+r));o.reverse();const l=new yf[t](o.buffer);return this.offset+=r,l.reverse(),l}const a=new yf[t](i);return this.offset+=r,a}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let r=0;r<e;r++)t+=this.readChar();return t}readUtf8(e=1){return Zb(this.readBytes(e))}decodeText(e=1,t="utf8"){return Zb(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(B7(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function xc(s){let e=s.length;for(;--e>=0;)s[e]=0}const W7=3,H7=258,Fv=29,q7=256,G7=q7+1+Fv,Bv=30,Y7=512,K7=new Array((G7+2)*2);xc(K7);const X7=new Array(Bv*2);xc(X7);const J7=new Array(Y7);xc(J7);const Z7=new Array(H7-W7+1);xc(Z7);const Q7=new Array(Fv);xc(Q7);const eU=new Array(Bv);xc(eU);const tU=(s,e,t,r)=>{let n=s&65535|0,i=s>>>16&65535|0,a=0;for(;t!==0;){a=t>2e3?2e3:t,t-=a;do n=n+e[r++]|0,i=i+n|0;while(--a);n%=65521,i%=65521}return n|i<<16|0};var bh=tU;const sU=()=>{let s,e=[];for(var t=0;t<256;t++){s=t;for(var r=0;r<8;r++)s=s&1?3988292384^s>>>1:s>>>1;e[t]=s}return e},rU=new Uint32Array(sU()),nU=(s,e,t,r)=>{const n=rU,i=r+t;s^=-1;for(let a=r;a<i;a++)s=s>>>8^n[(s^e[a])&255];return s^-1};var Kn=nU,yh={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},zv={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const iU=(s,e)=>Object.prototype.hasOwnProperty.call(s,e);var aU=function(s){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const r in t)iU(t,r)&&(s[r]=t[r])}}return s},oU=s=>{let e=0;for(let r=0,n=s.length;r<n;r++)e+=s[r].length;const t=new Uint8Array(e);for(let r=0,n=0,i=s.length;r<i;r++){let a=s[r];t.set(a,n),n+=a.length}return t},$v={assign:aU,flattenChunks:oU};let Wv=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Wv=!1}const Il=new Uint8Array(256);for(let s=0;s<256;s++)Il[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;Il[254]=Il[254]=1;var cU=s=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(s);let e,t,r,n,i,a=s.length,o=0;for(n=0;n<a;n++)t=s.charCodeAt(n),(t&64512)===55296&&n+1<a&&(r=s.charCodeAt(n+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),n++)),o+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(o),i=0,n=0;i<o;n++)t=s.charCodeAt(n),(t&64512)===55296&&n+1<a&&(r=s.charCodeAt(n+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),n++)),t<128?e[i++]=t:t<2048?(e[i++]=192|t>>>6,e[i++]=128|t&63):t<65536?(e[i++]=224|t>>>12,e[i++]=128|t>>>6&63,e[i++]=128|t&63):(e[i++]=240|t>>>18,e[i++]=128|t>>>12&63,e[i++]=128|t>>>6&63,e[i++]=128|t&63);return e};const lU=(s,e)=>{if(e<65534&&s.subarray&&Wv)return String.fromCharCode.apply(null,s.length===e?s:s.subarray(0,e));let t="";for(let r=0;r<e;r++)t+=String.fromCharCode(s[r]);return t};var uU=(s,e)=>{const t=e||s.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(s.subarray(0,e));let r,n;const i=new Array(t*2);for(n=0,r=0;r<t;){let a=s[r++];if(a<128){i[n++]=a;continue}let o=Il[a];if(o>4){i[n++]=65533,r+=o-1;continue}for(a&=o===2?31:o===3?15:7;o>1&&r<t;)a=a<<6|s[r++]&63,o--;if(o>1){i[n++]=65533;continue}a<65536?i[n++]=a:(a-=65536,i[n++]=55296|a>>10&1023,i[n++]=56320|a&1023)}return lU(i,n)},dU=(s,e)=>{e=e||s.length,e>s.length&&(e=s.length);let t=e-1;for(;t>=0&&(s[t]&192)===128;)t--;return t<0||t===0?e:t+Il[s[t]]>e?t:e},xh={string2buf:cU,buf2string:uU,utf8border:dU};function mU(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var fU=mU;const Gu=16209,hU=16191;var pU=function(e,t){let r,n,i,a,o,l,u,d,m,p,f,g,y,v,N,D,j,C,E,A,V,P,_,O;const S=e.state;r=e.next_in,_=e.input,n=r+(e.avail_in-5),i=e.next_out,O=e.output,a=i-(t-e.avail_out),o=i+(e.avail_out-257),l=S.dmax,u=S.wsize,d=S.whave,m=S.wnext,p=S.window,f=S.hold,g=S.bits,y=S.lencode,v=S.distcode,N=(1<<S.lenbits)-1,D=(1<<S.distbits)-1;e:do{g<15&&(f+=_[r++]<<g,g+=8,f+=_[r++]<<g,g+=8),j=y[f&N];t:for(;;){if(C=j>>>24,f>>>=C,g-=C,C=j>>>16&255,C===0)O[i++]=j&65535;else if(C&16){E=j&65535,C&=15,C&&(g<C&&(f+=_[r++]<<g,g+=8),E+=f&(1<<C)-1,f>>>=C,g-=C),g<15&&(f+=_[r++]<<g,g+=8,f+=_[r++]<<g,g+=8),j=v[f&D];s:for(;;){if(C=j>>>24,f>>>=C,g-=C,C=j>>>16&255,C&16){if(A=j&65535,C&=15,g<C&&(f+=_[r++]<<g,g+=8,g<C&&(f+=_[r++]<<g,g+=8)),A+=f&(1<<C)-1,A>l){e.msg="invalid distance too far back",S.mode=Gu;break e}if(f>>>=C,g-=C,C=i-a,A>C){if(C=A-C,C>d&&S.sane){e.msg="invalid distance too far back",S.mode=Gu;break e}if(V=0,P=p,m===0){if(V+=u-C,C<E){E-=C;do O[i++]=p[V++];while(--C);V=i-A,P=O}}else if(m<C){if(V+=u+m-C,C-=m,C<E){E-=C;do O[i++]=p[V++];while(--C);if(V=0,m<E){C=m,E-=C;do O[i++]=p[V++];while(--C);V=i-A,P=O}}}else if(V+=m-C,C<E){E-=C;do O[i++]=p[V++];while(--C);V=i-A,P=O}for(;E>2;)O[i++]=P[V++],O[i++]=P[V++],O[i++]=P[V++],E-=3;E&&(O[i++]=P[V++],E>1&&(O[i++]=P[V++]))}else{V=i-A;do O[i++]=O[V++],O[i++]=O[V++],O[i++]=O[V++],E-=3;while(E>2);E&&(O[i++]=O[V++],E>1&&(O[i++]=O[V++]))}}else if((C&64)===0){j=v[(j&65535)+(f&(1<<C)-1)];continue s}else{e.msg="invalid distance code",S.mode=Gu;break e}break}}else if((C&64)===0){j=y[(j&65535)+(f&(1<<C)-1)];continue t}else if(C&32){S.mode=hU;break e}else{e.msg="invalid literal/length code",S.mode=Gu;break e}break}}while(r<n&&i<o);E=g>>3,r-=E,g-=E<<3,f&=(1<<g)-1,e.next_in=r,e.next_out=i,e.avail_in=r<n?5+(n-r):5-(r-n),e.avail_out=i<o?257+(o-i):257-(i-o),S.hold=f,S.bits=g};const Ko=15,Qb=852,ey=592,ty=0,xf=1,sy=2,gU=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),bU=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),yU=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),xU=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),vU=(s,e,t,r,n,i,a,o)=>{const l=o.bits;let u=0,d=0,m=0,p=0,f=0,g=0,y=0,v=0,N=0,D=0,j,C,E,A,V,P=null,_;const O=new Uint16Array(Ko+1),S=new Uint16Array(Ko+1);let L=null,B,$,Z;for(u=0;u<=Ko;u++)O[u]=0;for(d=0;d<r;d++)O[e[t+d]]++;for(f=l,p=Ko;p>=1&&O[p]===0;p--);if(f>p&&(f=p),p===0)return n[i++]=1<<24|64<<16|0,n[i++]=1<<24|64<<16|0,o.bits=1,0;for(m=1;m<p&&O[m]===0;m++);for(f<m&&(f=m),v=1,u=1;u<=Ko;u++)if(v<<=1,v-=O[u],v<0)return-1;if(v>0&&(s===ty||p!==1))return-1;for(S[1]=0,u=1;u<Ko;u++)S[u+1]=S[u]+O[u];for(d=0;d<r;d++)e[t+d]!==0&&(a[S[e[t+d]]++]=d);if(s===ty?(P=L=a,_=20):s===xf?(P=gU,L=bU,_=257):(P=yU,L=xU,_=0),D=0,d=0,u=m,V=i,g=f,y=0,E=-1,N=1<<f,A=N-1,s===xf&&N>Qb||s===sy&&N>ey)return 1;for(;;){B=u-y,a[d]+1<_?($=0,Z=a[d]):a[d]>=_?($=L[a[d]-_],Z=P[a[d]-_]):($=96,Z=0),j=1<<u-y,C=1<<g,m=C;do C-=j,n[V+(D>>y)+C]=B<<24|$<<16|Z|0;while(C!==0);for(j=1<<u-1;D&j;)j>>=1;if(j!==0?(D&=j-1,D+=j):D=0,d++,--O[u]===0){if(u===p)break;u=e[t+a[d]]}if(u>f&&(D&A)!==E){for(y===0&&(y=f),V+=m,g=u-y,v=1<<g;g+y<p&&(v-=O[g+y],!(v<=0));)g++,v<<=1;if(N+=1<<g,s===xf&&N>Qb||s===sy&&N>ey)return 1;E=D&A,n[E]=f<<24|g<<16|V-i|0}}return D!==0&&(n[V+D]=u-y<<24|64<<16|0),o.bits=f,0};var bl=vU;const NU=0,Hv=1,qv=2,{Z_FINISH:ry,Z_BLOCK:kU,Z_TREES:Yu,Z_OK:Po,Z_STREAM_END:DU,Z_NEED_DICT:wU,Z_STREAM_ERROR:jn,Z_DATA_ERROR:Gv,Z_MEM_ERROR:Yv,Z_BUF_ERROR:PU,Z_DEFLATED:ny}=zv,Kd=16180,iy=16181,ay=16182,oy=16183,cy=16184,ly=16185,uy=16186,dy=16187,my=16188,fy=16189,Ad=16190,Pi=16191,vf=16192,hy=16193,Nf=16194,py=16195,gy=16196,by=16197,yy=16198,Ku=16199,Xu=16200,xy=16201,vy=16202,Ny=16203,ky=16204,Dy=16205,kf=16206,wy=16207,Py=16208,ws=16209,Kv=16210,Xv=16211,jU=852,CU=592,EU=15,SU=EU,jy=s=>(s>>>24&255)+(s>>>8&65280)+((s&65280)<<8)+((s&255)<<24);function AU(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Eo=s=>{if(!s)return 1;const e=s.state;return!e||e.strm!==s||e.mode<Kd||e.mode>Xv?1:0},Jv=s=>{if(Eo(s))return jn;const e=s.state;return s.total_in=s.total_out=e.total=0,s.msg="",e.wrap&&(s.adler=e.wrap&1),e.mode=Kd,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(jU),e.distcode=e.distdyn=new Int32Array(CU),e.sane=1,e.back=-1,Po},Zv=s=>{if(Eo(s))return jn;const e=s.state;return e.wsize=0,e.whave=0,e.wnext=0,Jv(s)},Qv=(s,e)=>{let t;if(Eo(s))return jn;const r=s.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?jn:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=t,r.wbits=e,Zv(s))},eN=(s,e)=>{if(!s)return jn;const t=new AU;s.state=t,t.strm=s,t.window=null,t.mode=Kd;const r=Qv(s,e);return r!==Po&&(s.state=null),r},_U=s=>eN(s,SU);let Cy=!0,Df,wf;const UU=s=>{if(Cy){Df=new Int32Array(512),wf=new Int32Array(32);let e=0;for(;e<144;)s.lens[e++]=8;for(;e<256;)s.lens[e++]=9;for(;e<280;)s.lens[e++]=7;for(;e<288;)s.lens[e++]=8;for(bl(Hv,s.lens,0,288,Df,0,s.work,{bits:9}),e=0;e<32;)s.lens[e++]=5;bl(qv,s.lens,0,32,wf,0,s.work,{bits:5}),Cy=!1}s.lencode=Df,s.lenbits=9,s.distcode=wf,s.distbits=5},tN=(s,e,t,r)=>{let n;const i=s.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),r>=i.wsize?(i.window.set(e.subarray(t-i.wsize,t),0),i.wnext=0,i.whave=i.wsize):(n=i.wsize-i.wnext,n>r&&(n=r),i.window.set(e.subarray(t-r,t-r+n),i.wnext),r-=n,r?(i.window.set(e.subarray(t-r,t),0),i.wnext=r,i.whave=i.wsize):(i.wnext+=n,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=n))),0},VU=(s,e)=>{let t,r,n,i,a,o,l,u,d,m,p,f,g,y,v=0,N,D,j,C,E,A,V,P;const _=new Uint8Array(4);let O,S;const L=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Eo(s)||!s.output||!s.input&&s.avail_in!==0)return jn;t=s.state,t.mode===Pi&&(t.mode=vf),a=s.next_out,n=s.output,l=s.avail_out,i=s.next_in,r=s.input,o=s.avail_in,u=t.hold,d=t.bits,m=o,p=l,P=Po;e:for(;;)switch(t.mode){case Kd:if(t.wrap===0){t.mode=vf;break}for(;d<16;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}if(t.wrap&2&&u===35615){t.wbits===0&&(t.wbits=15),t.check=0,_[0]=u&255,_[1]=u>>>8&255,t.check=Kn(t.check,_,2,0),u=0,d=0,t.mode=iy;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((u&255)<<8)+(u>>8))%31){s.msg="incorrect header check",t.mode=ws;break}if((u&15)!==ny){s.msg="unknown compression method",t.mode=ws;break}if(u>>>=4,d-=4,V=(u&15)+8,t.wbits===0&&(t.wbits=V),V>15||V>t.wbits){s.msg="invalid window size",t.mode=ws;break}t.dmax=1<<t.wbits,t.flags=0,s.adler=t.check=1,t.mode=u&512?fy:Pi,u=0,d=0;break;case iy:for(;d<16;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}if(t.flags=u,(t.flags&255)!==ny){s.msg="unknown compression method",t.mode=ws;break}if(t.flags&57344){s.msg="unknown header flags set",t.mode=ws;break}t.head&&(t.head.text=u>>8&1),t.flags&512&&t.wrap&4&&(_[0]=u&255,_[1]=u>>>8&255,t.check=Kn(t.check,_,2,0)),u=0,d=0,t.mode=ay;case ay:for(;d<32;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}t.head&&(t.head.time=u),t.flags&512&&t.wrap&4&&(_[0]=u&255,_[1]=u>>>8&255,_[2]=u>>>16&255,_[3]=u>>>24&255,t.check=Kn(t.check,_,4,0)),u=0,d=0,t.mode=oy;case oy:for(;d<16;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}t.head&&(t.head.xflags=u&255,t.head.os=u>>8),t.flags&512&&t.wrap&4&&(_[0]=u&255,_[1]=u>>>8&255,t.check=Kn(t.check,_,2,0)),u=0,d=0,t.mode=cy;case cy:if(t.flags&1024){for(;d<16;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}t.length=u,t.head&&(t.head.extra_len=u),t.flags&512&&t.wrap&4&&(_[0]=u&255,_[1]=u>>>8&255,t.check=Kn(t.check,_,2,0)),u=0,d=0}else t.head&&(t.head.extra=null);t.mode=ly;case ly:if(t.flags&1024&&(f=t.length,f>o&&(f=o),f&&(t.head&&(V=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(i,i+f),V)),t.flags&512&&t.wrap&4&&(t.check=Kn(t.check,r,f,i)),o-=f,i+=f,t.length-=f),t.length))break e;t.length=0,t.mode=uy;case uy:if(t.flags&2048){if(o===0)break e;f=0;do V=r[i+f++],t.head&&V&&t.length<65536&&(t.head.name+=String.fromCharCode(V));while(V&&f<o);if(t.flags&512&&t.wrap&4&&(t.check=Kn(t.check,r,f,i)),o-=f,i+=f,V)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=dy;case dy:if(t.flags&4096){if(o===0)break e;f=0;do V=r[i+f++],t.head&&V&&t.length<65536&&(t.head.comment+=String.fromCharCode(V));while(V&&f<o);if(t.flags&512&&t.wrap&4&&(t.check=Kn(t.check,r,f,i)),o-=f,i+=f,V)break e}else t.head&&(t.head.comment=null);t.mode=my;case my:if(t.flags&512){for(;d<16;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}if(t.wrap&4&&u!==(t.check&65535)){s.msg="header crc mismatch",t.mode=ws;break}u=0,d=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),s.adler=t.check=0,t.mode=Pi;break;case fy:for(;d<32;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}s.adler=t.check=jy(u),u=0,d=0,t.mode=Ad;case Ad:if(t.havedict===0)return s.next_out=a,s.avail_out=l,s.next_in=i,s.avail_in=o,t.hold=u,t.bits=d,wU;s.adler=t.check=1,t.mode=Pi;case Pi:if(e===kU||e===Yu)break e;case vf:if(t.last){u>>>=d&7,d-=d&7,t.mode=kf;break}for(;d<3;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}switch(t.last=u&1,u>>>=1,d-=1,u&3){case 0:t.mode=hy;break;case 1:if(UU(t),t.mode=Ku,e===Yu){u>>>=2,d-=2;break e}break;case 2:t.mode=gy;break;case 3:s.msg="invalid block type",t.mode=ws}u>>>=2,d-=2;break;case hy:for(u>>>=d&7,d-=d&7;d<32;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){s.msg="invalid stored block lengths",t.mode=ws;break}if(t.length=u&65535,u=0,d=0,t.mode=Nf,e===Yu)break e;case Nf:t.mode=py;case py:if(f=t.length,f){if(f>o&&(f=o),f>l&&(f=l),f===0)break e;n.set(r.subarray(i,i+f),a),o-=f,i+=f,l-=f,a+=f,t.length-=f;break}t.mode=Pi;break;case gy:for(;d<14;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}if(t.nlen=(u&31)+257,u>>>=5,d-=5,t.ndist=(u&31)+1,u>>>=5,d-=5,t.ncode=(u&15)+4,u>>>=4,d-=4,t.nlen>286||t.ndist>30){s.msg="too many length or distance symbols",t.mode=ws;break}t.have=0,t.mode=by;case by:for(;t.have<t.ncode;){for(;d<3;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}t.lens[L[t.have++]]=u&7,u>>>=3,d-=3}for(;t.have<19;)t.lens[L[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,O={bits:t.lenbits},P=bl(NU,t.lens,0,19,t.lencode,0,t.work,O),t.lenbits=O.bits,P){s.msg="invalid code lengths set",t.mode=ws;break}t.have=0,t.mode=yy;case yy:for(;t.have<t.nlen+t.ndist;){for(;v=t.lencode[u&(1<<t.lenbits)-1],N=v>>>24,D=v>>>16&255,j=v&65535,!(N<=d);){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}if(j<16)u>>>=N,d-=N,t.lens[t.have++]=j;else{if(j===16){for(S=N+2;d<S;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}if(u>>>=N,d-=N,t.have===0){s.msg="invalid bit length repeat",t.mode=ws;break}V=t.lens[t.have-1],f=3+(u&3),u>>>=2,d-=2}else if(j===17){for(S=N+3;d<S;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}u>>>=N,d-=N,V=0,f=3+(u&7),u>>>=3,d-=3}else{for(S=N+7;d<S;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}u>>>=N,d-=N,V=0,f=11+(u&127),u>>>=7,d-=7}if(t.have+f>t.nlen+t.ndist){s.msg="invalid bit length repeat",t.mode=ws;break}for(;f--;)t.lens[t.have++]=V}}if(t.mode===ws)break;if(t.lens[256]===0){s.msg="invalid code -- missing end-of-block",t.mode=ws;break}if(t.lenbits=9,O={bits:t.lenbits},P=bl(Hv,t.lens,0,t.nlen,t.lencode,0,t.work,O),t.lenbits=O.bits,P){s.msg="invalid literal/lengths set",t.mode=ws;break}if(t.distbits=6,t.distcode=t.distdyn,O={bits:t.distbits},P=bl(qv,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,O),t.distbits=O.bits,P){s.msg="invalid distances set",t.mode=ws;break}if(t.mode=Ku,e===Yu)break e;case Ku:t.mode=Xu;case Xu:if(o>=6&&l>=258){s.next_out=a,s.avail_out=l,s.next_in=i,s.avail_in=o,t.hold=u,t.bits=d,pU(s,p),a=s.next_out,n=s.output,l=s.avail_out,i=s.next_in,r=s.input,o=s.avail_in,u=t.hold,d=t.bits,t.mode===Pi&&(t.back=-1);break}for(t.back=0;v=t.lencode[u&(1<<t.lenbits)-1],N=v>>>24,D=v>>>16&255,j=v&65535,!(N<=d);){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}if(D&&(D&240)===0){for(C=N,E=D,A=j;v=t.lencode[A+((u&(1<<C+E)-1)>>C)],N=v>>>24,D=v>>>16&255,j=v&65535,!(C+N<=d);){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}u>>>=C,d-=C,t.back+=C}if(u>>>=N,d-=N,t.back+=N,t.length=j,D===0){t.mode=Dy;break}if(D&32){t.back=-1,t.mode=Pi;break}if(D&64){s.msg="invalid literal/length code",t.mode=ws;break}t.extra=D&15,t.mode=xy;case xy:if(t.extra){for(S=t.extra;d<S;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}t.length+=u&(1<<t.extra)-1,u>>>=t.extra,d-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=vy;case vy:for(;v=t.distcode[u&(1<<t.distbits)-1],N=v>>>24,D=v>>>16&255,j=v&65535,!(N<=d);){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}if((D&240)===0){for(C=N,E=D,A=j;v=t.distcode[A+((u&(1<<C+E)-1)>>C)],N=v>>>24,D=v>>>16&255,j=v&65535,!(C+N<=d);){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}u>>>=C,d-=C,t.back+=C}if(u>>>=N,d-=N,t.back+=N,D&64){s.msg="invalid distance code",t.mode=ws;break}t.offset=j,t.extra=D&15,t.mode=Ny;case Ny:if(t.extra){for(S=t.extra;d<S;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}t.offset+=u&(1<<t.extra)-1,u>>>=t.extra,d-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){s.msg="invalid distance too far back",t.mode=ws;break}t.mode=ky;case ky:if(l===0)break e;if(f=p-l,t.offset>f){if(f=t.offset-f,f>t.whave&&t.sane){s.msg="invalid distance too far back",t.mode=ws;break}f>t.wnext?(f-=t.wnext,g=t.wsize-f):g=t.wnext-f,f>t.length&&(f=t.length),y=t.window}else y=n,g=a-t.offset,f=t.length;f>l&&(f=l),l-=f,t.length-=f;do n[a++]=y[g++];while(--f);t.length===0&&(t.mode=Xu);break;case Dy:if(l===0)break e;n[a++]=t.length,l--,t.mode=Xu;break;case kf:if(t.wrap){for(;d<32;){if(o===0)break e;o--,u|=r[i++]<<d,d+=8}if(p-=l,s.total_out+=p,t.total+=p,t.wrap&4&&p&&(s.adler=t.check=t.flags?Kn(t.check,n,p,a-p):bh(t.check,n,p,a-p)),p=l,t.wrap&4&&(t.flags?u:jy(u))!==t.check){s.msg="incorrect data check",t.mode=ws;break}u=0,d=0}t.mode=wy;case wy:if(t.wrap&&t.flags){for(;d<32;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}if(t.wrap&4&&u!==(t.total&4294967295)){s.msg="incorrect length check",t.mode=ws;break}u=0,d=0}t.mode=Py;case Py:P=DU;break e;case ws:P=Gv;break e;case Kv:return Yv;case Xv:default:return jn}return s.next_out=a,s.avail_out=l,s.next_in=i,s.avail_in=o,t.hold=u,t.bits=d,(t.wsize||p!==s.avail_out&&t.mode<ws&&(t.mode<kf||e!==ry))&&tN(s,s.output,s.next_out,p-s.avail_out),m-=s.avail_in,p-=s.avail_out,s.total_in+=m,s.total_out+=p,t.total+=p,t.wrap&4&&p&&(s.adler=t.check=t.flags?Kn(t.check,n,p,s.next_out-p):bh(t.check,n,p,s.next_out-p)),s.data_type=t.bits+(t.last?64:0)+(t.mode===Pi?128:0)+(t.mode===Ku||t.mode===Nf?256:0),(m===0&&p===0||e===ry)&&P===Po&&(P=PU),P},LU=s=>{if(Eo(s))return jn;let e=s.state;return e.window&&(e.window=null),s.state=null,Po},TU=(s,e)=>{if(Eo(s))return jn;const t=s.state;return(t.wrap&2)===0?jn:(t.head=e,e.done=!1,Po)},MU=(s,e)=>{const t=e.length;let r,n,i;return Eo(s)||(r=s.state,r.wrap!==0&&r.mode!==Ad)?jn:r.mode===Ad&&(n=1,n=bh(n,e,t,0),n!==r.check)?Gv:(i=tN(s,e,t,t),i?(r.mode=Kv,Yv):(r.havedict=1,Po))};var IU=Zv,RU=Qv,OU=Jv,FU=_U,BU=eN,zU=VU,$U=LU,WU=TU,HU=MU,qU="pako inflate (from Nodeca project)",_i={inflateReset:IU,inflateReset2:RU,inflateResetKeep:OU,inflateInit:FU,inflateInit2:BU,inflate:zU,inflateEnd:$U,inflateGetHeader:WU,inflateSetDictionary:HU,inflateInfo:qU};function GU(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var YU=GU;const sN=Object.prototype.toString,{Z_NO_FLUSH:KU,Z_FINISH:XU,Z_OK:Rl,Z_STREAM_END:Pf,Z_NEED_DICT:jf,Z_STREAM_ERROR:JU,Z_DATA_ERROR:Ey,Z_MEM_ERROR:ZU}=zv;function Wl(s){this.options=$v.assign({chunkSize:1024*64,windowBits:15,to:""},s||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(s&&s.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new fU,this.strm.avail_out=0;let t=_i.inflateInit2(this.strm,e.windowBits);if(t!==Rl)throw new Error(yh[t]);if(this.header=new YU,_i.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=xh.string2buf(e.dictionary):sN.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=_i.inflateSetDictionary(this.strm,e.dictionary),t!==Rl)))throw new Error(yh[t])}Wl.prototype.push=function(s,e){const t=this.strm,r=this.options.chunkSize,n=this.options.dictionary;let i,a,o;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?XU:KU,sN.call(s)==="[object ArrayBuffer]"?t.input=new Uint8Array(s):t.input=s,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),i=_i.inflate(t,a),i===jf&&n&&(i=_i.inflateSetDictionary(t,n),i===Rl?i=_i.inflate(t,a):i===Ey&&(i=jf));t.avail_in>0&&i===Pf&&t.state.wrap>0&&s[t.next_in]!==0;)_i.inflateReset(t),i=_i.inflate(t,a);switch(i){case JU:case Ey:case jf:case ZU:return this.onEnd(i),this.ended=!0,!1}if(o=t.avail_out,t.next_out&&(t.avail_out===0||i===Pf))if(this.options.to==="string"){let l=xh.utf8border(t.output,t.next_out),u=t.next_out-l,d=xh.buf2string(t.output,l);t.next_out=u,t.avail_out=r-u,u&&t.output.set(t.output.subarray(l,l+u),0),this.onData(d)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(i===Rl&&o===0)){if(i===Pf)return i=_i.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Wl.prototype.onData=function(s){this.chunks.push(s)};Wl.prototype.onEnd=function(s){s===Rl&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=$v.flattenChunks(this.chunks)),this.chunks=[],this.err=s,this.msg=this.strm.msg};function QU(s,e){const t=new Wl(e);if(t.push(s),t.err)throw t.msg||yh[t.err];return t.result}var eV=Wl,tV=QU,sV={Inflate:eV,inflate:tV};const{Inflate:rV,inflate:nV}=sV;var Sy=rV,iV=nV;const rN=[];for(let s=0;s<256;s++){let e=s;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;rN[s]=e}const Ay=4294967295;function aV(s,e,t){let r=s;for(let n=0;n<t;n++)r=rN[(r^e[n])&255]^r>>>8;return r}function oV(s,e){return(aV(Ay,s,e)^Ay)>>>0}function _y(s,e,t){const r=s.readUint32(),n=oV(new Uint8Array(s.buffer,s.byteOffset+s.offset-e-4,e),e);if(n!==r)throw new Error(`CRC mismatch for chunk ${t}. Expected ${r}, found ${n}`)}function nN(s,e,t){for(let r=0;r<t;r++)e[r]=s[r]}function iN(s,e,t,r){let n=0;for(;n<r;n++)e[n]=s[n];for(;n<t;n++)e[n]=s[n]+e[n-r]&255}function aN(s,e,t,r){let n=0;if(t.length===0)for(;n<r;n++)e[n]=s[n];else for(;n<r;n++)e[n]=s[n]+t[n]&255}function oN(s,e,t,r,n){let i=0;if(t.length===0){for(;i<n;i++)e[i]=s[i];for(;i<r;i++)e[i]=s[i]+(e[i-n]>>1)&255}else{for(;i<n;i++)e[i]=s[i]+(t[i]>>1)&255;for(;i<r;i++)e[i]=s[i]+(e[i-n]+t[i]>>1)&255}}function cN(s,e,t,r,n){let i=0;if(t.length===0){for(;i<n;i++)e[i]=s[i];for(;i<r;i++)e[i]=s[i]+e[i-n]&255}else{for(;i<n;i++)e[i]=s[i]+t[i]&255;for(;i<r;i++)e[i]=s[i]+cV(e[i-n],t[i],t[i-n])&255}}function cV(s,e,t){const r=s+e-t,n=Math.abs(r-s),i=Math.abs(r-e),a=Math.abs(r-t);return n<=i&&n<=a?s:i<=a?e:t}function lV(s,e,t,r,n,i){switch(s){case 0:nN(e,t,n);break;case 1:iN(e,t,n,i);break;case 2:aN(e,t,r,n);break;case 3:oN(e,t,r,n,i);break;case 4:cN(e,t,r,n,i);break;default:throw new Error(`Unsupported filter: ${s}`)}}const uV=new Uint16Array([255]),dV=new Uint8Array(uV.buffer),mV=dV[0]===255;function fV(s){const{data:e,width:t,height:r,channels:n,depth:i}=s,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(i/8)*n,l=new Uint8Array(r*t*o);let u=0;for(let d=0;d<7;d++){const m=a[d],p=Math.ceil((t-m.x)/m.xStep),f=Math.ceil((r-m.y)/m.yStep);if(p<=0||f<=0)continue;const g=p*o,y=new Uint8Array(g);for(let v=0;v<f;v++){const N=e[u++],D=e.subarray(u,u+g);u+=g;const j=new Uint8Array(g);lV(N,D,j,y,g,o),y.set(j);for(let C=0;C<p;C++){const E=m.x+C*m.xStep,A=m.y+v*m.yStep;if(!(E>=t||A>=r))for(let V=0;V<o;V++)l[(A*t+E)*o+V]=j[C*o+V]}}}if(i===16){const d=new Uint16Array(l.buffer);if(mV)for(let m=0;m<d.length;m++)d[m]=hV(d[m]);return d}else return l}function hV(s){return(s&255)<<8|s>>8&255}const pV=new Uint16Array([255]),gV=new Uint8Array(pV.buffer),bV=gV[0]===255,yV=new Uint8Array(0);function Uy(s){const{data:e,width:t,height:r,channels:n,depth:i}=s,a=Math.ceil(i/8)*n,o=Math.ceil(i/8*n*t),l=new Uint8Array(r*o);let u=yV,d=0,m,p;for(let f=0;f<r;f++){switch(m=e.subarray(d+1,d+1+o),p=l.subarray(f*o,(f+1)*o),e[d]){case 0:nN(m,p,o);break;case 1:iN(m,p,o,a);break;case 2:aN(m,p,u,o);break;case 3:oN(m,p,u,o,a);break;case 4:cN(m,p,u,o,a);break;default:throw new Error(`Unsupported filter: ${e[d]}`)}u=p,d+=o+1}if(i===16){const f=new Uint16Array(l.buffer);if(bV)for(let g=0;g<f.length;g++)f[g]=xV(f[g]);return f}else return l}function xV(s){return(s&255)<<8|s>>8&255}const dd=Uint8Array.of(137,80,78,71,13,10,26,10);function Vy(s){if(!vV(s.readBytes(dd.length)))throw new Error("wrong PNG signature")}function vV(s){if(s.length<dd.length)return!1;for(let e=0;e<dd.length;e++)if(s[e]!==dd[e])return!1;return!0}const NV="tEXt",kV=0,lN=new TextDecoder("latin1");function DV(s){if(PV(s),s.length===0||s.length>79)throw new Error("keyword length must be between 1 and 79")}const wV=/^[\u0000-\u00FF]*$/;function PV(s){if(!wV.test(s))throw new Error("invalid latin1 text")}function jV(s,e,t){const r=uN(e);s[r]=CV(e,t-r.length-1)}function uN(s){for(s.mark();s.readByte()!==kV;);const e=s.offset;s.reset();const t=lN.decode(s.readBytes(e-s.offset-1));return s.skip(1),DV(t),t}function CV(s,e){return lN.decode(s.readBytes(e))}const mn={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Cf={UNKNOWN:-1,DEFLATE:0},Ly={UNKNOWN:-1,ADAPTIVE:0},Ef={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Ju={NONE:0,BACKGROUND:1,PREVIOUS:2},Sf={SOURCE:0,OVER:1};class EV extends lp{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:r=!1}=t;this._checkCrc=r,this._inflator=new Sy,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Cf.UNKNOWN,this._filterMethod=Ly.UNKNOWN,this._interlaceMethod=Ef.UNKNOWN,this._colorType=mn.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Vy(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(Vy(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const r=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case NV:jV(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?_y(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const r=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=r+e;break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?_y(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=SV(this.readUint8());const t=this.readUint8();this._colorType=t;let r;switch(t){case mn.GREYSCALE:r=1;break;case mn.TRUECOLOUR:r=3;break;case mn.INDEXED_COLOUR:r=1;break;case mn.GREYSCALE_ALPHA:r=2;break;case mn.TRUECOLOUR_ALPHA:r=4;break;case mn.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==Cf.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const r=[];this._palette=r;for(let n=0;n<t;n++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,r=this.offset+this.byteOffset;if(r+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case mn.GREYSCALE:case mn.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case mn.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const r=this.readByte();this._palette[t].push(r)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case mn.UNKNOWN:case mn.GREYSCALE_ALPHA:case mn.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=uN(this),r=this.readUint8();if(r!==Cf.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const n=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:iV(n)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:t,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=Uy({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)t.data=r.data;else{const n=this._apng.frames.at(e-1);this.disposeFrame(r,n,t),this.addFrameDataToCanvas(t,r)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,r){switch(e.disposeOp){case Ju.NONE:break;case Ju.BACKGROUND:for(let n=0;n<this._png.height;n++)for(let i=0;i<this._png.width;i++){const a=(n*e.width+i)*this._png.channels;for(let o=0;o<this._png.channels;o++)r.data[a+o]=0}break;case Ju.PREVIOUS:r.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const r=1<<this._png.depth,n=(i,a)=>{const o=((i+t.yOffset)*this._png.width+t.xOffset+a)*this._png.channels,l=(i*t.width+a)*this._png.channels;return{index:o,frameIndex:l}};switch(t.blendOp){case Sf.SOURCE:for(let i=0;i<t.height;i++)for(let a=0;a<t.width;a++){const{index:o,frameIndex:l}=n(i,a);for(let u=0;u<this._png.channels;u++)e.data[o+u]=t.data[l+u]}break;case Sf.OVER:for(let i=0;i<t.height;i++)for(let a=0;a<t.width;a++){const{index:o,frameIndex:l}=n(i,a);for(let u=0;u<this._png.channels;u++){const d=t.data[l+this._png.channels-1]/r,m=u%(this._png.channels-1)===0?1:t.data[l+u],p=Math.floor(d*m+(1-d)*e.data[o+u]);e.data[o+u]+=p}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==Ly.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Ef.NO_INTERLACE)this._png.data=Uy({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Ef.ADAM7)this._png.data=fV({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Ju.NONE,blendOp:Sf.SOURCE,data:e}),this._inflator=new Sy,this._writingDataChunks=!1}}function SV(s){if(s!==1&&s!==2&&s!==4&&s!==8&&s!==16)throw new Error(`invalid bit depth: ${s}`);return s}var Ty;(function(s){s[s.UNKNOWN=0]="UNKNOWN",s[s.METRE=1]="METRE"})(Ty||(Ty={}));function AV(s,e){return new EV(s,e).decode()}var kt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function Af(){kt.console&&typeof kt.console.log=="function"&&kt.console.log.apply(kt.console,arguments)}var ms={log:Af,warn:function(s){kt.console&&(typeof kt.console.warn=="function"?kt.console.warn.apply(kt.console,arguments):Af.call(null,arguments))},error:function(s){kt.console&&(typeof kt.console.error=="function"?kt.console.error.apply(kt.console,arguments):Af(s))}};function _f(s,e,t){var r=new XMLHttpRequest;r.open("GET",s),r.responseType="blob",r.onload=function(){ro(r.response,e,t)},r.onerror=function(){ms.error("could not download file")},r.send()}function My(s){var e=new XMLHttpRequest;e.open("HEAD",s,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Zu(s){try{s.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),s.dispatchEvent(e)}}var ro=kt.saveAs||((typeof window>"u"?"undefined":os(window))!=="object"||window!==kt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(s,e,t){var r=kt.URL||kt.webkitURL,n=document.createElement("a");e=e||s.name||"download",n.download=e,n.rel="noopener",typeof s=="string"?(n.href=s,n.origin!==location.origin?My(n.href)?_f(s,e,t):Zu(n,n.target="_blank"):Zu(n)):(n.href=r.createObjectURL(s),setTimeout(function(){r.revokeObjectURL(n.href)},4e4),setTimeout(function(){Zu(n)},0))}:"msSaveOrOpenBlob"in navigator?function(s,e,t){if(e=e||s.name||"download",typeof s=="string")if(My(s))_f(s,e,t);else{var r=document.createElement("a");r.href=s,r.target="_blank",setTimeout(function(){Zu(r)})}else navigator.msSaveOrOpenBlob((function(n,i){return i===void 0?i={autoBom:!1}:os(i)!=="object"&&(ms.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(n.type)?new Blob(["\uFEFF",n],{type:n.type}):n})(s,t),e)}:function(s,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof s=="string")return _f(s,e,t);var n=s.type==="application/octet-stream",i=/constructor/i.test(kt.HTMLElement)||kt.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||n&&i)&&(typeof FileReader>"u"?"undefined":os(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var d=o.result;d=a?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=d:location=d,r=null},o.readAsDataURL(s)}else{var l=kt.URL||kt.webkitURL,u=l.createObjectURL(s);r?r.location=u:location.href=u,r=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});function dN(s){var e;s=s||"",this.ok=!1,s.charAt(0)=="#"&&(s=s.substr(1,6)),s={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[s=(s=s.replace(/ /g,"")).toLowerCase()]||s;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],r=0;r<t.length;r++){var n=t[r].re,i=t[r].process,a=n.exec(s);a&&(e=i(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+o+l+u}}var md=kt.atob.bind(kt),Iy=kt.btoa.bind(kt);function Uf(s,e){var t=s[0],r=s[1],n=s[2],i=s[3];t=Pr(t,r,n,i,e[0],7,-680876936),i=Pr(i,t,r,n,e[1],12,-389564586),n=Pr(n,i,t,r,e[2],17,606105819),r=Pr(r,n,i,t,e[3],22,-1044525330),t=Pr(t,r,n,i,e[4],7,-176418897),i=Pr(i,t,r,n,e[5],12,1200080426),n=Pr(n,i,t,r,e[6],17,-1473231341),r=Pr(r,n,i,t,e[7],22,-45705983),t=Pr(t,r,n,i,e[8],7,1770035416),i=Pr(i,t,r,n,e[9],12,-1958414417),n=Pr(n,i,t,r,e[10],17,-42063),r=Pr(r,n,i,t,e[11],22,-1990404162),t=Pr(t,r,n,i,e[12],7,1804603682),i=Pr(i,t,r,n,e[13],12,-40341101),n=Pr(n,i,t,r,e[14],17,-1502002290),t=jr(t,r=Pr(r,n,i,t,e[15],22,1236535329),n,i,e[1],5,-165796510),i=jr(i,t,r,n,e[6],9,-1069501632),n=jr(n,i,t,r,e[11],14,643717713),r=jr(r,n,i,t,e[0],20,-373897302),t=jr(t,r,n,i,e[5],5,-701558691),i=jr(i,t,r,n,e[10],9,38016083),n=jr(n,i,t,r,e[15],14,-660478335),r=jr(r,n,i,t,e[4],20,-405537848),t=jr(t,r,n,i,e[9],5,568446438),i=jr(i,t,r,n,e[14],9,-1019803690),n=jr(n,i,t,r,e[3],14,-187363961),r=jr(r,n,i,t,e[8],20,1163531501),t=jr(t,r,n,i,e[13],5,-1444681467),i=jr(i,t,r,n,e[2],9,-51403784),n=jr(n,i,t,r,e[7],14,1735328473),t=Cr(t,r=jr(r,n,i,t,e[12],20,-1926607734),n,i,e[5],4,-378558),i=Cr(i,t,r,n,e[8],11,-2022574463),n=Cr(n,i,t,r,e[11],16,1839030562),r=Cr(r,n,i,t,e[14],23,-35309556),t=Cr(t,r,n,i,e[1],4,-1530992060),i=Cr(i,t,r,n,e[4],11,1272893353),n=Cr(n,i,t,r,e[7],16,-155497632),r=Cr(r,n,i,t,e[10],23,-1094730640),t=Cr(t,r,n,i,e[13],4,681279174),i=Cr(i,t,r,n,e[0],11,-358537222),n=Cr(n,i,t,r,e[3],16,-722521979),r=Cr(r,n,i,t,e[6],23,76029189),t=Cr(t,r,n,i,e[9],4,-640364487),i=Cr(i,t,r,n,e[12],11,-421815835),n=Cr(n,i,t,r,e[15],16,530742520),t=Er(t,r=Cr(r,n,i,t,e[2],23,-995338651),n,i,e[0],6,-198630844),i=Er(i,t,r,n,e[7],10,1126891415),n=Er(n,i,t,r,e[14],15,-1416354905),r=Er(r,n,i,t,e[5],21,-57434055),t=Er(t,r,n,i,e[12],6,1700485571),i=Er(i,t,r,n,e[3],10,-1894986606),n=Er(n,i,t,r,e[10],15,-1051523),r=Er(r,n,i,t,e[1],21,-2054922799),t=Er(t,r,n,i,e[8],6,1873313359),i=Er(i,t,r,n,e[15],10,-30611744),n=Er(n,i,t,r,e[6],15,-1560198380),r=Er(r,n,i,t,e[13],21,1309151649),t=Er(t,r,n,i,e[4],6,-145523070),i=Er(i,t,r,n,e[11],10,-1120210379),n=Er(n,i,t,r,e[2],15,718787259),r=Er(r,n,i,t,e[9],21,-343485551),s[0]=ha(t,s[0]),s[1]=ha(r,s[1]),s[2]=ha(n,s[2]),s[3]=ha(i,s[3])}function Xd(s,e,t,r,n,i){return e=ha(ha(e,s),ha(r,i)),ha(e<<n|e>>>32-n,t)}function Pr(s,e,t,r,n,i,a){return Xd(e&t|~e&r,s,e,n,i,a)}function jr(s,e,t,r,n,i,a){return Xd(e&r|t&~r,s,e,n,i,a)}function Cr(s,e,t,r,n,i,a){return Xd(e^t^r,s,e,n,i,a)}function Er(s,e,t,r,n,i,a){return Xd(t^(e|~r),s,e,n,i,a)}function mN(s){var e,t=s.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=s.length;e+=64)Uf(r,_V(s.substring(e-64,e)));s=s.substring(e-64);var n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<s.length;e++)n[e>>2]|=s.charCodeAt(e)<<(e%4<<3);if(n[e>>2]|=128<<(e%4<<3),e>55)for(Uf(r,n),e=0;e<16;e++)n[e]=0;return n[14]=8*t,Uf(r,n),r}function _V(s){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=s.charCodeAt(e)+(s.charCodeAt(e+1)<<8)+(s.charCodeAt(e+2)<<16)+(s.charCodeAt(e+3)<<24);return t}var Ry="0123456789abcdef".split("");function UV(s){for(var e="",t=0;t<4;t++)e+=Ry[s>>8*t+4&15]+Ry[s>>8*t&15];return e}function VV(s){return String.fromCharCode(255&s,(65280&s)>>8,(16711680&s)>>16,(4278190080&s)>>24)}function vh(s){return mN(s).map(VV).join("")}var LV=(function(s){for(var e=0;e<s.length;e++)s[e]=UV(s[e]);return s.join("")})(mN("hello"))!="5d41402abc4b2a76b9719d911017c592";function ha(s,e){if(LV){var t=(65535&s)+(65535&e);return(s>>16)+(e>>16)+(t>>16)<<16|65535&t}return s+e&4294967295}function Nh(s,e){var t,r,n,i;if(s!==t){for(var a=(n=s,i=1+(256/s.length|0),new Array(i+1).join(n)),o=[],l=0;l<256;l++)o[l]=l;var u=0;for(l=0;l<256;l++){var d=o[l];u=(u+d+a.charCodeAt(l))%256,o[l]=o[u],o[u]=d}t=s,r=o}else o=r;var m=e.length,p=0,f=0,g="";for(l=0;l<m;l++)f=(f+(d=o[p=(p+1)%256]))%256,o[p]=o[f],o[f]=d,a=o[(o[p]+o[f])%256],g+=String.fromCharCode(e.charCodeAt(l)^a);return g}var Oy={print:4,modify:8,copy:16,"annot-forms":32};function ec(s,e,t,r){this.v=1,this.r=2;var n=192;s.forEach(function(o){if(Oy.perm!==void 0)throw new Error("Invalid permission: "+o);n+=Oy[o]}),this.padding="(Â¿N^NuÂŠAd\0NVÃ¿Ãº\b..\0Â¶Ãh>Â€/\fÂ©Ã¾dSiz";var i=(e+this.padding).substr(0,32),a=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,a),this.P=-(1+(255^n)),this.encryptionKey=vh(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Nh(this.encryptionKey,this.padding)}function tc(s){if(/[^\u0000-\u00ff]/.test(s))throw new Error("Invalid PDF Name Object: "+s+", Only accept ASCII characters.");for(var e="",t=s.length,r=0;r<t;r++){var n=s.charCodeAt(r);e+=n<33||n===35||n===37||n===40||n===41||n===47||n===60||n===62||n===91||n===93||n===123||n===125||n>126?"#"+("0"+n.toString(16)).slice(-2):s[r]}return e}function Fy(s){if(os(s)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,n){if(n=n||!1,typeof t!="string"||typeof r!="function"||typeof n!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var i=Math.random().toString(35);return e[t][i]=[r,!!n],i},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),n=[];for(var i in e[t]){var a=e[t][i];try{a[0].apply(s,r)}catch(o){kt.console&&ms.error("jsPDF PubSub Error",o.message,o)}a[1]&&n.push(i)}n.length&&n.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Ol(s){if(!(this instanceof Ol))return new Ol(s);var e="opacity,stroke-opacity".split(",");for(var t in s)s.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=s[t]);this.id="",this.objectNumber=-1}function fN(s,e){this.gState=s,this.matrix=e,this.id="",this.objectNumber=-1}function ua(s,e,t,r,n){if(!(this instanceof ua))return new ua(s,e,t,r,n);this.type=s==="axial"?2:3,this.coords=e,this.colors=t,fN.call(this,r,n)}function oo(s,e,t,r,n){if(!(this instanceof oo))return new oo(s,e,t,r,n);this.boundingBox=s,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,fN.call(this,r,n)}function Ze(s){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],n=arguments[2],i=arguments[3],a=[],o=1,l=16,u="S",d=null;os(s=s||{})==="object"&&(t=s.orientation,r=s.unit||r,n=s.format||n,i=s.compress||s.compressPdf||i,(d=s.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),o=typeof s.userUnit=="number"?Math.abs(s.userUnit):1,s.precision!==void 0&&(e=s.precision),s.floatPrecision!==void 0&&(l=s.floatPrecision),u=s.defaultPathOperation||"S"),a=s.filters||(i===!0?["FlateEncode"]:a),r=r||"mm",t=(""+(t||"P")).toLowerCase();var m=s.putOnlyUsedFonts||!1,p={},f={internal:{},__private__:{}};f.__private__.PubSub=Fy;var g="1.3",y=f.__private__.getPdfVersion=function(){return g};f.__private__.setPdfVersion=function(x){g=x};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return v};var N=f.__private__.getPageFormat=function(x){return v[x]};n=n||"a4";var D="compat",j="advanced",C=D;function E(){this.saveGraphicsState(),W(new ct(dt,0,0,-dt,0,Ia()*dt).toString()+" cm"),this.setFontSize(this.getFontSize()/dt),u="n",C=j}function A(){this.restoreGraphicsState(),u="S",C=D}var V=f.__private__.combineFontStyleAndFontWeight=function(x,T){if(x=="bold"&&T=="normal"||x=="bold"&&T==400||x=="normal"&&T=="italic"||x=="bold"&&T=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return T&&(x=T==400||T==="normal"?x==="italic"?"italic":"normal":T!=700&&T!=="bold"||x!=="normal"?(T==700?"bold":T)+""+x:"bold"),x};f.advancedAPI=function(x){var T=C===D;return T&&E.call(this),typeof x!="function"||(x(this),T&&A.call(this)),this},f.compatAPI=function(x){var T=C===j;return T&&A.call(this),typeof x!="function"||(x(this),T&&E.call(this)),this},f.isAdvancedAPI=function(){return C===j};var P,_=function(x){if(C!==j)throw new Error(x+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},O=f.roundToPrecision=f.__private__.roundToPrecision=function(x,T){var Q=e||T;if(isNaN(x)||isNaN(Q))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return x.toFixed(Q).replace(/0+$/,"")};P=f.hpf=f.__private__.hpf=typeof l=="number"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return O(x,l)}:l==="smart"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return O(x,x>-1&&x<1?16:5)}:function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return O(x,16)};var S=f.f2=f.__private__.f2=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f2");return O(x,2)},L=f.__private__.f3=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f3");return O(x,3)},B=f.scale=f.__private__.scale=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.scale");return C===D?x*dt:C===j?x:void 0},$=function(x){return B((function(T){return C===D?Ia()-T:C===j?T:void 0})(x))};f.__private__.setPrecision=f.setPrecision=function(x){typeof parseInt(x,10)=="number"&&(e=parseInt(x,10))};var Z,re="00000000000000000000000000000000",le=f.__private__.getFileId=function(){return re},ee=f.__private__.setFileId=function(x){return re=x!==void 0&&/^[a-fA-F0-9]{32}$/.test(x)?x.toUpperCase():re.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(_s=new ec(d.userPermissions,d.userPassword,d.ownerPassword,re)),re};f.setFileId=function(x){return ee(x),this},f.getFileId=function(){return le()};var pe=f.__private__.convertDateToPDFDate=function(x){var T=x.getTimezoneOffset(),Q=T<0?"+":"-",ce=Math.floor(Math.abs(T/60)),be=Math.abs(T%60),Ee=[Q,G(ce),"'",G(be),"'"].join("");return["D:",x.getFullYear(),G(x.getMonth()+1),G(x.getDate()),G(x.getHours()),G(x.getMinutes()),G(x.getSeconds()),Ee].join("")},ue=f.__private__.convertPDFDateToDate=function(x){var T=parseInt(x.substr(2,4),10),Q=parseInt(x.substr(6,2),10)-1,ce=parseInt(x.substr(8,2),10),be=parseInt(x.substr(10,2),10),Ee=parseInt(x.substr(12,2),10),Ve=parseInt(x.substr(14,2),10);return new Date(T,Q,ce,be,Ee,Ve,0)},te=f.__private__.setCreationDate=function(x){var T;if(x===void 0&&(x=new Date),x instanceof Date)T=pe(x);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(x))throw new Error("Invalid argument passed to jsPDF.setCreationDate");T=x}return Z=T},U=f.__private__.getCreationDate=function(x){var T=Z;return x==="jsDate"&&(T=ue(Z)),T};f.setCreationDate=function(x){return te(x),this},f.getCreationDate=function(x){return U(x)};var H,G=f.__private__.padd2=function(x){return("0"+parseInt(x)).slice(-2)},se=f.__private__.padd2Hex=function(x){return("00"+(x=x.toString())).substr(x.length)},ne=0,ae=[],he=[],me=0,ge=[],Pe=[],xe=!1,Ie=he;f.__private__.setCustomOutputDestination=function(x){xe=!0,Ie=x};var De=function(x){xe||(Ie=x)};f.__private__.resetCustomOutputDestination=function(){xe=!1,Ie=he};var W=f.__private__.out=function(x){return x=x.toString(),me+=x.length+1,Ie.push(x),Ie},we=f.__private__.write=function(x){return W(arguments.length===1?x.toString():Array.prototype.join.call(arguments," "))},rt=f.__private__.getArrayBuffer=function(x){for(var T=x.length,Q=new ArrayBuffer(T),ce=new Uint8Array(Q);T--;)ce[T]=x.charCodeAt(T);return Q},Ge=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return Ge};var _e=s.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(x){return _e=C===j?x/dt:x,this};var ze,Me=f.__private__.getFontSize=f.getFontSize=function(){return C===D?_e:_e*dt},ut=s.R2L||!1;f.__private__.setR2L=f.setR2L=function(x){return ut=x,this},f.__private__.getR2L=f.getR2L=function(){return ut};var it,Wt=f.__private__.setZoomMode=function(x){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(x))ze=x;else if(isNaN(x)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(x)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+x+'" is not recognized.');ze=x}else ze=parseInt(x,10)};f.__private__.getZoomMode=function(){return ze};var gt,bt=f.__private__.setPageMode=function(x){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(x)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+x+'" is not recognized.');it=x};f.__private__.getPageMode=function(){return it};var Rt=f.__private__.setLayoutMode=function(x){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(x)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+x+'" is not recognized.');gt=x};f.__private__.getLayoutMode=function(){return gt},f.__private__.setDisplayMode=f.setDisplayMode=function(x,T,Q){return Wt(x),Rt(T),bt(Q),this};var vt={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(x){if(Object.keys(vt).indexOf(x)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return vt[x]},f.__private__.getDocumentProperties=function(){return vt},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(x){for(var T in vt)vt.hasOwnProperty(T)&&x[T]&&(vt[T]=x[T]);return this},f.__private__.setDocumentProperty=function(x,T){if(Object.keys(vt).indexOf(x)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return vt[x]=T};var et,dt,Ye,Jt,Ht,Qe={},Nt={},es=[],lt={},At={},ht={},fs={},ns=null,Yt=0,mt=[],qt=new Fy(f),Cn=s.hotfixes||[],Fs={},$r={},Tr=[],ct=function x(T,Q,ce,be,Ee,Ve){if(!(this instanceof x))return new x(T,Q,ce,be,Ee,Ve);isNaN(T)&&(T=1),isNaN(Q)&&(Q=0),isNaN(ce)&&(ce=0),isNaN(be)&&(be=1),isNaN(Ee)&&(Ee=0),isNaN(Ve)&&(Ve=0),this._matrix=[T,Q,ce,be,Ee,Ve]};Object.defineProperty(ct.prototype,"sx",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(ct.prototype,"shy",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(ct.prototype,"shx",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(ct.prototype,"sy",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(ct.prototype,"tx",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(ct.prototype,"ty",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(ct.prototype,"a",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(ct.prototype,"b",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(ct.prototype,"c",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(ct.prototype,"d",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(ct.prototype,"e",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(ct.prototype,"f",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(ct.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ct.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ct.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ct.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ct.prototype.join=function(x){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(P).join(x)},ct.prototype.multiply=function(x){var T=x.sx*this.sx+x.shy*this.shx,Q=x.sx*this.shy+x.shy*this.sy,ce=x.shx*this.sx+x.sy*this.shx,be=x.shx*this.shy+x.sy*this.sy,Ee=x.tx*this.sx+x.ty*this.shx+this.tx,Ve=x.tx*this.shy+x.ty*this.sy+this.ty;return new ct(T,Q,ce,be,Ee,Ve)},ct.prototype.decompose=function(){var x=this.sx,T=this.shy,Q=this.shx,ce=this.sy,be=this.tx,Ee=this.ty,Ve=Math.sqrt(x*x+T*T),Je=(x/=Ve)*Q+(T/=Ve)*ce;Q-=x*Je,ce-=T*Je;var nt=Math.sqrt(Q*Q+ce*ce);return Je/=nt,x*(ce/=nt)<T*(Q/=nt)&&(x=-x,T=-T,Je=-Je,Ve=-Ve),{scale:new ct(Ve,0,0,nt,0,0),translate:new ct(1,0,0,1,be,Ee),rotate:new ct(x,T,-T,x,0,0),skew:new ct(1,0,Je,1,0,0)}},ct.prototype.toString=function(x){return this.join(" ")},ct.prototype.inversed=function(){var x=this.sx,T=this.shy,Q=this.shx,ce=this.sy,be=this.tx,Ee=this.ty,Ve=1/(x*ce-T*Q),Je=ce*Ve,nt=-T*Ve,wt=-Q*Ve,Ct=x*Ve;return new ct(Je,nt,wt,Ct,-Je*be-wt*Ee,-nt*be-Ct*Ee)},ct.prototype.applyToPoint=function(x){var T=x.x*this.sx+x.y*this.shx+this.tx,Q=x.x*this.shy+x.y*this.sy+this.ty;return new Ta(T,Q)},ct.prototype.applyToRectangle=function(x){var T=this.applyToPoint(x),Q=this.applyToPoint(new Ta(x.x+x.w,x.y+x.h));return new Pc(T.x,T.y,Q.x-T.x,Q.y-T.y)},ct.prototype.clone=function(){var x=this.sx,T=this.shy,Q=this.shx,ce=this.sy,be=this.tx,Ee=this.ty;return new ct(x,T,Q,ce,be,Ee)},f.Matrix=ct;var tn=f.matrixMult=function(x,T){return T.multiply(x)},yr=new ct(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=yr;var mr=function(x,T){if(!At[x]){var Q=(T instanceof ua?"Sh":"P")+(Object.keys(lt).length+1).toString(10);T.id=Q,At[x]=Q,lt[Q]=T,qt.publish("addPattern",T)}};f.ShadingPattern=ua,f.TilingPattern=oo,f.addShadingPattern=function(x,T){return _("addShadingPattern()"),mr(x,T),this},f.beginTilingPattern=function(x){_("beginTilingPattern()"),jc(x.boundingBox[0],x.boundingBox[1],x.boundingBox[2]-x.boundingBox[0],x.boundingBox[3]-x.boundingBox[1],x.matrix)},f.endTilingPattern=function(x,T){_("endTilingPattern()"),T.stream=Pe[H].join(`
`),mr(x,T),qt.publish("endTilingPattern",T),Tr.pop().restore()};var xr,cs=f.__private__.newObject=function(){var x=ie();return Ae(x,!0),x},ie=f.__private__.newObjectDeferred=function(){return ne++,ae[ne]=function(){return me},ne},Ae=function(x,T){return T=typeof T=="boolean"&&T,ae[x]=me,T&&W(x+" 0 obj"),x},Re=f.__private__.newAdditionalObject=function(){var x={objId:ie(),content:""};return ge.push(x),x},ot=ie(),Dt=ie(),_t=f.__private__.decodeColorString=function(x){var T=x.split(" ");if(T.length!==2||T[1]!=="g"&&T[1]!=="G")T.length!==5||T[4]!=="k"&&T[4]!=="K"||(T=[(1-T[0])*(1-T[3]),(1-T[1])*(1-T[3]),(1-T[2])*(1-T[3]),"r"]);else{var Q=parseFloat(T[0]);T=[Q,Q,Q,"r"]}for(var ce="#",be=0;be<3;be++)ce+=("0"+Math.floor(255*parseFloat(T[be])).toString(16)).slice(-2);return ce},pt=f.__private__.encodeColorString=function(x){var T;typeof x=="string"&&(x={ch1:x});var Q=x.ch1,ce=x.ch2,be=x.ch3,Ee=x.ch4,Ve=x.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Q=="string"&&Q.charAt(0)!=="#"){var Je=new dN(Q);if(Je.ok)Q=Je.toHex();else if(!/^\d*\.?\d*$/.test(Q))throw new Error('Invalid color "'+Q+'" passed to jsPDF.encodeColorString.')}if(typeof Q=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Q)&&(Q="#"+Q[1]+Q[1]+Q[2]+Q[2]+Q[3]+Q[3]),typeof Q=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Q)){var nt=parseInt(Q.substr(1),16);Q=nt>>16&255,ce=nt>>8&255,be=255&nt}if(ce===void 0||Ee===void 0&&Q===ce&&ce===be)T=typeof Q=="string"?Q+" "+Ve[0]:x.precision===2?S(Q/255)+" "+Ve[0]:L(Q/255)+" "+Ve[0];else if(Ee===void 0||os(Ee)==="object"){if(Ee&&!isNaN(Ee.a)&&Ee.a===0)return["1.","1.","1.",Ve[1]].join(" ");T=typeof Q=="string"?[Q,ce,be,Ve[1]].join(" "):x.precision===2?[S(Q/255),S(ce/255),S(be/255),Ve[1]].join(" "):[L(Q/255),L(ce/255),L(be/255),Ve[1]].join(" ")}else T=typeof Q=="string"?[Q,ce,be,Ee,Ve[2]].join(" "):x.precision===2?[S(Q),S(ce),S(be),S(Ee),Ve[2]].join(" "):[L(Q),L(ce),L(be),L(Ee),Ve[2]].join(" ");return T},ft=f.__private__.getFilters=function(){return a},Zt=f.__private__.putStream=function(x){var T=(x=x||{}).data||"",Q=x.filters||ft(),ce=x.alreadyAppliedFilters||[],be=x.addLength1||!1,Ee=T.length,Ve=x.objectId,Je=function(er){return er};if(d!==null&&Ve===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(Je=_s.encryptor(Ve,0));var nt={};Q===!0&&(Q=["FlateEncode"]);var wt=x.additionalKeyValues||[],Ct=(nt=Ze.API.processDataByFilters!==void 0?Ze.API.processDataByFilters(T,Q):{data:T,reverseChain:[]}).reverseChain+(Array.isArray(ce)?ce.join(" "):ce.toString());if(nt.data.length!==0&&(wt.push({key:"Length",value:nt.data.length}),be===!0&&wt.push({key:"Length1",value:Ee})),Ct.length!=0)if(Ct.split("/").length-1==1)wt.push({key:"Filter",value:Ct});else{wt.push({key:"Filter",value:"["+Ct+"]"});for(var ts=0;ts<wt.length;ts+=1)if(wt[ts].key==="DecodeParms"){for(var Us=[],Js=0;Js<nt.reverseChain.split("/").length-1;Js+=1)Us.push("null");Us.push(wt[ts].value),wt[ts].value="["+Us.join(" ")+"]"}}W("<<");for(var ps=0;ps<wt.length;ps++)W("/"+wt[ps].key+" "+wt[ps].value);W(">>"),nt.data.length!==0&&(W("stream"),W(Je(nt.data)),W("endstream"))},Ot=f.__private__.putPage=function(x){var T=x.number,Q=x.data,ce=x.objId,be=x.contentsObjId;Ae(ce,!0),W("<</Type /Page"),W("/Parent "+x.rootDictionaryObjId+" 0 R"),W("/Resources "+x.resourceDictionaryObjId+" 0 R"),W("/MediaBox ["+parseFloat(P(x.mediaBox.bottomLeftX))+" "+parseFloat(P(x.mediaBox.bottomLeftY))+" "+P(x.mediaBox.topRightX)+" "+P(x.mediaBox.topRightY)+"]"),x.cropBox!==null&&W("/CropBox ["+P(x.cropBox.bottomLeftX)+" "+P(x.cropBox.bottomLeftY)+" "+P(x.cropBox.topRightX)+" "+P(x.cropBox.topRightY)+"]"),x.bleedBox!==null&&W("/BleedBox ["+P(x.bleedBox.bottomLeftX)+" "+P(x.bleedBox.bottomLeftY)+" "+P(x.bleedBox.topRightX)+" "+P(x.bleedBox.topRightY)+"]"),x.trimBox!==null&&W("/TrimBox ["+P(x.trimBox.bottomLeftX)+" "+P(x.trimBox.bottomLeftY)+" "+P(x.trimBox.topRightX)+" "+P(x.trimBox.topRightY)+"]"),x.artBox!==null&&W("/ArtBox ["+P(x.artBox.bottomLeftX)+" "+P(x.artBox.bottomLeftY)+" "+P(x.artBox.topRightX)+" "+P(x.artBox.topRightY)+"]"),typeof x.userUnit=="number"&&x.userUnit!==1&&W("/UserUnit "+x.userUnit),qt.publish("putPage",{objId:ce,pageContext:mt[T],pageNumber:T,page:Q}),W("/Contents "+be+" 0 R"),W(">>"),W("endobj");var Ee=Q.join(`
`);return C===j&&(Ee+=`
Q`),Ae(be,!0),Zt({data:Ee,filters:ft(),objectId:be}),W("endobj"),ce},Ft=f.__private__.putPages=function(){var x,T,Q=[];for(x=1;x<=Yt;x++)mt[x].objId=ie(),mt[x].contentsObjId=ie();for(x=1;x<=Yt;x++)Q.push(Ot({number:x,data:Pe[x],objId:mt[x].objId,contentsObjId:mt[x].contentsObjId,mediaBox:mt[x].mediaBox,cropBox:mt[x].cropBox,bleedBox:mt[x].bleedBox,trimBox:mt[x].trimBox,artBox:mt[x].artBox,userUnit:mt[x].userUnit,rootDictionaryObjId:ot,resourceDictionaryObjId:Dt}));Ae(ot,!0),W("<</Type /Pages");var ce="/Kids [";for(T=0;T<Yt;T++)ce+=Q[T]+" 0 R ";W(ce+"]"),W("/Count "+Yt),W(">>"),W("endobj"),qt.publish("postPutPages")},hs=function(x){qt.publish("putFont",{font:x,out:W,newObject:cs,putStream:Zt}),x.isAlreadyPutted!==!0&&(x.objectNumber=cs(),W("<<"),W("/Type /Font"),W("/BaseFont /"+tc(x.postScriptName)),W("/Subtype /Type1"),typeof x.encoding=="string"&&W("/Encoding /"+x.encoding),W("/FirstChar 32"),W("/LastChar 255"),W(">>"),W("endobj"))},cr=function(x){x.objectNumber=cs();var T=[];T.push({key:"Type",value:"/XObject"}),T.push({key:"Subtype",value:"/Form"}),T.push({key:"BBox",value:"["+[P(x.x),P(x.y),P(x.x+x.width),P(x.y+x.height)].join(" ")+"]"}),T.push({key:"Matrix",value:"["+x.matrix.toString()+"]"});var Q=x.pages[1].join(`
`);Zt({data:Q,additionalKeyValues:T,objectId:x.objectNumber}),W("endobj")},lr=function(x,T){T||(T=21);var Q=cs(),ce=(function(Ve,Je){var nt,wt=[],Ct=1/(Je-1);for(nt=0;nt<1;nt+=Ct)wt.push(nt);if(wt.push(1),Ve[0].offset!=0){var ts={offset:0,color:Ve[0].color};Ve.unshift(ts)}if(Ve[Ve.length-1].offset!=1){var Us={offset:1,color:Ve[Ve.length-1].color};Ve.push(Us)}for(var Js="",ps=0,er=0;er<wt.length;er++){for(nt=wt[er];nt>Ve[ps+1].offset;)ps++;var Zs=Ve[ps].offset,fr=(nt-Zs)/(Ve[ps+1].offset-Zs),bn=Ve[ps].color,qr=Ve[ps+1].color;Js+=se(Math.round((1-fr)*bn[0]+fr*qr[0]).toString(16))+se(Math.round((1-fr)*bn[1]+fr*qr[1]).toString(16))+se(Math.round((1-fr)*bn[2]+fr*qr[2]).toString(16))}return Js.trim()})(x.colors,T),be=[];be.push({key:"FunctionType",value:"0"}),be.push({key:"Domain",value:"[0.0 1.0]"}),be.push({key:"Size",value:"["+T+"]"}),be.push({key:"BitsPerSample",value:"8"}),be.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),be.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Zt({data:ce,additionalKeyValues:be,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Q}),W("endobj"),x.objectNumber=cs(),W("<< /ShadingType "+x.type),W("/ColorSpace /DeviceRGB");var Ee="/Coords ["+P(parseFloat(x.coords[0]))+" "+P(parseFloat(x.coords[1]))+" ";x.type===2?Ee+=P(parseFloat(x.coords[2]))+" "+P(parseFloat(x.coords[3])):Ee+=P(parseFloat(x.coords[2]))+" "+P(parseFloat(x.coords[3]))+" "+P(parseFloat(x.coords[4]))+" "+P(parseFloat(x.coords[5])),W(Ee+="]"),x.matrix&&W("/Matrix ["+x.matrix.toString()+"]"),W("/Function "+Q+" 0 R"),W("/Extend [true true]"),W(">>"),W("endobj")},As=function(x,T){var Q=ie(),ce=cs();T.push({resourcesOid:Q,objectOid:ce}),x.objectNumber=ce;var be=[];be.push({key:"Type",value:"/Pattern"}),be.push({key:"PatternType",value:"1"}),be.push({key:"PaintType",value:"1"}),be.push({key:"TilingType",value:"1"}),be.push({key:"BBox",value:"["+x.boundingBox.map(P).join(" ")+"]"}),be.push({key:"XStep",value:P(x.xStep)}),be.push({key:"YStep",value:P(x.yStep)}),be.push({key:"Resources",value:Q+" 0 R"}),x.matrix&&be.push({key:"Matrix",value:"["+x.matrix.toString()+"]"}),Zt({data:x.stream,additionalKeyValues:be,objectId:x.objectNumber}),W("endobj")},ui=function(x){for(var T in x.objectNumber=cs(),W("<<"),x)switch(T){case"opacity":W("/ca "+S(x[T]));break;case"stroke-opacity":W("/CA "+S(x[T]))}W(">>"),W("endobj")},pn=function(x){Ae(x.resourcesOid,!0),W("<<"),W("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var T in W("/Font <<"),Qe)Qe.hasOwnProperty(T)&&(m===!1||m===!0&&p.hasOwnProperty(T))&&W("/"+T+" "+Qe[T].objectNumber+" 0 R");W(">>")})(),(function(){if(Object.keys(lt).length>0){for(var T in W("/Shading <<"),lt)lt.hasOwnProperty(T)&&lt[T]instanceof ua&&lt[T].objectNumber>=0&&W("/"+T+" "+lt[T].objectNumber+" 0 R");qt.publish("putShadingPatternDict"),W(">>")}})(),(function(T){if(Object.keys(lt).length>0){for(var Q in W("/Pattern <<"),lt)lt.hasOwnProperty(Q)&&lt[Q]instanceof f.TilingPattern&&lt[Q].objectNumber>=0&&lt[Q].objectNumber<T&&W("/"+Q+" "+lt[Q].objectNumber+" 0 R");qt.publish("putTilingPatternDict"),W(">>")}})(x.objectOid),(function(){if(Object.keys(ht).length>0){var T;for(T in W("/ExtGState <<"),ht)ht.hasOwnProperty(T)&&ht[T].objectNumber>=0&&W("/"+T+" "+ht[T].objectNumber+" 0 R");qt.publish("putGStateDict"),W(">>")}})(),(function(){for(var T in W("/XObject <<"),Fs)Fs.hasOwnProperty(T)&&Fs[T].objectNumber>=0&&W("/"+T+" "+Fs[T].objectNumber+" 0 R");qt.publish("putXobjectDict"),W(">>")})(),W(">>"),W("endobj")},Qs=function(x){Nt[x.fontName]=Nt[x.fontName]||{},Nt[x.fontName][x.fontStyle]=x.id},En=function(x,T,Q,ce,be){var Ee={id:"F"+(Object.keys(Qe).length+1).toString(10),postScriptName:x,fontName:T,fontStyle:Q,encoding:ce,isStandardFont:be||!1,metadata:{}};return qt.publish("addFont",{font:Ee,instance:this}),Qe[Ee.id]=Ee,Qs(Ee),Ee.id},Bs=f.__private__.pdfEscape=f.pdfEscape=function(x,T){return(function(Q,ce){var be,Ee,Ve,Je,nt,wt,Ct,ts,Us;if(Ve=(ce=ce||{}).sourceEncoding||"Unicode",nt=ce.outputEncoding,(ce.autoencode||nt)&&Qe[et].metadata&&Qe[et].metadata[Ve]&&Qe[et].metadata[Ve].encoding&&(Je=Qe[et].metadata[Ve].encoding,!nt&&Qe[et].encoding&&(nt=Qe[et].encoding),!nt&&Je.codePages&&(nt=Je.codePages[0]),typeof nt=="string"&&(nt=Je[nt]),nt)){for(Ct=!1,wt=[],be=0,Ee=Q.length;be<Ee;be++)(ts=nt[Q.charCodeAt(be)])?wt.push(String.fromCharCode(ts)):wt.push(Q[be]),wt[be].charCodeAt(0)>>8&&(Ct=!0);Q=wt.join("")}for(be=Q.length;Ct===void 0&&be!==0;)Q.charCodeAt(be-1)>>8&&(Ct=!0),be--;if(!Ct)return Q;for(wt=ce.noBOM?[]:[254,255],be=0,Ee=Q.length;be<Ee;be++){if((Us=(ts=Q.charCodeAt(be))>>8)>>8)throw new Error("Character at position "+be+" of string '"+Q+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");wt.push(Us),wt.push(ts-(Us<<8))}return String.fromCharCode.apply(void 0,wt)})(x,T).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Mr=f.__private__.beginPage=function(x){Pe[++Yt]=[],mt[Yt]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(x[0]),topRightY:Number(x[1])}},Wr(Yt),De(Pe[H])},$n=function(x,T){var Q,ce,be;switch(t=T||t,typeof x=="string"&&(Q=N(x.toLowerCase()),Array.isArray(Q)&&(ce=Q[0],be=Q[1])),Array.isArray(x)&&(ce=x[0]*dt,be=x[1]*dt),isNaN(ce)&&(ce=n[0],be=n[1]),(ce>14400||be>14400)&&(ms.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ce=Math.min(14400,ce),be=Math.min(14400,be)),n=[ce,be],t.substr(0,1)){case"l":be>ce&&(n=[be,ce]);break;case"p":ce>be&&(n=[be,ce])}Mr(n),Jd(Nc),W(_o),Dc!==0&&W(Dc+" J"),wc!==0&&W(wc+" j"),qt.publish("addPage",{pageNumber:Yt})},vr=function(x){x>0&&x<=Yt&&(Pe.splice(x,1),mt.splice(x,1),Yt--,H>Yt&&(H=Yt),this.setPage(H))},Wr=function(x){x>0&&x<=Yt&&(H=x)},Sa=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return Pe.length-1},Aa=function(x,T,Q){var ce,be=void 0;return Q=Q||{},x=x!==void 0?x:Qe[et].fontName,T=T!==void 0?T:Qe[et].fontStyle,ce=x.toLowerCase(),Nt[ce]!==void 0&&Nt[ce][T]!==void 0?be=Nt[ce][T]:Nt[x]!==void 0&&Nt[x][T]!==void 0?be=Nt[x][T]:Q.disableWarning===!1&&ms.warn("Unable to look up font label for font '"+x+"', '"+T+"'. Refer to getFontList() for available fonts."),be||Q.noFallback||(be=Nt.times[T])==null&&(be=Nt.times.normal),be},Sn=f.__private__.putInfo=function(){var x=cs(),T=function(ce){return ce};for(var Q in d!==null&&(T=_s.encryptor(x,0)),W("<<"),W("/Producer ("+Bs(T("jsPDF "+Ze.version))+")"),vt)vt.hasOwnProperty(Q)&&vt[Q]&&W("/"+Q.substr(0,1).toUpperCase()+Q.substr(1)+" ("+Bs(T(vt[Q]))+")");W("/CreationDate ("+Bs(T(Z))+")"),W(">>"),W("endobj")},Ir=f.__private__.putCatalog=function(x){var T=(x=x||{}).rootDictionaryObjId||ot;switch(cs(),W("<<"),W("/Type /Catalog"),W("/Pages "+T+" 0 R"),ze||(ze="fullwidth"),ze){case"fullwidth":W("/OpenAction [3 0 R /FitH null]");break;case"fullheight":W("/OpenAction [3 0 R /FitV null]");break;case"fullpage":W("/OpenAction [3 0 R /Fit]");break;case"original":W("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Q=""+ze;Q.substr(Q.length-1)==="%"&&(ze=parseInt(ze)/100),typeof ze=="number"&&W("/OpenAction [3 0 R /XYZ null null "+S(ze)+"]")}switch(gt||(gt="continuous"),gt){case"continuous":W("/PageLayout /OneColumn");break;case"single":W("/PageLayout /SinglePage");break;case"two":case"twoleft":W("/PageLayout /TwoColumnLeft");break;case"tworight":W("/PageLayout /TwoColumnRight")}it&&W("/PageMode /"+it),qt.publish("putCatalog"),W(">>"),W("endobj")},bs=f.__private__.putTrailer=function(){W("trailer"),W("<<"),W("/Size "+(ne+1)),W("/Root "+ne+" 0 R"),W("/Info "+(ne-1)+" 0 R"),d!==null&&W("/Encrypt "+_s.oid+" 0 R"),W("/ID [ <"+re+"> <"+re+"> ]"),W(">>")},Bi=f.__private__.putHeader=function(){W("%PDF-"+g),W("%ÂºÃŸÂ¬Ã ")},zi=f.__private__.putXRef=function(){var x="0000000000";W("xref"),W("0 "+(ne+1)),W("0000000000 65535 f ");for(var T=1;T<=ne;T++)typeof ae[T]=="function"?W((x+ae[T]()).slice(-10)+" 00000 n "):ae[T]!==void 0?W((x+ae[T]).slice(-10)+" 00000 n "):W("0000000000 00000 n ")},sn=f.__private__.buildDocument=function(){var x;ne=0,me=0,he=[],ae=[],ge=[],ot=ie(),Dt=ie(),De(he),qt.publish("buildDocument"),Bi(),Ft(),(function(){qt.publish("putAdditionalObjects");for(var Q=0;Q<ge.length;Q++){var ce=ge[Q];Ae(ce.objId,!0),W(ce.content),W("endobj")}qt.publish("postPutAdditionalObjects")})(),x=[],(function(){for(var Q in Qe)Qe.hasOwnProperty(Q)&&(m===!1||m===!0&&p.hasOwnProperty(Q))&&hs(Qe[Q])})(),(function(){var Q;for(Q in ht)ht.hasOwnProperty(Q)&&ui(ht[Q])})(),(function(){for(var Q in Fs)Fs.hasOwnProperty(Q)&&cr(Fs[Q])})(),(function(Q){var ce;for(ce in lt)lt.hasOwnProperty(ce)&&(lt[ce]instanceof ua?lr(lt[ce]):lt[ce]instanceof oo&&As(lt[ce],Q))})(x),qt.publish("putResources"),x.forEach(pn),pn({resourcesOid:Dt,objectOid:Number.MAX_SAFE_INTEGER}),qt.publish("postPutResources"),d!==null&&(_s.oid=cs(),W("<<"),W("/Filter /Standard"),W("/V "+_s.v),W("/R "+_s.r),W("/U <"+_s.toHexString(_s.U)+">"),W("/O <"+_s.toHexString(_s.O)+">"),W("/P "+_s.P),W(">>"),W("endobj")),Sn(),Ir();var T=me;return zi(),bs(),W("startxref"),W(""+T),W("%%EOF"),De(Pe[H]),he.join(`
`)},An=f.__private__.getBlob=function(x){return new Blob([rt(x)],{type:"application/pdf"})},Nr=f.output=f.__private__.output=(xr=function(x,T){switch(typeof(T=T||{})=="string"?T={filename:T}:T.filename=T.filename||"generated.pdf",x){case void 0:return sn();case"save":f.save(T.filename);break;case"arraybuffer":return rt(sn());case"blob":return An(sn());case"bloburi":case"bloburl":if(kt.URL!==void 0&&typeof kt.URL.createObjectURL=="function")return kt.URL&&kt.URL.createObjectURL(An(sn()))||void 0;ms.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Q="",ce=sn();try{Q=Iy(ce)}catch{Q=Iy(unescape(encodeURIComponent(ce)))}return"data:application/pdf;filename="+T.filename+";base64,"+Q;case"pdfobjectnewwindow":if(Object.prototype.toString.call(kt)==="[object Window]"){var be="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ee=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';T.pdfObjectUrl&&(be=T.pdfObjectUrl,Ee="");var Ve='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+be+'"'+Ee+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(T)+");<\/script></body></html>",Je=kt.open();return Je!==null&&Je.document.write(Ve),Je}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(kt)==="[object Window]"){var nt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(T.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+T.filename+'" width="500px" height="400px" /></body></html>',wt=kt.open();if(wt!==null){wt.document.write(nt);var Ct=this;wt.document.documentElement.querySelector("#pdfViewer").onload=function(){wt.document.title=T.filename,wt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ct.output("bloburl"))}}return wt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(kt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ts='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",T)+'"></iframe></body></html>',Us=kt.open();if(Us!==null&&(Us.document.write(ts),Us.document.title=T.filename),Us||typeof safari>"u")return Us;break;case"datauri":case"dataurl":return kt.document.location.href=this.output("datauristring",T);default:return null}},xr.foo=function(){try{return xr.apply(this,arguments)}catch(Q){var x=Q.stack||"";~x.indexOf(" at ")&&(x=x.split(" at ")[1]);var T="Error in function "+x.split(`
`)[0].split("<")[0]+": "+Q.message;if(!kt.console)throw new Error(T);kt.console.error(T,Q),kt.alert&&alert(T)}},xr.foo.bar=xr,xr.foo),kr=function(x){return Array.isArray(Cn)===!0&&Cn.indexOf(x)>-1};switch(r){case"pt":dt=1;break;case"mm":dt=72/25.4;break;case"cm":dt=72/2.54;break;case"in":dt=72;break;case"px":dt=kr("px_scaling")==1?.75:96/72;break;case"pc":case"em":dt=12;break;case"ex":dt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);dt=r}var _s=null;te(),ee();var $i=f.__private__.getPageInfo=f.getPageInfo=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:mt[x].objId,pageNumber:x,pageContext:mt[x]}},_a=f.__private__.getPageInfoByObjId=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var T in mt)if(mt[T].objId===x)break;return $i(T)},Ao=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:mt[H].objId,pageNumber:H,pageContext:mt[H]}};f.addPage=function(){return $n.apply(this,arguments),this},f.setPage=function(){return Wr.apply(this,arguments),De.call(this,Pe[H]),this},f.insertPage=function(x){return this.addPage(),this.movePage(H,x),this},f.movePage=function(x,T){var Q,ce;if(x>T){Q=Pe[x],ce=mt[x];for(var be=x;be>T;be--)Pe[be]=Pe[be-1],mt[be]=mt[be-1];Pe[T]=Q,mt[T]=ce,this.setPage(T)}else if(x<T){Q=Pe[x],ce=mt[x];for(var Ee=x;Ee<T;Ee++)Pe[Ee]=Pe[Ee+1],mt[Ee]=mt[Ee+1];Pe[T]=Q,mt[T]=ce,this.setPage(T)}return this},f.deletePage=function(){return vr.apply(this,arguments),this},f.__private__.text=f.text=function(x,T,Q,ce,be){var Ee,Ve,Je,nt,wt,Ct,ts,Us,Js,ps=(ce=ce||{}).scope||this;if(typeof x=="number"&&typeof T=="number"&&(typeof Q=="string"||Array.isArray(Q))){var er=Q;Q=T,T=x,x=er}if(arguments[3]instanceof ct==0?(Je=arguments[4],nt=arguments[5],os(ts=arguments[3])==="object"&&ts!==null||(typeof Je=="string"&&(nt=Je,Je=null),typeof ts=="string"&&(nt=ts,ts=null),typeof ts=="number"&&(Je=ts,ts=null),ce={flags:ts,angle:Je,align:nt})):(_("The transform parameter of text() with a Matrix value"),Js=be),isNaN(T)||isNaN(Q)||x==null)throw new Error("Invalid arguments passed to jsPDF.text");if(x.length===0)return ps;var Zs,fr="",bn=typeof ce.lineHeightFactor=="number"?ce.lineHeightFactor:Ua,qr=ps.internal.scaleFactor;function Xl(ss){return ss=ss.split("	").join(Array(ce.TabLen||9).join(" ")),Bs(ss,ts)}function To(ss){for(var ls,$s=ss.concat(),tr=[],bi=$s.length;bi--;)typeof(ls=$s.shift())=="string"?tr.push(ls):Array.isArray(ss)&&(ls.length===1||ls[1]===void 0&&ls[2]===void 0)?tr.push(ls[0]):tr.push([ls[0],ls[1],ls[2]]);return tr}function Ra(ss,ls){var $s;if(typeof ss=="string")$s=ls(ss)[0];else if(Array.isArray(ss)){for(var tr,bi,Mc=ss.concat(),Ro=[],Ql=Mc.length;Ql--;)typeof(tr=Mc.shift())=="string"?Ro.push(ls(tr)[0]):Array.isArray(tr)&&typeof tr[0]=="string"&&(bi=ls(tr[0],tr[1],tr[2]),Ro.push([bi[0],bi[1],bi[2]]));$s=Ro}return $s}var Wi=!1,Oa=!0;if(typeof x=="string")Wi=!0;else if(Array.isArray(x)){var Fa=x.concat();Ve=[];for(var Ba,Dr=Fa.length;Dr--;)(typeof(Ba=Fa.shift())!="string"||Array.isArray(Ba)&&typeof Ba[0]!="string")&&(Oa=!1);Wi=Oa}if(Wi===!1)throw new Error('Type of text must be string or Array. "'+x+'" is not recognized.');typeof x=="string"&&(x=x.match(/[\r?\n]/)?x.split(/\r\n|\r|\n/g):[x]);var za=_e/ps.internal.scaleFactor,$a=za*(bn-1);switch(ce.baseline){case"bottom":Q-=$a;break;case"top":Q+=za-$a;break;case"hanging":Q+=za-2*$a;break;case"middle":Q+=za/2-$a}if((Ct=ce.maxWidth||0)>0&&(typeof x=="string"?x=ps.splitTextToSize(x,Ct):Object.prototype.toString.call(x)==="[object Array]"&&(x=x.reduce(function(ss,ls){return ss.concat(ps.splitTextToSize(ls,Ct))},[]))),Ee={text:x,x:T,y:Q,options:ce,mutex:{pdfEscape:Bs,activeFontKey:et,fonts:Qe,activeFontSize:_e}},qt.publish("preProcessText",Ee),x=Ee.text,Je=(ce=Ee.options).angle,Js instanceof ct==0&&Je&&typeof Je=="number"){Je*=Math.PI/180,ce.rotationDirection===0&&(Je=-Je),C===j&&(Je=-Je);var Cc=Math.cos(Je),Ec=Math.sin(Je);Js=new ct(Cc,Ec,-Ec,Cc,0,0)}else Je&&Je instanceof ct&&(Js=Je);C!==j||Js||(Js=yr),(wt=ce.charSpace||Vo)!==void 0&&(fr+=P(B(wt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Us=ce.horizontalScale)!==void 0&&(fr+=P(100*Us)+` Tz
`),ce.lang;var Ls=-1,pi=ce.renderingMode!==void 0?ce.renderingMode:ce.stroke,Mo=ps.internal.getCurrentPageInfo().pageContext;switch(pi){case 0:case!1:case"fill":Ls=0;break;case 1:case!0:case"stroke":Ls=1;break;case 2:case"fillThenStroke":Ls=2;break;case 3:case"invisible":Ls=3;break;case 4:case"fillAndAddForClipping":Ls=4;break;case 5:case"strokeAndAddPathForClipping":Ls=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ls=6;break;case 7:case"addToPathForClipping":Ls=7}var Jl=Mo.usedRenderingMode!==void 0?Mo.usedRenderingMode:-1;Ls!==-1?fr+=Ls+` Tr
`:Jl!==-1&&(fr+=`0 Tr
`),Ls!==-1&&(Mo.usedRenderingMode=Ls),nt=ce.align||"left";var yn,Wa=_e*bn,Sc=ps.internal.pageSize.getWidth(),Ac=Qe[et];wt=ce.charSpace||Vo,Ct=ce.maxWidth||0,ts=Object.assign({autoencode:!0,noBOM:!0},ce.flags);var Hi=[],Ha=function(ss){return ps.getStringUnitWidth(ss,{font:Ac,charSpace:wt,fontSize:_e,doKerning:!1})*_e/qr};if(Object.prototype.toString.call(x)==="[object Array]"){var rn;Ve=To(x),nt!=="left"&&(yn=Ve.map(Ha));var nn,qi=0;if(nt==="right"){T-=yn[0],x=[],Dr=Ve.length;for(var gi=0;gi<Dr;gi++)gi===0?(nn=di(T),rn=mi(Q)):(nn=B(qi-yn[gi]),rn=-Wa),x.push([Ve[gi],nn,rn]),qi=yn[gi]}else if(nt==="center"){T-=yn[0]/2,x=[],Dr=Ve.length;for(var Gi=0;Gi<Dr;Gi++)Gi===0?(nn=di(T),rn=mi(Q)):(nn=B((qi-yn[Gi])/2),rn=-Wa),x.push([Ve[Gi],nn,rn]),qi=yn[Gi]}else if(nt==="left"){x=[],Dr=Ve.length;for(var _c=0;_c<Dr;_c++)x.push(Ve[_c])}else if(nt==="justify"&&Ac.encoding==="Identity-H"){x=[],Dr=Ve.length,Ct=Ct!==0?Ct:Sc;for(var Io=0,zs=0;zs<Dr;zs++)if(rn=zs===0?mi(Q):-Wa,nn=zs===0?di(T):Io,zs<Dr-1){var Zl=B((Ct-yn[zs])/(Ve[zs].split(" ").length-1)),Wn=Ve[zs].split(" ");x.push([Wn[0]+" ",nn,rn]),Io=0;for(var Hn=1;Hn<Wn.length;Hn++){var Uc=(Ha(Wn[Hn-1]+" "+Wn[Hn])-Ha(Wn[Hn]))*qr+Zl;Hn==Wn.length-1?x.push([Wn[Hn],Uc,0]):x.push([Wn[Hn]+" ",Uc,0]),Io-=Uc}}else x.push([Ve[zs],nn,rn]);x.push(["",Io,0])}else{if(nt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(x=[],Dr=Ve.length,Ct=Ct!==0?Ct:Sc,zs=0;zs<Dr;zs++){rn=zs===0?mi(Q):-Wa,nn=zs===0?di(T):0;var Vc=Ve[zs].split(" ").length-1,Lc=Vc>0?(Ct-yn[zs])/Vc:0;zs<Dr-1?Hi.push(P(B(Lc))):Hi.push(0),x.push([Ve[zs],nn,rn])}}}(typeof ce.R2L=="boolean"?ce.R2L:ut)===!0&&(x=Ra(x,function(ss,ls,$s){return[ss.split("").reverse().join(""),ls,$s]})),Ee={text:x,x:T,y:Q,options:ce,mutex:{pdfEscape:Bs,activeFontKey:et,fonts:Qe,activeFontSize:_e}},qt.publish("postProcessText",Ee),x=Ee.text,Zs=Ee.mutex.isHex||!1;var Tc=Qe[et].encoding;Tc!=="WinAnsiEncoding"&&Tc!=="StandardEncoding"||(x=Ra(x,function(ss,ls,$s){return[Xl(ss),ls,$s]})),Ve=To(x),x=[];for(var Yi,Ki,Xi,qa=Array.isArray(Ve[0])?1:0,Ji="",Ga=function(ss,ls,$s){var tr="";return $s instanceof ct?($s=typeof ce.angle=="number"?tn($s,new ct(1,0,0,1,ss,ls)):tn(new ct(1,0,0,1,ss,ls),$s),C===j&&($s=tn(new ct(1,0,0,-1,0,0),$s)),tr=$s.join(" ")+` Tm
`):tr=P(ss)+" "+P(ls)+` Td
`,tr},xn=0;xn<Ve.length;xn++){switch(Ji="",qa){case 1:Xi=(Zs?"<":"(")+Ve[xn][0]+(Zs?">":")"),Yi=parseFloat(Ve[xn][1]),Ki=parseFloat(Ve[xn][2]);break;case 0:Xi=(Zs?"<":"(")+Ve[xn]+(Zs?">":")"),Yi=di(T),Ki=mi(Q)}Hi!==void 0&&Hi[xn]!==void 0&&(Ji=Hi[xn]+` Tw
`),xn===0?x.push(Ji+Ga(Yi,Ki,Js)+Xi):qa===0?x.push(Ji+Xi):qa===1&&x.push(Ji+Ga(Yi,Ki,Js)+Xi)}x=qa===0?x.join(` Tj
T* `):x.join(` Tj
`),x+=` Tj
`;var qn=`BT
/`;return qn+=et+" "+_e+` Tf
`,qn+=P(_e*bn)+` TL
`,qn+=Va+`
`,qn+=fr,qn+=x,W(qn+="ET"),p[et]=!0,ps};var vc=f.__private__.clip=f.clip=function(x){return W(x==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return vc("evenodd")},f.__private__.discardPath=f.discardPath=function(){return W("n"),this};var gn=f.__private__.isValidStyle=function(x){var T=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(x)!==-1&&(T=!0),T};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(x){return gn(x)&&(u=x),this};var F=f.__private__.getStyle=f.getStyle=function(x){var T=u;switch(x){case"D":case"S":T="S";break;case"F":T="f";break;case"FD":case"DF":T="B";break;case"f":case"f*":case"B":case"B*":T=x}return T},K=f.close=function(){return W("h"),this};f.stroke=function(){return W("S"),this},f.fill=function(x){return oe("f",x),this},f.fillEvenOdd=function(x){return oe("f*",x),this},f.fillStroke=function(x){return oe("B",x),this},f.fillStrokeEvenOdd=function(x){return oe("B*",x),this};var oe=function(x,T){os(T)==="object"?$e(T,x):W(x)},ke=function(x){x===null||C===j&&x===void 0||(x=F(x),W(x))};function Le(x,T,Q,ce,be){var Ee=new oo(T||this.boundingBox,Q||this.xStep,ce||this.yStep,this.gState,be||this.matrix);Ee.stream=this.stream;var Ve=x+"$$"+this.cloneIndex+++"$$";return mr(Ve,Ee),Ee}var $e=function(x,T){var Q=At[x.key],ce=lt[Q];if(ce instanceof ua)W("q"),W(Ut(T)),ce.gState&&f.setGState(ce.gState),W(x.matrix.toString()+" cm"),W("/"+Q+" sh"),W("Q");else if(ce instanceof oo){var be=new ct(1,0,0,-1,0,Ia());x.matrix&&(be=be.multiply(x.matrix||yr),Q=Le.call(ce,x.key,x.boundingBox,x.xStep,x.yStep,be).id),W("q"),W("/Pattern cs"),W("/"+Q+" scn"),ce.gState&&f.setGState(ce.gState),W(T),W("Q")}},Ut=function(x){switch(x){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},ks=f.moveTo=function(x,T){return W(P(B(x))+" "+P($(T))+" m"),this},ys=f.lineTo=function(x,T){return W(P(B(x))+" "+P($(T))+" l"),this},Ds=f.curveTo=function(x,T,Q,ce,be,Ee){return W([P(B(x)),P($(T)),P(B(Q)),P($(ce)),P(B(be)),P($(Ee)),"c"].join(" ")),this};f.__private__.line=f.line=function(x,T,Q,ce,be){if(isNaN(x)||isNaN(T)||isNaN(Q)||isNaN(ce)||!gn(be))throw new Error("Invalid arguments passed to jsPDF.line");return C===D?this.lines([[Q-x,ce-T]],x,T,[1,1],be||"S"):this.lines([[Q-x,ce-T]],x,T,[1,1]).stroke()},f.__private__.lines=f.lines=function(x,T,Q,ce,be,Ee){var Ve,Je,nt,wt,Ct,ts,Us,Js,ps,er,Zs,fr;if(typeof x=="number"&&(fr=Q,Q=T,T=x,x=fr),ce=ce||[1,1],Ee=Ee||!1,isNaN(T)||isNaN(Q)||!Array.isArray(x)||!Array.isArray(ce)||!gn(be)||typeof Ee!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ks(T,Q),Ve=ce[0],Je=ce[1],wt=x.length,er=T,Zs=Q,nt=0;nt<wt;nt++)(Ct=x[nt]).length===2?(er=Ct[0]*Ve+er,Zs=Ct[1]*Je+Zs,ys(er,Zs)):(ts=Ct[0]*Ve+er,Us=Ct[1]*Je+Zs,Js=Ct[2]*Ve+er,ps=Ct[3]*Je+Zs,er=Ct[4]*Ve+er,Zs=Ct[5]*Je+Zs,Ds(ts,Us,Js,ps,er,Zs));return Ee&&K(),ke(be),this},f.path=function(x){for(var T=0;T<x.length;T++){var Q=x[T],ce=Q.c;switch(Q.op){case"m":ks(ce[0],ce[1]);break;case"l":ys(ce[0],ce[1]);break;case"c":Ds.apply(this,ce);break;case"h":K()}}return this},f.__private__.rect=f.rect=function(x,T,Q,ce,be){if(isNaN(x)||isNaN(T)||isNaN(Q)||isNaN(ce)||!gn(be))throw new Error("Invalid arguments passed to jsPDF.rect");return C===D&&(ce=-ce),W([P(B(x)),P($(T)),P(B(Q)),P(B(ce)),"re"].join(" ")),ke(be),this},f.__private__.triangle=f.triangle=function(x,T,Q,ce,be,Ee,Ve){if(isNaN(x)||isNaN(T)||isNaN(Q)||isNaN(ce)||isNaN(be)||isNaN(Ee)||!gn(Ve))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Q-x,ce-T],[be-Q,Ee-ce],[x-be,T-Ee]],x,T,[1,1],Ve,!0),this},f.__private__.roundedRect=f.roundedRect=function(x,T,Q,ce,be,Ee,Ve){if(isNaN(x)||isNaN(T)||isNaN(Q)||isNaN(ce)||isNaN(be)||isNaN(Ee)||!gn(Ve))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Je=4/3*(Math.SQRT2-1);return be=Math.min(be,.5*Q),Ee=Math.min(Ee,.5*ce),this.lines([[Q-2*be,0],[be*Je,0,be,Ee-Ee*Je,be,Ee],[0,ce-2*Ee],[0,Ee*Je,-be*Je,Ee,-be,Ee],[2*be-Q,0],[-be*Je,0,-be,-Ee*Je,-be,-Ee],[0,2*Ee-ce],[0,-Ee*Je,be*Je,-Ee,be,-Ee]],x+be,T,[1,1],Ve,!0),this},f.__private__.ellipse=f.ellipse=function(x,T,Q,ce,be){if(isNaN(x)||isNaN(T)||isNaN(Q)||isNaN(ce)||!gn(be))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ee=4/3*(Math.SQRT2-1)*Q,Ve=4/3*(Math.SQRT2-1)*ce;return ks(x+Q,T),Ds(x+Q,T-Ve,x+Ee,T-ce,x,T-ce),Ds(x-Ee,T-ce,x-Q,T-Ve,x-Q,T),Ds(x-Q,T+Ve,x-Ee,T+ce,x,T+ce),Ds(x+Ee,T+ce,x+Q,T+Ve,x+Q,T),ke(be),this},f.__private__.circle=f.circle=function(x,T,Q,ce){if(isNaN(x)||isNaN(T)||isNaN(Q)||!gn(ce))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(x,T,Q,Q,ce)},f.setFont=function(x,T,Q){return Q&&(T=V(T,Q)),et=Aa(x,T,{disableWarning:!1}),this};var Hr=f.__private__.getFont=f.getFont=function(){return Qe[Aa.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var x,T,Q={};for(x in Nt)if(Nt.hasOwnProperty(x))for(T in Q[x]=[],Nt[x])Nt[x].hasOwnProperty(T)&&Q[x].push(T);return Q},f.addFont=function(x,T,Q,ce,be){var Ee=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ee.indexOf(arguments[3])!==-1?be=arguments[3]:arguments[3]&&Ee.indexOf(arguments[3])==-1&&(Q=V(Q,ce)),En.call(this,x,T,Q,be=be||"Identity-H")};var Ua,Nc=s.lineWidth||.200025,jt=f.__private__.getLineWidth=f.getLineWidth=function(){return Nc},Jd=f.__private__.setLineWidth=f.setLineWidth=function(x){return Nc=x,W(P(B(x))+" w"),this};f.__private__.setLineDash=Ze.API.setLineDash=Ze.API.setLineDashPattern=function(x,T){if(x=x||[],T=T||0,isNaN(T)||!Array.isArray(x))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return x=x.map(function(Q){return P(B(Q))}).join(" "),T=P(B(T)),W("["+x+"] "+T+" d"),this};var Zd=f.__private__.getLineHeight=f.getLineHeight=function(){return _e*Ua};f.__private__.getLineHeight=f.getLineHeight=function(){return _e*Ua};var Qd=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(x){return typeof(x=x||1.15)=="number"&&(Ua=x),this},em=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return Ua};Qd(s.lineHeight);var di=f.__private__.getHorizontalCoordinate=function(x){return B(x)},mi=f.__private__.getVerticalCoordinate=function(x){return C===j?x:mt[H].mediaBox.topRightY-mt[H].mediaBox.bottomLeftY-B(x)},tm=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(x){return P(di(x))},sm=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(x){return P(mi(x))},_o=s.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return _t(_o)},f.__private__.setStrokeColor=f.setDrawColor=function(x,T,Q,ce){return _o=pt({ch1:x,ch2:T,ch3:Q,ch4:ce,pdfColorType:"draw",precision:2}),W(_o),this};var kc=s.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return _t(kc)},f.__private__.setFillColor=f.setFillColor=function(x,T,Q,ce){return kc=pt({ch1:x,ch2:T,ch3:Q,ch4:ce,pdfColorType:"fill",precision:2}),W(kc),this};var Va=s.textColor||"0 g",Uo=f.__private__.getTextColor=f.getTextColor=function(){return _t(Va)};f.__private__.setTextColor=f.setTextColor=function(x,T,Q,ce){return Va=pt({ch1:x,ch2:T,ch3:Q,ch4:ce,pdfColorType:"text",precision:3}),this};var Vo=s.charSpace,rm=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(Vo||0)};f.__private__.setCharSpace=f.setCharSpace=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Vo=x,this};var Dc=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(x){var T=f.CapJoinStyles[x];if(T===void 0)throw new Error("Line cap style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Dc=T,W(T+" J"),this};var wc=0;f.__private__.setLineJoin=f.setLineJoin=function(x){var T=f.CapJoinStyles[x];if(T===void 0)throw new Error("Line join style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return wc=T,W(T+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(x){if(x=x||0,isNaN(x))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return W(P(B(x))+" M"),this},f.GState=Ol,f.setGState=function(x){(x=typeof x=="string"?ht[fs[x]]:La(null,x)).equals(ns)||(W("/"+x.id+" gs"),ns=x)};var La=function(x,T){if(!x||!fs[x]){var Q=!1;for(var ce in ht)if(ht.hasOwnProperty(ce)&&ht[ce].equals(T)){Q=!0;break}if(Q)T=ht[ce];else{var be="GS"+(Object.keys(ht).length+1).toString(10);ht[be]=T,T.id=be}return x&&(fs[x]=T.id),qt.publish("addGState",T),T}};f.addGState=function(x,T){return La(x,T),this},f.saveGraphicsState=function(){return W("q"),es.push({key:et,size:_e,color:Va}),this},f.restoreGraphicsState=function(){W("Q");var x=es.pop();return et=x.key,_e=x.size,Va=x.color,ns=null,this},f.setCurrentTransformationMatrix=function(x){return W(x.toString()+" cm"),this},f.comment=function(x){return W("#"+x),this};var Ta=function(x,T){var Q=x||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Q},set:function(Ee){isNaN(Ee)||(Q=parseFloat(Ee))}});var ce=T||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ce},set:function(Ee){isNaN(Ee)||(ce=parseFloat(Ee))}});var be="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return be},set:function(Ee){be=Ee.toString()}}),this},Pc=function(x,T,Q,ce){Ta.call(this,x,T),this.type="rect";var be=Q||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return be},set:function(Ve){isNaN(Ve)||(be=parseFloat(Ve))}});var Ee=ce||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ee},set:function(Ve){isNaN(Ve)||(Ee=parseFloat(Ve))}}),this},Lo=function(){this.page=Yt,this.currentPage=H,this.pages=Pe.slice(0),this.pagesContext=mt.slice(0),this.x=Ye,this.y=Jt,this.matrix=Ht,this.width=Hl(H),this.height=fi(H),this.outputDestination=Ie,this.id="",this.objectNumber=-1};Lo.prototype.restore=function(){Yt=this.page,H=this.currentPage,mt=this.pagesContext,Pe=this.pages,Ye=this.x,Jt=this.y,Ht=this.matrix,ql(H,this.width),hi(H,this.height),Ie=this.outputDestination};var jc=function(x,T,Q,ce,be){Tr.push(new Lo),Yt=H=0,Pe=[],Ye=x,Jt=T,Ht=be,Mr([Q,ce])};for(var Ma in f.beginFormObject=function(x,T,Q,ce,be){return jc(x,T,Q,ce,be),this},f.endFormObject=function(x){return(function(T){if($r[T])Tr.pop().restore();else{var Q=new Lo,ce="Xo"+(Object.keys(Fs).length+1).toString(10);Q.id=ce,$r[T]=ce,Fs[ce]=Q,qt.publish("addFormObject",Q),Tr.pop().restore()}})(x),this},f.doFormObject=function(x,T){var Q=Fs[$r[x]];return W("q"),W(T.toString()+" cm"),W("/"+Q.id+" Do"),W("Q"),this},f.getFormObject=function(x){var T=Fs[$r[x]];return{x:T.x,y:T.y,width:T.width,height:T.height,matrix:T.matrix}},f.save=function(x,T){return x=x||"generated.pdf",(T=T||{}).returnPromise=T.returnPromise||!1,T.returnPromise===!1?(ro(An(sn()),x),typeof ro.unload=="function"&&kt.setTimeout&&setTimeout(ro.unload,911),this):new Promise(function(Q,ce){try{var be=ro(An(sn()),x);typeof ro.unload=="function"&&kt.setTimeout&&setTimeout(ro.unload,911),Q(be)}catch(Ee){ce(Ee.message)}})},Ze.API)Ze.API.hasOwnProperty(Ma)&&(Ma==="events"&&Ze.API.events.length?(function(x,T){var Q,ce,be;for(be=T.length-1;be!==-1;be--)Q=T[be][0],ce=T[be][1],x.subscribe.apply(x,[Q].concat(typeof ce=="function"?[ce]:ce))})(qt,Ze.API.events):f[Ma]=Ze.API[Ma]);function Hl(x){return mt[x].mediaBox.topRightX-mt[x].mediaBox.bottomLeftX}function ql(x,T){mt[x].mediaBox.topRightX=T+mt[x].mediaBox.bottomLeftX}function fi(x){return mt[x].mediaBox.topRightY-mt[x].mediaBox.bottomLeftY}function hi(x,T){mt[x].mediaBox.topRightY=T+mt[x].mediaBox.bottomLeftY}var Gl=f.getPageWidth=function(x){return Hl(x=x||H)/dt},Yl=f.setPageWidth=function(x,T){ql(x,T*dt)},Ia=f.getPageHeight=function(x){return fi(x=x||H)/dt},Kl=f.setPageHeight=function(x,T){hi(x,T*dt)};return f.internal={pdfEscape:Bs,getStyle:F,getFont:Hr,getFontSize:Me,getCharSpace:rm,getTextColor:Uo,getLineHeight:Zd,getLineHeightFactor:em,getLineWidth:jt,write:we,getHorizontalCoordinate:di,getVerticalCoordinate:mi,getCoordinateString:tm,getVerticalCoordinateString:sm,collections:{},newObject:cs,newAdditionalObject:Re,newObjectDeferred:ie,newObjectDeferredBegin:Ae,getFilters:ft,putStream:Zt,events:qt,scaleFactor:dt,pageSize:{getWidth:function(){return Gl(H)},setWidth:function(x){Yl(H,x)},getHeight:function(){return Ia(H)},setHeight:function(x){Kl(H,x)}},encryptionOptions:d,encryption:_s,getEncryptor:function(x){return d!==null?_s.encryptor(x,0):function(T){return T}},output:Nr,getNumberOfPages:Sa,pages:Pe,out:W,f2:S,f3:L,getPageInfo:$i,getPageInfoByObjId:_a,getCurrentPageInfo:Ao,getPDFVersion:y,Point:Ta,Rectangle:Pc,Matrix:ct,hasHotfix:kr},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return Gl(H)},set:function(x){Yl(H,x)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return Ia(H)},set:function(x){Kl(H,x)},enumerable:!0,configurable:!0}),(function(x){for(var T=0,Q=Ge.length;T<Q;T++){var ce=En.call(this,x[T][0],x[T][1],x[T][2],Ge[T][3],!0);m===!1&&(p[ce]=!0);var be=x[T][0].split("-");Qs({id:ce,fontName:be[0],fontStyle:be[1]||""})}qt.publish("addFonts",{fonts:Qe,dictionary:Nt})}).call(f,Ge),et="F1",$n(n,t),qt.publish("initialized"),f}ec.prototype.lsbFirstWord=function(s){return String.fromCharCode(255&s,s>>8&255,s>>16&255,s>>24&255)},ec.prototype.toHexString=function(s){return s.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},ec.prototype.hexToBytes=function(s){for(var e=[],t=0;t<s.length;t+=2)e.push(String.fromCharCode(parseInt(s.substr(t,2),16)));return e.join("")},ec.prototype.processOwnerPassword=function(s,e){return Nh(vh(e).substr(0,5),s)},ec.prototype.encryptor=function(s,e){var t=vh(this.encryptionKey+String.fromCharCode(255&s,s>>8&255,s>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return Nh(t,r)}},Ol.prototype.equals=function(s){var e,t="id,objectNumber,equals";if(!s||os(s)!==os(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!s.hasOwnProperty(e)||this[e]!==s[e])return!1;r++}for(e in s)s.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},Ze.API={events:[]},Ze.version="3.0.3";var Is=Ze.API,up=1,So=function(s){return s.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Xo=function(s){return s.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Et=function(s){return s.toFixed(2)},ca=function(s){return s.toFixed(5)};Is.__acroform__={};var en=function(s,e){s.prototype=Object.create(e.prototype),s.prototype.constructor=s},By=function(s){return s*up},Jn=function(s){var e=new pN,t=qe.internal.getHeight(s)||0,r=qe.internal.getWidth(s)||0;return e.BBox=[0,0,Number(Et(r)),Number(Et(t))],e},TV=Is.__acroform__.setBit=function(s,e){if(s=s||0,e=e||0,isNaN(s)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return s|1<<e},MV=Is.__acroform__.clearBit=function(s,e){if(s=s||0,e=e||0,isNaN(s)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return s&~(1<<e)},IV=Is.__acroform__.getBit=function(s,e){if(isNaN(s)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return s&1<<e?1:0},Gs=Is.__acroform__.getBitForPdf=function(s,e){if(isNaN(s)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return IV(s,e-1)},Ys=Is.__acroform__.setBitForPdf=function(s,e){if(isNaN(s)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return TV(s,e-1)},Ks=Is.__acroform__.clearBitForPdf=function(s,e){if(isNaN(s)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return MV(s,e-1)},RV=Is.__acroform__.calculateCoordinates=function(s,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,n=s[0],i=s[1],a=s[2],o=s[3],l={};return l.lowerLeft_X=t(n)||0,l.lowerLeft_Y=r(i+o)||0,l.upperRight_X=t(n+a)||0,l.upperRight_Y=r(i)||0,[Number(Et(l.lowerLeft_X)),Number(Et(l.lowerLeft_Y)),Number(Et(l.upperRight_X)),Number(Et(l.upperRight_Y))]},OV=function(s){if(s.appearanceStreamContent)return s.appearanceStreamContent;if(s.V||s.DV){var e=[],t=s._V||s.DV,r=kh(s,t),n=s.scope.internal.getFont(s.fontName,s.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(s.scope.__private__.encodeColorString(s.color)),e.push("/"+n+" "+Et(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=Jn(s);return i.scope=s.scope,i.stream=e.join(`
`),i}},kh=function(s,e){var t=s.fontSize===0?s.maxFontSize:s.fontSize,r={text:"",fontSize:""},n=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");n=s.multiline?n.map(function(S){return S.split(`
`)}):n.map(function(S){return[S]});var i=t,a=qe.internal.getHeight(s)||0;a=a<0?-a:a;var o=qe.internal.getWidth(s)||0;o=o<0?-o:o;var l=function(S,L,B){if(S+1<n.length){var $=L+" "+n[S+1][0];return Qu($,s,B).width<=o-4}return!1};i++;e:for(;i>0;){e="",i--;var u,d,m=Qu("3",s,i).height,p=s.multiline?a-i:(a-m)/2,f=p+=2,g=0,y=0,v=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+Qu(e,s,i=12).width+", FieldWidth:"+o+`
`;break}for(var N="",D=0,j=0;j<n.length;j++)if(n.hasOwnProperty(j)){var C=!1;if(n[j].length!==1&&v!==n[j].length-1){if((m+2)*(D+2)+2>a)continue e;N+=n[j][v],C=!0,y=j,j--}else{N=(N+=n[j][v]+" ").substr(N.length-1)==" "?N.substr(0,N.length-1):N;var E=parseInt(j),A=l(E,N,i),V=j>=n.length-1;if(A&&!V){N+=" ",v=0;continue}if(A||V){if(V)y=E;else if(s.multiline&&(m+2)*(D+2)+2>a)continue e}else{if(!s.multiline||(m+2)*(D+2)+2>a)continue e;y=E}}for(var P="",_=g;_<=y;_++){var O=n[_];if(s.multiline){if(_===y){P+=O[v]+" ",v=(v+1)%O.length;continue}if(_===g){P+=O[O.length-1]+" ";continue}}P+=O[0]+" "}switch(P=P.substr(P.length-1)==" "?P.substr(0,P.length-1):P,d=Qu(P,s,i).width,s.textAlign){case"right":u=o-d-2;break;case"center":u=(o-d)/2;break;default:u=2}e+=Et(u)+" "+Et(f)+` Td
`,e+="("+So(P)+`) Tj
`,e+=-Et(u)+` 0 Td
`,f=-(i+2),d=0,g=C?y:y+1,D++,N=""}break}return r.text=e,r.fontSize=i,r},Qu=function(s,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),n=e.scope.getStringUnitWidth(s,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:n}},FV={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},BV=function(s,e){var t={type:"reference",object:s};e.internal.getPageInfo(s.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(s.page).pageContext.annotations.push(t)},zV=function(s,e){if(e.scope=s,s.internal!==void 0&&(s.internal.acroformPlugin===void 0||s.internal.acroformPlugin.isInitialized===!1)){if(Bn.FieldNum=0,s.internal.acroformPlugin=JSON.parse(JSON.stringify(FV)),s.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");up=s.internal.scaleFactor,s.internal.acroformPlugin.acroFormDictionaryRoot=new gN,s.internal.acroformPlugin.acroFormDictionaryRoot.scope=s,s.internal.acroformPlugin.acroFormDictionaryRoot._eventID=s.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(s)}),s.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in r)if(r.hasOwnProperty(n)){var i=r[n];i.objId=void 0,i.hasAnnotation&&BV(i,t)}})(s)}),s.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(s)}),s.internal.events.subscribe("postPutPages",function(t){(function(r,n){var i=!r;for(var a in r||(n.internal.newObjectDeferredBegin(n.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),n.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||n.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(a)){var o=r[a],l=[],u=o.Rect;if(o.Rect&&(o.Rect=RV(o.Rect,n)),n.internal.newObjectDeferredBegin(o.objId,!0),o.DA=qe.createDefaultAppearanceStream(o),os(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var d=OV(o);l.push({key:"AP",value:"<</N "+d+">>"}),n.internal.acroformPlugin.xForms.push(d)}if(o.appearanceStreamContent){var m="";for(var p in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(p)){var f=o.appearanceStreamContent[p];if(m+="/"+p+" ",m+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var a in f)if(f.hasOwnProperty(a)){var g=f[a];typeof g=="function"&&(g=g.call(n,o)),m+="/"+a+" "+g+" ",n.internal.acroformPlugin.xForms.indexOf(g)>=0||n.internal.acroformPlugin.xForms.push(g)}}else typeof(g=f)=="function"&&(g=g.call(n,o)),m+="/"+a+" "+g,n.internal.acroformPlugin.xForms.indexOf(g)>=0||n.internal.acroformPlugin.xForms.push(g);m+=">>"}l.push({key:"AP",value:`<<
`+m+">>"})}n.internal.putStream({additionalKeyValues:l,objectId:o.objId}),n.internal.out("endobj")}i&&(function(y,v){for(var N in y)if(y.hasOwnProperty(N)){var D=N,j=y[N];v.internal.newObjectDeferredBegin(j.objId,!0),os(j)==="object"&&typeof j.putStream=="function"&&j.putStream(),delete y[D]}})(n.internal.acroformPlugin.xForms,n)})(t,s)}),s.internal.acroformPlugin.isInitialized=!0}},hN=Is.__acroform__.arrayToPdfArray=function(s,e,t){var r=function(a){return a};if(Array.isArray(s)){for(var n="[",i=0;i<s.length;i++)switch(i!==0&&(n+=" "),os(s[i])){case"boolean":case"number":case"object":n+=s[i].toString();break;case"string":s[i].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),n+="("+So(r(s[i].toString()))+")"):n+=s[i].toString()}return n+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Vf=function(s,e,t){var r=function(n){return n};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(s=s||"").toString(),"("+So(r(s))+")"},si=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(s){this._objId=s}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};si.prototype.toString=function(){return this.objId+" 0 R"},si.prototype.putStream=function(){var s=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:s,objectId:this.objId}),this.scope.internal.out("endobj")},si.prototype.getKeyValueListForStream=function(){var s=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],n=this[r];n&&(Array.isArray(n)?s.push({key:r,value:hN(n,this.objId,this.scope)}):n instanceof si?(n.scope=this.scope,s.push({key:r,value:n.objId+" 0 R"})):typeof n!="function"&&s.push({key:r,value:n}))}return s};var pN=function(){si.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var s,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){s=t.trim()},get:function(){return s||null}})};en(pN,si);var gN=function(){si.call(this);var s,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(s){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+So(t(s))+")"}},set:function(t){s=t}})};en(gN,si);var Bn=function s(){si.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(N){if(isNaN(N))throw new Error('Invalid value "'+N+'" for attribute F supplied.');e=N}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Gs(e,3)},set:function(N){N?this.F=Ys(e,3):this.F=Ks(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(N){if(isNaN(N))throw new Error('Invalid value "'+N+'" for attribute Ff supplied.');t=N}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(N){r=N!==void 0?N:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(N){r[0]=N}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(N){r[1]=N}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(N){r[2]=N}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(N){r[3]=N}});var n="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return n},set:function(N){switch(N){case"/Btn":case"/Tx":case"/Ch":case"/Sig":n=N;break;default:throw new Error('Invalid value "'+N+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof _d)return;i="FieldObject"+s.FieldNum++}var N=function(D){return D};return this.scope&&(N=this.scope.internal.getEncryptor(this.objId)),"("+So(N(i))+")"},set:function(N){i=N.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(N){i=N}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(N){a=N}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(N){o=N}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(N){l=N}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/up:u},set:function(N){u=N}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(N){d=N}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof _d||this instanceof ya))return Vf(m,this.objId,this.scope)},set:function(N){N=N.toString(),m=N}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof ar==0?Vf(p,this.objId,this.scope):p},set:function(N){N=N.toString(),p=this instanceof ar==0?N.substr(0,1)==="("?Xo(N.substr(1,N.length-2)):Xo(N):N}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ar==1?Xo(p.substr(1,p.length-1)):p},set:function(N){N=N.toString(),p=this instanceof ar==1?"/"+N:N}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(N){this.V=N}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof ar==0?Vf(f,this.objId,this.scope):f},set:function(N){N=N.toString(),f=this instanceof ar==0?N.substr(0,1)==="("?Xo(N.substr(1,N.length-2)):Xo(N):N}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ar==1?Xo(f.substr(1,f.length-1)):f},set:function(N){N=N.toString(),f=this instanceof ar==1?"/"+N:N}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,y=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return y},set:function(N){N=!!N,y=N}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(N){g=N}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Gs(this.Ff,1)},set:function(N){N?this.Ff=Ys(this.Ff,1):this.Ff=Ks(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Gs(this.Ff,2)},set:function(N){N?this.Ff=Ys(this.Ff,2):this.Ff=Ks(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Gs(this.Ff,3)},set:function(N){N?this.Ff=Ys(this.Ff,3):this.Ff=Ks(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(N){if([0,1,2].indexOf(N)===-1)throw new Error('Invalid value "'+N+'" for attribute Q supplied.');v=N}}),Object.defineProperty(this,"textAlign",{get:function(){var N;switch(v){case 0:default:N="left";break;case 1:N="center";break;case 2:N="right"}return N},configurable:!0,enumerable:!0,set:function(N){switch(N){case"right":case 2:v=2;break;case"center":case 1:v=1;break;default:v=0}}})};en(Bn,si);var mo=function(){Bn.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var s=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return s},set:function(t){s=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return s},set:function(t){s=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return hN(e,this.objId,this.scope)},set:function(t){var r,n;n=[],typeof(r=t)=="string"&&(n=(function(i,a,o){o||(o=1);for(var l,u=[];l=a.exec(i);)u.push(l[o]);return u})(r,/\((.*?)\)/g)),e=n}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Gs(this.Ff,18)},set:function(t){t?this.Ff=Ys(this.Ff,18):this.Ff=Ks(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Gs(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Ys(this.Ff,19):this.Ff=Ks(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Gs(this.Ff,20)},set:function(t){t?(this.Ff=Ys(this.Ff,20),e.sort()):this.Ff=Ks(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Gs(this.Ff,22)},set:function(t){t?this.Ff=Ys(this.Ff,22):this.Ff=Ks(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Gs(this.Ff,23)},set:function(t){t?this.Ff=Ys(this.Ff,23):this.Ff=Ks(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Gs(this.Ff,27)},set:function(t){t?this.Ff=Ys(this.Ff,27):this.Ff=Ks(this.Ff,27)}}),this.hasAppearanceStream=!1};en(mo,Bn);var fo=function(){mo.call(this),this.fontName="helvetica",this.combo=!1};en(fo,mo);var ho=function(){fo.call(this),this.combo=!0};en(ho,fo);var yl=function(){ho.call(this),this.edit=!0};en(yl,ho);var ar=function(){Bn.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Gs(this.Ff,15)},set:function(t){t?this.Ff=Ys(this.Ff,15):this.Ff=Ks(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Gs(this.Ff,16)},set:function(t){t?this.Ff=Ys(this.Ff,16):this.Ff=Ks(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Gs(this.Ff,17)},set:function(t){t?this.Ff=Ys(this.Ff,17):this.Ff=Ks(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Gs(this.Ff,26)},set:function(t){t?this.Ff=Ys(this.Ff,26):this.Ff=Ks(this.Ff,26)}});var s,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(i){return i};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,n=[];for(r in n.push("<<"),e)n.push("/"+r+" ("+So(t(e[r]))+")");return n.push(">>"),n.join(`
`)}},set:function(t){os(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return s},set:function(t){s=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return s.substr(1,s.length-1)},set:function(t){s="/"+t}})};en(ar,Bn);var xl=function(){ar.call(this),this.pushButton=!0};en(xl,ar);var po=function(){ar.call(this),this.radio=!0,this.pushButton=!1;var s=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return s},set:function(e){s=e!==void 0?e:[]}})};en(po,ar);var _d=function(){var s,e;Bn.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return s},set:function(n){s=n}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(n){e=n}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(o){return o};this.scope&&(n=this.scope.internal.getEncryptor(this.objId));var i,a=[];for(i in a.push("<<"),r)a.push("/"+i+" ("+So(n(r[i]))+")");return a.push(">>"),a.join(`
`)},set:function(n){os(n)==="object"&&(r=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(n){typeof n=="string"&&(r.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=qe.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};en(_d,Bn),po.prototype.setAppearance=function(s){if(!("createAppearanceStream"in s)||!("getCA"in s))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=s.createAppearanceStream(t.optionName),t.caption=s.getCA()}},po.prototype.createOption=function(s){var e=new _d;return e.Parent=this,e.optionName=s,this.Kids.push(e),$V.call(this.scope,e),e};var vl=function(){ar.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=qe.CheckBox.createAppearanceStream()};en(vl,ar);var ya=function(){Bn.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Gs(this.Ff,13)},set:function(e){e?this.Ff=Ys(this.Ff,13):this.Ff=Ks(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Gs(this.Ff,21)},set:function(e){e?this.Ff=Ys(this.Ff,21):this.Ff=Ks(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Gs(this.Ff,23)},set:function(e){e?this.Ff=Ys(this.Ff,23):this.Ff=Ks(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Gs(this.Ff,24)},set:function(e){e?this.Ff=Ys(this.Ff,24):this.Ff=Ks(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Gs(this.Ff,25)},set:function(e){e?this.Ff=Ys(this.Ff,25):this.Ff=Ks(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Gs(this.Ff,26)},set:function(e){e?this.Ff=Ys(this.Ff,26):this.Ff=Ks(this.Ff,26)}});var s=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return s},set:function(e){s=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return s},set:function(e){Number.isInteger(e)&&(s=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};en(ya,Bn);var Nl=function(){ya.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Gs(this.Ff,14)},set:function(s){s?this.Ff=Ys(this.Ff,14):this.Ff=Ks(this.Ff,14)}}),this.password=!0};en(Nl,ya);var qe={CheckBox:{createAppearanceStream:function(){return{N:{On:qe.CheckBox.YesNormal},D:{On:qe.CheckBox.YesPushDown,Off:qe.CheckBox.OffPushDown}}},YesPushDown:function(s){var e=Jn(s);e.scope=s.scope;var t=[],r=s.scope.internal.getFont(s.fontName,s.fontStyle).id,n=s.scope.__private__.encodeColorString(s.color),i=kh(s,s.caption);return t.push("0.749023 g"),t.push("0 0 "+Et(qe.internal.getWidth(s))+" "+Et(qe.internal.getHeight(s))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+Et(i.fontSize)+" Tf "+n),t.push("BT"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(s){var e=Jn(s);e.scope=s.scope;var t=s.scope.internal.getFont(s.fontName,s.fontStyle).id,r=s.scope.__private__.encodeColorString(s.color),n=[],i=qe.internal.getHeight(s),a=qe.internal.getWidth(s),o=kh(s,s.caption);return n.push("1 g"),n.push("0 0 "+Et(a)+" "+Et(i)+" re"),n.push("f"),n.push("q"),n.push("0 0 1 rg"),n.push("0 0 "+Et(a-1)+" "+Et(i-1)+" re"),n.push("W"),n.push("n"),n.push("0 g"),n.push("BT"),n.push("/"+t+" "+Et(o.fontSize)+" Tf "+r),n.push(o.text),n.push("ET"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(s){var e=Jn(s);e.scope=s.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Et(qe.internal.getWidth(s))+" "+Et(qe.internal.getHeight(s))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(s){var e={D:{Off:qe.RadioButton.Circle.OffPushDown},N:{}};return e.N[s]=qe.RadioButton.Circle.YesNormal,e.D[s]=qe.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(s){var e=Jn(s);e.scope=s.scope;var t=[],r=qe.internal.getWidth(s)<=qe.internal.getHeight(s)?qe.internal.getWidth(s)/4:qe.internal.getHeight(s)/4;r=Number((.9*r).toFixed(5));var n=qe.internal.Bezier_C,i=Number((r*n).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+ca(qe.internal.getWidth(s)/2)+" "+ca(qe.internal.getHeight(s)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+i+" "+i+" "+r+" 0 "+r+" c"),t.push("-"+i+" "+r+" -"+r+" "+i+" -"+r+" 0 c"),t.push("-"+r+" -"+i+" -"+i+" -"+r+" 0 -"+r+" c"),t.push(i+" -"+r+" "+r+" -"+i+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(s){var e=Jn(s);e.scope=s.scope;var t=[],r=qe.internal.getWidth(s)<=qe.internal.getHeight(s)?qe.internal.getWidth(s)/4:qe.internal.getHeight(s)/4;r=Number((.9*r).toFixed(5));var n=Number((2*r).toFixed(5)),i=Number((n*qe.internal.Bezier_C).toFixed(5)),a=Number((r*qe.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+ca(qe.internal.getWidth(s)/2)+" "+ca(qe.internal.getHeight(s)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),t.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),t.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),t.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+ca(qe.internal.getWidth(s)/2)+" "+ca(qe.internal.getHeight(s)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),t.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),t.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),t.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(s){var e=Jn(s);e.scope=s.scope;var t=[],r=qe.internal.getWidth(s)<=qe.internal.getHeight(s)?qe.internal.getWidth(s)/4:qe.internal.getHeight(s)/4;r=Number((.9*r).toFixed(5));var n=Number((2*r).toFixed(5)),i=Number((n*qe.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+ca(qe.internal.getWidth(s)/2)+" "+ca(qe.internal.getHeight(s)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),t.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),t.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),t.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(s){var e={D:{Off:qe.RadioButton.Cross.OffPushDown},N:{}};return e.N[s]=qe.RadioButton.Cross.YesNormal,e.D[s]=qe.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(s){var e=Jn(s);e.scope=s.scope;var t=[],r=qe.internal.calculateCross(s);return t.push("q"),t.push("1 1 "+Et(qe.internal.getWidth(s)-2)+" "+Et(qe.internal.getHeight(s)-2)+" re"),t.push("W"),t.push("n"),t.push(Et(r.x1.x)+" "+Et(r.x1.y)+" m"),t.push(Et(r.x2.x)+" "+Et(r.x2.y)+" l"),t.push(Et(r.x4.x)+" "+Et(r.x4.y)+" m"),t.push(Et(r.x3.x)+" "+Et(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(s){var e=Jn(s);e.scope=s.scope;var t=qe.internal.calculateCross(s),r=[];return r.push("0.749023 g"),r.push("0 0 "+Et(qe.internal.getWidth(s))+" "+Et(qe.internal.getHeight(s))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Et(qe.internal.getWidth(s)-2)+" "+Et(qe.internal.getHeight(s)-2)+" re"),r.push("W"),r.push("n"),r.push(Et(t.x1.x)+" "+Et(t.x1.y)+" m"),r.push(Et(t.x2.x)+" "+Et(t.x2.y)+" l"),r.push(Et(t.x4.x)+" "+Et(t.x4.y)+" m"),r.push(Et(t.x3.x)+" "+Et(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(s){var e=Jn(s);e.scope=s.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Et(qe.internal.getWidth(s))+" "+Et(qe.internal.getHeight(s))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(s){var e=s.scope.internal.getFont(s.fontName,s.fontStyle).id,t=s.scope.__private__.encodeColorString(s.color);return"/"+e+" "+s.fontSize+" Tf "+t}};qe.internal={Bezier_C:.551915024494,calculateCross:function(s){var e=qe.internal.getWidth(s),t=qe.internal.getHeight(s),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},qe.internal.getWidth=function(s){var e=0;return os(s)==="object"&&(e=By(s.Rect[2])),e},qe.internal.getHeight=function(s){var e=0;return os(s)==="object"&&(e=By(s.Rect[3])),e};var $V=Is.addField=function(s){if(zV(this,s),!(s instanceof Bn))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=s).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),s.page=s.scope.internal.getCurrentPageInfo().pageNumber,this};Is.AcroFormChoiceField=mo,Is.AcroFormListBox=fo,Is.AcroFormComboBox=ho,Is.AcroFormEditBox=yl,Is.AcroFormButton=ar,Is.AcroFormPushButton=xl,Is.AcroFormRadioButton=po,Is.AcroFormCheckBox=vl,Is.AcroFormTextField=ya,Is.AcroFormPasswordField=Nl,Is.AcroFormAppearance=qe,Is.AcroForm={ChoiceField:mo,ListBox:fo,ComboBox:ho,EditBox:yl,Button:ar,PushButton:xl,RadioButton:po,CheckBox:vl,TextField:ya,PasswordField:Nl,Appearance:qe},Ze.AcroForm={ChoiceField:mo,ListBox:fo,ComboBox:ho,EditBox:yl,Button:ar,PushButton:xl,RadioButton:po,CheckBox:vl,TextField:ya,PasswordField:Nl,Appearance:qe};var WV=Ze.AcroForm;function bN(s){return s.reduce(function(e,t,r){return e[t]=r,e},{})}(function(s){var e="addImage_";s.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=s.__addimage__.getImageFileTypeByImageData=function(S,L){var B,$,Z,re,le,ee=t;if((L=L||t)==="RGBA"||S.data!==void 0&&S.data instanceof Uint8ClampedArray&&"height"in S&&"width"in S)return"RGBA";if(A(S))for(le in r)for(Z=r[le],B=0;B<Z.length;B+=1){for(re=!0,$=0;$<Z[B].length;$+=1)if(Z[B][$]!==void 0&&Z[B][$]!==S[$]){re=!1;break}if(re===!0){ee=le;break}}else for(le in r)for(Z=r[le],B=0;B<Z.length;B+=1){for(re=!0,$=0;$<Z[B].length;$+=1)if(Z[B][$]!==void 0&&Z[B][$]!==S.charCodeAt($)){re=!1;break}if(re===!0){ee=le;break}}return ee===t&&L!==t&&(ee=L),ee},i=function S(L){for(var B=this.internal.write,$=this.internal.putStream,Z=(0,this.internal.getFilters)();Z.indexOf("FlateEncode")!==-1;)Z.splice(Z.indexOf("FlateEncode"),1);L.objectId=this.internal.newObject();var re=[];if(re.push({key:"Type",value:"/XObject"}),re.push({key:"Subtype",value:"/Image"}),re.push({key:"Width",value:L.width}),re.push({key:"Height",value:L.height}),L.colorSpace===N.INDEXED?re.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(L.palette.length/3-1)+" "+("sMask"in L&&L.sMask!==void 0?L.objectId+2:L.objectId+1)+" 0 R]"}):(re.push({key:"ColorSpace",value:"/"+L.colorSpace}),L.colorSpace===N.DEVICE_CMYK&&re.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),re.push({key:"BitsPerComponent",value:L.bitsPerComponent}),"decodeParameters"in L&&L.decodeParameters!==void 0&&re.push({key:"DecodeParms",value:"<<"+L.decodeParameters+">>"}),"transparency"in L&&Array.isArray(L.transparency)&&L.transparency.length>0){for(var le="",ee=0,pe=L.transparency.length;ee<pe;ee++)le+=L.transparency[ee]+" "+L.transparency[ee]+" ";re.push({key:"Mask",value:"["+le+"]"})}L.sMask!==void 0&&re.push({key:"SMask",value:L.objectId+1+" 0 R"});var ue=L.filter!==void 0?["/"+L.filter]:void 0;if($({data:L.data,additionalKeyValues:re,alreadyAppliedFilters:ue,objectId:L.objectId}),B("endobj"),"sMask"in L&&L.sMask!==void 0){var te,U=(te=L.sMaskBitsPerComponent)!==null&&te!==void 0?te:L.bitsPerComponent,H={width:L.width,height:L.height,colorSpace:"DeviceGray",bitsPerComponent:U,data:L.sMask};"filter"in L&&(H.decodeParameters="/Predictor ".concat(L.predictor," /Colors 1 /BitsPerComponent ").concat(U," /Columns ").concat(L.width),H.filter=L.filter),S.call(this,H)}if(L.colorSpace===N.INDEXED){var G=this.internal.newObject();$({data:P(new Uint8Array(L.palette)),objectId:G}),B("endobj")}},a=function(){var S=this.internal.collections[e+"images"];for(var L in S)i.call(this,S[L])},o=function(){var S,L=this.internal.collections[e+"images"],B=this.internal.write;for(var $ in L)B("/I"+(S=L[$]).index,S.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},u=function(){var S=this.internal.collections[e+"images"];return l.call(this),S},d=function(){return Object.keys(this.internal.collections[e+"images"]).length},m=function(S){return typeof s["process"+S.toUpperCase()]=="function"},p=function(S){return os(S)==="object"&&S.nodeType===1},f=function(S,L){if(S.nodeName==="IMG"&&S.hasAttribute("src")){var B=""+S.getAttribute("src");if(B.indexOf("data:image/")===0)return md(unescape(B).split("base64,").pop());var $=s.loadFile(B,!0);if($!==void 0)return $}if(S.nodeName==="CANVAS"){if(S.width===0||S.height===0)throw new Error("Given canvas must have data. Canvas width: "+S.width+", height: "+S.height);var Z;switch(L){case"PNG":Z="image/png";break;case"WEBP":Z="image/webp";break;default:Z="image/jpeg"}return md(S.toDataURL(Z,1).split("base64,").pop())}},g=function(S){var L=this.internal.collections[e+"images"];if(L){for(var B in L)if(S===L[B].alias)return L[B]}},y=function(S,L,B){return S||L||(S=-96,L=-96),S<0&&(S=-1*B.width*72/S/this.internal.scaleFactor),L<0&&(L=-1*B.height*72/L/this.internal.scaleFactor),S===0&&(S=L*B.width/B.height),L===0&&(L=S*B.height/B.width),[S,L]},v=function(S,L,B,$,Z,re){var le=y.call(this,B,$,Z),ee=this.internal.getCoordinateString,pe=this.internal.getVerticalCoordinateString,ue=u.call(this);if(B=le[0],$=le[1],ue[Z.index]=Z,re){re*=Math.PI/180;var te=Math.cos(re),U=Math.sin(re),H=function(se){return se.toFixed(4)},G=[H(te),H(U),H(-1*U),H(te),0,0,"cm"]}this.internal.write("q"),re?(this.internal.write([1,"0","0",1,ee(S),pe(L+$),"cm"].join(" ")),this.internal.write(G.join(" ")),this.internal.write([ee(B),"0","0",ee($),"0","0","cm"].join(" "))):this.internal.write([ee(B),"0","0",ee($),ee(S),pe(L+$),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Z.index+" Do"),this.internal.write("Q")},N=s.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};s.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var D=s.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},j=s.__addimage__.sHashCode=function(S){var L,B,$=0;if(typeof S=="string")for(B=S.length,L=0;L<B;L++)$=($<<5)-$+S.charCodeAt(L),$|=0;else if(A(S))for(B=S.byteLength/2,L=0;L<B;L++)$=($<<5)-$+S[L],$|=0;return $},C=s.__addimage__.validateStringAsBase64=function(S){(S=S||"").toString().trim();var L=!0;return S.length===0&&(L=!1),S.length%4!=0&&(L=!1),/^[A-Za-z0-9+/]+$/.test(S.substr(0,S.length-2))===!1&&(L=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(S.substr(-2))===!1&&(L=!1),L},E=s.__addimage__.extractImageFromDataUrl=function(S){if(S==null||!(S=S.trim()).startsWith("data:"))return null;var L=S.indexOf(",");return L<0?null:S.substring(0,L).trim().endsWith("base64")?S.substring(L+1):null};s.__addimage__.isArrayBuffer=function(S){return S instanceof ArrayBuffer};var A=s.__addimage__.isArrayBufferView=function(S){return S instanceof Int8Array||S instanceof Uint8Array||S instanceof Uint8ClampedArray||S instanceof Int16Array||S instanceof Uint16Array||S instanceof Int32Array||S instanceof Uint32Array||S instanceof Float32Array||S instanceof Float64Array},V=s.__addimage__.binaryStringToUint8Array=function(S){for(var L=S.length,B=new Uint8Array(L),$=0;$<L;$++)B[$]=S.charCodeAt($);return B},P=s.__addimage__.arrayBufferToBinaryString=function(S){for(var L="",B=A(S)?S:new Uint8Array(S),$=0;$<B.length;$+=8192)L+=String.fromCharCode.apply(null,B.subarray($,$+8192));return L};s.addImage=function(){var S,L,B,$,Z,re,le,ee,pe;if(typeof arguments[1]=="number"?(L=t,B=arguments[1],$=arguments[2],Z=arguments[3],re=arguments[4],le=arguments[5],ee=arguments[6],pe=arguments[7]):(L=arguments[1],B=arguments[2],$=arguments[3],Z=arguments[4],re=arguments[5],le=arguments[6],ee=arguments[7],pe=arguments[8]),os(S=arguments[0])==="object"&&!p(S)&&"imageData"in S){var ue=S;S=ue.imageData,L=ue.format||L||t,B=ue.x||B||0,$=ue.y||$||0,Z=ue.w||ue.width||Z,re=ue.h||ue.height||re,le=ue.alias||le,ee=ue.compression||ee,pe=ue.rotation||ue.angle||pe}var te=this.internal.getFilters();if(ee===void 0&&te.indexOf("FlateEncode")!==-1&&(ee="SLOW"),isNaN(B)||isNaN($))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var U=_.call(this,S,L,le,ee);return v.call(this,B,$,Z,re,U,pe),this};var _=function(S,L,B,$){var Z,re,le;if(typeof S=="string"&&n(S)===t){S=unescape(S);var ee=O(S,!1);(ee!==""||(ee=s.loadFile(S,!0))!==void 0)&&(S=ee)}if(p(S)&&(S=f(S,L)),L=n(S,L),!m(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(((le=B)==null||le.length===0)&&(B=(function(pe){return typeof pe=="string"||A(pe)?j(pe):A(pe.data)?j(pe.data):null})(S)),(Z=g.call(this,B))||(S instanceof Uint8Array||L==="RGBA"||(re=S,S=V(S)),Z=this["process"+L.toUpperCase()](S,d.call(this),B,(function(pe){return pe&&typeof pe=="string"&&(pe=pe.toUpperCase()),pe in s.image_compression?pe:D.NONE})($),re)),!Z)throw new Error("An unknown error occurred whilst processing the image.");return Z},O=s.__addimage__.convertBase64ToBinaryString=function(S,L){L=typeof L!="boolean"||L;var B,$="";if(typeof S=="string"){var Z;B=(Z=E(S))!==null&&Z!==void 0?Z:S;try{$=md(B)}catch(re){if(L)throw C(B)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+re.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return $};s.getImageProperties=function(S){var L,B,$="";if(p(S)&&(S=f(S)),typeof S=="string"&&n(S)===t&&(($=O(S,!1))===""&&($=s.loadFile(S)||""),S=$),B=n(S),!m(B))throw new Error("addImage does not support files of type '"+B+"', please ensure that a plugin for '"+B+"' support is added.");if(S instanceof Uint8Array||(S=V(S)),!(L=this["process"+B.toUpperCase()](S)))throw new Error("An unknown error occurred whilst processing the image");return L.fileType=B,L}})(Ze.API),(function(s){var e=function(t){if(t!==void 0&&t!="")return!0};Ze.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),s.events.push(["putPage",function(t){for(var r,n,i,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(t.objId),u=t.pageContext.annotations,d=!1,m=0;m<u.length&&!d;m++)switch((r=u[m]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var p=0;p<u.length;p++){r=u[p];var f=this.internal.pdfEscape,g=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var y=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),N=this.internal.getEncryptor(y.objId),D=r.title||"Note";i="<</Type /Annot /Subtype /Text "+(n="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y)+"] ")+"/Contents ("+f(N(r.contents))+")",i+=" /Popup "+v.objId+" 0 R",i+=" /P "+l.objId+" 0 R",i+=" /T ("+f(N(D))+") >>",y.content=i;var j=y.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(n="/Rect ["+a(r.bounds.x+30)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w+30)+" "+o(r.bounds.y)+"] ")+" /Parent "+j,r.open&&(i+=" /Open true"),i+=" >>",v.content=i,this.internal.write(y.objId,"0 R",v.objId,"0 R");break;case"freetext":n="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y+r.bounds.h)+"] ";var C=r.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+n+"/Contents ("+f(g(r.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+C+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(r.options.name){var E=this.annotations._nameMap[r.options.name];r.options.pageNumber=E.page,r.options.top=E.y}else r.options.top||(r.options.top=0);if(n="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",i="",r.options.url)i="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /A <</S /URI /URI ("+f(g(r.options.url))+") >>";else if(r.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,i+=" /FitV "+r.options.left+"]";break;default:var A=o(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),i+=" /XYZ "+r.options.left+" "+A+" "+r.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),s.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},s.link=function(t,r,n,i,a){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(t),y:u(r),w:l(t+n),h:u(r+i)},options:a,type:"link"})},s.textWithLink=function(t,r,n,i){var a,o,l=this.getTextWidth(t),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){o=i.maxWidth;var d=this.splitTextToSize(t,o).length;a=Math.ceil(u*d)}else o=l,a=u;return this.text(t,r,n,i),n+=.2*u,i.align==="center"&&(r-=l/2),i.align==="right"&&(r-=l),this.link(r,n-u,o,a,i),l},s.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}})(Ze.API),(function(s){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},n=[1570,1571,1573,1575];s.__arabicParser__={};var i=s.__arabicParser__.isInArabicSubstitutionA=function(y){return e[y.charCodeAt(0)]!==void 0},a=s.__arabicParser__.isArabicLetter=function(y){return typeof y=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(y)},o=s.__arabicParser__.isArabicEndLetter=function(y){return a(y)&&i(y)&&e[y.charCodeAt(0)].length<=2},l=s.__arabicParser__.isArabicAlfLetter=function(y){return a(y)&&n.indexOf(y.charCodeAt(0))>=0};s.__arabicParser__.arabicLetterHasIsolatedForm=function(y){return a(y)&&i(y)&&e[y.charCodeAt(0)].length>=1};var u=s.__arabicParser__.arabicLetterHasFinalForm=function(y){return a(y)&&i(y)&&e[y.charCodeAt(0)].length>=2};s.__arabicParser__.arabicLetterHasInitialForm=function(y){return a(y)&&i(y)&&e[y.charCodeAt(0)].length>=3};var d=s.__arabicParser__.arabicLetterHasMedialForm=function(y){return a(y)&&i(y)&&e[y.charCodeAt(0)].length==4},m=s.__arabicParser__.resolveLigatures=function(y){var v=0,N=t,D="",j=0;for(v=0;v<y.length;v+=1)N[y.charCodeAt(v)]!==void 0?(j++,typeof(N=N[y.charCodeAt(v)])=="number"&&(D+=String.fromCharCode(N),N=t,j=0),v===y.length-1&&(N=t,D+=y.charAt(v-(j-1)),v-=j-1,j=0)):(N=t,D+=y.charAt(v-j),v-=j,j=0);return D};s.__arabicParser__.isArabicDiacritic=function(y){return y!==void 0&&r[y.charCodeAt(0)]!==void 0};var p=s.__arabicParser__.getCorrectForm=function(y,v,N){return a(y)?i(y)===!1?-1:!u(y)||!a(v)&&!a(N)||!a(N)&&o(v)||o(y)&&!a(v)||o(y)&&l(v)||o(y)&&o(v)?0:d(y)&&a(v)&&!o(v)&&a(N)&&u(N)?3:o(y)||!a(N)?1:2:-1},f=function(y){var v=0,N=0,D=0,j="",C="",E="",A=(y=y||"").split("\\s+"),V=[];for(v=0;v<A.length;v+=1){for(V.push(""),N=0;N<A[v].length;N+=1)j=A[v][N],C=A[v][N-1],E=A[v][N+1],a(j)?(D=p(j,C,E),V[v]+=D!==-1?String.fromCharCode(e[j.charCodeAt(0)][D]):j):V[v]+=j;V[v]=m(V[v])}return V.join(" ")},g=s.__arabicParser__.processArabic=s.processArabic=function(){var y,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,N=[];if(Array.isArray(v)){var D=0;for(N=[],D=0;D<v.length;D+=1)Array.isArray(v[D])?N.push([f(v[D][0]),v[D][1],v[D][2]]):N.push([f(v[D])]);y=N}else y=f(v);return typeof arguments[0]=="string"?y:(arguments[0].text=y,arguments[0])};s.events.push(["preProcessText",g])})(Ze.API),Ze.API.autoPrint=function(s){var e;return(s=s||{}).variant=s.variant||"non-conform",s.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(s){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(o){t=o}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(o){i=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var n;if((t=t||"2d")!=="2d")return null;for(n in r)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=r[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},s.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Ze.API),(function(s){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),n.call(this))},n=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(y){l=y}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(y){u=y}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(y){d=y}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(y){m=y}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(y){p=y}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(y){f=y}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(y){g=y}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},s.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},s.getTextDimensions=function(l,u){r.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),m=u.font||this.getFont(),p=u.scaleFactor||this.internal.scaleFactor,f=0,g=0,y=0,v=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var N=u.maxWidth;N>0?typeof l=="string"?l=this.splitTextToSize(l,N):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(j,C){return j.concat(v.splitTextToSize(C,N))},[])):l=Array.isArray(l)?l:[l];for(var D=0;D<l.length;D++)f<(y=this.getStringUnitWidth(l[D],{font:m})*d)&&(f=y);return f!==0&&(g=l.length),{w:f/=p,h:Math.max((g*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/p,0)}},s.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=s.cell=function(){var l;l=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,m=this.internal.__cell__.margins||e,p=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=m.top,f&&p&&(this.printHeaderRow(l.lineNumber,!0),l.y+=p[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,t===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-d,l.y+d,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+d,{align:"center",baseline:"top",maxWidth:l.width-d-d}):this.text(l.text,l.x+d,l.y+d,{align:"left",baseline:"top",maxWidth:l.width-d-d})),this.internal.__cell__.lastCell=l,this};s.table=function(l,u,d,m,p){if(r.call(this),!d)throw new Error("No data for PDF table.");var f,g,y,v,N=[],D=[],j=[],C={},E={},A=[],V=[],P=(p=p||{}).autoSize||!1,_=p.printHeaders!==!1,O=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,S=p.margins||Object.assign({width:this.getPageWidth()},e),L=typeof p.padding=="number"?p.padding:3,B=p.headerBackgroundColor||"#c8c8c8",$=p.headerTextColor||"#000";if(n.call(this),this.internal.__cell__.printHeaders=_,this.internal.__cell__.margins=S,this.internal.__cell__.table_font_size=O,this.internal.__cell__.padding=L,this.internal.__cell__.headerBackgroundColor=B,this.internal.__cell__.headerTextColor=$,this.setFontSize(O),m==null)D=N=Object.keys(d[0]),j=N.map(function(){return"left"});else if(Array.isArray(m)&&os(m[0])==="object")for(N=m.map(function(ue){return ue.name}),D=m.map(function(ue){return ue.prompt||ue.name||""}),j=m.map(function(ue){return ue.align||"left"}),f=0;f<m.length;f+=1)E[m[f].name]=.7499990551181103*m[f].width;else Array.isArray(m)&&typeof m[0]=="string"&&(D=N=m,j=N.map(function(){return"left"}));if(P||Array.isArray(m)&&typeof m[0]=="string")for(f=0;f<N.length;f+=1){for(C[v=N[f]]=d.map(function(ue){return ue[v]}),this.setFont(void 0,"bold"),A.push(this.getTextDimensions(D[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=C[v],this.setFont(void 0,"normal"),y=0;y<g.length;y+=1)A.push(this.getTextDimensions(g[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);E[v]=Math.max.apply(null,A)+L+L,A=[]}if(_){var Z={};for(f=0;f<N.length;f+=1)Z[N[f]]={},Z[N[f]].text=D[f],Z[N[f]].align=j[f];var re=o.call(this,Z,E);V=N.map(function(ue){return new i(l,u,E[ue],re,Z[ue].text,void 0,Z[ue].align)}),this.setTableHeaderRow(V),this.printHeaderRow(1,!1)}var le=m.reduce(function(ue,te){return ue[te.name]=te.align,ue},{});for(f=0;f<d.length;f+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:f,data:d[f]},this);var ee=o.call(this,d[f],E);for(y=0;y<N.length;y+=1){var pe=d[f][N[y]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:f,col:y,data:pe},this),a.call(this,new i(l,u,E[N[y]],ee,pe,f+2,le[N[y]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var o=function(l,u){var d=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(l).map(function(f){var g=l[f];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,u[f]-d-d)},this).map(function(f){return this.getLineHeightFactor()*f.length*m/p+d+d},this).reduce(function(f,g){return Math.max(f,g)},0)};s.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},s.printHeaderRow=function(l,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){d=this.internal.__cell__.tableHeaderRow[f].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,p.push(d)),d.lineNumber=l;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,d),this.setTextColor(g)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),t=!1}})(Ze.API);var yN={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},xN=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Dh=bN(xN),vN=[100,200,300,400,500,600,700,800,900],HV=bN(vN);function Lf(s){var e=s.family.replace(/"|'/g,"").toLowerCase(),t=(function(i){return yN[i=i||"normal"]?i:"normal"})(s.style),r=(function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400})(s.weight),n=(function(i){return typeof Dh[i=i||"normal"]=="number"?i:"normal"})(s.stretch);return{family:e,style:t,weight:r,stretch:n,src:s.src||[],ref:s.ref||{name:e,style:[n,t,r].join(" ")}}}function zy(s,e,t,r){var n;for(n=t;n>=0&&n<e.length;n+=r)if(s[e[n]])return s[e[n]];for(n=t;n>=0&&n<e.length;n-=r)if(s[e[n]])return s[e[n]]}var qV={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},$y={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Wy(s){return[s.stretch,s.style,s.weight,s.family].join(" ")}function Hy(s){return s.trimLeft()}function GV(s,e){for(var t=0;t<s.length;){if(s.charAt(t)===e)return[s.substring(0,t),s.substring(t+1)];t+=1}return null}function YV(s){var e=s.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],s.substring(e[0].length)]}var ed,qy,Gy,Jo,td,Yy,Ky,Xy,Tf=["times"];function Jy(s,e,t,r,n){var i=4,a=Qy;switch(n){case Ze.API.image_compression.FAST:i=1,a=Zy;break;case Ze.API.image_compression.MEDIUM:i=6,a=ex;break;case Ze.API.image_compression.SLOW:i=9,a=tx}s=(function(l,u,d,m){for(var p,f=l.length/u,g=new Uint8Array(l.length+f),y=[KV,Zy,Qy,ex,tx],v=0;v<f;v+=1){var N=v*u,D=l.subarray(N,N+u);if(m)g.set(m(D,d,p),N+v);else{for(var j=y.length,C=[],E=0;E<j;E+=1)C[E]=y[E](D,d,p);var A=JV(C.concat());g.set(C[A],N+v)}p=D}return g})(s,e,Math.ceil(t*r/8),a);var o=gh(s,{level:i});return Ze.API.__addimage__.arrayBufferToBinaryString(o)}function KV(s){var e=Array.apply([],s);return e.unshift(0),e}function Zy(s,e){var t=s.length,r=[];r[0]=1;for(var n=0;n<t;n+=1){var i=s[n-e]||0;r[n+1]=s[n]-i+256&255}return r}function Qy(s,e,t){var r=s.length,n=[];n[0]=2;for(var i=0;i<r;i+=1){var a=t&&t[i]||0;n[i+1]=s[i]-a+256&255}return n}function ex(s,e,t){var r=s.length,n=[];n[0]=3;for(var i=0;i<r;i+=1){var a=s[i-e]||0,o=t&&t[i]||0;n[i+1]=s[i]+256-(a+o>>>1)&255}return n}function tx(s,e,t){var r=s.length,n=[];n[0]=4;for(var i=0;i<r;i+=1){var a=XV(s[i-e]||0,t&&t[i]||0,t&&t[i-e]||0);n[i+1]=s[i]-a+256&255}return n}function XV(s,e,t){if(s===e&&e===t)return s;var r=Math.abs(e-t),n=Math.abs(s-t),i=Math.abs(s+e-t-t);return r<=n&&r<=i?s:n<=i?e:t}function JV(s){var e=s.map(function(t){return t.reduce(function(r,n){return r+Math.abs(n)},0)});return e.indexOf(Math.min.apply(null,e))}function Mf(s,e,t){var r=e*t,n=Math.floor(r/8),i=16-(r-8*n+t),a=(1<<t)-1;return NN(s,n)>>i&a}function sx(s,e,t,r){var n=t*r,i=Math.floor(n/8),a=16-(n-8*i+r),o=(1<<r)-1,l=(e&o)<<a;(function(u,d,m){if(d+1<u.byteLength)u.setUint16(d,m,!1);else{var p=m>>8&255;u.setUint8(d,p)}})(s,i,NN(s,i)&~(o<<a)&65535|l)}function NN(s,e){return e+1<s.byteLength?s.getUint16(e,!1):s.getUint8(e)<<8}function ZV(s){var e=0;if(s[e++]!==71||s[e++]!==73||s[e++]!==70||s[e++]!==56||(s[e++]+1&253)!=56||s[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=s[e++]|s[e++]<<8,r=s[e++]|s[e++]<<8,n=s[e++],i=n>>7,a=1<<1+(7&n);s[e++],s[e++];var o=null,l=null;i&&(o=e,l=a,e+=3*a);var u=!0,d=[],m=0,p=null,f=0,g=null;for(this.width=t,this.height=r;u&&e<s.length;)switch(s[e++]){case 33:switch(s[e++]){case 255:if(s[e]!==11||s[e+1]==78&&s[e+2]==69&&s[e+3]==84&&s[e+4]==83&&s[e+5]==67&&s[e+6]==65&&s[e+7]==80&&s[e+8]==69&&s[e+9]==50&&s[e+10]==46&&s[e+11]==48&&s[e+12]==3&&s[e+13]==1&&s[e+16]==0)e+=14,g=s[e++]|s[e++]<<8,e++;else for(e+=12;;){if(!((S=s[e++])>=0))throw Error("Invalid block size");if(S===0)break;e+=S}break;case 249:if(s[e++]!==4||s[e+4]!==0)throw new Error("Invalid graphics extension block.");var y=s[e++];m=s[e++]|s[e++]<<8,p=s[e++],1&y||(p=null),f=y>>2&7,e++;break;case 254:for(;;){if(!((S=s[e++])>=0))throw Error("Invalid block size");if(S===0)break;e+=S}break;default:throw new Error("Unknown graphic control label: 0x"+s[e-1].toString(16))}break;case 44:var v=s[e++]|s[e++]<<8,N=s[e++]|s[e++]<<8,D=s[e++]|s[e++]<<8,j=s[e++]|s[e++]<<8,C=s[e++],E=C>>6&1,A=1<<1+(7&C),V=o,P=l,_=!1;C>>7&&(_=!0,V=e,P=A,e+=3*A);var O=e;for(e++;;){var S;if(!((S=s[e++])>=0))throw Error("Invalid block size");if(S===0)break;e+=S}d.push({x:v,y:N,width:D,height:j,has_local_palette:_,palette_offset:V,palette_size:P,data_offset:O,data_length:e-O,transparent_index:p,interlaced:!!E,delay:m,disposal:f});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+s[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return g},this.frameInfo=function(L){if(L<0||L>=d.length)throw new Error("Frame index out of range.");return d[L]},this.decodeAndBlitFrameBGRA=function(L,B){var $=this.frameInfo(L),Z=$.width*$.height,re=new Uint8Array(Z);rx(s,$.data_offset,re,Z);var le=$.palette_offset,ee=$.transparent_index;ee===null&&(ee=256);var pe=$.width,ue=t-pe,te=pe,U=4*($.y*t+$.x),H=4*(($.y+$.height)*t+$.x),G=U,se=4*ue;$.interlaced===!0&&(se+=4*t*7);for(var ne=8,ae=0,he=re.length;ae<he;++ae){var me=re[ae];if(te===0&&(te=pe,(G+=se)>=H&&(se=4*ue+4*t*(ne-1),G=U+(pe+ue)*(ne<<1),ne>>=1)),me===ee)G+=4;else{var ge=s[le+3*me],Pe=s[le+3*me+1],xe=s[le+3*me+2];B[G++]=xe,B[G++]=Pe,B[G++]=ge,B[G++]=255}--te}},this.decodeAndBlitFrameRGBA=function(L,B){var $=this.frameInfo(L),Z=$.width*$.height,re=new Uint8Array(Z);rx(s,$.data_offset,re,Z);var le=$.palette_offset,ee=$.transparent_index;ee===null&&(ee=256);var pe=$.width,ue=t-pe,te=pe,U=4*($.y*t+$.x),H=4*(($.y+$.height)*t+$.x),G=U,se=4*ue;$.interlaced===!0&&(se+=4*t*7);for(var ne=8,ae=0,he=re.length;ae<he;++ae){var me=re[ae];if(te===0&&(te=pe,(G+=se)>=H&&(se=4*ue+4*t*(ne-1),G=U+(pe+ue)*(ne<<1),ne>>=1)),me===ee)G+=4;else{var ge=s[le+3*me],Pe=s[le+3*me+1],xe=s[le+3*me+2];B[G++]=ge,B[G++]=Pe,B[G++]=xe,B[G++]=255}--te}}}function rx(s,e,t,r){for(var n=s[e++],i=1<<n,a=i+1,o=a+1,l=n+1,u=(1<<l)-1,d=0,m=0,p=0,f=s[e++],g=new Int32Array(4096),y=null;;){for(;d<16&&f!==0;)m|=s[e++]<<d,d+=8,f===1?f=s[e++]:--f;if(d<l)break;var v=m&u;if(m>>=l,d-=l,v!==i){if(v===a)break;for(var N=v<o?v:y,D=0,j=N;j>i;)j=g[j]>>8,++D;var C=j;if(p+D+(N!==v?1:0)>r)return void ms.log("Warning, gif stream longer than expected.");t[p++]=C;var E=p+=D;for(N!==v&&(t[p++]=C),j=N;D--;)j=g[j],t[--E]=255&j,j>>=8;y!==null&&o<4096&&(g[o++]=y<<8|C,o>=u+1&&l<12&&(++l,u=u<<1|1)),y=v}else o=a+1,u=(1<<(l=n+1))-1,y=null}return p!==r&&ms.log("Warning, gif stream shorter than expected."),t}function If(s){var e,t,r,n,i,a=Math.floor,o=new Array(64),l=new Array(64),u=new Array(64),d=new Array(64),m=new Array(65535),p=new Array(65535),f=new Array(64),g=new Array(64),y=[],v=0,N=7,D=new Array(64),j=new Array(64),C=new Array(64),E=new Array(256),A=new Array(2048),V=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],P=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],_=[0,1,2,3,4,5,6,7,8,9,10,11],O=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],S=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],L=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],$=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Z=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function re(U,H){for(var G=0,se=0,ne=new Array,ae=1;ae<=16;ae++){for(var he=1;he<=U[ae];he++)ne[H[se]]=[],ne[H[se]][0]=G,ne[H[se]][1]=ae,se++,G++;G*=2}return ne}function le(U){for(var H=U[0],G=U[1]-1;G>=0;)H&1<<G&&(v|=1<<N),G--,--N<0&&(v==255?(ee(255),ee(0)):ee(v),N=7,v=0)}function ee(U){y.push(U)}function pe(U){ee(U>>8&255),ee(255&U)}function ue(U,H,G,se,ne){for(var ae,he=ne[0],me=ne[240],ge=(function(_e,ze){var Me,ut,it,Wt,gt,bt,Rt,vt,et,dt,Ye=0;for(et=0;et<8;++et){Me=_e[Ye],ut=_e[Ye+1],it=_e[Ye+2],Wt=_e[Ye+3],gt=_e[Ye+4],bt=_e[Ye+5],Rt=_e[Ye+6];var Jt=Me+(vt=_e[Ye+7]),Ht=Me-vt,Qe=ut+Rt,Nt=ut-Rt,es=it+bt,lt=it-bt,At=Wt+gt,ht=Wt-gt,fs=Jt+At,ns=Jt-At,Yt=Qe+es,mt=Qe-es;_e[Ye]=fs+Yt,_e[Ye+4]=fs-Yt;var qt=.707106781*(mt+ns);_e[Ye+2]=ns+qt,_e[Ye+6]=ns-qt;var Cn=.382683433*((fs=ht+lt)-(mt=Nt+Ht)),Fs=.5411961*fs+Cn,$r=1.306562965*mt+Cn,Tr=.707106781*(Yt=lt+Nt),ct=Ht+Tr,tn=Ht-Tr;_e[Ye+5]=tn+Fs,_e[Ye+3]=tn-Fs,_e[Ye+1]=ct+$r,_e[Ye+7]=ct-$r,Ye+=8}for(Ye=0,et=0;et<8;++et){Me=_e[Ye],ut=_e[Ye+8],it=_e[Ye+16],Wt=_e[Ye+24],gt=_e[Ye+32],bt=_e[Ye+40],Rt=_e[Ye+48];var yr=Me+(vt=_e[Ye+56]),mr=Me-vt,xr=ut+Rt,cs=ut-Rt,ie=it+bt,Ae=it-bt,Re=Wt+gt,ot=Wt-gt,Dt=yr+Re,_t=yr-Re,pt=xr+ie,ft=xr-ie;_e[Ye]=Dt+pt,_e[Ye+32]=Dt-pt;var Zt=.707106781*(ft+_t);_e[Ye+16]=_t+Zt,_e[Ye+48]=_t-Zt;var Ot=.382683433*((Dt=ot+Ae)-(ft=cs+mr)),Ft=.5411961*Dt+Ot,hs=1.306562965*ft+Ot,cr=.707106781*(pt=Ae+cs),lr=mr+cr,As=mr-cr;_e[Ye+40]=As+Ft,_e[Ye+24]=As-Ft,_e[Ye+8]=lr+hs,_e[Ye+56]=lr-hs,Ye++}for(et=0;et<64;++et)dt=_e[et]*ze[et],f[et]=dt>0?dt+.5|0:dt-.5|0;return f})(U,H),Pe=0;Pe<64;++Pe)g[V[Pe]]=ge[Pe];var xe=g[0]-G;G=g[0],xe==0?le(se[0]):(le(se[p[ae=32767+xe]]),le(m[ae]));for(var Ie=63;Ie>0&&g[Ie]==0;)Ie--;if(Ie==0)return le(he),G;for(var De,W=1;W<=Ie;){for(var we=W;g[W]==0&&W<=Ie;)++W;var rt=W-we;if(rt>=16){De=rt>>4;for(var Ge=1;Ge<=De;++Ge)le(me);rt&=15}ae=32767+g[W],le(ne[(rt<<4)+p[ae]]),le(m[ae]),W++}return Ie!=63&&le(he),G}function te(U){U=Math.min(Math.max(U,1),100),i!=U&&((function(H){for(var G=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],se=0;se<64;se++){var ne=a((G[se]*H+50)/100);ne=Math.min(Math.max(ne,1),255),o[V[se]]=ne}for(var ae=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],he=0;he<64;he++){var me=a((ae[he]*H+50)/100);me=Math.min(Math.max(me,1),255),l[V[he]]=me}for(var ge=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Pe=0,xe=0;xe<8;xe++)for(var Ie=0;Ie<8;Ie++)u[Pe]=1/(o[V[Pe]]*ge[xe]*ge[Ie]*8),d[Pe]=1/(l[V[Pe]]*ge[xe]*ge[Ie]*8),Pe++})(U<50?Math.floor(5e3/U):Math.floor(200-2*U)),i=U)}this.encode=function(U,H){H&&te(H),y=new Array,v=0,N=7,pe(65496),pe(65504),pe(16),ee(74),ee(70),ee(73),ee(70),ee(0),ee(1),ee(1),ee(0),pe(1),pe(1),ee(0),ee(0),(function(){pe(65499),pe(132),ee(0);for(var ut=0;ut<64;ut++)ee(o[ut]);ee(1);for(var it=0;it<64;it++)ee(l[it])})(),(function(ut,it){pe(65472),pe(17),ee(8),pe(it),pe(ut),ee(3),ee(1),ee(17),ee(0),ee(2),ee(17),ee(1),ee(3),ee(17),ee(1)})(U.width,U.height),(function(){pe(65476),pe(418),ee(0);for(var ut=0;ut<16;ut++)ee(P[ut+1]);for(var it=0;it<=11;it++)ee(_[it]);ee(16);for(var Wt=0;Wt<16;Wt++)ee(O[Wt+1]);for(var gt=0;gt<=161;gt++)ee(S[gt]);ee(1);for(var bt=0;bt<16;bt++)ee(L[bt+1]);for(var Rt=0;Rt<=11;Rt++)ee(B[Rt]);ee(17);for(var vt=0;vt<16;vt++)ee($[vt+1]);for(var et=0;et<=161;et++)ee(Z[et])})(),pe(65498),pe(12),ee(3),ee(1),ee(0),ee(2),ee(17),ee(3),ee(17),ee(0),ee(63),ee(0);var G=0,se=0,ne=0;v=0,N=7,this.encode.displayName="_encode_";for(var ae,he,me,ge,Pe,xe,Ie,De,W,we=U.data,rt=U.width,Ge=U.height,_e=4*rt,ze=0;ze<Ge;){for(ae=0;ae<_e;){for(Pe=_e*ze+ae,Ie=-1,De=0,W=0;W<64;W++)xe=Pe+(De=W>>3)*_e+(Ie=4*(7&W)),ze+De>=Ge&&(xe-=_e*(ze+1+De-Ge)),ae+Ie>=_e&&(xe-=ae+Ie-_e+4),he=we[xe++],me=we[xe++],ge=we[xe++],D[W]=(A[he]+A[me+256|0]+A[ge+512|0]>>16)-128,j[W]=(A[he+768|0]+A[me+1024|0]+A[ge+1280|0]>>16)-128,C[W]=(A[he+1280|0]+A[me+1536|0]+A[ge+1792|0]>>16)-128;G=ue(D,u,G,e,r),se=ue(j,d,se,t,n),ne=ue(C,d,ne,t,n),ae+=32}ze+=8}if(N>=0){var Me=[];Me[1]=N+1,Me[0]=(1<<N+1)-1,le(Me)}return pe(65497),new Uint8Array(y)},s=s||50,(function(){for(var U=String.fromCharCode,H=0;H<256;H++)E[H]=U(H)})(),e=re(P,_),t=re(L,B),r=re(O,S),n=re($,Z),(function(){for(var U=1,H=2,G=1;G<=15;G++){for(var se=U;se<H;se++)p[32767+se]=G,m[32767+se]=[],m[32767+se][1]=G,m[32767+se][0]=se;for(var ne=-(H-1);ne<=-U;ne++)p[32767+ne]=G,m[32767+ne]=[],m[32767+ne][1]=G,m[32767+ne][0]=H-1+ne;U<<=1,H<<=1}})(),(function(){for(var U=0;U<256;U++)A[U]=19595*U,A[U+256|0]=38470*U,A[U+512|0]=7471*U+32768,A[U+768|0]=-11059*U,A[U+1024|0]=-21709*U,A[U+1280|0]=32768*U+8421375,A[U+1536|0]=-27439*U,A[U+1792|0]=-5329*U})(),te(s)}function Ln(s,e){if(this.pos=0,this.buffer=s,this.datav=new DataView(s.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function nx(s){function e(_){if(!_)throw Error("assert :P")}function t(_,O,S){for(var L=0;4>L;L++)if(_[O+L]!=S.charCodeAt(L))return!0;return!1}function r(_,O,S,L,B){for(var $=0;$<B;$++)_[O+$]=S[L+$]}function n(_,O,S,L){for(var B=0;B<L;B++)_[O+B]=S}function i(_){return new Int32Array(_)}function a(_,O){for(var S=[],L=0;L<_;L++)S.push(new O);return S}function o(_,O){var S=[];return(function L(B,$,Z){for(var re=Z[$],le=0;le<re&&(B.push(Z.length>$+1?[]:new O),!(Z.length<$+1));le++)L(B[le],$+1,Z)})(S,0,_),S}var l=function(){var _=this;function O(h,b){for(var k=1<<b-1>>>0;h&k;)k>>>=1;return k?(h&k-1)+k:h}function S(h,b,k,w,M){e(!(w%k));do h[b+(w-=k)]=M;while(0<w)}function L(h,b,k,w,M){if(e(2328>=M),512>=M)var R=i(512);else if((R=i(M))==null)return 0;return(function(z,q,Y,X,de,Ne){var J,fe,ye=q,je=1<<Y,ve=i(16),Ce=i(16);for(e(de!=0),e(X!=null),e(z!=null),e(0<Y),fe=0;fe<de;++fe){if(15<X[fe])return 0;++ve[X[fe]]}if(ve[0]==de)return 0;for(Ce[1]=0,J=1;15>J;++J){if(ve[J]>1<<J)return 0;Ce[J+1]=Ce[J]+ve[J]}for(fe=0;fe<de;++fe)J=X[fe],0<X[fe]&&(Ne[Ce[J]++]=fe);if(Ce[15]==1)return(X=new B).g=0,X.value=Ne[0],S(z,ye,1,je,X),je;var Se,Te=-1,Ue=je-1,at=0,He=1,Vt=1,tt=1<<Y;for(fe=0,J=1,de=2;J<=Y;++J,de<<=1){if(He+=Vt<<=1,0>(Vt-=ve[J]))return 0;for(;0<ve[J];--ve[J])(X=new B).g=J,X.value=Ne[fe++],S(z,ye+at,de,tt,X),at=O(at,J)}for(J=Y+1,de=2;15>=J;++J,de<<=1){if(He+=Vt<<=1,0>(Vt-=ve[J]))return 0;for(;0<ve[J];--ve[J]){if(X=new B,(at&Ue)!=Te){for(ye+=tt,Se=1<<(Te=J)-Y;15>Te&&!(0>=(Se-=ve[Te]));)++Te,Se<<=1;je+=tt=1<<(Se=Te-Y),z[q+(Te=at&Ue)].g=Se+Y,z[q+Te].value=ye-q-Te}X.g=J-Y,X.value=Ne[fe++],S(z,ye+(at>>Y),de,tt,X),at=O(at,J)}}return He!=2*Ce[15]-1?0:je})(h,b,k,w,M,R)}function B(){this.value=this.g=0}function $(){this.value=this.g=0}function Z(){this.G=a(5,B),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Ha,$)}function re(h,b,k,w){e(h!=null),e(b!=null),e(2147483648>w),h.Ca=254,h.I=0,h.b=-8,h.Ka=0,h.oa=b,h.pa=k,h.Jd=b,h.Yc=k+w,h.Zc=4<=w?k+w-4+1:k,he(h)}function le(h,b){for(var k=0;0<b--;)k|=ge(h,128)<<b;return k}function ee(h,b){var k=le(h,b);return me(h)?-k:k}function pe(h,b,k,w){var M,R=0;for(e(h!=null),e(b!=null),e(4294967288>w),h.Sb=w,h.Ra=0,h.u=0,h.h=0,4<w&&(w=4),M=0;M<w;++M)R+=b[k+M]<<8*M;h.Ra=R,h.bb=w,h.oa=b,h.pa=k}function ue(h){for(;8<=h.u&&h.bb<h.Sb;)h.Ra>>>=8,h.Ra+=h.oa[h.pa+h.bb]<<qi-8>>>0,++h.bb,h.u-=8;se(h)&&(h.h=1,h.u=0)}function te(h,b){if(e(0<=b),!h.h&&b<=nn){var k=G(h)&rn[b];return h.u+=b,ue(h),k}return h.h=1,h.u=0}function U(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function H(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function G(h){return h.Ra>>>(h.u&qi-1)>>>0}function se(h){return e(h.bb<=h.Sb),h.h||h.bb==h.Sb&&h.u>qi}function ne(h,b){h.u=b,h.h=se(h)}function ae(h){h.u>=gi&&(e(h.u>=gi),ue(h))}function he(h){e(h!=null&&h.oa!=null),h.pa<h.Zc?(h.I=(h.oa[h.pa++]|h.I<<8)>>>0,h.b+=8):(e(h!=null&&h.oa!=null),h.pa<h.Yc?(h.b+=8,h.I=h.oa[h.pa++]|h.I<<8):h.Ka?h.b=0:(h.I<<=8,h.b+=8,h.Ka=1))}function me(h){return le(h,1)}function ge(h,b){var k=h.Ca;0>h.b&&he(h);var w=h.b,M=k*b>>>8,R=(h.I>>>w>M)+0;for(R?(k-=M,h.I-=M+1<<w>>>0):k=M+1,w=k,M=0;256<=w;)M+=8,w>>=8;return w=7^M+Gi[w],h.b-=w,h.Ca=(k<<w)-1,R}function Pe(h,b,k){h[b+0]=k>>24&255,h[b+1]=k>>16&255,h[b+2]=k>>8&255,h[b+3]=255&k}function xe(h,b){return h[b+0]|h[b+1]<<8}function Ie(h,b){return xe(h,b)|h[b+2]<<16}function De(h,b){return xe(h,b)|xe(h,b+2)<<16}function W(h,b){var k=1<<b;return e(h!=null),e(0<b),h.X=i(k),h.X==null?0:(h.Mb=32-b,h.Xa=b,1)}function we(h,b){e(h!=null),e(b!=null),e(h.Xa==b.Xa),r(b.X,0,h.X,0,1<<b.Xa)}function rt(){this.X=[],this.Xa=this.Mb=0}function Ge(h,b,k,w){e(k!=null),e(w!=null);var M=k[0],R=w[0];return M==0&&(M=(h*R+b/2)/b),R==0&&(R=(b*M+h/2)/h),0>=M||0>=R?0:(k[0]=M,w[0]=R,1)}function _e(h,b){return h+(1<<b)-1>>>b}function ze(h,b){return((4278255360&h)+(4278255360&b)>>>0&4278255360)+((16711935&h)+(16711935&b)>>>0&16711935)>>>0}function Me(h,b){_[b]=function(k,w,M,R,z,q,Y){var X;for(X=0;X<z;++X){var de=_[h](q[Y+X-1],M,R+X);q[Y+X]=ze(k[w+X],de)}}}function ut(){this.ud=this.hd=this.jd=0}function it(h,b){return((4278124286&(h^b))>>>1)+(h&b)>>>0}function Wt(h){return 0<=h&&256>h?h:0>h?0:255<h?255:void 0}function gt(h,b){return Wt(h+(h-b+.5>>1))}function bt(h,b,k){return Math.abs(b-k)-Math.abs(h-k)}function Rt(h,b,k,w,M,R,z){for(w=R[z-1],k=0;k<M;++k)R[z+k]=w=ze(h[b+k],w)}function vt(h,b,k,w,M){var R;for(R=0;R<k;++R){var z=h[b+R],q=z>>8&255,Y=16711935&(Y=(Y=16711935&z)+((q<<16)+q));w[M+R]=(4278255360&z)+Y>>>0}}function et(h,b){b.jd=255&h,b.hd=h>>8&255,b.ud=h>>16&255}function dt(h,b,k,w,M,R){var z;for(z=0;z<w;++z){var q=b[k+z],Y=q>>>8,X=q,de=255&(de=(de=q>>>16)+((h.jd<<24>>24)*(Y<<24>>24)>>>5));X=255&(X=(X+=(h.hd<<24>>24)*(Y<<24>>24)>>>5)+((h.ud<<24>>24)*(de<<24>>24)>>>5)),M[R+z]=(4278255360&q)+(de<<16)+X}}function Ye(h,b,k,w,M){_[b]=function(R,z,q,Y,X,de,Ne,J,fe){for(Y=Ne;Y<J;++Y)for(Ne=0;Ne<fe;++Ne)X[de++]=M(q[w(R[z++])])},_[h]=function(R,z,q,Y,X,de,Ne){var J=8>>R.b,fe=R.Ea,ye=R.K[0],je=R.w;if(8>J)for(R=(1<<R.b)-1,je=(1<<J)-1;z<q;++z){var ve,Ce=0;for(ve=0;ve<fe;++ve)ve&R||(Ce=w(Y[X++])),de[Ne++]=M(ye[Ce&je]),Ce>>=J}else _["VP8LMapColor"+k](Y,X,ye,je,de,Ne,z,q,fe)}}function Jt(h,b,k,w,M){for(k=b+k;b<k;){var R=h[b++];w[M++]=R>>16&255,w[M++]=R>>8&255,w[M++]=255&R}}function Ht(h,b,k,w,M){for(k=b+k;b<k;){var R=h[b++];w[M++]=R>>16&255,w[M++]=R>>8&255,w[M++]=255&R,w[M++]=R>>24&255}}function Qe(h,b,k,w,M){for(k=b+k;b<k;){var R=(z=h[b++])>>16&240|z>>12&15,z=240&z|z>>28&15;w[M++]=R,w[M++]=z}}function Nt(h,b,k,w,M){for(k=b+k;b<k;){var R=(z=h[b++])>>16&248|z>>13&7,z=z>>5&224|z>>3&31;w[M++]=R,w[M++]=z}}function es(h,b,k,w,M){for(k=b+k;b<k;){var R=h[b++];w[M++]=255&R,w[M++]=R>>8&255,w[M++]=R>>16&255}}function lt(h,b,k,w,M,R){if(R==0)for(k=b+k;b<k;)Pe(w,((R=h[b++])[0]>>24|R[1]>>8&65280|R[2]<<8&16711680|R[3]<<24)>>>0),M+=32;else r(w,M,h,b,k)}function At(h,b){_[b][0]=_[h+"0"],_[b][1]=_[h+"1"],_[b][2]=_[h+"2"],_[b][3]=_[h+"3"],_[b][4]=_[h+"4"],_[b][5]=_[h+"5"],_[b][6]=_[h+"6"],_[b][7]=_[h+"7"],_[b][8]=_[h+"8"],_[b][9]=_[h+"9"],_[b][10]=_[h+"10"],_[b][11]=_[h+"11"],_[b][12]=_[h+"12"],_[b][13]=_[h+"13"],_[b][14]=_[h+"0"],_[b][15]=_[h+"0"]}function ht(h){return h==am||h==om||h==iu||h==cm}function fs(){this.eb=[],this.size=this.A=this.fb=0}function ns(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Yt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new fs,this.f.kb=new ns,this.sd=null}function mt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function qt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Cn(h){return alert("todo:WebPSamplerProcessPlane"),h.T}function Fs(h,b){var k=h.T,w=b.ba.f.RGBA,M=w.eb,R=w.fb+h.ka*w.A,z=Nn[b.ba.S],q=h.y,Y=h.O,X=h.f,de=h.N,Ne=h.ea,J=h.W,fe=b.cc,ye=b.dc,je=b.Mc,ve=b.Nc,Ce=h.ka,Se=h.ka+h.T,Te=h.U,Ue=Te+1>>1;for(Ce==0?z(q,Y,null,null,X,de,Ne,J,X,de,Ne,J,M,R,null,null,Te):(z(b.ec,b.fc,q,Y,fe,ye,je,ve,X,de,Ne,J,M,R-w.A,M,R,Te),++k);Ce+2<Se;Ce+=2)fe=X,ye=de,je=Ne,ve=J,de+=h.Rc,J+=h.Rc,R+=2*w.A,z(q,(Y+=2*h.fa)-h.fa,q,Y,fe,ye,je,ve,X,de,Ne,J,M,R-w.A,M,R,Te);return Y+=h.fa,h.j+Se<h.o?(r(b.ec,b.fc,q,Y,Te),r(b.cc,b.dc,X,de,Ue),r(b.Mc,b.Nc,Ne,J,Ue),k--):1&Se||z(q,Y,null,null,X,de,Ne,J,X,de,Ne,J,M,R+w.A,null,null,Te),k}function $r(h,b,k){var w=h.F,M=[h.J];if(w!=null){var R=h.U,z=b.ba.S,q=z==nu||z==iu;b=b.ba.f.RGBA;var Y=[0],X=h.ka;Y[0]=h.T,h.Kb&&(X==0?--Y[0]:(--X,M[0]-=h.width),h.j+h.ka+h.T==h.o&&(Y[0]=h.o-h.j-X));var de=b.eb;X=b.fb+X*b.A,h=vp(w,M[0],h.width,R,Y,de,X+(q?0:3),b.A),e(k==Y),h&&ht(z)&&Ic(de,X,q,R,Y,b.A)}return 0}function Tr(h){var b=h.ma,k=b.ba.S,w=11>k,M=k==su||k==ru||k==nu||k==im||k==12||ht(k);if(b.memory=null,b.Ib=null,b.Jb=null,b.Nd=null,!Sc(b.Oa,h,M?11:12))return 0;if(M&&ht(k)&&Xl(),h.da)alert("todo:use_scaling");else{if(w){if(b.Ib=Cn,h.Kb){if(k=h.U+1>>1,b.memory=i(h.U+2*k),b.memory==null)return 0;b.ec=b.memory,b.fc=0,b.cc=b.ec,b.dc=b.fc+h.U,b.Mc=b.cc,b.Nc=b.dc+k,b.Ib=Fs,Xl()}}else alert("todo:EmitYUV");M&&(b.Jb=$r,w&&bn())}if(w&&!Mp){for(h=0;256>h;++h)KN[h]=89858*(h-128)+ou>>au,ZN[h]=-22014*(h-128)+ou,JN[h]=-45773*(h-128),XN[h]=113618*(h-128)+ou>>au;for(h=Oc;h<dm;++h)b=76283*(h-16)+ou>>au,QN[h-Oc]=Ls(b,255),ek[h-Oc]=Ls(b+8>>4,15);Mp=1}return 1}function ct(h){var b=h.ma,k=h.U,w=h.T;return e(!(1&h.ka)),0>=k||0>=w?0:(k=b.Ib(h,b),b.Jb!=null&&b.Jb(h,b,k),b.Dc+=k,1)}function tn(h){h.ma.memory=null}function yr(h,b,k,w){return te(h,8)!=47?0:(b[0]=te(h,14)+1,k[0]=te(h,14)+1,w[0]=te(h,1),te(h,3)!=0?0:!h.h)}function mr(h,b){if(4>h)return h+1;var k=h-2>>1;return(2+(1&h)<<k)+te(b,k)+1}function xr(h,b){return 120<b?b-120:1<=(k=((k=TN[b-1])>>4)*h+(8-(15&k)))?k:1;var k}function cs(h,b,k){var w=G(k),M=h[b+=255&w].g-8;return 0<M&&(ne(k,k.u+8),w=G(k),b+=h[b].value,b+=w&(1<<M)-1),ne(k,k.u+h[b].g),h[b].value}function ie(h,b,k){return k.g+=h.g,k.value+=h.value<<b>>>0,e(8>=k.g),h.g}function Ae(h,b,k){var w=h.xc;return e((b=w==0?0:h.vc[h.md*(k>>w)+(b>>w)])<h.Wb),h.Ya[b]}function Re(h,b,k,w){var M=h.ab,R=h.c*b,z=h.C;b=z+b;var q=k,Y=w;for(w=h.Ta,k=h.Ua;0<M--;){var X=h.gc[M],de=z,Ne=b,J=q,fe=Y,ye=(Y=w,q=k,X.Ea);switch(e(de<Ne),e(Ne<=X.nc),X.hc){case 2:zs(J,fe,(Ne-de)*ye,Y,q);break;case 0:var je=de,ve=Ne,Ce=Y,Se=q,Te=(tt=X).Ea;je==0&&(_c(J,fe,null,null,1,Ce,Se),Rt(J,fe+1,0,0,Te-1,Ce,Se+1),fe+=Te,Se+=Te,++je);for(var Ue=1<<tt.b,at=Ue-1,He=_e(Te,tt.b),Vt=tt.K,tt=tt.w+(je>>tt.b)*He;je<ve;){var Gt=Vt,sr=tt,Lt=1;for(Io(J,fe,Ce,Se-Te,1,Ce,Se);Lt<Te;){var st=(Lt&~at)+Ue;st>Te&&(st=Te),(0,Vc[Gt[sr++]>>8&15])(J,fe+ +Lt,Ce,Se+Lt-Te,st-Lt,Ce,Se+Lt),Lt=st}fe+=Te,Se+=Te,++je&at||(tt+=He)}Ne!=X.nc&&r(Y,q-ye,Y,q+(Ne-de-1)*ye,ye);break;case 1:for(ye=J,ve=fe,Te=(J=X.Ea)-(Se=J&~(Ce=(fe=1<<X.b)-1)),je=_e(J,X.b),Ue=X.K,X=X.w+(de>>X.b)*je;de<Ne;){for(at=Ue,He=X,Vt=new ut,tt=ve+Se,Gt=ve+J;ve<tt;)et(at[He++],Vt),Lc(Vt,ye,ve,fe,Y,q),ve+=fe,q+=fe;ve<Gt&&(et(at[He++],Vt),Lc(Vt,ye,ve,Te,Y,q),ve+=Te,q+=Te),++de&Ce||(X+=je)}break;case 3:if(J==Y&&fe==q&&0<X.b){for(ve=Y,J=ye=q+(Ne-de)*ye-(Se=(Ne-de)*_e(X.Ea,X.b)),fe=Y,Ce=q,je=[],Se=(Te=Se)-1;0<=Se;--Se)je[Se]=fe[Ce+Se];for(Se=Te-1;0<=Se;--Se)ve[J+Se]=je[Se];Zl(X,de,Ne,Y,ye,Y,q)}else Zl(X,de,Ne,J,fe,Y,q)}q=w,Y=k}Y!=k&&r(w,k,q,Y,R)}function ot(h,b){var k=h.V,w=h.Ba+h.c*h.C,M=b-h.C;if(e(b<=h.l.o),e(16>=M),0<M){var R=h.l,z=h.Ta,q=h.Ua,Y=R.width;if(Re(h,M,k,w),M=q=[q],e((k=h.C)<(w=b)),e(R.v<R.va),w>R.o&&(w=R.o),k<R.j){var X=R.j-k;k=R.j,M[0]+=X*Y}if(k>=w?k=0:(M[0]+=4*R.v,R.ka=k-R.j,R.U=R.va-R.v,R.T=w-k,k=1),k){if(q=q[0],11>(k=h.ca).S){var de=k.f.RGBA,Ne=(w=k.S,M=R.U,R=R.T,X=de.eb,de.A),J=R;for(de=de.fb+h.Ma*de.A;0<J--;){var fe=z,ye=q,je=M,ve=X,Ce=de;switch(w){case tu:Tc(fe,ye,je,ve,Ce);break;case su:Yi(fe,ye,je,ve,Ce);break;case am:Yi(fe,ye,je,ve,Ce),Ic(ve,Ce,0,je,1,0);break;case Cp:qa(fe,ye,je,ve,Ce);break;case ru:lt(fe,ye,je,ve,Ce,1);break;case om:lt(fe,ye,je,ve,Ce,1),Ic(ve,Ce,0,je,1,0);break;case nu:lt(fe,ye,je,ve,Ce,0);break;case iu:lt(fe,ye,je,ve,Ce,0),Ic(ve,Ce,1,je,1,0);break;case im:Ki(fe,ye,je,ve,Ce);break;case cm:Ki(fe,ye,je,ve,Ce),xp(ve,Ce,je,1,0);break;case Ep:Xi(fe,ye,je,ve,Ce);break;default:e(0)}q+=Y,de+=Ne}h.Ma+=R}else alert("todo:EmitRescaledRowsYUVA");e(h.Ma<=k.height)}}h.C=b,e(h.C<=h.i)}function Dt(h){var b;if(0<h.ua)return 0;for(b=0;b<h.Wb;++b){var k=h.Ya[b].G,w=h.Ya[b].H;if(0<k[1][w[1]+0].g||0<k[2][w[2]+0].g||0<k[3][w[3]+0].g)return 0}return 1}function _t(h,b,k,w,M,R){if(h.Z!=0){var z=h.qd,q=h.rd;for(e(Qi[h.Z]!=null);b<k;++b)Qi[h.Z](z,q,w,M,w,M,R),z=w,q=M,M+=R;h.qd=z,h.rd=q}}function pt(h,b){var k=h.l.ma,w=k.Z==0||k.Z==1?h.l.j:h.C;if(w=h.C<w?w:h.C,e(b<=h.l.o),b>w){var M=h.l.width,R=k.ca,z=k.tb+M*w,q=h.V,Y=h.Ba+h.c*w,X=h.gc;e(h.ab==1),e(X[0].hc==3),Hn(X[0],w,b,q,Y,R,z),_t(k,w,b,R,z,M)}h.C=h.Ma=b}function ft(h,b,k,w,M,R,z){var q=h.$/w,Y=h.$%w,X=h.m,de=h.s,Ne=k+h.$,J=Ne;M=k+w*M;var fe=k+w*R,ye=280+de.ua,je=h.Pb?q:16777216,ve=0<de.ua?de.Wa:null,Ce=de.wc,Se=Ne<fe?Ae(de,Y,q):null;e(h.C<R),e(fe<=M);var Te=!1;e:for(;;){for(;Te||Ne<fe;){var Ue=0;if(q>=je){var at=Ne-k;e((je=h).Pb),je.wd=je.m,je.xd=at,0<je.s.ua&&we(je.s.Wa,je.s.vb),je=q+IN}if(Y&Ce||(Se=Ae(de,Y,q)),e(Se!=null),Se.Qb&&(b[Ne]=Se.qb,Te=!0),!Te)if(ae(X),Se.jc){Ue=X,at=b;var He=Ne,Vt=Se.pd[G(Ue)&Ha-1];e(Se.jc),256>Vt.g?(ne(Ue,Ue.u+Vt.g),at[He]=Vt.value,Ue=0):(ne(Ue,Ue.u+Vt.g-256),e(256<=Vt.value),Ue=Vt.value),Ue==0&&(Te=!0)}else Ue=cs(Se.G[0],Se.H[0],X);if(X.h)break;if(Te||256>Ue){if(!Te)if(Se.nd)b[Ne]=(Se.qb|Ue<<8)>>>0;else{if(ae(X),Te=cs(Se.G[1],Se.H[1],X),ae(X),at=cs(Se.G[2],Se.H[2],X),He=cs(Se.G[3],Se.H[3],X),X.h)break;b[Ne]=(He<<24|Te<<16|Ue<<8|at)>>>0}if(Te=!1,++Ne,++Y>=w&&(Y=0,++q,z!=null&&q<=R&&!(q%16)&&z(h,q),ve!=null))for(;J<Ne;)Ue=b[J++],ve.X[(506832829*Ue&4294967295)>>>ve.Mb]=Ue}else if(280>Ue){if(Ue=mr(Ue-256,X),at=cs(Se.G[4],Se.H[4],X),ae(X),at=xr(w,at=mr(at,X)),X.h)break;if(Ne-k<at||M-Ne<Ue)break e;for(He=0;He<Ue;++He)b[Ne+He]=b[Ne+He-at];for(Ne+=Ue,Y+=Ue;Y>=w;)Y-=w,++q,z!=null&&q<=R&&!(q%16)&&z(h,q);if(e(Ne<=M),Y&Ce&&(Se=Ae(de,Y,q)),ve!=null)for(;J<Ne;)Ue=b[J++],ve.X[(506832829*Ue&4294967295)>>>ve.Mb]=Ue}else{if(!(Ue<ye))break e;for(Te=Ue-280,e(ve!=null);J<Ne;)Ue=b[J++],ve.X[(506832829*Ue&4294967295)>>>ve.Mb]=Ue;Ue=Ne,e(!(Te>>>(at=ve).Xa)),b[Ue]=at.X[Te],Te=!0}Te||e(X.h==se(X))}if(h.Pb&&X.h&&Ne<M)e(h.m.h),h.a=5,h.m=h.wd,h.$=h.xd,0<h.s.ua&&we(h.s.vb,h.s.Wa);else{if(X.h)break e;z?.(h,q>R?R:q),h.a=0,h.$=Ne-k}return 1}return h.a=3,0}function Zt(h){e(h!=null),h.vc=null,h.yc=null,h.Ya=null;var b=h.Wa;b!=null&&(b.X=null),h.vb=null,e(h!=null)}function Ot(){var h=new nt;return h==null?null:(h.a=0,h.xb=_p,At("Predictor","VP8LPredictors"),At("Predictor","VP8LPredictors_C"),At("PredictorAdd","VP8LPredictorsAdd"),At("PredictorAdd","VP8LPredictorsAdd_C"),zs=vt,Lc=dt,Tc=Jt,Yi=Ht,Ki=Qe,Xi=Nt,qa=es,_.VP8LMapColor32b=Wn,_.VP8LMapColor8b=Uc,h)}function Ft(h,b,k,w,M){var R=1,z=[h],q=[b],Y=w.m,X=w.s,de=null,Ne=0;e:for(;;){if(k)for(;R&&te(Y,1);){var J=z,fe=q,ye=w,je=1,ve=ye.m,Ce=ye.gc[ye.ab],Se=te(ve,2);if(ye.Oc&1<<Se)R=0;else{switch(ye.Oc|=1<<Se,Ce.hc=Se,Ce.Ea=J[0],Ce.nc=fe[0],Ce.K=[null],++ye.ab,e(4>=ye.ab),Se){case 0:case 1:Ce.b=te(ve,3)+2,je=Ft(_e(Ce.Ea,Ce.b),_e(Ce.nc,Ce.b),0,ye,Ce.K),Ce.K=Ce.K[0];break;case 3:var Te,Ue=te(ve,8)+1,at=16<Ue?0:4<Ue?1:2<Ue?2:3;if(J[0]=_e(Ce.Ea,at),Ce.b=at,Te=je=Ft(Ue,1,0,ye,Ce.K)){var He,Vt=Ue,tt=Ce,Gt=1<<(8>>tt.b),sr=i(Gt);if(sr==null)Te=0;else{var Lt=tt.K[0],st=tt.w;for(sr[0]=tt.K[0][0],He=1;He<1*Vt;++He)sr[He]=ze(Lt[st+He],sr[He-1]);for(;He<4*Gt;++He)sr[He]=0;tt.K[0]=null,tt.K[0]=sr,Te=1}}je=Te;break;case 2:break;default:e(0)}R=je}}if(z=z[0],q=q[0],R&&te(Y,1)&&!(R=1<=(Ne=te(Y,4))&&11>=Ne)){w.a=3;break e}var Oe;if(Oe=R)t:{var Ws,St,Kt,xs=w,hr=z,Rr=q,Ts=Ne,wr=k,Or=xs.m,rr=xs.s,Xt=[null],is=1,Ms=0,as=MN[Ts];s:for(;;){if(wr&&te(Or,1)){var pr=te(Or,3)+2,Un=_e(hr,pr),Hs=_e(Rr,pr),Gr=Un*Hs;if(!Ft(Un,Hs,0,xs,Xt))break s;for(Xt=Xt[0],rr.xc=pr,Ws=0;Ws<Gr;++Ws){var us=Xt[Ws]>>8&65535;Xt[Ws]=us,us>=is&&(is=us+1)}}if(Or.h)break s;for(St=0;5>St;++St){var nr=Sp[St];!St&&0<Ts&&(nr+=1<<Ts),Ms<nr&&(Ms=nr)}var on=a(is*as,B),Fr=is,cn=a(Fr,Z);if(cn==null)var ln=null;else e(65536>=Fr),ln=cn;var Yr=i(Ms);if(ln==null||Yr==null||on==null){xs.a=1;break s}var un=on;for(Ws=Kt=0;Ws<is;++Ws){var gs=ln[Ws],dn=gs.G,Vn=gs.H,Ya=0,xi=1,gr=0;for(St=0;5>St;++St){nr=Sp[St],dn[St]=un,Vn[St]=Kt,!St&&0<Ts&&(nr+=1<<Ts);n:{var lu,mm=nr,uu=xs,Fc=Yr,rk=un,nk=Kt,fm=0,ea=uu.m,ik=te(ea,1);if(n(Fc,0,0,mm),ik){var ak=te(ea,1)+1,ok=te(ea,1),Op=te(ea,ok==0?1:8);Fc[Op]=1,ak==2&&(Fc[Op=te(ea,8)]=1);var du=1}else{var Fp=i(19),Bp=te(ea,4)+4;if(19<Bp){uu.a=3;var mu=0;break n}for(lu=0;lu<Bp;++lu)Fp[LN[lu]]=te(ea,3);var hm=void 0,Bc=void 0,zp=uu,ck=Fp,fu=mm,$p=Fc,pm=0,ta=zp.m,Wp=8,Hp=a(128,B);r:for(;L(Hp,0,7,ck,19);){if(te(ta,1)){var lk=2+2*te(ta,3);if((hm=2+te(ta,lk))>fu)break r}else hm=fu;for(Bc=0;Bc<fu&&hm--;){ae(ta);var qp=Hp[0+(127&G(ta))];ne(ta,ta.u+qp.g);var Oo=qp.value;if(16>Oo)$p[Bc++]=Oo,Oo!=0&&(Wp=Oo);else{var uk=Oo==16,Gp=Oo-16,dk=UN[Gp],Yp=te(ta,_N[Gp])+dk;if(Bc+Yp>fu)break r;for(var mk=uk?Wp:0;0<Yp--;)$p[Bc++]=mk}}pm=1;break r}pm||(zp.a=3),du=pm}(du=du&&!ea.h)&&(fm=L(rk,nk,8,Fc,mm)),du&&fm!=0?mu=fm:(uu.a=3,mu=0)}if(mu==0)break s;if(xi&&VN[St]==1&&(xi=un[Kt].g==0),Ya+=un[Kt].g,Kt+=mu,3>=St){var zc,gm=Yr[0];for(zc=1;zc<nr;++zc)Yr[zc]>gm&&(gm=Yr[zc]);gr+=gm}}if(gs.nd=xi,gs.Qb=0,xi&&(gs.qb=(dn[3][Vn[3]+0].value<<24|dn[1][Vn[1]+0].value<<16|dn[2][Vn[2]+0].value)>>>0,Ya==0&&256>dn[0][Vn[0]+0].value&&(gs.Qb=1,gs.qb+=dn[0][Vn[0]+0].value<<8)),gs.jc=!gs.Qb&&6>gr,gs.jc){var hu,vi=gs;for(hu=0;hu<Ha;++hu){var sa=hu,ra=vi.pd[sa],pu=vi.G[0][vi.H[0]+sa];256<=pu.value?(ra.g=pu.g+256,ra.value=pu.value):(ra.g=0,ra.value=0,sa>>=ie(pu,8,ra),sa>>=ie(vi.G[1][vi.H[1]+sa],16,ra),sa>>=ie(vi.G[2][vi.H[2]+sa],0,ra),ie(vi.G[3][vi.H[3]+sa],24,ra))}}}rr.vc=Xt,rr.Wb=is,rr.Ya=ln,rr.yc=on,Oe=1;break t}Oe=0}if(!(R=Oe)){w.a=3;break e}if(0<Ne){if(X.ua=1<<Ne,!W(X.Wa,Ne)){w.a=1,R=0;break e}}else X.ua=0;var bm=w,Kp=z,fk=q,ym=bm.s,xm=ym.xc;if(bm.c=Kp,bm.i=fk,ym.md=_e(Kp,xm),ym.wc=xm==0?-1:(1<<xm)-1,k){w.xb=WN;break e}if((de=i(z*q))==null){w.a=1,R=0;break e}R=(R=ft(w,de,0,z,q,q,null))&&!Y.h;break e}return R?(M!=null?M[0]=de:(e(de==null),e(k)),w.$=0,k||Zt(X)):Zt(X),R}function hs(h,b){var k=h.c*h.i,w=k+b+16*b;return e(h.c<=b),h.V=i(w),h.V==null?(h.Ta=null,h.Ua=0,h.a=1,0):(h.Ta=h.V,h.Ua=h.Ba+k+b,1)}function cr(h,b){var k=h.C,w=b-k,M=h.V,R=h.Ba+h.c*k;for(e(b<=h.l.o);0<w;){var z=16<w?16:w,q=h.l.ma,Y=h.l.width,X=Y*z,de=q.ca,Ne=q.tb+Y*k,J=h.Ta,fe=h.Ua;Re(h,z,M,R),Np(J,fe,de,Ne,X),_t(q,k,k+z,de,Ne,Y),w-=z,M+=z*h.c,k+=z}e(k==b),h.C=h.Ma=b}function lr(){this.ub=this.yd=this.td=this.Rb=0}function As(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function ui(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function pn(){this.Yb=(function(){var h=[];return(function b(k,w,M){for(var R=M[w],z=0;z<R&&(k.push(M.length>w+1?[]:0),!(M.length<w+1));z++)b(k[z],w+1,M)})(h,0,[3,11]),h})()}function Qs(){this.jb=i(3),this.Wc=o([4,8],pn),this.Xc=o([4,17],pn)}function En(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Bs(){this.ld=this.La=this.dd=this.tc=0}function Mr(){this.Na=this.la=0}function $n(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function vr(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Wr(){this.uc=this.M=this.Nb=0,this.wa=Array(new Bs),this.Y=0,this.ya=Array(new vr),this.aa=0,this.l=new Sn}function Sa(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Aa(){this.cb=this.a=0,this.sc="",this.m=new U,this.Od=new lr,this.Kc=new As,this.ed=new En,this.Qa=new ui,this.Ic=this.$c=this.Aa=0,this.D=new Wr,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,U),this.ia=0,this.pb=a(4,$n),this.Pa=new Qs,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Sa),this.Hd=0,this.rb=Array(new Mr),this.sb=0,this.wa=Array(new Bs),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new vr),this.L=this.aa=0,this.gd=o([4,2],Bs),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Sn(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ir(){var h=new Aa;return h!=null&&(h.a=0,h.sc="OK",h.cb=0,h.Xb=0,Rc||(Rc=sn)),h}function bs(h,b,k){return h.a==0&&(h.a=b,h.sc=k,h.cb=0),0}function Bi(h,b,k){return 3<=k&&h[b+0]==157&&h[b+1]==1&&h[b+2]==42}function zi(h,b){if(h==null)return 0;if(h.a=0,h.sc="OK",b==null)return bs(h,2,"null VP8Io passed to VP8GetHeaders()");var k=b.data,w=b.w,M=b.ha;if(4>M)return bs(h,7,"Truncated header.");var R=k[w+0]|k[w+1]<<8|k[w+2]<<16,z=h.Od;if(z.Rb=!(1&R),z.td=R>>1&7,z.yd=R>>4&1,z.ub=R>>5,3<z.td)return bs(h,3,"Incorrect keyframe parameters.");if(!z.yd)return bs(h,4,"Frame not displayable.");w+=3,M-=3;var q=h.Kc;if(z.Rb){if(7>M)return bs(h,7,"cannot parse picture header");if(!Bi(k,w,M))return bs(h,3,"Bad code word");q.c=16383&(k[w+4]<<8|k[w+3]),q.Td=k[w+4]>>6,q.i=16383&(k[w+6]<<8|k[w+5]),q.Ud=k[w+6]>>6,w+=7,M-=7,h.za=q.c+15>>4,h.Ub=q.i+15>>4,b.width=q.c,b.height=q.i,b.Da=0,b.j=0,b.v=0,b.va=b.width,b.o=b.height,b.da=0,b.ib=b.width,b.hb=b.height,b.U=b.width,b.T=b.height,n((R=h.Pa).jb,0,255,R.jb.length),e((R=h.Qa)!=null),R.Cb=0,R.Bb=0,R.Fb=1,n(R.Zb,0,0,R.Zb.length),n(R.Lb,0,0,R.Lb)}if(z.ub>M)return bs(h,7,"bad partition length");re(R=h.m,k,w,z.ub),w+=z.ub,M-=z.ub,z.Rb&&(q.Ld=me(R),q.Kd=me(R)),q=h.Qa;var Y,X=h.Pa;if(e(R!=null),e(q!=null),q.Cb=me(R),q.Cb){if(q.Bb=me(R),me(R)){for(q.Fb=me(R),Y=0;4>Y;++Y)q.Zb[Y]=me(R)?ee(R,7):0;for(Y=0;4>Y;++Y)q.Lb[Y]=me(R)?ee(R,6):0}if(q.Bb)for(Y=0;3>Y;++Y)X.jb[Y]=me(R)?le(R,8):255}else q.Bb=0;if(R.Ka)return bs(h,3,"cannot parse segment header");if((q=h.ed).zd=me(R),q.Tb=le(R,6),q.wb=le(R,3),q.Pc=me(R),q.Pc&&me(R)){for(X=0;4>X;++X)me(R)&&(q.vd[X]=ee(R,6));for(X=0;4>X;++X)me(R)&&(q.od[X]=ee(R,6))}if(h.L=q.Tb==0?0:q.zd?1:2,R.Ka)return bs(h,3,"cannot parse filter header");var de=M;if(M=Y=w,w=Y+de,q=de,h.Xb=(1<<le(h.m,2))-1,de<3*(X=h.Xb))k=7;else{for(Y+=3*X,q-=3*X,de=0;de<X;++de){var Ne=k[M+0]|k[M+1]<<8|k[M+2]<<16;Ne>q&&(Ne=q),re(h.Jc[+de],k,Y,Ne),Y+=Ne,q-=Ne,M+=3}re(h.Jc[+X],k,Y,q),k=Y<w?0:5}if(k!=0)return bs(h,k,"cannot parse partitions");for(k=le(Y=h.m,7),M=me(Y)?ee(Y,4):0,w=me(Y)?ee(Y,4):0,q=me(Y)?ee(Y,4):0,X=me(Y)?ee(Y,4):0,Y=me(Y)?ee(Y,4):0,de=h.Qa,Ne=0;4>Ne;++Ne){if(de.Cb){var J=de.Zb[Ne];de.Fb||(J+=k)}else{if(0<Ne){h.pb[Ne]=h.pb[0];continue}J=k}var fe=h.pb[Ne];fe.Sc[0]=lm[Ls(J+M,127)],fe.Sc[1]=um[Ls(J+0,127)],fe.Eb[0]=2*lm[Ls(J+w,127)],fe.Eb[1]=101581*um[Ls(J+q,127)]>>16,8>fe.Eb[1]&&(fe.Eb[1]=8),fe.Qc[0]=lm[Ls(J+X,117)],fe.Qc[1]=um[Ls(J+Y,127)],fe.lc=J+Y}if(!z.Rb)return bs(h,4,"Not a key frame.");for(me(R),z=h.Pa,k=0;4>k;++k){for(M=0;8>M;++M)for(w=0;3>w;++w)for(q=0;11>q;++q)X=ge(R,zN[k][M][w][q])?le(R,8):FN[k][M][w][q],z.Wc[k][M].Yb[w][q]=X;for(M=0;17>M;++M)z.Xc[k][M]=z.Wc[k][$N[M]]}return h.kc=me(R),h.kc&&(h.Bd=le(R,8)),h.cb=1}function sn(h,b,k,w,M,R,z){var q=b[M].Yb[k];for(k=0;16>M;++M){if(!ge(h,q[k+0]))return M;for(;!ge(h,q[k+1]);)if(q=b[++M].Yb[0],k=0,M==16)return 16;var Y=b[M+1].Yb;if(ge(h,q[k+2])){var X=h,de=0;if(ge(X,(J=q)[(Ne=k)+3]))if(ge(X,J[Ne+6])){for(q=0,Ne=2*(de=ge(X,J[Ne+8]))+(J=ge(X,J[Ne+9+de])),de=0,J=RN[Ne];J[q];++q)de+=de+ge(X,J[q]);de+=3+(8<<Ne)}else ge(X,J[Ne+7])?(de=7+2*ge(X,165),de+=ge(X,145)):de=5+ge(X,159);else de=ge(X,J[Ne+4])?3+ge(X,J[Ne+5]):2;q=Y[2]}else de=1,q=Y[1];Y=z+ON[M],0>(X=h).b&&he(X);var Ne,J=X.b,fe=(Ne=X.Ca>>1)-(X.I>>J)>>31;--X.b,X.Ca+=fe,X.Ca|=1,X.I-=(Ne+1&fe)<<J,R[Y]=((de^fe)-fe)*w[(0<M)+0]}return 16}function An(h){var b=h.rb[h.sb-1];b.la=0,b.Na=0,n(h.zc,0,0,h.zc.length),h.ja=0}function Nr(h,b,k,w,M){M=h[b+k+32*w]+(M>>3),h[b+k+32*w]=-256&M?0>M?0:255:M}function kr(h,b,k,w,M,R){Nr(h,b,0,k,w+M),Nr(h,b,1,k,w+R),Nr(h,b,2,k,w-R),Nr(h,b,3,k,w-M)}function _s(h){return(20091*h>>16)+h}function $i(h,b,k,w){var M,R=0,z=i(16);for(M=0;4>M;++M){var q=h[b+0]+h[b+8],Y=h[b+0]-h[b+8],X=(35468*h[b+4]>>16)-_s(h[b+12]),de=_s(h[b+4])+(35468*h[b+12]>>16);z[R+0]=q+de,z[R+1]=Y+X,z[R+2]=Y-X,z[R+3]=q-de,R+=4,b++}for(M=R=0;4>M;++M)q=(h=z[R+0]+4)+z[R+8],Y=h-z[R+8],X=(35468*z[R+4]>>16)-_s(z[R+12]),Nr(k,w,0,0,q+(de=_s(z[R+4])+(35468*z[R+12]>>16))),Nr(k,w,1,0,Y+X),Nr(k,w,2,0,Y-X),Nr(k,w,3,0,q-de),R++,w+=32}function _a(h,b,k,w){var M=h[b+0]+4,R=35468*h[b+4]>>16,z=_s(h[b+4]),q=35468*h[b+1]>>16;kr(k,w,0,M+z,h=_s(h[b+1]),q),kr(k,w,1,M+R,h,q),kr(k,w,2,M-R,h,q),kr(k,w,3,M-z,h,q)}function Ao(h,b,k,w,M){$i(h,b,k,w),M&&$i(h,b+16,k,w+4)}function vc(h,b,k,w){Ga(h,b+0,k,w,1),Ga(h,b+32,k,w+128,1)}function gn(h,b,k,w){var M;for(h=h[b+0]+4,M=0;4>M;++M)for(b=0;4>b;++b)Nr(k,w,b,M,h)}function F(h,b,k,w){h[b+0]&&ss(h,b+0,k,w),h[b+16]&&ss(h,b+16,k,w+4),h[b+32]&&ss(h,b+32,k,w+128),h[b+48]&&ss(h,b+48,k,w+128+4)}function K(h,b,k,w){var M,R=i(16);for(M=0;4>M;++M){var z=h[b+0+M]+h[b+12+M],q=h[b+4+M]+h[b+8+M],Y=h[b+4+M]-h[b+8+M],X=h[b+0+M]-h[b+12+M];R[0+M]=z+q,R[8+M]=z-q,R[4+M]=X+Y,R[12+M]=X-Y}for(M=0;4>M;++M)z=(h=R[0+4*M]+3)+R[3+4*M],q=R[1+4*M]+R[2+4*M],Y=R[1+4*M]-R[2+4*M],X=h-R[3+4*M],k[w+0]=z+q>>3,k[w+16]=X+Y>>3,k[w+32]=z-q>>3,k[w+48]=X-Y>>3,w+=64}function oe(h,b,k){var w,M=b-32,R=an,z=255-h[M-1];for(w=0;w<k;++w){var q,Y=R,X=z+h[b-1];for(q=0;q<k;++q)h[b+q]=Y[X+h[M+q]];b+=32}}function ke(h,b){oe(h,b,4)}function Le(h,b){oe(h,b,8)}function $e(h,b){oe(h,b,16)}function Ut(h,b){var k;for(k=0;16>k;++k)r(h,b+32*k,h,b-32,16)}function ks(h,b){var k;for(k=16;0<k;--k)n(h,b,h[b-1],16),b+=32}function ys(h,b,k){var w;for(w=0;16>w;++w)n(b,k+32*w,h,16)}function Ds(h,b){var k,w=16;for(k=0;16>k;++k)w+=h[b-1+32*k]+h[b+k-32];ys(w>>5,h,b)}function Hr(h,b){var k,w=8;for(k=0;16>k;++k)w+=h[b-1+32*k];ys(w>>4,h,b)}function Ua(h,b){var k,w=8;for(k=0;16>k;++k)w+=h[b+k-32];ys(w>>4,h,b)}function Nc(h,b){ys(128,h,b)}function jt(h,b,k){return h+2*b+k+2>>2}function Jd(h,b){var k,w=b-32;for(w=new Uint8Array([jt(h[w-1],h[w+0],h[w+1]),jt(h[w+0],h[w+1],h[w+2]),jt(h[w+1],h[w+2],h[w+3]),jt(h[w+2],h[w+3],h[w+4])]),k=0;4>k;++k)r(h,b+32*k,w,0,w.length)}function Zd(h,b){var k=h[b-1],w=h[b-1+32],M=h[b-1+64],R=h[b-1+96];Pe(h,b+0,16843009*jt(h[b-1-32],k,w)),Pe(h,b+32,16843009*jt(k,w,M)),Pe(h,b+64,16843009*jt(w,M,R)),Pe(h,b+96,16843009*jt(M,R,R))}function Qd(h,b){var k,w=4;for(k=0;4>k;++k)w+=h[b+k-32]+h[b-1+32*k];for(w>>=3,k=0;4>k;++k)n(h,b+32*k,w,4)}function em(h,b){var k=h[b-1+0],w=h[b-1+32],M=h[b-1+64],R=h[b-1-32],z=h[b+0-32],q=h[b+1-32],Y=h[b+2-32],X=h[b+3-32];h[b+0+96]=jt(w,M,h[b-1+96]),h[b+1+96]=h[b+0+64]=jt(k,w,M),h[b+2+96]=h[b+1+64]=h[b+0+32]=jt(R,k,w),h[b+3+96]=h[b+2+64]=h[b+1+32]=h[b+0+0]=jt(z,R,k),h[b+3+64]=h[b+2+32]=h[b+1+0]=jt(q,z,R),h[b+3+32]=h[b+2+0]=jt(Y,q,z),h[b+3+0]=jt(X,Y,q)}function di(h,b){var k=h[b+1-32],w=h[b+2-32],M=h[b+3-32],R=h[b+4-32],z=h[b+5-32],q=h[b+6-32],Y=h[b+7-32];h[b+0+0]=jt(h[b+0-32],k,w),h[b+1+0]=h[b+0+32]=jt(k,w,M),h[b+2+0]=h[b+1+32]=h[b+0+64]=jt(w,M,R),h[b+3+0]=h[b+2+32]=h[b+1+64]=h[b+0+96]=jt(M,R,z),h[b+3+32]=h[b+2+64]=h[b+1+96]=jt(R,z,q),h[b+3+64]=h[b+2+96]=jt(z,q,Y),h[b+3+96]=jt(q,Y,Y)}function mi(h,b){var k=h[b-1+0],w=h[b-1+32],M=h[b-1+64],R=h[b-1-32],z=h[b+0-32],q=h[b+1-32],Y=h[b+2-32],X=h[b+3-32];h[b+0+0]=h[b+1+64]=R+z+1>>1,h[b+1+0]=h[b+2+64]=z+q+1>>1,h[b+2+0]=h[b+3+64]=q+Y+1>>1,h[b+3+0]=Y+X+1>>1,h[b+0+96]=jt(M,w,k),h[b+0+64]=jt(w,k,R),h[b+0+32]=h[b+1+96]=jt(k,R,z),h[b+1+32]=h[b+2+96]=jt(R,z,q),h[b+2+32]=h[b+3+96]=jt(z,q,Y),h[b+3+32]=jt(q,Y,X)}function tm(h,b){var k=h[b+0-32],w=h[b+1-32],M=h[b+2-32],R=h[b+3-32],z=h[b+4-32],q=h[b+5-32],Y=h[b+6-32],X=h[b+7-32];h[b+0+0]=k+w+1>>1,h[b+1+0]=h[b+0+64]=w+M+1>>1,h[b+2+0]=h[b+1+64]=M+R+1>>1,h[b+3+0]=h[b+2+64]=R+z+1>>1,h[b+0+32]=jt(k,w,M),h[b+1+32]=h[b+0+96]=jt(w,M,R),h[b+2+32]=h[b+1+96]=jt(M,R,z),h[b+3+32]=h[b+2+96]=jt(R,z,q),h[b+3+64]=jt(z,q,Y),h[b+3+96]=jt(q,Y,X)}function sm(h,b){var k=h[b-1+0],w=h[b-1+32],M=h[b-1+64],R=h[b-1+96];h[b+0+0]=k+w+1>>1,h[b+2+0]=h[b+0+32]=w+M+1>>1,h[b+2+32]=h[b+0+64]=M+R+1>>1,h[b+1+0]=jt(k,w,M),h[b+3+0]=h[b+1+32]=jt(w,M,R),h[b+3+32]=h[b+1+64]=jt(M,R,R),h[b+3+64]=h[b+2+64]=h[b+0+96]=h[b+1+96]=h[b+2+96]=h[b+3+96]=R}function _o(h,b){var k=h[b-1+0],w=h[b-1+32],M=h[b-1+64],R=h[b-1+96],z=h[b-1-32],q=h[b+0-32],Y=h[b+1-32],X=h[b+2-32];h[b+0+0]=h[b+2+32]=k+z+1>>1,h[b+0+32]=h[b+2+64]=w+k+1>>1,h[b+0+64]=h[b+2+96]=M+w+1>>1,h[b+0+96]=R+M+1>>1,h[b+3+0]=jt(q,Y,X),h[b+2+0]=jt(z,q,Y),h[b+1+0]=h[b+3+32]=jt(k,z,q),h[b+1+32]=h[b+3+64]=jt(w,k,z),h[b+1+64]=h[b+3+96]=jt(M,w,k),h[b+1+96]=jt(R,M,w)}function kc(h,b){var k;for(k=0;8>k;++k)r(h,b+32*k,h,b-32,8)}function Va(h,b){var k;for(k=0;8>k;++k)n(h,b,h[b-1],8),b+=32}function Uo(h,b,k){var w;for(w=0;8>w;++w)n(b,k+32*w,h,8)}function Vo(h,b){var k,w=8;for(k=0;8>k;++k)w+=h[b+k-32]+h[b-1+32*k];Uo(w>>4,h,b)}function rm(h,b){var k,w=4;for(k=0;8>k;++k)w+=h[b+k-32];Uo(w>>3,h,b)}function Dc(h,b){var k,w=4;for(k=0;8>k;++k)w+=h[b-1+32*k];Uo(w>>3,h,b)}function wc(h,b){Uo(128,h,b)}function La(h,b,k){var w=h[b-k],M=h[b+0],R=3*(M-w)+nm[1020+h[b-2*k]-h[b+k]],z=eu[112+(R+4>>3)];h[b-k]=an[255+w+eu[112+(R+3>>3)]],h[b+0]=an[255+M-z]}function Ta(h,b,k,w){var M=h[b+0],R=h[b+k];return vn[255+h[b-2*k]-h[b-k]]>w||vn[255+R-M]>w}function Pc(h,b,k,w){return 4*vn[255+h[b-k]-h[b+0]]+vn[255+h[b-2*k]-h[b+k]]<=w}function Lo(h,b,k,w,M){var R=h[b-3*k],z=h[b-2*k],q=h[b-k],Y=h[b+0],X=h[b+k],de=h[b+2*k],Ne=h[b+3*k];return 4*vn[255+q-Y]+vn[255+z-X]>w?0:vn[255+h[b-4*k]-R]<=M&&vn[255+R-z]<=M&&vn[255+z-q]<=M&&vn[255+Ne-de]<=M&&vn[255+de-X]<=M&&vn[255+X-Y]<=M}function jc(h,b,k,w){var M=2*w+1;for(w=0;16>w;++w)Pc(h,b+w,k,M)&&La(h,b+w,k)}function Ma(h,b,k,w){var M=2*w+1;for(w=0;16>w;++w)Pc(h,b+w*k,1,M)&&La(h,b+w*k,1)}function Hl(h,b,k,w){var M;for(M=3;0<M;--M)jc(h,b+=4*k,k,w)}function ql(h,b,k,w){var M;for(M=3;0<M;--M)Ma(h,b+=4,k,w)}function fi(h,b,k,w,M,R,z,q){for(R=2*R+1;0<M--;){if(Lo(h,b,k,R,z))if(Ta(h,b,k,q))La(h,b,k);else{var Y=h,X=b,de=k,Ne=Y[X-2*de],J=Y[X-de],fe=Y[X+0],ye=Y[X+de],je=Y[X+2*de],ve=27*(Se=nm[1020+3*(fe-J)+nm[1020+Ne-ye]])+63>>7,Ce=18*Se+63>>7,Se=9*Se+63>>7;Y[X-3*de]=an[255+Y[X-3*de]+Se],Y[X-2*de]=an[255+Ne+Ce],Y[X-de]=an[255+J+ve],Y[X+0]=an[255+fe-ve],Y[X+de]=an[255+ye-Ce],Y[X+2*de]=an[255+je-Se]}b+=w}}function hi(h,b,k,w,M,R,z,q){for(R=2*R+1;0<M--;){if(Lo(h,b,k,R,z))if(Ta(h,b,k,q))La(h,b,k);else{var Y=h,X=b,de=k,Ne=Y[X-de],J=Y[X+0],fe=Y[X+de],ye=eu[112+(4+(je=3*(J-Ne))>>3)],je=eu[112+(je+3>>3)],ve=ye+1>>1;Y[X-2*de]=an[255+Y[X-2*de]+ve],Y[X-de]=an[255+Ne+je],Y[X+0]=an[255+J-ye],Y[X+de]=an[255+fe-ve]}b+=w}}function Gl(h,b,k,w,M,R){fi(h,b,k,1,16,w,M,R)}function Yl(h,b,k,w,M,R){fi(h,b,1,k,16,w,M,R)}function Ia(h,b,k,w,M,R){var z;for(z=3;0<z;--z)hi(h,b+=4*k,k,1,16,w,M,R)}function Kl(h,b,k,w,M,R){var z;for(z=3;0<z;--z)hi(h,b+=4,1,k,16,w,M,R)}function x(h,b,k,w,M,R,z,q){fi(h,b,M,1,8,R,z,q),fi(k,w,M,1,8,R,z,q)}function T(h,b,k,w,M,R,z,q){fi(h,b,1,M,8,R,z,q),fi(k,w,1,M,8,R,z,q)}function Q(h,b,k,w,M,R,z,q){hi(h,b+4*M,M,1,8,R,z,q),hi(k,w+4*M,M,1,8,R,z,q)}function ce(h,b,k,w,M,R,z,q){hi(h,b+4,1,M,8,R,z,q),hi(k,w+4,1,M,8,R,z,q)}function be(){this.ba=new Yt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new qt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ee(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ve(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Je(){this.ua=0,this.Wa=new rt,this.vb=new rt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Z,this.yc=new B}function nt(){this.xb=this.a=0,this.l=new Sn,this.ca=new Yt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new H,this.Pb=0,this.wd=new H,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Je,this.ab=0,this.gc=a(4,Ve),this.Oc=0}function wt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Sn,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ct(h,b,k,w,M,R,z){for(h=h==null?0:h[b+0],b=0;b<z;++b)M[R+b]=h+k[w+b]&255,h=M[R+b]}function ts(h,b,k,w,M,R,z){var q;if(h==null)Ct(null,null,k,w,M,R,z);else for(q=0;q<z;++q)M[R+q]=h[b+q]+k[w+q]&255}function Us(h,b,k,w,M,R,z){if(h==null)Ct(null,null,k,w,M,R,z);else{var q,Y=h[b+0],X=Y,de=Y;for(q=0;q<z;++q)X=de+(Y=h[b+q])-X,de=k[w+q]+(-256&X?0>X?0:255:X)&255,X=Y,M[R+q]=de}}function Js(h,b,k,w){var M=b.width,R=b.o;if(e(h!=null&&b!=null),0>k||0>=w||k+w>R)return null;if(!h.Cc){if(h.ga==null){var z;if(h.ga=new wt,(z=h.ga==null)||(z=b.width*b.o,e(h.Gb.length==0),h.Gb=i(z),h.Uc=0,h.Gb==null?z=0:(h.mb=h.Gb,h.nb=h.Uc,h.rc=null,z=1),z=!z),!z){z=h.ga;var q=h.Fa,Y=h.P,X=h.qc,de=h.mb,Ne=h.nb,J=Y+1,fe=X-1,ye=z.l;if(e(q!=null&&de!=null&&b!=null),Qi[0]=null,Qi[1]=Ct,Qi[2]=ts,Qi[3]=Us,z.ca=de,z.tb=Ne,z.c=b.width,z.i=b.height,e(0<z.c&&0<z.i),1>=X)b=0;else if(z.$a=3&q[Y+0],z.Z=q[Y+0]>>2&3,z.Lc=q[Y+0]>>4&3,Y=q[Y+0]>>6&3,0>z.$a||1<z.$a||4<=z.Z||1<z.Lc||Y)b=0;else if(ye.put=ct,ye.ac=Tr,ye.bc=tn,ye.ma=z,ye.width=b.width,ye.height=b.height,ye.Da=b.Da,ye.v=b.v,ye.va=b.va,ye.j=b.j,ye.o=b.o,z.$a)e:{e(z.$a==1),b=Ot();t:for(;;){if(b==null){b=0;break e}if(e(z!=null),z.mc=b,b.c=z.c,b.i=z.i,b.l=z.l,b.l.ma=z,b.l.width=z.c,b.l.height=z.i,b.a=0,pe(b.m,q,J,fe),!Ft(z.c,z.i,1,b,null)||(b.ab==1&&b.gc[0].hc==3&&Dt(b.s)?(z.ic=1,q=b.c*b.i,b.Ta=null,b.Ua=0,b.V=i(q),b.Ba=0,b.V==null?(b.a=1,b=0):b=1):(z.ic=0,b=hs(b,z.c)),!b))break t;b=1;break e}z.mc=null,b=0}else b=fe>=z.c*z.i;z=!b}if(z)return null;h.ga.Lc!=1?h.Ga=0:w=R-k}e(h.ga!=null),e(k+w<=R);e:{if(b=(q=h.ga).c,R=q.l.o,q.$a==0){if(J=h.rc,fe=h.Vc,ye=h.Fa,Y=h.P+1+k*b,X=h.mb,de=h.nb+k*b,e(Y<=h.P+h.qc),q.Z!=0)for(e(Qi[q.Z]!=null),z=0;z<w;++z)Qi[q.Z](J,fe,ye,Y,X,de,b),J=X,fe=de,de+=b,Y+=b;else for(z=0;z<w;++z)r(X,de,ye,Y,b),J=X,fe=de,de+=b,Y+=b;h.rc=J,h.Vc=fe}else{if(e(q.mc!=null),b=k+w,e((z=q.mc)!=null),e(b<=z.i),z.C>=b)b=1;else if(q.ic||bn(),q.ic){q=z.V,J=z.Ba,fe=z.c;var je=z.i,ve=(ye=1,Y=z.$/fe,X=z.$%fe,de=z.m,Ne=z.s,z.$),Ce=fe*je,Se=fe*b,Te=Ne.wc,Ue=ve<Se?Ae(Ne,X,Y):null;e(ve<=Ce),e(b<=je),e(Dt(Ne));t:for(;;){for(;!de.h&&ve<Se;){if(X&Te||(Ue=Ae(Ne,X,Y)),e(Ue!=null),ae(de),256>(je=cs(Ue.G[0],Ue.H[0],de)))q[J+ve]=je,++ve,++X>=fe&&(X=0,++Y<=b&&!(Y%16)&&pt(z,Y));else{if(!(280>je)){ye=0;break t}je=mr(je-256,de);var at,He=cs(Ue.G[4],Ue.H[4],de);if(ae(de),!(ve>=(He=xr(fe,He=mr(He,de)))&&Ce-ve>=je)){ye=0;break t}for(at=0;at<je;++at)q[J+ve+at]=q[J+ve+at-He];for(ve+=je,X+=je;X>=fe;)X-=fe,++Y<=b&&!(Y%16)&&pt(z,Y);ve<Se&&X&Te&&(Ue=Ae(Ne,X,Y))}e(de.h==se(de))}pt(z,Y>b?b:Y);break t}!ye||de.h&&ve<Ce?(ye=0,z.a=de.h?5:3):z.$=ve,b=ye}else b=ft(z,z.V,z.Ba,z.c,z.i,b,cr);if(!b){w=0;break e}}k+w>=R&&(h.Cc=1),w=1}if(!w)return null;if(h.Cc&&((w=h.ga)!=null&&(w.mc=null),h.ga=null,0<h.Ga))return alert("todo:WebPDequantizeLevels"),null}return h.nb+k*M}function ps(h,b,k,w,M,R){for(;0<M--;){var z,q=h,Y=b+(k?1:0),X=h,de=b+(k?0:3);for(z=0;z<w;++z){var Ne=X[de+4*z];Ne!=255&&(Ne*=32897,q[Y+4*z+0]=q[Y+4*z+0]*Ne>>23,q[Y+4*z+1]=q[Y+4*z+1]*Ne>>23,q[Y+4*z+2]=q[Y+4*z+2]*Ne>>23)}b+=R}}function er(h,b,k,w,M){for(;0<w--;){var R;for(R=0;R<k;++R){var z=h[b+2*R+0],q=15&(X=h[b+2*R+1]),Y=4369*q,X=(240&X|X>>4)*Y>>16;h[b+2*R+0]=(240&z|z>>4)*Y>>16&240|(15&z|z<<4)*Y>>16>>4&15,h[b+2*R+1]=240&X|q}b+=M}}function Zs(h,b,k,w,M,R,z,q){var Y,X,de=255;for(X=0;X<M;++X){for(Y=0;Y<w;++Y){var Ne=h[b+Y];R[z+4*Y]=Ne,de&=Ne}b+=k,z+=q}return de!=255}function fr(h,b,k,w,M){var R;for(R=0;R<M;++R)k[w+R]=h[b+R]>>8}function bn(){Ic=ps,xp=er,vp=Zs,Np=fr}function qr(h,b,k){_[h]=function(w,M,R,z,q,Y,X,de,Ne,J,fe,ye,je,ve,Ce,Se,Te){var Ue,at=Te-1>>1,He=q[Y+0]|X[de+0]<<16,Vt=Ne[J+0]|fe[ye+0]<<16;e(w!=null);var tt=3*He+Vt+131074>>2;for(b(w[M+0],255&tt,tt>>16,je,ve),R!=null&&(tt=3*Vt+He+131074>>2,b(R[z+0],255&tt,tt>>16,Ce,Se)),Ue=1;Ue<=at;++Ue){var Gt=q[Y+Ue]|X[de+Ue]<<16,sr=Ne[J+Ue]|fe[ye+Ue]<<16,Lt=He+Gt+Vt+sr+524296,st=Lt+2*(Gt+Vt)>>3;tt=st+He>>1,He=(Lt=Lt+2*(He+sr)>>3)+Gt>>1,b(w[M+2*Ue-1],255&tt,tt>>16,je,ve+(2*Ue-1)*k),b(w[M+2*Ue-0],255&He,He>>16,je,ve+(2*Ue-0)*k),R!=null&&(tt=Lt+Vt>>1,He=st+sr>>1,b(R[z+2*Ue-1],255&tt,tt>>16,Ce,Se+(2*Ue-1)*k),b(R[z+2*Ue+0],255&He,He>>16,Ce,Se+(2*Ue+0)*k)),He=Gt,Vt=sr}1&Te||(tt=3*He+Vt+131074>>2,b(w[M+Te-1],255&tt,tt>>16,je,ve+(Te-1)*k),R!=null&&(tt=3*Vt+He+131074>>2,b(R[z+Te-1],255&tt,tt>>16,Ce,Se+(Te-1)*k)))}}function Xl(){Nn[tu]=HN,Nn[su]=Up,Nn[Cp]=qN,Nn[ru]=Vp,Nn[nu]=Lp,Nn[im]=Tp,Nn[Ep]=GN,Nn[am]=Up,Nn[om]=Vp,Nn[iu]=Lp,Nn[cm]=Tp}function To(h){return h&-16384?0>h?0:255:h>>YN}function Ra(h,b){return To((19077*h>>8)+(26149*b>>8)-14234)}function Wi(h,b,k){return To((19077*h>>8)-(6419*b>>8)-(13320*k>>8)+8708)}function Oa(h,b){return To((19077*h>>8)+(33050*b>>8)-17685)}function Fa(h,b,k,w,M){w[M+0]=Ra(h,k),w[M+1]=Wi(h,b,k),w[M+2]=Oa(h,b)}function Ba(h,b,k,w,M){w[M+0]=Oa(h,b),w[M+1]=Wi(h,b,k),w[M+2]=Ra(h,k)}function Dr(h,b,k,w,M){var R=Wi(h,b,k);b=R<<3&224|Oa(h,b)>>3,w[M+0]=248&Ra(h,k)|R>>5,w[M+1]=b}function za(h,b,k,w,M){var R=240&Oa(h,b)|15;w[M+0]=240&Ra(h,k)|Wi(h,b,k)>>4,w[M+1]=R}function $a(h,b,k,w,M){w[M+0]=255,Fa(h,b,k,w,M+1)}function Cc(h,b,k,w,M){Ba(h,b,k,w,M),w[M+3]=255}function Ec(h,b,k,w,M){Fa(h,b,k,w,M),w[M+3]=255}function Ls(h,b){return 0>h?0:h>b?b:h}function pi(h,b,k){_[h]=function(w,M,R,z,q,Y,X,de,Ne){for(var J=de+(-2&Ne)*k;de!=J;)b(w[M+0],R[z+0],q[Y+0],X,de),b(w[M+1],R[z+0],q[Y+0],X,de+k),M+=2,++z,++Y,de+=2*k;1&Ne&&b(w[M+0],R[z+0],q[Y+0],X,de)}}function Mo(h,b,k){return k==0?h==0?b==0?6:5:b==0?4:0:k}function Jl(h,b,k,w,M){switch(h>>>30){case 3:Ga(b,k,w,M,0);break;case 2:xn(b,k,w,M);break;case 1:ss(b,k,w,M)}}function yn(h,b){var k,w,M=b.M,R=b.Nb,z=h.oc,q=h.pc+40,Y=h.oc,X=h.pc+584,de=h.oc,Ne=h.pc+600;for(k=0;16>k;++k)z[q+32*k-1]=129;for(k=0;8>k;++k)Y[X+32*k-1]=129,de[Ne+32*k-1]=129;for(0<M?z[q-1-32]=Y[X-1-32]=de[Ne-1-32]=129:(n(z,q-32-1,127,21),n(Y,X-32-1,127,9),n(de,Ne-32-1,127,9)),w=0;w<h.za;++w){var J=b.ya[b.aa+w];if(0<w){for(k=-1;16>k;++k)r(z,q+32*k-4,z,q+32*k+12,4);for(k=-1;8>k;++k)r(Y,X+32*k-4,Y,X+32*k+4,4),r(de,Ne+32*k-4,de,Ne+32*k+4,4)}var fe=h.Gd,ye=h.Hd+w,je=J.ad,ve=J.Hc;if(0<M&&(r(z,q-32,fe[ye].y,0,16),r(Y,X-32,fe[ye].f,0,8),r(de,Ne-32,fe[ye].ea,0,8)),J.Za){var Ce=z,Se=q-32+16;for(0<M&&(w>=h.za-1?n(Ce,Se,fe[ye].y[15],4):r(Ce,Se,fe[ye+1].y,0,4)),k=0;4>k;k++)Ce[Se+128+k]=Ce[Se+256+k]=Ce[Se+384+k]=Ce[Se+0+k];for(k=0;16>k;++k,ve<<=2)Ce=z,Se=q+Ip[k],_n[J.Ob[k]](Ce,Se),Jl(ve,je,16*+k,Ce,Se)}else if(Ce=Mo(w,M,J.Ob[0]),Zi[Ce](z,q),ve!=0)for(k=0;16>k;++k,ve<<=2)Jl(ve,je,16*+k,z,q+Ip[k]);for(k=J.Gc,Ce=Mo(w,M,J.Dd),yi[Ce](Y,X),yi[Ce](de,Ne),ve=je,Ce=Y,Se=X,255&(J=0|k)&&(170&J?qn(ve,256,Ce,Se):ls(ve,256,Ce,Se)),J=de,ve=Ne,255&(k>>=8)&&(170&k?qn(je,320,J,ve):ls(je,320,J,ve)),M<h.Ub-1&&(r(fe[ye].y,0,z,q+480,16),r(fe[ye].f,0,Y,X+224,8),r(fe[ye].ea,0,de,Ne+224,8)),k=8*R*h.B,fe=h.sa,ye=h.ta+16*w+16*R*h.R,je=h.qa,J=h.ra+8*w+k,ve=h.Ha,Ce=h.Ia+8*w+k,k=0;16>k;++k)r(fe,ye+k*h.R,z,q+32*k,16);for(k=0;8>k;++k)r(je,J+k*h.B,Y,X+32*k,8),r(ve,Ce+k*h.B,de,Ne+32*k,8)}}function Wa(h,b,k,w,M,R,z,q,Y){var X=[0],de=[0],Ne=0,J=Y!=null?Y.kd:0,fe=Y??new Ee;if(h==null||12>k)return 7;fe.data=h,fe.w=b,fe.ha=k,b=[b],k=[k],fe.gb=[fe.gb];e:{var ye=b,je=k,ve=fe.gb;if(e(h!=null),e(je!=null),e(ve!=null),ve[0]=0,12<=je[0]&&!t(h,ye[0],"RIFF")){if(t(h,ye[0]+8,"WEBP")){ve=3;break e}var Ce=De(h,ye[0]+4);if(12>Ce||4294967286<Ce){ve=3;break e}if(J&&Ce>je[0]-8){ve=7;break e}ve[0]=Ce,ye[0]+=12,je[0]-=12}ve=0}if(ve!=0)return ve;for(Ce=0<fe.gb[0],k=k[0];;){e:{var Se=h;je=b,ve=k;var Te=X,Ue=de,at=ye=[0];if((tt=Ne=[Ne])[0]=0,8>ve[0])ve=7;else{if(!t(Se,je[0],"VP8X")){if(De(Se,je[0]+4)!=10){ve=3;break e}if(18>ve[0]){ve=7;break e}var He=De(Se,je[0]+8),Vt=1+Ie(Se,je[0]+12);if(2147483648<=Vt*(Se=1+Ie(Se,je[0]+15))){ve=3;break e}at!=null&&(at[0]=He),Te!=null&&(Te[0]=Vt),Ue!=null&&(Ue[0]=Se),je[0]+=18,ve[0]-=18,tt[0]=1}ve=0}}if(Ne=Ne[0],ye=ye[0],ve!=0)return ve;if(je=!!(2&ye),!Ce&&Ne)return 3;if(R!=null&&(R[0]=!!(16&ye)),z!=null&&(z[0]=je),q!=null&&(q[0]=0),z=X[0],ye=de[0],Ne&&je&&Y==null){ve=0;break}if(4>k){ve=7;break}if(Ce&&Ne||!Ce&&!Ne&&!t(h,b[0],"ALPH")){k=[k],fe.na=[fe.na],fe.P=[fe.P],fe.Sa=[fe.Sa];e:{He=h,ve=b,Ce=k;var tt=fe.gb;Te=fe.na,Ue=fe.P,at=fe.Sa,Vt=22,e(He!=null),e(Ce!=null),Se=ve[0];var Gt=Ce[0];for(e(Te!=null),e(at!=null),Te[0]=null,Ue[0]=null,at[0]=0;;){if(ve[0]=Se,Ce[0]=Gt,8>Gt){ve=7;break e}var sr=De(He,Se+4);if(4294967286<sr){ve=3;break e}var Lt=8+sr+1&-2;if(Vt+=Lt,0<tt&&Vt>tt){ve=3;break e}if(!t(He,Se,"VP8 ")||!t(He,Se,"VP8L")){ve=0;break e}if(Gt[0]<Lt){ve=7;break e}t(He,Se,"ALPH")||(Te[0]=He,Ue[0]=Se+8,at[0]=sr),Se+=Lt,Gt-=Lt}}if(k=k[0],fe.na=fe.na[0],fe.P=fe.P[0],fe.Sa=fe.Sa[0],ve!=0)break}k=[k],fe.Ja=[fe.Ja],fe.xa=[fe.xa];e:if(tt=h,ve=b,Ce=k,Te=fe.gb[0],Ue=fe.Ja,at=fe.xa,He=ve[0],Se=!t(tt,He,"VP8 "),Vt=!t(tt,He,"VP8L"),e(tt!=null),e(Ce!=null),e(Ue!=null),e(at!=null),8>Ce[0])ve=7;else{if(Se||Vt){if(tt=De(tt,He+4),12<=Te&&tt>Te-12){ve=3;break e}if(J&&tt>Ce[0]-8){ve=7;break e}Ue[0]=tt,ve[0]+=8,Ce[0]-=8,at[0]=Vt}else at[0]=5<=Ce[0]&&tt[He+0]==47&&!(tt[He+4]>>5),Ue[0]=Ce[0];ve=0}if(k=k[0],fe.Ja=fe.Ja[0],fe.xa=fe.xa[0],b=b[0],ve!=0)break;if(4294967286<fe.Ja)return 3;if(q==null||je||(q[0]=fe.xa?2:1),z=[z],ye=[ye],fe.xa){if(5>k){ve=7;break}q=z,J=ye,je=R,h==null||5>k?h=0:5<=k&&h[b+0]==47&&!(h[b+4]>>5)?(Ce=[0],tt=[0],Te=[0],pe(Ue=new H,h,b,k),yr(Ue,Ce,tt,Te)?(q!=null&&(q[0]=Ce[0]),J!=null&&(J[0]=tt[0]),je!=null&&(je[0]=Te[0]),h=1):h=0):h=0}else{if(10>k){ve=7;break}q=ye,h==null||10>k||!Bi(h,b+3,k-3)?h=0:(J=h[b+0]|h[b+1]<<8|h[b+2]<<16,je=16383&(h[b+7]<<8|h[b+6]),h=16383&(h[b+9]<<8|h[b+8]),1&J||3<(J>>1&7)||!(J>>4&1)||J>>5>=fe.Ja||!je||!h?h=0:(z&&(z[0]=je),q&&(q[0]=h),h=1))}if(!h||(z=z[0],ye=ye[0],Ne&&(X[0]!=z||de[0]!=ye)))return 3;Y!=null&&(Y[0]=fe,Y.offset=b-Y.w,e(4294967286>b-Y.w),e(Y.offset==Y.ha-k));break}return ve==0||ve==7&&Ne&&Y==null?(R!=null&&(R[0]|=fe.na!=null&&0<fe.na.length),w!=null&&(w[0]=z),M!=null&&(M[0]=ye),0):ve}function Sc(h,b,k){var w=b.width,M=b.height,R=0,z=0,q=w,Y=M;if(b.Da=h!=null&&0<h.Da,b.Da&&(q=h.cd,Y=h.bd,R=h.v,z=h.j,11>k||(R&=-2,z&=-2),0>R||0>z||0>=q||0>=Y||R+q>w||z+Y>M))return 0;if(b.v=R,b.j=z,b.va=R+q,b.o=z+Y,b.U=q,b.T=Y,b.da=h!=null&&0<h.da,b.da){if(!Ge(q,Y,k=[h.ib],R=[h.hb]))return 0;b.ib=k[0],b.hb=R[0]}return b.ob=h!=null&&h.ob,b.Kb=h==null||!h.Sd,b.da&&(b.ob=b.ib<3*w/4&&b.hb<3*M/4,b.Kb=0),1}function Ac(h){if(h==null)return 2;if(11>h.S){var b=h.f.RGBA;b.fb+=(h.height-1)*b.A,b.A=-b.A}else b=h.f.kb,h=h.height,b.O+=(h-1)*b.fa,b.fa=-b.fa,b.N+=(h-1>>1)*b.Ab,b.Ab=-b.Ab,b.W+=(h-1>>1)*b.Db,b.Db=-b.Db,b.F!=null&&(b.J+=(h-1)*b.lb,b.lb=-b.lb);return 0}function Hi(h,b,k,w){if(w==null||0>=h||0>=b)return 2;if(k!=null){if(k.Da){var M=k.cd,R=k.bd,z=-2&k.v,q=-2&k.j;if(0>z||0>q||0>=M||0>=R||z+M>h||q+R>b)return 2;h=M,b=R}if(k.da){if(!Ge(h,b,M=[k.ib],R=[k.hb]))return 2;h=M[0],b=R[0]}}w.width=h,w.height=b;e:{var Y=w.width,X=w.height;if(h=w.S,0>=Y||0>=X||!(h>=tu&&13>h))h=2;else{if(0>=w.Rd&&w.sd==null){z=R=M=b=0;var de=(q=Y*Rp[h])*X;if(11>h||(R=(X+1)/2*(b=(Y+1)/2),h==12&&(z=(M=Y)*X)),(X=i(de+2*R+z))==null){h=1;break e}w.sd=X,11>h?((Y=w.f.RGBA).eb=X,Y.fb=0,Y.A=q,Y.size=de):((Y=w.f.kb).y=X,Y.O=0,Y.fa=q,Y.Fd=de,Y.f=X,Y.N=0+de,Y.Ab=b,Y.Cd=R,Y.ea=X,Y.W=0+de+R,Y.Db=b,Y.Ed=R,h==12&&(Y.F=X,Y.J=0+de+2*R),Y.Tc=z,Y.lb=M)}if(b=1,M=w.S,R=w.width,z=w.height,M>=tu&&13>M)if(11>M)h=w.f.RGBA,b&=(q=Math.abs(h.A))*(z-1)+R<=h.size,b&=q>=R*Rp[M],b&=h.eb!=null;else{h=w.f.kb,q=(R+1)/2,de=(z+1)/2,Y=Math.abs(h.fa),X=Math.abs(h.Ab);var Ne=Math.abs(h.Db),J=Math.abs(h.lb),fe=J*(z-1)+R;b&=Y*(z-1)+R<=h.Fd,b&=X*(de-1)+q<=h.Cd,b=(b&=Ne*(de-1)+q<=h.Ed)&Y>=R&X>=q&Ne>=q,b&=h.y!=null,b&=h.f!=null,b&=h.ea!=null,M==12&&(b&=J>=R,b&=fe<=h.Tc,b&=h.F!=null)}else b=0;h=b?0:2}}return h!=0||k!=null&&k.fd&&(h=Ac(w)),h}var Ha=64,rn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],nn=24,qi=32,gi=8,Gi=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Me("Predictor0","PredictorAdd0"),_.Predictor0=function(){return 4278190080},_.Predictor1=function(h){return h},_.Predictor2=function(h,b,k){return b[k+0]},_.Predictor3=function(h,b,k){return b[k+1]},_.Predictor4=function(h,b,k){return b[k-1]},_.Predictor5=function(h,b,k){return it(it(h,b[k+1]),b[k+0])},_.Predictor6=function(h,b,k){return it(h,b[k-1])},_.Predictor7=function(h,b,k){return it(h,b[k+0])},_.Predictor8=function(h,b,k){return it(b[k-1],b[k+0])},_.Predictor9=function(h,b,k){return it(b[k+0],b[k+1])},_.Predictor10=function(h,b,k){return it(it(h,b[k-1]),it(b[k+0],b[k+1]))},_.Predictor11=function(h,b,k){var w=b[k+0];return 0>=bt(w>>24&255,h>>24&255,(b=b[k-1])>>24&255)+bt(w>>16&255,h>>16&255,b>>16&255)+bt(w>>8&255,h>>8&255,b>>8&255)+bt(255&w,255&h,255&b)?w:h},_.Predictor12=function(h,b,k){var w=b[k+0];return(Wt((h>>24&255)+(w>>24&255)-((b=b[k-1])>>24&255))<<24|Wt((h>>16&255)+(w>>16&255)-(b>>16&255))<<16|Wt((h>>8&255)+(w>>8&255)-(b>>8&255))<<8|Wt((255&h)+(255&w)-(255&b)))>>>0},_.Predictor13=function(h,b,k){var w=b[k-1];return(gt((h=it(h,b[k+0]))>>24&255,w>>24&255)<<24|gt(h>>16&255,w>>16&255)<<16|gt(h>>8&255,w>>8&255)<<8|gt(255&h,255&w))>>>0};var _c=_.PredictorAdd0;_.PredictorAdd1=Rt,Me("Predictor2","PredictorAdd2"),Me("Predictor3","PredictorAdd3"),Me("Predictor4","PredictorAdd4"),Me("Predictor5","PredictorAdd5"),Me("Predictor6","PredictorAdd6"),Me("Predictor7","PredictorAdd7"),Me("Predictor8","PredictorAdd8"),Me("Predictor9","PredictorAdd9"),Me("Predictor10","PredictorAdd10"),Me("Predictor11","PredictorAdd11"),Me("Predictor12","PredictorAdd12"),Me("Predictor13","PredictorAdd13");var Io=_.PredictorAdd2;Ye("ColorIndexInverseTransform","MapARGB","32b",function(h){return h>>8&255},function(h){return h}),Ye("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(h){return h},function(h){return h>>8&255});var zs,Zl=_.ColorIndexInverseTransform,Wn=_.MapARGB,Hn=_.VP8LColorIndexInverseTransformAlpha,Uc=_.MapAlpha,Vc=_.VP8LPredictorsAdd=[];Vc.length=16,(_.VP8LPredictors=[]).length=16,(_.VP8LPredictorsAdd_C=[]).length=16,(_.VP8LPredictors_C=[]).length=16;var Lc,Tc,Yi,Ki,Xi,qa,Ji,Ga,xn,qn,ss,ls,$s,tr,bi,Mc,Ro,Ql,fp,hp,pp,gp,bp,yp,Ic,xp,vp,Np,kp=i(511),Dp=i(2041),wp=i(225),Pp=i(767),jp=0,nm=Dp,eu=wp,an=Pp,vn=kp,tu=0,su=1,Cp=2,ru=3,nu=4,im=5,Ep=6,am=7,om=8,iu=9,cm=10,_N=[2,3,7],UN=[3,3,11],Sp=[280,256,256,256,40],VN=[0,1,1,1,0],LN=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],TN=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],MN=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],IN=8,lm=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],um=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Rc=null,RN=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],ON=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Ap=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],FN=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],BN=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],zN=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],$N=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Zi=[],_n=[],yi=[],WN=1,_p=2,Qi=[],Nn=[];qr("UpsampleRgbLinePair",Fa,3),qr("UpsampleBgrLinePair",Ba,3),qr("UpsampleRgbaLinePair",Ec,4),qr("UpsampleBgraLinePair",Cc,4),qr("UpsampleArgbLinePair",$a,4),qr("UpsampleRgba4444LinePair",za,2),qr("UpsampleRgb565LinePair",Dr,2);var HN=_.UpsampleRgbLinePair,qN=_.UpsampleBgrLinePair,Up=_.UpsampleRgbaLinePair,Vp=_.UpsampleBgraLinePair,Lp=_.UpsampleArgbLinePair,Tp=_.UpsampleRgba4444LinePair,GN=_.UpsampleRgb565LinePair,au=16,ou=1<<au-1,Oc=-227,dm=482,YN=6,Mp=0,KN=i(256),XN=i(256),JN=i(256),ZN=i(256),QN=i(dm-Oc),ek=i(dm-Oc);pi("YuvToRgbRow",Fa,3),pi("YuvToBgrRow",Ba,3),pi("YuvToRgbaRow",Ec,4),pi("YuvToBgraRow",Cc,4),pi("YuvToArgbRow",$a,4),pi("YuvToRgba4444Row",za,2),pi("YuvToRgb565Row",Dr,2);var Ip=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],cu=[0,2,8],tk=[8,7,6,4,4,2,2,2,1,1,1,1],sk=1;this.WebPDecodeRGBA=function(h,b,k,w,M){var R=su,z=new be,q=new Yt;z.ba=q,q.S=R,q.width=[q.width],q.height=[q.height];var Y=q.width,X=q.height,de=new mt;if(de==null||h==null)var Ne=2;else e(de!=null),Ne=Wa(h,b,k,de.width,de.height,de.Pd,de.Qd,de.format,null);if(Ne!=0?Y=0:(Y!=null&&(Y[0]=de.width[0]),X!=null&&(X[0]=de.height[0]),Y=1),Y){q.width=q.width[0],q.height=q.height[0],w!=null&&(w[0]=q.width),M!=null&&(M[0]=q.height);e:{if(w=new Sn,(M=new Ee).data=h,M.w=b,M.ha=k,M.kd=1,b=[0],e(M!=null),((h=Wa(M.data,M.w,M.ha,null,null,null,b,null,M))==0||h==7)&&b[0]&&(h=4),(b=h)==0){if(e(z!=null),w.data=M.data,w.w=M.w+M.offset,w.ha=M.ha-M.offset,w.put=ct,w.ac=Tr,w.bc=tn,w.ma=z,M.xa){if((h=Ot())==null){z=1;break e}if((function(J,fe){var ye=[0],je=[0],ve=[0];t:for(;;){if(J==null)return 0;if(fe==null)return J.a=2,0;if(J.l=fe,J.a=0,pe(J.m,fe.data,fe.w,fe.ha),!yr(J.m,ye,je,ve)){J.a=3;break t}if(J.xb=_p,fe.width=ye[0],fe.height=je[0],!Ft(ye[0],je[0],1,J,null))break t;return 1}return e(J.a!=0),0})(h,w)){if(w=(b=Hi(w.width,w.height,z.Oa,z.ba))==0){t:{w=h;s:for(;;){if(w==null){w=0;break t}if(e(w.s.yc!=null),e(w.s.Ya!=null),e(0<w.s.Wb),e((k=w.l)!=null),e((M=k.ma)!=null),w.xb!=0){if(w.ca=M.ba,w.tb=M.tb,e(w.ca!=null),!Sc(M.Oa,k,ru)){w.a=2;break s}if(!hs(w,k.width)||k.da)break s;if((k.da||ht(w.ca.S))&&bn(),11>w.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),w.ca.f.kb.F!=null&&bn()),w.Pb&&0<w.s.ua&&w.s.vb.X==null&&!W(w.s.vb,w.s.Wa.Xa)){w.a=1;break s}w.xb=0}if(!ft(w,w.V,w.Ba,w.c,w.i,k.o,ot))break s;M.Dc=w.Ma,w=1;break t}e(w.a!=0),w=0}w=!w}w&&(b=h.a)}else b=h.a}else{if((h=new Ir)==null){z=1;break e}if(h.Fa=M.na,h.P=M.P,h.qc=M.Sa,zi(h,w)){if((b=Hi(w.width,w.height,z.Oa,z.ba))==0){if(h.Aa=0,k=z.Oa,e((M=h)!=null),k!=null){if(0<(Y=0>(Y=k.Md)?0:100<Y?255:255*Y/100)){for(X=de=0;4>X;++X)12>(Ne=M.pb[X]).lc&&(Ne.ia=Y*tk[0>Ne.lc?0:Ne.lc]>>3),de|=Ne.ia;de&&(alert("todo:VP8InitRandom"),M.ia=1)}M.Ga=k.Id,100<M.Ga?M.Ga=100:0>M.Ga&&(M.Ga=0)}(function(J,fe){if(J==null)return 0;if(fe==null)return bs(J,2,"NULL VP8Io parameter in VP8Decode().");if(!J.cb&&!zi(J,fe))return 0;if(e(J.cb),fe.ac==null||fe.ac(fe)){fe.ob&&(J.L=0);var ye=cu[J.L];if(J.L==2?(J.yb=0,J.zb=0):(J.yb=fe.v-ye>>4,J.zb=fe.j-ye>>4,0>J.yb&&(J.yb=0),0>J.zb&&(J.zb=0)),J.Va=fe.o+15+ye>>4,J.Hb=fe.va+15+ye>>4,J.Hb>J.za&&(J.Hb=J.za),J.Va>J.Ub&&(J.Va=J.Ub),0<J.L){var je=J.ed;for(ye=0;4>ye;++ye){var ve;if(J.Qa.Cb){var Ce=J.Qa.Lb[ye];J.Qa.Fb||(Ce+=je.Tb)}else Ce=je.Tb;for(ve=0;1>=ve;++ve){var Se=J.gd[ye][ve],Te=Ce;if(je.Pc&&(Te+=je.vd[0],ve&&(Te+=je.od[0])),0<(Te=0>Te?0:63<Te?63:Te)){var Ue=Te;0<je.wb&&(Ue=4<je.wb?Ue>>2:Ue>>1)>9-je.wb&&(Ue=9-je.wb),1>Ue&&(Ue=1),Se.dd=Ue,Se.tc=2*Te+Ue,Se.ld=40<=Te?2:15<=Te?1:0}else Se.tc=0;Se.La=ve}}}ye=0}else bs(J,6,"Frame setup failed"),ye=J.a;if(ye=ye==0){if(ye){J.$c=0,0<J.Aa||(J.Ic=sk);t:{ye=J.Ic,je=4*(Ue=J.za);var at=32*Ue,He=Ue+1,Vt=0<J.L?Ue*(0<J.Aa?2:1):0,tt=(J.Aa==2?2:1)*Ue;if((Se=je+832+(ve=3*(16*ye+cu[J.L])/2*at)+(Ce=J.Fa!=null&&0<J.Fa.length?J.Kc.c*J.Kc.i:0))!=Se)ye=0;else{if(Se>J.Vb){if(J.Vb=0,J.Ec=i(Se),J.Fc=0,J.Ec==null){ye=bs(J,1,"no memory during frame initialization.");break t}J.Vb=Se}Se=J.Ec,Te=J.Fc,J.Ac=Se,J.Bc=Te,Te+=je,J.Gd=a(at,Sa),J.Hd=0,J.rb=a(He+1,Mr),J.sb=1,J.wa=Vt?a(Vt,Bs):null,J.Y=0,J.D.Nb=0,J.D.wa=J.wa,J.D.Y=J.Y,0<J.Aa&&(J.D.Y+=Ue),e(!0),J.oc=Se,J.pc=Te,Te+=832,J.ya=a(tt,vr),J.aa=0,J.D.ya=J.ya,J.D.aa=J.aa,J.Aa==2&&(J.D.aa+=Ue),J.R=16*Ue,J.B=8*Ue,Ue=(at=cu[J.L])*J.R,at=at/2*J.B,J.sa=Se,J.ta=Te+Ue,J.qa=J.sa,J.ra=J.ta+16*ye*J.R+at,J.Ha=J.qa,J.Ia=J.ra+8*ye*J.B+at,J.$c=0,Te+=ve,J.mb=Ce?Se:null,J.nb=Ce?Te:null,e(Te+Ce<=J.Fc+J.Vb),An(J),n(J.Ac,J.Bc,0,je),ye=1}}if(ye){if(fe.ka=0,fe.y=J.sa,fe.O=J.ta,fe.f=J.qa,fe.N=J.ra,fe.ea=J.Ha,fe.Vd=J.Ia,fe.fa=J.R,fe.Rc=J.B,fe.F=null,fe.J=0,!jp){for(ye=-255;255>=ye;++ye)kp[255+ye]=0>ye?-ye:ye;for(ye=-1020;1020>=ye;++ye)Dp[1020+ye]=-128>ye?-128:127<ye?127:ye;for(ye=-112;112>=ye;++ye)wp[112+ye]=-16>ye?-16:15<ye?15:ye;for(ye=-255;510>=ye;++ye)Pp[255+ye]=0>ye?0:255<ye?255:ye;jp=1}Ji=K,Ga=Ao,qn=vc,ss=gn,ls=F,xn=_a,$s=Gl,tr=Yl,bi=x,Mc=T,Ro=Ia,Ql=Kl,fp=Q,hp=ce,pp=jc,gp=Ma,bp=Hl,yp=ql,_n[0]=Qd,_n[1]=ke,_n[2]=Jd,_n[3]=Zd,_n[4]=em,_n[5]=mi,_n[6]=di,_n[7]=tm,_n[8]=_o,_n[9]=sm,Zi[0]=Ds,Zi[1]=$e,Zi[2]=Ut,Zi[3]=ks,Zi[4]=Hr,Zi[5]=Ua,Zi[6]=Nc,yi[0]=Vo,yi[1]=Le,yi[2]=kc,yi[3]=Va,yi[4]=Dc,yi[5]=rm,yi[6]=wc,ye=1}else ye=0}ye&&(ye=(function(Gt,sr){for(Gt.M=0;Gt.M<Gt.Va;++Gt.M){var Lt,st=Gt.Jc[Gt.M&Gt.Xb],Oe=Gt.m,Ws=Gt;for(Lt=0;Lt<Ws.za;++Lt){var St=Oe,Kt=Ws,xs=Kt.Ac,hr=Kt.Bc+4*Lt,Rr=Kt.zc,Ts=Kt.ya[Kt.aa+Lt];if(Kt.Qa.Bb?Ts.$b=ge(St,Kt.Pa.jb[0])?2+ge(St,Kt.Pa.jb[2]):ge(St,Kt.Pa.jb[1]):Ts.$b=0,Kt.kc&&(Ts.Ad=ge(St,Kt.Bd)),Ts.Za=!ge(St,145)+0,Ts.Za){var wr=Ts.Ob,Or=0;for(Kt=0;4>Kt;++Kt){var rr,Xt=Rr[0+Kt];for(rr=0;4>rr;++rr){Xt=BN[xs[hr+rr]][Xt];for(var is=Ap[ge(St,Xt[0])];0<is;)is=Ap[2*is+ge(St,Xt[is])];Xt=-is,xs[hr+rr]=Xt}r(wr,Or,xs,hr,4),Or+=4,Rr[0+Kt]=Xt}}else Xt=ge(St,156)?ge(St,128)?1:3:ge(St,163)?2:0,Ts.Ob[0]=Xt,n(xs,hr,Xt,4),n(Rr,0,Xt,4);Ts.Dd=ge(St,142)?ge(St,114)?ge(St,183)?1:3:2:0}if(Ws.m.Ka)return bs(Gt,7,"Premature end-of-partition0 encountered.");for(;Gt.ja<Gt.za;++Gt.ja){if(Ws=st,St=(Oe=Gt).rb[Oe.sb-1],xs=Oe.rb[Oe.sb+Oe.ja],Lt=Oe.ya[Oe.aa+Oe.ja],hr=Oe.kc?Lt.Ad:0)St.la=xs.la=0,Lt.Za||(St.Na=xs.Na=0),Lt.Hc=0,Lt.Gc=0,Lt.ia=0;else{var Ms,as;if(St=xs,xs=Ws,hr=Oe.Pa.Xc,Rr=Oe.ya[Oe.aa+Oe.ja],Ts=Oe.pb[Rr.$b],Kt=Rr.ad,wr=0,Or=Oe.rb[Oe.sb-1],Xt=rr=0,n(Kt,wr,0,384),Rr.Za)var pr=0,Un=hr[3];else{is=i(16);var Hs=St.Na+Or.Na;if(Hs=Rc(xs,hr[1],Hs,Ts.Eb,0,is,0),St.Na=Or.Na=(0<Hs)+0,1<Hs)Ji(is,0,Kt,wr);else{var Gr=is[0]+3>>3;for(is=0;256>is;is+=16)Kt[wr+is]=Gr}pr=1,Un=hr[0]}var us=15&St.la,nr=15&Or.la;for(is=0;4>is;++is){var on=1&nr;for(Gr=as=0;4>Gr;++Gr)us=us>>1|(on=(Hs=Rc(xs,Un,Hs=on+(1&us),Ts.Sc,pr,Kt,wr))>pr)<<7,as=as<<2|(3<Hs?3:1<Hs?2:Kt[wr+0]!=0),wr+=16;us>>=4,nr=nr>>1|on<<7,rr=(rr<<8|as)>>>0}for(Un=us,pr=nr>>4,Ms=0;4>Ms;Ms+=2){for(as=0,us=St.la>>4+Ms,nr=Or.la>>4+Ms,is=0;2>is;++is){for(on=1&nr,Gr=0;2>Gr;++Gr)Hs=on+(1&us),us=us>>1|(on=0<(Hs=Rc(xs,hr[2],Hs,Ts.Qc,0,Kt,wr)))<<3,as=as<<2|(3<Hs?3:1<Hs?2:Kt[wr+0]!=0),wr+=16;us>>=2,nr=nr>>1|on<<5}Xt|=as<<4*Ms,Un|=us<<4<<Ms,pr|=(240&nr)<<Ms}St.la=Un,Or.la=pr,Rr.Hc=rr,Rr.Gc=Xt,Rr.ia=43690&Xt?0:Ts.ia,hr=!(rr|Xt)}if(0<Oe.L&&(Oe.wa[Oe.Y+Oe.ja]=Oe.gd[Lt.$b][Lt.Za],Oe.wa[Oe.Y+Oe.ja].La|=!hr),Ws.Ka)return bs(Gt,7,"Premature end-of-file encountered.")}if(An(Gt),Oe=sr,Ws=1,Lt=(st=Gt).D,St=0<st.L&&st.M>=st.zb&&st.M<=st.Va,st.Aa==0)t:{if(Lt.M=st.M,Lt.uc=St,yn(st,Lt),Ws=1,Lt=(as=st.D).Nb,St=(Xt=cu[st.L])*st.R,xs=Xt/2*st.B,is=16*Lt*st.R,Gr=8*Lt*st.B,hr=st.sa,Rr=st.ta-St+is,Ts=st.qa,Kt=st.ra-xs+Gr,wr=st.Ha,Or=st.Ia-xs+Gr,nr=(us=as.M)==0,rr=us>=st.Va-1,st.Aa==2&&yn(st,as),as.uc)for(on=(Hs=st).D.M,e(Hs.D.uc),as=Hs.yb;as<Hs.Hb;++as){pr=as,Un=on;var Fr=(cn=(gr=Hs).D).Nb;Ms=gr.R;var cn=cn.wa[cn.Y+pr],ln=gr.sa,Yr=gr.ta+16*Fr*Ms+16*pr,un=cn.dd,gs=cn.tc;if(gs!=0)if(e(3<=gs),gr.L==1)0<pr&&gp(ln,Yr,Ms,gs+4),cn.La&&yp(ln,Yr,Ms,gs),0<Un&&pp(ln,Yr,Ms,gs+4),cn.La&&bp(ln,Yr,Ms,gs);else{var dn=gr.B,Vn=gr.qa,Ya=gr.ra+8*Fr*dn+8*pr,xi=gr.Ha,gr=gr.Ia+8*Fr*dn+8*pr;Fr=cn.ld,0<pr&&(tr(ln,Yr,Ms,gs+4,un,Fr),Mc(Vn,Ya,xi,gr,dn,gs+4,un,Fr)),cn.La&&(Ql(ln,Yr,Ms,gs,un,Fr),hp(Vn,Ya,xi,gr,dn,gs,un,Fr)),0<Un&&($s(ln,Yr,Ms,gs+4,un,Fr),bi(Vn,Ya,xi,gr,dn,gs+4,un,Fr)),cn.La&&(Ro(ln,Yr,Ms,gs,un,Fr),fp(Vn,Ya,xi,gr,dn,gs,un,Fr))}}if(st.ia&&alert("todo:DitherRow"),Oe.put!=null){if(as=16*us,us=16*(us+1),nr?(Oe.y=st.sa,Oe.O=st.ta+is,Oe.f=st.qa,Oe.N=st.ra+Gr,Oe.ea=st.Ha,Oe.W=st.Ia+Gr):(as-=Xt,Oe.y=hr,Oe.O=Rr,Oe.f=Ts,Oe.N=Kt,Oe.ea=wr,Oe.W=Or),rr||(us-=Xt),us>Oe.o&&(us=Oe.o),Oe.F=null,Oe.J=null,st.Fa!=null&&0<st.Fa.length&&as<us&&(Oe.J=Js(st,Oe,as,us-as),Oe.F=st.mb,Oe.F==null&&Oe.F.length==0)){Ws=bs(st,3,"Could not decode alpha data.");break t}as<Oe.j&&(Xt=Oe.j-as,as=Oe.j,e(!(1&Xt)),Oe.O+=st.R*Xt,Oe.N+=st.B*(Xt>>1),Oe.W+=st.B*(Xt>>1),Oe.F!=null&&(Oe.J+=Oe.width*Xt)),as<us&&(Oe.O+=Oe.v,Oe.N+=Oe.v>>1,Oe.W+=Oe.v>>1,Oe.F!=null&&(Oe.J+=Oe.v),Oe.ka=as-Oe.j,Oe.U=Oe.va-Oe.v,Oe.T=us-as,Ws=Oe.put(Oe))}Lt+1!=st.Ic||rr||(r(st.sa,st.ta-St,hr,Rr+16*st.R,St),r(st.qa,st.ra-xs,Ts,Kt+8*st.B,xs),r(st.Ha,st.Ia-xs,wr,Or+8*st.B,xs))}if(!Ws)return bs(Gt,6,"Output aborted.")}return 1})(J,fe)),fe.bc!=null&&fe.bc(fe),ye&=1}return ye?(J.cb=0,ye):0})(h,w)||(b=h.a)}}else b=h.a}b==0&&z.Oa!=null&&z.Oa.fd&&(b=Ac(z.ba))}z=b}R=z!=0?null:11>R?q.f.RGBA.eb:q.f.kb.y}else R=null;return R};var Rp=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(_,O){for(var S="",L=0;L<4;L++)S+=String.fromCharCode(_[O++]);return S}function d(_,O){return _[O+0]|_[O+1]<<8}function m(_,O){return(_[O+0]|_[O+1]<<8|_[O+2]<<16)>>>0}function p(_,O){return(_[O+0]|_[O+1]<<8|_[O+2]<<16|_[O+3]<<24)>>>0}new l;var f=[0],g=[0],y=[],v=new l,N=s,D=(function(_,O){var S={},L=0,B=!1,$=0,Z=0;if(S.frames=[],!(function(U,H){for(var G=0;G<4;G++)if(U[H+G]!="RIFF".charCodeAt(G))return!0;return!1})(_,O)){for(p(_,O+=4),O+=8;O<_.length;){var re=u(_,O),le=p(_,O+=4);O+=4;var ee=le+(1&le);switch(re){case"VP8 ":case"VP8L":S.frames[L]===void 0&&(S.frames[L]={}),(te=S.frames[L]).src_off=B?Z:O-8,te.src_size=$+le+8,L++,B&&(B=!1,$=0,Z=0);break;case"VP8X":(te=S.header={}).feature_flags=_[O];var pe=O+4;te.canvas_width=1+m(_,pe),pe+=3,te.canvas_height=1+m(_,pe),pe+=3;break;case"ALPH":B=!0,$=ee+8,Z=O-8;break;case"ANIM":(te=S.header).bgcolor=p(_,O),pe=O+4,te.loop_count=d(_,pe),pe+=2;break;case"ANMF":var ue,te;(te=S.frames[L]={}).offset_x=2*m(_,O),O+=3,te.offset_y=2*m(_,O),O+=3,te.width=1+m(_,O),O+=3,te.height=1+m(_,O),O+=3,te.duration=m(_,O),O+=3,ue=_[O++],te.dispose=1&ue,te.blend=ue>>1&1}re!="ANMF"&&(O+=ee)}return S}})(N,0);D.response=N,D.rgbaoutput=!0,D.dataurl=!1;var j=D.header?D.header:null,C=D.frames?D.frames:null;if(j){j.loop_counter=j.loop_count,f=[j.canvas_height],g=[j.canvas_width];for(var E=0;E<C.length&&C[E].blend!=0;E++);}var A=C[0],V=v.WebPDecodeRGBA(N,A.src_off,A.src_size,g,f);A.rgba=V,A.imgwidth=g[0],A.imgheight=f[0];for(var P=0;P<g[0]*f[0]*4;P++)y[P]=V[P];return this.width=g,this.height=f,this.data=y,this}(function(s){var e,t,r,n,i,a,o,l,u,d=function(U){return U=U||{},this.isStrokeTransparent=U.isStrokeTransparent||!1,this.strokeOpacity=U.strokeOpacity||1,this.strokeStyle=U.strokeStyle||"#000000",this.fillStyle=U.fillStyle||"#000000",this.isFillTransparent=U.isFillTransparent||!1,this.fillOpacity=U.fillOpacity||1,this.font=U.font||"10px sans-serif",this.textBaseline=U.textBaseline||"alphabetic",this.textAlign=U.textAlign||"left",this.lineWidth=U.lineWidth||1,this.lineJoin=U.lineJoin||"miter",this.lineCap=U.lineCap||"butt",this.path=U.path||[],this.transform=U.transform!==void 0?U.transform.clone():new l,this.globalCompositeOperation=U.globalCompositeOperation||"normal",this.globalAlpha=U.globalAlpha||1,this.clip_path=U.clip_path||[],this.currentPoint=U.currentPoint||new a,this.miterLimit=U.miterLimit||10,this.lastPoint=U.lastPoint||new a,this.lineDashOffset=U.lineDashOffset||0,this.lineDash=U.lineDash||[],this.margin=U.margin||[0,0,0,0],this.prevPageLastElemOffset=U.prevPageLastElemOffset||0,this.ignoreClearRect=typeof U.ignoreClearRect!="boolean"||U.ignoreClearRect,this};s.events.push(["initialized",function(){this.context2d=new m(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,n=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,u=new d}]);var m=function(U){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var H=U;Object.defineProperty(this,"pdf",{get:function(){return H}});var G=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return G},set:function(De){G=!!De}});var se=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return se},set:function(De){se=!!De}});var ne=0;Object.defineProperty(this,"posX",{get:function(){return ne},set:function(De){isNaN(De)||(ne=De)}});var ae=0;Object.defineProperty(this,"posY",{get:function(){return ae},set:function(De){isNaN(De)||(ae=De)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(De){var W;typeof De=="number"?W=[De,De,De,De]:((W=new Array(4))[0]=De[0],W[1]=De.length>=2?De[1]:W[0],W[2]=De.length>=3?De[2]:W[0],W[3]=De.length>=4?De[3]:W[1]),u.margin=W}});var he=!1;Object.defineProperty(this,"autoPaging",{get:function(){return he},set:function(De){he=De}});var me=0;Object.defineProperty(this,"lastBreak",{get:function(){return me},set:function(De){me=De}});var ge=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ge},set:function(De){ge=De}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(De){De instanceof d&&(u=De)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(De){u.path=De}});var Pe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Pe},set:function(De){Pe=De}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(De){var W;W=p(De),this.ctx.fillStyle=W.style,this.ctx.isFillTransparent=W.a===0,this.ctx.fillOpacity=W.a,this.pdf.setFillColor(W.r,W.g,W.b,{a:W.a}),this.pdf.setTextColor(W.r,W.g,W.b,{a:W.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(De){var W=p(De);this.ctx.strokeStyle=W.style,this.ctx.isStrokeTransparent=W.a===0,this.ctx.strokeOpacity=W.a,W.a===0?this.pdf.setDrawColor(255,255,255):(W.a,this.pdf.setDrawColor(W.r,W.g,W.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(De){["butt","round","square"].indexOf(De)!==-1&&(this.ctx.lineCap=De,this.pdf.setLineCap(De))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(De){isNaN(De)||(this.ctx.lineWidth=De,this.pdf.setLineWidth(De))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(De){["bevel","round","miter"].indexOf(De)!==-1&&(this.ctx.lineJoin=De,this.pdf.setLineJoin(De))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(De){isNaN(De)||(this.ctx.miterLimit=De,this.pdf.setMiterLimit(De))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(De){this.ctx.textBaseline=De}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(De){["right","end","center","left","start"].indexOf(De)!==-1&&(this.ctx.textAlign=De)}});var xe=null,Ie=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ie},set:function(De){xe=null,Ie=De}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(De){var W;if(this.ctx.font=De,(W=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(De))!==null){var we=W[1];W[2];var rt=W[3],Ge=W[4];W[5];var _e=W[6],ze=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ge)[2];Ge=Math.floor(ze==="px"?parseFloat(Ge)*this.pdf.internal.scaleFactor:ze==="em"?parseFloat(Ge)*this.pdf.getFontSize():parseFloat(Ge)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ge);var Me=(function(dt){var Ye,Jt,Ht=[],Qe=dt.trim();if(Qe==="")return Tf;if(Qe in $y)return[$y[Qe]];for(;Qe!=="";){switch(Jt=null,Ye=(Qe=Hy(Qe)).charAt(0)){case'"':case"'":Jt=GV(Qe.substring(1),Ye);break;default:Jt=YV(Qe)}if(Jt===null||(Ht.push(Jt[0]),(Qe=Hy(Jt[1]))!==""&&Qe.charAt(0)!==","))return Tf;Qe=Qe.replace(/^,/,"")}return Ht})(_e);if(this.fontFaces){var ut=(function(dt,Ye){if(xe===null){var Jt=(function(Ht){var Qe=[];return Object.keys(Ht).forEach(function(Nt){Ht[Nt].forEach(function(es){var lt=null;switch(es){case"bold":lt={family:Nt,weight:"bold"};break;case"italic":lt={family:Nt,style:"italic"};break;case"bolditalic":lt={family:Nt,weight:"bold",style:"italic"};break;case"":case"normal":lt={family:Nt}}lt!==null&&(lt.ref={name:Nt,style:es},Qe.push(lt))})}),Qe})(dt.getFontList());xe=(function(Ht){for(var Qe={},Nt=0;Nt<Ht.length;++Nt){var es=Lf(Ht[Nt]),lt=es.family,At=es.stretch,ht=es.style,fs=es.weight;Qe[lt]=Qe[lt]||{},Qe[lt][At]=Qe[lt][At]||{},Qe[lt][At][ht]=Qe[lt][At][ht]||{},Qe[lt][At][ht][fs]=es}return Qe})(Jt.concat(Ye))}return xe})(this.pdf,this.fontFaces),it=Me.map(function(dt){return{family:dt,stretch:"normal",weight:rt,style:we}}),Wt=(function(dt,Ye,Jt){for(var Ht=(Jt=Jt||{}).defaultFontFamily||"times",Qe=Object.assign({},qV,Jt.genericFontFamilies||{}),Nt=null,es=null,lt=0;lt<Ye.length;++lt)if(Qe[(Nt=Lf(Ye[lt])).family]&&(Nt.family=Qe[Nt.family]),dt.hasOwnProperty(Nt.family)){es=dt[Nt.family];break}if(!(es=es||dt[Ht]))throw new Error("Could not find a font-family for the rule '"+Wy(Nt)+"' and default family '"+Ht+"'.");if(es=(function(At,ht){if(ht[At])return ht[At];var fs=Dh[At],ns=fs<=Dh.normal?-1:1,Yt=zy(ht,xN,fs,ns);if(!Yt)throw new Error("Could not find a matching font-stretch value for "+At);return Yt})(Nt.stretch,es),es=(function(At,ht){if(ht[At])return ht[At];for(var fs=yN[At],ns=0;ns<fs.length;++ns)if(ht[fs[ns]])return ht[fs[ns]];throw new Error("Could not find a matching font-style for "+At)})(Nt.style,es),!(es=(function(At,ht){if(ht[At])return ht[At];if(At===400&&ht[500])return ht[500];if(At===500&&ht[400])return ht[400];var fs=HV[At],ns=zy(ht,vN,fs,At<400?-1:1);if(!ns)throw new Error("Could not find a matching font-weight for value "+At);return ns})(Nt.weight,es)))throw new Error("Failed to resolve a font for the rule '"+Wy(Nt)+"'.");return es})(ut,it);this.pdf.setFont(Wt.ref.name,Wt.ref.style)}else{var gt="";(rt==="bold"||parseInt(rt,10)>=700||we==="bold")&&(gt="bold"),we==="italic"&&(gt+="italic"),gt.length===0&&(gt="normal");for(var bt="",Rt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},vt=0;vt<Me.length;vt++){if(this.pdf.internal.getFont(Me[vt],gt,{noFallback:!0,disableWarning:!0})!==void 0){bt=Me[vt];break}if(gt==="bolditalic"&&this.pdf.internal.getFont(Me[vt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)bt=Me[vt],gt="bold";else if(this.pdf.internal.getFont(Me[vt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){bt=Me[vt],gt="normal";break}}if(bt===""){for(var et=0;et<Me.length;et++)if(Rt[Me[et]]){bt=Rt[Me[et]];break}}bt=bt===""?"Times":bt,this.pdf.setFont(bt,gt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(De){this.ctx.globalCompositeOperation=De}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(De){this.ctx.globalAlpha=De}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(De){this.ctx.lineDashOffset=De,te.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(De){this.ctx.lineDash=De,te.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(De){this.ctx.ignoreClearRect=!!De}})};m.prototype.setLineDash=function(U){this.lineDash=U},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){C.call(this,"fill",!1)},m.prototype.stroke=function(){C.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(U,H){if(isNaN(U)||isNaN(H))throw ms.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var G=this.ctx.transform.applyToPoint(new a(U,H));this.path.push({type:"mt",x:G.x,y:G.y}),this.ctx.lastPoint=new a(U,H)},m.prototype.closePath=function(){var U=new a(0,0),H=0;for(H=this.path.length-1;H!==-1;H--)if(this.path[H].type==="begin"&&os(this.path[H+1])==="object"&&typeof this.path[H+1].x=="number"){U=new a(this.path[H+1].x,this.path[H+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(U.x,U.y)},m.prototype.lineTo=function(U,H){if(isNaN(U)||isNaN(H))throw ms.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var G=this.ctx.transform.applyToPoint(new a(U,H));this.path.push({type:"lt",x:G.x,y:G.y}),this.ctx.lastPoint=new a(G.x,G.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),C.call(this,null,!0)},m.prototype.quadraticCurveTo=function(U,H,G,se){if(isNaN(G)||isNaN(se)||isNaN(U)||isNaN(H))throw ms.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ne=this.ctx.transform.applyToPoint(new a(G,se)),ae=this.ctx.transform.applyToPoint(new a(U,H));this.path.push({type:"qct",x1:ae.x,y1:ae.y,x:ne.x,y:ne.y}),this.ctx.lastPoint=new a(ne.x,ne.y)},m.prototype.bezierCurveTo=function(U,H,G,se,ne,ae){if(isNaN(ne)||isNaN(ae)||isNaN(U)||isNaN(H)||isNaN(G)||isNaN(se))throw ms.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var he=this.ctx.transform.applyToPoint(new a(ne,ae)),me=this.ctx.transform.applyToPoint(new a(U,H)),ge=this.ctx.transform.applyToPoint(new a(G,se));this.path.push({type:"bct",x1:me.x,y1:me.y,x2:ge.x,y2:ge.y,x:he.x,y:he.y}),this.ctx.lastPoint=new a(he.x,he.y)},m.prototype.arc=function(U,H,G,se,ne,ae){if(isNaN(U)||isNaN(H)||isNaN(G)||isNaN(se)||isNaN(ne))throw ms.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ae=!!ae,!this.ctx.transform.isIdentity){var he=this.ctx.transform.applyToPoint(new a(U,H));U=he.x,H=he.y;var me=this.ctx.transform.applyToPoint(new a(0,G)),ge=this.ctx.transform.applyToPoint(new a(0,0));G=Math.sqrt(Math.pow(me.x-ge.x,2)+Math.pow(me.y-ge.y,2))}Math.abs(ne-se)>=2*Math.PI&&(se=0,ne=2*Math.PI),this.path.push({type:"arc",x:U,y:H,radius:G,startAngle:se,endAngle:ne,counterclockwise:ae})},m.prototype.arcTo=function(U,H,G,se,ne){throw new Error("arcTo not implemented.")},m.prototype.rect=function(U,H,G,se){if(isNaN(U)||isNaN(H)||isNaN(G)||isNaN(se))throw ms.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(U,H),this.lineTo(U+G,H),this.lineTo(U+G,H+se),this.lineTo(U,H+se),this.lineTo(U,H),this.lineTo(U+G,H),this.lineTo(U,H)},m.prototype.fillRect=function(U,H,G,se){if(isNaN(U)||isNaN(H)||isNaN(G)||isNaN(se))throw ms.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var ne={};this.lineCap!=="butt"&&(ne.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ne.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(U,H,G,se),this.fill(),ne.hasOwnProperty("lineCap")&&(this.lineCap=ne.lineCap),ne.hasOwnProperty("lineJoin")&&(this.lineJoin=ne.lineJoin)}},m.prototype.strokeRect=function(U,H,G,se){if(isNaN(U)||isNaN(H)||isNaN(G)||isNaN(se))throw ms.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(U,H,G,se),this.stroke())},m.prototype.clearRect=function(U,H,G,se){if(isNaN(U)||isNaN(H)||isNaN(G)||isNaN(se))throw ms.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(U,H,G,se))},m.prototype.save=function(U){U=typeof U!="boolean"||U;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("q");if(this.pdf.setPage(H),U){this.ctx.fontSize=this.pdf.internal.getFontSize();var se=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=se}},m.prototype.restore=function(U){U=typeof U!="boolean"||U;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("Q");this.pdf.setPage(H),U&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(U){var H,G,se,ne;if(U.isCanvasGradient===!0&&(U=U.getColor()),!U)return{r:0,g:0,b:0,a:0,style:U};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(U))H=0,G=0,se=0,ne=0;else{var ae=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(U);if(ae!==null)H=parseInt(ae[1]),G=parseInt(ae[2]),se=parseInt(ae[3]),ne=1;else if((ae=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(U))!==null)H=parseInt(ae[1]),G=parseInt(ae[2]),se=parseInt(ae[3]),ne=parseFloat(ae[4]);else{if(ne=1,typeof U=="string"&&U.charAt(0)!=="#"){var he=new dN(U);U=he.ok?he.toHex():"#000000"}U.length===4?(H=U.substring(1,2),H+=H,G=U.substring(2,3),G+=G,se=U.substring(3,4),se+=se):(H=U.substring(1,3),G=U.substring(3,5),se=U.substring(5,7)),H=parseInt(H,16),G=parseInt(G,16),se=parseInt(se,16)}}return{r:H,g:G,b:se,a:ne,style:U}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(U,H,G,se){if(isNaN(H)||isNaN(G)||typeof U!="string")throw ms.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(se=isNaN(se)?void 0:se,!f.call(this)){var ne=ee(this.ctx.transform.rotation),ae=this.ctx.transform.scaleX;L.call(this,{text:U,x:H,y:G,scale:ae,angle:ne,align:this.textAlign,maxWidth:se})}},m.prototype.strokeText=function(U,H,G,se){if(isNaN(H)||isNaN(G)||typeof U!="string")throw ms.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){se=isNaN(se)?void 0:se;var ne=ee(this.ctx.transform.rotation),ae=this.ctx.transform.scaleX;L.call(this,{text:U,x:H,y:G,scale:ae,renderingMode:"stroke",angle:ne,align:this.textAlign,maxWidth:se})}},m.prototype.measureText=function(U){if(typeof U!="string")throw ms.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var H=this.pdf,G=this.pdf.internal.scaleFactor,se=H.internal.getFontSize(),ne=H.getStringUnitWidth(U)*se/H.internal.scaleFactor;return new function(ae){var he=(ae=ae||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return he}}),this}({width:ne*=Math.round(96*G/72*1e4)/1e4})},m.prototype.scale=function(U,H){if(isNaN(U)||isNaN(H))throw ms.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var G=new l(U,0,0,H,0,0);this.ctx.transform=this.ctx.transform.multiply(G)},m.prototype.rotate=function(U){if(isNaN(U))throw ms.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var H=new l(Math.cos(U),Math.sin(U),-Math.sin(U),Math.cos(U),0,0);this.ctx.transform=this.ctx.transform.multiply(H)},m.prototype.translate=function(U,H){if(isNaN(U)||isNaN(H))throw ms.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var G=new l(1,0,0,1,U,H);this.ctx.transform=this.ctx.transform.multiply(G)},m.prototype.transform=function(U,H,G,se,ne,ae){if(isNaN(U)||isNaN(H)||isNaN(G)||isNaN(se)||isNaN(ne)||isNaN(ae))throw ms.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var he=new l(U,H,G,se,ne,ae);this.ctx.transform=this.ctx.transform.multiply(he)},m.prototype.setTransform=function(U,H,G,se,ne,ae){U=isNaN(U)?1:U,H=isNaN(H)?0:H,G=isNaN(G)?0:G,se=isNaN(se)?1:se,ne=isNaN(ne)?0:ne,ae=isNaN(ae)?0:ae,this.ctx.transform=new l(U,H,G,se,ne,ae)};var y=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(U,H,G,se,ne,ae,he,me,ge){var Pe=this.pdf.getImageProperties(U),xe=1,Ie=1,De=1,W=1;se!==void 0&&me!==void 0&&(De=me/se,W=ge/ne,xe=Pe.width/se*me/se,Ie=Pe.height/ne*ge/ne),ae===void 0&&(ae=H,he=G,H=0,G=0),se!==void 0&&me===void 0&&(me=se,ge=ne),se===void 0&&me===void 0&&(me=Pe.width,ge=Pe.height);for(var we,rt=this.ctx.transform.decompose(),Ge=ee(rt.rotate.shx),_e=new l,ze=(_e=(_e=(_e=_e.multiply(rt.translate)).multiply(rt.skew)).multiply(rt.scale)).applyToRectangle(new o(ae-H*De,he-G*W,se*xe,ne*Ie)),Me=v.call(this,ze),ut=[],it=0;it<Me.length;it+=1)ut.indexOf(Me[it])===-1&&ut.push(Me[it]);if(j(ut),this.autoPaging)for(var Wt=ut[0],gt=ut[ut.length-1],bt=Wt;bt<gt+1;bt++){this.pdf.setPage(bt);var Rt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],vt=bt===1?this.posY+this.margin[0]:this.margin[0],et=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],dt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ye=bt===1?0:et+(bt-2)*dt;if(this.ctx.clip_path.length!==0){var Jt=this.path;we=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D(we,this.posX+this.margin[3],-Ye+vt+this.ctx.prevPageLastElemOffset),E.call(this,"fill",!0),this.path=Jt}var Ht=JSON.parse(JSON.stringify(ze));Ht=D([Ht],this.posX+this.margin[3],-Ye+vt+this.ctx.prevPageLastElemOffset)[0];var Qe=(bt>Wt||bt<gt)&&y.call(this);Qe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Rt,dt,null).clip().discardPath()),this.pdf.addImage(U,"JPEG",Ht.x,Ht.y,Ht.w,Ht.h,null,null,Ge),Qe&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(U,"JPEG",ze.x,ze.y,ze.w,ze.h,null,null,Ge)};var v=function(U,H,G){var se=[];H=H||this.pdf.internal.pageSize.width,G=G||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ne=this.posY+this.ctx.prevPageLastElemOffset;switch(U.type){default:case"mt":case"lt":se.push(Math.floor((U.y+ne)/G)+1);break;case"arc":se.push(Math.floor((U.y+ne-U.radius)/G)+1),se.push(Math.floor((U.y+ne+U.radius)/G)+1);break;case"qct":var ae=pe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x,U.y);se.push(Math.floor((ae.y+ne)/G)+1),se.push(Math.floor((ae.y+ae.h+ne)/G)+1);break;case"bct":var he=ue(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x2,U.y2,U.x,U.y);se.push(Math.floor((he.y+ne)/G)+1),se.push(Math.floor((he.y+he.h+ne)/G)+1);break;case"rect":se.push(Math.floor((U.y+ne)/G)+1),se.push(Math.floor((U.y+U.h+ne)/G)+1)}for(var me=0;me<se.length;me+=1)for(;this.pdf.internal.getNumberOfPages()<se[me];)N.call(this);return se},N=function(){var U=this.fillStyle,H=this.strokeStyle,G=this.font,se=this.lineCap,ne=this.lineWidth,ae=this.lineJoin;this.pdf.addPage(),this.fillStyle=U,this.strokeStyle=H,this.font=G,this.lineCap=se,this.lineWidth=ne,this.lineJoin=ae},D=function(U,H,G){for(var se=0;se<U.length;se++)switch(U[se].type){case"bct":U[se].x2+=H,U[se].y2+=G;case"qct":U[se].x1+=H,U[se].y1+=G;default:U[se].x+=H,U[se].y+=G}return U},j=function(U){return U.sort(function(H,G){return H-G})},C=function(U,H){for(var G,se,ne=this.fillStyle,ae=this.strokeStyle,he=this.lineCap,me=this.lineWidth,ge=Math.abs(me*this.ctx.transform.scaleX),Pe=this.lineJoin,xe=JSON.parse(JSON.stringify(this.path)),Ie=JSON.parse(JSON.stringify(this.path)),De=[],W=0;W<Ie.length;W++)if(Ie[W].x!==void 0)for(var we=v.call(this,Ie[W]),rt=0;rt<we.length;rt+=1)De.indexOf(we[rt])===-1&&De.push(we[rt]);for(var Ge=0;Ge<De.length;Ge++)for(;this.pdf.internal.getNumberOfPages()<De[Ge];)N.call(this);if(j(De),this.autoPaging)for(var _e=De[0],ze=De[De.length-1],Me=_e;Me<ze+1;Me++){this.pdf.setPage(Me),this.fillStyle=ne,this.strokeStyle=ae,this.lineCap=he,this.lineWidth=ge,this.lineJoin=Pe;var ut=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],it=Me===1?this.posY+this.margin[0]:this.margin[0],Wt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],gt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],bt=Me===1?0:Wt+(Me-2)*gt;if(this.ctx.clip_path.length!==0){var Rt=this.path;G=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D(G,this.posX+this.margin[3],-bt+it+this.ctx.prevPageLastElemOffset),E.call(this,U,!0),this.path=Rt}if(se=JSON.parse(JSON.stringify(xe)),this.path=D(se,this.posX+this.margin[3],-bt+it+this.ctx.prevPageLastElemOffset),H===!1||Me===0){var vt=(Me>_e||Me<ze)&&y.call(this);vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ut,gt,null).clip().discardPath()),E.call(this,U,H),vt&&this.pdf.restoreGraphicsState()}this.lineWidth=me}else this.lineWidth=ge,E.call(this,U,H),this.lineWidth=me;this.path=xe},E=function(U,H){if((U!=="stroke"||H||!g.call(this))&&(U==="stroke"||H||!f.call(this))){for(var G,se,ne=[],ae=this.path,he=0;he<ae.length;he++){var me=ae[he];switch(me.type){case"begin":ne.push({begin:!0});break;case"close":ne.push({close:!0});break;case"mt":ne.push({start:me,deltas:[],abs:[]});break;case"lt":var ge=ne.length;if(ae[he-1]&&!isNaN(ae[he-1].x)&&(G=[me.x-ae[he-1].x,me.y-ae[he-1].y],ge>0)){for(;ge>=0;ge--)if(ne[ge-1].close!==!0&&ne[ge-1].begin!==!0){ne[ge-1].deltas.push(G),ne[ge-1].abs.push(me);break}}break;case"bct":G=[me.x1-ae[he-1].x,me.y1-ae[he-1].y,me.x2-ae[he-1].x,me.y2-ae[he-1].y,me.x-ae[he-1].x,me.y-ae[he-1].y],ne[ne.length-1].deltas.push(G);break;case"qct":var Pe=ae[he-1].x+2/3*(me.x1-ae[he-1].x),xe=ae[he-1].y+2/3*(me.y1-ae[he-1].y),Ie=me.x+2/3*(me.x1-me.x),De=me.y+2/3*(me.y1-me.y),W=me.x,we=me.y;G=[Pe-ae[he-1].x,xe-ae[he-1].y,Ie-ae[he-1].x,De-ae[he-1].y,W-ae[he-1].x,we-ae[he-1].y],ne[ne.length-1].deltas.push(G);break;case"arc":ne.push({deltas:[],abs:[],arc:!0}),Array.isArray(ne[ne.length-1].abs)&&ne[ne.length-1].abs.push(me)}}se=H?null:U==="stroke"?"stroke":"fill";for(var rt=!1,Ge=0;Ge<ne.length;Ge++)if(ne[Ge].arc)for(var _e=ne[Ge].abs,ze=0;ze<_e.length;ze++){var Me=_e[ze];Me.type==="arc"?P.call(this,Me.x,Me.y,Me.radius,Me.startAngle,Me.endAngle,Me.counterclockwise,void 0,H,!rt):B.call(this,Me.x,Me.y),rt=!0}else if(ne[Ge].close===!0)this.pdf.internal.out("h"),rt=!1;else if(ne[Ge].begin!==!0){var ut=ne[Ge].start.x,it=ne[Ge].start.y;$.call(this,ne[Ge].deltas,ut,it),rt=!0}se&&_.call(this,se),H&&O.call(this)}},A=function(U){var H=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,G=H*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return U-G;case"top":return U+H-G;case"hanging":return U+H-2*G;case"middle":return U+H/2-G;default:return U}},V=function(U){return U+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var U=function(){};return U.colorStops=[],U.addColorStop=function(H,G){this.colorStops.push([H,G])},U.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},U.isCanvasGradient=!0,U},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var P=function(U,H,G,se,ne,ae,he,me,ge){for(var Pe=re.call(this,G,se,ne,ae),xe=0;xe<Pe.length;xe++){var Ie=Pe[xe];xe===0&&(ge?S.call(this,Ie.x1+U,Ie.y1+H):B.call(this,Ie.x1+U,Ie.y1+H)),Z.call(this,U,H,Ie.x2,Ie.y2,Ie.x3,Ie.y3,Ie.x4,Ie.y4)}me?O.call(this):_.call(this,he)},_=function(U){switch(U){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},O=function(){this.pdf.clip(),this.pdf.discardPath()},S=function(U,H){this.pdf.internal.out(t(U)+" "+r(H)+" m")},L=function(U){var H;switch(U.align){case"right":case"end":H="right";break;case"center":H="center";break;default:H="left"}var G=this.pdf.getTextDimensions(U.text),se=A.call(this,U.y),ne=V.call(this,se)-G.h,ae=this.ctx.transform.applyToPoint(new a(U.x,se)),he=this.ctx.transform.decompose(),me=new l;me=(me=(me=me.multiply(he.translate)).multiply(he.skew)).multiply(he.scale);for(var ge,Pe,xe,Ie=this.ctx.transform.applyToRectangle(new o(U.x,se,G.w,G.h)),De=me.applyToRectangle(new o(U.x,ne,G.w,G.h)),W=v.call(this,De),we=[],rt=0;rt<W.length;rt+=1)we.indexOf(W[rt])===-1&&we.push(W[rt]);if(j(we),this.autoPaging)for(var Ge=we[0],_e=we[we.length-1],ze=Ge;ze<_e+1;ze++){this.pdf.setPage(ze);var Me=ze===1?this.posY+this.margin[0]:this.margin[0],ut=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],it=this.pdf.internal.pageSize.height-this.margin[2],Wt=it-this.margin[0],gt=this.pdf.internal.pageSize.width-this.margin[1],bt=gt-this.margin[3],Rt=ze===1?0:ut+(ze-2)*Wt;if(this.ctx.clip_path.length!==0){var vt=this.path;ge=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D(ge,this.posX+this.margin[3],-1*Rt+Me),E.call(this,"fill",!0),this.path=vt}var et=D([JSON.parse(JSON.stringify(De))],this.posX+this.margin[3],-Rt+Me+this.ctx.prevPageLastElemOffset)[0];U.scale>=.01&&(Pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Pe*U.scale),xe=this.lineWidth,this.lineWidth=xe*U.scale);var dt=this.autoPaging!=="text";if(dt||et.y+et.h<=it){if(dt||et.y>=Me&&et.x<=gt){var Ye=dt?U.text:this.pdf.splitTextToSize(U.text,U.maxWidth||gt-et.x)[0],Jt=D([JSON.parse(JSON.stringify(Ie))],this.posX+this.margin[3],-Rt+Me+this.ctx.prevPageLastElemOffset)[0],Ht=dt&&(ze>Ge||ze<_e)&&y.call(this);Ht&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],bt,Wt,null).clip().discardPath()),this.pdf.text(Ye,Jt.x,Jt.y,{angle:U.angle,align:H,renderingMode:U.renderingMode}),Ht&&this.pdf.restoreGraphicsState()}}else et.y<it&&(this.ctx.prevPageLastElemOffset+=it-et.y);U.scale>=.01&&(this.pdf.setFontSize(Pe),this.lineWidth=xe)}else U.scale>=.01&&(Pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Pe*U.scale),xe=this.lineWidth,this.lineWidth=xe*U.scale),this.pdf.text(U.text,ae.x+this.posX,ae.y+this.posY,{angle:U.angle,align:H,renderingMode:U.renderingMode,maxWidth:U.maxWidth}),U.scale>=.01&&(this.pdf.setFontSize(Pe),this.lineWidth=xe)},B=function(U,H,G,se){G=G||0,se=se||0,this.pdf.internal.out(t(U+G)+" "+r(H+se)+" l")},$=function(U,H,G){return this.pdf.lines(U,H,G,null,null)},Z=function(U,H,G,se,ne,ae,he,me){this.pdf.internal.out([e(n(G+U)),e(i(se+H)),e(n(ne+U)),e(i(ae+H)),e(n(he+U)),e(i(me+H)),"c"].join(" "))},re=function(U,H,G,se){for(var ne=2*Math.PI,ae=Math.PI/2;H>G;)H-=ne;var he=Math.abs(G-H);he<ne&&se&&(he=ne-he);for(var me=[],ge=se?-1:1,Pe=H;he>1e-5;){var xe=Pe+ge*Math.min(he,ae);me.push(le.call(this,U,Pe,xe)),he-=Math.abs(xe-Pe),Pe=xe}return me},le=function(U,H,G){var se=(G-H)/2,ne=U*Math.cos(se),ae=U*Math.sin(se),he=ne,me=-ae,ge=he*he+me*me,Pe=ge+he*ne+me*ae,xe=4/3*(Math.sqrt(2*ge*Pe)-Pe)/(he*ae-me*ne),Ie=he-xe*me,De=me+xe*he,W=Ie,we=-De,rt=se+H,Ge=Math.cos(rt),_e=Math.sin(rt);return{x1:U*Math.cos(H),y1:U*Math.sin(H),x2:Ie*Ge-De*_e,y2:Ie*_e+De*Ge,x3:W*Ge-we*_e,y3:W*_e+we*Ge,x4:U*Math.cos(G),y4:U*Math.sin(G)}},ee=function(U){return 180*U/Math.PI},pe=function(U,H,G,se,ne,ae){var he=U+.5*(G-U),me=H+.5*(se-H),ge=ne+.5*(G-ne),Pe=ae+.5*(se-ae),xe=Math.min(U,ne,he,ge),Ie=Math.max(U,ne,he,ge),De=Math.min(H,ae,me,Pe),W=Math.max(H,ae,me,Pe);return new o(xe,De,Ie-xe,W-De)},ue=function(U,H,G,se,ne,ae,he,me){var ge,Pe,xe,Ie,De,W,we,rt,Ge,_e,ze,Me,ut,it,Wt=G-U,gt=se-H,bt=ne-G,Rt=ae-se,vt=he-ne,et=me-ae;for(Pe=0;Pe<41;Pe++)Ge=(we=(xe=U+(ge=Pe/40)*Wt)+ge*((De=G+ge*bt)-xe))+ge*(De+ge*(ne+ge*vt-De)-we),_e=(rt=(Ie=H+ge*gt)+ge*((W=se+ge*Rt)-Ie))+ge*(W+ge*(ae+ge*et-W)-rt),Pe==0?(ze=Ge,Me=_e,ut=Ge,it=_e):(ze=Math.min(ze,Ge),Me=Math.min(Me,_e),ut=Math.max(ut,Ge),it=Math.max(it,_e));return new o(Math.round(ze),Math.round(Me),Math.round(ut-ze),Math.round(it-Me))},te=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var U,H,G=(U=this.ctx.lineDash,H=this.ctx.lineDashOffset,JSON.stringify({lineDash:U,lineDashOffset:H}));this.prevLineDash!==G&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=G)}}})(Ze.API),(function(s){var e=function(a){var o,l,u,d,m,p,f,g,y,v;for(l=[],u=0,d=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;d>u;u+=4)(m=(a.charCodeAt(u)<<24)+(a.charCodeAt(u+1)<<16)+(a.charCodeAt(u+2)<<8)+a.charCodeAt(u+3))!==0?(p=(m=((m=((m=((m=(m-(v=m%85))/85)-(y=m%85))/85)-(g=m%85))/85)-(f=m%85))/85)%85,l.push(p+33,f+33,g+33,y+33,v+33)):l.push(122);return(function(N,D){for(var j=D;j>0;j--)N.pop()})(l,o.length),String.fromCharCode.apply(String,l)+"~>"},t=function(a){var o,l,u,d,m,p=String,f="length",g=255,y="charCodeAt",v="slice",N="replace";for(a[v](-2),a=a[v](0,-2)[N](/\s/g,"")[N]("z","!!!!!"),u=[],d=0,m=(a+=o="uuuuu"[v](a[f]%5||5))[f];m>d;d+=5)l=52200625*(a[y](d)-33)+614125*(a[y](d+1)-33)+7225*(a[y](d+2)-33)+85*(a[y](d+3)-33)+(a[y](d+4)-33),u.push(g&l>>24,g&l>>16,g&l>>8,g&l);return(function(D,j){for(var C=j;C>0;C--)D.pop()})(u,o[f]),p.fromCharCode.apply(p,u)},r=function(a){return a.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},n=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var l="",u=0;u<a.length;u+=2)l+=String.fromCharCode("0x"+(a[u]+a[u+1]));return l},i=function(a){for(var o=new Uint8Array(a.length),l=a.length;l--;)o[l]=a.charCodeAt(l);return(o=gh(o)).reduce(function(u,d){return u+String.fromCharCode(d)},"")};s.processDataByFilters=function(a,o){var l=0,u=a||"",d=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":u=t(u),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=n(u),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=r(u),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=i(u),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:u,reverseChain:d.reverse().join(" ")}}})(Ze.API),(function(s){s.loadFile=function(e,t,r){return(function(n,i,a){i=i!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=(function(l,u,d){var m=new XMLHttpRequest,p=0,f=function(g){var y=g.length,v=[],N=String.fromCharCode;for(p=0;p<y;p+=1)v.push(N(255&g.charCodeAt(p)));return v.join("")};if(m.open("GET",l,!u),m.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(m.onload=function(){m.status===200?d(f(this.responseText)):d(void 0)}),m.send(null),u&&m.status===200)return f(m.responseText)})(n,i,a)}catch{}return o})(e,t,r)},s.loadImageFile=s.loadFile})(Ze.API),(function(s){function e(){return(kt.html2canvas?Promise.resolve(kt.html2canvas):qs(()=>import("./html2canvas.esm-Ge7aVWlp.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function t(){return(kt.DOMPurify?Promise.resolve(kt.DOMPurify):qs(()=>import("./purify.es-BkTlVNTa.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var l=os(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},n=function(o,l){var u=document.createElement(o);for(var d in l.className&&(u.className=l.className),l.innerHTML&&l.dompurify&&(u.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)u.style[d]=l.style[d];return u},i=function o(l,u){for(var d=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),m=l.firstChild;m;m=m.nextSibling)u!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||d.appendChild(o(m,u));return l.nodeType===1&&(l.nodeName==="CANVAS"?(d.width=l.width,d.height=l.height,d.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(d.value=l.value),d.addEventListener("load",function(){d.scrollTop=l.scrollTop,d.scrollLeft=l.scrollLeft},!0)),d},a=function o(l){var u=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),d=o.convert(Promise.resolve(),u);return(d=d.setProgress(1,o,1,[o])).set(l)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,l){return o.__proto__=l||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,l){return this.then(function(){switch(l=l||(function(u){switch(r(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(o),l){case"string":return this.then(t).then(function(u){return this.set({src:n("div",{innerHTML:o,dompurify:u})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=n("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=n("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(n("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,l(this.prop.container,u)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var u=this.opt.jsPDF,d=this.opt.fontFaces,m=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:m,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=d,d)for(var f=0;f<d.length;++f){var g=d[f],y=g.src.find(function(v){return v.format==="truetype"});y&&u.addFont(y.url,g.ref.name,g.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,u.context2d.save(!0),l(this.prop.container,p)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,l,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},a.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(r(o)!=="object")return this;var l=Object.keys(o||{}).map(function(u){if(u in a.template.prop)return function(){this.prop[u]=o[u]};switch(u){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[u]=o[u]}}},this);return this.then(function(){return this.thenList(l)})},a.prototype.get=function(o,l){return this.then(function(){var u=o in a.template.prop?this.prop[o]:this.opt[o];return l?l(u):u})},a.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function l(u,d){return Math.floor(u*d/72*96)}return this.then(function(){(o=o||Ze.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,l,u,d){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),u!=null&&(this.progress.n=u),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,l,u,d){return this.setProgress(o?this.progress.val+o:null,l||null,u?this.progress.n+u:null,d?this.progress.stack.concat(d):null)},a.prototype.then=function(o,l){var u=this;return this.thenCore(o,l,function(d,m){return u.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(p){return u.updateProgress(null,d),p}).then(d,m).then(function(p){return u.updateProgress(1),p})})},a.prototype.thenCore=function(o,l,u){u=u||Promise.prototype.then;var d=this;o&&(o=o.bind(d)),l&&(l=l.bind(d));var m=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:a.convert(Object.assign({},d),Promise.prototype),p=u.call(m,o,l);return a.convert(p,d.__proto__)},a.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},a.prototype.thenList=function(o){var l=this;return o.forEach(function(u){l=l.thenCore(u)}),l},a.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return a.convert(l,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,Ze.getPageSize=function(o,l,u){if(os(o)==="object"){var d=o;o=d.orientation,l=d.unit||l,u=d.format||u}l=l||"mm",u=u||"a4",o=(""+(o||"P")).toLowerCase();var m,p=(""+u).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":m=1;break;case"mm":m=72/25.4;break;case"cm":m=72/2.54;break;case"in":m=72;break;case"px":m=.75;break;case"pc":case"em":m=12;break;case"ex":m=6;break;default:throw"Invalid unit: "+l}var g,y=0,v=0;if(f.hasOwnProperty(p))y=f[p][1]/m,v=f[p][0]/m;else try{y=u[1],v=u[0]}catch{throw new Error("Invalid format: "+u)}if(o==="p"||o==="portrait")o="p",v>y&&(g=v,v=y,y=g);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",y>v&&(g=v,v=y,y=g)}return{width:v,height:y,unit:l,k:m,orientation:o}},s.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(Lf):null;var u=new a(l);return l.worker?u:u.from(o).doCallback()}})(Ze.API),Ze.API.addJS=function(s){return Gy=s,this.internal.events.subscribe("postPutResources",function(){ed=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(ed+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),qy=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Gy+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){ed!==void 0&&qy!==void 0&&this.internal.out("/Names <</JavaScript "+ed+" 0 R>>")}),this},(function(s){var e;s.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var n=t.outline.render().split(/\r\n/),i=0;i<n.length;i++){var a=n[i],o=r.exec(a);if(o!=null){var l=o[1];t.internal.newObjectDeferredBegin(l,!1)}t.internal.write(a)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(i=0;i<u;i++){var m=t.internal.newObject();d.push(m);var p=t.internal.getPageInfo(i+1);t.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var f=t.internal.newObject();for(t.internal.write("<< /Names [ "),i=0;i<d.length;i++)t.internal.write("(page_"+(i+1)+")"+d[i]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+f+" 0 R"),t.internal.write(">>","endobj")}}]),s.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),s.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,n,i){var a={title:n,options:i,children:[]};return r==null&&(r=this.root),r.children.push(a),a},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var n=0;n<r.children.length;n++)this.genIds_r(r.children[n])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<r.children.length;i++){var a=r.children[i];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(r)),i>0&&this.line("/Prev "+this.makeRef(r.children[i-1])),i<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[i+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var l=t.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,n){for(var i=0;i<n.children.length;i++)r.count++,this.count_r(r,n.children[i]);return r.count}}])})(Ze.API),(function(s){var e=[192,193,194,195,196,197,198,199];s.processJPEG=function(t,r,n,i,a,o){var l,u=this.decode.DCT_DECODE,d=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=a||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,l=(function(m){for(var p,f=256*m.charCodeAt(4)+m.charCodeAt(5),g=m.length,y={width:0,height:0,numcomponents:1},v=4;v<g;v+=2){if(v+=f,e.indexOf(m.charCodeAt(v+1))!==-1){p=256*m.charCodeAt(v+5)+m.charCodeAt(v+6),y={width:256*m.charCodeAt(v+7)+m.charCodeAt(v+8),height:p,numcomponents:m.charCodeAt(v+9)};break}f=256*m.charCodeAt(v+2)+m.charCodeAt(v+3)}return y})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}d={data:t,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:u,index:r,alias:n}}return d}})(Ze.API),Ze.API.processPNG=function(s,e,t,r){if(this.__addimage__.isArrayBuffer(s)&&(s=new Uint8Array(s)),this.__addimage__.isArrayBufferView(s)){var n,i=AV(s,{checkCrc:!0}),a=i.width,o=i.height,l=i.channels,u=i.palette,d=i.depth;n=u&&l===1?(function(P){for(var _=P.width,O=P.height,S=P.data,L=P.palette,B=P.depth,$=!1,Z=[],re=[],le=void 0,ee=!1,pe=0,ue=0;ue<L.length;ue++){var te=Jb(L[ue],4),U=te[0],H=te[1],G=te[2],se=te[3];Z.push(U,H,G),se!=null&&(se===0?(pe++,re.length<1&&re.push(ue)):se<255&&(ee=!0))}if(ee||pe>1){$=!0,re=void 0;var ne=_*O;le=new Uint8Array(ne);for(var ae=new DataView(S.buffer),he=0;he<ne;he++){var me=Mf(ae,he,B),ge=Jb(L[me],4)[3];le[he]=ge}}else pe===0&&(re=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:$?8:void 0,colorBytes:S,alphaBytes:le,needSMask:$,palette:Z,mask:re}})(i):l===2||l===4?(function(P){for(var _=P.data,O=P.width,S=P.height,L=P.channels,B=P.depth,$=L===2?"DeviceGray":"DeviceRGB",Z=L-1,re=O*S,le=Z,ee=re*le,pe=1*re,ue=Math.ceil(ee*B/8),te=Math.ceil(pe*B/8),U=new Uint8Array(ue),H=new Uint8Array(te),G=new DataView(_.buffer),se=new DataView(U.buffer),ne=new DataView(H.buffer),ae=!1,he=0;he<re;he++){for(var me=he*L,ge=0;ge<le;ge++)sx(se,Mf(G,me+ge,B),he*le+ge,B);var Pe=Mf(G,me+le,B);Pe<(1<<B)-1&&(ae=!0),sx(ne,Pe,1*he,B)}return{colorSpace:$,colorsPerPixel:Z,sMaskBitsPerComponent:ae?B:void 0,colorBytes:U,alphaBytes:H,needSMask:ae}})(i):(function(P){var _=P.data,O=P.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:O,colorsPerPixel:O==="DeviceGray"?1:3,colorBytes:_ instanceof Uint16Array?(function(S){for(var L=S.length,B=new Uint8Array(2*L),$=new DataView(B.buffer,B.byteOffset,B.byteLength),Z=0;Z<L;Z++)$.setUint16(2*Z,S[Z],!1);return B})(_):_,needSMask:!1}})(i);var m,p,f,g=n,y=g.colorSpace,v=g.colorsPerPixel,N=g.sMaskBitsPerComponent,D=g.colorBytes,j=g.alphaBytes,C=g.needSMask,E=g.palette,A=g.mask,V=null;return r!==Ze.API.image_compression.NONE&&typeof gh=="function"?(V=(function(P){var _;switch(P){case Ze.API.image_compression.FAST:_=11;break;case Ze.API.image_compression.MEDIUM:_=13;break;case Ze.API.image_compression.SLOW:_=14;break;default:_=12}return _})(r),m=this.decode.FLATE_DECODE,p="/Predictor ".concat(V," /Colors ").concat(v," /BitsPerComponent ").concat(d," /Columns ").concat(a),s=Jy(D,Math.ceil(a*v*d/8),v,d,r),C&&(f=Jy(j,Math.ceil(a*N/8),1,N,r))):(m=void 0,p=void 0,s=D,C&&(f=j)),(this.__addimage__.isArrayBuffer(s)||this.__addimage__.isArrayBufferView(s))&&(s=this.__addimage__.arrayBufferToBinaryString(s)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:t,data:s,index:e,filter:m,decodeParameters:p,transparency:A,palette:E,sMask:f,predictor:V,width:a,height:o,bitsPerComponent:d,sMaskBitsPerComponent:N,colorSpace:y}}},(function(s){s.processGIF89A=function(e,t,r,n){var i=new ZV(e),a=i.width,o=i.height,l=[];i.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:a,height:o},d=new If(100).encode(u,100);return s.processJPEG.call(this,d,t,r,n)},s.processGIF87A=s.processGIF89A})(Ze.API),Ln.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var s=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(s);for(var e=0;e<s;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:n,green:r,blue:t,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ln.prototype.parseBGR=function(){this.pos=this.offset;try{var s="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[s]()}catch(t){ms.log("bit decode error:"+t)}},Ln.prototype.bit1=function(){var s,e=Math.ceil(this.width/8),t=e%4;for(s=this.height-1;s>=0;s--){for(var r=this.bottom_up?s:this.height-1-s,n=0;n<e;n++)for(var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*n*4,o=0;o<8&&8*n+o<this.width;o++){var l=this.palette[i>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}t!==0&&(this.pos+=4-t)}},Ln.prototype.bit4=function(){for(var s=Math.ceil(this.width/2),e=s%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<s;n++){var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*n*4,o=i>>4,l=15&i,u=this.palette[o];if(this.data[a]=u.blue,this.data[a+1]=u.green,this.data[a+2]=u.red,this.data[a+3]=255,2*n+1>=this.width)break;u=this.palette[l],this.data[a+4]=u.blue,this.data[a+4+1]=u.green,this.data[a+4+2]=u.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},Ln.prototype.bit8=function(){for(var s=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=t*this.width*4+4*r;if(n<this.palette.length){var a=this.palette[n];this.data[i]=a.red,this.data[i+1]=a.green,this.data[i+2]=a.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}s!==0&&(this.pos+=4-s)}},Ln.prototype.bit15=function(){for(var s=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(i&e)/e*255|0,o=(i>>5&e)/e*255|0,l=(i>>10&e)/e*255|0,u=i>>15?255:0,d=r*this.width*4+4*n;this.data[d]=l,this.data[d+1]=o,this.data[d+2]=a,this.data[d+3]=u}this.pos+=s}},Ln.prototype.bit16=function(){for(var s=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,l=(a>>5&t)/t*255|0,u=(a>>11)/e*255|0,d=n*this.width*4+4*i;this.data[d]=u,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=255}this.pos+=s}},Ln.prototype.bit24=function(){for(var s=this.height-1;s>=0;s--){for(var e=this.bottom_up?s:this.height-1-s,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=i,this.data[a+1]=n,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},Ln.prototype.bit32=function(){for(var s=this.height-1;s>=0;s--)for(var e=this.bottom_up?s:this.height-1-s,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=i,this.data[o+1]=n,this.data[o+2]=r,this.data[o+3]=a}},Ln.prototype.getData=function(){return this.data},(function(s){s.processBMP=function(e,t,r,n){var i=new Ln(e,!1),a=i.width,o=i.height,l={data:i.getData(),width:a,height:o},u=new If(100).encode(l,100);return s.processJPEG.call(this,u,t,r,n)}})(Ze.API),nx.prototype.getData=function(){return this.data},(function(s){s.processWEBP=function(e,t,r,n){var i=new nx(e),a=i.width,o=i.height,l={data:i.getData(),width:a,height:o},u=new If(100).encode(l,100);return s.processJPEG.call(this,u,t,r,n)}})(Ze.API),Ze.API.processRGBA=function(s,e,t){for(var r=s.data,n=r.length,i=new Uint8Array(n/4*3),a=new Uint8Array(n/4),o=0,l=0,u=0;u<n;u+=4){var d=r[u],m=r[u+1],p=r[u+2],f=r[u+3];i[o++]=d,i[o++]=m,i[o++]=p,a[l++]=f}var g=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:g,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:s.width,height:s.height}},Ze.API.setLanguage=function(s){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[s]!==void 0&&(this.internal.languageSettings.languageCode=s,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Jo=Ze.API,td=Jo.getCharWidthsArray=function(s,e){var t,r,n=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:n.metadata.Unicode.widths,l=o.fof?o.fof:1,u=e.kerning?e.kerning:n.metadata.Unicode.kerning,d=u.fof?u.fof:1,m=e.doKerning!==!1,p=0,f=s.length,g=0,y=o[0]||l,v=[];for(t=0;t<f;t++)r=s.charCodeAt(t),typeof n.metadata.widthOfString=="function"?v.push((n.metadata.widthOfGlyph(n.metadata.characterToGlyph(r))+a*(1e3/i)||0)/1e3):(p=m&&os(u[r])==="object"&&!isNaN(parseInt(u[r][g],10))?u[r][g]/d:0,v.push((o[r]||y)/l+p)),g=r;return v},Yy=Jo.getStringUnitWidth=function(s,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),n=e.charSpace||this.internal.getCharSpace();return Jo.processArabic&&(s=Jo.processArabic(s)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(s,t,n)/t:td.apply(this,arguments).reduce(function(i,a){return i+a},0)},Ky=function(s,e,t,r){for(var n=[],i=0,a=s.length,o=0;i!==a&&o+e[i]<t;)o+=e[i],i++;n.push(s.slice(0,i));var l=i;for(o=0;i!==a;)o+e[i]>r&&(n.push(s.slice(l,i)),o=0,l=i),o+=e[i],i++;return l!==i&&n.push(s.slice(l,i)),n},Xy=function(s,e,t){t||(t={});var r,n,i,a,o,l,u,d=[],m=[d],p=t.textIndent||0,f=0,g=0,y=s.split(" "),v=td.apply(this,[" ",t])[0];if(l=t.lineIndent===-1?y[0].length+2:t.lineIndent||0){var N=Array(l).join(" "),D=[];y.map(function(C){(C=C.split(/\s*\n/)).length>1?D=D.concat(C.map(function(E,A){return(A&&E.length?`
`:"")+E})):D.push(C[0])}),y=D,l=Yy.apply(this,[N,t])}for(i=0,a=y.length;i<a;i++){var j=0;if(r=y[i],l&&r[0]==`
`&&(r=r.substr(1),j=1),p+f+(g=(n=td.apply(this,[r,t])).reduce(function(C,E){return C+E},0))>e||j){if(g>e){for(o=Ky.apply(this,[r,n,e-(p+f),e]),d.push(o.shift()),d=[o.pop()];o.length;)m.push([o.shift()]);g=n.slice(r.length-(d[0]?d[0].length:0)).reduce(function(C,E){return C+E},0)}else d=[r];m.push(d),p=g+l,f=v}else d.push(r),p+=f+g,f=v}return u=l?function(C,E){return(E?N:"")+C.join(" ")}:function(C){return C.join(" ")},m.map(u)},Jo.splitTextToSize=function(s,e,t){var r,n=(t=t||{}).fontSize||this.internal.getFontSize(),i=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var m=this.internal.getFont(d.fontName,d.fontStyle),p="Unicode";return m.metadata[p]?{widths:m.metadata[p].widths||{0:1},kerning:m.metadata[p].kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(s)?s:String(s).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/n;i.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/n:0,i.lineIndent=t.lineIndent;var o,l,u=[];for(o=0,l=r.length;o<l;o++)u=u.concat(Xy.apply(this,[r[o],a,i]));return u},(function(s){s.__fontmetrics__=s.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",r={},n={},i=0;i<16;i++)r[t[i]]=e[i],n[e[i]]=t[i];var a=function(p){return"0x"+parseInt(p,10).toString(16)},o=s.__fontmetrics__.compress=function(p){var f,g,y,v,N=["{"];for(var D in p){if(f=p[D],isNaN(parseInt(D,10))?g="'"+D+"'":(D=parseInt(D,10),g=(g=a(D).slice(2)).slice(0,-1)+n[g.slice(-1)]),typeof f=="number")f<0?(y=a(f).slice(3),v="-"):(y=a(f).slice(2),v=""),y=v+y.slice(0,-1)+n[y.slice(-1)];else{if(os(f)!=="object")throw new Error("Don't know what to do with value type "+os(f)+".");y=o(f)}N.push(g+y)}return N.push("}"),N.join("")},l=s.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,g,y,v,N={},D=1,j=N,C=[],E="",A="",V=p.length-1,P=1;P<V;P+=1)(v=p[P])=="'"?f?(y=f.join(""),f=void 0):f=[]:f?f.push(v):v=="{"?(C.push([j,y]),j={},y=void 0):v=="}"?((g=C.pop())[0][g[1]]=j,y=void 0,j=g[0]):v=="-"?D=-1:y===void 0?r.hasOwnProperty(v)?(E+=r[v],y=parseInt(E,16)*D,D=1,E=""):E+=v:r.hasOwnProperty(v)?(A+=r[v],j[y]=parseInt(A,16)*D,D=1,y=void 0,A=""):A+=v;return N},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},m={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};s.events.push(["addFont",function(p){var f=p.font,g=m.Unicode[f.postScriptName];g&&(f.metadata.Unicode={},f.metadata.Unicode.widths=g.widths,f.metadata.Unicode.kerning=g.kerning);var y=d.Unicode[f.postScriptName];y&&(f.metadata.Unicode.encoding=y,f.encoding=y.codePages[0])}])})(Ze.API),(function(s){var e=function(t){for(var r=t.length,n=new Uint8Array(r),i=0;i<r;i++)n[i]=t.charCodeAt(i);return n};s.API.events.push(["addFont",function(t){var r=void 0,n=t.font,i=t.instance;if(!n.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");if(typeof(r=i.existsFileInVFS(n.postScriptName)===!1?i.loadFile(n.postScriptName):i.getFileFromVFS(n.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(md(o)),a.metadata=s.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(n,r)}}])})(Ze),Ze.API.addSvgAsImage=function(s,e,t,r,n,i,a,o){if(isNaN(e)||isNaN(t))throw ms.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(n))throw ms.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=r,l.height=n;var u=l.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,l.width,l.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return(kt.canvg?Promise.resolve(kt.canvg):qs(()=>import("./index.es-DtVbe0lW.js"),__vite__mapDeps([9,2,1,3]))).catch(function(p){return Promise.reject(new Error("Could not load canvg: "+p))}).then(function(p){return p.default?p.default:p}).then(function(p){return p.fromString(u,s,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(d)}).then(function(){m.addImage(l.toDataURL("image/jpeg",1),e,t,r,n,a,o)})},Ze.API.putTotalPages=function(s){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(s,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(s,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var n=0;n<this.internal.pages[r].length;n++)this.internal.pages[r][n]=this.internal.pages[r][n].replace(e,t);return this},Ze.API.viewerPreferences=function(s,e){var t;s=s||{},e=e||!1;var r,n,i,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],u=0,d=0,m=0;function p(g,y){var v,N=!1;for(v=0;v<g.length;v+=1)g[v]===y&&(N=!0);return N}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,s==="reset"||e===!0){var f=o.length;for(m=0;m<f;m+=1)t[o[m]].value=t[o[m]].defaultValue,t[o[m]].explicitSet=!1}if(os(s)==="object"){for(n in s)if(i=s[n],p(o,n)&&i!==void 0){if(t[n].type==="boolean"&&typeof i=="boolean")t[n].value=i;else if(t[n].type==="name"&&p(t[n].valueSet,i))t[n].value=i;else if(t[n].type==="integer"&&Number.isInteger(i))t[n].value=i;else if(t[n].type==="array"){for(u=0;u<i.length;u+=1)if(r=!0,i[u].length===1&&typeof i[u][0]=="number")l.push(String(i[u]-1));else if(i[u].length>1){for(d=0;d<i[u].length;d+=1)typeof i[u][d]!="number"&&(r=!1);r===!0&&l.push([i[u][0]-1,i[u][1]-1].join(" "))}t[n].value="["+l.join(" ")+"]"}else t[n].value=t[n].defaultValue;t[n].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,y=[];for(g in t)t[g].explicitSet===!0&&(t[g].type==="name"?y.push("/"+g+" /"+t[g].value):y.push("/"+g+" "+t[g].value));y.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+y.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(s){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',n=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(r)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=i.length+a.length+o.length+n.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(n+i+a+o+l),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};s.addMetadata=function(r,n){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:n||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(Ze.API),(function(s){var e=s.API,t=e.pdfEscape16=function(i,a){for(var o,l=a.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],m=0,p=i.length;m<p;++m){if(o=a.metadata.characterToGlyph(i.charCodeAt(m)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=i.charCodeAt(m),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return d.join("");o=o.toString(16),d.push(u[4-o.length],o)}return d.join("")},r=function(i){var a,o,l,u,d,m,p;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],m=0,p=(o=Object.keys(i).sort(function(f,g){return f-g})).length;m<p;m++)a=o[m],l.length>=100&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),i[a]!==void 0&&i[a]!==null&&typeof i[a].toString=="function"&&(u=("0000"+i[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+u+">"));return l.length&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(a){var o=a.font,l=a.out,u=a.newObject,d=a.putStream;if(o.metadata instanceof s.API.TTFFont&&o.encoding==="Identity-H"){for(var m=o.metadata.Unicode.widths,p=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),f="",g=0;g<p.length;g++)f+=String.fromCharCode(p[g]);var y=u();d({data:f,addLength1:!0,objectId:y}),l("endobj");var v=u();d({data:r(o.metadata.toUnicode),addLength1:!0,objectId:v}),l("endobj");var N=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+tc(o.fontName)),l("/FontFile2 "+y+" 0 R"),l("/FontBBox "+s.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var D=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+tc(o.fontName)),l("/FontDescriptor "+N+" 0 R"),l("/W "+s.API.PDFObject.convert(m)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+v+" 0 R"),l("/BaseFont /"+tc(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+D+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(a){var o=a.font,l=a.out,u=a.newObject,d=a.putStream;if(o.metadata instanceof s.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var m=o.metadata.rawData,p="",f=0;f<m.length;f++)p+=String.fromCharCode(m[f]);var g=u();d({data:p,addLength1:!0,objectId:g}),l("endobj");var y=u();d({data:r(o.metadata.toUnicode),addLength1:!0,objectId:y}),l("endobj");var v=u();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+g+" 0 R"),l("/Flags 96"),l("/FontBBox "+s.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+tc(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=u();for(var N=0;N<o.metadata.hmtx.widths.length;N++)o.metadata.hmtx.widths[N]=parseInt(o.metadata.hmtx.widths[N]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+y+" 0 R/BaseFont/"+tc(o.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+s.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(i)}]);var n=function(i){var a,o=i.text||"",l=i.x,u=i.y,d=i.options||{},m=i.mutex||{},p=m.pdfEscape,f=m.activeFontKey,g=m.fonts,y=f,v="",N=0,D="",j=g[y].encoding;if(g[y].encoding!=="Identity-H")return{text:o,x:l,y:u,options:d,mutex:m};for(D=o,y=f,Array.isArray(o)&&(D=o[0]),N=0;N<D.length;N+=1)g[y].metadata.hasOwnProperty("cmap")&&(a=g[y].metadata.cmap.unicode.codeMap[D[N].charCodeAt(0)]),a||D[N].charCodeAt(0)<256&&g[y].metadata.hasOwnProperty("Unicode")?v+=D[N]:v+="";var C="";return parseInt(y.slice(1))<14||j==="WinAnsiEncoding"?C=p(v,y).split("").map(function(E){return E.charCodeAt(0).toString(16)}).join(""):j==="Identity-H"&&(C=t(v,g[y])),m.isHex=!0,{text:C,x:l,y:u,options:d,mutex:m}};e.events.push(["postProcessText",function(i){var a=i.text||"",o=[],l={text:a,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(a)){var u=0;for(u=0;u<a.length;u+=1)Array.isArray(a[u])&&a[u].length===3?o.push([n(Object.assign({},l,{text:a[u][0]})).text,a[u][1],a[u][2]]):o.push(n(Object.assign({},l,{text:a[u]})).text);i.text=o}else i.text=n(Object.assign({},l,{text:a})).text}])})(Ze),(function(s){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};s.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},s.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},s.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(Ze.API),(function(s){s.__bidiEngine__=s.prototype.__bidiEngine__=function(r){var n,i,a,o,l,u,d,m=e,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},y={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","Â«","Â»","Â«","â€¹","â€º","â€¹","â…","â†","â…","â½","â¾","â½","â‚","â‚Ž","â‚","â‰¤","â‰¥","â‰¤","âŒ©","âŒª","âŒ©","ï¹™","ï¹š","ï¹™","ï¹›","ï¹œ","ï¹›","ï¹","ï¹ž","ï¹","ï¹¤","ï¹¥","ï¹¤"],N=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),D=!1,j=0;this.__bidiEngine__={};var C=function(S){var L=S.charCodeAt(),B=L>>8,$=y[B];return $!==void 0?m[256*$+(255&L)]:B===252||B===253?"AL":N.test(B)?"L":B===8?"R":"N"},E=function(S){for(var L,B=0;B<S.length;B++){if((L=C(S.charAt(B)))==="L")return!1;if(L==="R")return!0}return!1},A=function(S,L,B,$){var Z,re,le,ee,pe=L[$];switch(pe){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":D=!1;break;case"N":case"AN":break;case"EN":D&&(pe="AN");break;case"AL":D=!0,pe="R";break;case"WS":case"BN":pe="N";break;case"CS":$<1||$+1>=L.length||(Z=B[$-1])!=="EN"&&Z!=="AN"||(re=L[$+1])!=="EN"&&re!=="AN"?pe="N":D&&(re="AN"),pe=re===Z?re:"N";break;case"ES":pe=(Z=$>0?B[$-1]:"B")==="EN"&&$+1<L.length&&L[$+1]==="EN"?"EN":"N";break;case"ET":if($>0&&B[$-1]==="EN"){pe="EN";break}if(D){pe="N";break}for(le=$+1,ee=L.length;le<ee&&L[le]==="ET";)le++;pe=le<ee&&L[le]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(ee=L.length,le=$+1;le<ee&&L[le]==="NSM";)le++;if(le<ee){var ue=S[$],te=ue>=1425&&ue<=2303||ue===64286;if(Z=L[le],te&&(Z==="R"||Z==="AL")){pe="R";break}}}pe=$<1||(Z=L[$-1])==="B"?"N":B[$-1];break;case"B":D=!1,n=!0,pe=j;break;case"S":i=!0,pe="N"}return pe},V=function(S,L,B){var $=S.split("");return B&&P($,B,{hiLevel:j}),$.reverse(),L&&L.reverse(),$.join("")},P=function(S,L,B){var $,Z,re,le,ee,pe=-1,ue=S.length,te=0,U=[],H=j?f:p,G=[];for(D=!1,n=!1,i=!1,Z=0;Z<ue;Z++)G[Z]=C(S[Z]);for(re=0;re<ue;re++){if(ee=te,U[re]=A(S,G,U,re),$=240&(te=H[ee][g[U[re]]]),te&=15,L[re]=le=H[te][5],$>0)if($===16){for(Z=pe;Z<re;Z++)L[Z]=1;pe=-1}else pe=-1;if(H[te][6])pe===-1&&(pe=re);else if(pe>-1){for(Z=pe;Z<re;Z++)L[Z]=le;pe=-1}G[re]==="B"&&(L[re]=0),B.hiLevel|=le}i&&(function(se,ne,ae){for(var he=0;he<ae;he++)if(se[he]==="S"){ne[he]=j;for(var me=he-1;me>=0&&se[me]==="WS";me--)ne[me]=j}})(G,L,ue)},_=function(S,L,B,$,Z){if(!(Z.hiLevel<S)){if(S===1&&j===1&&!n)return L.reverse(),void(B&&B.reverse());for(var re,le,ee,pe,ue=L.length,te=0;te<ue;){if($[te]>=S){for(ee=te+1;ee<ue&&$[ee]>=S;)ee++;for(pe=te,le=ee-1;pe<le;pe++,le--)re=L[pe],L[pe]=L[le],L[le]=re,B&&(re=B[pe],B[pe]=B[le],B[le]=re);te=ee}te++}}},O=function(S,L,B){var $=S.split(""),Z={hiLevel:j};return B||(B=[]),P($,B,Z),(function(re,le,ee){if(ee.hiLevel!==0&&d)for(var pe,ue=0;ue<re.length;ue++)le[ue]===1&&(pe=v.indexOf(re[ue]))>=0&&(re[ue]=v[pe+1])})($,B,Z),_(2,$,L,B,Z),_(1,$,L,B,Z),$.join("")};return this.__bidiEngine__.doBidiReorder=function(S,L,B){if((function(Z,re){if(re)for(var le=0;le<Z.length;le++)re[le]=le;o===void 0&&(o=E(Z)),u===void 0&&(u=E(Z))})(S,L),a||!l||u)if(a&&l&&o^u)j=o?1:0,S=V(S,L,B);else if(!a&&l&&u)j=o?1:0,S=O(S,L,B),S=V(S,L);else if(!a||o||l||u){if(a&&!l&&o^u)S=V(S,L),o?(j=0,S=O(S,L,B)):(j=1,S=O(S,L,B),S=V(S,L));else if(a&&o&&!l&&u)j=1,S=O(S,L,B),S=V(S,L);else if(!a&&!l&&o^u){var $=d;o?(j=1,S=O(S,L,B),j=0,d=!1,S=O(S,L,B),d=$):(j=0,S=O(S,L,B),S=V(S,L),j=1,d=!1,S=O(S,L,B),d=$,S=V(S,L))}}else j=0,S=O(S,L,B);else j=o?1:0,S=O(S,L,B);return S},this.__bidiEngine__.setOptions=function(S){S&&(a=S.isInputVisual,l=S.isOutputVisual,o=S.isInputRtl,u=S.isOutputRtl,d=S.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new s.__bidiEngine__({isInputVisual:!0});s.API.events.push(["postProcessText",function(r){var n=r.text;r.x,r.y;var i=r.options||{};r.mutex,i.lang;var a=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,t.setOptions(i),Object.prototype.toString.call(n)==="[object Array]"){var o=0;for(a=[],o=0;o<n.length;o+=1)Object.prototype.toString.call(n[o])==="[object Array]"?a.push([t.doBidiReorder(n[o][0]),n[o][1],n[o][2]]):a.push([t.doBidiReorder(n[o])]);r.text=a}else r.text=t.doBidiReorder(n);t.setOptions({isInputVisual:!0})}])})(Ze),Ze.API.TTFFont=(function(){function s(e){var t;if(this.rawData=e,t=this.contents=new Pa(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new f8(this),this.registerTTF()}return s.open=function(e){return new s(e)},s.prototype.parse=function(){return this.directory=new QV(this.contents),this.head=new t8(this),this.name=new a8(this),this.cmap=new kN(this),this.toUnicode={},this.hhea=new s8(this),this.maxp=new o8(this),this.hmtx=new c8(this),this.post=new n8(this),this.os2=new r8(this),this.loca=new m8(this),this.glyf=new l8(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},s.prototype.registerTTF=function(){var e,t,r,n,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,l,u;for(u=[],a=0,o=(l=this.bbox).length;a<o;a++)e=l[a],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(r=255&(n=this.post.italic_angle),32768&(t=n>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},s.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},s.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},s.prototype.widthOfString=function(e,t,r){var n,i,a,o;for(a=0,i=0,o=(e=""+e).length;0<=o?i<o:i>o;i=0<=o?++i:--i)n=e.charCodeAt(i),a+=this.widthOfGlyph(this.characterToGlyph(n))+r*(1e3/t)||0;return a*(t/1e3)},s.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},s})();var zn,Pa=(function(){function s(e){this.data=e??[],this.pos=0,this.length=this.data.length}return s.prototype.readByte=function(){return this.data[this.pos++]},s.prototype.writeByte=function(e){return this.data[this.pos++]=e},s.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},s.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},s.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},s.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},s.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},s.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},s.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},s.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},s.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},s.prototype.writeString=function(e){var t,r,n;for(n=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)n.push(this.writeByte(e.charCodeAt(t)));return n},s.prototype.readShort=function(){return this.readInt16()},s.prototype.writeShort=function(e){return this.writeInt16(e)},s.prototype.readLongLong=function(){var e,t,r,n,i,a,o,l;return e=this.readByte(),t=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^n)+16777216*(255^i)+65536*(255^a)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*n+16777216*i+65536*a+256*o+l},s.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},s.prototype.readInt=function(){return this.readInt32()},s.prototype.writeInt=function(e){return this.writeInt32(e)},s.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},s.prototype.write=function(e){var t,r,n,i;for(i=[],r=0,n=e.length;r<n;r++)t=e[r],i.push(this.writeByte(t));return i},s})(),QV=(function(){var s;function e(t){var r,n,i;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},n=0,i=this.tableCount;0<=i?n<i:n>i;n=0<=i?++n:--n)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,n,i,a,o,l,u,d,m,p,f,g,y;for(y in f=Object.keys(t).length,l=Math.log(2),m=16*Math.floor(Math.log(f)/l),a=Math.floor(m/l),d=16*f-m,(n=new Pa).writeInt(this.scalarType),n.writeShort(f),n.writeShort(m),n.writeShort(a),n.writeShort(d),i=16*f,u=n.pos+i,o=null,g=[],t)for(p=t[y],n.writeString(y),n.writeInt(s(p)),n.writeInt(u),n.writeInt(p.length),g=g.concat(p),y==="head"&&(o=u),u+=p.length;u%4;)g.push(0),u++;return n.write(g),r=2981146554-s(n.data),n.pos=o+8,n.writeUInt32(r),n.data},s=function(t){var r,n,i,a;for(t=DN.call(t);t.length%4;)t.push(0);for(i=new Pa(t),n=0,r=0,a=t.length;r<a;r=r+=4)n+=i.readUInt32();return 4294967295&n},e})(),e8={}.hasOwnProperty,li=function(s,e){for(var t in e)e8.call(e,t)&&(s[t]=e[t]);function r(){this.constructor=s}return r.prototype=e.prototype,s.prototype=new r,s.__super__=e.prototype,s};zn=(function(){function s(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return s.prototype.parse=function(){},s.prototype.encode=function(){},s.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},s})();var t8=(function(){function s(){return s.__super__.constructor.apply(this,arguments)}return li(s,zn),s.prototype.tag="head",s.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},s.prototype.encode=function(e){var t;return(t=new Pa).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},s})(),ix=(function(){function s(e,t){var r,n,i,a,o,l,u,d,m,p,f,g,y,v,N,D,j;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),m=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(f=e.readUInt16(),p=f/2,e.pos+=6,i=(function(){var C,E;for(E=[],l=C=0;0<=p?C<p:C>p;l=0<=p?++C:--C)E.push(e.readUInt16());return E})(),e.pos+=2,y=(function(){var C,E;for(E=[],l=C=0;0<=p?C<p:C>p;l=0<=p?++C:--C)E.push(e.readUInt16());return E})(),u=(function(){var C,E;for(E=[],l=C=0;0<=p?C<p:C>p;l=0<=p?++C:--C)E.push(e.readUInt16());return E})(),d=(function(){var C,E;for(E=[],l=C=0;0<=p?C<p:C>p;l=0<=p?++C:--C)E.push(e.readUInt16());return E})(),n=(this.length-e.pos+this.offset)/2,o=(function(){var C,E;for(E=[],l=C=0;0<=n?C<n:C>n;l=0<=n?++C:--C)E.push(e.readUInt16());return E})(),l=N=0,j=i.length;N<j;l=++N)for(v=i[l],r=D=g=y[l];g<=v?D<=v:D>=v;r=g<=v?++D:--D)d[l]===0?a=r+u[l]:(a=o[d[l]/2+(r-g)-(p-l)]||0)!==0&&(a+=u[l]),this.codeMap[r]=65535&a}e.pos=m}return s.encode=function(e,t){var r,n,i,a,o,l,u,d,m,p,f,g,y,v,N,D,j,C,E,A,V,P,_,O,S,L,B,$,Z,re,le,ee,pe,ue,te,U,H,G,se,ne,ae,he,me,ge,Pe,xe;switch($=new Pa,a=Object.keys(e).sort(function(Ie,De){return Ie-De}),t){case"macroman":for(y=0,v=(function(){var Ie=[];for(g=0;g<256;++g)Ie.push(0);return Ie})(),D={0:0},i={},Z=0,pe=a.length;Z<pe;Z++)D[me=e[n=a[Z]]]==null&&(D[me]=++y),i[n]={old:e[n],new:D[e[n]]},v[n]=D[e[n]];return $.writeUInt16(1),$.writeUInt16(0),$.writeUInt32(12),$.writeUInt16(0),$.writeUInt16(262),$.writeUInt16(0),$.write(v),{charMap:i,subtable:$.data,maxGlyphID:y+1};case"unicode":for(L=[],m=[],j=0,D={},r={},N=u=null,re=0,ue=a.length;re<ue;re++)D[E=e[n=a[re]]]==null&&(D[E]=++j),r[n]={old:E,new:D[E]},o=D[E]-n,N!=null&&o===u||(N&&m.push(N),L.push(n),u=o),N=n;for(N&&m.push(N),m.push(65535),L.push(65535),O=2*(_=L.length),P=2*Math.pow(Math.log(_)/Math.LN2,2),p=Math.log(P/2)/Math.LN2,V=2*_-P,l=[],A=[],f=[],g=le=0,te=L.length;le<te;g=++le){if(S=L[g],d=m[g],S===65535){l.push(0),A.push(0);break}if(S-(B=r[S].new)>=32768)for(l.push(0),A.push(2*(f.length+_-g)),n=ee=S;S<=d?ee<=d:ee>=d;n=S<=d?++ee:--ee)f.push(r[n].new);else l.push(B-S),A.push(0)}for($.writeUInt16(3),$.writeUInt16(1),$.writeUInt32(12),$.writeUInt16(4),$.writeUInt16(16+8*_+2*f.length),$.writeUInt16(0),$.writeUInt16(O),$.writeUInt16(P),$.writeUInt16(p),$.writeUInt16(V),ae=0,U=m.length;ae<U;ae++)n=m[ae],$.writeUInt16(n);for($.writeUInt16(0),he=0,H=L.length;he<H;he++)n=L[he],$.writeUInt16(n);for(ge=0,G=l.length;ge<G;ge++)o=l[ge],$.writeUInt16(o);for(Pe=0,se=A.length;Pe<se;Pe++)C=A[Pe],$.writeUInt16(C);for(xe=0,ne=f.length;xe<ne;xe++)y=f[xe],$.writeUInt16(y);return{charMap:r,subtable:$.data,maxGlyphID:j+1}}},s})(),kN=(function(){function s(){return s.__super__.constructor.apply(this,arguments)}return li(s,zn),s.prototype.tag="cmap",s.prototype.parse=function(e){var t,r,n;for(e.pos=this.offset,this.version=e.readUInt16(),n=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=n?r<n:r>n;r=0<=n?++r:--r)t=new ix(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},s.encode=function(e,t){var r,n;return t==null&&(t="macroman"),r=ix.encode(e,t),(n=new Pa).writeUInt16(0),n.writeUInt16(1),r.table=n.data.concat(r.subtable),r},s})(),s8=(function(){function s(){return s.__super__.constructor.apply(this,arguments)}return li(s,zn),s.prototype.tag="hhea",s.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},s})(),r8=(function(){function s(){return s.__super__.constructor.apply(this,arguments)}return li(s,zn),s.prototype.tag="OS/2",s.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,r;for(r=[],t=0;t<10;++t)r.push(e.readByte());return r})(),this.charRange=(function(){var t,r;for(r=[],t=0;t<4;++t)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,r;for(r=[],t=0;t<2;t=++t)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},s})(),n8=(function(){function s(){return s.__super__.constructor.apply(this,arguments)}return li(s,zn),s.prototype.tag="post",s.prototype.parse=function(e){var t,r,n;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(r=e.readUInt16(),this.glyphNameIndex=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],n=[];e.pos<this.offset+this.length;)t=e.readByte(),n.push(this.names.push(e.readString(t)));return n;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var a,o,l;for(l=[],i=a=0,o=this.file.maxp.numGlyphs;0<=o?a<o:a>o;i=0<=o?++a:--a)l.push(e.readUInt32());return l}).call(this)}},s})(),i8=function(s,e){this.raw=s,this.length=s.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},a8=(function(){function s(){return s.__super__.constructor.apply(this,arguments)}return li(s,zn),s.prototype.tag="name",s.prototype.parse=function(e){var t,r,n,i,a,o,l,u,d,m,p;for(e.pos=this.offset,e.readShort(),t=e.readShort(),o=e.readShort(),r=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(l={},i=d=0,m=r.length;d<m;i=++d)n=r[i],e.pos=n.offset,u=e.readString(n.length),a=new i8(u,n),l[p=n.nameID]==null&&(l[p]=[]),l[n.nameID].push(a);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},s})(),o8=(function(){function s(){return s.__super__.constructor.apply(this,arguments)}return li(s,zn),s.prototype.tag="maxp",s.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},s})(),c8=(function(){function s(){return s.__super__.constructor.apply(this,arguments)}return li(s,zn),s.prototype.tag="hmtx",s.prototype.parse=function(e){var t,r,n,i,a,o,l;for(e.pos=this.offset,this.metrics=[],t=0,o=this.file.hhea.numberOfMetrics;0<=o?t<o:t>o;t=0<=o?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(n=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var u,d;for(d=[],t=u=0;0<=n?u<n:u>n;t=0<=n?++u:--u)d.push(e.readInt16());return d})(),this.widths=(function(){var u,d,m,p;for(p=[],u=0,d=(m=this.metrics).length;u<d;u++)i=m[u],p.push(i.advance);return p}).call(this),r=this.widths[this.widths.length-1],l=[],t=a=0;0<=n?a<n:a>n;t=0<=n?++a:--a)l.push(this.widths.push(r));return l},s.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},s})(),DN=[].slice,l8=(function(){function s(){return s.__super__.constructor.apply(this,arguments)}return li(s,zn),s.prototype.tag="glyf",s.prototype.parse=function(){return this.cache={}},s.prototype.glyphFor=function(e){var t,r,n,i,a,o,l,u,d,m;return e in this.cache?this.cache[e]:(i=this.file.loca,t=this.file.contents,r=i.indexOf(e),(n=i.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+r,a=(o=new Pa(t.read(n))).readShort(),u=o.readShort(),m=o.readShort(),l=o.readShort(),d=o.readShort(),this.cache[e]=a===-1?new d8(o,u,m,l,d):new u8(o,a,u,m,l,d),this.cache[e]))},s.prototype.encode=function(e,t,r){var n,i,a,o,l;for(a=[],i=[],o=0,l=t.length;o<l;o++)n=e[t[o]],i.push(a.length),n&&(a=a.concat(n.encode(r)));return i.push(a.length),{table:a,offsets:i}},s})(),u8=(function(){function s(e,t,r,n,i,a){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=a,this.compound=!1}return s.prototype.encode=function(){return this.raw.data},s})(),d8=(function(){function s(e,t,r,n,i){var a,o;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=n,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return s.prototype.encode=function(){var e,t,r;for(t=new Pa(DN.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},s})(),m8=(function(){function s(){return s.__super__.constructor.apply(this,arguments)}return li(s,zn),s.prototype.tag="loca",s.prototype.parse=function(e){var t,r;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var n,i;for(i=[],r=0,n=this.length;r<n;r+=2)i.push(2*e.readUInt16());return i}).call(this):(function(){var n,i;for(i=[],r=0,n=this.length;r<n;r+=4)i.push(e.readUInt32());return i}).call(this)},s.prototype.indexOf=function(e){return this.offsets[e]},s.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},s.prototype.encode=function(e,t){for(var r=new Uint32Array(this.offsets.length),n=0,i=0,a=0;a<r.length;++a)if(r[a]=n,i<t.length&&t[i]==a){++i,r[a]=n;var o=this.offsets[a],l=this.offsets[a+1]-o;l>0&&(n+=l)}for(var u=new Array(4*r.length),d=0;d<r.length;++d)u[4*d+3]=255&r[d],u[4*d+2]=(65280&r[d])>>8,u[4*d+1]=(16711680&r[d])>>16,u[4*d]=(4278190080&r[d])>>24;return u},s})(),f8=(function(){function s(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return s.prototype.generateCmap=function(){var e,t,r,n,i;for(t in n=this.font.cmap.tables[0].codeMap,e={},i=this.subset)r=i[t],e[t]=n[r];return e},s.prototype.glyphsFor=function(e){var t,r,n,i,a,o,l;for(n={},a=0,o=e.length;a<o;a++)n[i=e[a]]=this.font.glyf.glyphFor(i);for(i in t=[],n)(r=n[i])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(i in l=this.glyphsFor(t))r=l[i],n[i]=r;return n},s.prototype.encode=function(e,t){var r,n,i,a,o,l,u,d,m,p,f,g,y,v,N;for(n in r=kN.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),f={0:0},N=r.charMap)f[(l=N[n]).old]=l.new;for(g in p=r.maxGlyphID,a)g in f||(f[g]=p++);return d=(function(D){var j,C;for(j in C={},D)C[D[j]]=j;return C})(f),m=Object.keys(d).sort(function(D,j){return D-j}),y=(function(){var D,j,C;for(C=[],D=0,j=m.length;D<j;D++)o=m[D],C.push(d[o]);return C})(),i=this.font.glyf.encode(a,y,f),u=this.font.loca.encode(i.offsets,y),v={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},s})();Ze.API.PDFObject=(function(){var s;function e(){}return s=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,n,i,a;if(Array.isArray(t))return"["+(function(){var o,l,u;for(u=[],o=0,l=t.length;o<l;o++)r=t[o],u.push(e.convert(r));return u})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+s(t.getUTCFullYear(),4)+s(t.getUTCMonth(),2)+s(t.getUTCDate(),2)+s(t.getUTCHours(),2)+s(t.getUTCMinutes(),2)+s(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(n in i=["<<"],t)a=t[n],i.push("/"+n+" "+e.convert(a));return i.push(">>"),i.join(`
`)}return""+t},e})();const cL=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:WV,AcroFormAppearance:qe,AcroFormButton:ar,AcroFormCheckBox:vl,AcroFormChoiceField:mo,AcroFormComboBox:ho,AcroFormEditBox:yl,AcroFormListBox:fo,AcroFormPasswordField:Nl,AcroFormPushButton:xl,AcroFormRadioButton:po,AcroFormTextField:ya,GState:Ol,ShadingPattern:ua,TilingPattern:oo,default:Ze,jsPDF:Ze},Symbol.toStringTag,{value:"Module"})),wN=s=>{ic.trackDataExport("csv").catch(()=>{});const e=["Date","Time","Pain Level","Locations","Symptoms","Limited Activities","Sleep Quality","Mood Impact","Missed Work Days","Notes"].join(","),t=s.map(r=>{const[n,i]=r.timestamp.split("T"),a=(i||"").slice(0,5);return[n,a,r.baselineData.pain,`"${r.baselineData.locations?.join("; ")||""}"`,`"${r.baselineData.symptoms?.join("; ")||""}"`,`"${r.functionalImpact?.limitedActivities?.join("; ")||""}"`,r.qualityOfLife?.sleepQuality||"",r.qualityOfLife?.moodImpact||"",r.workImpact?.missedWork||"",`"${r.notes?.replace(/"/g,'""')||""}"`].join(",")});return[e,...t].join("\\n")},PN=s=>(ic.trackDataExport("json").catch(()=>{}),JSON.stringify(s,null,2)),jN=(s,e,t="text/plain;charset=utf-8")=>{if(typeof window>"u")return;let r;if(s.startsWith("data:")){const[a,o]=s.split(",");r=new Blob([atob(o)],{type:a.split(":")[1].split(";")[0]})}else r=new Blob([s],{type:t});const n=window.URL.createObjectURL(r),i=document.createElement("a");i.href=n,i.download=e,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(n)},CN=s=>{ic.trackDataExport("pdf").catch(()=>{});const e=new Ze;e.setFontSize(20),e.text("Pain Tracking Report",20,30),e.setFontSize(12);const t=s.length>0?new Date(s[0].timestamp).toLocaleDateString():"N/A",r=s.length>0?new Date(s[s.length-1].timestamp).toLocaleDateString():"N/A";if(e.text(`Report Period: ${t} to ${r}`,20,45),e.text(`Total Entries: ${s.length}`,20,55),s.length>0){const a=s.reduce((u,d)=>u+d.baselineData.pain,0)/s.length;e.text(`Average Pain Level: ${pa(a,1)}/10`,20,65);const o=ax(s.flatMap(u=>u.baselineData.symptoms||[])),l=ax(s.flatMap(u=>u.baselineData.locations||[]));e.text(`Most Common Symptoms: ${o.slice(0,3).join(", ")}`,20,75),e.text(`Most Common Locations: ${l.slice(0,3).join(", ")}`,20,85)}let n=105;e.setFontSize(14),e.text("Detailed Entries",20,n),n+=15,e.setFontSize(10),s.slice(0,20).forEach((a,o)=>{n>270&&(e.addPage(),n=30);const l=new Date(a.timestamp).toLocaleDateString(),u=new Date(a.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});if(e.text(`${o+1}. ${l} ${u} - Pain: ${a.baselineData.pain}/10`,20,n),n+=8,a.baselineData.symptoms&&a.baselineData.symptoms.length>0&&(e.text(`   Symptoms: ${a.baselineData.symptoms.join(", ")}`,25,n),n+=8),a.baselineData.locations&&a.baselineData.locations.length>0&&(e.text(`   Locations: ${a.baselineData.locations.join(", ")}`,25,n),n+=8),a.notes){const d=e.splitTextToSize(`   Notes: ${a.notes}`,150);e.text(d,25,n),n+=d.length*5+5}n+=5}),s.length>20&&e.text(`... and ${s.length-20} more entries`,20,n);const i=e.getNumberOfPages();for(let a=1;a<=i;a++)e.setPage(a),e.setFontSize(8),e.text(`Generated on ${new Date().toLocaleDateString()} - Page ${a} of ${i}`,20,285);return e.output("datauristring")},ax=s=>{const e={};return s.forEach(t=>{e[t]=(e[t]||0)+1}),Object.entries(e).sort(([,t],[,r])=>r-t).map(([t])=>t)},h8=Object.freeze(Object.defineProperty({__proto__:null,downloadData:jN,exportToCSV:wN,exportToJSON:PN,exportToPDF:CN},Symbol.toStringTag,{value:"Module"}));function EN({isOpen:s,onClose:e,entries:t,title:r="Export Pain Data"}){const[n,i]=I.useState("csv"),[a,o]=I.useState(!1),[l,u]=I.useState("idle"),[d,m]=I.useState({dateRange:{start:"",end:""},painLevelRange:{min:0,max:10},symptoms:[],locations:[],includeQualityOfLife:!0,includeWorkImpact:!0,includeMedications:!0,includeTreatments:!0}),p=I.useMemo(()=>{const j=new Set;return t.forEach(C=>{C.baselineData.symptoms&&C.baselineData.symptoms.forEach(E=>j.add(E))}),Array.from(j).sort()},[t]),f=I.useMemo(()=>{const j=new Set;return t.forEach(C=>{C.baselineData.locations&&C.baselineData.locations.forEach(E=>j.add(E))}),Array.from(j).sort()},[t]),g=I.useMemo(()=>t.filter(j=>{if(d.dateRange.start&&d.dateRange.end){const C=new Date(j.timestamp),E=new Date(d.dateRange.start),A=new Date(d.dateRange.end);if(C<E||C>A)return!1}return!(j.baselineData.pain<d.painLevelRange.min||j.baselineData.pain>d.painLevelRange.max||d.symptoms.length>0&&!d.symptoms.some(E=>j.baselineData.symptoms?.includes(E))||d.locations.length>0&&!d.locations.some(E=>j.baselineData.locations?.includes(E)))}),[t,d]),y=async()=>{if(g.length===0){u("error");return}o(!0),u("idle");try{let j,C;const E=new Date().toISOString().split("T")[0];switch(n){case"csv":j=wN(g),C=`pain-data-${E}.csv`;break;case"json":j=PN(g),C=`pain-data-${E}.json`;break;case"pdf":j=CN(g),C=`pain-report-${E}.pdf`;break;default:throw new Error("Unsupported export format")}jN(j,C),u("success"),setTimeout(()=>{e(),u("idle")},2e3)}catch(j){console.error("Export failed:",j),u("error")}finally{o(!1)}},v=[{id:"csv",label:"CSV (Spreadsheet)",description:"Compatible with Excel, Google Sheets",icon:Ix,extension:".csv"},{id:"json",label:"JSON (Data)",description:"For developers and data analysis",icon:Mx,extension:".json"},{id:"pdf",label:"PDF (Report)",description:"Formatted report for sharing",icon:In,extension:".pdf"}],N=(j,C)=>{m(E=>({...E,[j]:C}))},D=(j,C)=>{if(!Array.isArray(d[j]))return;const E=d[j],A=E.includes(C)?E.filter(V=>V!==C):[...E,C];N(j,A)};return c.jsxDEV(yP,{isOpen:s,onClose:e,size:"xl",children:c.jsxDEV("div",{className:"space-y-6",children:[c.jsxDEV("div",{className:"flex items-center justify-between",children:[c.jsxDEV("div",{className:"flex items-center space-x-3",children:[c.jsxDEV(Dn,{className:"h-6 w-6 text-primary"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:231,columnNumber:13},this),c.jsxDEV("div",{children:[c.jsxDEV("h2",{className:"text-xl font-semibold",children:r},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:233,columnNumber:15},this),c.jsxDEV("p",{className:"text-sm text-muted-foreground",children:["Export ",g.length," of ",t.length," entries"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:234,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:232,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:230,columnNumber:11},this),c.jsxDEV(js,{variant:"ghost",size:"sm",onClick:e,children:c.jsxDEV(Ii,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:240,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:239,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:229,columnNumber:9},this),c.jsxDEV(Ur,{children:[c.jsxDEV(ai,{children:c.jsxDEV(Ri,{className:"flex items-center space-x-2",children:[c.jsxDEV(In,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:248,columnNumber:15},this),c.jsxDEV("span",{children:"Export Format"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:249,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:247,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:246,columnNumber:11},this),c.jsxDEV(ni,{children:c.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:v.map(j=>{const C=j.icon;return c.jsxDEV("button",{onClick:()=>i(j.id),className:We("p-4 border rounded-lg text-left transition-all hover:shadow-md",n===j.id?"border-primary bg-primary/5 ring-2 ring-primary/20":"border-border hover:border-primary/50"),children:c.jsxDEV("div",{className:"flex items-start space-x-3",children:[c.jsxDEV(C,{className:"h-8 w-8 text-primary mt-1"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:268,columnNumber:23},this),c.jsxDEV("div",{children:[c.jsxDEV("h3",{className:"font-medium",children:j.label},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:270,columnNumber:25},this),c.jsxDEV("p",{className:"text-sm text-muted-foreground mt-1",children:j.description},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:271,columnNumber:25},this),c.jsxDEV("p",{className:"text-xs text-muted-foreground mt-2",children:j.extension},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:272,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:269,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:267,columnNumber:21},this)},j.id,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:257,columnNumber:19},this)})},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:253,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:252,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:245,columnNumber:9},this),c.jsxDEV(Ur,{children:[c.jsxDEV(ai,{children:c.jsxDEV(Ri,{className:"flex items-center space-x-2",children:[c.jsxDEV(Rx,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:286,columnNumber:15},this),c.jsxDEV("span",{children:"Filters"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:287,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:285,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:284,columnNumber:11},this),c.jsxDEV(ni,{className:"space-y-6",children:[c.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxDEV("div",{children:[c.jsxDEV("label",{className:"block text-sm font-medium mb-2",children:"Start Date"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:294,columnNumber:17},this),c.jsxDEV("input",{type:"date",value:d.dateRange.start,onChange:j=>N("dateRange",{...d.dateRange,start:j.target.value}),className:"w-full px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-primary"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:295,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:293,columnNumber:15},this),c.jsxDEV("div",{children:[c.jsxDEV("label",{className:"block text-sm font-medium mb-2",children:"End Date"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:308,columnNumber:17},this),c.jsxDEV("input",{type:"date",value:d.dateRange.end,onChange:j=>N("dateRange",{...d.dateRange,end:j.target.value}),className:"w-full px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-primary"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:309,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:307,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:292,columnNumber:13},this),c.jsxDEV("div",{children:[c.jsxDEV("label",{className:"block text-sm font-medium mb-2",children:["Pain Level Range: ",d.painLevelRange.min," - ",d.painLevelRange.max]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:325,columnNumber:15},this),c.jsxDEV("div",{className:"flex items-center space-x-4",children:[c.jsxDEV("input",{type:"range",min:"0",max:"10",value:d.painLevelRange.min,onChange:j=>N("painLevelRange",{...d.painLevelRange,min:parseInt(j.target.value)}),className:"flex-1"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:329,columnNumber:17},this),c.jsxDEV("span",{className:"text-sm text-muted-foreground",children:"to"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:342,columnNumber:17},this),c.jsxDEV("input",{type:"range",min:"0",max:"10",value:d.painLevelRange.max,onChange:j=>N("painLevelRange",{...d.painLevelRange,max:parseInt(j.target.value)}),className:"flex-1"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:343,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:328,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:324,columnNumber:13},this),p.length>0&&c.jsxDEV("div",{children:[c.jsxDEV("label",{className:"block text-sm font-medium mb-2",children:"Symptoms"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:362,columnNumber:17},this),c.jsxDEV("div",{className:"flex flex-wrap gap-2",children:p.map(j=>c.jsxDEV("button",{onClick:()=>D("symptoms",j),className:We("px-3 py-1 text-sm rounded-full border transition-colors",d.symptoms.includes(j)?"bg-primary text-primary-foreground border-primary":"bg-background text-foreground border-border hover:border-primary/50"),children:j},j,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:365,columnNumber:21},this))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:363,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:361,columnNumber:15},this),f.length>0&&c.jsxDEV("div",{children:[c.jsxDEV("label",{className:"block text-sm font-medium mb-2",children:"Locations"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:385,columnNumber:17},this),c.jsxDEV("div",{className:"flex flex-wrap gap-2",children:f.map(j=>c.jsxDEV("button",{onClick:()=>D("locations",j),className:We("px-3 py-1 text-sm rounded-full border transition-colors",d.locations.includes(j)?"bg-primary text-primary-foreground border-primary":"bg-background text-foreground border-border hover:border-primary/50"),children:j},j,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:388,columnNumber:21},this))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:386,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:384,columnNumber:15},this),c.jsxDEV("div",{className:"space-y-3",children:[c.jsxDEV("label",{className:"block text-sm font-medium",children:"Include Data Types"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:407,columnNumber:15},this),c.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[{key:"includeQualityOfLife",label:"Quality of Life"},{key:"includeWorkImpact",label:"Work Impact"},{key:"includeMedications",label:"Medications"},{key:"includeTreatments",label:"Treatments"}].map(({key:j,label:C})=>c.jsxDEV("label",{className:"flex items-center space-x-2",children:[c.jsxDEV("input",{type:"checkbox",checked:d[j],onChange:E=>N(j,E.target.checked),className:"rounded border-border"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:416,columnNumber:21},this),c.jsxDEV("span",{className:"text-sm",children:C},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:422,columnNumber:21},this)]},j,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:415,columnNumber:19},this))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:408,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:406,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:290,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:283,columnNumber:9},this),l!=="idle"&&c.jsxDEV(Ur,{className:We("border",l==="success"?"border-green-200 bg-green-50":"border-red-200 bg-red-50"),children:c.jsxDEV(ni,{className:"pt-6",children:c.jsxDEV("div",{className:"flex items-center space-x-2",children:[l==="success"?c.jsxDEV(xa,{className:"h-5 w-5 text-green-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:443,columnNumber:19},this):c.jsxDEV(ac,{className:"h-5 w-5 text-red-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:445,columnNumber:19},this),c.jsxDEV("p",{className:We("text-sm",l==="success"?"text-green-800":"text-red-800"),children:l==="success"?`Successfully exported ${g.length} entries!`:g.length===0?"No entries match your filters. Please adjust your criteria.":"Export failed. Please try again."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:447,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:441,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:440,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:432,columnNumber:11},this),c.jsxDEV("div",{className:"flex items-center justify-between pt-4 border-t",children:[c.jsxDEV("div",{className:"text-sm text-muted-foreground",children:[g.length," entries will be exported"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:466,columnNumber:11},this),c.jsxDEV("div",{className:"flex space-x-3",children:[c.jsxDEV(js,{variant:"outline",onClick:e,children:"Cancel"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:470,columnNumber:13},this),c.jsxDEV(js,{onClick:y,disabled:a||g.length===0,className:"min-w-[120px]",children:a?c.jsxDEV(c.Fragment,{children:[c.jsxDEV("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current mr-2"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:480,columnNumber:19},this),"Exporting..."]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:479,columnNumber:17},this):c.jsxDEV(c.Fragment,{children:[c.jsxDEV(Dn,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:485,columnNumber:19},this),"Export ",n.toUpperCase()]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:484,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:473,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:469,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:465,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:227,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:226,columnNumber:5},this)}const p8=Object.freeze(Object.defineProperty({__proto__:null,DataExportModal:EN},Symbol.toStringTag,{value:"Module"})),g8=I.createContext(null);function b8(){const s=I.useContext(g8);if(!s)throw new Error("useCrisisMode must be used within a CrisisModeProvider");return s}const dp={calm:{colors:{primary:"#10b981",secondary:"#06b6d4",background:"#f9fafb",text:"#374151",accent:"#8b5cf6",warning:"#f59e0b"},animation:{duration:300,intensity:"normal",enableTransitions:!0},layout:{spacing:"normal",density:"normal",buttonSize:"normal"},visual:{contrast:"normal",blur:0,brightness:1,saturation:1}},mild:{colors:{primary:"#3b82f6",secondary:"#06b6d4",background:"#f8fafc",text:"#1f2937",accent:"#6366f1",warning:"#f59e0b"},animation:{duration:200,intensity:"reduced",enableTransitions:!0},layout:{spacing:"relaxed",density:"normal",buttonSize:"large"},visual:{contrast:"normal",blur:0,brightness:1.1,saturation:.9}},moderate:{colors:{primary:"#f97316",secondary:"#eab308",background:"#fffbeb",text:"#92400e",accent:"#d97706",warning:"#dc2626"},animation:{duration:150,intensity:"reduced",enableTransitions:!0},layout:{spacing:"relaxed",density:"spacious",buttonSize:"large"},visual:{contrast:"high",blur:0,brightness:1.2,saturation:.8}},severe:{colors:{primary:"#dc2626",secondary:"#ea580c",background:"#fef2f2",text:"#7f1d1d",accent:"#b91c1c",warning:"#dc2626"},animation:{duration:100,intensity:"minimal",enableTransitions:!1},layout:{spacing:"relaxed",density:"spacious",buttonSize:"extra-large"},visual:{contrast:"high",blur:0,brightness:1.3,saturation:.7}},emergency:{colors:{primary:"#991b1b",secondary:"#dc2626",background:"#fef2f2",text:"#7f1d1d",accent:"#b91c1c",warning:"#dc2626"},animation:{duration:0,intensity:"minimal",enableTransitions:!1},layout:{spacing:"relaxed",density:"spacious",buttonSize:"extra-large"},visual:{contrast:"maximum",blur:0,brightness:1.4,saturation:.6}}};function ll({children:s,onClick:e,variant:t="primary",disabled:r=!1,className:n="",size:i,urgency:a="low"}){const{crisisLevel:o}=Gd(),l=dp[o],u=i||l.layout.buttonSize,d={low:{animation:"none"},medium:{animation:o!=="emergency"?"pulse 2s infinite":"none"},high:{animation:o!=="emergency"?"pulse 1s infinite":"none"},critical:{animation:o!=="emergency"?"pulse 0.5s infinite":"none"}},m={backgroundColor:t==="emergency"?l.colors.warning:t==="secondary"?l.colors.secondary:l.colors.primary,color:"white",border:"none",borderRadius:"0.5rem",fontWeight:"600",cursor:r?"not-allowed":"pointer",opacity:r?.5:1,transition:l.animation.enableTransitions?`all ${l.animation.duration}ms ease-out`:"none",transform:"scale(1)",boxShadow:a==="critical"?"0 0 20px rgba(220, 38, 38, 0.5)":a==="high"?"0 0 15px rgba(245, 158, 11, 0.5)":"0 2px 4px rgba(0, 0, 0, 0.1)",...d[a],...u==="large"&&{padding:"1rem 2rem",fontSize:"1.125rem",minHeight:"3rem",minWidth:"8rem"},...u==="extra-large"&&{padding:"1.5rem 3rem",fontSize:"1.25rem",minHeight:"4rem",minWidth:"10rem"},...u==="normal"&&{padding:"0.75rem 1.5rem",fontSize:"1rem",minHeight:"2.5rem",minWidth:"6rem"}};return c.jsxDEV("button",{style:m,onClick:e,disabled:r,className:`stress-adaptive-button ${n}`,"data-urgency":a,"data-stress-level":o,onMouseEnter:p=>{!r&&l.animation.enableTransitions&&(p.currentTarget.style.transform="scale(1.05)")},onMouseLeave:p=>{!r&&l.animation.enableTransitions&&(p.currentTarget.style.transform="scale(1)")},children:s},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/StressResponsiveUI.tsx",lineNumber:307,columnNumber:5},this)}function fd({children:s,level:e="body",emphasis:t="normal",className:r=""}){const{crisisLevel:n}=Gd(),i=dp[n],a=()=>{const u={heading:"1.5rem",subheading:"1.25rem",body:"1rem",caption:"0.875rem"},d=i.layout.density==="spacious"?1.2:i.layout.density==="compact"?.9:1;return`calc(${u[e]} * ${d})`},o={color:i.colors.text,fontSize:a(),fontWeight:t==="high"?"700":t==="medium"?"600":"400",lineHeight:i.layout.spacing==="relaxed"?"1.75":i.layout.spacing==="tight"?"1.4":"1.6",transition:i.animation.enableTransitions?`all ${i.animation.duration}ms ease-out`:"none"},l=e==="heading"?"h2":e==="subheading"?"h3":e==="caption"?"small":"p";return c.jsxDEV(l,{style:o,className:`stress-responsive-text ${r}`,"data-level":e,"data-emphasis":t,"data-stress-level":n,children:s},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/StressResponsiveUI.tsx",lineNumber:386,columnNumber:5},this)}function tl({children:s,title:e,priority:t="low",className:r="",collapsible:n=!1,defaultExpanded:i=!0}){const[a,o]=I.useState(i),{crisisLevel:l}=Gd(),u=dp[l];I.useEffect(()=>{(t==="high"||t==="emergency")&&(l==="severe"||l==="emergency")&&o(!0)},[t,l]);const d=()=>{switch(t){case"emergency":return u.colors.warning;case"high":return u.colors.accent;case"medium":return u.colors.secondary;default:return u.colors.primary}},m={backgroundColor:u.colors.background,border:`2px solid ${d()}`,borderRadius:"0.75rem",padding:u.layout.spacing==="relaxed"?"1.5rem":u.layout.spacing==="tight"?"0.75rem":"1rem",boxShadow:t==="emergency"?`0 0 30px ${u.colors.warning}40`:t==="high"?`0 0 20px ${u.colors.accent}30`:"0 4px 6px rgba(0, 0, 0, 0.1)",transition:u.animation.enableTransitions?`all ${u.animation.duration}ms ease-out`:"none",animation:t==="emergency"&&l==="emergency"?"pulse 2s infinite":"none"};return c.jsxDEV("div",{className:`stress-responsive-card ${r}`,style:m,"data-priority":t,"data-stress-level":l,children:[e&&c.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[c.jsxDEV(fd,{level:"subheading",emphasis:"medium",children:e},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/StressResponsiveUI.tsx",lineNumber:558,columnNumber:11},this),n&&c.jsxDEV(ll,{onClick:()=>o(!a),size:"normal",className:"ml-2",children:a?"âˆ’":"+"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/StressResponsiveUI.tsx",lineNumber:562,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/StressResponsiveUI.tsx",lineNumber:557,columnNumber:9},this),(!n||a)&&c.jsxDEV("div",{className:"stress-card-content",children:s},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/StressResponsiveUI.tsx",lineNumber:572,columnNumber:40},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/StressResponsiveUI.tsx",lineNumber:550,columnNumber:5},this)}const sd=[{id:"mild-stress",name:"Mild Stress Response",description:"Tests system response to mild stress indicators",duration:30,stressLevel:"mild",simulatedBehaviors:{rapidClicks:!1,erraticMovement:!0,longPauses:!1,frustrationIndicators:!1},expectedOutcomes:["UI slightly enlarges touch targets","Stress indicator appears","Subtle color adaptations"]},{id:"moderate-stress",name:"Moderate Stress Adaptation",description:"Tests adaptive UI for moderate stress levels",duration:45,stressLevel:"moderate",simulatedBehaviors:{rapidClicks:!0,erraticMovement:!0,longPauses:!0,frustrationIndicators:!0},expectedOutcomes:["Larger buttons and touch targets","Cognitive fog navigation activates","Color scheme adapts to warmer tones","Animation speeds reduce"]},{id:"severe-stress",name:"Severe Crisis Response",description:"Tests emergency mode activation and crisis features",duration:60,stressLevel:"severe",simulatedBehaviors:{rapidClicks:!0,erraticMovement:!0,longPauses:!0,frustrationIndicators:!0},expectedOutcomes:["Emergency mode interface appears","Multi-modal input system activates","Crisis alert banner shows","Simplified navigation enabled"]},{id:"emergency-crisis",name:"Emergency Crisis Mode",description:"Tests full emergency mode with all crisis features",duration:90,stressLevel:"emergency",simulatedBehaviors:{rapidClicks:!0,erraticMovement:!0,longPauses:!0,frustrationIndicators:!0},expectedOutcomes:["Full emergency interface active","All animations disabled","Maximum contrast enabled","Emergency contacts readily accessible","Voice commands working"]}];function y8(){const[s,e]=I.useState(!1),[t,r]=I.useState(null),[n,i]=I.useState(0),[a,o]=I.useState([]),[l,u]=I.useState(!1),{crisisLevel:d,resetCrisisDetection:m}=Gd(),{isCrisisModeActive:p,crisisFeatures:f}=b8(),g=I.useRef(),y=I.useRef(null),v=I.useCallback(A=>{if(l){if(A.simulatedBehaviors.rapidClicks){const V=Math.floor(Math.random()*5)+3;for(let P=0;P<V;P++)setTimeout(()=>{document.dispatchEvent(new MouseEvent("click",{bubbles:!0}))},P*100)}if(A.simulatedBehaviors.erraticMovement){const V=Math.floor(Math.random()*10)+5;for(let P=0;P<V;P++)setTimeout(()=>{document.dispatchEvent(new MouseEvent("mousemove",{clientX:Math.random()*window.innerWidth,clientY:Math.random()*window.innerHeight,bubbles:!0}))},P*200)}A.simulatedBehaviors.longPauses&&setTimeout(()=>{},3e3),A.simulatedBehaviors.frustrationIndicators&&setTimeout(()=>{["Escape","Escape","Backspace"].forEach((V,P)=>{setTimeout(()=>{document.dispatchEvent(new KeyboardEvent("keydown",{key:V}))},P*100)})},1e3)}},[l]),N=I.useCallback(A=>{A.endTime=new Date;const V=[];let P=!0;const _=sd.find(S=>S.id===A.scenarioId);_&&(d!==_.stressLevel&&(V.push(`Crisis level mismatch: expected ${_.stressLevel}, got ${d}`),P=!1),(_.stressLevel==="severe"||_.stressLevel==="emergency")&&(p||(V.push("Crisis mode should be active but is not"),P=!1)),_.stressLevel==="moderate"&&!f.cognitiveFogSupport&&(V.push("Cognitive fog support should be active"),P=!1),_.stressLevel==="severe"&&!f.emergencyMode&&(V.push("Emergency mode should be active"),P=!1),_.stressLevel==="emergency"&&!f.multiModalInput&&(V.push("Multi-modal input should be active"),P=!1));const O=A.endTime.getTime()-A.startTime.getTime();A.metrics={responseTime:O/1e3,adaptationSpeed:P?5:2,userExperience:P?V.length===0?"excellent":"good":"poor"},A.passed=P,A.issues=V,o(S=>[...S,A]),e(!1),r(null),i(0),u(!1)},[d,p,f]),D=I.useCallback(async A=>{e(!0),r(A),i(0),u(!0);const V={scenarioId:A.id,startTime:new Date,passed:!1,issues:[],metrics:{responseTime:0,adaptationSpeed:0,userExperience:"poor"}};y.current=V,m("resolved");const P=Date.now(),_=setInterval(()=>{const S=(Date.now()-P)/1e3,L=Math.min(S/A.duration*100,100);i(L),L>=100&&(clearInterval(_),N(V))},100),O=setInterval(()=>{v(A)},2e3);g.current=O,setTimeout(()=>{clearInterval(_),clearInterval(O),u(!1)},A.duration*1e3)},[v,m,N]),j=I.useCallback(()=>{g.current&&clearInterval(g.current),e(!1),r(null),i(0),u(!1),m("resolved")},[m]),C=I.useCallback(async()=>{for(const A of sd)await new Promise(V=>{D(A);const P=()=>{s?setTimeout(P,1e3):V()};setTimeout(P,(A.duration+2)*1e3)}),await new Promise(V=>setTimeout(V,3e3))},[D,s]),E=I.useCallback(()=>{o([]),m("resolved")},[m]);return c.jsxDEV("div",{className:"crisis-testing-dashboard p-6 max-w-6xl mx-auto",children:[c.jsxDEV("div",{className:"mb-6",children:[c.jsxDEV("h1",{className:"text-2xl font-bold mb-2",children:"Crisis Feature Testing Dashboard"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:354,columnNumber:9},this),c.jsxDEV("p",{className:"text-gray-600 dark:text-gray-400",children:"Test and validate crisis-responsive features under simulated stress conditions"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:355,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:353,columnNumber:7},this),c.jsxDEV(tl,{title:"Test Controls",className:"mb-6",children:c.jsxDEV("div",{className:"flex flex-wrap gap-3",children:[c.jsxDEV(ll,{onClick:C,disabled:s,urgency:"medium",children:[c.jsxDEV(m0,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:364,columnNumber:13},this),"Run All Tests"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:363,columnNumber:11},this),c.jsxDEV(ll,{onClick:j,disabled:!s,urgency:"low",children:[c.jsxDEV($D,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:369,columnNumber:13},this),"Stop Test"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:368,columnNumber:11},this),c.jsxDEV(ll,{onClick:E,disabled:s,urgency:"low",children:[c.jsxDEV(Ox,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:374,columnNumber:13},this),"Clear Results"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:373,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:362,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:361,columnNumber:7},this),s&&t&&c.jsxDEV(tl,{title:"Current Test",priority:"high",className:"mb-6",children:c.jsxDEV("div",{className:"space-y-3",children:[c.jsxDEV("div",{children:[c.jsxDEV(fd,{level:"subheading",emphasis:"medium",children:t.name},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:385,columnNumber:15},this),c.jsxDEV(fd,{level:"body",children:t.description},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:388,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:384,columnNumber:13},this),c.jsxDEV("div",{children:[c.jsxDEV("div",{className:"flex justify-between items-center mb-2",children:[c.jsxDEV("span",{className:"text-sm font-medium",children:"Progress"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:395,columnNumber:17},this),c.jsxDEV("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[Math.round(n),"%"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:396,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:394,columnNumber:15},this),c.jsxDEV("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:c.jsxDEV("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${n}%`}},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:401,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:400,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:393,columnNumber:13},this),c.jsxDEV("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[c.jsxDEV("div",{children:[c.jsxDEV("strong",{children:"Target Stress Level:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:410,columnNumber:17},this)," ",t.stressLevel]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:409,columnNumber:15},this),c.jsxDEV("div",{children:[c.jsxDEV("strong",{children:"Current Level:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:413,columnNumber:17},this)," ",d]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:412,columnNumber:15},this),c.jsxDEV("div",{children:[c.jsxDEV("strong",{children:"Crisis Mode:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:416,columnNumber:17},this)," ",p?"Active":"Inactive"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:415,columnNumber:15},this),c.jsxDEV("div",{children:[c.jsxDEV("strong",{children:"Duration:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:419,columnNumber:17},this)," ",t.duration,"s"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:418,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:408,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:383,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:382,columnNumber:9},this),c.jsxDEV("div",{className:"grid md:grid-cols-2 gap-4 mb-6",children:sd.map(A=>c.jsxDEV(tl,{title:A.name,priority:A.stressLevel==="emergency"?"emergency":A.stressLevel==="severe"?"high":"medium",className:"h-full",children:c.jsxDEV("div",{className:"space-y-3",children:[c.jsxDEV(fd,{level:"body",children:A.description},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:442,columnNumber:15},this),c.jsxDEV("div",{className:"text-sm space-y-1",children:[c.jsxDEV("div",{children:[c.jsxDEV("strong",{children:"Duration:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:446,columnNumber:19},this)," ",A.duration,"s"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:445,columnNumber:17},this),c.jsxDEV("div",{children:[c.jsxDEV("strong",{children:"Stress Level:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:449,columnNumber:19},this)," ",A.stressLevel]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:448,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:444,columnNumber:15},this),c.jsxDEV("div",{className:"text-sm",children:[c.jsxDEV("strong",{children:"Expected Outcomes:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:454,columnNumber:17},this),c.jsxDEV("ul",{className:"mt-1 ml-4 list-disc",children:A.expectedOutcomes.map((V,P)=>c.jsxDEV("li",{children:V},P,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:457,columnNumber:21},this))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:455,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:453,columnNumber:15},this),c.jsxDEV(ll,{onClick:()=>D(A),disabled:s,size:"normal",urgency:"low",className:"w-full mt-3",children:[c.jsxDEV(m0,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:469,columnNumber:17},this),"Run Test"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:462,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:441,columnNumber:13},this)},A.id,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:429,columnNumber:11},this))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:427,columnNumber:7},this),a.length>0&&c.jsxDEV(tl,{title:"Test Results",className:"mb-6",children:c.jsxDEV("div",{className:"space-y-4",children:a.map((A,V)=>{const P=sd.find(_=>_.id===A.scenarioId);return c.jsxDEV("div",{className:`p-4 rounded-lg border-2 ${A.passed?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:[c.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[c.jsxDEV("h3",{className:"font-medium flex items-center",children:[A.passed?c.jsxDEV(xa,{className:"w-5 h-5 text-green-600 mr-2"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:493,columnNumber:25},this):c.jsxDEV(Zr,{className:"w-5 h-5 text-red-600 mr-2"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:495,columnNumber:25},this),P?.name||A.scenarioId]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:491,columnNumber:21},this),c.jsxDEV("span",{className:`text-sm font-medium ${A.passed?"text-green-600":"text-red-600"}`,children:A.passed?"PASSED":"FAILED"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:499,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:490,columnNumber:19},this),c.jsxDEV("div",{className:"grid md:grid-cols-3 gap-4 text-sm",children:[c.jsxDEV("div",{children:[c.jsxDEV("strong",{children:"Response Time:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:510,columnNumber:23},this)," ",pa(A.metrics.responseTime,1),"s"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:509,columnNumber:21},this),c.jsxDEV("div",{children:[c.jsxDEV("strong",{children:"Adaptation Speed:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:514,columnNumber:23},this)," ",A.metrics.adaptationSpeed,"/5"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:513,columnNumber:21},this),c.jsxDEV("div",{children:[c.jsxDEV("strong",{children:"User Experience:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:517,columnNumber:23},this)," ",A.metrics.userExperience]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:516,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:508,columnNumber:19},this),A.issues.length>0&&c.jsxDEV("div",{className:"mt-3",children:[c.jsxDEV("strong",{className:"text-red-600",children:"Issues Found:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:523,columnNumber:23},this),c.jsxDEV("ul",{className:"mt-1 ml-4 list-disc text-red-600",children:A.issues.map((_,O)=>c.jsxDEV("li",{children:_},O,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:526,columnNumber:27},this))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:524,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:522,columnNumber:21},this)]},V,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:484,columnNumber:17},this)})},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:480,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:479,columnNumber:9},this),c.jsxDEV(tl,{title:"Testing Guidelines",priority:"low",children:c.jsxDEV("div",{className:"space-y-3 text-sm",children:[c.jsxDEV("div",{className:"flex items-start",children:[c.jsxDEV(Ui,{className:"w-4 h-4 mt-0.5 mr-2 text-blue-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:542,columnNumber:13},this),c.jsxDEV("div",{children:[c.jsxDEV("strong",{children:"Automated Testing:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:544,columnNumber:15},this)," Tests simulate user behaviors associated with stress and crisis states"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:543,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:541,columnNumber:11},this),c.jsxDEV("div",{className:"flex items-start",children:[c.jsxDEV(Ui,{className:"w-4 h-4 mt-0.5 mr-2 text-blue-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:549,columnNumber:13},this),c.jsxDEV("div",{children:[c.jsxDEV("strong",{children:"Manual Validation:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:551,columnNumber:15},this)," Observe UI changes, feature activation, and overall responsiveness"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:550,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:548,columnNumber:11},this),c.jsxDEV("div",{className:"flex items-start",children:[c.jsxDEV(Ui,{className:"w-4 h-4 mt-0.5 mr-2 text-blue-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:556,columnNumber:13},this),c.jsxDEV("div",{children:[c.jsxDEV("strong",{children:"Expected Behavior:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:558,columnNumber:15},this)," System should adapt progressively as stress levels increase"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:557,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:555,columnNumber:11},this),c.jsxDEV("div",{className:"flex items-start",children:[c.jsxDEV(Ui,{className:"w-4 h-4 mt-0.5 mr-2 text-blue-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:563,columnNumber:13},this),c.jsxDEV("div",{children:[c.jsxDEV("strong",{children:"Performance:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:565,columnNumber:15},this)," Adaptations should occur within 2-3 seconds of stress detection"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:564,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:562,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:540,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:539,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:352,columnNumber:5},this)}const SN=[{id:"1",timestamp:new Date().toISOString(),baselineData:{pain:7,locations:["lower-back","right-knee"],symptoms:["sharp","throbbing"]},notes:"Demo pain entry for screenshot purposes"}];function x8(){return c.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center p-8",children:c.jsxDEV(EN,{isOpen:!0,onClose:()=>{},entries:SN,title:"Export to WorkSafe BC Forms"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:34,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:33,columnNumber:5},this)}function v8(){return c.jsxDEV("div",{className:"min-h-screen bg-white flex items-center justify-center p-8",children:c.jsxDEV("div",{className:"max-w-4xl w-full",children:[c.jsxDEV("h1",{className:"text-3xl font-bold text-center mb-8 text-gray-900 dark:text-gray-100",children:"Pinpoint Your Pain Locations"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:51,columnNumber:9},this),c.jsxDEV(hv,{entries:SN,selectedRegions:["lower-back","right-knee"],onRegionSelect:()=>{},mode:"selection"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:54,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:50,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:49,columnNumber:5},this)}function N8(){return c.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center p-8",children:c.jsxDEV(Ur,{className:"max-w-2xl w-full shadow-2xl",children:[c.jsxDEV(ai,{className:"bg-gradient-to-r from-green-600 to-blue-600 text-white",children:c.jsxDEV(Ri,{className:"text-2xl",children:"Privacy & Security"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:73,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:72,columnNumber:9},this),c.jsxDEV(ni,{className:"p-8 space-y-6",children:[c.jsxDEV("div",{className:"flex items-start space-x-4 p-4 bg-green-50 rounded-lg border-2 border-green-200",children:[c.jsxDEV(ga,{className:"w-8 h-8 text-green-600 mt-1"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:77,columnNumber:13},this),c.jsxDEV("div",{children:[c.jsxDEV("h3",{className:"font-semibold text-lg text-gray-900 dark:text-gray-100",children:"Local Storage Only"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:79,columnNumber:15},this),c.jsxDEV("p",{className:"text-gray-700 dark:text-gray-300 mt-2",children:"Your data is stored locally on your device using encrypted IndexedDB. We cannot access your information even if we wanted to."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:82,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:78,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:76,columnNumber:11},this),c.jsxDEV("div",{className:"flex items-start space-x-4 p-4 bg-blue-50 rounded-lg border-2 border-blue-200",children:[c.jsxDEV(ga,{className:"w-8 h-8 text-blue-600 mt-1"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:90,columnNumber:13},this),c.jsxDEV("div",{children:[c.jsxDEV("h3",{className:"font-semibold text-lg text-gray-900 dark:text-gray-100",children:"AES-256 Encryption"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:92,columnNumber:15},this),c.jsxDEV("p",{className:"text-gray-700 dark:text-gray-300 mt-2",children:"All sensitive pain data is encrypted using military-grade AES-256 encryption before storage."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:95,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:91,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:89,columnNumber:11},this),c.jsxDEV("div",{className:"flex items-start space-x-4 p-4 bg-purple-50 rounded-lg border-2 border-purple-200",children:[c.jsxDEV(ga,{className:"w-8 h-8 text-purple-600 mt-1"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:103,columnNumber:13},this),c.jsxDEV("div",{children:[c.jsxDEV("h3",{className:"font-semibold text-lg text-gray-900 dark:text-gray-100",children:"HIPAA Aligned"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:105,columnNumber:15},this),c.jsxDEV("p",{className:"text-gray-700 dark:text-gray-300 mt-2",children:"Built with HIPAA compliance in mind, including audit trails and data protection measures."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:108,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:104,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:102,columnNumber:11},this),c.jsxDEV("div",{className:"text-center pt-4 border-t",children:c.jsxDEV("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[c.jsxDEV("strong",{children:"Unlike cloud-based competitors,"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:117,columnNumber:15},this)," your medical data never leaves your device."]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:116,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:115,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:75,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:71,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:70,columnNumber:5},this)}function k8(){const s=[{icon:ga,title:"Privacy First",description:"Local-only storage",color:"green"},{icon:ja,title:"One-Click Forms",description:"WorkSafe BC ready",color:"blue"},{icon:iD,title:"Free Forever",description:"No subscriptions",color:"purple"},{icon:Qr,title:"Clinical Grade",description:"Evidence-based",color:"red"}];return c.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-blue-600 to-purple-600 flex items-center justify-center p-8",children:c.jsxDEV("div",{className:"max-w-4xl w-full",children:[c.jsxDEV("h1",{className:"text-4xl font-bold text-center mb-12 text-white",children:"Why Pain Tracker?"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:161,columnNumber:9},this),c.jsxDEV("div",{className:"grid grid-cols-2 gap-6",children:s.map((e,t)=>{const r=e.icon;return c.jsxDEV(Ur,{className:"bg-white shadow-xl",children:c.jsxDEV(ni,{className:"p-8 text-center",children:[c.jsxDEV("div",{className:`inline-flex items-center justify-center w-16 h-16 rounded-full bg-${e.color}-100 mb-4`,children:c.jsxDEV(r,{className:`w-8 h-8 text-${e.color}-600`},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:171,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:168,columnNumber:19},this),c.jsxDEV("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:e.title},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:173,columnNumber:19},this),c.jsxDEV("p",{className:"text-gray-600 dark:text-gray-400",children:e.description},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:176,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:167,columnNumber:17},this)},t,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:166,columnNumber:15},this)})},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:162,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:160,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:159,columnNumber:5},this)}function D8(){const s=[{feature:"Local Storage",us:!0,competitor1:!1,competitor2:!1},{feature:"WorkSafe BC Forms",us:!0,competitor1:!1,competitor2:!0},{feature:"Free Forever",us:!0,competitor1:!1,competitor2:!1},{feature:"Offline Mode",us:!0,competitor1:!0,competitor2:!1},{feature:"Trauma-Informed UI",us:!0,competitor1:!1,competitor2:!1},{feature:"No Subscription",us:!0,competitor1:!1,competitor2:!1}];return c.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-blue-900 flex items-center justify-center p-8",children:c.jsxDEV(Ur,{className:"max-w-4xl w-full shadow-2xl",children:[c.jsxDEV(ai,{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:c.jsxDEV(Ri,{className:"text-3xl text-center",children:"Why Pay for Less?"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:204,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:203,columnNumber:9},this),c.jsxDEV(ni,{className:"p-8",children:[c.jsxDEV("table",{className:"w-full",children:[c.jsxDEV("thead",{children:c.jsxDEV("tr",{className:"border-b-2 border-gray-300 dark:border-gray-600",children:[c.jsxDEV("th",{className:"text-left py-4 px-4 text-gray-900 dark:text-gray-100",children:"Feature"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:210,columnNumber:17},this),c.jsxDEV("th",{className:"text-center py-4 px-4 text-blue-600 font-bold",children:"Pain Tracker"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:211,columnNumber:17},this),c.jsxDEV("th",{className:"text-center py-4 px-4 text-gray-600 dark:text-gray-400",children:"Competitor A"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:212,columnNumber:17},this),c.jsxDEV("th",{className:"text-center py-4 px-4 text-gray-600 dark:text-gray-400",children:"Competitor B"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:215,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:209,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:208,columnNumber:13},this),c.jsxDEV("tbody",{children:s.map((e,t)=>c.jsxDEV("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[c.jsxDEV("td",{className:"py-4 px-4 text-gray-900 dark:text-gray-100",children:e.feature},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:223,columnNumber:19},this),c.jsxDEV("td",{className:"text-center py-4 px-4",children:e.us?c.jsxDEV("span",{className:"text-green-600 text-2xl",children:"âœ“"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:226,columnNumber:23},this):c.jsxDEV("span",{className:"text-red-400 text-2xl",children:"âœ—"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:228,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:224,columnNumber:19},this),c.jsxDEV("td",{className:"text-center py-4 px-4",children:e.competitor1?c.jsxDEV("span",{className:"text-green-600 text-2xl",children:"âœ“"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:233,columnNumber:23},this):c.jsxDEV("span",{className:"text-red-400 text-2xl",children:"âœ—"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:235,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:231,columnNumber:19},this),c.jsxDEV("td",{className:"text-center py-4 px-4",children:e.competitor2?c.jsxDEV("span",{className:"text-green-600 text-2xl",children:"âœ“"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:240,columnNumber:23},this):c.jsxDEV("span",{className:"text-red-400 text-2xl",children:"âœ—"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:242,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:238,columnNumber:19},this)]},t,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:222,columnNumber:17},this))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:220,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:207,columnNumber:11},this),c.jsxDEV("div",{className:"text-center mt-8",children:c.jsxDEV("p",{className:"text-2xl font-bold text-blue-600",children:"Get More for Free"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:250,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:249,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:206,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:202,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:201,columnNumber:5},this)}function w8(){return c.jsxDEV("div",{className:"min-h-screen bg-white",children:c.jsxDEV(y8,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:264,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:263,columnNumber:5},this)}function P8(){switch(window.location.hash){case"#demo-export":case"#demo-export-modal":return c.jsxDEV(x8,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:279,columnNumber:14},this);case"#demo-body-map":return c.jsxDEV(v8,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:281,columnNumber:14},this);case"#demo-settings":return c.jsxDEV(N8,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:283,columnNumber:14},this);case"#demo-comparison":return c.jsxDEV(D8,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:285,columnNumber:14},this);case"#demo-crisis":return c.jsxDEV(w8,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:287,columnNumber:14},this);case"#demo-benefits":return c.jsxDEV(k8,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:289,columnNumber:14},this);default:return null}}const j8=()=>{const s=Oi();return c.jsxDEV("section",{className:"hero relative overflow-hidden bg-gradient-to-b from-primary/5 via-background to-background",children:[c.jsxDEV("div",{className:"border-b bg-white/80 dark:bg-gray-900/80 backdrop-blur-md sticky top-0 z-50 shadow-sm",children:c.jsxDEV("div",{className:"container mx-auto px-4",children:c.jsxDEV("div",{className:"flex items-center justify-between h-16",children:[c.jsxDEV("div",{className:"flex items-center gap-2",children:[c.jsxDEV(dr,{className:"h-6 w-6 text-primary"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:17,columnNumber:15},void 0),c.jsxDEV("span",{className:"font-bold text-xl",children:"Pain Tracker Pro"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:18,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:16,columnNumber:13},void 0),c.jsxDEV("div",{className:"flex items-center gap-3",children:[c.jsxDEV(js,{variant:"ghost",onClick:()=>s("/start"),className:"hidden sm:flex gap-2","aria-label":"Sign in to your account",children:[c.jsxDEV(ED,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:30,columnNumber:17},void 0),c.jsxDEV("span",{children:"Sign In"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:31,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:24,columnNumber:15},void 0),c.jsxDEV(js,{variant:"outline",onClick:()=>s("/clinic"),className:"gap-2 border-2 border-blue-200 hover:border-blue-400 hover:bg-blue-50 dark:border-blue-900 dark:hover:bg-blue-950","aria-label":"Access clinician portal",children:[c.jsxDEV(xo,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:41,columnNumber:17},void 0),c.jsxDEV("span",{className:"hidden sm:inline",children:"Clinician Portal"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:42,columnNumber:17},void 0),c.jsxDEV("span",{className:"sm:hidden",children:"Clinic"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:43,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:35,columnNumber:15},void 0),c.jsxDEV(js,{onClick:()=>s("/start"),className:"gap-2","aria-label":"Start tracking your pain for free",children:[c.jsxDEV("span",{children:"Get Started"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:52,columnNumber:17},void 0),c.jsxDEV(pd,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:53,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:47,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:22,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:14,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:13,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:12,columnNumber:7},void 0),c.jsxDEV("div",{className:"container mx-auto px-4 py-16 md:py-24",children:c.jsxDEV("div",{className:"grid gap-12 lg:grid-cols-2 lg:gap-16 items-center",children:[c.jsxDEV("div",{className:"space-y-6 text-center lg:text-left",children:[c.jsxDEV("div",{className:"inline-flex items-center gap-2 rounded-full border border-primary/20 bg-primary/10 px-4 py-2 text-sm font-medium text-primary",children:[c.jsxDEV(ii,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:66,columnNumber:15},void 0),c.jsxDEV("span",{children:"100% Local & Private â€¢ No Account Required"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:67,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:65,columnNumber:13},void 0),c.jsxDEV("h1",{className:"text-4xl font-bold tracking-tight sm:text-5xl md:text-6xl",children:["Professional Pain Management for"," ",c.jsxDEV("span",{className:"text-primary",children:"Patients & Clinicians"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:73,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:71,columnNumber:13},void 0),c.jsxDEV("p",{className:"text-lg text-muted-foreground md:text-xl max-w-2xl mx-auto lg:mx-0",children:"Clinical-grade pain tracking with AI-powered insights, automated WorkSafe BC reporting, and empathy-driven design. Your data stays on your deviceâ€”secure, private, and always accessible."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:77,columnNumber:13},void 0),c.jsxDEV("div",{className:"flex flex-wrap gap-4 justify-center lg:justify-start text-sm text-muted-foreground",children:[c.jsxDEV("div",{className:"flex items-center gap-2",children:[c.jsxDEV(dr,{className:"h-4 w-4 text-primary"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:84,columnNumber:17},void 0),c.jsxDEV("span",{children:"AI Pattern Detection"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:85,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:83,columnNumber:15},void 0),c.jsxDEV("div",{className:"flex items-center gap-2",children:[c.jsxDEV(ii,{className:"h-4 w-4 text-primary"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:88,columnNumber:17},void 0),c.jsxDEV("span",{children:"Military-Grade Security"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:89,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:87,columnNumber:15},void 0),c.jsxDEV("div",{className:"flex items-center gap-2",children:[c.jsxDEV(Qr,{className:"h-4 w-4 text-primary"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:92,columnNumber:17},void 0),c.jsxDEV("span",{children:"Trauma-Informed"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:93,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:91,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:82,columnNumber:13},void 0),c.jsxDEV("div",{className:"flex flex-col sm:flex-row gap-4 justify-center lg:justify-start pt-4",children:[c.jsxDEV(js,{size:"lg",onClick:()=>s("/start"),className:"text-lg px-8 bg-gradient-to-r from-primary to-blue-600 hover:from-primary/90 hover:to-blue-600/90","aria-label":"Start tracking your pain as a patient",children:["Start as Patient",c.jsxDEV(pd,{className:"ml-2 h-5 w-5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:107,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:100,columnNumber:15},void 0),c.jsxDEV(js,{size:"lg",variant:"outline",onClick:()=>s("/clinic"),className:"text-lg px-8 border-2 hover:bg-blue-50 dark:hover:bg-blue-950",children:[c.jsxDEV(xo,{className:"mr-2 h-5 w-5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:117,columnNumber:17},void 0),"Clinician Login"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:111,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:98,columnNumber:13},void 0),c.jsxDEV("div",{className:"space-y-2",children:[c.jsxDEV("p",{className:"text-xs text-muted-foreground",children:["ðŸ¥ ",c.jsxDEV("strong",{children:"For Patients:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:125,columnNumber:20},void 0)," No account required â€¢ Works offline â€¢ Export to providers"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:124,columnNumber:15},void 0),c.jsxDEV("p",{className:"text-xs text-muted-foreground",children:["ðŸ‘¨â€âš•ï¸ ",c.jsxDEV("strong",{children:"For Clinicians:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:128,columnNumber:23},void 0)," AI insights â€¢ One-click WCB reports â€¢ Real-time monitoring"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:127,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:123,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:63,columnNumber:11},void 0),c.jsxDEV("div",{className:"relative",children:c.jsxDEV("div",{className:"relative rounded-lg border-2 border-primary/20 bg-gradient-to-br from-primary/5 to-accent/5 p-8 shadow-2xl",children:[c.jsxDEV("div",{className:"rounded-md overflow-hidden border border-border shadow-lg",children:c.jsxDEV("img",{src:"/main-dashboard.png",alt:"Pain Tracker Pro Dashboard featuring the 7-step pain assessment form, customizable widgets, analytics visualizations, and trauma-informed design",className:"mx-auto max-h-[420px] w-auto max-w-full object-contain md:max-h-[480px]",loading:"lazy"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:138,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:137,columnNumber:15},void 0),c.jsxDEV("div",{className:"absolute -top-4 -right-4 bg-primary text-primary-foreground rounded-full px-4 py-2 text-sm font-medium shadow-lg",children:"Open Source"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:147,columnNumber:15},void 0),c.jsxDEV("div",{className:"absolute -bottom-4 -left-4 bg-accent text-accent-foreground rounded-full px-4 py-2 text-sm font-medium shadow-lg",children:"WCAG 2.1 AA"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:150,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:136,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:134,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:61,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:60,columnNumber:7},void 0),c.jsxDEV("div",{className:"absolute top-0 right-0 w-96 h-96 bg-primary/10 rounded-full blur-3xl -z-10"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:159,columnNumber:7},void 0),c.jsxDEV("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-accent/10 rounded-full blur-3xl -z-10"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:160,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:10,columnNumber:5},void 0)},C8=[{icon:ga,title:"100% Local & Private",description:"Your pain data never leaves your device. No cloud uploads, no tracking, no data collection. Military-grade AES-256 encryption keeps your health data completely private.",color:"text-green-600 dark:text-green-400",bgColor:"bg-green-100 dark:bg-green-900/20",stat:"Zero data breaches"},{icon:Ld,title:"AI-Powered Analytics",description:"Advanced pattern recognition with 8 AI algorithms detects medication efficacy, triggers, correlations, and trends. Professional WorkSafe BC reporting included.",color:"text-blue-600 dark:text-blue-400",bgColor:"bg-blue-100 dark:bg-blue-900/20",stat:"8 AI algorithms"},{icon:Qr,title:"Trauma-Informed Design",description:"Built with empathy for chronic pain sufferers. Gentle language, accessible interface, crisis detection, panic mode, and customizable sensitivity settings.",color:"text-rose-600 dark:text-rose-400",bgColor:"bg-rose-100 dark:bg-rose-900/20",stat:"WCAG 2.1 AA certified"},{icon:xw,title:"Works Completely Offline",description:"Full functionality without internet. Progressive Web App technology with background sync ensures you can track pain anytime, anywhere.",color:"text-purple-600 dark:text-purple-400",bgColor:"bg-purple-100 dark:bg-purple-900/20",stat:"100% offline capable"},{icon:ja,title:"Instant Insights",description:"Real-time pattern detection, automated alerts for pain escalation, and one-click report generation. Save 25+ hours per week on documentation.",color:"text-amber-600 dark:text-amber-400",bgColor:"bg-amber-100 dark:bg-amber-900/20",stat:"95% time savings"},{icon:Na,title:"Built with Patients",description:"Community-driven development with input from chronic pain sufferers, healthcare providers, and accessibility experts. Open source and transparent.",color:"text-indigo-600 dark:text-indigo-400",bgColor:"bg-indigo-100 dark:bg-indigo-900/20",stat:"Community verified"}],E8=()=>c.jsxDEV("section",{id:"features",className:"py-16 md:py-24 bg-muted/30",children:c.jsxDEV("div",{className:"container mx-auto px-4",children:[c.jsxDEV("div",{className:"text-center mb-12 max-w-3xl mx-auto",children:[c.jsxDEV("h2",{className:"text-3xl font-bold tracking-tight sm:text-4xl mb-4",children:"Why Choose Pain Tracker Pro?"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/BenefitsGrid.tsx",lineNumber:68,columnNumber:11},void 0),c.jsxDEV("p",{className:"text-lg text-muted-foreground",children:"Powerful features designed with your privacy, security, and well-being in mind."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/BenefitsGrid.tsx",lineNumber:71,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/BenefitsGrid.tsx",lineNumber:67,columnNumber:9},void 0),c.jsxDEV("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3 lg:gap-8 max-w-7xl mx-auto",children:C8.map(s=>{const e=s.icon;return c.jsxDEV(Ur,{className:"relative overflow-hidden border-2 hover:border-primary/50 transition-all duration-300 hover:shadow-lg group",children:[c.jsxDEV(ai,{className:"space-y-4",children:[c.jsxDEV("div",{className:"flex items-start justify-between",children:[c.jsxDEV("div",{className:`w-12 h-12 rounded-lg ${s.bgColor} flex items-center justify-center group-hover:scale-110 transition-transform`,children:c.jsxDEV(e,{className:`h-6 w-6 ${s.color}`},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/BenefitsGrid.tsx",lineNumber:91,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/BenefitsGrid.tsx",lineNumber:88,columnNumber:21},void 0),c.jsxDEV("div",{className:`text-xs font-semibold ${s.color} px-2 py-1 rounded-full ${s.bgColor}`,children:s.stat},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/BenefitsGrid.tsx",lineNumber:93,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/BenefitsGrid.tsx",lineNumber:87,columnNumber:19},void 0),c.jsxDEV(Ri,{className:"text-xl",children:s.title},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/BenefitsGrid.tsx",lineNumber:99,columnNumber:19},void 0),c.jsxDEV(Pl,{className:"text-base leading-relaxed",children:s.description},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/BenefitsGrid.tsx",lineNumber:102,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/BenefitsGrid.tsx",lineNumber:85,columnNumber:17},void 0),c.jsxDEV("div",{className:`absolute top-0 right-0 w-32 h-32 ${s.bgColor} rounded-full blur-3xl opacity-20 -z-10`},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/BenefitsGrid.tsx",lineNumber:108,columnNumber:17},void 0)]},s.title,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/BenefitsGrid.tsx",lineNumber:81,columnNumber:15},void 0)})},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/BenefitsGrid.tsx",lineNumber:77,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/BenefitsGrid.tsx",lineNumber:65,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/BenefitsGrid.tsx",lineNumber:64,columnNumber:5},void 0),S8=[{icon:ii,title:"AES-256 Encryption",description:"Military-grade encryption"},{icon:ga,title:"HIPAA-Aligned",description:"Healthcare data standards"},{icon:Uh,title:"Zero Tracking",description:"No analytics or cookies"},{icon:rD,title:"Open Source",description:"Auditable & transparent"},{icon:fD,title:"WCAG 2.1 AA",description:"Accessibility certified"},{icon:Na,title:"Community-Driven",description:"Built with patients"}],A8=()=>c.jsxDEV("section",{className:"py-12 md:py-16 border-y bg-card",children:c.jsxDEV("div",{className:"container mx-auto px-4",children:[c.jsxDEV("div",{className:"text-center mb-10",children:[c.jsxDEV("h2",{className:"text-2xl font-bold tracking-tight sm:text-3xl mb-2",children:"Security & Trust You Can Verify"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/TrustIndicators.tsx",lineNumber:43,columnNumber:11},void 0),c.jsxDEV("p",{className:"text-muted-foreground",children:"Your health data deserves the highest level of protection"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/TrustIndicators.tsx",lineNumber:46,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/TrustIndicators.tsx",lineNumber:42,columnNumber:9},void 0),c.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-6 max-w-6xl mx-auto",children:S8.map(s=>{const e=s.icon;return c.jsxDEV("div",{className:"flex flex-col items-center text-center space-y-2 p-4 rounded-lg hover:bg-accent/50 transition-colors",children:[c.jsxDEV("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:c.jsxDEV(e,{className:"h-6 w-6 text-primary"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/TrustIndicators.tsx",lineNumber:61,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/TrustIndicators.tsx",lineNumber:60,columnNumber:17},void 0),c.jsxDEV("h3",{className:"font-semibold text-sm",children:s.title},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/TrustIndicators.tsx",lineNumber:63,columnNumber:17},void 0),c.jsxDEV("p",{className:"text-xs text-muted-foreground",children:s.description},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/TrustIndicators.tsx",lineNumber:64,columnNumber:17},void 0)]},s.title,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/TrustIndicators.tsx",lineNumber:56,columnNumber:15},void 0)})},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/TrustIndicators.tsx",lineNumber:52,columnNumber:9},void 0),c.jsxDEV("div",{className:"mt-8 text-center",children:c.jsxDEV("p",{className:"text-sm text-muted-foreground max-w-2xl mx-auto",children:[c.jsxDEV("strong",{children:"Your data, your device."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/TrustIndicators.tsx",lineNumber:73,columnNumber:13},void 0)," We use local-first architecture with IndexedDB storage. No servers, no cloud, no third parties."," ",c.jsxDEV("a",{href:"https://github.com/CrisisCore-Systems/pain-tracker",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"View source code â†’"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/TrustIndicators.tsx",lineNumber:75,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/TrustIndicators.tsx",lineNumber:72,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/TrustIndicators.tsx",lineNumber:71,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/TrustIndicators.tsx",lineNumber:40,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/TrustIndicators.tsx",lineNumber:39,columnNumber:5},void 0),_8=[{icon:dr,title:"7-Step Pain Assessment",description:"Comprehensive tracking across 25+ anatomical locations with severity gradients."},{icon:zr,title:"Pattern Recognition",description:"Advanced heuristic analysis detects pain trends, flares, and correlations."},{icon:dD,title:"WorkSafe BC Export",description:"Generate clinical reports for claims, healthcare providers, and legal documentation."},{icon:bo,title:"Medication Tracking",description:"Monitor dosages, side effects, and treatment effectiveness over time."},{icon:ci,title:"Quality of Life Metrics",description:"Track mood, sleep, and activity impact with correlation analysis."},{icon:Lh,title:"Body Mapping",description:"Visual anatomical heatmaps show pain distribution and progression."}],U8=()=>c.jsxDEV("section",{className:"py-16 md:py-24 bg-background",children:c.jsxDEV("div",{className:"container mx-auto px-4",children:[c.jsxDEV("div",{className:"text-center mb-12 max-w-3xl mx-auto",children:[c.jsxDEV("h2",{className:"text-3xl font-bold tracking-tight sm:text-4xl mb-4",children:"Comprehensive Pain Management Tools"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/FeatureShowcase.tsx",lineNumber:44,columnNumber:11},void 0),c.jsxDEV("p",{className:"text-lg text-muted-foreground",children:"Everything you need to understand, track, and communicate your pain effectively."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/FeatureShowcase.tsx",lineNumber:47,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/FeatureShowcase.tsx",lineNumber:43,columnNumber:9},void 0),c.jsxDEV("div",{className:"grid gap-8 md:grid-cols-2 lg:grid-cols-3 max-w-6xl mx-auto",children:_8.map(s=>{const e=s.icon;return c.jsxDEV("div",{className:"flex gap-4 p-6 rounded-lg border bg-card hover:shadow-md transition-all duration-300",children:[c.jsxDEV("div",{className:"flex-shrink-0",children:c.jsxDEV("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:c.jsxDEV(e,{className:"h-5 w-5 text-primary"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/FeatureShowcase.tsx",lineNumber:64,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/FeatureShowcase.tsx",lineNumber:63,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/FeatureShowcase.tsx",lineNumber:62,columnNumber:17},void 0),c.jsxDEV("div",{className:"space-y-2",children:[c.jsxDEV("h3",{className:"font-semibold text-base",children:s.title},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/FeatureShowcase.tsx",lineNumber:70,columnNumber:19},void 0),c.jsxDEV("p",{className:"text-sm text-muted-foreground leading-relaxed",children:s.description},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/FeatureShowcase.tsx",lineNumber:71,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/FeatureShowcase.tsx",lineNumber:69,columnNumber:17},void 0)]},s.title,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/FeatureShowcase.tsx",lineNumber:57,columnNumber:15},void 0)})},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/FeatureShowcase.tsx",lineNumber:53,columnNumber:9},void 0),c.jsxDEV("div",{className:"mt-12 text-center",children:[c.jsxDEV("p",{className:"text-muted-foreground mb-4",children:"Ready to take control of your pain management?"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/FeatureShowcase.tsx",lineNumber:82,columnNumber:11},void 0),c.jsxDEV("a",{href:"/start",className:"inline-flex items-center gap-2 text-primary font-semibold hover:underline text-lg",children:["Get Started Now",c.jsxDEV("span",{children:"â†’"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/FeatureShowcase.tsx",lineNumber:90,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/FeatureShowcase.tsx",lineNumber:85,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/FeatureShowcase.tsx",lineNumber:81,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/FeatureShowcase.tsx",lineNumber:41,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/FeatureShowcase.tsx",lineNumber:40,columnNumber:5},void 0),V8=()=>{const s=Oi(),e=new Date().getFullYear();return c.jsxDEV("footer",{className:"border-t bg-gradient-to-b from-background to-muted/50",children:[c.jsxDEV("div",{className:"border-b bg-gradient-to-r from-primary/5 via-blue-500/5 to-primary/5",children:c.jsxDEV("div",{className:"container mx-auto px-4 py-12",children:c.jsxDEV("div",{className:"max-w-4xl mx-auto text-center space-y-6",children:[c.jsxDEV("h2",{className:"text-3xl font-bold tracking-tight sm:text-4xl",children:"Ready to Transform Your Pain Management?"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:16,columnNumber:13},void 0),c.jsxDEV("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Join thousands of patients and clinicians using Pain Tracker Pro to understand, track, and manage chronic pain effectively."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:19,columnNumber:13},void 0),c.jsxDEV("div",{className:"flex flex-col sm:flex-row gap-4 justify-center pt-4",children:[c.jsxDEV(js,{size:"lg",onClick:()=>s("/start"),className:"gap-2 text-lg px-8 bg-gradient-to-r from-primary to-blue-600 hover:from-primary/90 hover:to-blue-600/90",children:["Start as Patient",c.jsxDEV(pd,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:29,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:23,columnNumber:15},void 0),c.jsxDEV(js,{size:"lg",variant:"outline",onClick:()=>s("/clinic"),className:"gap-2 text-lg px-8 border-2",children:[c.jsxDEV(xo,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:37,columnNumber:17},void 0),"Clinician Login"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:31,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:22,columnNumber:13},void 0),c.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"No credit card â€¢ No account required â€¢ 100% free forever"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:41,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:15,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:14,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:13,columnNumber:7},void 0),c.jsxDEV("div",{className:"container mx-auto px-4 py-12",children:[c.jsxDEV("div",{className:"grid gap-8 md:grid-cols-4",children:[c.jsxDEV("div",{className:"space-y-4 md:col-span-2",children:[c.jsxDEV("div",{className:"flex items-center gap-2",children:[c.jsxDEV(dr,{className:"h-6 w-6 text-primary"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:54,columnNumber:15},void 0),c.jsxDEV("span",{className:"font-bold text-lg",children:"Pain Tracker Pro"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:55,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:53,columnNumber:13},void 0),c.jsxDEV("p",{className:"text-sm text-muted-foreground max-w-md",children:"Professional-grade chronic pain tracking with AI-powered insights, automated reporting, and trauma-informed design. Built with empathy for patients and clinicians."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:57,columnNumber:13},void 0),c.jsxDEV("div",{className:"flex items-center gap-4 pt-2",children:[c.jsxDEV("a",{href:"https://github.com/CrisisCore-Systems/pain-tracker",target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-primary transition-colors","aria-label":"View source code on GitHub",children:c.jsxDEV(Vm,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:68,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:61,columnNumber:15},void 0),c.jsxDEV("a",{href:"mailto:support@paintracker.ca",className:"text-muted-foreground hover:text-primary transition-colors","aria-label":"Contact support",children:c.jsxDEV(Vh,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:75,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:70,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:60,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:52,columnNumber:11},void 0),c.jsxDEV("div",{className:"space-y-4",children:[c.jsxDEV("h3",{className:"font-semibold text-sm",children:"Resources"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:82,columnNumber:13},void 0),c.jsxDEV("ul",{className:"space-y-3 text-sm",children:[c.jsxDEV("li",{children:c.jsxDEV("a",{href:"https://github.com/CrisisCore-Systems/pain-tracker",target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-primary transition-colors flex items-center gap-2",children:[c.jsxDEV(Vm,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:91,columnNumber:19},void 0),"Source Code"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:85,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:84,columnNumber:15},void 0),c.jsxDEV("li",{children:c.jsxDEV("a",{href:"https://github.com/CrisisCore-Systems/pain-tracker/blob/main/README.md",target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-primary transition-colors",children:"Documentation"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:96,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:95,columnNumber:15},void 0),c.jsxDEV("li",{children:c.jsxDEV("a",{href:"https://github.com/CrisisCore-Systems/pain-tracker/blob/main/SECURITY.md",target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-primary transition-colors flex items-center gap-2",children:[c.jsxDEV(ii,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:112,columnNumber:19},void 0),"Security Policy"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:106,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:105,columnNumber:15},void 0),c.jsxDEV("li",{children:c.jsxDEV("a",{href:"https://github.com/CrisisCore-Systems/pain-tracker/blob/main/CONTRIBUTING.md",target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-primary transition-colors",children:"Contributing"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:117,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:116,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:83,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:81,columnNumber:11},void 0),c.jsxDEV("div",{className:"space-y-4",children:[c.jsxDEV("h3",{className:"font-semibold text-sm",children:"Key Features"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:131,columnNumber:13},void 0),c.jsxDEV("ul",{className:"space-y-3 text-sm text-muted-foreground",children:[c.jsxDEV("li",{children:"âœ“ 8 AI Algorithms"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:133,columnNumber:15},void 0),c.jsxDEV("li",{children:"âœ“ WorkSafe BC Reports"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:134,columnNumber:15},void 0),c.jsxDEV("li",{children:"âœ“ Real-Time Monitoring"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:135,columnNumber:15},void 0),c.jsxDEV("li",{children:"âœ“ 100% Offline"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:136,columnNumber:15},void 0),c.jsxDEV("li",{children:"âœ“ Military Encryption"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:137,columnNumber:15},void 0),c.jsxDEV("li",{children:"âœ“ Trauma-Informed"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:138,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:132,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:130,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:50,columnNumber:9},void 0),c.jsxDEV("div",{className:"mt-12 pt-8 border-t",children:c.jsxDEV("div",{className:"flex flex-wrap justify-center gap-6 text-xs text-muted-foreground",children:[c.jsxDEV("div",{className:"flex items-center gap-2",children:[c.jsxDEV(ii,{className:"h-4 w-4 text-green-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:147,columnNumber:15},void 0),c.jsxDEV("span",{children:"AES-256 Encrypted"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:148,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:146,columnNumber:13},void 0),c.jsxDEV("div",{className:"flex items-center gap-2",children:[c.jsxDEV(Qr,{className:"h-4 w-4 text-rose-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:151,columnNumber:15},void 0),c.jsxDEV("span",{children:"WCAG 2.1 AA"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:152,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:150,columnNumber:13},void 0),c.jsxDEV("div",{className:"flex items-center gap-2",children:[c.jsxDEV(dr,{className:"h-4 w-4 text-blue-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:155,columnNumber:15},void 0),c.jsxDEV("span",{children:"HIPAA-Aligned"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:156,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:154,columnNumber:13},void 0),c.jsxDEV("div",{className:"flex items-center gap-2",children:[c.jsxDEV(Vm,{className:"h-4 w-4 text-purple-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:159,columnNumber:15},void 0),c.jsxDEV("span",{children:"Open Source"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:160,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:158,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:145,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:144,columnNumber:9},void 0),c.jsxDEV("div",{className:"mt-8 pt-8 border-t flex flex-col md:flex-row justify-between items-center gap-4 text-sm text-muted-foreground",children:[c.jsxDEV("div",{className:"flex flex-col sm:flex-row items-center gap-4",children:[c.jsxDEV("p",{children:["Â© ",e," CrisisCore Systems. Released under MIT License."]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:168,columnNumber:13},void 0),c.jsxDEV("a",{href:"https://github.com/CrisisCore-Systems/pain-tracker/blob/main/LICENSE",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"View License"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:169,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:167,columnNumber:11},void 0),c.jsxDEV("p",{className:"flex items-center gap-2",children:["Made with ",c.jsxDEV(Qr,{className:"h-4 w-4 text-red-500 fill-red-500"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:179,columnNumber:23},void 0)," for chronic pain survivors"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:178,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:166,columnNumber:9},void 0),c.jsxDEV("div",{className:"mt-8 p-4 rounded-lg bg-muted/50 border text-center",children:c.jsxDEV("p",{className:"text-sm text-muted-foreground",children:[c.jsxDEV("strong",{className:"text-foreground",children:"Your Privacy is Guaranteed:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:186,columnNumber:13},void 0)," We don't collect any data, we don't use cookies, we don't track you. Your pain data stays on your device, encrypted with AES-256. No servers, no cloud, no third parties."," ",c.jsxDEV("a",{href:"https://github.com/CrisisCore-Systems/pain-tracker",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"Verify our code â†’"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:188,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:185,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:184,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:49,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:11,columnNumber:5},void 0)},L8=[{icon:pc,title:"Track Your Journey",description:"7-step pain assessment with body mapping, medication tracking, and quality of life metrics.",features:["Visual pain heatmaps","Medication side effects","Mood & sleep correlation"]},{icon:zr,title:"Understand Patterns",description:"AI-powered pattern detection identifies triggers, correlations, and trends in your pain.",features:["Trigger identification","Weather correlations","Time-of-day analysis"]},{icon:In,title:"Export Reports",description:"Generate professional reports for healthcare providers, WorkSafe BC, or insurance claims.",features:["One-click WCB export","Clinical summaries","CSV data exports"]}],T8=[{icon:Mn,title:"AI-Powered Insights",description:"8 sophisticated algorithms analyze patient data for medication efficacy, triggers, and correlations.",features:["Pearson correlation","Treatment efficacy","Confidence scoring"]},{icon:go,title:"Real-Time Monitoring",description:"Live patient alerts for pain escalation, missed medications, and crisis detection.",features:["Pain escalation alerts","Medication adherence","Crisis warnings"]},{icon:In,title:"Automated Reports",description:"One-click generation of WorkSafe BC, insurance, and progress reports with clinical summaries.",features:["SOAP format notes","Work capacity assessment","Treatment timelines"]}],M8=()=>{const s=Oi();return c.jsxDEV("section",{className:"py-16 md:py-24 bg-gradient-to-b from-muted/30 to-background",children:c.jsxDEV("div",{className:"container mx-auto px-4",children:[c.jsxDEV("div",{className:"mb-16",children:[c.jsxDEV("div",{className:"text-center mb-12 max-w-3xl mx-auto",children:[c.jsxDEV("div",{className:"inline-flex items-center gap-2 rounded-full border border-blue-200 bg-blue-50 dark:border-blue-900 dark:bg-blue-950 px-4 py-2 text-sm font-medium text-blue-700 dark:text-blue-300 mb-4",children:[c.jsxDEV(pc,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/UseCases.tsx",lineNumber:68,columnNumber:15},void 0),c.jsxDEV("span",{children:"For Patients"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/UseCases.tsx",lineNumber:69,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/UseCases.tsx",lineNumber:67,columnNumber:13},void 0),c.jsxDEV("h2",{className:"text-3xl font-bold tracking-tight sm:text-4xl mb-4",children:"Take Control of Your Pain Management"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/UseCases.tsx",lineNumber:71,columnNumber:13},void 0),c.jsxDEV("p",{className:"text-lg text-muted-foreground",children:"Comprehensive tools to track, understand, and communicate your pain effectively."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/UseCases.tsx",lineNumber:74,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/UseCases.tsx",lineNumber:66,columnNumber:11},void 0),c.jsxDEV("div",{className:"grid gap-6 md:grid-cols-3 lg:gap-8 max-w-6xl mx-auto mb-8",children:L8.map(e=>{const t=e.icon;return c.jsxDEV(Ur,{className:"relative overflow-hidden border-2 hover:border-primary/50 transition-all duration-300 hover:shadow-lg",children:c.jsxDEV(ai,{className:"space-y-4",children:[c.jsxDEV("div",{className:"w-12 h-12 rounded-lg bg-blue-100 dark:bg-blue-900/20 flex items-center justify-center",children:c.jsxDEV(t,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/UseCases.tsx",lineNumber:91,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/UseCases.tsx",lineNumber:90,columnNumber:21},void 0),c.jsxDEV(Ri,{className:"text-xl",children:e.title},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/UseCases.tsx",lineNumber:95,columnNumber:21},void 0),c.jsxDEV(Pl,{className:"text-base leading-relaxed",children:e.description},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/UseCases.tsx",lineNumber:98,columnNumber:21},void 0),c.jsxDEV("ul",{className:"space-y-2 text-sm text-muted-foreground",children:e.features.map(r=>c.jsxDEV("li",{className:"flex items-start gap-2",children:[c.jsxDEV("span",{className:"text-primary mt-1",children:"âœ“"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/UseCases.tsx",lineNumber:106,columnNumber:27},void 0),c.jsxDEV("span",{children:r},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/UseCases.tsx",lineNumber:107,columnNumber:27},void 0)]},r,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/UseCases.tsx",lineNumber:105,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/UseCases.tsx",lineNumber:103,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/UseCases.tsx",lineNumber:88,columnNumber:19},void 0)},e.title,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/UseCases.tsx",lineNumber:84,columnNumber:17},void 0)})},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/UseCases.tsx",lineNumber:80,columnNumber:11},void 0),c.jsxDEV("div",{className:"text-center",children:[c.jsxDEV(js,{size:"lg",onClick:()=>s("/start"),className:"gap-2 text-lg px-8 bg-gradient-to-r from-primary to-blue-600 hover:from-primary/90 hover:to-blue-600/90",children:["Start Tracking Free",c.jsxDEV(pd,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/UseCases.tsx",lineNumber:125,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/UseCases.tsx",lineNumber:119,columnNumber:13},void 0),c.jsxDEV("p",{className:"text-xs text-muted-foreground mt-3",children:"No account required â€¢ 100% private â€¢ Works offline"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/UseCases.tsx",lineNumber:127,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/UseCases.tsx",lineNumber:118,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/UseCases.tsx",lineNumber:64,columnNumber:9},void 0),c.jsxDEV("div",{children:[c.jsxDEV("div",{className:"text-center mb-12 max-w-3xl mx-auto",children:[c.jsxDEV("div",{className:"inline-flex items-center gap-2 rounded-full border border-green-200 bg-green-50 dark:border-green-900 dark:bg-green-950 px-4 py-2 text-sm font-medium text-green-700 dark:text-green-300 mb-4",children:[c.jsxDEV(xo,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/UseCases.tsx",lineNumber:138,columnNumber:15},void 0),c.jsxDEV("span",{children:"For Healthcare Professionals"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/UseCases.tsx",lineNumber:139,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/UseCases.tsx",lineNumber:137,columnNumber:13},void 0),c.jsxDEV("h2",{className:"text-3xl font-bold tracking-tight sm:text-4xl mb-4",children:"Professional-Grade Clinical Tools"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/UseCases.tsx",lineNumber:141,columnNumber:13},void 0),c.jsxDEV("p",{className:"text-lg text-muted-foreground",children:"Save 25+ hours per week with AI-powered insights and automated reporting."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/UseCases.tsx",lineNumber:144,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/UseCases.tsx",lineNumber:136,columnNumber:11},void 0),c.jsxDEV("div",{className:"grid gap-6 md:grid-cols-3 lg:gap-8 max-w-6xl mx-auto mb-8",children:T8.map(e=>{const t=e.icon;return c.jsxDEV(Ur,{className:"relative overflow-hidden border-2 hover:border-green-600/50 transition-all duration-300 hover:shadow-lg",children:c.jsxDEV(ai,{className:"space-y-4",children:[c.jsxDEV("div",{className:"w-12 h-12 rounded-lg bg-green-100 dark:bg-green-900/20 flex items-center justify-center",children:c.jsxDEV(t,{className:"h-6 w-6 text-green-600 dark:text-green-400"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/UseCases.tsx",lineNumber:161,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/UseCases.tsx",lineNumber:160,columnNumber:21},void 0),c.jsxDEV(Ri,{className:"text-xl",children:e.title},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/UseCases.tsx",lineNumber:165,columnNumber:21},void 0),c.jsxDEV(Pl,{className:"text-base leading-relaxed",children:e.description},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/UseCases.tsx",lineNumber:168,columnNumber:21},void 0),c.jsxDEV("ul",{className:"space-y-2 text-sm text-muted-foreground",children:e.features.map(r=>c.jsxDEV("li",{className:"flex items-start gap-2",children:[c.jsxDEV("span",{className:"text-green-600 dark:text-green-400 mt-1",children:"âœ“"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/UseCases.tsx",lineNumber:176,columnNumber:27},void 0),c.jsxDEV("span",{children:r},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/UseCases.tsx",lineNumber:177,columnNumber:27},void 0)]},r,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/UseCases.tsx",lineNumber:175,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/UseCases.tsx",lineNumber:173,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/UseCases.tsx",lineNumber:158,columnNumber:19},void 0)},e.title,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/UseCases.tsx",lineNumber:154,columnNumber:17},void 0)})},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/UseCases.tsx",lineNumber:150,columnNumber:11},void 0),c.jsxDEV("div",{className:"text-center",children:[c.jsxDEV(js,{size:"lg",onClick:()=>s("/clinic"),className:"gap-2 text-lg px-8 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-600/90 hover:to-emerald-600/90",children:[c.jsxDEV(xo,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/UseCases.tsx",lineNumber:194,columnNumber:15},void 0),"Access Clinician Portal"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/UseCases.tsx",lineNumber:189,columnNumber:13},void 0),c.jsxDEV("p",{className:"text-xs text-muted-foreground mt-3",children:"Role-based access â€¢ AI insights â€¢ HIPAA-aligned security"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/UseCases.tsx",lineNumber:197,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/UseCases.tsx",lineNumber:188,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/UseCases.tsx",lineNumber:134,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/UseCases.tsx",lineNumber:62,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/UseCases.tsx",lineNumber:61,columnNumber:5},void 0)},I8=[{name:"Sarah M.",role:"Chronic Pain Patient",avatar:"ðŸ‘©â€ðŸ¦½",rating:5,quote:"Finally, a pain tracker that actually understands what I'm going through. The trauma-informed design makes it feel safe, and the AI insights helped me identify triggers I never noticed.",highlight:"Identified hidden triggers"},{name:"Dr. James Chen",role:"Pain Management Specialist",avatar:"ðŸ‘¨â€âš•ï¸",rating:5,quote:"The clinician portal saves me hours every week. AI pattern detection and one-click WorkSafe BC reports are game-changers. My patients love how easy it is to share data.",highlight:"Saves 25+ hours/week"},{name:"Michael R.",role:"WorkSafe BC Claimant",avatar:"ðŸ¦¾",rating:5,quote:"The automated WCB reporting feature is incredible. What used to take me days of paperwork now takes one click. My lawyer was impressed with the quality of the data.",highlight:"One-click WCB reports"},{name:"Dr. Emily Wong",role:"Occupational Therapist",avatar:"ðŸ‘©â€âš•ï¸",rating:5,quote:"I recommend this to all my chronic pain patients. The offline capability means they can track anywhere, and the privacy-first approach gives them control.",highlight:"Recommended by professionals"},{name:"David L.",role:"Fibromyalgia Patient",avatar:"ðŸ§‘â€ðŸ¦¯",rating:5,quote:"The accessibility features are outstanding. High contrast mode, screen reader support, and panic mode have been essential during flare-ups. This app truly cares.",highlight:"Best accessibility"},{name:"Lisa K.",role:"Migraine Sufferer",avatar:"ðŸ‘©",rating:5,quote:"I've tried every pain tracker out there. This is the only one with truly private local storage and AI that actually works. The pattern insights are spot on.",highlight:"Most accurate AI"}],R8=()=>c.jsxDEV("section",{className:"py-16 md:py-24 bg-gradient-to-b from-background to-muted/30",children:c.jsxDEV("div",{className:"container mx-auto px-4",children:[c.jsxDEV("div",{className:"text-center mb-12 max-w-3xl mx-auto",children:[c.jsxDEV("h2",{className:"text-3xl font-bold tracking-tight sm:text-4xl mb-4",children:"Trusted by Patients & Clinicians"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Testimonials.tsx",lineNumber:68,columnNumber:11},void 0),c.jsxDEV("p",{className:"text-lg text-muted-foreground",children:"Real stories from people managing chronic pain and healthcare professionals providing care."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Testimonials.tsx",lineNumber:71,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Testimonials.tsx",lineNumber:67,columnNumber:9},void 0),c.jsxDEV("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3 max-w-7xl mx-auto",children:I8.map((s,e)=>c.jsxDEV(Ur,{className:"relative overflow-hidden border-2 hover:border-primary/30 transition-all duration-300 hover:shadow-lg",children:c.jsxDEV(ai,{className:"space-y-4",children:[c.jsxDEV("div",{className:"absolute top-4 right-4 opacity-10",children:c.jsxDEV(YD,{className:"h-16 w-16 text-primary"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Testimonials.tsx",lineNumber:86,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Testimonials.tsx",lineNumber:85,columnNumber:17},void 0),c.jsxDEV("div",{className:"flex items-center gap-1",children:Array.from({length:s.rating}).map((t,r)=>c.jsxDEV(lw,{className:"h-4 w-4 fill-amber-400 text-amber-400"},r,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Testimonials.tsx",lineNumber:92,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Testimonials.tsx",lineNumber:90,columnNumber:17},void 0),c.jsxDEV(Pl,{className:"text-base leading-relaxed relative z-10",children:['"',s.quote,'"']},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Testimonials.tsx",lineNumber:100,columnNumber:17},void 0),c.jsxDEV("div",{className:"inline-flex items-center gap-2 rounded-full border border-primary/20 bg-primary/10 px-3 py-1 text-xs font-medium text-primary w-fit",children:s.highlight},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Testimonials.tsx",lineNumber:105,columnNumber:17},void 0),c.jsxDEV("div",{className:"flex items-center gap-3 pt-2 border-t",children:[c.jsxDEV("div",{className:"text-3xl",children:s.avatar},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Testimonials.tsx",lineNumber:111,columnNumber:19},void 0),c.jsxDEV("div",{children:[c.jsxDEV("div",{className:"font-semibold text-sm",children:s.name},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Testimonials.tsx",lineNumber:113,columnNumber:21},void 0),c.jsxDEV("div",{className:"text-xs text-muted-foreground",children:s.role},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Testimonials.tsx",lineNumber:114,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Testimonials.tsx",lineNumber:112,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Testimonials.tsx",lineNumber:110,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Testimonials.tsx",lineNumber:83,columnNumber:15},void 0)},e,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Testimonials.tsx",lineNumber:79,columnNumber:13},void 0))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Testimonials.tsx",lineNumber:77,columnNumber:9},void 0),c.jsxDEV("div",{className:"mt-16 pt-12 border-t",children:c.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 max-w-4xl mx-auto text-center",children:[c.jsxDEV("div",{children:[c.jsxDEV("div",{className:"text-4xl font-bold text-primary mb-2",children:"100%"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Testimonials.tsx",lineNumber:126,columnNumber:15},void 0),c.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Privacy Protected"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Testimonials.tsx",lineNumber:127,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Testimonials.tsx",lineNumber:125,columnNumber:13},void 0),c.jsxDEV("div",{children:[c.jsxDEV("div",{className:"text-4xl font-bold text-primary mb-2",children:"25+"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Testimonials.tsx",lineNumber:130,columnNumber:15},void 0),c.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Hours Saved/Week"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Testimonials.tsx",lineNumber:131,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Testimonials.tsx",lineNumber:129,columnNumber:13},void 0),c.jsxDEV("div",{children:[c.jsxDEV("div",{className:"text-4xl font-bold text-primary mb-2",children:"8"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Testimonials.tsx",lineNumber:134,columnNumber:15},void 0),c.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"AI Algorithms"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Testimonials.tsx",lineNumber:135,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Testimonials.tsx",lineNumber:133,columnNumber:13},void 0),c.jsxDEV("div",{children:[c.jsxDEV("div",{className:"text-4xl font-bold text-primary mb-2",children:"95%"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Testimonials.tsx",lineNumber:138,columnNumber:15},void 0),c.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Time Reduction"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Testimonials.tsx",lineNumber:139,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Testimonials.tsx",lineNumber:137,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Testimonials.tsx",lineNumber:124,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Testimonials.tsx",lineNumber:123,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Testimonials.tsx",lineNumber:65,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Testimonials.tsx",lineNumber:64,columnNumber:5},void 0),O8=()=>(I.useEffect(()=>{document.title="Pain Tracker Pro - Clinical-Grade Pain Management";const s="Welcome to Pain Tracker Pro. A privacy-first chronic pain tracking application.",e=document.createElement("div");return e.setAttribute("role","status"),e.setAttribute("aria-live","polite"),e.className="sr-only",e.textContent=s,document.body.appendChild(e),()=>{document.body.removeChild(e),document.title="Pain Tracker Pro"}},[]),c.jsxDEV("div",{className:"min-h-screen bg-background",children:[c.jsxDEV("a",{href:"#main-content",className:"sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-50 focus:px-4 focus:py-2 focus:bg-primary focus:text-primary-foreground focus:rounded-md",children:"Skip to main content"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/LandingPage.tsx",lineNumber:36,columnNumber:7},void 0),c.jsxDEV("main",{id:"main-content",role:"main",children:[c.jsxDEV(j8,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/LandingPage.tsx",lineNumber:45,columnNumber:9},void 0),c.jsxDEV(M8,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/LandingPage.tsx",lineNumber:46,columnNumber:9},void 0),c.jsxDEV(E8,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/LandingPage.tsx",lineNumber:47,columnNumber:9},void 0),c.jsxDEV(A8,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/LandingPage.tsx",lineNumber:48,columnNumber:9},void 0),c.jsxDEV(U8,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/LandingPage.tsx",lineNumber:49,columnNumber:9},void 0),c.jsxDEV(R8,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/LandingPage.tsx",lineNumber:50,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/LandingPage.tsx",lineNumber:44,columnNumber:7},void 0),c.jsxDEV(V8,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/LandingPage.tsx",lineNumber:54,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/LandingPage.tsx",lineNumber:34,columnNumber:5},void 0));function rd({title:s,value:e,change:t,icon:r,trend:n,iconColor:i="bg-blue-500"}){const a=n==="up";return c.jsxDEV("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-6 hover:shadow-lg transition-shadow",children:c.jsxDEV("div",{className:"flex items-start justify-between",children:[c.jsxDEV("div",{className:"flex-1",children:[c.jsxDEV("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:s},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicStatCard.tsx",lineNumber:31,columnNumber:11},this),c.jsxDEV("p",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100 mt-2",children:e},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicStatCard.tsx",lineNumber:34,columnNumber:11},this),t&&c.jsxDEV("div",{className:"flex items-center gap-1 mt-2",children:[a?c.jsxDEV(zr,{className:"w-4 h-4 text-green-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicStatCard.tsx",lineNumber:40,columnNumber:17},this):c.jsxDEV(hc,{className:"w-4 h-4 text-red-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicStatCard.tsx",lineNumber:42,columnNumber:17},this),c.jsxDEV("span",{className:`text-sm font-medium ${a?"text-green-600":"text-red-600"}`,children:t},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicStatCard.tsx",lineNumber:44,columnNumber:15},this),c.jsxDEV("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:"vs last week"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicStatCard.tsx",lineNumber:51,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicStatCard.tsx",lineNumber:38,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicStatCard.tsx",lineNumber:30,columnNumber:9},this),c.jsxDEV("div",{className:`w-12 h-12 rounded-lg ${i} flex items-center justify-center flex-shrink-0`,children:c.jsxDEV(r,{className:"w-6 h-6 text-white"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicStatCard.tsx",lineNumber:58,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicStatCard.tsx",lineNumber:57,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicStatCard.tsx",lineNumber:29,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicStatCard.tsx",lineNumber:28,columnNumber:5},this)}function F8(){const[s]=I.useState([{id:"P001",name:"John Smith",lastVisit:"2025-11-15",painTrend:"improving",avgPainLevel:4.2,totalEntries:45,nextAppointment:"2025-11-20"},{id:"P002",name:"Maria Garcia",lastVisit:"2025-11-16",painTrend:"worsening",avgPainLevel:7.8,totalEntries:62,nextAppointment:"2025-11-18"},{id:"P003",name:"James Wilson",lastVisit:"2025-11-17",painTrend:"stable",avgPainLevel:5.5,totalEntries:38},{id:"P004",name:"Sarah Chen",lastVisit:"2025-11-14",painTrend:"improving",avgPainLevel:3.1,totalEntries:89,nextAppointment:"2025-11-22"},{id:"P005",name:"Michael Brown",lastVisit:"2025-11-17",painTrend:"worsening",avgPainLevel:8.2,totalEntries:27}]),e=r=>{switch(r){case"improving":return c.jsxDEV(hc,{className:"w-4 h-4 text-green-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RecentPatientsTable.tsx",lineNumber:70,columnNumber:16},this);case"worsening":return c.jsxDEV(zr,{className:"w-4 h-4 text-red-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RecentPatientsTable.tsx",lineNumber:72,columnNumber:16},this);default:return c.jsxDEV("div",{className:"w-4 h-4 rounded-full bg-amber-500"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RecentPatientsTable.tsx",lineNumber:74,columnNumber:16},this)}},t=r=>r<4?"text-green-600 bg-green-50 dark:bg-green-900/20":r<7?"text-amber-600 bg-amber-50 dark:bg-amber-900/20":"text-red-600 bg-red-50 dark:bg-red-900/20";return c.jsxDEV("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700",children:[c.jsxDEV("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:[c.jsxDEV("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Recent Patient Activity"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RecentPatientsTable.tsx",lineNumber:87,columnNumber:9},this),c.jsxDEV("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:"Patients with recent pain entries"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RecentPatientsTable.tsx",lineNumber:90,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RecentPatientsTable.tsx",lineNumber:86,columnNumber:7},this),c.jsxDEV("div",{className:"overflow-x-auto",children:c.jsxDEV("table",{className:"w-full",children:[c.jsxDEV("thead",{className:"bg-slate-50 dark:bg-slate-900/50 border-b border-slate-200 dark:border-slate-700",children:c.jsxDEV("tr",{children:[c.jsxDEV("th",{className:"text-left px-6 py-3 text-xs font-medium text-slate-600 dark:text-slate-400 uppercase tracking-wider",children:"Patient"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RecentPatientsTable.tsx",lineNumber:99,columnNumber:15},this),c.jsxDEV("th",{className:"text-left px-6 py-3 text-xs font-medium text-slate-600 dark:text-slate-400 uppercase tracking-wider",children:"Last Visit"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RecentPatientsTable.tsx",lineNumber:102,columnNumber:15},this),c.jsxDEV("th",{className:"text-left px-6 py-3 text-xs font-medium text-slate-600 dark:text-slate-400 uppercase tracking-wider",children:"Pain Trend"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RecentPatientsTable.tsx",lineNumber:105,columnNumber:15},this),c.jsxDEV("th",{className:"text-left px-6 py-3 text-xs font-medium text-slate-600 dark:text-slate-400 uppercase tracking-wider",children:"Avg Pain"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RecentPatientsTable.tsx",lineNumber:108,columnNumber:15},this),c.jsxDEV("th",{className:"text-left px-6 py-3 text-xs font-medium text-slate-600 dark:text-slate-400 uppercase tracking-wider",children:"Entries"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RecentPatientsTable.tsx",lineNumber:111,columnNumber:15},this),c.jsxDEV("th",{className:"text-left px-6 py-3 text-xs font-medium text-slate-600 dark:text-slate-400 uppercase tracking-wider",children:"Next Appt"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RecentPatientsTable.tsx",lineNumber:114,columnNumber:15},this),c.jsxDEV("th",{className:"text-right px-6 py-3 text-xs font-medium text-slate-600 dark:text-slate-400 uppercase tracking-wider",children:"Actions"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RecentPatientsTable.tsx",lineNumber:117,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RecentPatientsTable.tsx",lineNumber:98,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RecentPatientsTable.tsx",lineNumber:97,columnNumber:11},this),c.jsxDEV("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:s.map(r=>c.jsxDEV("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-900/30 transition-colors",children:[c.jsxDEV("td",{className:"px-6 py-4",children:c.jsxDEV("div",{children:[c.jsxDEV("p",{className:"font-medium text-slate-900 dark:text-slate-100",children:r.name},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RecentPatientsTable.tsx",lineNumber:130,columnNumber:21},this),c.jsxDEV("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["ID: ",r.id]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RecentPatientsTable.tsx",lineNumber:133,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RecentPatientsTable.tsx",lineNumber:129,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RecentPatientsTable.tsx",lineNumber:128,columnNumber:17},this),c.jsxDEV("td",{className:"px-6 py-4 text-sm text-slate-700 dark:text-slate-300",children:new Date(r.lastVisit).toLocaleDateString()},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RecentPatientsTable.tsx",lineNumber:138,columnNumber:17},this),c.jsxDEV("td",{className:"px-6 py-4",children:c.jsxDEV("div",{className:"flex items-center gap-2",children:[e(r.painTrend),c.jsxDEV("span",{className:"text-sm capitalize text-slate-700 dark:text-slate-300",children:r.painTrend},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RecentPatientsTable.tsx",lineNumber:144,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RecentPatientsTable.tsx",lineNumber:142,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RecentPatientsTable.tsx",lineNumber:141,columnNumber:17},this),c.jsxDEV("td",{className:"px-6 py-4",children:c.jsxDEV("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${t(r.avgPainLevel)}`,children:[r.avgPainLevel.toFixed(1)," / 10"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RecentPatientsTable.tsx",lineNumber:150,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RecentPatientsTable.tsx",lineNumber:149,columnNumber:17},this),c.jsxDEV("td",{className:"px-6 py-4 text-sm text-slate-700 dark:text-slate-300",children:r.totalEntries},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RecentPatientsTable.tsx",lineNumber:154,columnNumber:17},this),c.jsxDEV("td",{className:"px-6 py-4 text-sm text-slate-700 dark:text-slate-300",children:r.nextAppointment?new Date(r.nextAppointment).toLocaleDateString():"â€”"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RecentPatientsTable.tsx",lineNumber:157,columnNumber:17},this),c.jsxDEV("td",{className:"px-6 py-4",children:c.jsxDEV("div",{className:"flex items-center justify-end gap-2",children:[c.jsxDEV(nc,{to:`/clinic/patients/${r.id}`,className:"p-2 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors",title:"View patient details",children:c.jsxDEV(Uh,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RecentPatientsTable.tsx",lineNumber:170,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RecentPatientsTable.tsx",lineNumber:165,columnNumber:21},this),c.jsxDEV("button",{className:"p-2 rounded-lg hover:bg-green-50 dark:hover:bg-green-900/20 transition-colors",title:"View reports",children:c.jsxDEV(In,{className:"w-4 h-4 text-green-600 dark:text-green-400"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RecentPatientsTable.tsx",lineNumber:176,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RecentPatientsTable.tsx",lineNumber:172,columnNumber:21},this),c.jsxDEV("button",{className:"p-2 rounded-lg hover:bg-purple-50 dark:hover:bg-purple-900/20 transition-colors",title:"Schedule appointment",children:c.jsxDEV(ci,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RecentPatientsTable.tsx",lineNumber:182,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RecentPatientsTable.tsx",lineNumber:178,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RecentPatientsTable.tsx",lineNumber:164,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RecentPatientsTable.tsx",lineNumber:163,columnNumber:17},this)]},r.id,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RecentPatientsTable.tsx",lineNumber:124,columnNumber:15},this))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RecentPatientsTable.tsx",lineNumber:122,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RecentPatientsTable.tsx",lineNumber:96,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RecentPatientsTable.tsx",lineNumber:95,columnNumber:7},this),c.jsxDEV("div",{className:"p-4 border-t border-slate-200 dark:border-slate-700",children:c.jsxDEV(nc,{to:"/clinic/patients",className:"text-sm font-medium text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300",children:"View all patients â†’"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RecentPatientsTable.tsx",lineNumber:193,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RecentPatientsTable.tsx",lineNumber:192,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RecentPatientsTable.tsx",lineNumber:85,columnNumber:5},this)}function B8(){const s=[{id:"A001",patientName:"John Smith",patientId:"P001",time:"09:00 AM",duration:30,type:"follow-up",reason:"Pain reassessment"},{id:"A002",patientName:"Maria Garcia",patientId:"P002",time:"10:30 AM",duration:45,type:"urgent",reason:"Pain escalation"},{id:"A003",patientName:"James Wilson",patientId:"P003",time:"02:00 PM",duration:30,type:"follow-up",reason:"Treatment review"},{id:"A004",patientName:"Emily Rodriguez",patientId:"P006",time:"03:15 PM",duration:60,type:"initial",reason:"Initial consultation"}],e=t=>{switch(t){case"urgent":return"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400";case"initial":return"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400";default:return"bg-slate-100 text-slate-700 dark:bg-slate-700 dark:text-slate-300"}};return c.jsxDEV("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700",children:[c.jsxDEV("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:c.jsxDEV("div",{className:"flex items-center justify-between",children:[c.jsxDEV("div",{children:[c.jsxDEV("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Today's Schedule"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/UpcomingAppointments.tsx",lineNumber:74,columnNumber:13},this),c.jsxDEV("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:[s.length," appointments"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/UpcomingAppointments.tsx",lineNumber:77,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/UpcomingAppointments.tsx",lineNumber:73,columnNumber:11},this),c.jsxDEV(ci,{className:"w-5 h-5 text-slate-400"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/UpcomingAppointments.tsx",lineNumber:81,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/UpcomingAppointments.tsx",lineNumber:72,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/UpcomingAppointments.tsx",lineNumber:71,columnNumber:7},this),c.jsxDEV("div",{className:"p-4",children:[c.jsxDEV("div",{className:"space-y-3",children:s.map(t=>c.jsxDEV("div",{className:"p-4 rounded-lg border border-slate-200 dark:border-slate-700 hover:shadow-md transition-shadow",children:[c.jsxDEV("div",{className:"flex items-start justify-between mb-2",children:[c.jsxDEV("div",{className:"flex items-center gap-2",children:[c.jsxDEV(pc,{className:"w-4 h-4 text-slate-400"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/UpcomingAppointments.tsx",lineNumber:94,columnNumber:19},this),c.jsxDEV("span",{className:"font-medium text-slate-900 dark:text-slate-100",children:t.patientName},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/UpcomingAppointments.tsx",lineNumber:95,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/UpcomingAppointments.tsx",lineNumber:93,columnNumber:17},this),c.jsxDEV("span",{className:`px-2 py-1 rounded text-xs font-medium ${e(t.type)}`,children:t.type},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/UpcomingAppointments.tsx",lineNumber:99,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/UpcomingAppointments.tsx",lineNumber:92,columnNumber:15},this),c.jsxDEV("div",{className:"flex items-center gap-4 text-sm text-slate-600 dark:text-slate-400 mb-2",children:[c.jsxDEV("div",{className:"flex items-center gap-1",children:[c.jsxDEV(ri,{className:"w-3 h-3"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/UpcomingAppointments.tsx",lineNumber:106,columnNumber:19},this),c.jsxDEV("span",{children:t.time},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/UpcomingAppointments.tsx",lineNumber:107,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/UpcomingAppointments.tsx",lineNumber:105,columnNumber:17},this),c.jsxDEV("span",{children:"â€¢"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/UpcomingAppointments.tsx",lineNumber:109,columnNumber:17},this),c.jsxDEV("span",{children:[t.duration," min"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/UpcomingAppointments.tsx",lineNumber:110,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/UpcomingAppointments.tsx",lineNumber:104,columnNumber:15},this),c.jsxDEV("p",{className:"text-sm text-slate-700 dark:text-slate-300",children:t.reason},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/UpcomingAppointments.tsx",lineNumber:113,columnNumber:15},this)]},t.id,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/UpcomingAppointments.tsx",lineNumber:88,columnNumber:13},this))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/UpcomingAppointments.tsx",lineNumber:86,columnNumber:9},this),c.jsxDEV("button",{className:"w-full mt-4 py-2 px-4 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors text-sm font-medium",children:"View Full Schedule"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/UpcomingAppointments.tsx",lineNumber:120,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/UpcomingAppointments.tsx",lineNumber:85,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/UpcomingAppointments.tsx",lineNumber:70,columnNumber:5},this)}function z8(){const s=[{id:"AL001",patientId:"P002",patientName:"Maria Garcia",severity:"critical",type:"pain-escalation",message:"Pain level increased from 5.2 to 7.8 over 48 hours",timestamp:"2025-11-17T14:30:00"},{id:"AL002",patientId:"P005",patientName:"Michael Brown",severity:"high",type:"pain-escalation",message:"Reported pain level 8+ for 3 consecutive days",timestamp:"2025-11-17T10:15:00"},{id:"AL003",patientId:"P007",patientName:"Jennifer Lee",severity:"medium",type:"missed-entry",message:"No pain entries logged in 5 days",timestamp:"2025-11-17T08:00:00"}],e=i=>{switch(i){case"critical":return"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800";case"high":return"bg-orange-50 dark:bg-orange-900/20 border-orange-200 dark:border-orange-800";default:return"bg-amber-50 dark:bg-amber-900/20 border-amber-200 dark:border-amber-800"}},t=i=>{switch(i){case"critical":return"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400";case"high":return"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400";default:return"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400"}},r=i=>{switch(i){case"pain-escalation":return c.jsxDEV(zr,{className:"w-5 h-5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PriorityAlerts.tsx",lineNumber:75,columnNumber:16},this);case"missed-entry":return c.jsxDEV(ri,{className:"w-5 h-5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PriorityAlerts.tsx",lineNumber:77,columnNumber:16},this);default:return c.jsxDEV(Zr,{className:"w-5 h-5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PriorityAlerts.tsx",lineNumber:79,columnNumber:16},this)}},n=i=>{const a=new Date,o=new Date(i),l=a.getTime()-o.getTime(),u=Math.floor(l/(1e3*60*60));return u<1?"Just now":u===1?"1 hour ago":u<24?`${u} hours ago`:`${Math.floor(u/24)} days ago`};return c.jsxDEV("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700",children:[c.jsxDEV("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:c.jsxDEV("div",{className:"flex items-center justify-between",children:[c.jsxDEV("div",{children:[c.jsxDEV("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Priority Alerts"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PriorityAlerts.tsx",lineNumber:100,columnNumber:13},this),c.jsxDEV("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:"Patients requiring immediate attention"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PriorityAlerts.tsx",lineNumber:103,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PriorityAlerts.tsx",lineNumber:99,columnNumber:11},this),c.jsxDEV("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-red-100 dark:bg-red-900/30 rounded-full",children:[c.jsxDEV(Zr,{className:"w-4 h-4 text-red-600 dark:text-red-400"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PriorityAlerts.tsx",lineNumber:108,columnNumber:13},this),c.jsxDEV("span",{className:"text-sm font-medium text-red-700 dark:text-red-300",children:[s.length," Active"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PriorityAlerts.tsx",lineNumber:109,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PriorityAlerts.tsx",lineNumber:107,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PriorityAlerts.tsx",lineNumber:98,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PriorityAlerts.tsx",lineNumber:97,columnNumber:7},this),c.jsxDEV("div",{className:"p-4",children:[c.jsxDEV("div",{className:"space-y-3",children:s.map(i=>c.jsxDEV("div",{className:`p-4 rounded-lg border ${e(i.severity)}`,children:c.jsxDEV("div",{className:"flex items-start gap-3",children:[c.jsxDEV("div",{className:`p-2 rounded-lg ${t(i.severity)}`,children:r(i.type)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PriorityAlerts.tsx",lineNumber:124,columnNumber:17},this),c.jsxDEV("div",{className:"flex-1 min-w-0",children:[c.jsxDEV("div",{className:"flex items-center justify-between gap-2 mb-1",children:[c.jsxDEV(nc,{to:`/clinic/patients/${i.patientId}`,className:"font-medium text-slate-900 dark:text-slate-100 hover:text-blue-600 dark:hover:text-blue-400",children:i.patientName},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PriorityAlerts.tsx",lineNumber:130,columnNumber:21},this),c.jsxDEV("span",{className:`px-2 py-0.5 rounded text-xs font-medium uppercase ${t(i.severity)}`,children:i.severity},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PriorityAlerts.tsx",lineNumber:136,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PriorityAlerts.tsx",lineNumber:129,columnNumber:19},this),c.jsxDEV("p",{className:"text-sm text-slate-700 dark:text-slate-300 mb-2",children:i.message},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PriorityAlerts.tsx",lineNumber:141,columnNumber:19},this),c.jsxDEV("div",{className:"flex items-center justify-between",children:[c.jsxDEV("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:n(i.timestamp)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PriorityAlerts.tsx",lineNumber:146,columnNumber:21},this),c.jsxDEV("button",{className:"text-xs font-medium text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300",children:"Review Case â†’"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PriorityAlerts.tsx",lineNumber:149,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PriorityAlerts.tsx",lineNumber:145,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PriorityAlerts.tsx",lineNumber:128,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PriorityAlerts.tsx",lineNumber:123,columnNumber:15},this)},i.id,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PriorityAlerts.tsx",lineNumber:119,columnNumber:13},this))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PriorityAlerts.tsx",lineNumber:117,columnNumber:9},this),s.length===0&&c.jsxDEV("div",{className:"text-center py-8",children:[c.jsxDEV(Zr,{className:"w-12 h-12 text-slate-300 dark:text-slate-600 mx-auto mb-3"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PriorityAlerts.tsx",lineNumber:161,columnNumber:13},this),c.jsxDEV("p",{className:"text-slate-600 dark:text-slate-400",children:"No priority alerts"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PriorityAlerts.tsx",lineNumber:162,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PriorityAlerts.tsx",lineNumber:160,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PriorityAlerts.tsx",lineNumber:116,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PriorityAlerts.tsx",lineNumber:96,columnNumber:5},this)}function $8(){const s=Oi(),e={activePatients:247,todaysAppointments:12,criticalAlerts:3,appointmentsChange:"+12%",patientsChange:"+8%",alertsChange:"+2",aiPatternsDetected:12,medicationAdherence:87};return c.jsxDEV("div",{className:"p-6 space-y-6",children:[c.jsxDEV("div",{children:[c.jsxDEV("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:"Clinical Dashboard"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicDashboard.tsx",lineNumber:44,columnNumber:9},this),c.jsxDEV("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Welcome back! Here's an overview of your patients and activities."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicDashboard.tsx",lineNumber:47,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicDashboard.tsx",lineNumber:43,columnNumber:7},this),c.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[c.jsxDEV(rd,{title:"Active Patients",value:e.activePatients,change:e.patientsChange,icon:Na,trend:"up",iconColor:"bg-blue-500"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicDashboard.tsx",lineNumber:54,columnNumber:9},this),c.jsxDEV(rd,{title:"Today's Appointments",value:e.todaysAppointments,change:e.appointmentsChange,icon:ci,trend:"up",iconColor:"bg-green-500"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicDashboard.tsx",lineNumber:62,columnNumber:9},this),c.jsxDEV(rd,{title:"Critical Alerts",value:e.criticalAlerts,change:e.alertsChange,icon:Zr,trend:"up",iconColor:"bg-red-500"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicDashboard.tsx",lineNumber:70,columnNumber:9},this),c.jsxDEV(rd,{title:"AI Insights",value:e.aiPatternsDetected,change:`${e.medicationAdherence}% adherence`,icon:Mn,trend:"up",iconColor:"bg-purple-500"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicDashboard.tsx",lineNumber:78,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicDashboard.tsx",lineNumber:53,columnNumber:7},this),c.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxDEV("button",{onClick:()=>s("/clinic/monitoring"),className:"p-6 bg-gradient-to-br from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/20 hover:from-red-100 hover:to-red-200 dark:hover:from-red-900/30 dark:hover:to-red-800/30 rounded-lg border-2 border-red-200 dark:border-red-800 transition-all text-left group",children:[c.jsxDEV("div",{className:"flex items-start justify-between mb-3",children:[c.jsxDEV(go,{className:"w-8 h-8 text-red-600 dark:text-red-400 group-hover:scale-110 transition-transform"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicDashboard.tsx",lineNumber:95,columnNumber:13},this),c.jsxDEV("span",{className:"px-2 py-1 bg-red-600 text-white text-xs font-bold rounded-full",children:[e.criticalAlerts," Active"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicDashboard.tsx",lineNumber:96,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicDashboard.tsx",lineNumber:94,columnNumber:11},this),c.jsxDEV("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-2",children:"Real-Time Monitoring"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicDashboard.tsx",lineNumber:100,columnNumber:11},this),c.jsxDEV("p",{className:"text-sm text-slate-700 dark:text-slate-300",children:"Live patient alerts for pain escalation, missed medications, and crisis detection"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicDashboard.tsx",lineNumber:103,columnNumber:11},this),c.jsxDEV("div",{className:"mt-4 flex items-center gap-2 text-red-600 dark:text-red-400 font-medium text-sm",children:"View Dashboard â†’"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicDashboard.tsx",lineNumber:106,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicDashboard.tsx",lineNumber:90,columnNumber:9},this),c.jsxDEV("button",{onClick:()=>s("/clinic/patients/1"),className:"p-6 bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 hover:from-purple-100 hover:to-purple-200 dark:hover:from-purple-900/30 dark:hover:to-purple-800/30 rounded-lg border-2 border-purple-200 dark:border-purple-800 transition-all text-left group",children:[c.jsxDEV("div",{className:"flex items-start justify-between mb-3",children:[c.jsxDEV(Mn,{className:"w-8 h-8 text-purple-600 dark:text-purple-400 group-hover:scale-110 transition-transform"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicDashboard.tsx",lineNumber:116,columnNumber:13},this),c.jsxDEV("span",{className:"px-2 py-1 bg-purple-600 text-white text-xs font-bold rounded-full",children:[e.aiPatternsDetected," Insights"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicDashboard.tsx",lineNumber:117,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicDashboard.tsx",lineNumber:115,columnNumber:11},this),c.jsxDEV("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-2",children:"AI Pattern Detection"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicDashboard.tsx",lineNumber:121,columnNumber:11},this),c.jsxDEV("p",{className:"text-sm text-slate-700 dark:text-slate-300",children:"Automatic identification of pain triggers, medication efficacy, and treatment correlations"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicDashboard.tsx",lineNumber:124,columnNumber:11},this),c.jsxDEV("div",{className:"mt-4 flex items-center gap-2 text-purple-600 dark:text-purple-400 font-medium text-sm",children:"See Patient Example â†’"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicDashboard.tsx",lineNumber:127,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicDashboard.tsx",lineNumber:111,columnNumber:9},this),c.jsxDEV("button",{onClick:()=>s("/clinic/patients/1"),className:"p-6 bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 hover:from-blue-100 hover:to-blue-200 dark:hover:from-blue-900/30 dark:hover:to-blue-800/30 rounded-lg border-2 border-blue-200 dark:border-blue-800 transition-all text-left group",children:[c.jsxDEV("div",{className:"flex items-start justify-between mb-3",children:[c.jsxDEV(Dn,{className:"w-8 h-8 text-blue-600 dark:text-blue-400 group-hover:scale-110 transition-transform"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicDashboard.tsx",lineNumber:137,columnNumber:13},this),c.jsxDEV("span",{className:"px-2 py-1 bg-blue-600 text-white text-xs font-bold rounded-full",children:"1-Click"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicDashboard.tsx",lineNumber:138,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicDashboard.tsx",lineNumber:136,columnNumber:11},this),c.jsxDEV("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-2",children:"Automated Reports"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicDashboard.tsx",lineNumber:142,columnNumber:11},this),c.jsxDEV("p",{className:"text-sm text-slate-700 dark:text-slate-300",children:"Generate WorkSafe BC and insurance reports in seconds with pre-filled data"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicDashboard.tsx",lineNumber:145,columnNumber:11},this),c.jsxDEV("div",{className:"mt-4 flex items-center gap-2 text-blue-600 dark:text-blue-400 font-medium text-sm",children:"Try Report Generator â†’"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicDashboard.tsx",lineNumber:148,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicDashboard.tsx",lineNumber:132,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicDashboard.tsx",lineNumber:89,columnNumber:7},this),c.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsxDEV("div",{className:"lg:col-span-2 space-y-6",children:[c.jsxDEV(z8,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicDashboard.tsx",lineNumber:159,columnNumber:11},this),c.jsxDEV(F8,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicDashboard.tsx",lineNumber:162,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicDashboard.tsx",lineNumber:157,columnNumber:9},this),c.jsxDEV("div",{className:"space-y-6",children:[c.jsxDEV(B8,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicDashboard.tsx",lineNumber:168,columnNumber:11},this),c.jsxDEV("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-6",children:[c.jsxDEV("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"Quick Actions"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicDashboard.tsx",lineNumber:172,columnNumber:13},this),c.jsxDEV("div",{className:"space-y-3",children:[c.jsxDEV("button",{onClick:()=>s("/clinic/patients"),className:"w-full flex items-center gap-3 px-4 py-3 bg-blue-50 dark:bg-blue-900/20 hover:bg-blue-100 dark:hover:bg-blue-900/30 rounded-lg transition-colors text-left",children:[c.jsxDEV(Na,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicDashboard.tsx",lineNumber:180,columnNumber:17},this),c.jsxDEV("span",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:"View All Patients"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicDashboard.tsx",lineNumber:181,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicDashboard.tsx",lineNumber:176,columnNumber:15},this),c.jsxDEV("button",{onClick:()=>s("/clinic/monitoring"),className:"w-full flex items-center gap-3 px-4 py-3 bg-red-50 dark:bg-red-900/20 hover:bg-red-100 dark:hover:bg-red-900/30 rounded-lg transition-colors text-left",children:[c.jsxDEV(go,{className:"w-5 h-5 text-red-600 dark:text-red-400"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicDashboard.tsx",lineNumber:189,columnNumber:17},this),c.jsxDEV("span",{className:"text-sm font-medium text-red-900 dark:text-red-100",children:"Check Alerts"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicDashboard.tsx",lineNumber:190,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicDashboard.tsx",lineNumber:185,columnNumber:15},this),c.jsxDEV("button",{onClick:()=>s("/clinic/patients/1"),className:"w-full flex items-center gap-3 px-4 py-3 bg-purple-50 dark:bg-purple-900/20 hover:bg-purple-100 dark:hover:bg-purple-900/30 rounded-lg transition-colors text-left",children:[c.jsxDEV(Mn,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicDashboard.tsx",lineNumber:198,columnNumber:17},this),c.jsxDEV("span",{className:"text-sm font-medium text-purple-900 dark:text-purple-100",children:"View AI Insights"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicDashboard.tsx",lineNumber:199,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicDashboard.tsx",lineNumber:194,columnNumber:15},this),c.jsxDEV("button",{onClick:()=>s("/clinic/patients/1"),className:"w-full flex items-center gap-3 px-4 py-3 bg-green-50 dark:bg-green-900/20 hover:bg-green-100 dark:hover:bg-green-900/30 rounded-lg transition-colors text-left",children:[c.jsxDEV(In,{className:"w-5 h-5 text-green-600 dark:text-green-400"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicDashboard.tsx",lineNumber:207,columnNumber:17},this),c.jsxDEV("span",{className:"text-sm font-medium text-green-900 dark:text-green-100",children:"Generate Report"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicDashboard.tsx",lineNumber:208,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicDashboard.tsx",lineNumber:203,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicDashboard.tsx",lineNumber:175,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicDashboard.tsx",lineNumber:171,columnNumber:11},this),c.jsxDEV("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-6",children:[c.jsxDEV("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"System Status"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicDashboard.tsx",lineNumber:217,columnNumber:13},this),c.jsxDEV("div",{className:"space-y-3",children:[c.jsxDEV("div",{className:"flex items-center justify-between",children:[c.jsxDEV("div",{className:"flex items-center gap-2",children:[c.jsxDEV(dr,{className:"w-4 h-4 text-green-500"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicDashboard.tsx",lineNumber:223,columnNumber:19},this),c.jsxDEV("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:"API Status"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicDashboard.tsx",lineNumber:224,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicDashboard.tsx",lineNumber:222,columnNumber:17},this),c.jsxDEV("span",{className:"text-sm font-medium text-green-600",children:"Operational"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicDashboard.tsx",lineNumber:226,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicDashboard.tsx",lineNumber:221,columnNumber:15},this),c.jsxDEV("div",{className:"flex items-center justify-between",children:[c.jsxDEV("div",{className:"flex items-center gap-2",children:[c.jsxDEV(ri,{className:"w-4 h-4 text-blue-500"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicDashboard.tsx",lineNumber:230,columnNumber:19},this),c.jsxDEV("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:"Last Sync"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicDashboard.tsx",lineNumber:231,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicDashboard.tsx",lineNumber:229,columnNumber:17},this),c.jsxDEV("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"2 min ago"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicDashboard.tsx",lineNumber:233,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicDashboard.tsx",lineNumber:228,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicDashboard.tsx",lineNumber:220,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicDashboard.tsx",lineNumber:216,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicDashboard.tsx",lineNumber:166,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicDashboard.tsx",lineNumber:155,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicDashboard.tsx",lineNumber:41,columnNumber:5},this)}const W8=({patientName:s,entries:e,interventions:t})=>{const[r,n]=I.useState("trend"),[i,a]=I.useState("30d"),[o,l]=I.useState(!0),u=I.useMemo(()=>{const g=new Date,y=i==="7d"?7:i==="30d"?30:i==="90d"?90:365,v=new Date(g.getTime()-y*24*60*60*1e3);return e.filter(N=>new Date(N.timestamp)>=v).map(N=>({date:new Date(N.timestamp).toLocaleDateString(),timestamp:N.timestamp,painLevel:N.painLevel,mood:N.mood||0,sleep:N.sleep||0,hasMedication:(N.medications?.length||0)>0,hasTriggers:(N.triggers?.length||0)>0})).sort((N,D)=>new Date(N.timestamp).getTime()-new Date(D.timestamp).getTime())},[e,i]),d=I.useMemo(()=>{if(u.length===0)return null;const g=u.map(_=>_.painLevel),y=g.reduce((_,O)=>_+O,0)/g.length,v=Math.max(...g),N=Math.min(...g),D=g.length,j=D*(D-1)/2,C=g.reduce((_,O)=>_+O,0),E=g.reduce((_,O,S)=>_+S*O,0),A=D*(D-1)*(2*D-1)/6,V=(D*E-j*C)/(D*A-j*j),P=V<-.05?"improving":V>.05?"worsening":"stable";return{avgPain:y.toFixed(1),maxPain:v,minPain:N,trend:P,slope:V,dataPoints:D}},[u]),m=I.useMemo(()=>{const g=[],y=u.filter(j=>j.hasMedication).map(j=>j.painLevel),v=u.filter(j=>!j.hasMedication).map(j=>j.painLevel);if(y.length>0&&v.length>0){const j=y.reduce((A,V)=>A+V,0)/y.length,E=v.reduce((A,V)=>A+V,0)/v.length-j;E>.5&&g.push({factor:"Medication",impact:`Reduces pain by ${E.toFixed(1)} points`,confidence:"High"})}const N=u.filter(j=>j.mood>0);if(N.length>5){const j=p(N.map(C=>C.mood),N.map(C=>C.painLevel));Math.abs(j)>.5&&g.push({factor:"Mood",impact:j<0?"Better mood = Lower pain":"Better mood = Higher pain",confidence:Math.abs(j)>.7?"High":"Medium"})}const D=u.filter(j=>j.sleep>0);if(D.length>5){const j=p(D.map(C=>C.sleep),D.map(C=>C.painLevel));Math.abs(j)>.5&&g.push({factor:"Sleep Quality",impact:j<0?"Better sleep = Lower pain":"Poor sleep = Higher pain",confidence:Math.abs(j)>.7?"High":"Medium"})}return g},[u]),p=(g,y)=>{const v=g.length,N=g.reduce((P,_)=>P+_,0),D=y.reduce((P,_)=>P+_,0),j=g.reduce((P,_,O)=>P+_*y[O],0),C=g.reduce((P,_)=>P+_*_,0),E=y.reduce((P,_)=>P+_*_,0),A=v*j-N*D,V=Math.sqrt((v*C-N*N)*(v*E-D*D));return V===0?0:A/V},f=()=>{const g=`Date,Pain Level,Mood,Sleep,Medications,Triggers
`+e.map(D=>`${D.timestamp},${D.painLevel},${D.mood||""},${D.sleep||""},${D.medications?.join(";")||""},${D.triggers?.join(";")||""}`).join(`
`),y=new Blob([g],{type:"text/csv"}),v=window.URL.createObjectURL(y),N=document.createElement("a");N.href=v,N.download=`${s}-pain-timeline-${new Date().toISOString().split("T")[0]}.csv`,N.click()};return c.jsxDEV("div",{className:"space-y-6",children:[c.jsxDEV("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-6",children:[c.jsxDEV("div",{className:"flex items-center justify-between mb-6",children:[c.jsxDEV("div",{children:[c.jsxDEV("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Pain Timeline"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:215,columnNumber:13},void 0),c.jsxDEV("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:["Comprehensive view of ",s,"'s pain journey"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:216,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:214,columnNumber:11},void 0),c.jsxDEV("div",{className:"flex gap-3",children:[c.jsxDEV("button",{onClick:f,className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-600 transition-colors",children:[c.jsxDEV(Dn,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:225,columnNumber:15},void 0),"Export"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:221,columnNumber:13},void 0),c.jsxDEV("button",{className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[c.jsxDEV(Th,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:229,columnNumber:15},void 0),"Share"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:228,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:220,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:213,columnNumber:9},void 0),c.jsxDEV("div",{className:"flex gap-2 mb-4",children:["trend","correlation","pattern"].map(g=>c.jsxDEV("button",{onClick:()=>n(g),className:`px-4 py-2 rounded-lg font-medium transition-colors ${r===g?"bg-blue-600 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:g.charAt(0).toUpperCase()+g.slice(1)},g,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:238,columnNumber:13},void 0))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:236,columnNumber:9},void 0),c.jsxDEV("div",{className:"flex gap-2",children:["7d","30d","90d","all"].map(g=>c.jsxDEV("button",{onClick:()=>a(g),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${i===g?"bg-slate-900 dark:bg-slate-600 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:g==="7d"?"7 days":g==="30d"?"30 days":g==="90d"?"90 days":"All time"},g,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:255,columnNumber:13},void 0))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:253,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:212,columnNumber:7},void 0),d&&c.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsxDEV("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-4",children:c.jsxDEV("div",{className:"flex items-center justify-between",children:[c.jsxDEV("div",{children:[c.jsxDEV("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Average Pain"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:276,columnNumber:17},void 0),c.jsxDEV("p",{className:"text-2xl font-bold text-slate-900 dark:text-white mt-1",children:[d.avgPain,"/10"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:277,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:275,columnNumber:15},void 0),c.jsxDEV(dr,{className:"w-8 h-8 text-blue-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:279,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:274,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:273,columnNumber:11},void 0),c.jsxDEV("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-4",children:c.jsxDEV("div",{className:"flex items-center justify-between",children:c.jsxDEV("div",{children:[c.jsxDEV("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Trend"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:286,columnNumber:17},void 0),c.jsxDEV("div",{className:"flex items-center gap-2 mt-1",children:d.trend==="improving"?c.jsxDEV(c.Fragment,{children:[c.jsxDEV(hc,{className:"w-5 h-5 text-green-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:290,columnNumber:23},void 0),c.jsxDEV("span",{className:"text-lg font-bold text-green-600",children:"Improving"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:291,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:289,columnNumber:21},void 0):d.trend==="worsening"?c.jsxDEV(c.Fragment,{children:[c.jsxDEV(zr,{className:"w-5 h-5 text-red-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:295,columnNumber:23},void 0),c.jsxDEV("span",{className:"text-lg font-bold text-red-600",children:"Worsening"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:296,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:294,columnNumber:21},void 0):c.jsxDEV(c.Fragment,{children:[c.jsxDEV(dr,{className:"w-5 h-5 text-amber-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:300,columnNumber:23},void 0),c.jsxDEV("span",{className:"text-lg font-bold text-amber-600",children:"Stable"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:301,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:299,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:287,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:285,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:284,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:283,columnNumber:11},void 0),c.jsxDEV("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-4",children:c.jsxDEV("div",{className:"flex items-center justify-between",children:[c.jsxDEV("div",{children:[c.jsxDEV("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Range"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:312,columnNumber:17},void 0),c.jsxDEV("p",{className:"text-2xl font-bold text-slate-900 dark:text-white mt-1",children:[d.minPain," - ",d.maxPain]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:313,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:311,columnNumber:15},void 0),c.jsxDEV(Zr,{className:"w-8 h-8 text-amber-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:317,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:310,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:309,columnNumber:11},void 0),c.jsxDEV("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-4",children:c.jsxDEV("div",{className:"flex items-center justify-between",children:[c.jsxDEV("div",{children:[c.jsxDEV("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Data Points"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:324,columnNumber:17},void 0),c.jsxDEV("p",{className:"text-2xl font-bold text-slate-900 dark:text-white mt-1",children:d.dataPoints},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:325,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:323,columnNumber:15},void 0),c.jsxDEV(ci,{className:"w-8 h-8 text-purple-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:327,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:322,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:321,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:272,columnNumber:9},void 0),c.jsxDEV("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-6",children:[c.jsxDEV("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:[r==="trend"&&"Pain Level Trend",r==="correlation"&&"Multi-Factor Correlation",r==="pattern"&&"Pattern Analysis"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:335,columnNumber:9},void 0),c.jsxDEV(gk,{width:"100%",height:400,children:r==="trend"?c.jsxDEV(bk,{data:u,children:[c.jsxDEV("defs",{children:c.jsxDEV("linearGradient",{id:"painGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[c.jsxDEV("stop",{offset:"5%",stopColor:"#ef4444",stopOpacity:.8},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:346,columnNumber:19},void 0),c.jsxDEV("stop",{offset:"95%",stopColor:"#ef4444",stopOpacity:.1},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:347,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:345,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:344,columnNumber:15},void 0),c.jsxDEV(vm,{strokeDasharray:"3 3",stroke:"#e2e8f0"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:350,columnNumber:15},void 0),c.jsxDEV(Nm,{dataKey:"date",stroke:"#64748b"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:351,columnNumber:15},void 0),c.jsxDEV(km,{domain:[0,10],stroke:"#64748b"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:352,columnNumber:15},void 0),c.jsxDEV(Dm,{contentStyle:{backgroundColor:"#1e293b",border:"none",borderRadius:"8px",color:"#fff"}},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:353,columnNumber:15},void 0),c.jsxDEV(wm,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:361,columnNumber:15},void 0),c.jsxDEV(yk,{type:"monotone",dataKey:"painLevel",stroke:"#ef4444",fill:"url(#painGradient)",strokeWidth:2,name:"Pain Level"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:362,columnNumber:15},void 0),c.jsxDEV(xk,{y:7,stroke:"#f59e0b",strokeDasharray:"3 3",label:"High Pain Threshold"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:370,columnNumber:15},void 0),c.jsxDEV(Pm,{dataKey:"date",height:30,stroke:"#3b82f6"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:371,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:343,columnNumber:13},void 0):r==="correlation"?c.jsxDEV(vk,{data:u,children:[c.jsxDEV(vm,{strokeDasharray:"3 3",stroke:"#e2e8f0"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:375,columnNumber:15},void 0),c.jsxDEV(Nm,{dataKey:"date",stroke:"#64748b"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:376,columnNumber:15},void 0),c.jsxDEV(km,{domain:[0,10],stroke:"#64748b"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:377,columnNumber:15},void 0),c.jsxDEV(Dm,{contentStyle:{backgroundColor:"#1e293b",border:"none",borderRadius:"8px",color:"#fff"}},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:378,columnNumber:15},void 0),c.jsxDEV(wm,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:386,columnNumber:15},void 0),c.jsxDEV(jm,{type:"monotone",dataKey:"painLevel",stroke:"#ef4444",strokeWidth:2,name:"Pain Level"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:387,columnNumber:15},void 0),c.jsxDEV(jm,{type:"monotone",dataKey:"mood",stroke:"#3b82f6",strokeWidth:2,name:"Mood"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:388,columnNumber:15},void 0),c.jsxDEV(jm,{type:"monotone",dataKey:"sleep",stroke:"#10b981",strokeWidth:2,name:"Sleep Quality"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:389,columnNumber:15},void 0),c.jsxDEV(Pm,{dataKey:"date",height:30,stroke:"#3b82f6"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:390,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:374,columnNumber:13},void 0):c.jsxDEV(Nk,{data:u,children:[c.jsxDEV(vm,{strokeDasharray:"3 3",stroke:"#e2e8f0"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:394,columnNumber:15},void 0),c.jsxDEV(Nm,{dataKey:"date",stroke:"#64748b"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:395,columnNumber:15},void 0),c.jsxDEV(km,{domain:[0,10],stroke:"#64748b"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:396,columnNumber:15},void 0),c.jsxDEV(Dm,{contentStyle:{backgroundColor:"#1e293b",border:"none",borderRadius:"8px",color:"#fff"}},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:397,columnNumber:15},void 0),c.jsxDEV(wm,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:405,columnNumber:15},void 0),c.jsxDEV(kk,{dataKey:"painLevel",fill:"#ef4444",name:"Pain Level",radius:[8,8,0,0]},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:406,columnNumber:15},void 0),c.jsxDEV(Pm,{dataKey:"date",height:30,stroke:"#3b82f6"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:407,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:393,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:341,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:334,columnNumber:7},void 0),m.length>0&&c.jsxDEV("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-6",children:[c.jsxDEV("div",{className:"flex items-center gap-2 mb-4",children:[c.jsxDEV(ja,{className:"w-5 h-5 text-amber-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:417,columnNumber:13},void 0),c.jsxDEV("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"AI-Detected Patterns"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:418,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:416,columnNumber:11},void 0),c.jsxDEV("div",{className:"space-y-3",children:m.map((g,y)=>c.jsxDEV("div",{className:"flex items-start gap-3 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[c.jsxDEV(xa,{className:"w-5 h-5 text-blue-600 mt-0.5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:423,columnNumber:17},void 0),c.jsxDEV("div",{children:[c.jsxDEV("p",{className:"font-medium text-slate-900 dark:text-white",children:g.factor},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:425,columnNumber:19},void 0),c.jsxDEV("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:g.impact},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:426,columnNumber:19},void 0),c.jsxDEV("span",{className:`inline-block mt-2 px-2 py-1 text-xs font-medium rounded ${g.confidence==="High"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-400"}`,children:[g.confidence," Confidence"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:427,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:424,columnNumber:17},void 0)]},y,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:422,columnNumber:15},void 0))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:420,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:415,columnNumber:9},void 0),o&&t.length>0&&c.jsxDEV("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-6",children:[c.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[c.jsxDEV("div",{className:"flex items-center gap-2",children:[c.jsxDEV(bo,{className:"w-5 h-5 text-purple-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:448,columnNumber:15},void 0),c.jsxDEV("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Treatment Interventions"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:449,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:447,columnNumber:13},void 0),c.jsxDEV("button",{onClick:()=>l(!o),className:"text-sm text-blue-600 hover:text-blue-700",children:o?"Hide":"Show"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:451,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:446,columnNumber:11},void 0),c.jsxDEV("div",{className:"space-y-3",children:t.slice(0,5).map(g=>c.jsxDEV("div",{className:"flex items-start gap-4 p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[c.jsxDEV("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${g.type==="medication"?"bg-purple-100 dark:bg-purple-900/30":g.type==="therapy"?"bg-blue-100 dark:bg-blue-900/30":g.type==="procedure"?"bg-red-100 dark:bg-red-900/30":"bg-green-100 dark:bg-green-900/30"}`,children:c.jsxDEV(bo,{className:"w-5 h-5 text-purple-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:472,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:461,columnNumber:17},void 0),c.jsxDEV("div",{className:"flex-1",children:[c.jsxDEV("div",{className:"flex items-center justify-between",children:[c.jsxDEV("h4",{className:"font-medium text-slate-900 dark:text-white",children:g.name},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:476,columnNumber:21},void 0),c.jsxDEV("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:new Date(g.date).toLocaleDateString()},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:477,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:475,columnNumber:19},void 0),g.dosage&&c.jsxDEV("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:["Dosage: ",g.dosage]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:482,columnNumber:21},void 0),g.provider&&c.jsxDEV("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Provider: ",g.provider]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:485,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:474,columnNumber:17},void 0)]},g.id,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:460,columnNumber:15},void 0))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:458,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:445,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/PatientPainTimeline.tsx",lineNumber:210,columnNumber:5},void 0)};class H8{static MIN_SAMPLE_SIZE=5;static HIGH_CORRELATION_THRESHOLD=.7;static MEDIUM_CORRELATION_THRESHOLD=.5;static SIGNIFICANT_IMPACT_THRESHOLD=1;static async detectPatterns(e,t){const r=[];return r.push(...this.analyzeMedicationEfficacy(e,t)),r.push(...this.identifyTriggers(e)),r.push(...this.analyzeTimeCorrelations(e)),r.push(...this.analyzeActivityCorrelations(e)),r.push(...this.analyzeWeatherImpact(e)),r.push(...this.analyzeSleepCorrelation(e)),r.push(...this.analyzeMoodCorrelation(e)),r.push(...this.analyzeStressCorrelation(e)),r.sort((n,i)=>{const a=this.calculatePatternScore(n);return this.calculatePatternScore(i)-a})}static analyzeMedicationEfficacy(e,t){const r=[],n=t.filter(i=>i.type==="medication");for(const i of n){const a=i.name,o=new Date(i.date),l=e.filter(d=>new Date(d.timestamp)<o),u=e.filter(d=>new Date(d.timestamp)>=o&&d.medications?.includes(a));if(l.length>=this.MIN_SAMPLE_SIZE&&u.length>=this.MIN_SAMPLE_SIZE){const d=this.calculateAverage(l.map(f=>f.painLevel)),m=this.calculateAverage(u.map(f=>f.painLevel)),p=d-m;Math.abs(p)>=this.SIGNIFICANT_IMPACT_THRESHOLD&&r.push({id:`med-${i.id}`,type:"medication_efficacy",confidence:this.calculateConfidence(l.length+u.length),title:p>0?`${a} is Effective`:`${a} May Not Be Working`,description:p>0?`Pain reduced by ${p.toFixed(1)} points on average after starting ${a}`:`Pain increased by ${Math.abs(p).toFixed(1)} points after starting ${a}`,impact:p,occurrences:u.length,lastSeen:u[u.length-1]?.timestamp||i.date,actionable:!0,recommendation:p>0?"Continue current medication regimen":"Consider discussing alternative treatments with provider",evidence:{avgPainWith:m,avgPainWithout:d,sampleSize:l.length+u.length}})}}return r}static identifyTriggers(e){const t=[],r=new Map;for(const n of e)if(n.triggers&&n.triggers.length>0)for(const i of n.triggers){r.has(i)||r.set(i,{painLevels:[],dates:[]});const a=r.get(i);a.painLevels.push(n.painLevel),a.dates.push(n.timestamp)}for(const[n,i]of r.entries())if(i.painLevels.length>=this.MIN_SAMPLE_SIZE){const a=this.calculateAverage(i.painLevels),o=e.filter(l=>!l.triggers?.includes(n));if(o.length>=this.MIN_SAMPLE_SIZE){const l=this.calculateAverage(o.map(d=>d.painLevel)),u=a-l;u>=this.SIGNIFICANT_IMPACT_THRESHOLD&&t.push({id:`trigger-${n}`,type:"trigger",confidence:this.calculateConfidence(i.painLevels.length),title:`${n} is a Significant Trigger`,description:`Pain is ${u.toFixed(1)} points higher on average when ${n} occurs`,impact:-u,occurrences:i.painLevels.length,lastSeen:i.dates[i.dates.length-1],actionable:!0,recommendation:`Consider strategies to avoid or mitigate ${n}`,evidence:{avgPainWith:a,avgPainWithout:l,sampleSize:i.painLevels.length+o.length}})}}return t}static analyzeTimeCorrelations(e){const t=[],r={morning:{start:6,end:12,entries:[]},afternoon:{start:12,end:18,entries:[]},evening:{start:18,end:22,entries:[]},night:{start:22,end:6,entries:[]}};for(const l of e){const u=new Date(l.timestamp).getHours();u>=r.morning.start&&u<r.morning.end?r.morning.entries.push(l):u>=r.afternoon.start&&u<r.afternoon.end?r.afternoon.entries.push(l):u>=r.evening.start&&u<r.evening.end?r.evening.entries.push(l):r.night.entries.push(l)}const n=Object.entries(r).map(([l,u])=>({name:l,avg:u.entries.length>0?this.calculateAverage(u.entries.map(d=>d.painLevel)):0,count:u.entries.length})),i=Math.max(...n.map(l=>l.avg)),a=Math.min(...n.filter(l=>l.count>0).map(l=>l.avg)),o=n.find(l=>l.avg===i);return o&&o.count>=this.MIN_SAMPLE_SIZE&&i-a>=this.SIGNIFICANT_IMPACT_THRESHOLD&&t.push({id:`time-${o.name}`,type:"time_correlation",confidence:this.calculateConfidence(o.count),title:`Pain Peaks in the ${o.name.charAt(0).toUpperCase()+o.name.slice(1)}`,description:`Pain averages ${i.toFixed(1)}/10 during ${o.name} hours, ${(i-a).toFixed(1)} points higher than best time`,impact:-(i-a),occurrences:o.count,lastSeen:r[o.name].entries[o.count-1]?.timestamp||"",actionable:!0,recommendation:`Schedule important activities outside ${o.name} hours when possible`,evidence:{avgPainWith:i,avgPainWithout:a,sampleSize:e.length}}),t}static analyzeActivityCorrelations(e){const t=[],r=new Map;for(const n of e)if(n.activities&&n.activities.length>0)for(const i of n.activities){r.has(i)||r.set(i,{painLevels:[],dates:[]});const a=r.get(i);a.painLevels.push(n.painLevel),a.dates.push(n.timestamp)}for(const[n,i]of r.entries())if(i.painLevels.length>=this.MIN_SAMPLE_SIZE){const a=this.calculateAverage(i.painLevels),o=this.calculateAverage(e.map(u=>u.painLevel)),l=a-o;Math.abs(l)>=this.SIGNIFICANT_IMPACT_THRESHOLD&&t.push({id:`activity-${n}`,type:"activity_correlation",confidence:this.calculateConfidence(i.painLevels.length),title:l>0?`${n} Worsens Pain`:`${n} Reduces Pain`,description:l>0?`Pain is ${l.toFixed(1)} points higher after ${n}`:`Pain is ${Math.abs(l).toFixed(1)} points lower after ${n}`,impact:-l,occurrences:i.painLevels.length,lastSeen:i.dates[i.dates.length-1],actionable:!0,recommendation:l>0?`Consider reducing or modifying ${n}`:`Encourage more ${n} as pain management strategy`,evidence:{avgPainWith:a,avgPainWithout:o,sampleSize:i.painLevels.length}})}return t}static analyzeWeatherImpact(e){const t=[],r=new Map;for(const n of e)if(n.weather){r.has(n.weather)||r.set(n.weather,{painLevels:[],dates:[]});const i=r.get(n.weather);i.painLevels.push(n.painLevel),i.dates.push(n.timestamp)}for(const[n,i]of r.entries())if(i.painLevels.length>=this.MIN_SAMPLE_SIZE){const a=this.calculateAverage(i.painLevels),o=e.filter(l=>l.weather&&l.weather!==n);if(o.length>=this.MIN_SAMPLE_SIZE){const l=this.calculateAverage(o.map(d=>d.painLevel)),u=a-l;u>=this.SIGNIFICANT_IMPACT_THRESHOLD&&t.push({id:`weather-${n}`,type:"weather_correlation",confidence:this.calculateConfidence(i.painLevels.length),title:`${n} Weather Worsens Pain`,description:`Pain is ${u.toFixed(1)} points higher during ${n} conditions`,impact:-u,occurrences:i.painLevels.length,lastSeen:i.dates[i.dates.length-1],actionable:!0,recommendation:`Plan activities around weather forecasts to minimize exposure to ${n}`,evidence:{avgPainWith:a,avgPainWithout:l,sampleSize:i.painLevels.length+o.length}})}}return t}static analyzeSleepCorrelation(e){const t=[],r=e.filter(n=>n.sleep!==void 0&&n.sleep!==null);if(r.length>=this.MIN_SAMPLE_SIZE){const n=this.calculateCorrelation(r.map(i=>i.sleep),r.map(i=>i.painLevel));if(Math.abs(n)>=this.MEDIUM_CORRELATION_THRESHOLD){const i=this.calculateAverage(r.filter(o=>o.sleep>=7).map(o=>o.painLevel)),a=this.calculateAverage(r.filter(o=>o.sleep<7).map(o=>o.painLevel));t.push({id:"sleep-correlation",type:"trigger",confidence:Math.abs(n)>=this.HIGH_CORRELATION_THRESHOLD?"high":"medium",title:n<0?"Better Sleep Reduces Pain":"Poor Sleep Worsens Pain",description:n<0?`Strong negative correlation: Each hour of sleep reduces pain by ~${(Math.abs(n)*2).toFixed(1)} points`:"Pain increases with poor sleep quality",impact:i-a,occurrences:r.length,lastSeen:r[r.length-1].timestamp,actionable:!0,recommendation:"Prioritize sleep hygiene and aim for 7-9 hours per night",evidence:{avgPainWith:i,avgPainWithout:a,sampleSize:r.length,correlation:n}})}}return t}static analyzeMoodCorrelation(e){const t=[],r=e.filter(n=>n.mood!==void 0&&n.mood!==null);if(r.length>=this.MIN_SAMPLE_SIZE){const n=this.calculateCorrelation(r.map(i=>i.mood),r.map(i=>i.painLevel));Math.abs(n)>=this.MEDIUM_CORRELATION_THRESHOLD&&t.push({id:"mood-correlation",type:"trigger",confidence:Math.abs(n)>=this.HIGH_CORRELATION_THRESHOLD?"high":"medium",title:n<0?"Better Mood Correlates with Lower Pain":"Mood and Pain Connected",description:n<0?"Strong link between positive mood and reduced pain levels":"Mood fluctuations align with pain patterns",impact:Math.abs(n)*5,occurrences:r.length,lastSeen:r[r.length-1].timestamp,actionable:!0,recommendation:"Consider mood-focused interventions (therapy, mindfulness, social activities)",evidence:{avgPainWith:0,avgPainWithout:0,sampleSize:r.length,correlation:n}})}return t}static analyzeStressCorrelation(e){const t=[],r=e.filter(n=>n.stress!==void 0&&n.stress!==null);if(r.length>=this.MIN_SAMPLE_SIZE){const n=this.calculateCorrelation(r.map(i=>i.stress),r.map(i=>i.painLevel));if(Math.abs(n)>=this.MEDIUM_CORRELATION_THRESHOLD){const i=this.calculateAverage(r.filter(o=>o.stress>=7).map(o=>o.painLevel)),a=this.calculateAverage(r.filter(o=>o.stress<7).map(o=>o.painLevel));t.push({id:"stress-correlation",type:"trigger",confidence:Math.abs(n)>=this.HIGH_CORRELATION_THRESHOLD?"high":"medium",title:"Stress Significantly Impacts Pain",description:`Pain is ${(i-a).toFixed(1)} points higher during high-stress periods`,impact:-(i-a),occurrences:r.length,lastSeen:r[r.length-1].timestamp,actionable:!0,recommendation:"Implement stress management techniques (meditation, breathing exercises, therapy)",evidence:{avgPainWith:i,avgPainWithout:a,sampleSize:r.length,correlation:n}})}}return t}static generateInsightSummary(e){return{totalPatterns:e.length,highConfidencePatterns:e.filter(t=>t.confidence==="high").length,actionableInsights:e.filter(t=>t.actionable).length,topTriggers:e.filter(t=>t.type==="trigger"&&t.impact<0).sort((t,r)=>t.impact-r.impact).slice(0,3).map(t=>t.title),effectiveTreatments:e.filter(t=>t.type==="medication_efficacy"&&t.impact>0).sort((t,r)=>r.impact-t.impact).slice(0,3).map(t=>t.title),riskFactors:e.filter(t=>t.confidence==="high"&&t.impact<-2).map(t=>t.title)}}static calculateAverage(e){return e.length===0?0:e.reduce((t,r)=>t+r,0)/e.length}static calculateCorrelation(e,t){const r=e.length;if(r===0)return 0;const n=e.reduce((m,p)=>m+p,0),i=t.reduce((m,p)=>m+p,0),a=e.reduce((m,p,f)=>m+p*t[f],0),o=e.reduce((m,p)=>m+p*p,0),l=t.reduce((m,p)=>m+p*p,0),u=r*a-n*i,d=Math.sqrt((r*o-n*n)*(r*l-i*i));return d===0?0:u/d}static calculateConfidence(e){return e>=30?"high":e>=10?"medium":"low"}static calculatePatternScore(e){const t=e.confidence==="high"?3:e.confidence==="medium"?2:1,r=Math.abs(e.impact),n=e.actionable?2:0;return t*r+n}}class Rf{static async generateWorkSafeBCReport(e,t,r,n,i){const a=new Ze,o={start:t[0]?.timestamp||new Date().toISOString(),end:t[t.length-1]?.timestamp||new Date().toISOString()},l=this.analyzePainTrend(t),u=this.calculateAveragePain(t),d=this.assessFunctionalImpact(t,u),m=this.determineWorkCapacity(u,l);this.addHeader(a,"WorkSafe BC Medical Report",i),this.addPatientInfo(a,e),this.addClinicalSummary(a,t,r,n),this.addPainAnalysis(a,t,l),this.addFunctionalAssessment(a,d,m),this.addTreatmentPlan(a,n,r),this.addProviderSignature(a);const p={reportType:i,dateRange:o,patientInfo:e,clinicalSummary:this.generateClinicalSummary(t,r),painTrend:l,functionalImpact:d,treatmentPlan:this.generateTreatmentPlan(n,r),workCapacity:m,restrictions:this.determineRestrictions(u,l),recommendedDuration:this.recommendDuration(l),nextReviewDate:this.calculateNextReviewDate(i,l)};return{pdf:a,summary:p}}static async generateInsuranceReport(e,t,r,n){const i=new Ze;return this.addHeader(i,"Medical Report for Insurance Claim","initial"),this.addPatientInfo(i,e),this.addDiagnosisSection(i,r),this.addTreatmentHistory(i,t,n),this.addPrognosisSection(i,t),this.addProviderSignature(i),i}static async generateProgressNote(e,t,r,n){const i=new Ze,a=t.slice(-14),o=this.formatProgressNote(e,a,r,n);this.addHeader(i,"Clinical Progress Note","progress"),i.setFontSize(11);const l=i.splitTextToSize(o,180);return i.text(l,15,60),{pdf:i,text:o}}static exportToCSV(e){const t=["Date","Time","Pain Level","Location","Triggers","Activities","Medications","Mood","Sleep","Notes"],r=e.map(i=>[na(new Date(i.timestamp),"yyyy-MM-dd"),na(new Date(i.timestamp),"HH:mm"),i.painLevel,i.location,i.triggers?.join("; ")||"",i.activities?.join("; ")||"",i.medications?.join("; ")||"",i.mood||"",i.sleep||"",i.notes?.replace(/,/g,";")||""]);return[t,...r].map(i=>i.join(",")).join(`
`)}static addHeader(e,t,r){e.setFontSize(18),e.setFont("helvetica","bold"),e.text(t,15,20),e.setFontSize(10),e.setFont("helvetica","normal"),e.text(`Report Type: ${r.charAt(0).toUpperCase()+r.slice(1)}`,15,30),e.text(`Generated: ${na(new Date,"MMMM dd, yyyy")}`,15,35),e.setDrawColor(200,200,200),e.line(15,40,195,40)}static addPatientInfo(e,t){let r=50;return e.setFontSize(12),e.setFont("helvetica","bold"),e.text("Patient Information",15,r),e.setFontSize(10),e.setFont("helvetica","normal"),r+=7,e.text(`Name: ${t.name}`,15,r),r+=5,e.text(`Date of Birth: ${na(new Date(t.dateOfBirth),"MMMM dd, yyyy")}`,15,r),r+=5,t.claimNumber&&(e.text(`Claim Number: ${t.claimNumber}`,15,r),r+=5),t.injuryDate&&(e.text(`Date of Injury: ${na(new Date(t.injuryDate),"MMMM dd, yyyy")}`,15,r),r+=5),t.employerName&&(e.text(`Employer: ${t.employerName}`,15,r),r+=5),t.occupation&&(e.text(`Occupation: ${t.occupation}`,15,r),r+=5),r+5}static addClinicalSummary(e,t,r,n){let i=95;e.setFontSize(12),e.setFont("helvetica","bold"),e.text("Clinical Summary",15,i),e.setFontSize(10),e.setFont("helvetica","normal"),i+=7;const a=this.generateClinicalSummary(t,r),o=e.splitTextToSize(a,180);e.text(o,15,i),i+=o.length*5+10,n.length>0&&(e.setFont("helvetica","bold"),e.text("Current Medications:",15,i),e.setFont("helvetica","normal"),i+=5,n.forEach(l=>{e.text(`â€¢ ${l.name} ${l.dosage} - ${l.frequency}`,20,i),i+=5}))}static addPainAnalysis(e,t,r){e.addPage();let n=20;e.setFontSize(12),e.setFont("helvetica","bold"),e.text("Pain Analysis",15,n),e.setFontSize(10),e.setFont("helvetica","normal"),n+=7;const i=this.calculateAveragePain(t),a=Math.max(...t.map(l=>l.painLevel)),o=Math.min(...t.map(l=>l.painLevel));e.text(`Average Pain Level: ${i.toFixed(1)}/10`,15,n),n+=5,e.text(`Pain Range: ${o} - ${a}/10`,15,n),n+=5,e.text(`Trend: ${r.charAt(0).toUpperCase()+r.slice(1)}`,15,n),n+=5,e.text(`Data Points: ${t.length} entries over ${this.calculateDaySpan(t)} days`,15,n)}static addFunctionalAssessment(e,t,r){let n=e.internal.pageSize.height/2;e.setFontSize(12),e.setFont("helvetica","bold"),e.text("Functional Assessment",15,n),e.setFontSize(10),e.setFont("helvetica","normal"),n+=7;const i=e.splitTextToSize(t,180);e.text(i,15,n),n+=i.length*5+10,e.setFont("helvetica","bold"),e.text("Work Capacity Assessment:",15,n),e.setFont("helvetica","normal"),n+=5;const a=r==="full"?"Patient is capable of full duties":r==="modified"?"Patient requires modified duties and restrictions":"Patient is currently unable to perform work duties";e.text(a,15,n)}static addTreatmentPlan(e,t,r){e.addPage();let n=20;e.setFontSize(12),e.setFont("helvetica","bold"),e.text("Treatment Plan",15,n),e.setFontSize(10),e.setFont("helvetica","normal"),n+=7;const i=this.generateTreatmentPlan(t,r),a=e.splitTextToSize(i,180);e.text(a,15,n)}static addProviderSignature(e){const t=e.internal.pageSize.height-40;e.setFontSize(10),e.text("Provider Signature: _________________________",15,t),e.text("Date: _________________________",15,t+10),e.text("License Number: _________________________",15,t+20)}static addDiagnosisSection(e,t){let r=95;e.setFontSize(12),e.setFont("helvetica","bold"),e.text("Diagnosis",15,r),e.setFontSize(10),e.setFont("helvetica","normal"),r+=7;const n=t.filter(i=>i.diagnosis);n.length>0?n.forEach(i=>{e.text(`â€¢ ${i.diagnosis}`,20,r),r+=5}):e.text("Chronic pain condition - see clinical notes for details",20,r)}static addTreatmentHistory(e,t,r){e.addPage();let n=20;e.setFontSize(12),e.setFont("helvetica","bold"),e.text("Treatment History",15,n),e.setFontSize(10),e.setFont("helvetica","normal"),n+=7,r.forEach(i=>{e.text(`â€¢ ${i.name} ${i.dosage} started ${na(new Date(i.startDate),"MMM dd, yyyy")}`,20,n),n+=5})}static addPrognosisSection(e,t){const r=e.internal.pageSize.height/2;e.setFontSize(12),e.setFont("helvetica","bold"),e.text("Prognosis",15,r),e.setFontSize(10),e.setFont("helvetica","normal");const n=this.analyzePainTrend(t),i=n==="improving"?"Patient shows positive response to treatment with improving pain levels. Continued improvement expected with ongoing care.":n==="stable"?"Patient maintains stable pain levels. Continued management required to maintain current functional status.":"Patient experiencing worsening symptoms. Treatment plan adjustment recommended.",a=e.splitTextToSize(i,180);e.text(a,15,r+7)}static analyzePainTrend(e){if(e.length<2)return"stable";const t=e.slice(0,Math.floor(e.length/2)),r=e.slice(Math.floor(e.length/2)),n=this.calculateAveragePain(t),i=this.calculateAveragePain(r),a=n-i;return a>.5?"improving":a<-.5?"worsening":"stable"}static calculateAveragePain(e){return e.length===0?0:e.reduce((t,r)=>t+r.painLevel,0)/e.length}static assessFunctionalImpact(e,t){return t<3?"Patient reports minimal functional impact. Able to perform most activities of daily living with minor limitations.":t<6?"Patient experiences moderate functional impact. Some activities of daily living are affected, requiring modifications and occasional assistance.":"Patient reports significant functional impact. Substantial limitations in activities of daily living, requiring regular assistance and accommodations."}static determineWorkCapacity(e,t){return e<3&&t!=="worsening"?"full":e<6?"modified":"unable"}static determineRestrictions(e,t){const r=[];return e>=4&&(r.push("Limit prolonged standing (max 2 hours)"),r.push("Avoid heavy lifting (>10 lbs)")),e>=6&&(r.push("Frequent position changes required"),r.push("Avoid repetitive bending or twisting"),r.push("Modified work schedule may be required")),t==="worsening"&&(r.push("Close monitoring required"),r.push("Re-evaluation in 2 weeks")),r}static recommendDuration(e){return e==="improving"?14:e==="stable"?30:7}static calculateNextReviewDate(e,t){const r=this.recommendDuration(t),n=new Date;return n.setDate(n.getDate()+r),na(n,"yyyy-MM-dd")}static generateClinicalSummary(e,t){const r=this.calculateAveragePain(e),n=this.analyzePainTrend(e);return`Patient has been tracking pain levels over ${this.calculateDaySpan(e)} days with ${e.length} documented entries. Average pain level is ${r.toFixed(1)}/10 with a ${n} trend. ${t.length>0?`Clinical team has documented ${t.length} clinical notes during this period.`:""}`}static generateTreatmentPlan(e,t){return`Continue current medication regimen with ${e.length} active medications. ${t.filter(n=>n.type==="treatment").length>0?"Ongoing therapeutic interventions as documented in clinical notes.":"Consider additional therapeutic interventions based on pain pattern analysis."} Regular monitoring and follow-up appointments recommended.`}static formatProgressNote(e,t,r,n){const i=this.calculateAveragePain(t),a=this.analyzePainTrend(t);return`
CLINICAL PROGRESS NOTE

Patient: ${e.name}
Date: ${na(new Date,"MMMM dd, yyyy")}

SUBJECTIVE:
Patient continues to track pain levels daily. Reports ${a} pain over the past 14 days.

OBJECTIVE:
Average pain level: ${i.toFixed(1)}/10
Pain trend: ${a.charAt(0).toUpperCase()+a.slice(1)}
Data points: ${t.length} entries

Current medications:
${n.map(o=>`- ${o.name} ${o.dosage} ${o.frequency}`).join(`
`)}

ASSESSMENT:
${a==="improving"?"Positive response to current treatment plan.":a==="stable"?"Stable pain management with current regimen.":"Suboptimal pain control, treatment adjustment needed."}

PLAN:
${a==="improving"?"Continue current treatment plan. Follow-up in 4 weeks.":a==="stable"?"Maintain current treatment. Monitor for changes. Follow-up in 4 weeks.":"Adjust treatment plan. Consider additional interventions. Follow-up in 2 weeks."}
    `.trim()}static calculateDaySpan(e){if(e.length===0)return 0;const t=new Date(e[0].timestamp),r=new Date(e[e.length-1].timestamp);return Math.ceil((r.getTime()-t.getTime())/(1e3*60*60*24))}}const Zo=[{id:"1",timestamp:new Date(Date.now()-720*60*60*1e3).toISOString(),painLevel:8,location:"Lower Back",triggers:["Prolonged Sitting","Cold Weather"],medications:["Naproxen 500mg"],activities:["Desk Work"],mood:4,sleep:5},{id:"2",timestamp:new Date(Date.now()-672*60*60*1e3).toISOString(),painLevel:7,location:"Lower Back",medications:["Naproxen 500mg"],activities:["Walking"],mood:5,sleep:6},{id:"3",timestamp:new Date(Date.now()-600*60*60*1e3).toISOString(),painLevel:6,location:"Lower Back",medications:["Naproxen 500mg","Cyclobenzaprine 10mg"],activities:["Physical Therapy"],mood:6,sleep:7},{id:"4",timestamp:new Date(Date.now()-528*60*60*1e3).toISOString(),painLevel:6,location:"Lower Back",medications:["Naproxen 500mg","Cyclobenzaprine 10mg"],activities:["Light Exercise"],mood:6,sleep:7},{id:"5",timestamp:new Date(Date.now()-480*60*60*1e3).toISOString(),painLevel:5,location:"Lower Back",medications:["Naproxen 500mg","Cyclobenzaprine 10mg"],activities:["Physical Therapy","Walking"],mood:7,sleep:7},{id:"6",timestamp:new Date(Date.now()-432*60*60*1e3).toISOString(),painLevel:5,location:"Lower Back",medications:["Naproxen 500mg","Cyclobenzaprine 10mg"],activities:["Light Exercise"],mood:7,sleep:8},{id:"7",timestamp:new Date(Date.now()-360*60*60*1e3).toISOString(),painLevel:4,location:"Lower Back",medications:["Naproxen 500mg","Cyclobenzaprine 10mg"],activities:["Physical Therapy","Walking"],mood:8,sleep:8},{id:"8",timestamp:new Date(Date.now()-288*60*60*1e3).toISOString(),painLevel:4,location:"Lower Back",medications:["Naproxen 500mg"],activities:["Walking","Light Exercise"],mood:8,sleep:8},{id:"9",timestamp:new Date(Date.now()-14400*60*1e3).toISOString(),painLevel:3,location:"Lower Back",medications:["Naproxen 500mg"],activities:["Physical Therapy"],mood:8,sleep:8},{id:"10",timestamp:new Date(Date.now()-10080*60*1e3).toISOString(),painLevel:3,location:"Lower Back",medications:["Naproxen 500mg"],activities:["Walking"],mood:9,sleep:8},{id:"11",timestamp:new Date(Date.now()-7200*60*1e3).toISOString(),painLevel:3,location:"Lower Back",medications:["Naproxen 500mg"],activities:["Light Exercise","Walking"],mood:9,sleep:9},{id:"12",timestamp:new Date(Date.now()-4320*60*1e3).toISOString(),painLevel:2,location:"Lower Back",medications:["Naproxen 500mg"],activities:["Physical Therapy"],mood:9,sleep:9}],ox=[{id:"1",date:new Date(Date.now()-600*60*60*1e3).toISOString(),type:"medication",name:"Cyclobenzaprine 10mg",dosage:"10mg nightly",provider:"Dr. Smith"},{id:"2",date:new Date(Date.now()-480*60*60*1e3).toISOString(),type:"therapy",name:"Physical Therapy",provider:"Johnson PT Clinic",notes:"2x weekly sessions"}],ji={id:"1",name:"Sarah Johnson",dateOfBirth:"1985-03-15",claimNumber:"WCB-2024-001234",injuryDate:"2024-01-10",employerName:"Tech Solutions Inc",occupation:"Software Developer",address:"123 Main St, Vancouver, BC",phone:"(604) 555-0123",email:"sarah.j@email.com"},cx=[{name:"Naproxen",dosage:"500mg",frequency:"Twice daily",startDate:new Date(Date.now()-720*60*60*1e3).toISOString(),prescriber:"Dr. Smith"},{name:"Cyclobenzaprine",dosage:"10mg",frequency:"Nightly",startDate:new Date(Date.now()-600*60*60*1e3).toISOString(),prescriber:"Dr. Smith"}],lx=[{id:"1",date:new Date(Date.now()-720*60*60*1e3).toISOString(),provider:"Dr. Smith",type:"assessment",content:"Initial assessment for work-related lower back injury. Pain rated 8/10.",diagnosis:"Lumbar strain with muscle spasm"},{id:"2",date:new Date(Date.now()-480*60*60*1e3).toISOString(),provider:"Dr. Smith",type:"progress",content:"Patient responding well to treatment. Pain reduced to 5/10. Continuing physical therapy."}],ux=()=>{const{patientId:s}=o2(),e=Oi(),[t,r]=I.useState([]),[n,i]=I.useState(!1),[a,o]=I.useState(!1),[l,u]=I.useState(!1);I.useEffect(()=>{(async()=>{i(!0);try{const v=await H8.detectPatterns(Zo,ox);r(v)}catch(v){console.error("Pattern detection error:",v)}finally{i(!1)}})()},[s]);const d=async()=>{u(!0);try{const{pdf:y,summary:v}=await Rf.generateWorkSafeBCReport(ji,Zo,lx,cx,"progress");y.save(`WorkSafeBC-Report-${ji.name}-${new Date().toISOString().split("T")[0]}.pdf`),console.log("Report summary:",v)}catch(y){console.error("Report generation error:",y)}finally{u(!1)}},m=async()=>{u(!0);try{(await Rf.generateInsuranceReport(ji,Zo,lx,cx)).save(`Insurance-Report-${ji.name}-${new Date().toISOString().split("T")[0]}.pdf`)}catch(y){console.error("Report generation error:",y)}finally{u(!1)}},p=()=>{const y=Rf.exportToCSV(Zo),v=new Blob([y],{type:"text/csv"}),N=window.URL.createObjectURL(v),D=document.createElement("a");D.href=N,D.download=`${ji.name}-pain-data-${new Date().toISOString().split("T")[0]}.csv`,D.click()},f=t.filter(y=>y.confidence==="high"),g=t.filter(y=>y.actionable);return c.jsxDEV("div",{className:"space-y-6",children:[c.jsxDEV("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-6",children:[c.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[c.jsxDEV("div",{className:"flex items-center gap-4",children:[c.jsxDEV("button",{onClick:()=>e("/clinic"),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:c.jsxDEV(_5,{className:"w-5 h-5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:299,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:295,columnNumber:13},void 0),c.jsxDEV("div",{children:[c.jsxDEV("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:ji.name},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:302,columnNumber:15},void 0),c.jsxDEV("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:["Claim #",ji.claimNumber," â€¢ ",ji.occupation]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:303,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:301,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:294,columnNumber:11},void 0),c.jsxDEV("div",{className:"flex gap-3",children:[c.jsxDEV("button",{onClick:p,className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-600 transition-colors",children:[c.jsxDEV(Dn,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:314,columnNumber:15},void 0),"Export CSV"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:310,columnNumber:13},void 0),c.jsxDEV("button",{onClick:()=>o(!a),className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[c.jsxDEV(Mn,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:321,columnNumber:15},void 0),a?"Hide":"Show"," AI Insights"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:317,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:309,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:293,columnNumber:9},void 0),c.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mt-4",children:[c.jsxDEV("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[c.jsxDEV("div",{className:"flex items-center gap-2",children:[c.jsxDEV(dr,{className:"w-5 h-5 text-blue-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:331,columnNumber:15},void 0),c.jsxDEV("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Data Points"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:332,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:330,columnNumber:13},void 0),c.jsxDEV("p",{className:"text-2xl font-bold text-slate-900 dark:text-white mt-2",children:Zo.length},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:334,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:329,columnNumber:11},void 0),c.jsxDEV("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[c.jsxDEV("div",{className:"flex items-center gap-2",children:[c.jsxDEV(zr,{className:"w-5 h-5 text-green-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:339,columnNumber:15},void 0),c.jsxDEV("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Trend"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:340,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:338,columnNumber:13},void 0),c.jsxDEV("p",{className:"text-2xl font-bold text-green-600 mt-2",children:"Improving"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:342,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:337,columnNumber:11},void 0),c.jsxDEV("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[c.jsxDEV("div",{className:"flex items-center gap-2",children:[c.jsxDEV(Mn,{className:"w-5 h-5 text-purple-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:347,columnNumber:15},void 0),c.jsxDEV("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"AI Patterns"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:348,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:346,columnNumber:13},void 0),c.jsxDEV("p",{className:"text-2xl font-bold text-slate-900 dark:text-white mt-2",children:f.length},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:350,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:345,columnNumber:11},void 0),c.jsxDEV("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/20 rounded-lg",children:[c.jsxDEV("div",{className:"flex items-center gap-2",children:[c.jsxDEV(ac,{className:"w-5 h-5 text-amber-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:355,columnNumber:15},void 0),c.jsxDEV("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Action Items"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:356,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:354,columnNumber:13},void 0),c.jsxDEV("p",{className:"text-2xl font-bold text-slate-900 dark:text-white mt-2",children:g.length},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:358,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:353,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:328,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:292,columnNumber:7},void 0),a&&c.jsxDEV("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-6",children:[c.jsxDEV("div",{className:"flex items-center gap-2 mb-4",children:[c.jsxDEV(Mn,{className:"w-6 h-6 text-purple-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:367,columnNumber:13},void 0),c.jsxDEV("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"AI-Detected Patterns"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:368,columnNumber:13},void 0),n&&c.jsxDEV("span",{className:"text-sm text-slate-500",children:"Analyzing..."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:369,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:366,columnNumber:11},void 0),t.length===0?c.jsxDEV("p",{className:"text-slate-600 dark:text-slate-400",children:"No significant patterns detected yet. More data needed."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:373,columnNumber:13},void 0):c.jsxDEV("div",{className:"space-y-4",children:t.slice(0,5).map(y=>c.jsxDEV("div",{className:`p-4 rounded-lg border-l-4 ${y.confidence==="high"?"bg-green-50 dark:bg-green-900/20 border-green-500":y.confidence==="medium"?"bg-blue-50 dark:bg-blue-900/20 border-blue-500":"bg-slate-50 dark:bg-slate-700/50 border-slate-500"}`,children:c.jsxDEV("div",{className:"flex items-start justify-between",children:[c.jsxDEV("div",{className:"flex-1",children:[c.jsxDEV("div",{className:"flex items-center gap-2 mb-2",children:[c.jsxDEV("h3",{className:"font-semibold text-slate-900 dark:text-white",children:y.title},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:390,columnNumber:25},void 0),c.jsxDEV("span",{className:`px-2 py-0.5 text-xs font-medium rounded ${y.confidence==="high"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":y.confidence==="medium"?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400":"bg-slate-100 text-slate-800 dark:bg-slate-700 dark:text-slate-400"}`,children:[y.confidence," confidence"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:391,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:389,columnNumber:23},void 0),c.jsxDEV("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:y.description},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:403,columnNumber:23},void 0),y.recommendation&&c.jsxDEV("div",{className:"flex items-start gap-2 mt-2 p-3 bg-white dark:bg-slate-800 rounded",children:[c.jsxDEV(ac,{className:"w-4 h-4 text-blue-600 mt-0.5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:406,columnNumber:27},void 0),c.jsxDEV("p",{className:"text-sm text-slate-700 dark:text-slate-300",children:[c.jsxDEV("strong",{children:"Recommendation:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:408,columnNumber:29},void 0)," ",y.recommendation]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:407,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:405,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:388,columnNumber:21},void 0),c.jsxDEV("div",{className:"ml-4 text-right",children:[c.jsxDEV("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Impact"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:414,columnNumber:23},void 0),c.jsxDEV("p",{className:`text-xl font-bold ${y.impact>0?"text-green-600":y.impact<0?"text-red-600":"text-slate-600"}`,children:[y.impact>0?"+":"",y.impact.toFixed(1)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:415,columnNumber:23},void 0),c.jsxDEV("p",{className:"text-xs text-slate-500 mt-1",children:[y.occurrences," occurrences"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:427,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:413,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:387,columnNumber:19},void 0)},y.id,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:377,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:375,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:365,columnNumber:9},void 0),c.jsxDEV(W8,{patientId:s||"1",patientName:ji.name,entries:Zo,interventions:ox},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:438,columnNumber:7},void 0),c.jsxDEV("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-6",children:[c.jsxDEV("div",{className:"flex items-center gap-2 mb-4",children:[c.jsxDEV(In,{className:"w-6 h-6 text-blue-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:448,columnNumber:11},void 0),c.jsxDEV("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Generate Reports"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:449,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:447,columnNumber:9},void 0),c.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxDEV("button",{onClick:d,disabled:l,className:"p-6 bg-blue-50 dark:bg-blue-900/20 hover:bg-blue-100 dark:hover:bg-blue-900/30 rounded-lg border-2 border-blue-200 dark:border-blue-800 transition-colors text-left disabled:opacity-50",children:c.jsxDEV("div",{className:"flex items-start justify-between",children:c.jsxDEV("div",{children:[c.jsxDEV("h3",{className:"font-semibold text-slate-900 dark:text-white mb-2",children:"WorkSafe BC Report"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:460,columnNumber:17},void 0),c.jsxDEV("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Comprehensive medical report with functional assessment and work capacity evaluation"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:461,columnNumber:17},void 0),c.jsxDEV("div",{className:"flex items-center gap-2 mt-4",children:[c.jsxDEV(Dn,{className:"w-4 h-4 text-blue-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:465,columnNumber:19},void 0),c.jsxDEV("span",{className:"text-sm font-medium text-blue-600",children:"Generate PDF"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:466,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:464,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:459,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:458,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:453,columnNumber:11},void 0),c.jsxDEV("button",{onClick:m,disabled:l,className:"p-6 bg-purple-50 dark:bg-purple-900/20 hover:bg-purple-100 dark:hover:bg-purple-900/30 rounded-lg border-2 border-purple-200 dark:border-purple-800 transition-colors text-left disabled:opacity-50",children:c.jsxDEV("div",{className:"flex items-start justify-between",children:c.jsxDEV("div",{children:[c.jsxDEV("h3",{className:"font-semibold text-slate-900 dark:text-white mb-2",children:"Insurance Claim Report"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:479,columnNumber:17},void 0),c.jsxDEV("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Detailed medical documentation for insurance claim processing and review"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:480,columnNumber:17},void 0),c.jsxDEV("div",{className:"flex items-center gap-2 mt-4",children:[c.jsxDEV(Dn,{className:"w-4 h-4 text-purple-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:484,columnNumber:19},void 0),c.jsxDEV("span",{className:"text-sm font-medium text-purple-600",children:"Generate PDF"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:485,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:483,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:478,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:477,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:472,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:452,columnNumber:9},void 0),l&&c.jsxDEV("div",{className:"mt-4 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:c.jsxDEV("p",{className:"text-sm text-blue-800 dark:text-blue-400",children:"Generating report..."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:494,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:493,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:446,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/EnhancedPatientView.tsx",lineNumber:290,columnNumber:5},void 0)};function q8(){const[s,e]=I.useState({clinicName:"Pain Management Clinic",timezone:"America/Vancouver",defaultAppointmentDuration:30,enableEmailNotifications:!0,enableSMSReminders:!1,hipaaAuditLevel:"full",dataRetentionDays:2555,theme:"light"}),t=()=>{alert("Settings saved successfully!")};return c.jsxDEV("div",{className:"p-6 space-y-6 max-w-4xl",children:[c.jsxDEV("div",{children:[c.jsxDEV("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:"Clinic Settings"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:29,columnNumber:9},this),c.jsxDEV("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Configure portal preferences and clinical workflows"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:32,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:28,columnNumber:7},this),c.jsxDEV("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700",children:[c.jsxDEV("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:c.jsxDEV("div",{className:"flex items-center gap-3",children:[c.jsxDEV("div",{className:"w-10 h-10 rounded-lg bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center",children:c.jsxDEV(Na,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:42,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:41,columnNumber:13},this),c.jsxDEV("div",{children:[c.jsxDEV("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"General Settings"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:45,columnNumber:15},this),c.jsxDEV("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Basic clinic information and preferences"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:48,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:44,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:40,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:39,columnNumber:9},this),c.jsxDEV("div",{className:"p-6 space-y-4",children:[c.jsxDEV("div",{children:[c.jsxDEV("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Clinic Name"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:57,columnNumber:13},this),c.jsxDEV("input",{type:"text",value:s.clinicName,onChange:r=>e({...s,clinicName:r.target.value}),className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:60,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:56,columnNumber:11},this),c.jsxDEV("div",{children:[c.jsxDEV("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Timezone"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:69,columnNumber:13},this),c.jsxDEV("select",{value:s.timezone,onChange:r=>e({...s,timezone:r.target.value}),className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[c.jsxDEV("option",{value:"America/Vancouver",children:"Pacific Time (PT)"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:77,columnNumber:15},this),c.jsxDEV("option",{value:"America/Edmonton",children:"Mountain Time (MT)"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:78,columnNumber:15},this),c.jsxDEV("option",{value:"America/Winnipeg",children:"Central Time (CT)"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:79,columnNumber:15},this),c.jsxDEV("option",{value:"America/Toronto",children:"Eastern Time (ET)"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:80,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:72,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:68,columnNumber:11},this),c.jsxDEV("div",{children:[c.jsxDEV("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Default Appointment Duration (minutes)"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:85,columnNumber:13},this),c.jsxDEV("input",{type:"number",value:s.defaultAppointmentDuration,onChange:r=>e({...s,defaultAppointmentDuration:parseInt(r.target.value)}),min:"15",step:"15",className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:88,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:84,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:55,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:38,columnNumber:7},this),c.jsxDEV("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700",children:[c.jsxDEV("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:c.jsxDEV("div",{className:"flex items-center gap-3",children:[c.jsxDEV("div",{className:"w-10 h-10 rounded-lg bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:c.jsxDEV(go,{className:"w-5 h-5 text-green-600 dark:text-green-400"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:105,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:104,columnNumber:13},this),c.jsxDEV("div",{children:[c.jsxDEV("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Notifications"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:108,columnNumber:15},this),c.jsxDEV("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Configure alert and reminder preferences"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:111,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:107,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:103,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:102,columnNumber:9},this),c.jsxDEV("div",{className:"p-6 space-y-4",children:[c.jsxDEV("div",{className:"flex items-center justify-between",children:[c.jsxDEV("div",{children:[c.jsxDEV("p",{className:"font-medium text-slate-900 dark:text-slate-100",children:"Email Notifications"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:121,columnNumber:15},this),c.jsxDEV("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Receive alerts and updates via email"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:124,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:120,columnNumber:13},this),c.jsxDEV("label",{className:"relative inline-flex items-center cursor-pointer",children:[c.jsxDEV("input",{type:"checkbox",checked:s.enableEmailNotifications,onChange:r=>e({...s,enableEmailNotifications:r.target.checked}),className:"sr-only peer"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:129,columnNumber:15},this),c.jsxDEV("div",{className:"w-11 h-6 bg-slate-300 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-slate-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-slate-600 peer-checked:bg-blue-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:135,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:128,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:119,columnNumber:11},this),c.jsxDEV("div",{className:"flex items-center justify-between",children:[c.jsxDEV("div",{children:[c.jsxDEV("p",{className:"font-medium text-slate-900 dark:text-slate-100",children:"SMS Reminders"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:141,columnNumber:15},this),c.jsxDEV("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Send appointment reminders via SMS"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:144,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:140,columnNumber:13},this),c.jsxDEV("label",{className:"relative inline-flex items-center cursor-pointer",children:[c.jsxDEV("input",{type:"checkbox",checked:s.enableSMSReminders,onChange:r=>e({...s,enableSMSReminders:r.target.checked}),className:"sr-only peer"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:149,columnNumber:15},this),c.jsxDEV("div",{className:"w-11 h-6 bg-slate-300 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-slate-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-slate-600 peer-checked:bg-blue-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:155,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:148,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:139,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:118,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:101,columnNumber:7},this),c.jsxDEV("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700",children:[c.jsxDEV("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:c.jsxDEV("div",{className:"flex items-center gap-3",children:[c.jsxDEV("div",{className:"w-10 h-10 rounded-lg bg-red-100 dark:bg-red-900/30 flex items-center justify-center",children:c.jsxDEV(ii,{className:"w-5 h-5 text-red-600 dark:text-red-400"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:166,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:165,columnNumber:13},this),c.jsxDEV("div",{children:[c.jsxDEV("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Security & Compliance"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:169,columnNumber:15},this),c.jsxDEV("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"HIPAA audit and data retention settings"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:172,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:168,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:164,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:163,columnNumber:9},this),c.jsxDEV("div",{className:"p-6 space-y-4",children:[c.jsxDEV("div",{children:[c.jsxDEV("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"HIPAA Audit Level"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:181,columnNumber:13},this),c.jsxDEV("select",{value:s.hipaaAuditLevel,onChange:r=>e({...s,hipaaAuditLevel:r.target.value}),className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[c.jsxDEV("option",{value:"full",children:"Full (All Actions)"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:189,columnNumber:15},this),c.jsxDEV("option",{value:"standard",children:"Standard (Data Access Only)"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:190,columnNumber:15},this),c.jsxDEV("option",{value:"minimal",children:"Minimal (Critical Events Only)"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:191,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:184,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:180,columnNumber:11},this),c.jsxDEV("div",{children:[c.jsxDEV("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Data Retention Period (days)"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:196,columnNumber:13},this),c.jsxDEV("input",{type:"number",value:s.dataRetentionDays,onChange:r=>e({...s,dataRetentionDays:parseInt(r.target.value)}),min:"365",className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:199,columnNumber:13},this),c.jsxDEV("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Recommended: 2555 days (7 years) for medical records compliance"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:206,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:195,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:179,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:162,columnNumber:7},this),c.jsxDEV("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700",children:[c.jsxDEV("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:c.jsxDEV("div",{className:"flex items-center gap-3",children:[c.jsxDEV("div",{className:"w-10 h-10 rounded-lg bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center",children:c.jsxDEV(BD,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:218,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:217,columnNumber:13},this),c.jsxDEV("div",{children:[c.jsxDEV("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Appearance"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:221,columnNumber:15},this),c.jsxDEV("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Customize portal theme and display"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:224,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:220,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:216,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:215,columnNumber:9},this),c.jsxDEV("div",{className:"p-6",children:[c.jsxDEV("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Theme"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:232,columnNumber:11},this),c.jsxDEV("div",{className:"grid grid-cols-3 gap-4",children:[c.jsxDEV("button",{onClick:()=>e({...s,theme:"light"}),className:`p-4 rounded-lg border-2 transition-all ${s.theme==="light"?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-slate-300 dark:border-slate-600 hover:border-blue-300"}`,children:[c.jsxDEV("div",{className:"w-full h-20 bg-white rounded mb-2 border border-slate-200"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:244,columnNumber:15},this),c.jsxDEV("p",{className:"text-sm font-medium text-slate-900 dark:text-slate-100",children:"Light"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:245,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:236,columnNumber:13},this),c.jsxDEV("button",{onClick:()=>e({...s,theme:"dark"}),className:`p-4 rounded-lg border-2 transition-all ${s.theme==="dark"?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-slate-300 dark:border-slate-600 hover:border-blue-300"}`,children:[c.jsxDEV("div",{className:"w-full h-20 bg-slate-900 rounded mb-2"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:255,columnNumber:15},this),c.jsxDEV("p",{className:"text-sm font-medium text-slate-900 dark:text-slate-100",children:"Dark"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:256,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:247,columnNumber:13},this),c.jsxDEV("button",{onClick:()=>e({...s,theme:"auto"}),className:`p-4 rounded-lg border-2 transition-all ${s.theme==="auto"?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-slate-300 dark:border-slate-600 hover:border-blue-300"}`,children:[c.jsxDEV("div",{className:"w-full h-20 bg-gradient-to-r from-white to-slate-900 rounded mb-2"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:266,columnNumber:15},this),c.jsxDEV("p",{className:"text-sm font-medium text-slate-900 dark:text-slate-100",children:"Auto"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:267,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:258,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:235,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:231,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:214,columnNumber:7},this),c.jsxDEV("div",{className:"flex justify-end",children:c.jsxDEV("button",{onClick:t,className:"flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors font-medium",children:[c.jsxDEV(QD,{className:"w-5 h-5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:279,columnNumber:11},this),"Save Settings"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:275,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:274,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicSettings.tsx",lineNumber:26,columnNumber:5},this)}const AN=I.createContext(null),G8={physician:["view:patients","edit:patients","create:reports","view:reports","edit:reports","create:prescriptions","view:full_medical_history","schedule:appointments","cancel:appointments"],nurse:["view:patients","edit:patient_vitals","view:reports","schedule:appointments","cancel:appointments","create:notes"],admin:["view:patients","edit:patients","create:reports","view:reports","edit:reports","view:full_medical_history","schedule:appointments","cancel:appointments","manage:users","view:audit_logs","export:data","configure:system"],researcher:["view:deidentified_data","export:deidentified_data","view:aggregate_analytics"]};function Y8({children:s}){const[e,t]=I.useState({user:null,isAuthenticated:!1,isLoading:!0,error:null});I.useEffect(()=>{r()},[]);const r=async()=>{try{if(!localStorage.getItem("clinic_session_token")){t(m=>({...m,isLoading:!1}));return}const d=localStorage.getItem("clinic_user_data");if(d){const m=JSON.parse(d);await al.logAuditEvent({actionType:"read",resourceType:"Session",userId:m.id,userRole:m.role,outcome:"success",details:{action:"session_restored"}}),t({user:m,isAuthenticated:!0,isLoading:!1,error:null})}else t(m=>({...m,isLoading:!1}))}catch(u){console.error("Session check failed:",u),t(d=>({...d,isLoading:!1}))}},l={...e,login:async(u,d)=>{t(m=>({...m,isLoading:!0,error:null}));try{const m={id:`clinic-${Date.now()}`,email:u,name:u.split("@")[0].replace("."," ").split(" ").map(f=>f.charAt(0).toUpperCase()+f.slice(1)).join(" "),role:u.includes("admin")?"admin":u.includes("nurse")?"nurse":u.includes("research")?"researcher":"physician",licenseNumber:"BC-12345",specialty:"Pain Medicine",npiNumber:"1234567890",organizationId:"org-001",organizationName:"Pain Management Clinic",permissions:G8[u.includes("admin")?"admin":u.includes("nurse")?"nurse":u.includes("research")?"researcher":"physician"],lastLogin:new Date().toISOString()},p=`session_${Date.now()}_${Math.random().toString(36)}`;localStorage.setItem("clinic_session_token",p),localStorage.setItem("clinic_user_data",JSON.stringify(m)),await al.logAuditEvent({actionType:"login",resourceType:"Session",userId:m.id,userRole:m.role,outcome:"success",details:{action:"login",email:m.email,role:m.role,ip:"client_ip"}}),t({user:m,isAuthenticated:!0,isLoading:!1,error:null})}catch(m){const p=m instanceof Error?m.message:"Login failed";await al.logAuditEvent({actionType:"login",resourceType:"Session",userId:"unknown",userRole:"unknown",outcome:"failure",details:{action:"login_failed",email:u,error:p}}),t({user:null,isAuthenticated:!1,isLoading:!1,error:p})}},logout:async()=>{const u=e.user;try{localStorage.removeItem("clinic_session_token"),localStorage.removeItem("clinic_user_data"),u&&await al.logAuditEvent({actionType:"logout",resourceType:"Session",userId:u.id,userRole:u.role,outcome:"success",details:{action:"logout"}}),t({user:null,isAuthenticated:!1,isLoading:!1,error:null})}catch(d){console.error("Logout error:",d),t({user:null,isAuthenticated:!1,isLoading:!1,error:null})}},hasPermission:u=>e.user?e.user.permissions.includes(u):!1,hasRole:u=>e.user?(Array.isArray(u)?u:[u]).includes(e.user.role):!1};return c.jsxDEV(AN.Provider,{value:l,children:s},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/contexts/ClinicAuthContext.tsx",lineNumber:288,columnNumber:5},this)}function mp(){const s=I.useContext(AN);if(!s)throw new Error("useClinicAuth must be used within ClinicAuthProvider");return s}function K8(){const s=Oi(),{login:e,isLoading:t,error:r}=mp(),[n,i]=I.useState(""),[a,o]=I.useState(""),[l,u]=I.useState(!1),d=async m=>{m.preventDefault();try{await e(n,a),s("/clinic/dashboard")}catch(p){console.error("Login failed:",p)}};return c.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900 flex items-center justify-center p-4",children:c.jsxDEV("div",{className:"w-full max-w-md",children:[c.jsxDEV("div",{className:"text-center mb-8",children:[c.jsxDEV("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-600 rounded-2xl mb-4",children:c.jsxDEV(xo,{className:"w-8 h-8 text-white"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicLogin.tsx",lineNumber:38,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicLogin.tsx",lineNumber:37,columnNumber:11},this),c.jsxDEV("h1",{className:"text-3xl font-bold text-white mb-2",children:"Clinic Portal"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicLogin.tsx",lineNumber:40,columnNumber:11},this),c.jsxDEV("p",{className:"text-blue-200",children:"Healthcare Professional Login"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicLogin.tsx",lineNumber:43,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicLogin.tsx",lineNumber:36,columnNumber:9},this),c.jsxDEV("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl p-8",children:[c.jsxDEV("form",{onSubmit:d,className:"space-y-6",children:[r&&c.jsxDEV("div",{className:"flex items-start gap-3 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:[c.jsxDEV(ac,{className:"w-5 h-5 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicLogin.tsx",lineNumber:54,columnNumber:17},this),c.jsxDEV("div",{children:[c.jsxDEV("p",{className:"text-sm font-medium text-red-900 dark:text-red-100",children:"Login Failed"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicLogin.tsx",lineNumber:56,columnNumber:19},this),c.jsxDEV("p",{className:"text-sm text-red-700 dark:text-red-300 mt-1",children:r},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicLogin.tsx",lineNumber:59,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicLogin.tsx",lineNumber:55,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicLogin.tsx",lineNumber:53,columnNumber:15},this),c.jsxDEV("div",{children:[c.jsxDEV("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Email Address"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicLogin.tsx",lineNumber:68,columnNumber:15},this),c.jsxDEV("div",{className:"relative",children:[c.jsxDEV(Vh,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicLogin.tsx",lineNumber:75,columnNumber:17},this),c.jsxDEV("input",{id:"email",type:"email",value:n,onChange:m=>i(m.target.value),required:!0,autoComplete:"email",placeholder:"doctor@clinic.com",className:"w-full pl-10 pr-4 py-3 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 placeholder-slate-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",disabled:t},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicLogin.tsx",lineNumber:76,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicLogin.tsx",lineNumber:74,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicLogin.tsx",lineNumber:67,columnNumber:13},this),c.jsxDEV("div",{children:[c.jsxDEV("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Password"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicLogin.tsx",lineNumber:92,columnNumber:15},this),c.jsxDEV("div",{className:"relative",children:[c.jsxDEV(ga,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicLogin.tsx",lineNumber:99,columnNumber:17},this),c.jsxDEV("input",{id:"password",type:l?"text":"password",value:a,onChange:m=>o(m.target.value),required:!0,autoComplete:"current-password",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",className:"w-full pl-10 pr-12 py-3 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 placeholder-slate-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",disabled:t},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicLogin.tsx",lineNumber:100,columnNumber:17},this),c.jsxDEV("button",{type:"button",onClick:()=>u(!l),className:"absolute right-3 top-1/2 -translate-y-1/2 text-sm text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-100",tabIndex:-1,children:l?"Hide":"Show"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicLogin.tsx",lineNumber:111,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicLogin.tsx",lineNumber:98,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicLogin.tsx",lineNumber:91,columnNumber:13},this),c.jsxDEV("div",{className:"flex items-center justify-between text-sm",children:[c.jsxDEV("label",{className:"flex items-center gap-2 cursor-pointer",children:[c.jsxDEV("input",{type:"checkbox",className:"w-4 h-4 rounded border-slate-300 text-blue-600 focus:ring-blue-500 focus:ring-offset-0"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicLogin.tsx",lineNumber:125,columnNumber:17},this),c.jsxDEV("span",{className:"text-slate-700 dark:text-slate-300",children:"Remember me"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicLogin.tsx",lineNumber:129,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicLogin.tsx",lineNumber:124,columnNumber:15},this),c.jsxDEV("button",{type:"button",className:"text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 font-medium",children:"Forgot password?"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicLogin.tsx",lineNumber:133,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicLogin.tsx",lineNumber:123,columnNumber:13},this),c.jsxDEV("button",{type:"submit",disabled:t,className:"w-full flex items-center justify-center gap-2 py-3 px-4 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-medium rounded-lg transition-colors shadow-lg hover:shadow-xl disabled:cursor-not-allowed",children:t?c.jsxDEV(c.Fragment,{children:[c.jsxDEV(Td,{className:"w-5 h-5 animate-spin"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicLogin.tsx",lineNumber:149,columnNumber:19},this),c.jsxDEV("span",{children:"Signing in..."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicLogin.tsx",lineNumber:150,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicLogin.tsx",lineNumber:148,columnNumber:17},this):c.jsxDEV("span",{children:"Sign In"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicLogin.tsx",lineNumber:153,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicLogin.tsx",lineNumber:142,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicLogin.tsx",lineNumber:50,columnNumber:11},this),c.jsxDEV("div",{className:"mt-6 pt-6 border-t border-slate-200 dark:border-slate-700",children:[c.jsxDEV("p",{className:"text-xs text-slate-600 dark:text-slate-400 mb-2 font-medium",children:"Demo Credentials (Development Only):"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicLogin.tsx",lineNumber:160,columnNumber:13},this),c.jsxDEV("div",{className:"space-y-1 text-xs text-slate-500 dark:text-slate-500",children:[c.jsxDEV("p",{children:["â€¢ Physician: ",c.jsxDEV("code",{className:"bg-slate-100 dark:bg-slate-900 px-1 py-0.5 rounded",children:"doctor@clinic.com"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicLogin.tsx",lineNumber:164,columnNumber:31},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicLogin.tsx",lineNumber:164,columnNumber:15},this),c.jsxDEV("p",{children:["â€¢ Nurse: ",c.jsxDEV("code",{className:"bg-slate-100 dark:bg-slate-900 px-1 py-0.5 rounded",children:"nurse@clinic.com"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicLogin.tsx",lineNumber:165,columnNumber:27},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicLogin.tsx",lineNumber:165,columnNumber:15},this),c.jsxDEV("p",{children:["â€¢ Admin: ",c.jsxDEV("code",{className:"bg-slate-100 dark:bg-slate-900 px-1 py-0.5 rounded",children:"admin@clinic.com"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicLogin.tsx",lineNumber:166,columnNumber:27},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicLogin.tsx",lineNumber:166,columnNumber:15},this),c.jsxDEV("p",{children:["â€¢ Password: ",c.jsxDEV("code",{className:"bg-slate-100 dark:bg-slate-900 px-1 py-0.5 rounded",children:"any password"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicLogin.tsx",lineNumber:167,columnNumber:30},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicLogin.tsx",lineNumber:167,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicLogin.tsx",lineNumber:163,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicLogin.tsx",lineNumber:159,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicLogin.tsx",lineNumber:49,columnNumber:9},this),c.jsxDEV("div",{className:"text-center mt-6",children:[c.jsxDEV("p",{className:"text-sm text-blue-200",children:["Pain Tracker Pro Â© ",new Date().getFullYear()]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicLogin.tsx",lineNumber:174,columnNumber:11},this),c.jsxDEV("p",{className:"text-xs text-blue-300 mt-1",children:"HIPAA Compliant | Secure Healthcare Portal"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicLogin.tsx",lineNumber:177,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicLogin.tsx",lineNumber:173,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicLogin.tsx",lineNumber:34,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicLogin.tsx",lineNumber:33,columnNumber:5},this)}function X8({items:s,currentPath:e,collapsed:t,onToggleCollapse:r,user:n}){return c.jsxDEV("aside",{className:`
        bg-slate-900 text-slate-100 transition-all duration-300 flex flex-col
        ${t?"w-20":"w-72"}
      `,"aria-label":"Clinic navigation",children:[c.jsxDEV("div",{className:"p-6 border-b border-slate-700",children:c.jsxDEV("div",{className:"flex items-center gap-3",children:[c.jsxDEV("div",{className:"w-10 h-10 rounded-lg bg-blue-600 flex items-center justify-center flex-shrink-0",children:c.jsxDEV(xo,{className:"w-6 h-6 text-white"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicSidebar.tsx",lineNumber:50,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicSidebar.tsx",lineNumber:49,columnNumber:11},this),!t&&c.jsxDEV("div",{children:[c.jsxDEV("h1",{className:"text-lg font-semibold",children:"Clinic Portal"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicSidebar.tsx",lineNumber:54,columnNumber:15},this),c.jsxDEV("p",{className:"text-xs text-slate-400",children:"Pain Tracker Pro"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicSidebar.tsx",lineNumber:55,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicSidebar.tsx",lineNumber:53,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicSidebar.tsx",lineNumber:48,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicSidebar.tsx",lineNumber:47,columnNumber:7},this),!t&&c.jsxDEV("div",{className:"p-4 border-b border-slate-700 bg-slate-800/50",children:c.jsxDEV("div",{className:"text-sm",children:[c.jsxDEV("p",{className:"font-medium text-slate-100",children:n.name},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicSidebar.tsx",lineNumber:65,columnNumber:13},this),c.jsxDEV("p",{className:"text-xs text-slate-400 capitalize",children:n.role},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicSidebar.tsx",lineNumber:66,columnNumber:13},this),n.specialty&&c.jsxDEV("p",{className:"text-xs text-blue-400 mt-1",children:n.specialty},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicSidebar.tsx",lineNumber:68,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicSidebar.tsx",lineNumber:64,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicSidebar.tsx",lineNumber:63,columnNumber:9},this),c.jsxDEV("nav",{className:"flex-1 overflow-y-auto p-4",children:c.jsxDEV("ul",{className:"space-y-2",children:s.map(i=>{const a=i.icon,o=e.startsWith(i.path);return c.jsxDEV("li",{children:c.jsxDEV(nc,{to:i.path,className:`
                    flex items-center gap-3 px-4 py-3 rounded-lg transition-all
                    ${o?"bg-blue-600 text-white shadow-lg shadow-blue-500/30":"text-slate-300 hover:bg-slate-800 hover:text-white"}
                    ${t?"justify-center":""}
                  `,title:t?i.label:void 0,"aria-label":i.label,"aria-current":o?"page":void 0,children:[c.jsxDEV(a,{className:`w-5 h-5 flex-shrink-0 ${o?"text-white":""}`},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicSidebar.tsx",lineNumber:97,columnNumber:19},this),!t&&c.jsxDEV("div",{className:"flex-1 min-w-0",children:[c.jsxDEV("div",{className:"flex items-center justify-between",children:[c.jsxDEV("span",{className:"font-medium truncate",children:i.label},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicSidebar.tsx",lineNumber:101,columnNumber:25},this),i.badge&&c.jsxDEV("span",{className:"ml-2 px-2 py-0.5 text-xs rounded-full bg-red-500 text-white",children:i.badge},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicSidebar.tsx",lineNumber:103,columnNumber:27},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicSidebar.tsx",lineNumber:100,columnNumber:23},this),!t&&c.jsxDEV("p",{className:"text-xs opacity-75 truncate",children:i.description},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicSidebar.tsx",lineNumber:109,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicSidebar.tsx",lineNumber:99,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicSidebar.tsx",lineNumber:83,columnNumber:17},this)},i.path,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicSidebar.tsx",lineNumber:82,columnNumber:15},this)})},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicSidebar.tsx",lineNumber:76,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicSidebar.tsx",lineNumber:75,columnNumber:7},this),c.jsxDEV("div",{className:"p-4 border-t border-slate-700",children:c.jsxDEV("button",{onClick:r,className:"w-full flex items-center justify-center gap-2 px-4 py-2 rounded-lg bg-slate-800 hover:bg-slate-700 transition-colors text-slate-300","aria-label":t?"Expand sidebar":"Collapse sidebar",children:t?c.jsxDEV(Vx,{className:"w-5 h-5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicSidebar.tsx",lineNumber:128,columnNumber:13},this):c.jsxDEV(c.Fragment,{children:[c.jsxDEV(_h,{className:"w-5 h-5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicSidebar.tsx",lineNumber:131,columnNumber:15},this),c.jsxDEV("span",{className:"text-sm",children:"Collapse"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicSidebar.tsx",lineNumber:132,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicSidebar.tsx",lineNumber:130,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicSidebar.tsx",lineNumber:122,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicSidebar.tsx",lineNumber:121,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicSidebar.tsx",lineNumber:39,columnNumber:5},this)}function J8({user:s,onSignOut:e}){const[t,r]=I.useState(!1);return c.jsxDEV("header",{className:"bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 shadow-sm",children:c.jsxDEV("div",{className:"flex items-center justify-between px-6 py-4",children:[c.jsxDEV("div",{className:"flex-1 max-w-2xl",children:c.jsxDEV("div",{className:"relative",children:[c.jsxDEV(tw,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicHeader.tsx",lineNumber:28,columnNumber:13},this),c.jsxDEV("input",{type:"search",placeholder:"Search patients by name, ID, or condition...",className:"w-full pl-10 pr-4 py-2 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent","aria-label":"Search patients"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicHeader.tsx",lineNumber:29,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicHeader.tsx",lineNumber:27,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicHeader.tsx",lineNumber:26,columnNumber:9},this),c.jsxDEV("div",{className:"flex items-center gap-4 ml-6",children:[c.jsxDEV("button",{className:"p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors","aria-label":"Help and documentation",title:"Help",children:c.jsxDEV(Lx,{className:"w-5 h-5 text-slate-600 dark:text-slate-400"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicHeader.tsx",lineNumber:46,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicHeader.tsx",lineNumber:41,columnNumber:11},this),c.jsxDEV("button",{className:"relative p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors","aria-label":"Notifications",title:"Notifications",children:[c.jsxDEV(go,{className:"w-5 h-5 text-slate-600 dark:text-slate-400"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicHeader.tsx",lineNumber:55,columnNumber:13},this),c.jsxDEV("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicHeader.tsx",lineNumber:56,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicHeader.tsx",lineNumber:50,columnNumber:11},this),c.jsxDEV("div",{className:"relative",children:[c.jsxDEV("button",{onClick:()=>r(!t),className:"flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors","aria-expanded":t,"aria-haspopup":"true",children:[c.jsxDEV("div",{className:"w-8 h-8 rounded-full bg-blue-600 flex items-center justify-center",children:c.jsxDEV(pc,{className:"w-4 h-4 text-white"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicHeader.tsx",lineNumber:68,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicHeader.tsx",lineNumber:67,columnNumber:15},this),c.jsxDEV("div",{className:"text-left hidden md:block",children:[c.jsxDEV("p",{className:"text-sm font-medium text-slate-900 dark:text-slate-100",children:s.name},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicHeader.tsx",lineNumber:71,columnNumber:17},this),c.jsxDEV("p",{className:"text-xs text-slate-500 dark:text-slate-400 capitalize",children:s.role},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicHeader.tsx",lineNumber:74,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicHeader.tsx",lineNumber:70,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicHeader.tsx",lineNumber:61,columnNumber:13},this),t&&c.jsxDEV(c.Fragment,{children:[c.jsxDEV("div",{className:"fixed inset-0 z-10",onClick:()=>r(!1),"aria-hidden":"true"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicHeader.tsx",lineNumber:83,columnNumber:17},this),c.jsxDEV("div",{className:"absolute right-0 mt-2 w-56 bg-white dark:bg-slate-800 rounded-lg shadow-lg border border-slate-200 dark:border-slate-700 py-2 z-20",children:[c.jsxDEV("div",{className:"px-4 py-3 border-b border-slate-200 dark:border-slate-700",children:[c.jsxDEV("p",{className:"text-sm font-medium text-slate-900 dark:text-slate-100",children:s.name},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicHeader.tsx",lineNumber:90,columnNumber:21},this),c.jsxDEV("p",{className:"text-xs text-slate-500 dark:text-slate-400 truncate",children:s.email},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicHeader.tsx",lineNumber:93,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicHeader.tsx",lineNumber:89,columnNumber:19},this),c.jsxDEV("button",{onClick:()=>{r(!1),e()},className:"w-full flex items-center gap-2 px-4 py-2 text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[c.jsxDEV(AD,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicHeader.tsx",lineNumber:104,columnNumber:21},this),"Sign Out"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicHeader.tsx",lineNumber:97,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicHeader.tsx",lineNumber:88,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicHeader.tsx",lineNumber:82,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicHeader.tsx",lineNumber:60,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicHeader.tsx",lineNumber:39,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicHeader.tsx",lineNumber:24,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicHeader.tsx",lineNumber:23,columnNumber:5},this)}function la({children:s,requiredRole:e,requiredPermission:t}){const{isAuthenticated:r,isLoading:n,hasRole:i,hasPermission:a}=mp(),o=oi();return n?c.jsxDEV("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 flex items-center justify-center",children:c.jsxDEV("div",{className:"text-center",children:[c.jsxDEV(Td,{className:"w-12 h-12 animate-spin text-blue-600 mx-auto mb-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicProtectedRoute.tsx",lineNumber:30,columnNumber:11},this),c.jsxDEV("p",{className:"text-slate-600 dark:text-slate-400",children:"Verifying credentials..."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicProtectedRoute.tsx",lineNumber:31,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicProtectedRoute.tsx",lineNumber:29,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicProtectedRoute.tsx",lineNumber:28,columnNumber:7},this):r?e&&!i(e)?c.jsxDEV("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 flex items-center justify-center p-4",children:c.jsxDEV("div",{className:"max-w-md w-full bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-8 text-center",children:[c.jsxDEV("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsxDEV("svg",{className:"w-8 h-8 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicProtectedRoute.tsx",lineNumber:51,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicProtectedRoute.tsx",lineNumber:50,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicProtectedRoute.tsx",lineNumber:49,columnNumber:11},this),c.jsxDEV("h2",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100 mb-2",children:"Access Denied"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicProtectedRoute.tsx",lineNumber:54,columnNumber:11},this),c.jsxDEV("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:["You don't have permission to access this page.",e&&c.jsxDEV("span",{className:"block mt-2 text-sm",children:["Required role: ",Array.isArray(e)?e.join(" or "):e]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicProtectedRoute.tsx",lineNumber:60,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicProtectedRoute.tsx",lineNumber:57,columnNumber:11},this),c.jsxDEV("button",{onClick:()=>window.history.back(),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"Go Back"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicProtectedRoute.tsx",lineNumber:65,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicProtectedRoute.tsx",lineNumber:48,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicProtectedRoute.tsx",lineNumber:47,columnNumber:7},this):t&&!a(t)?c.jsxDEV("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 flex items-center justify-center p-4",children:c.jsxDEV("div",{className:"max-w-md w-full bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-8 text-center",children:[c.jsxDEV("div",{className:"w-16 h-16 bg-amber-100 dark:bg-amber-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsxDEV("svg",{className:"w-8 h-8 text-amber-600 dark:text-amber-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicProtectedRoute.tsx",lineNumber:83,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicProtectedRoute.tsx",lineNumber:82,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicProtectedRoute.tsx",lineNumber:81,columnNumber:11},this),c.jsxDEV("h2",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100 mb-2",children:"Insufficient Permissions"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicProtectedRoute.tsx",lineNumber:86,columnNumber:11},this),c.jsxDEV("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:["Your account doesn't have the required permission to perform this action.",t&&c.jsxDEV("span",{className:"block mt-2 text-sm font-mono bg-slate-100 dark:bg-slate-900 px-2 py-1 rounded",children:t},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicProtectedRoute.tsx",lineNumber:92,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicProtectedRoute.tsx",lineNumber:89,columnNumber:11},this),c.jsxDEV("button",{onClick:()=>window.history.back(),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"Go Back"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicProtectedRoute.tsx",lineNumber:97,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicProtectedRoute.tsx",lineNumber:80,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicProtectedRoute.tsx",lineNumber:79,columnNumber:7},this):c.jsxDEV(c.Fragment,{children:s},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicProtectedRoute.tsx",lineNumber:109,columnNumber:10},this):c.jsxDEV(Dl,{to:"/clinic/login",state:{from:o},replace:!0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/ClinicProtectedRoute.tsx",lineNumber:41,columnNumber:12},this)}const Z8=()=>{const[s,e]=I.useState([{id:"1",patientId:"101",patientName:"Sarah Johnson",type:"pain_escalation",severity:"critical",message:"Pain level increased from 4/10 to 8/10 in last 24 hours",timestamp:new Date(Date.now()-18e5).toISOString(),actionRequired:!0,acknowledged:!1},{id:"2",patientId:"102",patientName:"Michael Chen",type:"medication_missed",severity:"warning",message:"Missed evening medication for 2 consecutive days",timestamp:new Date(Date.now()-72e5).toISOString(),actionRequired:!0,acknowledged:!1},{id:"3",patientId:"103",patientName:"Emma Wilson",type:"crisis_detected",severity:"critical",message:"Crisis language detected in latest pain entry notes",timestamp:new Date(Date.now()-9e5).toISOString(),actionRequired:!0,acknowledged:!1},{id:"4",patientId:"104",patientName:"David Martinez",type:"treatment_overdue",severity:"warning",message:"Physical therapy appointment overdue by 3 days",timestamp:new Date(Date.now()-144e5).toISOString(),actionRequired:!0,acknowledged:!1}]),[t,r]=I.useState({patientsAtRisk:3,activeAlerts:4,medicationAdherence:87,avgResponseTime:12}),[n,i]=I.useState("all"),[a,o]=I.useState(!1);I.useEffect(()=>{const g=setInterval(()=>{if(Math.random()>.9){const v={id:`alert-${Date.now()}`,patientId:`${Math.floor(Math.random()*200)+100}`,patientName:["John Doe","Jane Smith","Robert Brown","Lisa Davis"][Math.floor(Math.random()*4)],type:["pain_escalation","medication_missed","treatment_overdue","crisis_detected"][Math.floor(Math.random()*4)],severity:["critical","warning","info"][Math.floor(Math.random()*3)],message:"New monitoring alert detected",timestamp:new Date().toISOString(),actionRequired:!0,acknowledged:!1};e(N=>[v,...N].slice(0,10)),r(N=>({...N,activeAlerts:N.activeAlerts+1}))}},3e4);return()=>clearInterval(g)},[]);const l=g=>{e(y=>y.map(v=>v.id===g?{...v,acknowledged:!0}:v)),r(y=>({...y,activeAlerts:y.activeAlerts-1}))},u=g=>{e(y=>y.filter(v=>v.id!==g)),r(y=>({...y,activeAlerts:y.activeAlerts-1}))},d=s.filter(g=>!a&&g.acknowledged?!1:n==="all"?!0:g.severity===n),m=g=>{switch(g){case"pain_escalation":return c.jsxDEV(zr,{className:"w-5 h-5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:152,columnNumber:16},void 0);case"medication_missed":return c.jsxDEV(bo,{className:"w-5 h-5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:154,columnNumber:16},void 0);case"treatment_overdue":return c.jsxDEV(ri,{className:"w-5 h-5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:156,columnNumber:16},void 0);case"crisis_detected":return c.jsxDEV(Zr,{className:"w-5 h-5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:158,columnNumber:16},void 0)}},p=g=>{switch(g){case"critical":return"bg-red-50 dark:bg-red-900/20 border-red-500";case"warning":return"bg-amber-50 dark:bg-amber-900/20 border-amber-500";case"info":return"bg-blue-50 dark:bg-blue-900/20 border-blue-500"}},f=g=>{const y=Math.floor((Date.now()-new Date(g).getTime())/1e3);return y<60?`${y}s ago`:y<3600?`${Math.floor(y/60)}m ago`:y<86400?`${Math.floor(y/3600)}h ago`:`${Math.floor(y/86400)}d ago`};return c.jsxDEV("div",{className:"space-y-6",children:[c.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsxDEV("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-4",children:[c.jsxDEV("div",{className:"flex items-center justify-between",children:[c.jsxDEV("div",{children:[c.jsxDEV("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Patients at Risk"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:189,columnNumber:15},void 0),c.jsxDEV("p",{className:"text-2xl font-bold text-red-600 mt-1",children:t.patientsAtRisk},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:190,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:188,columnNumber:13},void 0),c.jsxDEV(Zr,{className:"w-8 h-8 text-red-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:192,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:187,columnNumber:11},void 0),c.jsxDEV("div",{className:"mt-2 flex items-center gap-1",children:[c.jsxDEV(zr,{className:"w-4 h-4 text-red-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:195,columnNumber:13},void 0),c.jsxDEV("span",{className:"text-xs text-red-600",children:"+2 since yesterday"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:196,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:194,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:186,columnNumber:9},void 0),c.jsxDEV("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-4",children:[c.jsxDEV("div",{className:"flex items-center justify-between",children:[c.jsxDEV("div",{children:[c.jsxDEV("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Active Alerts"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:203,columnNumber:15},void 0),c.jsxDEV("p",{className:"text-2xl font-bold text-amber-600 mt-1",children:t.activeAlerts},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:204,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:202,columnNumber:13},void 0),c.jsxDEV(go,{className:"w-8 h-8 text-amber-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:206,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:201,columnNumber:11},void 0),c.jsxDEV("div",{className:"mt-2 flex items-center gap-1",children:[c.jsxDEV(dr,{className:"w-4 h-4 text-amber-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:209,columnNumber:13},void 0),c.jsxDEV("span",{className:"text-xs text-amber-600",children:"Requires attention"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:210,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:208,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:200,columnNumber:9},void 0),c.jsxDEV("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-4",children:[c.jsxDEV("div",{className:"flex items-center justify-between",children:[c.jsxDEV("div",{children:[c.jsxDEV("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Med Adherence"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:217,columnNumber:15},void 0),c.jsxDEV("p",{className:"text-2xl font-bold text-green-600 mt-1",children:[t.medicationAdherence,"%"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:218,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:216,columnNumber:13},void 0),c.jsxDEV(bo,{className:"w-8 h-8 text-green-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:220,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:215,columnNumber:11},void 0),c.jsxDEV("div",{className:"mt-2 flex items-center gap-1",children:[c.jsxDEV(zr,{className:"w-4 h-4 text-green-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:223,columnNumber:13},void 0),c.jsxDEV("span",{className:"text-xs text-green-600",children:"+3% this week"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:224,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:222,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:214,columnNumber:9},void 0),c.jsxDEV("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-4",children:[c.jsxDEV("div",{className:"flex items-center justify-between",children:[c.jsxDEV("div",{children:[c.jsxDEV("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Avg Response"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:231,columnNumber:15},void 0),c.jsxDEV("p",{className:"text-2xl font-bold text-blue-600 mt-1",children:[t.avgResponseTime,"m"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:232,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:230,columnNumber:13},void 0),c.jsxDEV(ri,{className:"w-8 h-8 text-blue-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:234,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:229,columnNumber:11},void 0),c.jsxDEV("div",{className:"mt-2 flex items-center gap-1",children:[c.jsxDEV(hc,{className:"w-4 h-4 text-green-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:237,columnNumber:13},void 0),c.jsxDEV("span",{className:"text-xs text-green-600",children:"-2m improvement"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:238,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:236,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:228,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:185,columnNumber:7},void 0),c.jsxDEV("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-4",children:c.jsxDEV("div",{className:"flex items-center justify-between",children:[c.jsxDEV("div",{className:"flex gap-2",children:["all","critical","warning","info"].map(g=>c.jsxDEV("button",{onClick:()=>i(g),className:`px-4 py-2 rounded-lg font-medium transition-colors ${n===g?"bg-blue-600 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:[g.charAt(0).toUpperCase()+g.slice(1),g!=="all"&&c.jsxDEV("span",{className:"ml-2 px-2 py-0.5 bg-white/20 rounded text-sm",children:s.filter(y=>y.severity===g&&!y.acknowledged).length},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:259,columnNumber:19},void 0)]},g,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:248,columnNumber:15},void 0))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:246,columnNumber:11},void 0),c.jsxDEV("label",{className:"flex items-center gap-2 cursor-pointer",children:[c.jsxDEV("input",{type:"checkbox",checked:a,onChange:g=>o(g.target.checked),className:"w-4 h-4 rounded border-slate-300"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:268,columnNumber:13},void 0),c.jsxDEV("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:"Show acknowledged"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:274,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:267,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:245,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:244,columnNumber:7},void 0),c.jsxDEV("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700",children:[c.jsxDEV("div",{className:"p-4 border-b border-slate-200 dark:border-slate-700",children:c.jsxDEV("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:["Real-Time Alerts",c.jsxDEV("span",{className:"ml-2 text-sm font-normal text-slate-600 dark:text-slate-400",children:["(",d.length," alerts)"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:284,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:282,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:281,columnNumber:9},void 0),c.jsxDEV("div",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:d.length===0?c.jsxDEV("div",{className:"p-8 text-center",children:[c.jsxDEV(xa,{className:"w-12 h-12 text-green-600 mx-auto mb-3"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:293,columnNumber:15},void 0),c.jsxDEV("p",{className:"text-slate-600 dark:text-slate-400",children:"No active alerts"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:294,columnNumber:15},void 0),c.jsxDEV("p",{className:"text-sm text-slate-500 dark:text-slate-500 mt-1",children:"All patients are being monitored normally"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:295,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:292,columnNumber:13},void 0):d.map(g=>c.jsxDEV("div",{className:`p-4 border-l-4 ${p(g.severity)} ${g.acknowledged?"opacity-60":""}`,children:c.jsxDEV("div",{className:"flex items-start justify-between",children:[c.jsxDEV("div",{className:"flex items-start gap-3 flex-1",children:[c.jsxDEV("div",{className:`p-2 rounded-lg ${g.severity==="critical"?"bg-red-100 dark:bg-red-900/30 text-red-600":g.severity==="warning"?"bg-amber-100 dark:bg-amber-900/30 text-amber-600":"bg-blue-100 dark:bg-blue-900/30 text-blue-600"}`,children:m(g.type)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:309,columnNumber:21},void 0),c.jsxDEV("div",{className:"flex-1",children:[c.jsxDEV("div",{className:"flex items-center gap-2 mb-1",children:[c.jsxDEV("h3",{className:"font-semibold text-slate-900 dark:text-white",children:g.patientName},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:323,columnNumber:25},void 0),c.jsxDEV("span",{className:`px-2 py-0.5 text-xs font-medium rounded ${g.severity==="critical"?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400":g.severity==="warning"?"bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-400":"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400"}`,children:g.severity.toUpperCase()},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:326,columnNumber:25},void 0),g.acknowledged&&c.jsxDEV("span",{className:"px-2 py-0.5 text-xs font-medium rounded bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",children:"Acknowledged"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:338,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:322,columnNumber:23},void 0),c.jsxDEV("p",{className:"text-sm text-slate-700 dark:text-slate-300 mb-2",children:g.message},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:344,columnNumber:23},void 0),c.jsxDEV("div",{className:"flex items-center gap-4 text-xs text-slate-500 dark:text-slate-500",children:[c.jsxDEV("span",{className:"flex items-center gap-1",children:[c.jsxDEV(ri,{className:"w-3 h-3"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:350,columnNumber:27},void 0),f(g.timestamp)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:349,columnNumber:25},void 0),g.actionRequired&&c.jsxDEV("span",{className:"flex items-center gap-1 text-red-600",children:[c.jsxDEV(Zr,{className:"w-3 h-3"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:355,columnNumber:29},void 0),"Action required"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:354,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:348,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:321,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:308,columnNumber:19},void 0),c.jsxDEV("div",{className:"flex gap-2 ml-4",children:[!g.acknowledged&&c.jsxDEV("button",{onClick:()=>l(g.id),className:"p-2 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 rounded-lg hover:bg-green-200 dark:hover:bg-green-900/50 transition-colors",title:"Acknowledge",children:c.jsxDEV(xa,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:370,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:365,columnNumber:23},void 0),c.jsxDEV("button",{onClick:()=>u(g.id),className:"p-2 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors",title:"Dismiss",children:c.jsxDEV(Tx,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:378,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:373,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:363,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:307,columnNumber:17},void 0)},g.id,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:301,columnNumber:15},void 0))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:290,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:280,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/clinic/RealTimeMonitoring.tsx",lineNumber:183,columnNumber:5},void 0)};function Q8(){return c.jsxDEV(Y8,{children:c.jsxDEV(eL,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicPortal.tsx",lineNumber:30,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicPortal.tsx",lineNumber:29,columnNumber:5},this)}function eL(){const s=Oi(),e=oi(),{user:t,logout:r}=mp(),[n,i]=I.useState(!1),o=[{label:"Dashboard",icon:Ld,path:"/clinic/dashboard",description:"Overview and analytics"},{label:"Monitoring",icon:dr,path:"/clinic/monitoring",description:"Real-time patient alerts"},{label:"Patients",icon:Na,path:"/clinic/patients",description:"Patient list and search"},{label:"Appointments",icon:ci,path:"/clinic/appointments",description:"Schedule management"},{label:"Reports",icon:In,path:"/clinic/reports",description:"Clinical reports and exports"},{label:"Compliance",icon:ii,path:"/clinic/compliance",description:"HIPAA and audit logs",requiresAdmin:!0},{label:"Settings",icon:Fx,path:"/clinic/settings",description:"Portal configuration"}].filter(l=>!(l.requiresAdmin&&t?.role!=="admin"));return t?c.jsxDEV("div",{className:"flex h-screen bg-slate-50 dark:bg-slate-900",children:[c.jsxDEV(X8,{items:o,currentPath:e.pathname,collapsed:n,onToggleCollapse:()=>i(!n),user:t},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicPortal.tsx",lineNumber:102,columnNumber:7},this),c.jsxDEV("div",{className:"flex-1 flex flex-col overflow-hidden",children:[c.jsxDEV(J8,{user:t,onSignOut:()=>r().then(()=>s("/clinic/login"))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicPortal.tsx",lineNumber:113,columnNumber:9},this),c.jsxDEV("main",{className:"flex-1 overflow-y-auto bg-slate-50 dark:bg-slate-900",children:c.jsxDEV(wx,{children:[c.jsxDEV(br,{index:!0,element:c.jsxDEV(Dl,{to:"/clinic/dashboard",replace:!0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicPortal.tsx",lineNumber:121,columnNumber:35},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicPortal.tsx",lineNumber:121,columnNumber:13},this),c.jsxDEV(br,{path:"dashboard",element:c.jsxDEV(la,{children:c.jsxDEV($8,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicPortal.tsx",lineNumber:124,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicPortal.tsx",lineNumber:123,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicPortal.tsx",lineNumber:122,columnNumber:13},this),c.jsxDEV(br,{path:"monitoring",element:c.jsxDEV(la,{requiredPermission:"view:patients",children:c.jsxDEV("div",{className:"p-6",children:c.jsxDEV(Z8,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicPortal.tsx",lineNumber:130,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicPortal.tsx",lineNumber:129,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicPortal.tsx",lineNumber:128,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicPortal.tsx",lineNumber:127,columnNumber:13},this),c.jsxDEV(br,{path:"patients",element:c.jsxDEV(la,{requiredPermission:"view:patients",children:c.jsxDEV(ux,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicPortal.tsx",lineNumber:136,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicPortal.tsx",lineNumber:135,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicPortal.tsx",lineNumber:134,columnNumber:13},this),c.jsxDEV(br,{path:"patients/:patientId",element:c.jsxDEV(la,{requiredPermission:"view:patients",children:c.jsxDEV(ux,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicPortal.tsx",lineNumber:141,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicPortal.tsx",lineNumber:140,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicPortal.tsx",lineNumber:139,columnNumber:13},this),c.jsxDEV(br,{path:"appointments",element:c.jsxDEV(la,{requiredPermission:"schedule:appointments",children:c.jsxDEV("div",{className:"p-6",children:"Appointments (Coming Soon)"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicPortal.tsx",lineNumber:146,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicPortal.tsx",lineNumber:145,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicPortal.tsx",lineNumber:144,columnNumber:13},this),c.jsxDEV(br,{path:"reports",element:c.jsxDEV(la,{requiredPermission:"view:reports",children:c.jsxDEV("div",{className:"p-6",children:"Reports (Coming Soon)"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicPortal.tsx",lineNumber:151,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicPortal.tsx",lineNumber:150,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicPortal.tsx",lineNumber:149,columnNumber:13},this),c.jsxDEV(br,{path:"compliance",element:c.jsxDEV(la,{requiredRole:"admin",children:c.jsxDEV("div",{className:"p-6",children:"Compliance (Coming Soon)"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicPortal.tsx",lineNumber:156,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicPortal.tsx",lineNumber:155,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicPortal.tsx",lineNumber:154,columnNumber:13},this),c.jsxDEV(br,{path:"settings",element:c.jsxDEV(la,{children:c.jsxDEV(q8,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicPortal.tsx",lineNumber:161,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicPortal.tsx",lineNumber:160,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicPortal.tsx",lineNumber:159,columnNumber:13},this),c.jsxDEV(br,{path:"*",element:c.jsxDEV(Dl,{to:"/clinic/dashboard",replace:!0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicPortal.tsx",lineNumber:164,columnNumber:38},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicPortal.tsx",lineNumber:164,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicPortal.tsx",lineNumber:120,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicPortal.tsx",lineNumber:119,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicPortal.tsx",lineNumber:111,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicPortal.tsx",lineNumber:100,columnNumber:5},this):c.jsxDEV(K8,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/clinic/ClinicPortal.tsx",lineNumber:96,columnNumber:12},this)}const tL=()=>c.jsxDEV("div",{className:"min-h-screen flex items-center justify-center bg-background",children:c.jsxDEV("div",{className:"text-center p-8 bg-card rounded-lg border shadow-lg max-w-md mx-4",children:[c.jsxDEV("h2",{className:"text-2xl font-semibold text-destructive mb-4",children:"Something went wrong"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:41,columnNumber:9},void 0),c.jsxDEV("p",{className:"text-muted-foreground mb-6",children:"We encountered an unexpected error. Please try refreshing the page."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:42,columnNumber:9},void 0),c.jsxDEV("button",{onClick:()=>window.location.reload(),className:"bg-primary text-primary-foreground px-6 py-2 rounded-md hover:bg-primary/90 transition-colors",children:"Refresh Page"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:45,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:40,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:39,columnNumber:5},void 0),sL=()=>c.jsxDEV(k7,{message:"Loading Pain Tracker Pro..."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:57,columnNumber:10},void 0);function rL(){wA({enableValidation:!0,enableAutoLabeling:!0,announceRouteChanges:!0}),I.useEffect(()=>{BS().catch(t=>{console.error("Failed to initialize tone engine:",t)})},[]),I.useEffect(()=>{io.isAppInstalled(),(async()=>{try{const{offlineStorage:r}=await qs(async()=>{const{offlineStorage:n}=await import("./offline-storage-CQ7mII8k.js");return{offlineStorage:n}},[]);await r.init();try{await qs(()=>import("./background-sync-C0DUYxWS.js"),__vite__mapDeps([6,7,2,1,3]))}catch{}await io.enableHealthDataSync()}catch{}})(),window.resetPWA=async()=>{try{await io.resetServiceWorker()}catch(r){console.error("PWA Reset failed:",r)}}},[]);const e=fc(D5).map(t=>({time:t.timestamp,pain:t.baselineData?.pain??0}));return x7(e),c.jsxDEV(W2,{children:c.jsxDEV(lP,{children:c.jsxDEV(vA,{children:c.jsxDEV(zS,{children:c.jsxDEV(iA,{children:c.jsxDEV(ZS,{children:c.jsxDEV(wx,{children:[c.jsxDEV(br,{path:"/",element:c.jsxDEV(O8,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:132,columnNumber:44},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:132,columnNumber:19},this),c.jsxDEV(br,{path:"/demo/*",element:c.jsxDEV(P8,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:135,columnNumber:50},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:135,columnNumber:19},this),c.jsxDEV(br,{path:"/clinic/*",element:c.jsxDEV(Q8,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:138,columnNumber:52},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:138,columnNumber:19},this),c.jsxDEV(br,{path:"/start",element:c.jsxDEV(Ab,{children:c.jsxDEV(Dl,{to:"/app",replace:!0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:145,columnNumber:25},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:144,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:141,columnNumber:19},this),c.jsxDEV(br,{path:"/app",element:c.jsxDEV(Ab,{children:c.jsxDEV("div",{className:"min-h-screen bg-background transition-colors",role:"application","aria-label":"Pain Tracker Pro Application",children:[c.jsxDEV(v7,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:160,columnNumber:27},this),c.jsxDEV(E_,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:161,columnNumber:27},this),c.jsxDEV(S_,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:162,columnNumber:27},this),c.jsxDEV(A_,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:163,columnNumber:27},this),c.jsxDEV(e5,{fallback:c.jsxDEV(tL,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:164,columnNumber:52},this),children:c.jsxDEV(I.Suspense,{fallback:c.jsxDEV(sL,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:165,columnNumber:49},this),children:c.jsxDEV(Z6,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:166,columnNumber:31},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:165,columnNumber:29},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:164,columnNumber:27},this),c.jsxDEV(j_,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:169,columnNumber:27},this),c.jsxDEV(C_,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:170,columnNumber:27},this),c.jsxDEV(w7,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:171,columnNumber:27},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:155,columnNumber:25},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:154,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:151,columnNumber:19},this),c.jsxDEV(br,{path:"*",element:c.jsxDEV(Dl,{to:"/",replace:!0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:178,columnNumber:44},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:178,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:130,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:129,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:128,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:127,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:126,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:125,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:124,columnNumber:5},this)}Ek.createRoot(document.getElementById("root")).render(c.jsxDEV(It.StrictMode,{children:c.jsxDEV(rL,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/main.tsx",lineNumber:9,columnNumber:5},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/main.tsx",lineNumber:8,columnNumber:3},void 0));export{dr as A,js as B,ri as C,Dn as D,In as F,Qr as H,Ui as I,wD as L,ii as S,zr as T,pc as U,Ii as X,qs as _,yo as a,Ur as b,Be as c,ni as d,Lx as e,ai as f,Ri as g,Ux as h,_5 as i,c as j,pd as k,Zr as l,al as m,os as n,cL as o,Ps as s};
//# sourceMappingURL=index-B_OlMJtf.js.map
