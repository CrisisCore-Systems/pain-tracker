{"version":3,"file":"i18n-vendor-C-xkjauL.js","sources":["../../node_modules/i18next/dist/esm/i18next.js","../../node_modules/i18next-browser-languagedetector/dist/esm/i18nextBrowserLanguageDetector.js"],"sourcesContent":["const isString = obj => typeof obj === 'string';\nconst defer = () => {\n  let res;\n  let rej;\n  const promise = new Promise((resolve, reject) => {\n    res = resolve;\n    rej = reject;\n  });\n  promise.resolve = res;\n  promise.reject = rej;\n  return promise;\n};\nconst makeString = object => {\n  if (object == null) return '';\n  return '' + object;\n};\nconst copy = (a, s, t) => {\n  a.forEach(m => {\n    if (s[m]) t[m] = s[m];\n  });\n};\nconst lastOfPathSeparatorRegExp = /###/g;\nconst cleanKey = key => key && key.indexOf('###') > -1 ? key.replace(lastOfPathSeparatorRegExp, '.') : key;\nconst canNotTraverseDeeper = object => !object || isString(object);\nconst getLastOfPath = (object, path, Empty) => {\n  const stack = !isString(path) ? path : path.split('.');\n  let stackIndex = 0;\n  while (stackIndex < stack.length - 1) {\n    if (canNotTraverseDeeper(object)) return {};\n    const key = cleanKey(stack[stackIndex]);\n    if (!object[key] && Empty) object[key] = new Empty();\n    if (Object.prototype.hasOwnProperty.call(object, key)) {\n      object = object[key];\n    } else {\n      object = {};\n    }\n    ++stackIndex;\n  }\n  if (canNotTraverseDeeper(object)) return {};\n  return {\n    obj: object,\n    k: cleanKey(stack[stackIndex])\n  };\n};\nconst setPath = (object, path, newValue) => {\n  const {\n    obj,\n    k\n  } = getLastOfPath(object, path, Object);\n  if (obj !== undefined || path.length === 1) {\n    obj[k] = newValue;\n    return;\n  }\n  let e = path[path.length - 1];\n  let p = path.slice(0, path.length - 1);\n  let last = getLastOfPath(object, p, Object);\n  while (last.obj === undefined && p.length) {\n    e = `${p[p.length - 1]}.${e}`;\n    p = p.slice(0, p.length - 1);\n    last = getLastOfPath(object, p, Object);\n    if (last?.obj && typeof last.obj[`${last.k}.${e}`] !== 'undefined') {\n      last.obj = undefined;\n    }\n  }\n  last.obj[`${last.k}.${e}`] = newValue;\n};\nconst pushPath = (object, path, newValue, concat) => {\n  const {\n    obj,\n    k\n  } = getLastOfPath(object, path, Object);\n  obj[k] = obj[k] || [];\n  obj[k].push(newValue);\n};\nconst getPath = (object, path) => {\n  const {\n    obj,\n    k\n  } = getLastOfPath(object, path);\n  if (!obj) return undefined;\n  if (!Object.prototype.hasOwnProperty.call(obj, k)) return undefined;\n  return obj[k];\n};\nconst getPathWithDefaults = (data, defaultData, key) => {\n  const value = getPath(data, key);\n  if (value !== undefined) {\n    return value;\n  }\n  return getPath(defaultData, key);\n};\nconst deepExtend = (target, source, overwrite) => {\n  for (const prop in source) {\n    if (prop !== '__proto__' && prop !== 'constructor') {\n      if (prop in target) {\n        if (isString(target[prop]) || target[prop] instanceof String || isString(source[prop]) || source[prop] instanceof String) {\n          if (overwrite) target[prop] = source[prop];\n        } else {\n          deepExtend(target[prop], source[prop], overwrite);\n        }\n      } else {\n        target[prop] = source[prop];\n      }\n    }\n  }\n  return target;\n};\nconst regexEscape = str => str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\nvar _entityMap = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#39;',\n  '/': '&#x2F;'\n};\nconst escape = data => {\n  if (isString(data)) {\n    return data.replace(/[&<>\"'\\/]/g, s => _entityMap[s]);\n  }\n  return data;\n};\nclass RegExpCache {\n  constructor(capacity) {\n    this.capacity = capacity;\n    this.regExpMap = new Map();\n    this.regExpQueue = [];\n  }\n  getRegExp(pattern) {\n    const regExpFromCache = this.regExpMap.get(pattern);\n    if (regExpFromCache !== undefined) {\n      return regExpFromCache;\n    }\n    const regExpNew = new RegExp(pattern);\n    if (this.regExpQueue.length === this.capacity) {\n      this.regExpMap.delete(this.regExpQueue.shift());\n    }\n    this.regExpMap.set(pattern, regExpNew);\n    this.regExpQueue.push(pattern);\n    return regExpNew;\n  }\n}\nconst chars = [' ', ',', '?', '!', ';'];\nconst looksLikeObjectPathRegExpCache = new RegExpCache(20);\nconst looksLikeObjectPath = (key, nsSeparator, keySeparator) => {\n  nsSeparator = nsSeparator || '';\n  keySeparator = keySeparator || '';\n  const possibleChars = chars.filter(c => nsSeparator.indexOf(c) < 0 && keySeparator.indexOf(c) < 0);\n  if (possibleChars.length === 0) return true;\n  const r = looksLikeObjectPathRegExpCache.getRegExp(`(${possibleChars.map(c => c === '?' ? '\\\\?' : c).join('|')})`);\n  let matched = !r.test(key);\n  if (!matched) {\n    const ki = key.indexOf(keySeparator);\n    if (ki > 0 && !r.test(key.substring(0, ki))) {\n      matched = true;\n    }\n  }\n  return matched;\n};\nconst deepFind = (obj, path, keySeparator = '.') => {\n  if (!obj) return undefined;\n  if (obj[path]) {\n    if (!Object.prototype.hasOwnProperty.call(obj, path)) return undefined;\n    return obj[path];\n  }\n  const tokens = path.split(keySeparator);\n  let current = obj;\n  for (let i = 0; i < tokens.length;) {\n    if (!current || typeof current !== 'object') {\n      return undefined;\n    }\n    let next;\n    let nextPath = '';\n    for (let j = i; j < tokens.length; ++j) {\n      if (j !== i) {\n        nextPath += keySeparator;\n      }\n      nextPath += tokens[j];\n      next = current[nextPath];\n      if (next !== undefined) {\n        if (['string', 'number', 'boolean'].indexOf(typeof next) > -1 && j < tokens.length - 1) {\n          continue;\n        }\n        i += j - i + 1;\n        break;\n      }\n    }\n    current = next;\n  }\n  return current;\n};\nconst getCleanedCode = code => code?.replace('_', '-');\n\nconst consoleLogger = {\n  type: 'logger',\n  log(args) {\n    this.output('log', args);\n  },\n  warn(args) {\n    this.output('warn', args);\n  },\n  error(args) {\n    this.output('error', args);\n  },\n  output(type, args) {\n    console?.[type]?.apply?.(console, args);\n  }\n};\nclass Logger {\n  constructor(concreteLogger, options = {}) {\n    this.init(concreteLogger, options);\n  }\n  init(concreteLogger, options = {}) {\n    this.prefix = options.prefix || 'i18next:';\n    this.logger = concreteLogger || consoleLogger;\n    this.options = options;\n    this.debug = options.debug;\n  }\n  log(...args) {\n    return this.forward(args, 'log', '', true);\n  }\n  warn(...args) {\n    return this.forward(args, 'warn', '', true);\n  }\n  error(...args) {\n    return this.forward(args, 'error', '');\n  }\n  deprecate(...args) {\n    return this.forward(args, 'warn', 'WARNING DEPRECATED: ', true);\n  }\n  forward(args, lvl, prefix, debugOnly) {\n    if (debugOnly && !this.debug) return null;\n    if (isString(args[0])) args[0] = `${prefix}${this.prefix} ${args[0]}`;\n    return this.logger[lvl](args);\n  }\n  create(moduleName) {\n    return new Logger(this.logger, {\n      ...{\n        prefix: `${this.prefix}:${moduleName}:`\n      },\n      ...this.options\n    });\n  }\n  clone(options) {\n    options = options || this.options;\n    options.prefix = options.prefix || this.prefix;\n    return new Logger(this.logger, options);\n  }\n}\nvar baseLogger = new Logger();\n\nclass EventEmitter {\n  constructor() {\n    this.observers = {};\n  }\n  on(events, listener) {\n    events.split(' ').forEach(event => {\n      if (!this.observers[event]) this.observers[event] = new Map();\n      const numListeners = this.observers[event].get(listener) || 0;\n      this.observers[event].set(listener, numListeners + 1);\n    });\n    return this;\n  }\n  off(event, listener) {\n    if (!this.observers[event]) return;\n    if (!listener) {\n      delete this.observers[event];\n      return;\n    }\n    this.observers[event].delete(listener);\n  }\n  emit(event, ...args) {\n    if (this.observers[event]) {\n      const cloned = Array.from(this.observers[event].entries());\n      cloned.forEach(([observer, numTimesAdded]) => {\n        for (let i = 0; i < numTimesAdded; i++) {\n          observer(...args);\n        }\n      });\n    }\n    if (this.observers['*']) {\n      const cloned = Array.from(this.observers['*'].entries());\n      cloned.forEach(([observer, numTimesAdded]) => {\n        for (let i = 0; i < numTimesAdded; i++) {\n          observer.apply(observer, [event, ...args]);\n        }\n      });\n    }\n  }\n}\n\nclass ResourceStore extends EventEmitter {\n  constructor(data, options = {\n    ns: ['translation'],\n    defaultNS: 'translation'\n  }) {\n    super();\n    this.data = data || {};\n    this.options = options;\n    if (this.options.keySeparator === undefined) {\n      this.options.keySeparator = '.';\n    }\n    if (this.options.ignoreJSONStructure === undefined) {\n      this.options.ignoreJSONStructure = true;\n    }\n  }\n  addNamespaces(ns) {\n    if (this.options.ns.indexOf(ns) < 0) {\n      this.options.ns.push(ns);\n    }\n  }\n  removeNamespaces(ns) {\n    const index = this.options.ns.indexOf(ns);\n    if (index > -1) {\n      this.options.ns.splice(index, 1);\n    }\n  }\n  getResource(lng, ns, key, options = {}) {\n    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n    const ignoreJSONStructure = options.ignoreJSONStructure !== undefined ? options.ignoreJSONStructure : this.options.ignoreJSONStructure;\n    let path;\n    if (lng.indexOf('.') > -1) {\n      path = lng.split('.');\n    } else {\n      path = [lng, ns];\n      if (key) {\n        if (Array.isArray(key)) {\n          path.push(...key);\n        } else if (isString(key) && keySeparator) {\n          path.push(...key.split(keySeparator));\n        } else {\n          path.push(key);\n        }\n      }\n    }\n    const result = getPath(this.data, path);\n    if (!result && !ns && !key && lng.indexOf('.') > -1) {\n      lng = path[0];\n      ns = path[1];\n      key = path.slice(2).join('.');\n    }\n    if (result || !ignoreJSONStructure || !isString(key)) return result;\n    return deepFind(this.data?.[lng]?.[ns], key, keySeparator);\n  }\n  addResource(lng, ns, key, value, options = {\n    silent: false\n  }) {\n    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n    let path = [lng, ns];\n    if (key) path = path.concat(keySeparator ? key.split(keySeparator) : key);\n    if (lng.indexOf('.') > -1) {\n      path = lng.split('.');\n      value = ns;\n      ns = path[1];\n    }\n    this.addNamespaces(ns);\n    setPath(this.data, path, value);\n    if (!options.silent) this.emit('added', lng, ns, key, value);\n  }\n  addResources(lng, ns, resources, options = {\n    silent: false\n  }) {\n    for (const m in resources) {\n      if (isString(resources[m]) || Array.isArray(resources[m])) this.addResource(lng, ns, m, resources[m], {\n        silent: true\n      });\n    }\n    if (!options.silent) this.emit('added', lng, ns, resources);\n  }\n  addResourceBundle(lng, ns, resources, deep, overwrite, options = {\n    silent: false,\n    skipCopy: false\n  }) {\n    let path = [lng, ns];\n    if (lng.indexOf('.') > -1) {\n      path = lng.split('.');\n      deep = resources;\n      resources = ns;\n      ns = path[1];\n    }\n    this.addNamespaces(ns);\n    let pack = getPath(this.data, path) || {};\n    if (!options.skipCopy) resources = JSON.parse(JSON.stringify(resources));\n    if (deep) {\n      deepExtend(pack, resources, overwrite);\n    } else {\n      pack = {\n        ...pack,\n        ...resources\n      };\n    }\n    setPath(this.data, path, pack);\n    if (!options.silent) this.emit('added', lng, ns, resources);\n  }\n  removeResourceBundle(lng, ns) {\n    if (this.hasResourceBundle(lng, ns)) {\n      delete this.data[lng][ns];\n    }\n    this.removeNamespaces(ns);\n    this.emit('removed', lng, ns);\n  }\n  hasResourceBundle(lng, ns) {\n    return this.getResource(lng, ns) !== undefined;\n  }\n  getResourceBundle(lng, ns) {\n    if (!ns) ns = this.options.defaultNS;\n    return this.getResource(lng, ns);\n  }\n  getDataByLanguage(lng) {\n    return this.data[lng];\n  }\n  hasLanguageSomeTranslations(lng) {\n    const data = this.getDataByLanguage(lng);\n    const n = data && Object.keys(data) || [];\n    return !!n.find(v => data[v] && Object.keys(data[v]).length > 0);\n  }\n  toJSON() {\n    return this.data;\n  }\n}\n\nvar postProcessor = {\n  processors: {},\n  addPostProcessor(module) {\n    this.processors[module.name] = module;\n  },\n  handle(processors, value, key, options, translator) {\n    processors.forEach(processor => {\n      value = this.processors[processor]?.process(value, key, options, translator) ?? value;\n    });\n    return value;\n  }\n};\n\nconst PATH_KEY = Symbol('i18next/PATH_KEY');\nfunction createProxy() {\n  const state = [];\n  const handler = Object.create(null);\n  let proxy;\n  handler.get = (target, key) => {\n    proxy?.revoke?.();\n    if (key === PATH_KEY) return state;\n    state.push(key);\n    proxy = Proxy.revocable(target, handler);\n    return proxy.proxy;\n  };\n  return Proxy.revocable(Object.create(null), handler).proxy;\n}\nfunction keysFromSelector(selector, opts) {\n  const {\n    [PATH_KEY]: path\n  } = selector(createProxy());\n  return path.join(opts?.keySeparator ?? '.');\n}\n\nconst checkedLoadedFor = {};\nconst shouldHandleAsObject = res => !isString(res) && typeof res !== 'boolean' && typeof res !== 'number';\nclass Translator extends EventEmitter {\n  constructor(services, options = {}) {\n    super();\n    copy(['resourceStore', 'languageUtils', 'pluralResolver', 'interpolator', 'backendConnector', 'i18nFormat', 'utils'], services, this);\n    this.options = options;\n    if (this.options.keySeparator === undefined) {\n      this.options.keySeparator = '.';\n    }\n    this.logger = baseLogger.create('translator');\n  }\n  changeLanguage(lng) {\n    if (lng) this.language = lng;\n  }\n  exists(key, o = {\n    interpolation: {}\n  }) {\n    const opt = {\n      ...o\n    };\n    if (key == null) return false;\n    const resolved = this.resolve(key, opt);\n    return resolved?.res !== undefined;\n  }\n  extractFromKey(key, opt) {\n    let nsSeparator = opt.nsSeparator !== undefined ? opt.nsSeparator : this.options.nsSeparator;\n    if (nsSeparator === undefined) nsSeparator = ':';\n    const keySeparator = opt.keySeparator !== undefined ? opt.keySeparator : this.options.keySeparator;\n    let namespaces = opt.ns || this.options.defaultNS || [];\n    const wouldCheckForNsInKey = nsSeparator && key.indexOf(nsSeparator) > -1;\n    const seemsNaturalLanguage = !this.options.userDefinedKeySeparator && !opt.keySeparator && !this.options.userDefinedNsSeparator && !opt.nsSeparator && !looksLikeObjectPath(key, nsSeparator, keySeparator);\n    if (wouldCheckForNsInKey && !seemsNaturalLanguage) {\n      const m = key.match(this.interpolator.nestingRegexp);\n      if (m && m.length > 0) {\n        return {\n          key,\n          namespaces: isString(namespaces) ? [namespaces] : namespaces\n        };\n      }\n      const parts = key.split(nsSeparator);\n      if (nsSeparator !== keySeparator || nsSeparator === keySeparator && this.options.ns.indexOf(parts[0]) > -1) namespaces = parts.shift();\n      key = parts.join(keySeparator);\n    }\n    return {\n      key,\n      namespaces: isString(namespaces) ? [namespaces] : namespaces\n    };\n  }\n  translate(keys, o, lastKey) {\n    let opt = typeof o === 'object' ? {\n      ...o\n    } : o;\n    if (typeof opt !== 'object' && this.options.overloadTranslationOptionHandler) {\n      opt = this.options.overloadTranslationOptionHandler(arguments);\n    }\n    if (typeof opt === 'object') opt = {\n      ...opt\n    };\n    if (!opt) opt = {};\n    if (keys == null) return '';\n    if (typeof keys === 'function') keys = keysFromSelector(keys, {\n      ...this.options,\n      ...opt\n    });\n    if (!Array.isArray(keys)) keys = [String(keys)];\n    const returnDetails = opt.returnDetails !== undefined ? opt.returnDetails : this.options.returnDetails;\n    const keySeparator = opt.keySeparator !== undefined ? opt.keySeparator : this.options.keySeparator;\n    const {\n      key,\n      namespaces\n    } = this.extractFromKey(keys[keys.length - 1], opt);\n    const namespace = namespaces[namespaces.length - 1];\n    let nsSeparator = opt.nsSeparator !== undefined ? opt.nsSeparator : this.options.nsSeparator;\n    if (nsSeparator === undefined) nsSeparator = ':';\n    const lng = opt.lng || this.language;\n    const appendNamespaceToCIMode = opt.appendNamespaceToCIMode || this.options.appendNamespaceToCIMode;\n    if (lng?.toLowerCase() === 'cimode') {\n      if (appendNamespaceToCIMode) {\n        if (returnDetails) {\n          return {\n            res: `${namespace}${nsSeparator}${key}`,\n            usedKey: key,\n            exactUsedKey: key,\n            usedLng: lng,\n            usedNS: namespace,\n            usedParams: this.getUsedParamsDetails(opt)\n          };\n        }\n        return `${namespace}${nsSeparator}${key}`;\n      }\n      if (returnDetails) {\n        return {\n          res: key,\n          usedKey: key,\n          exactUsedKey: key,\n          usedLng: lng,\n          usedNS: namespace,\n          usedParams: this.getUsedParamsDetails(opt)\n        };\n      }\n      return key;\n    }\n    const resolved = this.resolve(keys, opt);\n    let res = resolved?.res;\n    const resUsedKey = resolved?.usedKey || key;\n    const resExactUsedKey = resolved?.exactUsedKey || key;\n    const noObject = ['[object Number]', '[object Function]', '[object RegExp]'];\n    const joinArrays = opt.joinArrays !== undefined ? opt.joinArrays : this.options.joinArrays;\n    const handleAsObjectInI18nFormat = !this.i18nFormat || this.i18nFormat.handleAsObject;\n    const needsPluralHandling = opt.count !== undefined && !isString(opt.count);\n    const hasDefaultValue = Translator.hasDefaultValue(opt);\n    const defaultValueSuffix = needsPluralHandling ? this.pluralResolver.getSuffix(lng, opt.count, opt) : '';\n    const defaultValueSuffixOrdinalFallback = opt.ordinal && needsPluralHandling ? this.pluralResolver.getSuffix(lng, opt.count, {\n      ordinal: false\n    }) : '';\n    const needsZeroSuffixLookup = needsPluralHandling && !opt.ordinal && opt.count === 0;\n    const defaultValue = needsZeroSuffixLookup && opt[`defaultValue${this.options.pluralSeparator}zero`] || opt[`defaultValue${defaultValueSuffix}`] || opt[`defaultValue${defaultValueSuffixOrdinalFallback}`] || opt.defaultValue;\n    let resForObjHndl = res;\n    if (handleAsObjectInI18nFormat && !res && hasDefaultValue) {\n      resForObjHndl = defaultValue;\n    }\n    const handleAsObject = shouldHandleAsObject(resForObjHndl);\n    const resType = Object.prototype.toString.apply(resForObjHndl);\n    if (handleAsObjectInI18nFormat && resForObjHndl && handleAsObject && noObject.indexOf(resType) < 0 && !(isString(joinArrays) && Array.isArray(resForObjHndl))) {\n      if (!opt.returnObjects && !this.options.returnObjects) {\n        if (!this.options.returnedObjectHandler) {\n          this.logger.warn('accessing an object - but returnObjects options is not enabled!');\n        }\n        const r = this.options.returnedObjectHandler ? this.options.returnedObjectHandler(resUsedKey, resForObjHndl, {\n          ...opt,\n          ns: namespaces\n        }) : `key '${key} (${this.language})' returned an object instead of string.`;\n        if (returnDetails) {\n          resolved.res = r;\n          resolved.usedParams = this.getUsedParamsDetails(opt);\n          return resolved;\n        }\n        return r;\n      }\n      if (keySeparator) {\n        const resTypeIsArray = Array.isArray(resForObjHndl);\n        const copy = resTypeIsArray ? [] : {};\n        const newKeyToUse = resTypeIsArray ? resExactUsedKey : resUsedKey;\n        for (const m in resForObjHndl) {\n          if (Object.prototype.hasOwnProperty.call(resForObjHndl, m)) {\n            const deepKey = `${newKeyToUse}${keySeparator}${m}`;\n            if (hasDefaultValue && !res) {\n              copy[m] = this.translate(deepKey, {\n                ...opt,\n                defaultValue: shouldHandleAsObject(defaultValue) ? defaultValue[m] : undefined,\n                ...{\n                  joinArrays: false,\n                  ns: namespaces\n                }\n              });\n            } else {\n              copy[m] = this.translate(deepKey, {\n                ...opt,\n                ...{\n                  joinArrays: false,\n                  ns: namespaces\n                }\n              });\n            }\n            if (copy[m] === deepKey) copy[m] = resForObjHndl[m];\n          }\n        }\n        res = copy;\n      }\n    } else if (handleAsObjectInI18nFormat && isString(joinArrays) && Array.isArray(res)) {\n      res = res.join(joinArrays);\n      if (res) res = this.extendTranslation(res, keys, opt, lastKey);\n    } else {\n      let usedDefault = false;\n      let usedKey = false;\n      if (!this.isValidLookup(res) && hasDefaultValue) {\n        usedDefault = true;\n        res = defaultValue;\n      }\n      if (!this.isValidLookup(res)) {\n        usedKey = true;\n        res = key;\n      }\n      const missingKeyNoValueFallbackToKey = opt.missingKeyNoValueFallbackToKey || this.options.missingKeyNoValueFallbackToKey;\n      const resForMissing = missingKeyNoValueFallbackToKey && usedKey ? undefined : res;\n      const updateMissing = hasDefaultValue && defaultValue !== res && this.options.updateMissing;\n      if (usedKey || usedDefault || updateMissing) {\n        this.logger.log(updateMissing ? 'updateKey' : 'missingKey', lng, namespace, key, updateMissing ? defaultValue : res);\n        if (keySeparator) {\n          const fk = this.resolve(key, {\n            ...opt,\n            keySeparator: false\n          });\n          if (fk && fk.res) this.logger.warn('Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.');\n        }\n        let lngs = [];\n        const fallbackLngs = this.languageUtils.getFallbackCodes(this.options.fallbackLng, opt.lng || this.language);\n        if (this.options.saveMissingTo === 'fallback' && fallbackLngs && fallbackLngs[0]) {\n          for (let i = 0; i < fallbackLngs.length; i++) {\n            lngs.push(fallbackLngs[i]);\n          }\n        } else if (this.options.saveMissingTo === 'all') {\n          lngs = this.languageUtils.toResolveHierarchy(opt.lng || this.language);\n        } else {\n          lngs.push(opt.lng || this.language);\n        }\n        const send = (l, k, specificDefaultValue) => {\n          const defaultForMissing = hasDefaultValue && specificDefaultValue !== res ? specificDefaultValue : resForMissing;\n          if (this.options.missingKeyHandler) {\n            this.options.missingKeyHandler(l, namespace, k, defaultForMissing, updateMissing, opt);\n          } else if (this.backendConnector?.saveMissing) {\n            this.backendConnector.saveMissing(l, namespace, k, defaultForMissing, updateMissing, opt);\n          }\n          this.emit('missingKey', l, namespace, k, res);\n        };\n        if (this.options.saveMissing) {\n          if (this.options.saveMissingPlurals && needsPluralHandling) {\n            lngs.forEach(language => {\n              const suffixes = this.pluralResolver.getSuffixes(language, opt);\n              if (needsZeroSuffixLookup && opt[`defaultValue${this.options.pluralSeparator}zero`] && suffixes.indexOf(`${this.options.pluralSeparator}zero`) < 0) {\n                suffixes.push(`${this.options.pluralSeparator}zero`);\n              }\n              suffixes.forEach(suffix => {\n                send([language], key + suffix, opt[`defaultValue${suffix}`] || defaultValue);\n              });\n            });\n          } else {\n            send(lngs, key, defaultValue);\n          }\n        }\n      }\n      res = this.extendTranslation(res, keys, opt, resolved, lastKey);\n      if (usedKey && res === key && this.options.appendNamespaceToMissingKey) {\n        res = `${namespace}${nsSeparator}${key}`;\n      }\n      if ((usedKey || usedDefault) && this.options.parseMissingKeyHandler) {\n        res = this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey ? `${namespace}${nsSeparator}${key}` : key, usedDefault ? res : undefined, opt);\n      }\n    }\n    if (returnDetails) {\n      resolved.res = res;\n      resolved.usedParams = this.getUsedParamsDetails(opt);\n      return resolved;\n    }\n    return res;\n  }\n  extendTranslation(res, key, opt, resolved, lastKey) {\n    if (this.i18nFormat?.parse) {\n      res = this.i18nFormat.parse(res, {\n        ...this.options.interpolation.defaultVariables,\n        ...opt\n      }, opt.lng || this.language || resolved.usedLng, resolved.usedNS, resolved.usedKey, {\n        resolved\n      });\n    } else if (!opt.skipInterpolation) {\n      if (opt.interpolation) this.interpolator.init({\n        ...opt,\n        ...{\n          interpolation: {\n            ...this.options.interpolation,\n            ...opt.interpolation\n          }\n        }\n      });\n      const skipOnVariables = isString(res) && (opt?.interpolation?.skipOnVariables !== undefined ? opt.interpolation.skipOnVariables : this.options.interpolation.skipOnVariables);\n      let nestBef;\n      if (skipOnVariables) {\n        const nb = res.match(this.interpolator.nestingRegexp);\n        nestBef = nb && nb.length;\n      }\n      let data = opt.replace && !isString(opt.replace) ? opt.replace : opt;\n      if (this.options.interpolation.defaultVariables) data = {\n        ...this.options.interpolation.defaultVariables,\n        ...data\n      };\n      res = this.interpolator.interpolate(res, data, opt.lng || this.language || resolved.usedLng, opt);\n      if (skipOnVariables) {\n        const na = res.match(this.interpolator.nestingRegexp);\n        const nestAft = na && na.length;\n        if (nestBef < nestAft) opt.nest = false;\n      }\n      if (!opt.lng && resolved && resolved.res) opt.lng = this.language || resolved.usedLng;\n      if (opt.nest !== false) res = this.interpolator.nest(res, (...args) => {\n        if (lastKey?.[0] === args[0] && !opt.context) {\n          this.logger.warn(`It seems you are nesting recursively key: ${args[0]} in key: ${key[0]}`);\n          return null;\n        }\n        return this.translate(...args, key);\n      }, opt);\n      if (opt.interpolation) this.interpolator.reset();\n    }\n    const postProcess = opt.postProcess || this.options.postProcess;\n    const postProcessorNames = isString(postProcess) ? [postProcess] : postProcess;\n    if (res != null && postProcessorNames?.length && opt.applyPostProcessor !== false) {\n      res = postProcessor.handle(postProcessorNames, res, key, this.options && this.options.postProcessPassResolved ? {\n        i18nResolved: {\n          ...resolved,\n          usedParams: this.getUsedParamsDetails(opt)\n        },\n        ...opt\n      } : opt, this);\n    }\n    return res;\n  }\n  resolve(keys, opt = {}) {\n    let found;\n    let usedKey;\n    let exactUsedKey;\n    let usedLng;\n    let usedNS;\n    if (isString(keys)) keys = [keys];\n    keys.forEach(k => {\n      if (this.isValidLookup(found)) return;\n      const extracted = this.extractFromKey(k, opt);\n      const key = extracted.key;\n      usedKey = key;\n      let namespaces = extracted.namespaces;\n      if (this.options.fallbackNS) namespaces = namespaces.concat(this.options.fallbackNS);\n      const needsPluralHandling = opt.count !== undefined && !isString(opt.count);\n      const needsZeroSuffixLookup = needsPluralHandling && !opt.ordinal && opt.count === 0;\n      const needsContextHandling = opt.context !== undefined && (isString(opt.context) || typeof opt.context === 'number') && opt.context !== '';\n      const codes = opt.lngs ? opt.lngs : this.languageUtils.toResolveHierarchy(opt.lng || this.language, opt.fallbackLng);\n      namespaces.forEach(ns => {\n        if (this.isValidLookup(found)) return;\n        usedNS = ns;\n        if (!checkedLoadedFor[`${codes[0]}-${ns}`] && this.utils?.hasLoadedNamespace && !this.utils?.hasLoadedNamespace(usedNS)) {\n          checkedLoadedFor[`${codes[0]}-${ns}`] = true;\n          this.logger.warn(`key \"${usedKey}\" for languages \"${codes.join(', ')}\" won't get resolved as namespace \"${usedNS}\" was not yet loaded`, 'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');\n        }\n        codes.forEach(code => {\n          if (this.isValidLookup(found)) return;\n          usedLng = code;\n          const finalKeys = [key];\n          if (this.i18nFormat?.addLookupKeys) {\n            this.i18nFormat.addLookupKeys(finalKeys, key, code, ns, opt);\n          } else {\n            let pluralSuffix;\n            if (needsPluralHandling) pluralSuffix = this.pluralResolver.getSuffix(code, opt.count, opt);\n            const zeroSuffix = `${this.options.pluralSeparator}zero`;\n            const ordinalPrefix = `${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;\n            if (needsPluralHandling) {\n              if (opt.ordinal && pluralSuffix.indexOf(ordinalPrefix) === 0) {\n                finalKeys.push(key + pluralSuffix.replace(ordinalPrefix, this.options.pluralSeparator));\n              }\n              finalKeys.push(key + pluralSuffix);\n              if (needsZeroSuffixLookup) {\n                finalKeys.push(key + zeroSuffix);\n              }\n            }\n            if (needsContextHandling) {\n              const contextKey = `${key}${this.options.contextSeparator || '_'}${opt.context}`;\n              finalKeys.push(contextKey);\n              if (needsPluralHandling) {\n                if (opt.ordinal && pluralSuffix.indexOf(ordinalPrefix) === 0) {\n                  finalKeys.push(contextKey + pluralSuffix.replace(ordinalPrefix, this.options.pluralSeparator));\n                }\n                finalKeys.push(contextKey + pluralSuffix);\n                if (needsZeroSuffixLookup) {\n                  finalKeys.push(contextKey + zeroSuffix);\n                }\n              }\n            }\n          }\n          let possibleKey;\n          while (possibleKey = finalKeys.pop()) {\n            if (!this.isValidLookup(found)) {\n              exactUsedKey = possibleKey;\n              found = this.getResource(code, ns, possibleKey, opt);\n            }\n          }\n        });\n      });\n    });\n    return {\n      res: found,\n      usedKey,\n      exactUsedKey,\n      usedLng,\n      usedNS\n    };\n  }\n  isValidLookup(res) {\n    return res !== undefined && !(!this.options.returnNull && res === null) && !(!this.options.returnEmptyString && res === '');\n  }\n  getResource(code, ns, key, options = {}) {\n    if (this.i18nFormat?.getResource) return this.i18nFormat.getResource(code, ns, key, options);\n    return this.resourceStore.getResource(code, ns, key, options);\n  }\n  getUsedParamsDetails(options = {}) {\n    const optionsKeys = ['defaultValue', 'ordinal', 'context', 'replace', 'lng', 'lngs', 'fallbackLng', 'ns', 'keySeparator', 'nsSeparator', 'returnObjects', 'returnDetails', 'joinArrays', 'postProcess', 'interpolation'];\n    const useOptionsReplaceForData = options.replace && !isString(options.replace);\n    let data = useOptionsReplaceForData ? options.replace : options;\n    if (useOptionsReplaceForData && typeof options.count !== 'undefined') {\n      data.count = options.count;\n    }\n    if (this.options.interpolation.defaultVariables) {\n      data = {\n        ...this.options.interpolation.defaultVariables,\n        ...data\n      };\n    }\n    if (!useOptionsReplaceForData) {\n      data = {\n        ...data\n      };\n      for (const key of optionsKeys) {\n        delete data[key];\n      }\n    }\n    return data;\n  }\n  static hasDefaultValue(options) {\n    const prefix = 'defaultValue';\n    for (const option in options) {\n      if (Object.prototype.hasOwnProperty.call(options, option) && prefix === option.substring(0, prefix.length) && undefined !== options[option]) {\n        return true;\n      }\n    }\n    return false;\n  }\n}\n\nclass LanguageUtil {\n  constructor(options) {\n    this.options = options;\n    this.supportedLngs = this.options.supportedLngs || false;\n    this.logger = baseLogger.create('languageUtils');\n  }\n  getScriptPartFromCode(code) {\n    code = getCleanedCode(code);\n    if (!code || code.indexOf('-') < 0) return null;\n    const p = code.split('-');\n    if (p.length === 2) return null;\n    p.pop();\n    if (p[p.length - 1].toLowerCase() === 'x') return null;\n    return this.formatLanguageCode(p.join('-'));\n  }\n  getLanguagePartFromCode(code) {\n    code = getCleanedCode(code);\n    if (!code || code.indexOf('-') < 0) return code;\n    const p = code.split('-');\n    return this.formatLanguageCode(p[0]);\n  }\n  formatLanguageCode(code) {\n    if (isString(code) && code.indexOf('-') > -1) {\n      let formattedCode;\n      try {\n        formattedCode = Intl.getCanonicalLocales(code)[0];\n      } catch (e) {}\n      if (formattedCode && this.options.lowerCaseLng) {\n        formattedCode = formattedCode.toLowerCase();\n      }\n      if (formattedCode) return formattedCode;\n      if (this.options.lowerCaseLng) {\n        return code.toLowerCase();\n      }\n      return code;\n    }\n    return this.options.cleanCode || this.options.lowerCaseLng ? code.toLowerCase() : code;\n  }\n  isSupportedCode(code) {\n    if (this.options.load === 'languageOnly' || this.options.nonExplicitSupportedLngs) {\n      code = this.getLanguagePartFromCode(code);\n    }\n    return !this.supportedLngs || !this.supportedLngs.length || this.supportedLngs.indexOf(code) > -1;\n  }\n  getBestMatchFromCodes(codes) {\n    if (!codes) return null;\n    let found;\n    codes.forEach(code => {\n      if (found) return;\n      const cleanedLng = this.formatLanguageCode(code);\n      if (!this.options.supportedLngs || this.isSupportedCode(cleanedLng)) found = cleanedLng;\n    });\n    if (!found && this.options.supportedLngs) {\n      codes.forEach(code => {\n        if (found) return;\n        const lngScOnly = this.getScriptPartFromCode(code);\n        if (this.isSupportedCode(lngScOnly)) return found = lngScOnly;\n        const lngOnly = this.getLanguagePartFromCode(code);\n        if (this.isSupportedCode(lngOnly)) return found = lngOnly;\n        found = this.options.supportedLngs.find(supportedLng => {\n          if (supportedLng === lngOnly) return supportedLng;\n          if (supportedLng.indexOf('-') < 0 && lngOnly.indexOf('-') < 0) return;\n          if (supportedLng.indexOf('-') > 0 && lngOnly.indexOf('-') < 0 && supportedLng.substring(0, supportedLng.indexOf('-')) === lngOnly) return supportedLng;\n          if (supportedLng.indexOf(lngOnly) === 0 && lngOnly.length > 1) return supportedLng;\n        });\n      });\n    }\n    if (!found) found = this.getFallbackCodes(this.options.fallbackLng)[0];\n    return found;\n  }\n  getFallbackCodes(fallbacks, code) {\n    if (!fallbacks) return [];\n    if (typeof fallbacks === 'function') fallbacks = fallbacks(code);\n    if (isString(fallbacks)) fallbacks = [fallbacks];\n    if (Array.isArray(fallbacks)) return fallbacks;\n    if (!code) return fallbacks.default || [];\n    let found = fallbacks[code];\n    if (!found) found = fallbacks[this.getScriptPartFromCode(code)];\n    if (!found) found = fallbacks[this.formatLanguageCode(code)];\n    if (!found) found = fallbacks[this.getLanguagePartFromCode(code)];\n    if (!found) found = fallbacks.default;\n    return found || [];\n  }\n  toResolveHierarchy(code, fallbackCode) {\n    const fallbackCodes = this.getFallbackCodes((fallbackCode === false ? [] : fallbackCode) || this.options.fallbackLng || [], code);\n    const codes = [];\n    const addCode = c => {\n      if (!c) return;\n      if (this.isSupportedCode(c)) {\n        codes.push(c);\n      } else {\n        this.logger.warn(`rejecting language code not found in supportedLngs: ${c}`);\n      }\n    };\n    if (isString(code) && (code.indexOf('-') > -1 || code.indexOf('_') > -1)) {\n      if (this.options.load !== 'languageOnly') addCode(this.formatLanguageCode(code));\n      if (this.options.load !== 'languageOnly' && this.options.load !== 'currentOnly') addCode(this.getScriptPartFromCode(code));\n      if (this.options.load !== 'currentOnly') addCode(this.getLanguagePartFromCode(code));\n    } else if (isString(code)) {\n      addCode(this.formatLanguageCode(code));\n    }\n    fallbackCodes.forEach(fc => {\n      if (codes.indexOf(fc) < 0) addCode(this.formatLanguageCode(fc));\n    });\n    return codes;\n  }\n}\n\nconst suffixesOrder = {\n  zero: 0,\n  one: 1,\n  two: 2,\n  few: 3,\n  many: 4,\n  other: 5\n};\nconst dummyRule = {\n  select: count => count === 1 ? 'one' : 'other',\n  resolvedOptions: () => ({\n    pluralCategories: ['one', 'other']\n  })\n};\nclass PluralResolver {\n  constructor(languageUtils, options = {}) {\n    this.languageUtils = languageUtils;\n    this.options = options;\n    this.logger = baseLogger.create('pluralResolver');\n    this.pluralRulesCache = {};\n  }\n  addRule(lng, obj) {\n    this.rules[lng] = obj;\n  }\n  clearCache() {\n    this.pluralRulesCache = {};\n  }\n  getRule(code, options = {}) {\n    const cleanedCode = getCleanedCode(code === 'dev' ? 'en' : code);\n    const type = options.ordinal ? 'ordinal' : 'cardinal';\n    const cacheKey = JSON.stringify({\n      cleanedCode,\n      type\n    });\n    if (cacheKey in this.pluralRulesCache) {\n      return this.pluralRulesCache[cacheKey];\n    }\n    let rule;\n    try {\n      rule = new Intl.PluralRules(cleanedCode, {\n        type\n      });\n    } catch (err) {\n      if (!Intl) {\n        this.logger.error('No Intl support, please use an Intl polyfill!');\n        return dummyRule;\n      }\n      if (!code.match(/-|_/)) return dummyRule;\n      const lngPart = this.languageUtils.getLanguagePartFromCode(code);\n      rule = this.getRule(lngPart, options);\n    }\n    this.pluralRulesCache[cacheKey] = rule;\n    return rule;\n  }\n  needsPlural(code, options = {}) {\n    let rule = this.getRule(code, options);\n    if (!rule) rule = this.getRule('dev', options);\n    return rule?.resolvedOptions().pluralCategories.length > 1;\n  }\n  getPluralFormsOfKey(code, key, options = {}) {\n    return this.getSuffixes(code, options).map(suffix => `${key}${suffix}`);\n  }\n  getSuffixes(code, options = {}) {\n    let rule = this.getRule(code, options);\n    if (!rule) rule = this.getRule('dev', options);\n    if (!rule) return [];\n    return rule.resolvedOptions().pluralCategories.sort((pluralCategory1, pluralCategory2) => suffixesOrder[pluralCategory1] - suffixesOrder[pluralCategory2]).map(pluralCategory => `${this.options.prepend}${options.ordinal ? `ordinal${this.options.prepend}` : ''}${pluralCategory}`);\n  }\n  getSuffix(code, count, options = {}) {\n    const rule = this.getRule(code, options);\n    if (rule) {\n      return `${this.options.prepend}${options.ordinal ? `ordinal${this.options.prepend}` : ''}${rule.select(count)}`;\n    }\n    this.logger.warn(`no plural rule found for: ${code}`);\n    return this.getSuffix('dev', count, options);\n  }\n}\n\nconst deepFindWithDefaults = (data, defaultData, key, keySeparator = '.', ignoreJSONStructure = true) => {\n  let path = getPathWithDefaults(data, defaultData, key);\n  if (!path && ignoreJSONStructure && isString(key)) {\n    path = deepFind(data, key, keySeparator);\n    if (path === undefined) path = deepFind(defaultData, key, keySeparator);\n  }\n  return path;\n};\nconst regexSafe = val => val.replace(/\\$/g, '$$$$');\nclass Interpolator {\n  constructor(options = {}) {\n    this.logger = baseLogger.create('interpolator');\n    this.options = options;\n    this.format = options?.interpolation?.format || (value => value);\n    this.init(options);\n  }\n  init(options = {}) {\n    if (!options.interpolation) options.interpolation = {\n      escapeValue: true\n    };\n    const {\n      escape: escape$1,\n      escapeValue,\n      useRawValueToEscape,\n      prefix,\n      prefixEscaped,\n      suffix,\n      suffixEscaped,\n      formatSeparator,\n      unescapeSuffix,\n      unescapePrefix,\n      nestingPrefix,\n      nestingPrefixEscaped,\n      nestingSuffix,\n      nestingSuffixEscaped,\n      nestingOptionsSeparator,\n      maxReplaces,\n      alwaysFormat\n    } = options.interpolation;\n    this.escape = escape$1 !== undefined ? escape$1 : escape;\n    this.escapeValue = escapeValue !== undefined ? escapeValue : true;\n    this.useRawValueToEscape = useRawValueToEscape !== undefined ? useRawValueToEscape : false;\n    this.prefix = prefix ? regexEscape(prefix) : prefixEscaped || '{{';\n    this.suffix = suffix ? regexEscape(suffix) : suffixEscaped || '}}';\n    this.formatSeparator = formatSeparator || ',';\n    this.unescapePrefix = unescapeSuffix ? '' : unescapePrefix || '-';\n    this.unescapeSuffix = this.unescapePrefix ? '' : unescapeSuffix || '';\n    this.nestingPrefix = nestingPrefix ? regexEscape(nestingPrefix) : nestingPrefixEscaped || regexEscape('$t(');\n    this.nestingSuffix = nestingSuffix ? regexEscape(nestingSuffix) : nestingSuffixEscaped || regexEscape(')');\n    this.nestingOptionsSeparator = nestingOptionsSeparator || ',';\n    this.maxReplaces = maxReplaces || 1000;\n    this.alwaysFormat = alwaysFormat !== undefined ? alwaysFormat : false;\n    this.resetRegExp();\n  }\n  reset() {\n    if (this.options) this.init(this.options);\n  }\n  resetRegExp() {\n    const getOrResetRegExp = (existingRegExp, pattern) => {\n      if (existingRegExp?.source === pattern) {\n        existingRegExp.lastIndex = 0;\n        return existingRegExp;\n      }\n      return new RegExp(pattern, 'g');\n    };\n    this.regexp = getOrResetRegExp(this.regexp, `${this.prefix}(.+?)${this.suffix}`);\n    this.regexpUnescape = getOrResetRegExp(this.regexpUnescape, `${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`);\n    this.nestingRegexp = getOrResetRegExp(this.nestingRegexp, `${this.nestingPrefix}((?:[^()\"']+|\"[^\"]*\"|'[^']*'|\\\\((?:[^()]|\"[^\"]*\"|'[^']*')*\\\\))*?)${this.nestingSuffix}`);\n  }\n  interpolate(str, data, lng, options) {\n    let match;\n    let value;\n    let replaces;\n    const defaultData = this.options && this.options.interpolation && this.options.interpolation.defaultVariables || {};\n    const handleFormat = key => {\n      if (key.indexOf(this.formatSeparator) < 0) {\n        const path = deepFindWithDefaults(data, defaultData, key, this.options.keySeparator, this.options.ignoreJSONStructure);\n        return this.alwaysFormat ? this.format(path, undefined, lng, {\n          ...options,\n          ...data,\n          interpolationkey: key\n        }) : path;\n      }\n      const p = key.split(this.formatSeparator);\n      const k = p.shift().trim();\n      const f = p.join(this.formatSeparator).trim();\n      return this.format(deepFindWithDefaults(data, defaultData, k, this.options.keySeparator, this.options.ignoreJSONStructure), f, lng, {\n        ...options,\n        ...data,\n        interpolationkey: k\n      });\n    };\n    this.resetRegExp();\n    const missingInterpolationHandler = options?.missingInterpolationHandler || this.options.missingInterpolationHandler;\n    const skipOnVariables = options?.interpolation?.skipOnVariables !== undefined ? options.interpolation.skipOnVariables : this.options.interpolation.skipOnVariables;\n    const todos = [{\n      regex: this.regexpUnescape,\n      safeValue: val => regexSafe(val)\n    }, {\n      regex: this.regexp,\n      safeValue: val => this.escapeValue ? regexSafe(this.escape(val)) : regexSafe(val)\n    }];\n    todos.forEach(todo => {\n      replaces = 0;\n      while (match = todo.regex.exec(str)) {\n        const matchedVar = match[1].trim();\n        value = handleFormat(matchedVar);\n        if (value === undefined) {\n          if (typeof missingInterpolationHandler === 'function') {\n            const temp = missingInterpolationHandler(str, match, options);\n            value = isString(temp) ? temp : '';\n          } else if (options && Object.prototype.hasOwnProperty.call(options, matchedVar)) {\n            value = '';\n          } else if (skipOnVariables) {\n            value = match[0];\n            continue;\n          } else {\n            this.logger.warn(`missed to pass in variable ${matchedVar} for interpolating ${str}`);\n            value = '';\n          }\n        } else if (!isString(value) && !this.useRawValueToEscape) {\n          value = makeString(value);\n        }\n        const safeValue = todo.safeValue(value);\n        str = str.replace(match[0], safeValue);\n        if (skipOnVariables) {\n          todo.regex.lastIndex += value.length;\n          todo.regex.lastIndex -= match[0].length;\n        } else {\n          todo.regex.lastIndex = 0;\n        }\n        replaces++;\n        if (replaces >= this.maxReplaces) {\n          break;\n        }\n      }\n    });\n    return str;\n  }\n  nest(str, fc, options = {}) {\n    let match;\n    let value;\n    let clonedOptions;\n    const handleHasOptions = (key, inheritedOptions) => {\n      const sep = this.nestingOptionsSeparator;\n      if (key.indexOf(sep) < 0) return key;\n      const c = key.split(new RegExp(`${sep}[ ]*{`));\n      let optionsString = `{${c[1]}`;\n      key = c[0];\n      optionsString = this.interpolate(optionsString, clonedOptions);\n      const matchedSingleQuotes = optionsString.match(/'/g);\n      const matchedDoubleQuotes = optionsString.match(/\"/g);\n      if ((matchedSingleQuotes?.length ?? 0) % 2 === 0 && !matchedDoubleQuotes || matchedDoubleQuotes.length % 2 !== 0) {\n        optionsString = optionsString.replace(/'/g, '\"');\n      }\n      try {\n        clonedOptions = JSON.parse(optionsString);\n        if (inheritedOptions) clonedOptions = {\n          ...inheritedOptions,\n          ...clonedOptions\n        };\n      } catch (e) {\n        this.logger.warn(`failed parsing options string in nesting for key ${key}`, e);\n        return `${key}${sep}${optionsString}`;\n      }\n      if (clonedOptions.defaultValue && clonedOptions.defaultValue.indexOf(this.prefix) > -1) delete clonedOptions.defaultValue;\n      return key;\n    };\n    while (match = this.nestingRegexp.exec(str)) {\n      let formatters = [];\n      clonedOptions = {\n        ...options\n      };\n      clonedOptions = clonedOptions.replace && !isString(clonedOptions.replace) ? clonedOptions.replace : clonedOptions;\n      clonedOptions.applyPostProcessor = false;\n      delete clonedOptions.defaultValue;\n      const keyEndIndex = /{.*}/.test(match[1]) ? match[1].lastIndexOf('}') + 1 : match[1].indexOf(this.formatSeparator);\n      if (keyEndIndex !== -1) {\n        formatters = match[1].slice(keyEndIndex).split(this.formatSeparator).map(elem => elem.trim()).filter(Boolean);\n        match[1] = match[1].slice(0, keyEndIndex);\n      }\n      value = fc(handleHasOptions.call(this, match[1].trim(), clonedOptions), clonedOptions);\n      if (value && match[0] === str && !isString(value)) return value;\n      if (!isString(value)) value = makeString(value);\n      if (!value) {\n        this.logger.warn(`missed to resolve ${match[1]} for nesting ${str}`);\n        value = '';\n      }\n      if (formatters.length) {\n        value = formatters.reduce((v, f) => this.format(v, f, options.lng, {\n          ...options,\n          interpolationkey: match[1].trim()\n        }), value.trim());\n      }\n      str = str.replace(match[0], value);\n      this.regexp.lastIndex = 0;\n    }\n    return str;\n  }\n}\n\nconst parseFormatStr = formatStr => {\n  let formatName = formatStr.toLowerCase().trim();\n  const formatOptions = {};\n  if (formatStr.indexOf('(') > -1) {\n    const p = formatStr.split('(');\n    formatName = p[0].toLowerCase().trim();\n    const optStr = p[1].substring(0, p[1].length - 1);\n    if (formatName === 'currency' && optStr.indexOf(':') < 0) {\n      if (!formatOptions.currency) formatOptions.currency = optStr.trim();\n    } else if (formatName === 'relativetime' && optStr.indexOf(':') < 0) {\n      if (!formatOptions.range) formatOptions.range = optStr.trim();\n    } else {\n      const opts = optStr.split(';');\n      opts.forEach(opt => {\n        if (opt) {\n          const [key, ...rest] = opt.split(':');\n          const val = rest.join(':').trim().replace(/^'+|'+$/g, '');\n          const trimmedKey = key.trim();\n          if (!formatOptions[trimmedKey]) formatOptions[trimmedKey] = val;\n          if (val === 'false') formatOptions[trimmedKey] = false;\n          if (val === 'true') formatOptions[trimmedKey] = true;\n          if (!isNaN(val)) formatOptions[trimmedKey] = parseInt(val, 10);\n        }\n      });\n    }\n  }\n  return {\n    formatName,\n    formatOptions\n  };\n};\nconst createCachedFormatter = fn => {\n  const cache = {};\n  return (v, l, o) => {\n    let optForCache = o;\n    if (o && o.interpolationkey && o.formatParams && o.formatParams[o.interpolationkey] && o[o.interpolationkey]) {\n      optForCache = {\n        ...optForCache,\n        [o.interpolationkey]: undefined\n      };\n    }\n    const key = l + JSON.stringify(optForCache);\n    let frm = cache[key];\n    if (!frm) {\n      frm = fn(getCleanedCode(l), o);\n      cache[key] = frm;\n    }\n    return frm(v);\n  };\n};\nconst createNonCachedFormatter = fn => (v, l, o) => fn(getCleanedCode(l), o)(v);\nclass Formatter {\n  constructor(options = {}) {\n    this.logger = baseLogger.create('formatter');\n    this.options = options;\n    this.init(options);\n  }\n  init(services, options = {\n    interpolation: {}\n  }) {\n    this.formatSeparator = options.interpolation.formatSeparator || ',';\n    const cf = options.cacheInBuiltFormats ? createCachedFormatter : createNonCachedFormatter;\n    this.formats = {\n      number: cf((lng, opt) => {\n        const formatter = new Intl.NumberFormat(lng, {\n          ...opt\n        });\n        return val => formatter.format(val);\n      }),\n      currency: cf((lng, opt) => {\n        const formatter = new Intl.NumberFormat(lng, {\n          ...opt,\n          style: 'currency'\n        });\n        return val => formatter.format(val);\n      }),\n      datetime: cf((lng, opt) => {\n        const formatter = new Intl.DateTimeFormat(lng, {\n          ...opt\n        });\n        return val => formatter.format(val);\n      }),\n      relativetime: cf((lng, opt) => {\n        const formatter = new Intl.RelativeTimeFormat(lng, {\n          ...opt\n        });\n        return val => formatter.format(val, opt.range || 'day');\n      }),\n      list: cf((lng, opt) => {\n        const formatter = new Intl.ListFormat(lng, {\n          ...opt\n        });\n        return val => formatter.format(val);\n      })\n    };\n  }\n  add(name, fc) {\n    this.formats[name.toLowerCase().trim()] = fc;\n  }\n  addCached(name, fc) {\n    this.formats[name.toLowerCase().trim()] = createCachedFormatter(fc);\n  }\n  format(value, format, lng, options = {}) {\n    const formats = format.split(this.formatSeparator);\n    if (formats.length > 1 && formats[0].indexOf('(') > 1 && formats[0].indexOf(')') < 0 && formats.find(f => f.indexOf(')') > -1)) {\n      const lastIndex = formats.findIndex(f => f.indexOf(')') > -1);\n      formats[0] = [formats[0], ...formats.splice(1, lastIndex)].join(this.formatSeparator);\n    }\n    const result = formats.reduce((mem, f) => {\n      const {\n        formatName,\n        formatOptions\n      } = parseFormatStr(f);\n      if (this.formats[formatName]) {\n        let formatted = mem;\n        try {\n          const valOptions = options?.formatParams?.[options.interpolationkey] || {};\n          const l = valOptions.locale || valOptions.lng || options.locale || options.lng || lng;\n          formatted = this.formats[formatName](mem, l, {\n            ...formatOptions,\n            ...options,\n            ...valOptions\n          });\n        } catch (error) {\n          this.logger.warn(error);\n        }\n        return formatted;\n      } else {\n        this.logger.warn(`there was no format function for ${formatName}`);\n      }\n      return mem;\n    }, value);\n    return result;\n  }\n}\n\nconst removePending = (q, name) => {\n  if (q.pending[name] !== undefined) {\n    delete q.pending[name];\n    q.pendingCount--;\n  }\n};\nclass Connector extends EventEmitter {\n  constructor(backend, store, services, options = {}) {\n    super();\n    this.backend = backend;\n    this.store = store;\n    this.services = services;\n    this.languageUtils = services.languageUtils;\n    this.options = options;\n    this.logger = baseLogger.create('backendConnector');\n    this.waitingReads = [];\n    this.maxParallelReads = options.maxParallelReads || 10;\n    this.readingCalls = 0;\n    this.maxRetries = options.maxRetries >= 0 ? options.maxRetries : 5;\n    this.retryTimeout = options.retryTimeout >= 1 ? options.retryTimeout : 350;\n    this.state = {};\n    this.queue = [];\n    this.backend?.init?.(services, options.backend, options);\n  }\n  queueLoad(languages, namespaces, options, callback) {\n    const toLoad = {};\n    const pending = {};\n    const toLoadLanguages = {};\n    const toLoadNamespaces = {};\n    languages.forEach(lng => {\n      let hasAllNamespaces = true;\n      namespaces.forEach(ns => {\n        const name = `${lng}|${ns}`;\n        if (!options.reload && this.store.hasResourceBundle(lng, ns)) {\n          this.state[name] = 2;\n        } else if (this.state[name] < 0) ; else if (this.state[name] === 1) {\n          if (pending[name] === undefined) pending[name] = true;\n        } else {\n          this.state[name] = 1;\n          hasAllNamespaces = false;\n          if (pending[name] === undefined) pending[name] = true;\n          if (toLoad[name] === undefined) toLoad[name] = true;\n          if (toLoadNamespaces[ns] === undefined) toLoadNamespaces[ns] = true;\n        }\n      });\n      if (!hasAllNamespaces) toLoadLanguages[lng] = true;\n    });\n    if (Object.keys(toLoad).length || Object.keys(pending).length) {\n      this.queue.push({\n        pending,\n        pendingCount: Object.keys(pending).length,\n        loaded: {},\n        errors: [],\n        callback\n      });\n    }\n    return {\n      toLoad: Object.keys(toLoad),\n      pending: Object.keys(pending),\n      toLoadLanguages: Object.keys(toLoadLanguages),\n      toLoadNamespaces: Object.keys(toLoadNamespaces)\n    };\n  }\n  loaded(name, err, data) {\n    const s = name.split('|');\n    const lng = s[0];\n    const ns = s[1];\n    if (err) this.emit('failedLoading', lng, ns, err);\n    if (!err && data) {\n      this.store.addResourceBundle(lng, ns, data, undefined, undefined, {\n        skipCopy: true\n      });\n    }\n    this.state[name] = err ? -1 : 2;\n    if (err && data) this.state[name] = 0;\n    const loaded = {};\n    this.queue.forEach(q => {\n      pushPath(q.loaded, [lng], ns);\n      removePending(q, name);\n      if (err) q.errors.push(err);\n      if (q.pendingCount === 0 && !q.done) {\n        Object.keys(q.loaded).forEach(l => {\n          if (!loaded[l]) loaded[l] = {};\n          const loadedKeys = q.loaded[l];\n          if (loadedKeys.length) {\n            loadedKeys.forEach(n => {\n              if (loaded[l][n] === undefined) loaded[l][n] = true;\n            });\n          }\n        });\n        q.done = true;\n        if (q.errors.length) {\n          q.callback(q.errors);\n        } else {\n          q.callback();\n        }\n      }\n    });\n    this.emit('loaded', loaded);\n    this.queue = this.queue.filter(q => !q.done);\n  }\n  read(lng, ns, fcName, tried = 0, wait = this.retryTimeout, callback) {\n    if (!lng.length) return callback(null, {});\n    if (this.readingCalls >= this.maxParallelReads) {\n      this.waitingReads.push({\n        lng,\n        ns,\n        fcName,\n        tried,\n        wait,\n        callback\n      });\n      return;\n    }\n    this.readingCalls++;\n    const resolver = (err, data) => {\n      this.readingCalls--;\n      if (this.waitingReads.length > 0) {\n        const next = this.waitingReads.shift();\n        this.read(next.lng, next.ns, next.fcName, next.tried, next.wait, next.callback);\n      }\n      if (err && data && tried < this.maxRetries) {\n        setTimeout(() => {\n          this.read.call(this, lng, ns, fcName, tried + 1, wait * 2, callback);\n        }, wait);\n        return;\n      }\n      callback(err, data);\n    };\n    const fc = this.backend[fcName].bind(this.backend);\n    if (fc.length === 2) {\n      try {\n        const r = fc(lng, ns);\n        if (r && typeof r.then === 'function') {\n          r.then(data => resolver(null, data)).catch(resolver);\n        } else {\n          resolver(null, r);\n        }\n      } catch (err) {\n        resolver(err);\n      }\n      return;\n    }\n    return fc(lng, ns, resolver);\n  }\n  prepareLoading(languages, namespaces, options = {}, callback) {\n    if (!this.backend) {\n      this.logger.warn('No backend was added via i18next.use. Will not load resources.');\n      return callback && callback();\n    }\n    if (isString(languages)) languages = this.languageUtils.toResolveHierarchy(languages);\n    if (isString(namespaces)) namespaces = [namespaces];\n    const toLoad = this.queueLoad(languages, namespaces, options, callback);\n    if (!toLoad.toLoad.length) {\n      if (!toLoad.pending.length) callback();\n      return null;\n    }\n    toLoad.toLoad.forEach(name => {\n      this.loadOne(name);\n    });\n  }\n  load(languages, namespaces, callback) {\n    this.prepareLoading(languages, namespaces, {}, callback);\n  }\n  reload(languages, namespaces, callback) {\n    this.prepareLoading(languages, namespaces, {\n      reload: true\n    }, callback);\n  }\n  loadOne(name, prefix = '') {\n    const s = name.split('|');\n    const lng = s[0];\n    const ns = s[1];\n    this.read(lng, ns, 'read', undefined, undefined, (err, data) => {\n      if (err) this.logger.warn(`${prefix}loading namespace ${ns} for language ${lng} failed`, err);\n      if (!err && data) this.logger.log(`${prefix}loaded namespace ${ns} for language ${lng}`, data);\n      this.loaded(name, err, data);\n    });\n  }\n  saveMissing(languages, namespace, key, fallbackValue, isUpdate, options = {}, clb = () => {}) {\n    if (this.services?.utils?.hasLoadedNamespace && !this.services?.utils?.hasLoadedNamespace(namespace)) {\n      this.logger.warn(`did not save key \"${key}\" as the namespace \"${namespace}\" was not yet loaded`, 'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');\n      return;\n    }\n    if (key === undefined || key === null || key === '') return;\n    if (this.backend?.create) {\n      const opts = {\n        ...options,\n        isUpdate\n      };\n      const fc = this.backend.create.bind(this.backend);\n      if (fc.length < 6) {\n        try {\n          let r;\n          if (fc.length === 5) {\n            r = fc(languages, namespace, key, fallbackValue, opts);\n          } else {\n            r = fc(languages, namespace, key, fallbackValue);\n          }\n          if (r && typeof r.then === 'function') {\n            r.then(data => clb(null, data)).catch(clb);\n          } else {\n            clb(null, r);\n          }\n        } catch (err) {\n          clb(err);\n        }\n      } else {\n        fc(languages, namespace, key, fallbackValue, clb, opts);\n      }\n    }\n    if (!languages || !languages[0]) return;\n    this.store.addResource(languages[0], namespace, key, fallbackValue);\n  }\n}\n\nconst get = () => ({\n  debug: false,\n  initAsync: true,\n  ns: ['translation'],\n  defaultNS: ['translation'],\n  fallbackLng: ['dev'],\n  fallbackNS: false,\n  supportedLngs: false,\n  nonExplicitSupportedLngs: false,\n  load: 'all',\n  preload: false,\n  simplifyPluralSuffix: true,\n  keySeparator: '.',\n  nsSeparator: ':',\n  pluralSeparator: '_',\n  contextSeparator: '_',\n  partialBundledLanguages: false,\n  saveMissing: false,\n  updateMissing: false,\n  saveMissingTo: 'fallback',\n  saveMissingPlurals: true,\n  missingKeyHandler: false,\n  missingInterpolationHandler: false,\n  postProcess: false,\n  postProcessPassResolved: false,\n  returnNull: false,\n  returnEmptyString: true,\n  returnObjects: false,\n  joinArrays: false,\n  returnedObjectHandler: false,\n  parseMissingKeyHandler: false,\n  appendNamespaceToMissingKey: false,\n  appendNamespaceToCIMode: false,\n  overloadTranslationOptionHandler: args => {\n    let ret = {};\n    if (typeof args[1] === 'object') ret = args[1];\n    if (isString(args[1])) ret.defaultValue = args[1];\n    if (isString(args[2])) ret.tDescription = args[2];\n    if (typeof args[2] === 'object' || typeof args[3] === 'object') {\n      const options = args[3] || args[2];\n      Object.keys(options).forEach(key => {\n        ret[key] = options[key];\n      });\n    }\n    return ret;\n  },\n  interpolation: {\n    escapeValue: true,\n    format: value => value,\n    prefix: '{{',\n    suffix: '}}',\n    formatSeparator: ',',\n    unescapePrefix: '-',\n    nestingPrefix: '$t(',\n    nestingSuffix: ')',\n    nestingOptionsSeparator: ',',\n    maxReplaces: 1000,\n    skipOnVariables: true\n  },\n  cacheInBuiltFormats: true\n});\nconst transformOptions = options => {\n  if (isString(options.ns)) options.ns = [options.ns];\n  if (isString(options.fallbackLng)) options.fallbackLng = [options.fallbackLng];\n  if (isString(options.fallbackNS)) options.fallbackNS = [options.fallbackNS];\n  if (options.supportedLngs?.indexOf?.('cimode') < 0) {\n    options.supportedLngs = options.supportedLngs.concat(['cimode']);\n  }\n  if (typeof options.initImmediate === 'boolean') options.initAsync = options.initImmediate;\n  return options;\n};\n\nconst noop = () => {};\nconst bindMemberFunctions = inst => {\n  const mems = Object.getOwnPropertyNames(Object.getPrototypeOf(inst));\n  mems.forEach(mem => {\n    if (typeof inst[mem] === 'function') {\n      inst[mem] = inst[mem].bind(inst);\n    }\n  });\n};\nclass I18n extends EventEmitter {\n  constructor(options = {}, callback) {\n    super();\n    this.options = transformOptions(options);\n    this.services = {};\n    this.logger = baseLogger;\n    this.modules = {\n      external: []\n    };\n    bindMemberFunctions(this);\n    if (callback && !this.isInitialized && !options.isClone) {\n      if (!this.options.initAsync) {\n        this.init(options, callback);\n        return this;\n      }\n      setTimeout(() => {\n        this.init(options, callback);\n      }, 0);\n    }\n  }\n  init(options = {}, callback) {\n    this.isInitializing = true;\n    if (typeof options === 'function') {\n      callback = options;\n      options = {};\n    }\n    if (options.defaultNS == null && options.ns) {\n      if (isString(options.ns)) {\n        options.defaultNS = options.ns;\n      } else if (options.ns.indexOf('translation') < 0) {\n        options.defaultNS = options.ns[0];\n      }\n    }\n    const defOpts = get();\n    this.options = {\n      ...defOpts,\n      ...this.options,\n      ...transformOptions(options)\n    };\n    this.options.interpolation = {\n      ...defOpts.interpolation,\n      ...this.options.interpolation\n    };\n    if (options.keySeparator !== undefined) {\n      this.options.userDefinedKeySeparator = options.keySeparator;\n    }\n    if (options.nsSeparator !== undefined) {\n      this.options.userDefinedNsSeparator = options.nsSeparator;\n    }\n    const createClassOnDemand = ClassOrObject => {\n      if (!ClassOrObject) return null;\n      if (typeof ClassOrObject === 'function') return new ClassOrObject();\n      return ClassOrObject;\n    };\n    if (!this.options.isClone) {\n      if (this.modules.logger) {\n        baseLogger.init(createClassOnDemand(this.modules.logger), this.options);\n      } else {\n        baseLogger.init(null, this.options);\n      }\n      let formatter;\n      if (this.modules.formatter) {\n        formatter = this.modules.formatter;\n      } else {\n        formatter = Formatter;\n      }\n      const lu = new LanguageUtil(this.options);\n      this.store = new ResourceStore(this.options.resources, this.options);\n      const s = this.services;\n      s.logger = baseLogger;\n      s.resourceStore = this.store;\n      s.languageUtils = lu;\n      s.pluralResolver = new PluralResolver(lu, {\n        prepend: this.options.pluralSeparator,\n        simplifyPluralSuffix: this.options.simplifyPluralSuffix\n      });\n      const usingLegacyFormatFunction = this.options.interpolation.format && this.options.interpolation.format !== defOpts.interpolation.format;\n      if (usingLegacyFormatFunction) {\n        this.logger.deprecate(`init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting`);\n      }\n      if (formatter && (!this.options.interpolation.format || this.options.interpolation.format === defOpts.interpolation.format)) {\n        s.formatter = createClassOnDemand(formatter);\n        if (s.formatter.init) s.formatter.init(s, this.options);\n        this.options.interpolation.format = s.formatter.format.bind(s.formatter);\n      }\n      s.interpolator = new Interpolator(this.options);\n      s.utils = {\n        hasLoadedNamespace: this.hasLoadedNamespace.bind(this)\n      };\n      s.backendConnector = new Connector(createClassOnDemand(this.modules.backend), s.resourceStore, s, this.options);\n      s.backendConnector.on('*', (event, ...args) => {\n        this.emit(event, ...args);\n      });\n      if (this.modules.languageDetector) {\n        s.languageDetector = createClassOnDemand(this.modules.languageDetector);\n        if (s.languageDetector.init) s.languageDetector.init(s, this.options.detection, this.options);\n      }\n      if (this.modules.i18nFormat) {\n        s.i18nFormat = createClassOnDemand(this.modules.i18nFormat);\n        if (s.i18nFormat.init) s.i18nFormat.init(this);\n      }\n      this.translator = new Translator(this.services, this.options);\n      this.translator.on('*', (event, ...args) => {\n        this.emit(event, ...args);\n      });\n      this.modules.external.forEach(m => {\n        if (m.init) m.init(this);\n      });\n    }\n    this.format = this.options.interpolation.format;\n    if (!callback) callback = noop;\n    if (this.options.fallbackLng && !this.services.languageDetector && !this.options.lng) {\n      const codes = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);\n      if (codes.length > 0 && codes[0] !== 'dev') this.options.lng = codes[0];\n    }\n    if (!this.services.languageDetector && !this.options.lng) {\n      this.logger.warn('init: no languageDetector is used and no lng is defined');\n    }\n    const storeApi = ['getResource', 'hasResourceBundle', 'getResourceBundle', 'getDataByLanguage'];\n    storeApi.forEach(fcName => {\n      this[fcName] = (...args) => this.store[fcName](...args);\n    });\n    const storeApiChained = ['addResource', 'addResources', 'addResourceBundle', 'removeResourceBundle'];\n    storeApiChained.forEach(fcName => {\n      this[fcName] = (...args) => {\n        this.store[fcName](...args);\n        return this;\n      };\n    });\n    const deferred = defer();\n    const load = () => {\n      const finish = (err, t) => {\n        this.isInitializing = false;\n        if (this.isInitialized && !this.initializedStoreOnce) this.logger.warn('init: i18next is already initialized. You should call init just once!');\n        this.isInitialized = true;\n        if (!this.options.isClone) this.logger.log('initialized', this.options);\n        this.emit('initialized', this.options);\n        deferred.resolve(t);\n        callback(err, t);\n      };\n      if (this.languages && !this.isInitialized) return finish(null, this.t.bind(this));\n      this.changeLanguage(this.options.lng, finish);\n    };\n    if (this.options.resources || !this.options.initAsync) {\n      load();\n    } else {\n      setTimeout(load, 0);\n    }\n    return deferred;\n  }\n  loadResources(language, callback = noop) {\n    let usedCallback = callback;\n    const usedLng = isString(language) ? language : this.language;\n    if (typeof language === 'function') usedCallback = language;\n    if (!this.options.resources || this.options.partialBundledLanguages) {\n      if (usedLng?.toLowerCase() === 'cimode' && (!this.options.preload || this.options.preload.length === 0)) return usedCallback();\n      const toLoad = [];\n      const append = lng => {\n        if (!lng) return;\n        if (lng === 'cimode') return;\n        const lngs = this.services.languageUtils.toResolveHierarchy(lng);\n        lngs.forEach(l => {\n          if (l === 'cimode') return;\n          if (toLoad.indexOf(l) < 0) toLoad.push(l);\n        });\n      };\n      if (!usedLng) {\n        const fallbacks = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);\n        fallbacks.forEach(l => append(l));\n      } else {\n        append(usedLng);\n      }\n      this.options.preload?.forEach?.(l => append(l));\n      this.services.backendConnector.load(toLoad, this.options.ns, e => {\n        if (!e && !this.resolvedLanguage && this.language) this.setResolvedLanguage(this.language);\n        usedCallback(e);\n      });\n    } else {\n      usedCallback(null);\n    }\n  }\n  reloadResources(lngs, ns, callback) {\n    const deferred = defer();\n    if (typeof lngs === 'function') {\n      callback = lngs;\n      lngs = undefined;\n    }\n    if (typeof ns === 'function') {\n      callback = ns;\n      ns = undefined;\n    }\n    if (!lngs) lngs = this.languages;\n    if (!ns) ns = this.options.ns;\n    if (!callback) callback = noop;\n    this.services.backendConnector.reload(lngs, ns, err => {\n      deferred.resolve();\n      callback(err);\n    });\n    return deferred;\n  }\n  use(module) {\n    if (!module) throw new Error('You are passing an undefined module! Please check the object you are passing to i18next.use()');\n    if (!module.type) throw new Error('You are passing a wrong module! Please check the object you are passing to i18next.use()');\n    if (module.type === 'backend') {\n      this.modules.backend = module;\n    }\n    if (module.type === 'logger' || module.log && module.warn && module.error) {\n      this.modules.logger = module;\n    }\n    if (module.type === 'languageDetector') {\n      this.modules.languageDetector = module;\n    }\n    if (module.type === 'i18nFormat') {\n      this.modules.i18nFormat = module;\n    }\n    if (module.type === 'postProcessor') {\n      postProcessor.addPostProcessor(module);\n    }\n    if (module.type === 'formatter') {\n      this.modules.formatter = module;\n    }\n    if (module.type === '3rdParty') {\n      this.modules.external.push(module);\n    }\n    return this;\n  }\n  setResolvedLanguage(l) {\n    if (!l || !this.languages) return;\n    if (['cimode', 'dev'].indexOf(l) > -1) return;\n    for (let li = 0; li < this.languages.length; li++) {\n      const lngInLngs = this.languages[li];\n      if (['cimode', 'dev'].indexOf(lngInLngs) > -1) continue;\n      if (this.store.hasLanguageSomeTranslations(lngInLngs)) {\n        this.resolvedLanguage = lngInLngs;\n        break;\n      }\n    }\n    if (!this.resolvedLanguage && this.languages.indexOf(l) < 0 && this.store.hasLanguageSomeTranslations(l)) {\n      this.resolvedLanguage = l;\n      this.languages.unshift(l);\n    }\n  }\n  changeLanguage(lng, callback) {\n    this.isLanguageChangingTo = lng;\n    const deferred = defer();\n    this.emit('languageChanging', lng);\n    const setLngProps = l => {\n      this.language = l;\n      this.languages = this.services.languageUtils.toResolveHierarchy(l);\n      this.resolvedLanguage = undefined;\n      this.setResolvedLanguage(l);\n    };\n    const done = (err, l) => {\n      if (l) {\n        if (this.isLanguageChangingTo === lng) {\n          setLngProps(l);\n          this.translator.changeLanguage(l);\n          this.isLanguageChangingTo = undefined;\n          this.emit('languageChanged', l);\n          this.logger.log('languageChanged', l);\n        }\n      } else {\n        this.isLanguageChangingTo = undefined;\n      }\n      deferred.resolve((...args) => this.t(...args));\n      if (callback) callback(err, (...args) => this.t(...args));\n    };\n    const setLng = lngs => {\n      if (!lng && !lngs && this.services.languageDetector) lngs = [];\n      const fl = isString(lngs) ? lngs : lngs && lngs[0];\n      const l = this.store.hasLanguageSomeTranslations(fl) ? fl : this.services.languageUtils.getBestMatchFromCodes(isString(lngs) ? [lngs] : lngs);\n      if (l) {\n        if (!this.language) {\n          setLngProps(l);\n        }\n        if (!this.translator.language) this.translator.changeLanguage(l);\n        this.services.languageDetector?.cacheUserLanguage?.(l);\n      }\n      this.loadResources(l, err => {\n        done(err, l);\n      });\n    };\n    if (!lng && this.services.languageDetector && !this.services.languageDetector.async) {\n      setLng(this.services.languageDetector.detect());\n    } else if (!lng && this.services.languageDetector && this.services.languageDetector.async) {\n      if (this.services.languageDetector.detect.length === 0) {\n        this.services.languageDetector.detect().then(setLng);\n      } else {\n        this.services.languageDetector.detect(setLng);\n      }\n    } else {\n      setLng(lng);\n    }\n    return deferred;\n  }\n  getFixedT(lng, ns, keyPrefix) {\n    const fixedT = (key, opts, ...rest) => {\n      let o;\n      if (typeof opts !== 'object') {\n        o = this.options.overloadTranslationOptionHandler([key, opts].concat(rest));\n      } else {\n        o = {\n          ...opts\n        };\n      }\n      o.lng = o.lng || fixedT.lng;\n      o.lngs = o.lngs || fixedT.lngs;\n      o.ns = o.ns || fixedT.ns;\n      if (o.keyPrefix !== '') o.keyPrefix = o.keyPrefix || keyPrefix || fixedT.keyPrefix;\n      const keySeparator = this.options.keySeparator || '.';\n      let resultKey;\n      if (o.keyPrefix && Array.isArray(key)) {\n        resultKey = key.map(k => {\n          if (typeof k === 'function') k = keysFromSelector(k, {\n            ...this.options,\n            ...opts\n          });\n          return `${o.keyPrefix}${keySeparator}${k}`;\n        });\n      } else {\n        if (typeof key === 'function') key = keysFromSelector(key, {\n          ...this.options,\n          ...opts\n        });\n        resultKey = o.keyPrefix ? `${o.keyPrefix}${keySeparator}${key}` : key;\n      }\n      return this.t(resultKey, o);\n    };\n    if (isString(lng)) {\n      fixedT.lng = lng;\n    } else {\n      fixedT.lngs = lng;\n    }\n    fixedT.ns = ns;\n    fixedT.keyPrefix = keyPrefix;\n    return fixedT;\n  }\n  t(...args) {\n    return this.translator?.translate(...args);\n  }\n  exists(...args) {\n    return this.translator?.exists(...args);\n  }\n  setDefaultNamespace(ns) {\n    this.options.defaultNS = ns;\n  }\n  hasLoadedNamespace(ns, options = {}) {\n    if (!this.isInitialized) {\n      this.logger.warn('hasLoadedNamespace: i18next was not initialized', this.languages);\n      return false;\n    }\n    if (!this.languages || !this.languages.length) {\n      this.logger.warn('hasLoadedNamespace: i18n.languages were undefined or empty', this.languages);\n      return false;\n    }\n    const lng = options.lng || this.resolvedLanguage || this.languages[0];\n    const fallbackLng = this.options ? this.options.fallbackLng : false;\n    const lastLng = this.languages[this.languages.length - 1];\n    if (lng.toLowerCase() === 'cimode') return true;\n    const loadNotPending = (l, n) => {\n      const loadState = this.services.backendConnector.state[`${l}|${n}`];\n      return loadState === -1 || loadState === 0 || loadState === 2;\n    };\n    if (options.precheck) {\n      const preResult = options.precheck(this, loadNotPending);\n      if (preResult !== undefined) return preResult;\n    }\n    if (this.hasResourceBundle(lng, ns)) return true;\n    if (!this.services.backendConnector.backend || this.options.resources && !this.options.partialBundledLanguages) return true;\n    if (loadNotPending(lng, ns) && (!fallbackLng || loadNotPending(lastLng, ns))) return true;\n    return false;\n  }\n  loadNamespaces(ns, callback) {\n    const deferred = defer();\n    if (!this.options.ns) {\n      if (callback) callback();\n      return Promise.resolve();\n    }\n    if (isString(ns)) ns = [ns];\n    ns.forEach(n => {\n      if (this.options.ns.indexOf(n) < 0) this.options.ns.push(n);\n    });\n    this.loadResources(err => {\n      deferred.resolve();\n      if (callback) callback(err);\n    });\n    return deferred;\n  }\n  loadLanguages(lngs, callback) {\n    const deferred = defer();\n    if (isString(lngs)) lngs = [lngs];\n    const preloaded = this.options.preload || [];\n    const newLngs = lngs.filter(lng => preloaded.indexOf(lng) < 0 && this.services.languageUtils.isSupportedCode(lng));\n    if (!newLngs.length) {\n      if (callback) callback();\n      return Promise.resolve();\n    }\n    this.options.preload = preloaded.concat(newLngs);\n    this.loadResources(err => {\n      deferred.resolve();\n      if (callback) callback(err);\n    });\n    return deferred;\n  }\n  dir(lng) {\n    if (!lng) lng = this.resolvedLanguage || (this.languages?.length > 0 ? this.languages[0] : this.language);\n    if (!lng) return 'rtl';\n    try {\n      const l = new Intl.Locale(lng);\n      if (l && l.getTextInfo) {\n        const ti = l.getTextInfo();\n        if (ti && ti.direction) return ti.direction;\n      }\n    } catch (e) {}\n    const rtlLngs = ['ar', 'shu', 'sqr', 'ssh', 'xaa', 'yhd', 'yud', 'aao', 'abh', 'abv', 'acm', 'acq', 'acw', 'acx', 'acy', 'adf', 'ads', 'aeb', 'aec', 'afb', 'ajp', 'apc', 'apd', 'arb', 'arq', 'ars', 'ary', 'arz', 'auz', 'avl', 'ayh', 'ayl', 'ayn', 'ayp', 'bbz', 'pga', 'he', 'iw', 'ps', 'pbt', 'pbu', 'pst', 'prp', 'prd', 'ug', 'ur', 'ydd', 'yds', 'yih', 'ji', 'yi', 'hbo', 'men', 'xmn', 'fa', 'jpr', 'peo', 'pes', 'prs', 'dv', 'sam', 'ckb'];\n    const languageUtils = this.services?.languageUtils || new LanguageUtil(get());\n    if (lng.toLowerCase().indexOf('-latn') > 1) return 'ltr';\n    return rtlLngs.indexOf(languageUtils.getLanguagePartFromCode(lng)) > -1 || lng.toLowerCase().indexOf('-arab') > 1 ? 'rtl' : 'ltr';\n  }\n  static createInstance(options = {}, callback) {\n    return new I18n(options, callback);\n  }\n  cloneInstance(options = {}, callback = noop) {\n    const forkResourceStore = options.forkResourceStore;\n    if (forkResourceStore) delete options.forkResourceStore;\n    const mergedOptions = {\n      ...this.options,\n      ...options,\n      ...{\n        isClone: true\n      }\n    };\n    const clone = new I18n(mergedOptions);\n    if (options.debug !== undefined || options.prefix !== undefined) {\n      clone.logger = clone.logger.clone(options);\n    }\n    const membersToCopy = ['store', 'services', 'language'];\n    membersToCopy.forEach(m => {\n      clone[m] = this[m];\n    });\n    clone.services = {\n      ...this.services\n    };\n    clone.services.utils = {\n      hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)\n    };\n    if (forkResourceStore) {\n      const clonedData = Object.keys(this.store.data).reduce((prev, l) => {\n        prev[l] = {\n          ...this.store.data[l]\n        };\n        prev[l] = Object.keys(prev[l]).reduce((acc, n) => {\n          acc[n] = {\n            ...prev[l][n]\n          };\n          return acc;\n        }, prev[l]);\n        return prev;\n      }, {});\n      clone.store = new ResourceStore(clonedData, mergedOptions);\n      clone.services.resourceStore = clone.store;\n    }\n    clone.translator = new Translator(clone.services, mergedOptions);\n    clone.translator.on('*', (event, ...args) => {\n      clone.emit(event, ...args);\n    });\n    clone.init(mergedOptions, callback);\n    clone.translator.options = mergedOptions;\n    clone.translator.backendConnector.services.utils = {\n      hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)\n    };\n    return clone;\n  }\n  toJSON() {\n    return {\n      options: this.options,\n      store: this.store,\n      language: this.language,\n      languages: this.languages,\n      resolvedLanguage: this.resolvedLanguage\n    };\n  }\n}\nconst instance = I18n.createInstance();\ninstance.createInstance = I18n.createInstance;\n\nconst createInstance = instance.createInstance;\nconst dir = instance.dir;\nconst init = instance.init;\nconst loadResources = instance.loadResources;\nconst reloadResources = instance.reloadResources;\nconst use = instance.use;\nconst changeLanguage = instance.changeLanguage;\nconst getFixedT = instance.getFixedT;\nconst t = instance.t;\nconst exists = instance.exists;\nconst setDefaultNamespace = instance.setDefaultNamespace;\nconst hasLoadedNamespace = instance.hasLoadedNamespace;\nconst loadNamespaces = instance.loadNamespaces;\nconst loadLanguages = instance.loadLanguages;\n\nexport { changeLanguage, createInstance, instance as default, dir, exists, getFixedT, hasLoadedNamespace, init, keysFromSelector as keyFromSelector, loadLanguages, loadNamespaces, loadResources, reloadResources, setDefaultNamespace, t, use };\n","const {\n  slice,\n  forEach\n} = [];\nfunction defaults(obj) {\n  forEach.call(slice.call(arguments, 1), source => {\n    if (source) {\n      for (const prop in source) {\n        if (obj[prop] === undefined) obj[prop] = source[prop];\n      }\n    }\n  });\n  return obj;\n}\nfunction hasXSS(input) {\n  if (typeof input !== 'string') return false;\n\n  // Common XSS attack patterns\n  const xssPatterns = [/<\\s*script.*?>/i, /<\\s*\\/\\s*script\\s*>/i, /<\\s*img.*?on\\w+\\s*=/i, /<\\s*\\w+\\s*on\\w+\\s*=.*?>/i, /javascript\\s*:/i, /vbscript\\s*:/i, /expression\\s*\\(/i, /eval\\s*\\(/i, /alert\\s*\\(/i, /document\\.cookie/i, /document\\.write\\s*\\(/i, /window\\.location/i, /innerHTML/i];\n  return xssPatterns.some(pattern => pattern.test(input));\n}\n\n// eslint-disable-next-line no-control-regex\nconst fieldContentRegExp = /^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/;\nconst serializeCookie = function (name, val) {\n  let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {\n    path: '/'\n  };\n  const opt = options;\n  const value = encodeURIComponent(val);\n  let str = `${name}=${value}`;\n  if (opt.maxAge > 0) {\n    const maxAge = opt.maxAge - 0;\n    if (Number.isNaN(maxAge)) throw new Error('maxAge should be a Number');\n    str += `; Max-Age=${Math.floor(maxAge)}`;\n  }\n  if (opt.domain) {\n    if (!fieldContentRegExp.test(opt.domain)) {\n      throw new TypeError('option domain is invalid');\n    }\n    str += `; Domain=${opt.domain}`;\n  }\n  if (opt.path) {\n    if (!fieldContentRegExp.test(opt.path)) {\n      throw new TypeError('option path is invalid');\n    }\n    str += `; Path=${opt.path}`;\n  }\n  if (opt.expires) {\n    if (typeof opt.expires.toUTCString !== 'function') {\n      throw new TypeError('option expires is invalid');\n    }\n    str += `; Expires=${opt.expires.toUTCString()}`;\n  }\n  if (opt.httpOnly) str += '; HttpOnly';\n  if (opt.secure) str += '; Secure';\n  if (opt.sameSite) {\n    const sameSite = typeof opt.sameSite === 'string' ? opt.sameSite.toLowerCase() : opt.sameSite;\n    switch (sameSite) {\n      case true:\n        str += '; SameSite=Strict';\n        break;\n      case 'lax':\n        str += '; SameSite=Lax';\n        break;\n      case 'strict':\n        str += '; SameSite=Strict';\n        break;\n      case 'none':\n        str += '; SameSite=None';\n        break;\n      default:\n        throw new TypeError('option sameSite is invalid');\n    }\n  }\n  if (opt.partitioned) str += '; Partitioned';\n  return str;\n};\nconst cookie = {\n  create(name, value, minutes, domain) {\n    let cookieOptions = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {\n      path: '/',\n      sameSite: 'strict'\n    };\n    if (minutes) {\n      cookieOptions.expires = new Date();\n      cookieOptions.expires.setTime(cookieOptions.expires.getTime() + minutes * 60 * 1000);\n    }\n    if (domain) cookieOptions.domain = domain;\n    document.cookie = serializeCookie(name, value, cookieOptions);\n  },\n  read(name) {\n    const nameEQ = `${name}=`;\n    const ca = document.cookie.split(';');\n    for (let i = 0; i < ca.length; i++) {\n      let c = ca[i];\n      while (c.charAt(0) === ' ') c = c.substring(1, c.length);\n      if (c.indexOf(nameEQ) === 0) return c.substring(nameEQ.length, c.length);\n    }\n    return null;\n  },\n  remove(name, domain) {\n    this.create(name, '', -1, domain);\n  }\n};\nvar cookie$1 = {\n  name: 'cookie',\n  // Deconstruct the options object and extract the lookupCookie property\n  lookup(_ref) {\n    let {\n      lookupCookie\n    } = _ref;\n    if (lookupCookie && typeof document !== 'undefined') {\n      return cookie.read(lookupCookie) || undefined;\n    }\n    return undefined;\n  },\n  // Deconstruct the options object and extract the lookupCookie, cookieMinutes, cookieDomain, and cookieOptions properties\n  cacheUserLanguage(lng, _ref2) {\n    let {\n      lookupCookie,\n      cookieMinutes,\n      cookieDomain,\n      cookieOptions\n    } = _ref2;\n    if (lookupCookie && typeof document !== 'undefined') {\n      cookie.create(lookupCookie, lng, cookieMinutes, cookieDomain, cookieOptions);\n    }\n  }\n};\n\nvar querystring = {\n  name: 'querystring',\n  // Deconstruct the options object and extract the lookupQuerystring property\n  lookup(_ref) {\n    let {\n      lookupQuerystring\n    } = _ref;\n    let found;\n    if (typeof window !== 'undefined') {\n      let {\n        search\n      } = window.location;\n      if (!window.location.search && window.location.hash?.indexOf('?') > -1) {\n        search = window.location.hash.substring(window.location.hash.indexOf('?'));\n      }\n      const query = search.substring(1);\n      const params = query.split('&');\n      for (let i = 0; i < params.length; i++) {\n        const pos = params[i].indexOf('=');\n        if (pos > 0) {\n          const key = params[i].substring(0, pos);\n          if (key === lookupQuerystring) {\n            found = params[i].substring(pos + 1);\n          }\n        }\n      }\n    }\n    return found;\n  }\n};\n\nvar hash = {\n  name: 'hash',\n  // Deconstruct the options object and extract the lookupHash property and the lookupFromHashIndex property\n  lookup(_ref) {\n    let {\n      lookupHash,\n      lookupFromHashIndex\n    } = _ref;\n    let found;\n    if (typeof window !== 'undefined') {\n      const {\n        hash\n      } = window.location;\n      if (hash && hash.length > 2) {\n        const query = hash.substring(1);\n        if (lookupHash) {\n          const params = query.split('&');\n          for (let i = 0; i < params.length; i++) {\n            const pos = params[i].indexOf('=');\n            if (pos > 0) {\n              const key = params[i].substring(0, pos);\n              if (key === lookupHash) {\n                found = params[i].substring(pos + 1);\n              }\n            }\n          }\n        }\n        if (found) return found;\n        if (!found && lookupFromHashIndex > -1) {\n          const language = hash.match(/\\/([a-zA-Z-]*)/g);\n          if (!Array.isArray(language)) return undefined;\n          const index = typeof lookupFromHashIndex === 'number' ? lookupFromHashIndex : 0;\n          return language[index]?.replace('/', '');\n        }\n      }\n    }\n    return found;\n  }\n};\n\nlet hasLocalStorageSupport = null;\nconst localStorageAvailable = () => {\n  if (hasLocalStorageSupport !== null) return hasLocalStorageSupport;\n  try {\n    hasLocalStorageSupport = typeof window !== 'undefined' && window.localStorage !== null;\n    if (!hasLocalStorageSupport) {\n      return false;\n    }\n    const testKey = 'i18next.translate.boo';\n    window.localStorage.setItem(testKey, 'foo');\n    window.localStorage.removeItem(testKey);\n  } catch (e) {\n    hasLocalStorageSupport = false;\n  }\n  return hasLocalStorageSupport;\n};\nvar localStorage = {\n  name: 'localStorage',\n  // Deconstruct the options object and extract the lookupLocalStorage property\n  lookup(_ref) {\n    let {\n      lookupLocalStorage\n    } = _ref;\n    if (lookupLocalStorage && localStorageAvailable()) {\n      return window.localStorage.getItem(lookupLocalStorage) || undefined; // Undefined ensures type consistency with the previous version of this function\n    }\n    return undefined;\n  },\n  // Deconstruct the options object and extract the lookupLocalStorage property\n  cacheUserLanguage(lng, _ref2) {\n    let {\n      lookupLocalStorage\n    } = _ref2;\n    if (lookupLocalStorage && localStorageAvailable()) {\n      window.localStorage.setItem(lookupLocalStorage, lng);\n    }\n  }\n};\n\nlet hasSessionStorageSupport = null;\nconst sessionStorageAvailable = () => {\n  if (hasSessionStorageSupport !== null) return hasSessionStorageSupport;\n  try {\n    hasSessionStorageSupport = typeof window !== 'undefined' && window.sessionStorage !== null;\n    if (!hasSessionStorageSupport) {\n      return false;\n    }\n    const testKey = 'i18next.translate.boo';\n    window.sessionStorage.setItem(testKey, 'foo');\n    window.sessionStorage.removeItem(testKey);\n  } catch (e) {\n    hasSessionStorageSupport = false;\n  }\n  return hasSessionStorageSupport;\n};\nvar sessionStorage = {\n  name: 'sessionStorage',\n  lookup(_ref) {\n    let {\n      lookupSessionStorage\n    } = _ref;\n    if (lookupSessionStorage && sessionStorageAvailable()) {\n      return window.sessionStorage.getItem(lookupSessionStorage) || undefined;\n    }\n    return undefined;\n  },\n  cacheUserLanguage(lng, _ref2) {\n    let {\n      lookupSessionStorage\n    } = _ref2;\n    if (lookupSessionStorage && sessionStorageAvailable()) {\n      window.sessionStorage.setItem(lookupSessionStorage, lng);\n    }\n  }\n};\n\nvar navigator$1 = {\n  name: 'navigator',\n  lookup(options) {\n    const found = [];\n    if (typeof navigator !== 'undefined') {\n      const {\n        languages,\n        userLanguage,\n        language\n      } = navigator;\n      if (languages) {\n        // chrome only; not an array, so can't use .push.apply instead of iterating\n        for (let i = 0; i < languages.length; i++) {\n          found.push(languages[i]);\n        }\n      }\n      if (userLanguage) {\n        found.push(userLanguage);\n      }\n      if (language) {\n        found.push(language);\n      }\n    }\n    return found.length > 0 ? found : undefined;\n  }\n};\n\nvar htmlTag = {\n  name: 'htmlTag',\n  // Deconstruct the options object and extract the htmlTag property\n  lookup(_ref) {\n    let {\n      htmlTag\n    } = _ref;\n    let found;\n    const internalHtmlTag = htmlTag || (typeof document !== 'undefined' ? document.documentElement : null);\n    if (internalHtmlTag && typeof internalHtmlTag.getAttribute === 'function') {\n      found = internalHtmlTag.getAttribute('lang');\n    }\n    return found;\n  }\n};\n\nvar path = {\n  name: 'path',\n  // Deconstruct the options object and extract the lookupFromPathIndex property\n  lookup(_ref) {\n    let {\n      lookupFromPathIndex\n    } = _ref;\n    if (typeof window === 'undefined') return undefined;\n    const language = window.location.pathname.match(/\\/([a-zA-Z-]*)/g);\n    if (!Array.isArray(language)) return undefined;\n    const index = typeof lookupFromPathIndex === 'number' ? lookupFromPathIndex : 0;\n    return language[index]?.replace('/', '');\n  }\n};\n\nvar subdomain = {\n  name: 'subdomain',\n  lookup(_ref) {\n    let {\n      lookupFromSubdomainIndex\n    } = _ref;\n    // If given get the subdomain index else 1\n    const internalLookupFromSubdomainIndex = typeof lookupFromSubdomainIndex === 'number' ? lookupFromSubdomainIndex + 1 : 1;\n    // get all matches if window.location. is existing\n    // first item of match is the match itself and the second is the first group match which should be the first subdomain match\n    // is the hostname no public domain get the or option of localhost\n    const language = typeof window !== 'undefined' && window.location?.hostname?.match(/^(\\w{2,5})\\.(([a-z0-9-]{1,63}\\.[a-z]{2,6})|localhost)/i);\n\n    // if there is no match (null) return undefined\n    if (!language) return undefined;\n    // return the given group match\n    return language[internalLookupFromSubdomainIndex];\n  }\n};\n\n// some environments, throws when accessing document.cookie\nlet canCookies = false;\ntry {\n  // eslint-disable-next-line no-unused-expressions\n  document.cookie;\n  canCookies = true;\n  // eslint-disable-next-line no-empty\n} catch (e) {}\nconst order = ['querystring', 'cookie', 'localStorage', 'sessionStorage', 'navigator', 'htmlTag'];\nif (!canCookies) order.splice(1, 1);\nconst getDefaults = () => ({\n  order,\n  lookupQuerystring: 'lng',\n  lookupCookie: 'i18next',\n  lookupLocalStorage: 'i18nextLng',\n  lookupSessionStorage: 'i18nextLng',\n  // cache user language\n  caches: ['localStorage'],\n  excludeCacheFor: ['cimode'],\n  // cookieMinutes: 10,\n  // cookieDomain: 'myDomain'\n\n  convertDetectedLanguage: l => l\n});\nclass Browser {\n  constructor(services) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    this.type = 'languageDetector';\n    this.detectors = {};\n    this.init(services, options);\n  }\n  init() {\n    let services = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n      languageUtils: {}\n    };\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let i18nOptions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    this.services = services;\n    this.options = defaults(options, this.options || {}, getDefaults());\n    if (typeof this.options.convertDetectedLanguage === 'string' && this.options.convertDetectedLanguage.indexOf('15897') > -1) {\n      this.options.convertDetectedLanguage = l => l.replace('-', '_');\n    }\n\n    // backwards compatibility\n    if (this.options.lookupFromUrlIndex) this.options.lookupFromPathIndex = this.options.lookupFromUrlIndex;\n    this.i18nOptions = i18nOptions;\n    this.addDetector(cookie$1);\n    this.addDetector(querystring);\n    this.addDetector(localStorage);\n    this.addDetector(sessionStorage);\n    this.addDetector(navigator$1);\n    this.addDetector(htmlTag);\n    this.addDetector(path);\n    this.addDetector(subdomain);\n    this.addDetector(hash);\n  }\n  addDetector(detector) {\n    this.detectors[detector.name] = detector;\n    return this;\n  }\n  detect() {\n    let detectionOrder = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.options.order;\n    let detected = [];\n    detectionOrder.forEach(detectorName => {\n      if (this.detectors[detectorName]) {\n        let lookup = this.detectors[detectorName].lookup(this.options);\n        if (lookup && typeof lookup === 'string') lookup = [lookup];\n        if (lookup) detected = detected.concat(lookup);\n      }\n    });\n    detected = detected.filter(d => d !== undefined && d !== null && !hasXSS(d)).map(d => this.options.convertDetectedLanguage(d));\n    if (this.services && this.services.languageUtils && this.services.languageUtils.getBestMatchFromCodes) return detected; // new i18next v19.5.0\n    return detected.length > 0 ? detected[0] : null; // a little backward compatibility\n  }\n  cacheUserLanguage(lng) {\n    let caches = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.options.caches;\n    if (!caches) return;\n    if (this.options.excludeCacheFor && this.options.excludeCacheFor.indexOf(lng) > -1) return;\n    caches.forEach(cacheName => {\n      if (this.detectors[cacheName]) this.detectors[cacheName].cacheUserLanguage(lng, this.options);\n    });\n  }\n}\nBrowser.type = 'languageDetector';\n\nexport { Browser as default };\n"],"names":["isString","obj","defer","res","rej","promise","Promise","resolve","reject","makeString","object","lastOfPathSeparatorRegExp","cleanKey","key","indexOf","replace","canNotTraverseDeeper","getLastOfPath","path","Empty","stack","split","stackIndex","length","Object","prototype","hasOwnProperty","call","k","setPath","newValue","e","p","slice","last","getPath","deepExtend","target","source","overwrite","prop","String","regexEscape","str","_entityMap","escape","data","s","chars","looksLikeObjectPathRegExpCache","constructor","capacity","this","regExpMap","Map","regExpQueue","getRegExp","pattern","regExpFromCache","get","regExpNew","RegExp","delete","shift","set","push","deepFind","keySeparator","tokens","current","i","next","nextPath","j","getCleanedCode","code","consoleLogger","type","log","args","output","warn","error","Logger","concreteLogger","options","init","prefix","logger","debug","forward","deprecate","lvl","debugOnly","create","moduleName","clone","baseLogger","EventEmitter","observers","on","events","listener","forEach","event","numListeners","off","emit","Array","from","entries","observer","numTimesAdded","apply","ResourceStore","ns","defaultNS","super","ignoreJSONStructure","addNamespaces","removeNamespaces","index","splice","getResource","lng","isArray","result","join","addResource","value","silent","concat","addResources","resources","m","addResourceBundle","deep","skipCopy","pack","JSON","parse","stringify","removeResourceBundle","hasResourceBundle","getResourceBundle","getDataByLanguage","hasLanguageSomeTranslations","keys","find","v","toJSON","postProcessor","processors","addPostProcessor","module","name","handle","translator","processor","process","PATH_KEY","Symbol","keysFromSelector","selector","opts","state","handler","proxy","revoke","Proxy","revocable","createProxy","checkedLoadedFor","shouldHandleAsObject","Translator","services","t","changeLanguage","language","exists","o","interpolation","opt","resolved","extractFromKey","nsSeparator","namespaces","wouldCheckForNsInKey","seemsNaturalLanguage","userDefinedKeySeparator","userDefinedNsSeparator","possibleChars","filter","c","r","map","matched","test","ki","substring","looksLikeObjectPath","match","interpolator","nestingRegexp","parts","translate","lastKey","overloadTranslationOptionHandler","arguments","returnDetails","namespace","appendNamespaceToCIMode","toLowerCase","usedKey","exactUsedKey","usedLng","usedNS","usedParams","getUsedParamsDetails","resUsedKey","resExactUsedKey","joinArrays","handleAsObjectInI18nFormat","i18nFormat","handleAsObject","needsPluralHandling","count","hasDefaultValue","defaultValueSuffix","pluralResolver","getSuffix","defaultValueSuffixOrdinalFallback","ordinal","needsZeroSuffixLookup","defaultValue","pluralSeparator","resForObjHndl","resType","toString","extendTranslation","usedDefault","isValidLookup","resForMissing","missingKeyNoValueFallbackToKey","updateMissing","fk","lngs","fallbackLngs","languageUtils","getFallbackCodes","fallbackLng","saveMissingTo","toResolveHierarchy","send","l","specificDefaultValue","defaultForMissing","missingKeyHandler","backendConnector","saveMissing","saveMissingPlurals","suffixes","getSuffixes","suffix","appendNamespaceToMissingKey","parseMissingKeyHandler","returnObjects","returnedObjectHandler","resTypeIsArray","copy","newKeyToUse","deepKey","defaultVariables","skipInterpolation","skipOnVariables","nestBef","nb","interpolate","na","nest","context","reset","postProcess","postProcessorNames","applyPostProcessor","postProcessPassResolved","i18nResolved","found","extracted","fallbackNS","needsContextHandling","codes","utils","hasLoadedNamespace","finalKeys","addLookupKeys","pluralSuffix","zeroSuffix","ordinalPrefix","contextKey","contextSeparator","possibleKey","pop","returnNull","returnEmptyString","resourceStore","optionsKeys","useOptionsReplaceForData","option","LanguageUtil","supportedLngs","getScriptPartFromCode","formatLanguageCode","getLanguagePartFromCode","formattedCode","Intl","getCanonicalLocales","lowerCaseLng","cleanCode","isSupportedCode","load","nonExplicitSupportedLngs","getBestMatchFromCodes","cleanedLng","lngScOnly","lngOnly","supportedLng","fallbacks","default","fallbackCode","fallbackCodes","addCode","fc","suffixesOrder","zero","one","two","few","many","other","dummyRule","select","resolvedOptions","pluralCategories","PluralResolver","pluralRulesCache","addRule","rules","clearCache","getRule","cleanedCode","cacheKey","rule","PluralRules","err","lngPart","needsPlural","getPluralFormsOfKey","sort","pluralCategory1","pluralCategory2","pluralCategory","prepend","deepFindWithDefaults","defaultData","getPathWithDefaults","regexSafe","val","Interpolator","format","escapeValue","escape$1","useRawValueToEscape","prefixEscaped","suffixEscaped","formatSeparator","unescapeSuffix","unescapePrefix","nestingPrefix","nestingPrefixEscaped","nestingSuffix","nestingSuffixEscaped","nestingOptionsSeparator","maxReplaces","alwaysFormat","resetRegExp","getOrResetRegExp","existingRegExp","lastIndex","regexp","regexpUnescape","replaces","handleFormat","interpolationkey","trim","f","missingInterpolationHandler","regex","safeValue","todo","exec","matchedVar","temp","clonedOptions","handleHasOptions","inheritedOptions","sep","optionsString","matchedSingleQuotes","matchedDoubleQuotes","formatters","keyEndIndex","lastIndexOf","elem","Boolean","reduce","createCachedFormatter","fn","cache","optForCache","formatParams","frm","createNonCachedFormatter","Formatter","cf","cacheInBuiltFormats","formats","number","formatter","NumberFormat","currency","style","datetime","DateTimeFormat","relativetime","RelativeTimeFormat","range","list","ListFormat","add","addCached","findIndex","mem","formatName","formatOptions","formatStr","optStr","rest","trimmedKey","isNaN","parseInt","parseFormatStr","formatted","valOptions","locale","Connector","backend","store","waitingReads","maxParallelReads","readingCalls","maxRetries","retryTimeout","queue","queueLoad","languages","callback","toLoad","pending","toLoadLanguages","toLoadNamespaces","hasAllNamespaces","reload","pendingCount","loaded","errors","q","pushPath","removePending","done","loadedKeys","n","read","fcName","tried","wait","resolver","setTimeout","bind","then","catch","prepareLoading","loadOne","fallbackValue","isUpdate","clb","initAsync","preload","simplifyPluralSuffix","partialBundledLanguages","ret","tDescription","transformOptions","initImmediate","noop","I18n","inst","modules","external","getOwnPropertyNames","getPrototypeOf","isInitialized","isClone","isInitializing","defOpts","createClassOnDemand","ClassOrObject","lu","languageDetector","detection","deferred","finish","initializedStoreOnce","loadResources","usedCallback","append","resolvedLanguage","setResolvedLanguage","reloadResources","use","Error","li","lngInLngs","unshift","isLanguageChangingTo","setLngProps","setLng","fl","cacheUserLanguage","async","detect","getFixedT","keyPrefix","fixedT","resultKey","setDefaultNamespace","lastLng","loadNotPending","loadState","precheck","preResult","loadNamespaces","loadLanguages","preloaded","newLngs","dir","Locale","getTextInfo","ti","direction","createInstance","cloneInstance","forkResourceStore","mergedOptions","clonedData","prev","acc","instance","fieldContentRegExp","cookie","minutes","domain","cookieOptions","sameSite","expires","Date","setTime","getTime","document","encodeURIComponent","maxAge","Number","Math","floor","TypeError","toUTCString","httpOnly","secure","partitioned","serializeCookie","nameEQ","ca","charAt","remove","cookie$1","lookup","_ref","lookupCookie","_ref2","cookieMinutes","cookieDomain","querystring","lookupQuerystring","window","search","location","hash","params","pos","lookupHash","lookupFromHashIndex","query","hasLocalStorageSupport","localStorageAvailable","localStorage","testKey","setItem","removeItem","lookupLocalStorage","getItem","hasSessionStorageSupport","sessionStorageAvailable","sessionStorage","lookupSessionStorage","navigator$1","navigator","userLanguage","htmlTag","internalHtmlTag","documentElement","getAttribute","lookupFromPathIndex","pathname","subdomain","lookupFromSubdomainIndex","internalLookupFromSubdomainIndex","hostname","canCookies","order","Browser","detectors","i18nOptions","defaults","caches","excludeCacheFor","convertDetectedLanguage","lookupFromUrlIndex","addDetector","detector","detectionOrder","detected","detectorName","d","input","some","cacheName"],"mappings":"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","x_google_ignoreList":[0,1]}