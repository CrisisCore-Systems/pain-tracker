const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ClinicalPDFExportButton-BN9YkRxz.js","assets/pdf-vendor-zZbfvrDE.js","assets/react-vendor-CM2d6bHp.js","assets/chart-vendor-C6dKBweC.js","assets/state-vendor-gOFTyJpA.js","assets/icons-vendor-DZ-9b690.js","assets/index-B7vNx0HN.js","assets/date-vendor-Bi3xipBn.js","assets/i18n-vendor-C-xkjauL.js","assets/index-iKc8ibUR.css","assets/DataExportModal-B3LymzLl.js","assets/Modal-BKX6t8zP.js","assets/export-DtTr256z.js"])))=>i.map(i=>d[i]);
import{_ as e}from"./pdf-vendor-zZbfvrDE.js";import{r as s,j as a,R as r}from"./react-vendor-CM2d6bHp.js";import{k as t,l as i,C as n,c as o,m as c,n as m,e as l,o as u,q as d,I as p,B as N,r as b,t as y,h}from"./index-B7vNx0HN.js";import{i as x,e as v,ar as D,a as k,g as f,as as j,at as g,au as P,p as C,T as E,r as V,q as U,av as A,aw as w,l as T,R as M,Q as S,A as $,aj as W,D as F,ax as L,a8 as I,d as R,ag as O,a2 as z,Z as q,t as _,h as B,a1 as Q,F as Y,ay as H,az as K,aA as G,aB as J,a6 as Z,O as X}from"./icons-vendor-DZ-9b690.js";import"./chart-vendor-C6dKBweC.js";import"./state-vendor-gOFTyJpA.js";import"./date-vendor-Bi3xipBn.js";import"./i18n-vendor-C-xkjauL.js";class ee{positiveKeywords=["better","improved","good","great","healing","progress","relief","comfortable","manageable","hopeful","grateful","thankful","blessed","stronger","resilient","capable","empowered","peaceful","calm"];negativeKeywords=["pain","hurt","suffering","agony","terrible","awful","unbearable","frustrated","angry","sad","depressed","anxious","worried","scared","overwhelmed","exhausted","defeated","hopeless","alone","isolated"];neutralKeywords=["same","unchanged","stable","managing","coping","continuing","routine","regular","normal","usual","consistent","steady"];triggerKeywords=["flare","spike","increase","worse","worsening","setback","episode","attack","breakthrough","sudden","intense","severe"];analyzeText(e){const s=e.toLowerCase().split(/\s+/),a=s.filter(e=>this.positiveKeywords.some(s=>e.includes(s))).length,r=s.filter(e=>this.negativeKeywords.some(s=>e.includes(s))).length,t=s.filter(e=>this.neutralKeywords.some(s=>e.includes(s))).length,i=s.filter(e=>this.triggerKeywords.some(s=>e.includes(s))).length;let n="neutral";a>r&&a>0?n="positive":r>a&&r>0?n="negative":a>0&&r>0&&(n="mixed");const o=["very","extremely","incredibly","really","so","quite"],c=s.filter(e=>o.includes(e)).length;let m="low";i>0||c>2?m="high":(c>0||r>1)&&(m="medium");const l=Math.min((a+r+t)/Math.max(s.length/4,1),1);return{valence:n,arousal:m,keywords:s.filter(e=>this.positiveKeywords.concat(this.negativeKeywords,this.neutralKeywords).some(s=>e.includes(s))),confidence:l,triggers:i>0?s.filter(e=>this.triggerKeywords.some(s=>e.includes(s))):void 0}}}class se{supportiveMessages=["I hear that you're going through a challenging time. Your experience is valid and important.","Thank you for sharing what you're experiencing. It takes courage to track difficult moments.","Your pain matters, and so do you. Taking time to document this shows incredible strength.","I acknowledge how hard this must be for you right now. You're not alone in this journey.","Your feelings about this experience are completely understandable and valid."];emphaticMessages=["That sounds really difficult. I want you to know that your struggle is seen and recognized.","I can sense this is a tough moment for you. Please be gentle with yourself.","What you're experiencing sounds overwhelming. You're doing the best you can.","This sounds like a particularly hard day. Remember that difficult days don't last forever.","I hear the pain in your words. Your resilience in tracking this is remarkable."];celebratoryMessages=["This sounds like positive progress! It's wonderful to hear things are improving for you.","What encouraging news! Every step forward, no matter how small, is worth celebrating.","I'm so glad to hear you're experiencing some relief. You deserve these better moments.","This improvement is a testament to your strength and perseverance. Well done!","It's beautiful to see progress in your healing journey. Keep nurturing yourself."];gentleMessages=["Thank you for taking the time to track your experience. Every entry helps build understanding.","I appreciate you sharing this with me. Your consistency in tracking is admirable.","This information helps create a clearer picture of your journey. Thank you for your openness.","Each entry you make is a step toward better understanding your patterns. Well done.","Your commitment to tracking your experience shows real dedication to your wellbeing."];generate(e){let s,a,r,t,i;switch(e.valence){case"positive":s=this.celebratoryMessages,a="celebratory",r=f,t="text-yellow-600 bg-yellow-50 border-yellow-200",i="Would you like to note what contributed to this positive experience?";break;case"negative":"high"===e.arousal?(s=this.emphaticMessages,a="empathetic",r=D,t="text-blue-600 bg-blue-50 border-blue-200",i="Remember, you have support available. Would you like to review your comfort resources?"):(s=this.supportiveMessages,a="supportive",r=k,t="text-pink-600 bg-pink-50 border-pink-200",i="Taking care of yourself during difficult times is so important.");break;case"mixed":s=this.gentleMessages,a="gentle",r=v,t="text-purple-600 bg-purple-50 border-purple-200",i="Complex experiences deserve gentle acknowledgment.";break;default:s=this.gentleMessages,a="gentle",r=x,t="text-green-600 bg-green-50 border-green-200"}return{id:`validation-${Date.now()}`,message:s[Math.floor(Math.random()*s.length)],tone:a,icon:r,color:t,followUp:i,timestamp:new Date}}}function ae({text:e,onValidationGenerated:r,isActive:i=!0,delay:n=2e3}){const{preferences:o}=t(),[c,m]=s.useState(null),[l,u]=s.useState(!1),d=s.useRef(new ee),p=s.useRef(new se),N=s.useRef(),b=s.useCallback(e=>{if(!e.trim()||e.length<10)return;const s=d.current.analyzeText(e);if(s.confidence<.2)return;const a=p.current.generate(s);m(a),u(!0),r?.(a),"negative"===s.valence&&"high"===s.arousal||setTimeout(()=>u(!1),1e4)},[r]);if(s.useEffect(()=>{if(i&&o.realTimeValidation)return N.current&&clearTimeout(N.current),N.current=setTimeout(()=>{b(e)},n),()=>{N.current&&clearTimeout(N.current)}},[e,i,n,b,o.realTimeValidation]),!o.realTimeValidation||!c||!l)return null;const y=c.icon;return a.jsxDEV("div",{className:`\n        mt-3 p-4 rounded-lg border transition-all duration-300 ease-in-out\n        ${c.color}\n        ${l?"opacity-100 transform translate-y-0":"opacity-0 transform translate-y-2"}\n      `,role:"alert","aria-live":"polite",children:a.jsxDEV("div",{className:"flex items-start space-x-3",children:[a.jsxDEV(y,{className:"w-5 h-5 mt-0.5 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/services/EmotionalValidationService.tsx",lineNumber:332,columnNumber:9},this),a.jsxDEV("div",{className:"flex-1",children:[a.jsxDEV("p",{className:"text-sm font-medium mb-1",children:c.message},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/services/EmotionalValidationService.tsx",lineNumber:334,columnNumber:11},this),c.followUp&&a.jsxDEV("p",{className:"text-xs opacity-75",children:c.followUp},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/services/EmotionalValidationService.tsx",lineNumber:336,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/services/EmotionalValidationService.tsx",lineNumber:333,columnNumber:9},this),a.jsxDEV("button",{onClick:()=>u(!1),className:"text-xs opacity-50 hover:opacity-75 transition-opacity","aria-label":"Dismiss validation message",children:"âœ•"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/services/EmotionalValidationService.tsx",lineNumber:339,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/services/EmotionalValidationService.tsx",lineNumber:331,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/services/EmotionalValidationService.tsx",lineNumber:322,columnNumber:5},this)}function re({validations:e,onClear:s}){const{preferences:r}=t();return r.realTimeValidation&&0!==e.length?a.jsxDEV("div",{className:"space-y-2",children:[a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Recent Validation Messages"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/services/EmotionalValidationService.tsx",lineNumber:367,columnNumber:9},this),s&&a.jsxDEV("button",{onClick:s,className:"text-xs text-gray-500 hover:text-gray-700 dark:text-gray-300",children:"Clear History"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/services/EmotionalValidationService.tsx",lineNumber:371,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/services/EmotionalValidationService.tsx",lineNumber:366,columnNumber:7},this),a.jsxDEV("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:e.slice(-5).reverse().map(e=>{const s=e.icon;return a.jsxDEV("div",{className:`p-2 rounded text-xs border ${e.color}`,children:a.jsxDEV("div",{className:"flex items-start space-x-2",children:[a.jsxDEV(s,{className:"w-3 h-3 mt-0.5 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/services/EmotionalValidationService.tsx",lineNumber:389,columnNumber:19},this),a.jsxDEV("div",{className:"flex-1",children:[a.jsxDEV("p",{children:e.message},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/services/EmotionalValidationService.tsx",lineNumber:391,columnNumber:21},this),a.jsxDEV("p",{className:"text-xs opacity-50 mt-1",children:e.timestamp.toLocaleTimeString()},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/services/EmotionalValidationService.tsx",lineNumber:392,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/services/EmotionalValidationService.tsx",lineNumber:390,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/services/EmotionalValidationService.tsx",lineNumber:388,columnNumber:17},this)},e.id,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/services/EmotionalValidationService.tsx",lineNumber:387,columnNumber:15},this)})},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/services/EmotionalValidationService.tsx",lineNumber:380,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/services/EmotionalValidationService.tsx",lineNumber:365,columnNumber:5},this):null}const te={minEntriesForTrend:7,minSupportForCorrelation:8,minConfidenceForDisplay:.6,episodePainThreshold:6,episodeMinLengthDays:2,baselineWindowDays:30,enableLaggedCorrelations:!0,maxLagDays:3,enableQoLDissonance:!0};function ie(e,s={}){const a={...te,...s},r=function(e){return e.filter(e=>{const s=e.baselineData?.pain;if(null==s||s<0||s>10)return!1;try{const s=new Date(e.timestamp);if(isNaN(s.getTime()))return!1}catch{return!1}return!0}).sort((e,s)=>new Date(e.timestamp).getTime()-new Date(s.timestamp).getTime())}(e),t=function(e,s=30){if(0===e.length)return{value:0,method:"median",confidence:"low",windowDays:0,entryCount:0};const a=Date.now(),r=24*s*60*60*1e3,t=e.filter(e=>a-new Date(e.timestamp).getTime()<=r),i=t.length>=7?t:e,n=[...i.map(e=>e.baselineData.pain)].sort((e,s)=>e-s),o=n.length%2==0?(n[n.length/2-1]+n[n.length/2])/2:n[Math.floor(n.length/2)],c=i.length>=30?"high":i.length>=14?"medium":"low";return{value:o,method:"median",confidence:c,windowDays:i===t?s:e.length,entryCount:i.length}}(r,a.baselineWindowDays),i=function(e){if(0===e.length)return[];const s=new Map;return e.forEach(e=>{const a=new Date(e.timestamp),r=`${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}-${String(a.getDate()).padStart(2,"0")}`;s.has(r)||s.set(r,{values:[],count:0});const t=s.get(r);t.values.push(e.baselineData.pain),t.count++}),Array.from(s.entries()).map(([e,s])=>{const a=[...s.values].sort((e,s)=>e-s),r=s.values.reduce((e,s)=>e+s,0)/s.count,t=s.values.reduce((e,s)=>e+Math.pow(s-r,2),0)/s.count,i=Math.sqrt(t);return{date:e,value:r,count:s.count,range:[a[0],a[a.length-1]],stdDev:i}}).sort((e,s)=>e.date.localeCompare(s.date))}(r),n=function(e){if(e.length<7)return[];const s=[],a=7;for(let r=a-1;r<e.length;r++){const t=e.slice(r-a+1,r+1),i=t.map(e=>e.value),n=i.reduce((e,s)=>e+s,0)/i.length,o=t.reduce((e,s)=>e+s.count,0),c=Math.min(...i),m=Math.max(...i);s.push({date:e[r].date,value:n,count:o,range:[c,m]})}return s}(i),o=function(e,s,a){if(0===e.length)return[];const r=[];let t=null;const i=Math.max(a.episodePainThreshold,s.value+2);for(let n=0;n<e.length;n++){const o=e[n];if(o.value>=i)t?t.points.push(o):t={start:o.date,points:[o]};else{if(t&&t.points.length>=a.episodeMinLengthDays){const a=t.points,i=a.map(e=>e.value),o=i.reduce((e,s)=>e+s,0)/i.length,c=Math.max(...i);let m=null;const l=new Date(a[a.length-1].date);for(let r=n;r<e.length;r++){const a=e[r],t=new Date(a.date);if(a.value<s.value){m=Math.floor((t.getTime()-l.getTime())/864e5);break}}const u=c>=8?"severe":c>=6?"moderate":"mild";r.push({id:`episode-${t.start}`,start:t.start,end:a[a.length-1].date,peakPain:Math.min(10,Math.round(c)),avgPain:Number(o.toFixed(1)),entryCount:a.reduce((e,s)=>e+s.count,0),recoveryDays:m,durationDays:a.length,severity:u,associatedTriggers:[],associatedLocations:[]})}t=null}}if(t&&t.points.length>=a.episodeMinLengthDays){const e=t.points,s=e.map(e=>e.value),a=s.reduce((e,s)=>e+s,0)/s.length,i=Math.max(...s),n=i>=8?"severe":i>=6?"moderate":"mild";r.push({id:`episode-${t.start}`,start:t.start,end:e[e.length-1].date,peakPain:Math.min(10,Math.round(i)),avgPain:Number(a.toFixed(1)),entryCount:e.reduce((e,s)=>e+s.count,0),recoveryDays:null,durationDays:e.length,severity:n,associatedTriggers:[],associatedLocations:[]})}return r}(i,t,a),c=function(e,s,a){return ne(e,s,a,e=>e.triggers||[])}(r,t,a),m=function(e,s,a){return ne(e,s,a,e=>e.baselineData.symptoms||[])}(r,t,a),l=function(e,s,a){const r=e.map(e=>e.medications?.current?.map(e=>e.name)||[]);return ne(e,s,a,(e,s)=>r[s]||[])}(r,t,a),u=function(e,s,a){return ne(e,s,a,e=>e.baselineData.locations||[])}(r,t,a),d=function(e,s){const a=[],r=new Map;return e.forEach(e=>{const s=e.triggers||[];if(!(s.length<2))for(let a=0;a<s.length;a++)for(let t=a+1;t<s.length;t++){const i=[s[a],s[t]].sort().join("|");r.has(i)||r.set(i,{count:0,totalDelta:0,baseline:0});const n=r.get(i);n.count++,n.totalDelta+=e.baselineData.pain}}),r.forEach((r,t)=>{if(r.count>=Math.max(3,s.minSupportForCorrelation/2)){const s=t.split("|"),i=r.totalDelta/r.count,n=oe(i,r.count/e.length);"none"!==n&&a.push({id:`bundle-${t}`,triggers:s,combinedDelta:Number(i.toFixed(2)),coOccurrence:r.count,strength:n})}}),a.sort((e,s)=>Math.abs(s.combinedDelta)-Math.abs(e.combinedDelta))}(r,a),p=function(e,s,a){const r=[],t=me(e,s,a,"sleep",e=>e.qualityOfLife?.sleepQuality,{goodThreshold:7,poorThreshold:3});t&&r.push(t);const i=me(e,s,a,"mood",e=>e.qualityOfLife?.moodImpact,{goodThreshold:3,poorThreshold:-2});i&&r.push(i);const n=me(e,s,a,"activity",e=>e.activityLevel,{goodThreshold:7,poorThreshold:3});n&&r.push(n);return r}(r,t,a),N=a.enableQoLDissonance?function(e,s){const a=[];if(e.length<14||s.length<7)return a;const r=s.slice(-7),t=s.slice(-14,-7),i=r.reduce((e,s)=>e+s.value,0)/r.length,n=t.reduce((e,s)=>e+s.value,0)/t.length,o=i-n;let c;c=o<-.5?"improving":o>.5?"worsening":"stable";const m=e.slice(-7),l=e.slice(-14,-7),u=m.map(e=>e.qualityOfLife?.sleepQuality).filter(e=>void 0!==e),d=l.map(e=>e.qualityOfLife?.sleepQuality).filter(e=>void 0!==e);if(u.length>=3&&d.length>=3){const e=u.reduce((e,s)=>e+s,0)/u.length-d.reduce((e,s)=>e+s,0)/d.length;"stable"===c&&e<-1.5&&a.push({type:"pain_stable_qol_declining",description:`Pain levels holding steady, but sleep quality declined by ${Math.abs(e).toFixed(1)} points in the past week.`,painTrend:"stable",qolTrend:"declining",affectedMetrics:["sleep"],severity:Math.abs(e)>2.5?"high":"medium",recommendation:"Consider discussing sleep interventions with care team, as poor sleep may predict future pain increases."})}return a}(r,i):[];return{cleanedEntries:r,dailyTrend:i,weeklyTrend:n,episodes:o,triggerCorrelations:c,symptomCorrelations:m,medicationCorrelations:l,locationCorrelations:u,triggerBundles:d,qolPatterns:p,qolDissonances:N,meta:{dataWindow:{start:r[0]?.timestamp||(new Date).toISOString(),end:r[r.length-1]?.timestamp||(new Date).toISOString()},entryCount:r.length,dataQuality:le(r,a),cautions:ue(r,a),generatedAt:(new Date).toISOString()},config:a}}function ne(e,s,a,r){const t=new Map;e.forEach((e,s)=>{const a=r(e,s),i=e.baselineData.pain;a.forEach(e=>{t.has(e)||t.set(e,{withItem:[],withoutItem:[]}),t.get(e).withItem.push(i)}),t.forEach((e,s)=>{a.includes(s)||e.withoutItem.push(i)})});const i=[];return t.forEach((e,r)=>{const t=e.withItem.length;if(t<a.minSupportForCorrelation)return;const n=e.withItem.reduce((e,s)=>e+s,0)/e.withItem.length,o=e.withoutItem.length>0?e.withoutItem.reduce((e,s)=>e+s,0)/e.withoutItem.length:s.value,c=n-o,m=e.withItem.filter(e=>e>s.value).length/e.withItem.length,l=e.withItem.reduce((e,s)=>e+Math.pow(s-n,2),0)/e.withItem.length,u=Math.max(0,1-l/10),d=oe(c,m),p=c>.3?"increases":c<-.3?"decreases":"neutral";"none"!==d&&m>=a.minConfidenceForDisplay&&i.push({key:r,label:ce(r),deltaPain:Number(c.toFixed(2)),support:t,confidence:Number(m.toFixed(2)),strength:d,direction:p,stabilityScore:Number(u.toFixed(2))})}),i.sort((e,s)=>Math.abs(s.deltaPain)-Math.abs(e.deltaPain))}function oe(e,s){return s<.5||Math.abs(e)<.3?"none":Math.abs(e)<.7?"weak":Math.abs(e)<1.5?"moderate":"strong"}function ce(e){return e.split(/[-_\s]+/).map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" ")}function me(e,s,a,r,t,i,n=!1){const o=[],c=[];let m=0;if(e.forEach(e=>{const s=t(e);if(null==s)return;m++;const a=e.baselineData.pain;n?(s<=i.goodThreshold&&o.push(a),s>=i.poorThreshold&&c.push(a)):(s>=i.goodThreshold&&o.push(a),s<=i.poorThreshold&&c.push(a))}),m<a.minSupportForCorrelation)return null;if(o.length<3&&c.length<3)return null;const l=(o.length>0?o.reduce((e,s)=>e+s,0)/o.length:s.value)-(c.length>0?c.reduce((e,s)=>e+s,0)/c.length:s.value),u=o.length+c.length,d=u>=20?"high":u>=10?"medium":"low",p=oe(l,u/m);if("none"===p)return null;const N=function(e,s,a,r){const t=s<0?"lower":"higher",i=Math.abs(s).toFixed(1);if(r)return`When ${e} is low (â‰¤${a.goodThreshold}), pain averages ${i} points ${t}.`;return`When ${e} is good (â‰¥${a.goodThreshold}), pain averages ${i} points ${t}.`}(r,l,i,n);return{id:`qol-${r}`,description:N,metric:r,correlation:p,evidenceCount:u,delta:Number(l.toFixed(2)),confidence:d,condition:n?`When ${r} â‰¤ ${i.goodThreshold}`:`When ${r} â‰¥ ${i.goodThreshold}`}}function le(e,s){return e.length>=60?"high":e.length>=3*s.minEntriesForTrend?"medium":"low"}function ue(e,s){const a=[];e.length<s.minEntriesForTrend&&a.push(`Low sample size (${e.length} entries). Add more entries for reliable trends.`),e.length<s.minSupportForCorrelation&&a.push("Not enough data for correlation analysis. Keep logging triggers and symptoms.");return e.some(e=>void 0!==e.qualityOfLife?.sleepQuality||void 0!==e.qualityOfLife?.moodImpact||void 0!==e.activityLevel)||a.push("Quality of Life data missing. Log sleep, mood, and activity for richer insights."),a}function de(e){return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}function pe(e){const s=new Map;for(const a of e){const e=new Date(a.timestamp);if(Number.isNaN(e.getTime()))continue;const r=de(e),t=Number(a.baselineData?.pain??0),i=s.get(r)??{sum:0,count:0};i.sum+=t,i.count+=1,s.set(r,i)}return Array.from(s.entries()).map(([e,s])=>({date:e,avgPain:s.count>0?s.sum/s.count:0,entryCount:s.count})).sort((e,s)=>e.date.localeCompare(s.date))}const Ne=["tingling","numbness","burning","radiating"];function be({entries:e,period:s}){const r=(s?e.filter(e=>{const a=new Date(e.timestamp);return a>=new Date(s.start)&&a<=new Date(s.end)}):e).reduce((e,s)=>((s.baselineData.symptoms||[]).filter(e=>Ne.includes(e)).forEach(a=>{e[a]||(e[a]={count:0,locations:new Set,painLevels:[]}),e[a].count+=1,e[a].painLevels.push(s.baselineData.pain),(s.baselineData.locations||[]).forEach(s=>e[a].locations.add(s))}),e),{}),t=Object.entries(r).map(([e,s])=>({symptom:e,frequency:s.count,averagePain:s.painLevels.reduce((e,s)=>e+s,0)/s.painLevels.length,locations:Array.from(s.locations)})).sort((e,s)=>s.frequency-e.frequency);return a.jsxDEV("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[a.jsxDEV("h3",{className:"text-lg font-semibold mb-4",children:"Nerve Symptoms Analysis"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pain-tracker/NerveSymptoms.tsx",lineNumber:67,columnNumber:7},this),a.jsxDEV("div",{className:"space-y-6",children:[t.map(e=>a.jsxDEV("div",{className:"bg-gray-50 dark:bg-gray-900 p-4 rounded-lg",children:[a.jsxDEV("div",{className:"flex justify-between items-start mb-2",children:[a.jsxDEV("div",{children:[a.jsxDEV("h4",{className:"font-medium capitalize",children:e.symptom},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pain-tracker/NerveSymptoms.tsx",lineNumber:74,columnNumber:17},this),a.jsxDEV("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Reported ",e.frequency," times"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pain-tracker/NerveSymptoms.tsx",lineNumber:75,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pain-tracker/NerveSymptoms.tsx",lineNumber:73,columnNumber:15},this),a.jsxDEV("div",{className:"text-right",children:a.jsxDEV("div",{className:"font-medium",children:["Avg. Pain: ",i(e.averagePain,1)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pain-tracker/NerveSymptoms.tsx",lineNumber:80,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pain-tracker/NerveSymptoms.tsx",lineNumber:79,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pain-tracker/NerveSymptoms.tsx",lineNumber:72,columnNumber:13},this),e.locations.length>0&&a.jsxDEV("div",{className:"mt-2",children:[a.jsxDEV("h5",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Affected Areas:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pain-tracker/NerveSymptoms.tsx",lineNumber:86,columnNumber:17},this),a.jsxDEV("div",{className:"flex flex-wrap gap-2 mt-1",children:e.locations.map(e=>a.jsxDEV("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 text-sm rounded-full",children:e},e,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pain-tracker/NerveSymptoms.tsx",lineNumber:91,columnNumber:21},this))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pain-tracker/NerveSymptoms.tsx",lineNumber:89,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pain-tracker/NerveSymptoms.tsx",lineNumber:85,columnNumber:15},this)]},e.symptom,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pain-tracker/NerveSymptoms.tsx",lineNumber:71,columnNumber:11},this)),0===t.length&&a.jsxDEV("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:"No nerve symptoms recorded in this period."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pain-tracker/NerveSymptoms.tsx",lineNumber:105,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pain-tracker/NerveSymptoms.tsx",lineNumber:69,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pain-tracker/NerveSymptoms.tsx",lineNumber:66,columnNumber:5},this)}function ye({entries:e,period:s}){const r=(s?e.filter(e=>{const a=new Date(e.timestamp);return a>=new Date(s.start)&&a<=new Date(s.end)}):e).reduce((e,s)=>(s.functionalImpact?.limitedActivities?.forEach(a=>{e[a]||(e[a]={count:0,painLevels:[],assistanceNeeded:new Set,mobilityAids:new Set}),e[a].count+=1,e[a].painLevels.push(s.baselineData.pain),s.functionalImpact?.assistanceNeeded?.forEach(s=>e[a].assistanceNeeded.add(s)),s.functionalImpact?.mobilityAids?.forEach(s=>e[a].mobilityAids.add(s))}),e),{}),t=Object.entries(r).map(([e,s])=>({activity:e,frequency:s.count,averagePain:s.painLevels.reduce((e,s)=>e+s,0)/s.painLevels.length,assistanceNeeded:Array.from(s.assistanceNeeded),mobilityAids:Array.from(s.mobilityAids)})).sort((e,s)=>s.frequency-e.frequency);return a.jsxDEV("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[a.jsxDEV("h3",{className:"text-lg font-semibold mb-4",children:"Functional Limitations Analysis"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pain-tracker/FunctionalLimitations.tsx",lineNumber:65,columnNumber:7},this),a.jsxDEV("div",{className:"space-y-6",children:[t.map(e=>a.jsxDEV("div",{className:"bg-gray-50 dark:bg-gray-900 p-4 rounded-lg",children:[a.jsxDEV("div",{className:"flex justify-between items-start mb-2",children:[a.jsxDEV("div",{children:[a.jsxDEV("h4",{className:"font-medium",children:e.activity},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pain-tracker/FunctionalLimitations.tsx",lineNumber:72,columnNumber:17},this),a.jsxDEV("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Reported ",e.frequency," times"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pain-tracker/FunctionalLimitations.tsx",lineNumber:73,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pain-tracker/FunctionalLimitations.tsx",lineNumber:71,columnNumber:15},this),a.jsxDEV("div",{className:"text-right",children:a.jsxDEV("div",{className:"font-medium",children:["Avg. Pain: ",i(e.averagePain,1)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pain-tracker/FunctionalLimitations.tsx",lineNumber:78,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pain-tracker/FunctionalLimitations.tsx",lineNumber:77,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pain-tracker/FunctionalLimitations.tsx",lineNumber:70,columnNumber:13},this),e.assistanceNeeded.length>0&&a.jsxDEV("div",{className:"mt-2",children:[a.jsxDEV("h5",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Assistance Needed:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pain-tracker/FunctionalLimitations.tsx",lineNumber:86,columnNumber:17},this),a.jsxDEV("div",{className:"flex flex-wrap gap-2 mt-1",children:e.assistanceNeeded.map(e=>a.jsxDEV("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-sm rounded-full",children:e},e,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pain-tracker/FunctionalLimitations.tsx",lineNumber:91,columnNumber:21},this))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pain-tracker/FunctionalLimitations.tsx",lineNumber:89,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pain-tracker/FunctionalLimitations.tsx",lineNumber:85,columnNumber:15},this),e.mobilityAids.length>0&&a.jsxDEV("div",{className:"mt-2",children:[a.jsxDEV("h5",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Mobility Aids Used:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pain-tracker/FunctionalLimitations.tsx",lineNumber:104,columnNumber:17},this),a.jsxDEV("div",{className:"flex flex-wrap gap-2 mt-1",children:e.mobilityAids.map(e=>a.jsxDEV("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-sm rounded-full",children:e},e,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pain-tracker/FunctionalLimitations.tsx",lineNumber:109,columnNumber:21},this))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pain-tracker/FunctionalLimitations.tsx",lineNumber:107,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pain-tracker/FunctionalLimitations.tsx",lineNumber:103,columnNumber:15},this)]},e.activity,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pain-tracker/FunctionalLimitations.tsx",lineNumber:69,columnNumber:11},this)),0===t.length&&a.jsxDEV("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:"No functional limitations recorded in this period."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pain-tracker/FunctionalLimitations.tsx",lineNumber:123,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pain-tracker/FunctionalLimitations.tsx",lineNumber:67,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pain-tracker/FunctionalLimitations.tsx",lineNumber:64,columnNumber:5},this)}function he(e){const s={isRaining:!1},a=e.match(/(-?\d+)Â°/);a&&(s.temp=parseInt(a[1],10));const r=e.match(/(\d+)%\s*humidity/i);r&&(s.humidity=parseInt(r[1],10));s.isRaining=["rain","drizzle","shower","thunderstorm","ðŸŒ§ï¸"].some(s=>e.toLowerCase().includes(s));const t=e.match(/Â°C?,?\s*([a-z\s]+?)(?:,|\d|$)/i);return t&&(s.condition=t[1].trim()),s}function xe(e){const s=Math.abs(e);return s>=2?"strong":s>=1?"moderate":s>=.5?"weak":"none"}function ve({entries:e,className:r}){const t=s.useMemo(()=>{const s=e.filter(e=>e.weather&&""!==e.weather.trim());if(s.length<3)return null;const r=s.map(e=>({...he(e.weather),pain:e.baselineData.pain,weather:e.weather})),t=e.reduce((e,s)=>e+s.baselineData.pain,0)/e.length,i=r.filter(e=>void 0!==e.temp),n=i.filter(e=>e.temp<10),o=i.filter(e=>e.temp>=10&&e.temp<25);i.filter(e=>e.temp>=25);const c=r.filter(e=>e.isRaining),m=r.filter(e=>!e.isRaining),l=r.filter(e=>void 0!==e.humidity&&e.humidity>=70),u=r.filter(e=>void 0!==e.humidity&&e.humidity<70),d=e=>e.length>0?e.reduce((e,s)=>e+s.pain,0)/e.length:0,p=[];if(n.length>=2&&o.length>=2){const e=d(n),s=d(o),r=e-s;p.push({factor:"Cold Weather",correlation:r>.3?"positive":r<-.3?"negative":"neutral",strength:xe(r),avgPainWith:e,avgPainWithout:s,sampleSize:n.length+o.length,insight:r>.5?`Cold weather increases your pain by ${r.toFixed(1)} points on average`:r<-.5?"You experience less pain in cold weather":"Temperature has minimal impact on your pain",icon:a.jsxDEV(j,{className:"h-5 w-5 text-blue-500"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/WeatherCorrelationPanel.tsx",lineNumber:144,columnNumber:15},this)})}if(c.length>=2&&m.length>=2){const e=d(c),s=d(m),r=e-s;p.push({factor:"Rain/Precipitation",correlation:r>.3?"positive":r<-.3?"negative":"neutral",strength:xe(r),avgPainWith:e,avgPainWithout:s,sampleSize:c.length+m.length,insight:r>.5?`Rainy weather increases your pain by ${r.toFixed(1)} points`:r<-.5?"You experience less pain during rainy weather":"Rain has minimal impact on your pain levels",icon:a.jsxDEV(D,{className:"h-5 w-5 text-blue-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/WeatherCorrelationPanel.tsx",lineNumber:166,columnNumber:15},this)})}if(l.length>=2&&u.length>=2){const e=d(l),s=d(u),r=e-s;p.push({factor:"High Humidity",correlation:r>.3?"positive":r<-.3?"negative":"neutral",strength:xe(r),avgPainWith:e,avgPainWithout:s,sampleSize:l.length+u.length,insight:r>.5?`High humidity increases your pain by ${r.toFixed(1)} points`:r<-.5?"You feel better in humid conditions":"Humidity has minimal impact on your pain",icon:a.jsxDEV(g,{className:"h-5 w-5 text-cyan-500"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/WeatherCorrelationPanel.tsx",lineNumber:188,columnNumber:15},this)})}const N=new Map;r.forEach(e=>{const s=e.condition||(e.isRaining?"rainy":"unknown"),a=N.get(s)||{count:0,totalPain:0};N.set(s,{count:a.count+1,totalPain:a.totalPain+e.pain})});const b=Array.from(N.entries()).map(([e,s])=>({condition:e,count:s.count,avgPain:s.totalPain/s.count,icon:ke(e)})).sort((e,s)=>s.avgPain-e.avgPain);return{totalEntries:e.length,weatherEntries:s.length,coveragePercent:Math.round(s.length/e.length*100),correlations:p,weatherStats:b,totalAvgPain:t}},[e]);return t?a.jsxDEV(n,{className:o("border-blue-200 dark:border-blue-900",r),children:[a.jsxDEV(c,{children:a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV(m,{className:"flex items-center gap-2",children:[a.jsxDEV(P,{className:"h-5 w-5 text-blue-500"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/WeatherCorrelationPanel.tsx",lineNumber:249,columnNumber:13},this),"Weather Correlations"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/WeatherCorrelationPanel.tsx",lineNumber:248,columnNumber:11},this),a.jsxDEV(u,{variant:"outline",className:"text-xs",children:[t.coveragePercent,"% of entries have weather data"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/WeatherCorrelationPanel.tsx",lineNumber:252,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/WeatherCorrelationPanel.tsx",lineNumber:247,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/WeatherCorrelationPanel.tsx",lineNumber:246,columnNumber:7},this),a.jsxDEV(l,{className:"space-y-6",children:[t.correlations.length>0&&a.jsxDEV("div",{className:"space-y-3",children:[a.jsxDEV("h4",{className:"text-sm font-medium text-muted-foreground",children:"Pain Correlations"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/WeatherCorrelationPanel.tsx",lineNumber:261,columnNumber:13},this),a.jsxDEV("div",{className:"grid gap-3",children:t.correlations.map((e,s)=>a.jsxDEV("div",{className:o("p-4 rounded-xl border","strong"===e.strength&&"positive"===e.correlation&&"bg-red-50 border-red-200 dark:bg-red-950/20 dark:border-red-900","strong"===e.strength&&"negative"===e.correlation&&"bg-green-50 border-green-200 dark:bg-green-950/20 dark:border-green-900","strong"!==e.strength&&"bg-gray-50 border-gray-200 dark:bg-gray-900 dark:border-gray-800"),children:a.jsxDEV("div",{className:"flex items-start gap-3",children:[a.jsxDEV("div",{className:"mt-0.5",children:e.icon},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/WeatherCorrelationPanel.tsx",lineNumber:274,columnNumber:21},this),a.jsxDEV("div",{className:"flex-1 min-w-0",children:[a.jsxDEV("div",{className:"flex items-center gap-2 mb-1",children:[a.jsxDEV("span",{className:"font-medium",children:e.factor},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/WeatherCorrelationPanel.tsx",lineNumber:277,columnNumber:25},this),a.jsxDEV(De,{correlation:e.correlation,strength:e.strength},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/WeatherCorrelationPanel.tsx",lineNumber:278,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/WeatherCorrelationPanel.tsx",lineNumber:276,columnNumber:23},this),a.jsxDEV("p",{className:"text-sm text-muted-foreground",children:e.insight},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/WeatherCorrelationPanel.tsx",lineNumber:280,columnNumber:23},this),a.jsxDEV("div",{className:"flex items-center gap-4 mt-2 text-xs",children:[a.jsxDEV("span",{children:["With: ",a.jsxDEV("strong",{children:e.avgPainWith.toFixed(1)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/WeatherCorrelationPanel.tsx",lineNumber:283,columnNumber:33},this),"/10"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/WeatherCorrelationPanel.tsx",lineNumber:282,columnNumber:25},this),a.jsxDEV("span",{children:["Without: ",a.jsxDEV("strong",{children:e.avgPainWithout.toFixed(1)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/WeatherCorrelationPanel.tsx",lineNumber:286,columnNumber:36},this),"/10"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/WeatherCorrelationPanel.tsx",lineNumber:285,columnNumber:25},this),a.jsxDEV("span",{className:"text-muted-foreground",children:["(",e.sampleSize," entries)"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/WeatherCorrelationPanel.tsx",lineNumber:288,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/WeatherCorrelationPanel.tsx",lineNumber:281,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/WeatherCorrelationPanel.tsx",lineNumber:275,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/WeatherCorrelationPanel.tsx",lineNumber:273,columnNumber:19},this)},s,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/WeatherCorrelationPanel.tsx",lineNumber:264,columnNumber:17},this))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/WeatherCorrelationPanel.tsx",lineNumber:262,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/WeatherCorrelationPanel.tsx",lineNumber:260,columnNumber:11},this),t.weatherStats.length>0&&a.jsxDEV("div",{className:"space-y-3",children:[a.jsxDEV("h4",{className:"text-sm font-medium text-muted-foreground",children:"Pain by Weather Condition"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/WeatherCorrelationPanel.tsx",lineNumber:303,columnNumber:13},this),a.jsxDEV("div",{className:"space-y-2",children:t.weatherStats.slice(0,5).map((e,s)=>a.jsxDEV("div",{className:"flex items-center gap-3",children:[a.jsxDEV("div",{className:"w-8",children:e.icon},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/WeatherCorrelationPanel.tsx",lineNumber:307,columnNumber:19},this),a.jsxDEV("div",{className:"flex-1 min-w-0",children:[a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("span",{className:"text-sm font-medium capitalize",children:e.condition},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/WeatherCorrelationPanel.tsx",lineNumber:310,columnNumber:23},this),a.jsxDEV("span",{className:"text-sm",children:[a.jsxDEV("strong",{children:e.avgPain.toFixed(1)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/WeatherCorrelationPanel.tsx",lineNumber:312,columnNumber:25},this),"/10 avg"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/WeatherCorrelationPanel.tsx",lineNumber:311,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/WeatherCorrelationPanel.tsx",lineNumber:309,columnNumber:21},this),a.jsxDEV("div",{className:"mt-1 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:a.jsxDEV("div",{className:o("h-full rounded-full transition-all",e.avgPain>=7&&"bg-red-500",e.avgPain>=4&&e.avgPain<7&&"bg-amber-500",e.avgPain<4&&"bg-green-500"),style:{width:e.avgPain/10*100+"%"}},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/WeatherCorrelationPanel.tsx",lineNumber:316,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/WeatherCorrelationPanel.tsx",lineNumber:315,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/WeatherCorrelationPanel.tsx",lineNumber:308,columnNumber:19},this),a.jsxDEV(u,{variant:"secondary",className:"text-xs",children:[e.count," entries"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/WeatherCorrelationPanel.tsx",lineNumber:327,columnNumber:19},this)]},s,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/WeatherCorrelationPanel.tsx",lineNumber:306,columnNumber:17},this))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/WeatherCorrelationPanel.tsx",lineNumber:304,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/WeatherCorrelationPanel.tsx",lineNumber:302,columnNumber:11},this),a.jsxDEV("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-800",children:a.jsxDEV("p",{className:"text-xs text-muted-foreground text-center",children:["Based on ",t.weatherEntries," entries with weather data out of ",t.totalEntries," total entries.",t.coveragePercent<50&&a.jsxDEV("span",{className:"block mt-1 text-amber-600 dark:text-amber-400",children:"Enable location access to automatically capture weather data."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/WeatherCorrelationPanel.tsx",lineNumber:341,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/WeatherCorrelationPanel.tsx",lineNumber:338,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/WeatherCorrelationPanel.tsx",lineNumber:337,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/WeatherCorrelationPanel.tsx",lineNumber:257,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/WeatherCorrelationPanel.tsx",lineNumber:245,columnNumber:5},this):a.jsxDEV(n,{className:o("border-blue-200 dark:border-blue-900",r),children:[a.jsxDEV(c,{children:a.jsxDEV(m,{className:"flex items-center gap-2",children:[a.jsxDEV(P,{className:"h-5 w-5 text-blue-500"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/WeatherCorrelationPanel.tsx",lineNumber:227,columnNumber:13},this),"Weather Correlations"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/WeatherCorrelationPanel.tsx",lineNumber:226,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/WeatherCorrelationPanel.tsx",lineNumber:225,columnNumber:9},this),a.jsxDEV(l,{children:a.jsxDEV("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsxDEV(P,{className:"h-12 w-12 mx-auto mb-4 opacity-50"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/WeatherCorrelationPanel.tsx",lineNumber:233,columnNumber:13},this),a.jsxDEV("p",{className:"font-medium",children:"Not enough weather data yet"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/WeatherCorrelationPanel.tsx",lineNumber:234,columnNumber:13},this),a.jsxDEV("p",{className:"text-sm mt-1",children:"Keep logging entries to see how weather affects your pain."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/WeatherCorrelationPanel.tsx",lineNumber:235,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/WeatherCorrelationPanel.tsx",lineNumber:232,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/WeatherCorrelationPanel.tsx",lineNumber:231,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/WeatherCorrelationPanel.tsx",lineNumber:224,columnNumber:7},this)}function De({correlation:e,strength:s}){const r="positive"===e?a.jsxDEV(E,{className:"h-3 w-3"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/WeatherCorrelationPanel.tsx",lineNumber:360,columnNumber:7},this):"negative"===e?a.jsxDEV(V,{className:"h-3 w-3"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/WeatherCorrelationPanel.tsx",lineNumber:362,columnNumber:9},this):a.jsxDEV(U,{className:"h-3 w-3"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/WeatherCorrelationPanel.tsx",lineNumber:363,columnNumber:9},this),t="positive"===e?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400":"negative"===e?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-400",i="none"===s?"No effect":`${s.charAt(0).toUpperCase()+s.slice(1)} ${"positive"===e?"increase":"negative"===e?"decrease":"effect"}`;return a.jsxDEV(u,{variant:"secondary",className:o("text-xs gap-1",t),children:[r,i]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/WeatherCorrelationPanel.tsx",lineNumber:376,columnNumber:5},this)}function ke(e){const s=e.toLowerCase();return s.includes("rain")||s.includes("drizzle")||s.includes("shower")?a.jsxDEV(D,{className:"h-4 w-4 text-blue-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/WeatherCorrelationPanel.tsx",lineNumber:386,columnNumber:12},this):s.includes("cloud")||s.includes("overcast")?a.jsxDEV(P,{className:"h-4 w-4 text-gray-500"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/WeatherCorrelationPanel.tsx",lineNumber:389,columnNumber:12},this):s.includes("clear")||s.includes("sunny")?a.jsxDEV(f,{className:"h-4 w-4 text-amber-500"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/WeatherCorrelationPanel.tsx",lineNumber:392,columnNumber:12},this):s.includes("thunder")||s.includes("storm")?a.jsxDEV(D,{className:"h-4 w-4 text-purple-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/WeatherCorrelationPanel.tsx",lineNumber:395,columnNumber:12},this):s.includes("snow")?a.jsxDEV(P,{className:"h-4 w-4 text-blue-300"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/WeatherCorrelationPanel.tsx",lineNumber:398,columnNumber:12},this):s.includes("fog")?a.jsxDEV(C,{className:"h-4 w-4 text-gray-400"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/WeatherCorrelationPanel.tsx",lineNumber:401,columnNumber:12},this):a.jsxDEV(P,{className:"h-4 w-4 text-gray-400"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/WeatherCorrelationPanel.tsx",lineNumber:403,columnNumber:10},this)}class fe{static async compareDatasets(e,s){const a=this.calculateStatistics(s),r=this.generateInsights(a,e),t=this.generateCharts(s,e);return{id:`comparison_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,config:e,statistics:a,insights:r,charts:t,createdAt:new Date,updatedAt:new Date}}static calculateStatistics(e){if(e.length<2)throw new Error("At least 2 datasets are required for comparison");const[s,a]=e,r=s.entries.map(e=>e.baselineData.pain),t=a.entries.map(e=>e.baselineData.pain),i=this.calculateMean(r),n=this.calculateMean(t),o=n-i,c=0!==i?o/i*100:0,m=this.calculateStatisticalSignificance(r,t),l=this.calculateEffectSize(r,t),u=this.compareMetric(r,t),d=this.compareQualityOfLifeMetric(s.entries,a.entries,"moodImpact"),p=this.compareQualityOfLifeMetric(s.entries,a.entries,"sleepQuality"),N=this.calculateTrend(r),b=this.calculateTrend(t);return{overall:{baselineMean:i,comparisonMean:n,difference:o,percentageChange:c,statisticalSignificance:m,effectSize:l},byMetric:{pain:u,mood:d,sleep:p},trends:{baselineTrend:N,comparisonTrend:b,trendDifference:b-N}}}static compareMetric(e,s){const a=this.calculateStatisticalMeasures(e),r=this.calculateStatisticalMeasures(s),t=this.calculateMean(e),i=this.calculateMean(s)-t;return{baseline:a,comparison:r,difference:i,percentageChange:0!==t?i/t*100:0,confidence:this.calculateConfidence(e,s)}}static compareQualityOfLifeMetric(e,s,a){const r=e.map(e=>e.qualityOfLife?.[a]).filter(e=>void 0!==e),t=s.map(e=>e.qualityOfLife?.[a]).filter(e=>void 0!==e);if(0!==r.length&&0!==t.length)return this.compareMetric(r,t)}static calculateStatisticalMeasures(e){if(0===e.length)return[];const s=[...e].sort((e,s)=>e-s),a=this.calculateMean(e),r=this.calculateMedian(s),t=this.calculateMode(e),i=this.calculateStandardDeviation(e,a),n=i*i,o=Math.min(...e),c=Math.max(...e);return[{type:"mean",value:a},{type:"median",value:r},{type:"mode",value:t},{type:"standard-deviation",value:i},{type:"variance",value:n},{type:"min",value:o},{type:"max",value:c},{type:"range",value:c-o},{type:"percentile-25",value:this.calculatePercentile(s,25)},{type:"percentile-75",value:this.calculatePercentile(s,75)},{type:"percentile-95",value:this.calculatePercentile(s,95)}]}static calculateMean(e){return e.reduce((e,s)=>e+s,0)/e.length}static calculateMedian(e){const s=Math.floor(e.length/2);return e.length%2==0?(e[s-1]+e[s])/2:e[s]}static calculateMode(e){const s={};e.forEach(e=>{s[e]=(s[e]||0)+1});let a=e[0],r=0;for(const[t,i]of Object.entries(s))i>r&&(r=i,a=parseFloat(t));return a}static calculateStandardDeviation(e,s){const a=e.reduce((e,a)=>e+Math.pow(a-s,2),0)/e.length;return Math.sqrt(a)}static calculatePercentile(e,s){const a=s/100*(e.length-1),r=Math.floor(a),t=Math.ceil(a);if(r===t)return e[r];const i=a-r;return e[r]*(1-i)+e[t]*i}static calculateStatisticalSignificance(e,s){const a=this.calculateMean(e),r=this.calculateMean(s),t=this.calculateStandardDeviation(e,a),i=this.calculateStandardDeviation(s,r),n=e.length,o=s.length;if(n<2||o<2)return 1;const c=Math.sqrt(((n-1)*t*t+(o-1)*i*i)/(n+o-2))*Math.sqrt(1/n+1/o),m=Math.abs(a-r)/c;return Math.max(.001,Math.exp(-m*m/2)/Math.sqrt(2*Math.PI))}static calculateEffectSize(e,s){const a=this.calculateMean(e),r=this.calculateMean(s),t=this.calculateStandardDeviation(e,a),i=this.calculateStandardDeviation(s,r),n=Math.sqrt((t*t+i*i)/2);return 0!==n?Math.abs(a-r)/n:0}static calculateConfidence(e,s){const a=this.calculateStatisticalSignificance(e,s);return Math.max(0,Math.min(100,100*(1-a)))}static calculateTrend(e){if(e.length<2)return 0;const s=e.length,a=Array.from({length:s},(e,s)=>s),r=e,t=a.reduce((e,s)=>e+s,0),i=r.reduce((e,s)=>e+s,0);return(s*a.reduce((e,s,a)=>e+s*r[a],0)-t*i)/(s*a.reduce((e,s)=>e+s*s,0)-t*t)}static generateInsights(e,s){const a=[],{percentageChange:r,statisticalSignificance:t}=e.overall;if(Math.abs(r)>10&&t<.05){const e=r<0;a.push({id:"overall-"+(e?"improvement":"worsening"),type:e?"improvement":"worsening",title:`Overall ${e?"Improvement":"Worsening"} Detected`,description:`Pain levels ${e?"decreased":"increased"} by ${i(Math.abs(r),1)}% compared to baseline`,severity:Math.abs(r)>25?"high":"medium",confidence:100*(1-t),actionable:!0,recommendation:e?"Consider maintaining current treatment approach":"May need to adjust treatment or investigate contributing factors"})}const{trendDifference:n}=e.trends;if(Math.abs(n)>.1){const e=n<0;a.push({id:"trend-analysis",type:e?"improvement":"worsening",title:"Trend "+(e?"Improving":"Worsening"),description:`Pain trend is ${e?"improving":"worsening"} over time`,severity:"medium",confidence:75,actionable:!0})}if(e.byMetric.mood){const s=e.byMetric.mood.percentageChange;Math.abs(s)>15&&a.push({id:"mood-impact",type:s<0?"improvement":"worsening",title:"Mood Impact Changes",description:`Mood impact ${s<0?"improved":"worsened"} by ${i(Math.abs(s),1)}%`,severity:"medium",confidence:70,actionable:!0})}return a}static generateCharts(e,s){const a=[];return a.push(this.generateLineChart(e,"Pain Levels Over Time")),a.push(this.generateBarChart(e,"Average Pain Comparison")),a.push(this.generateBoxPlot(e,"Pain Distribution")),a}static generateLineChart(e,s){const a=[],r=e.map(e=>({label:e.name,data:e.entries.map(e=>e.baselineData.pain),borderColor:e.color,backgroundColor:e.color+"20",fill:!1})),t=Math.max(...e.map(e=>e.entries.length));for(let i=0;i<t;i++)a.push(`Entry ${i+1}`);return{id:`line-chart-${Date.now()}`,type:"line",title:s,data:{labels:a,datasets:r},config:{responsive:!0,plugins:{legend:{display:!0,position:"top"},tooltip:{enabled:!0}},scales:{x:{title:{display:!0,text:"Time"}},y:{title:{display:!0,text:"Pain Level"}}}}}}static generateBarChart(e,s){const a=e.map(e=>e.name),r=e.map(e=>{const s=e.entries.map(e=>e.baselineData.pain);return this.calculateMean(s)});return{id:`bar-chart-${Date.now()}`,type:"bar",title:s,data:{labels:a,datasets:[{label:"Average Pain Level",data:r,backgroundColor:e.map(e=>e.color),borderColor:e.map(e=>e.color),borderWidth:1}]},config:{responsive:!0,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Pain Level"}}}}}}static generateBoxPlot(e,s){const a=e.map(e=>e.name),r=e.map(e=>{const s=e.entries.map(e=>e.baselineData.pain),a=[...s].sort((e,s)=>e-s),r=this.calculatePercentile(a,25),t=this.calculateMedian(a),i=this.calculatePercentile(a,75);return[Math.min(...s),r,t,i,Math.max(...s)]});return{id:`box-plot-${Date.now()}`,type:"box-plot",title:s,data:{labels:a,datasets:[{label:"Pain Distribution",data:r.flat(),backgroundColor:e.map(e=>e.color+"40"),borderColor:e.map(e=>e.color),borderWidth:1}]},config:{responsive:!0,plugins:{legend:{display:!1}}}}}}function je({title:e,description:r,type:t,chartData:i,tableData:n,icon:c,height:m=256,className:l,footer:u}){const[p,N]=s.useState("chart");return a.jsxDEV("div",{className:o("bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 p-6 shadow-lg",l),children:[a.jsxDEV("div",{className:"flex items-center justify-between mb-6",children:[a.jsxDEV("div",{className:"flex-1",children:[a.jsxDEV("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:e},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/ChartWithTableToggle.tsx",lineNumber:70,columnNumber:11},this),a.jsxDEV("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:r},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/ChartWithTableToggle.tsx",lineNumber:71,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/ChartWithTableToggle.tsx",lineNumber:69,columnNumber:9},this),a.jsxDEV("div",{className:"flex items-center gap-3",children:[c&&a.jsxDEV(c,{className:"h-6 w-6 text-gray-400 dark:text-gray-500","aria-hidden":"true"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/ChartWithTableToggle.tsx",lineNumber:75,columnNumber:20},this),a.jsxDEV("button",{onClick:()=>N("chart"===p?"table":"chart"),className:o("flex items-center gap-2 px-3 py-2 rounded-lg transition-all","min-h-[44px] min-w-[44px]","focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2","hover:bg-gray-100 dark:hover:bg-gray-800","text-sm font-medium text-gray-700 dark:text-gray-300"),"aria-label":"chart"===p?"Switch to table view":"Switch to chart view","aria-pressed":"table"===p,children:"chart"===p?a.jsxDEV(a.Fragment,{children:[a.jsxDEV(A,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/ChartWithTableToggle.tsx",lineNumber:92,columnNumber:17},this),a.jsxDEV("span",{className:"hidden sm:inline",children:"Table"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/ChartWithTableToggle.tsx",lineNumber:93,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/ChartWithTableToggle.tsx",lineNumber:91,columnNumber:15},this):a.jsxDEV(a.Fragment,{children:[a.jsxDEV(w,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/ChartWithTableToggle.tsx",lineNumber:97,columnNumber:17},this),a.jsxDEV("span",{className:"hidden sm:inline",children:"Chart"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/ChartWithTableToggle.tsx",lineNumber:98,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/ChartWithTableToggle.tsx",lineNumber:96,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/ChartWithTableToggle.tsx",lineNumber:78,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/ChartWithTableToggle.tsx",lineNumber:74,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/ChartWithTableToggle.tsx",lineNumber:68,columnNumber:7},this),a.jsxDEV("div",{style:{minHeight:m},children:"chart"===p?a.jsxDEV("div",{className:"h-64",role:"img","aria-label":`${e}. ${r}`,children:[a.jsxDEV(d,{type:t,data:i,height:m},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/ChartWithTableToggle.tsx",lineNumber:109,columnNumber:13},this),a.jsxDEV("div",{className:"sr-only",children:[e,". ",r,". Data summary: ",n.length," items.",n.slice(0,3).map((e,s)=>a.jsxDEV("span",{children:[e.label,": ",e.value,"."]},s,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/ChartWithTableToggle.tsx",lineNumber:114,columnNumber:17},this)),n.length>3&&`And ${n.length-3} more items.`,"Use the table view button to see all data in a table format."]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/ChartWithTableToggle.tsx",lineNumber:111,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/ChartWithTableToggle.tsx",lineNumber:108,columnNumber:11},this):a.jsxDEV("div",{className:"overflow-x-auto",children:a.jsxDEV("table",{className:"w-full text-sm",children:[a.jsxDEV("thead",{children:a.jsxDEV("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[a.jsxDEV("th",{className:"text-left py-3 px-4 font-semibold text-gray-900 dark:text-white",children:"Category"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/ChartWithTableToggle.tsx",lineNumber:127,columnNumber:19},this),a.jsxDEV("th",{className:"text-right py-3 px-4 font-semibold text-gray-900 dark:text-white",children:"Value"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/ChartWithTableToggle.tsx",lineNumber:130,columnNumber:19},this),n.some(e=>e.additionalInfo)&&a.jsxDEV("th",{className:"text-left py-3 px-4 font-semibold text-gray-900 dark:text-white",children:"Details"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/ChartWithTableToggle.tsx",lineNumber:134,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/ChartWithTableToggle.tsx",lineNumber:126,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/ChartWithTableToggle.tsx",lineNumber:125,columnNumber:15},this),a.jsxDEV("tbody",{children:n.map((e,s)=>a.jsxDEV("tr",{className:o("border-b border-gray-100 dark:border-gray-800","hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors"),children:[a.jsxDEV("td",{className:"py-3 px-4 text-gray-700 dark:text-gray-300",children:e.label},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/ChartWithTableToggle.tsx",lineNumber:149,columnNumber:21},this),a.jsxDEV("td",{className:"py-3 px-4 text-right font-mono text-gray-900 dark:text-white",children:"number"==typeof e.value?e.value.toFixed(1):e.value},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/ChartWithTableToggle.tsx",lineNumber:150,columnNumber:21},this),n.some(e=>e.additionalInfo)&&a.jsxDEV("td",{className:"py-3 px-4 text-gray-600 dark:text-gray-400 text-xs",children:e.additionalInfo||"â€”"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/ChartWithTableToggle.tsx",lineNumber:154,columnNumber:23},this)]},s,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/ChartWithTableToggle.tsx",lineNumber:142,columnNumber:19},this))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/ChartWithTableToggle.tsx",lineNumber:140,columnNumber:15},this),n.length>0&&a.jsxDEV("tfoot",{children:a.jsxDEV("tr",{children:a.jsxDEV("td",{colSpan:n.some(e=>e.additionalInfo)?3:2,className:"py-3 px-4 text-xs text-gray-500 dark:text-gray-400",children:[n.length," ",1===n.length?"row":"rows"," total"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/ChartWithTableToggle.tsx",lineNumber:164,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/ChartWithTableToggle.tsx",lineNumber:163,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/ChartWithTableToggle.tsx",lineNumber:162,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/ChartWithTableToggle.tsx",lineNumber:124,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/ChartWithTableToggle.tsx",lineNumber:123,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/ChartWithTableToggle.tsx",lineNumber:106,columnNumber:7},this),u&&a.jsxDEV("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:u},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/ChartWithTableToggle.tsx",lineNumber:180,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/ChartWithTableToggle.tsx",lineNumber:61,columnNumber:5},this)}const ge=({entries:e,onComparisonComplete:r,className:t="",defaultComparisonType:o="week-to-week"})=>{const[d,b]=s.useState(o),[y,h]=s.useState(""),[x,v]=s.useState(""),[D,k]=s.useState(""),[f,j]=s.useState(""),[g,P]=s.useState(!1),[C,V]=s.useState(null),U=C?.insights||[];s.useEffect(()=>{const e=new Date,s=e=>e.toISOString().split("T")[0];switch(d){case"day-to-day":{const a=new Date(e);a.setDate(a.getDate()-1);const r=new Date(a);r.setDate(r.getDate()-1),h(s(r)),v(s(a)),k(s(a)),j(s(e));break}case"week-to-week":{const a=new Date(e);a.setDate(a.getDate()-14);const r=new Date(e);r.setDate(r.getDate()-7);const t=new Date(e);t.setDate(t.getDate()-7),h(s(a)),v(s(r)),k(s(t)),j(s(e));break}case"month-to-month":{const a=new Date(e);a.setMonth(a.getMonth()-2),a.setDate(1);const r=new Date(e);r.setMonth(r.getMonth()-1),r.setDate(0);const t=new Date(e);t.setMonth(t.getMonth()-1),t.setDate(1),h(s(a)),v(s(r)),k(s(t)),j(s(e));break}case"custom-range":{const a=new Date(e);a.setDate(a.getDate()-30);const r=new Date(e);r.setDate(r.getDate()-60),h(s(r)),v(s(a)),k(s(a)),j(s(e));break}}},[d]);const A=async()=>{if(y&&x&&D&&f){P(!0);try{const s=e.filter(e=>{const s=new Date(e.timestamp);return s>=new Date(y)&&s<=new Date(x)}),a=e.filter(e=>{const s=new Date(e.timestamp);return s>=new Date(D)&&s<=new Date(f)});if(0===s.length||0===a.length)return void alert("Not enough data for the selected time periods. Please adjust the date ranges.");const t=(e,s)=>new Date(e.timestamp).getTime()-new Date(s.timestamp).getTime(),i=[...s].sort(t),n=[...a].sort(t),o=[{id:"baseline",name:"Baseline Period",description:`${y} to ${x}`,entries:i,color:"#3B82F6",metadata:{source:"time-period-comparison",dateRange:{start:new Date(y),end:new Date(x)}}},{id:"comparison",name:"Comparison Period",description:`${D} to ${f}`,entries:n,color:"#EF4444",metadata:{source:"time-period-comparison",dateRange:{start:new Date(D),end:new Date(f)}}}],c={type:"time-period",periodType:d,baselinePeriod:{start:new Date(y),end:new Date(x)},comparisonPeriod:{start:new Date(D),end:new Date(f)},datasets:o},m=await fe.compareDatasets(c,o);V(m),r&&r(m)}catch(s){alert("Failed to perform comparison. Please try again.")}finally{P(!1)}}};return a.jsxDEV("div",{className:`max-w-6xl mx-auto ${t}`,children:a.jsxDEV("div",{className:"w-full",children:[a.jsxDEV("div",{className:"grid w-full grid-cols-2 gap-2 border-b",children:[a.jsxDEV("button",{className:"py-2 text-sm font-medium "+(C?"text-muted-foreground":"border-b-2 border-primary text-primary"),"aria-selected":!C,children:"Setup Comparison"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:584,columnNumber:11},void 0),a.jsxDEV("button",{className:"py-2 text-sm font-medium "+(C?"border-b-2 border-primary text-primary":"text-muted-foreground"),"aria-selected":!!C,disabled:!C,children:["Results"," ",C&&a.jsxDEV(u,{variant:"outline",className:"ml-2",children:U.length},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:597,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:590,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:583,columnNumber:9},void 0),a.jsxDEV("div",{className:"mt-6",children:C?(()=>{if(!C)return null;const{statistics:e}=C,s=e=>{const s=e.data.labels??[],a=e.data.datasets??[],r=a[0],t=a.slice(1);return s.map((e,s)=>({label:e,value:Number(r?.data?.[s]??0),additionalInfo:t.map(e=>{const a=Number(e?.data?.[s]??0);return`${e.label??"Series"}: ${a.toFixed(1)}`}).join(" Â· ")||void 0}))},r=e=>{const s=e.data.labels??[],a=e.data.datasets?.[0],r=a?.data??[];return s.map((e,s)=>({label:e,value:Number(r[s]??0)}))},t=e=>{if("line"===e.type)return a.jsxDEV(je,{title:e.title,description:"Baseline vs comparison pain values over time.",type:"line",chartData:e.data,tableData:s(e),height:300,icon:S},e.id,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:415,columnNumber:11},void 0);if("bar"===e.type)return a.jsxDEV(je,{title:e.title,description:"Average pain levels for baseline and comparison periods.",type:"bar",chartData:e.data,tableData:r(e),height:300,icon:S},e.id,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:430,columnNumber:11},void 0);if("box-plot"===e.type){const s=(e=>{const s=e.data.labels??[],a=e.data.datasets?.[0],r=(a?.data??[]).map(e=>Number(e??0)),t=Array.isArray(a?.borderColor)?a.borderColor:void 0,i=Array.isArray(a?.backgroundColor)?a.backgroundColor:void 0;return{chartData:{labels:["min","q1","median","q3","max"],datasets:s.map((e,s)=>{const a=5*s,n=r.slice(a,a+5),o=t?.[s]??void 0,c=i?.[s]??void 0;return{label:e,data:5===n.length?n:[0,0,0,0,0],borderColor:o,backgroundColor:c}})},tableData:s.map((e,s)=>{const a=5*s,[t,i,n,o,c]=r.slice(a,a+5);return{label:e,value:Number(n??0),additionalInfo:void 0===t?void 0:`min ${Number(t).toFixed(1)} Â· q1 ${Number(i).toFixed(1)} Â· q3 ${Number(o).toFixed(1)} Â· max ${Number(c).toFixed(1)}`}})}})(e);return a.jsxDEV(je,{title:e.title,description:"Distribution summary (min, quartiles, max) for baseline and comparison periods.",type:"bar",chartData:s.chartData,tableData:s.tableData,height:300,icon:S},e.id,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:446,columnNumber:11},void 0)}return null};return a.jsxDEV("div",{className:"space-y-6",children:[a.jsxDEV(n,{children:[a.jsxDEV(c,{children:a.jsxDEV(m,{className:"flex items-center gap-2",children:[a.jsxDEV(E,{className:"w-5 h-5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:468,columnNumber:15},void 0),"Comparison Overview"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:467,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:466,columnNumber:11},void 0),a.jsxDEV(l,{children:[a.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxDEV("div",{className:"text-center",children:[a.jsxDEV("div",{className:"text-2xl font-bold text-blue-600",children:i(e.overall.baselineMean,1)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:475,columnNumber:17},void 0),a.jsxDEV("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Baseline Avg"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:478,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:474,columnNumber:15},void 0),a.jsxDEV("div",{className:"text-center",children:[a.jsxDEV("div",{className:"text-2xl font-bold text-red-600",children:i(e.overall.comparisonMean,1)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:481,columnNumber:17},void 0),a.jsxDEV("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Comparison Avg"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:484,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:480,columnNumber:15},void 0),a.jsxDEV("div",{className:"text-center",children:[a.jsxDEV("div",{className:"text-2xl font-bold "+(e.overall.percentageChange<0?"text-green-600":"text-red-600"),children:[e.overall.percentageChange>0?"+":"",i(e.overall.percentageChange,1),"%"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:487,columnNumber:17},void 0),a.jsxDEV("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Change"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:495,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:486,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:473,columnNumber:13},void 0),a.jsxDEV("div",{className:"mt-4 p-3 bg-gray-50 dark:bg-gray-900 rounded-lg",children:[a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("span",{className:"text-sm font-medium",children:"Statistical Significance"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:502,columnNumber:17},void 0),a.jsxDEV(u,{variant:e.overall.statisticalSignificance<.05?"default":"secondary",children:e.overall.statisticalSignificance<.05?"Significant":"Not Significant"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:503,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:501,columnNumber:15},void 0),a.jsxDEV("div",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:["p-value: ",i(e.overall.statisticalSignificance,3)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:513,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:500,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:472,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:465,columnNumber:9},void 0),U.length>0&&a.jsxDEV(n,{children:[a.jsxDEV(c,{children:a.jsxDEV(m,{className:"flex items-center gap-2",children:[a.jsxDEV($,{className:"w-5 h-5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:525,columnNumber:17},void 0),"Key Insights"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:524,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:523,columnNumber:13},void 0),a.jsxDEV(l,{children:a.jsxDEV("div",{className:"space-y-3",children:U.map(e=>a.jsxDEV("div",{className:"p-3 border rounded-lg",children:a.jsxDEV("div",{className:"flex items-start justify-between",children:[a.jsxDEV("div",{className:"flex-1",children:[a.jsxDEV("h4",{className:"font-medium text-sm",children:e.title},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:535,columnNumber:25},void 0),a.jsxDEV("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:e.description},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:536,columnNumber:25},void 0),e.recommendation&&a.jsxDEV("p",{className:"text-sm text-blue-600 mt-2 font-medium",children:["ðŸ’¡ ",e.recommendation]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:540,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:534,columnNumber:23},void 0),a.jsxDEV("div",{className:"flex items-center gap-2 ml-4",children:[a.jsxDEV(u,{variant:"outline",className:"text-xs",children:[Math.round(e.confidence),"% confidence"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:546,columnNumber:25},void 0),a.jsxDEV(u,{variant:"high"===e.severity?"destructive":"medium"===e.severity?"default":"secondary",className:"text-xs",children:e.severity},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:549,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:545,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:533,columnNumber:21},void 0)},e.id,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:532,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:530,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:529,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:522,columnNumber:11},void 0),C.charts.length>0&&a.jsxDEV("div",{className:"space-y-4",children:C.charts.map(e=>t(e)).filter(Boolean)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:572,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:463,columnNumber:7},void 0)})():a.jsxDEV(n,{children:[a.jsxDEV(c,{children:a.jsxDEV(m,{className:"flex items-center gap-2",children:[a.jsxDEV(T,{className:"w-5 h-5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:213,columnNumber:11},void 0),"Time Period Comparison"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:212,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:211,columnNumber:7},void 0),a.jsxDEV(l,{className:"space-y-6",children:[a.jsxDEV("div",{children:[a.jsxDEV("label",{htmlFor:"comparison-type",className:"text-sm font-medium",children:"Comparison Type"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:220,columnNumber:11},void 0),a.jsxDEV("select",{id:"comparison-type",className:"mt-1 block w-full rounded-md border border-input bg-background px-3 py-2 text-sm",value:d,onChange:e=>b(e.target.value),children:[a.jsxDEV("option",{value:"day-to-day",children:"Day-to-Day (Yesterday vs Today)"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:229,columnNumber:13},void 0),a.jsxDEV("option",{value:"week-to-week",children:"Week-to-Week (Last Week vs This Week)"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:230,columnNumber:13},void 0),a.jsxDEV("option",{value:"month-to-month",children:"Month-to-Month (Last Month vs This Month)"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:231,columnNumber:13},void 0),a.jsxDEV("option",{value:"custom-range",children:"Custom Date Range"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:232,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:223,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:219,columnNumber:9},void 0),a.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxDEV("div",{className:"space-y-3",children:[a.jsxDEV("h3",{className:"font-medium text-sm flex items-center gap-2",children:[a.jsxDEV("div",{className:"w-3 h-3 bg-blue-500 rounded-full"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:241,columnNumber:15},void 0),"Baseline Period"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:240,columnNumber:13},void 0),a.jsxDEV("div",{className:"space-y-2",children:[a.jsxDEV("div",{children:[a.jsxDEV("label",{htmlFor:"baseline-start",className:"text-sm font-medium",children:"Start Date"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:246,columnNumber:17},void 0),a.jsxDEV(p,{id:"baseline-start",type:"date",value:y,onChange:e=>h(e.target.value)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:249,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:245,columnNumber:15},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{htmlFor:"baseline-end",className:"text-sm font-medium",children:"End Date"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:259,columnNumber:17},void 0),a.jsxDEV(p,{id:"baseline-end",type:"date",value:x,onChange:e=>v(e.target.value)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:262,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:258,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:244,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:239,columnNumber:11},void 0),a.jsxDEV("div",{className:"space-y-3",children:[a.jsxDEV("h3",{className:"font-medium text-sm flex items-center gap-2",children:[a.jsxDEV("div",{className:"w-3 h-3 bg-red-500 rounded-full"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:277,columnNumber:15},void 0),"Comparison Period"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:276,columnNumber:13},void 0),a.jsxDEV("div",{className:"space-y-2",children:[a.jsxDEV("div",{children:[a.jsxDEV("label",{htmlFor:"comparison-start",className:"text-sm font-medium",children:"Start Date"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:282,columnNumber:17},void 0),a.jsxDEV(p,{id:"comparison-start",type:"date",value:D,onChange:e=>k(e.target.value)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:285,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:281,columnNumber:15},void 0),a.jsxDEV("div",{children:[a.jsxDEV("label",{htmlFor:"comparison-end",className:"text-sm font-medium",children:"End Date"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:295,columnNumber:17},void 0),a.jsxDEV(p,{id:"comparison-end",type:"date",value:f,onChange:e=>j(e.target.value)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:298,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:294,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:280,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:275,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:237,columnNumber:9},void 0),a.jsxDEV("div",{className:"flex justify-center",children:a.jsxDEV(N,{onClick:A,disabled:g,className:"min-w-32",children:g?a.jsxDEV(a.Fragment,{children:[a.jsxDEV(M,{className:"w-4 h-4 mr-2 animate-spin"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:316,columnNumber:17},void 0),"Comparing..."]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:315,columnNumber:15},void 0):a.jsxDEV(a.Fragment,{children:[a.jsxDEV(S,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:321,columnNumber:17},void 0),"Compare Periods"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:320,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:313,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:312,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:217,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:210,columnNumber:5},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:604,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:582,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/comparison/TimePeriodComparison.tsx",lineNumber:581,columnNumber:5},void 0)},Pe=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Ce=[{id:"overnight",start:0,end:5,label:"Midnight â€“ 5 AM"},{id:"early-morning",start:5,end:9,label:"5 AM â€“ 9 AM"},{id:"late-morning",start:9,end:12,label:"9 AM â€“ Noon"},{id:"early-afternoon",start:12,end:16,label:"Noon â€“ 4 PM"},{id:"late-afternoon",start:16,end:19,label:"4 PM â€“ 7 PM"},{id:"evening",start:19,end:23,label:"7 PM â€“ 11 PM"},{id:"late-night",start:23,end:24,label:"11 PM â€“ Midnight"}],Ee=(e,s,a)=>Math.min(a,Math.max(s,e));function Ve(e){return"object"==typeof e&&null!==e}const Ue=(()=>{const e=(()=>{try{const e=import.meta;if(Ve(e)&&"env"in e){const s=e.env;if(Ve(s))return s}}catch(s){}const e=globalThis.process;if(Ve(e)&&"env"in e){const s=e.env;if(Ve(s))return s}return{}})(),s=s=>{const a=e[s];return"string"==typeof a?a:void 0};return"false"!==s("VITE_REACT_APP_ENABLE_VALIDATION")&&"false"!==s("REACT_APP_ENABLE_VALIDATION")})(),Ae=r.lazy(()=>e(()=>import("./ClinicalPDFExportButton-BN9YkRxz.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9])).then(e=>({default:e.ClinicalPDFExportButton}))),we=r.lazy(()=>e(()=>import("./DataExportModal-B3LymzLl.js"),__vite__mapDeps([10,2,3,4,6,1,5,7,8,9,11,12])).then(e=>({default:e.DataExportModal}))),Te=({entries:e})=>{const[r,t]=s.useState("7d"),[i,n]=s.useState("overview"),o=s.useMemo(()=>{switch(r){case"7d":return"last 7 days";case"30d":return"last 30 days";case"90d":return"last 90 days";case"1y":return"last year";case"all":return"all time"}},[r]),c=s.useMemo(()=>{if("all"===r)return e;const s=new Date(b(new Date));switch(r){case"7d":s.setDate(s.getDate()-7);break;case"30d":s.setDate(s.getDate()-30);break;case"90d":s.setDate(s.getDate()-90);break;case"1y":s.setFullYear(s.getFullYear()-1)}return e.filter(e=>new Date(e.timestamp)>=s)},[e,r]),m=s.useMemo(()=>{if(0===c.length)return{avgPain:0,trend:0,volatility:0,goodDays:0,badDays:0,topLocations:[],topTriggers:[],topReliefMethods:[],topActivities:[],topQualities:[],stressStats:{count:0,avg:0,min:0,max:0},activityLevelStats:{count:0,avg:0,min:0,max:0},weatherCount:0,timePatterns:{morning:{count:0,avgIntensity:0},afternoon:{count:0,avgIntensity:0},evening:{count:0,avgIntensity:0},night:{count:0,avgIntensity:0}},dayOfWeekPatterns:[],monthlyTrend:[],triggerPainCorrelation:[],medicationEffectiveness:[],predictedFlare:null,riskScore:0,improvementScore:0,optimalMedicationWindow:null,nextWeekForecast:null,personalizedRecommendations:[]};const e=c.reduce((e,s)=>e+s.baselineData.pain,0)/c.length,s=Math.floor(c.length/2),a=(()=>{if(c.length<2||0===s)return 0;const e=c.slice(0,s),a=c.slice(s),r=e.reduce((e,s)=>e+s.baselineData.pain,0)/e.length,t=a.reduce((e,s)=>e+s.baselineData.pain,0)/a.length;return Number.isFinite(r)&&0!==r?(t-r)/r*100:0})(),r=c.reduce((s,a)=>s+Math.pow(a.baselineData.pain-e,2),0)/c.length,t=Math.sqrt(r),i={};c.forEach(e=>{const s=(e=>{const s=new Date(e);return`${s.getFullYear()}-${String(s.getMonth()+1).padStart(2,"0")}-${String(s.getDate()).padStart(2,"0")}`})(e.timestamp);i[s]||(i[s]={totalPain:0,count:0}),i[s].totalPain+=e.baselineData.pain,i[s].count+=1});const n=Object.values(i).map(e=>e.totalPain/e.count),o=n.length,m=n.filter(e=>e<=3).length,l=n.filter(e=>e>=7).length,u={};c.forEach(e=>{e.baselineData.locations?.forEach(e=>{u[e]=(u[e]||0)+1})});const d=Object.entries(u).sort(([,e],[,s])=>s-e).slice(0,5).map(([e,s])=>({location:e,count:s,percentage:s/c.length*100})),p={};c.forEach(e=>{e.triggers?.forEach(e=>{p[e]=(p[e]||0)+1})});const N=Object.entries(p).sort(([,e],[,s])=>s-e).slice(0,5).map(([e,s])=>({trigger:e,count:s,percentage:s/c.length*100})),b={};c.forEach(e=>{e.reliefMethods?.forEach(e=>{b[e]=(b[e]||0)+1})});const y=Object.entries(b).sort(([,e],[,s])=>s-e).slice(0,5).map(([e,s])=>({trigger:e,count:s,percentage:s/c.length*100})),h={};c.forEach(e=>{e.activities?.forEach(e=>{h[e]=(h[e]||0)+1})});const x=Object.entries(h).sort(([,e],[,s])=>s-e).slice(0,5).map(([e,s])=>({trigger:e,count:s,percentage:s/c.length*100})),v={};c.forEach(e=>{e.quality?.forEach(e=>{v[e]=(v[e]||0)+1})});const D=Object.entries(v).sort(([,e],[,s])=>s-e).slice(0,5).map(([e,s])=>({trigger:e,count:s,percentage:s/c.length*100})),k=c.map(e=>e.stress).filter(e=>"number"==typeof e&&Number.isFinite(e)),f=c.map(e=>e.activityLevel).filter(e=>"number"==typeof e&&Number.isFinite(e)),j=e=>{if(0===e.length)return{count:0,avg:0,min:0,max:0};const s=e.reduce((e,s)=>e+s,0);return{count:e.length,avg:s/e.length,min:Math.min(...e),max:Math.max(...e)}},g=j(k),P=j(f),C=c.filter(e=>!!e.weather&&""!==e.weather.trim()).length,E={morning:{count:0,avgIntensity:0},afternoon:{count:0,avgIntensity:0},evening:{count:0,avgIntensity:0},night:{count:0,avgIntensity:0}},V={0:{count:0,totalPain:0},1:{count:0,totalPain:0},2:{count:0,totalPain:0},3:{count:0,totalPain:0},4:{count:0,totalPain:0},5:{count:0,totalPain:0},6:{count:0,totalPain:0}},U={},A=e,w={},T={};c.forEach(e=>{const s=new Date(e.timestamp).getHours(),a=new Date(e.timestamp),r=a.getDay(),t=a.getMonth()+1;let i;if(i=s>=5&&s<12?"morning":s>=12&&s<17?"afternoon":s>=17&&s<21?"evening":"night",E[i].count++,E[i].avgIntensity+=e.baselineData.pain,V[r].count++,V[r].totalPain+=e.baselineData.pain,U[t]||(U[t]={count:0,totalPain:0}),U[t].count++,U[t].totalPain+=e.baselineData.pain,e.triggers&&e.triggers.length>0){const s=e.baselineData.pain-A;e.triggers.forEach(e=>{w[e]||(w[e]={count:0,deltaSum:0}),w[e].count++,w[e].deltaSum+=s})}}),Object.keys(E).forEach(e=>{const s=e;E[s].count>0&&(E[s].avgIntensity/=E[s].count)});const M=Object.entries(V).map(([e,s])=>({day:Number(e),count:s.count,avgPain:s.count>0?s.totalPain/s.count:0})),S=Object.entries(U).map(([e,s])=>({month:Number(e),count:s.count,avgPain:s.count>0?s.totalPain/s.count:0})).sort((e,s)=>e.month-s.month),$=Object.entries(w).map(([e,s])=>({trigger:e,count:s.count,avgDelta:s.deltaSum/s.count})).sort((e,s)=>Math.abs(s.avgDelta)-Math.abs(e.avgDelta)).slice(0,8),W=[...c].sort((e,s)=>new Date(e.timestamp).getTime()-new Date(s.timestamp).getTime()),F={};W.forEach((e,s)=>{if(e.medications&&e.medications.current.length>0&&s<W.length-1){const a=W[s+1],r=e.baselineData.pain-a.baselineData.pain;if(!Number.isFinite(r)||r<=0)return;const t=(e=>Ce.find(s=>e>=s.start&&e<s.end)??Ce[Ce.length-1])(new Date(e.timestamp).getHours());if(T[t.id]||(T[t.id]={count:0,totalReduction:0,label:t.label}),T[t.id].count++,T[t.id].totalReduction+=r,1===e.medications.current.length){const s=e.medications.current[0];s?.name&&(F[s.name]||(F[s.name]={uses:0,totalReduction:0}),F[s.name].uses++,F[s.name].totalReduction+=r)}}});const L=Object.entries(F).map(([e,s])=>{const a=s.totalReduction/s.uses,r=Ee(a/3*100,0,100);return{medication:e,uses:s.uses,avgReduction:a,effectiveness:r}}).sort((e,s)=>s.effectiveness-e.effectiveness),I=Object.entries(T).map(([e,s])=>({id:e,label:s.label,avgReduction:s.totalReduction/s.count,confidence:Math.min(1,s.count/4),count:s.count})).filter(e=>e.avgReduction>0).sort((e,s)=>s.avgReduction-e.avgReduction)[0]??null,R=c.slice(-7),O=R.reduce((e,s)=>e+s.baselineData.pain,0)/R.length,z=R.slice(-3).every((e,s,a)=>0===s||e.baselineData.pain>=a[s-1].baselineData.pain),q=O>6&&z?{probability:Math.min(95,Math.round(O/10*100)),timeframe:"24-48 hours",severity:O>8?"high":"moderate",recommendations:["Consider preventive medication","Reduce strenuous activities","Ensure adequate rest","Monitor trigger exposure"]}:null,_=Math.min(100,Math.round(10*e+5*t+l/o*30+(z?20:0))),B=Math.max(0,Math.min(100,Math.round(100-10*e-(a>0?a:0)+m/o*30-5*t))),Q=a>5?.8:a>0?.4:a<-5?-.7:a<0?-.3:0,Y={projectedAverage:Ee(e+Q,0,10),change:Q,confidence:c.length>=40?"high":c.length>=20?"medium":"low",narrative:`Pain levels are ${Q>.3?"worsening":Q<-.3?"improving":"holding steady"} based on the last ${c.length} entries.`},H=[];q&&H.push({title:"Flare alert (pattern-based)",detail:`Heuristic estimate ${q.probability}% within ${q.timeframe}. Consider pacing and preventive care now.`,category:"flare",emphasis:"high"===q.severity?"high":"medium"});const K=[...M].filter(e=>e.count>0).sort((e,s)=>s.avgPain-e.avgPain)[0];K&&K.avgPain-e>=1&&H.push({title:`${Pe[K.day]} pattern`,detail:`Average pain ${K.avgPain.toFixed(1)} on ${Pe[K.day]}. Schedule lighter duties or recovery blocks.`,category:"routine",emphasis:"medium"});const G=$.find(e=>e.avgDelta>1);G&&H.push({title:`${G.trigger} drives pain`,detail:`Pain averages +${G.avgDelta.toFixed(1)} when this trigger appears. Create a mitigation plan or log exposure notes.`,category:"trigger",emphasis:"high"});const J=L.find(e=>e.avgReduction>.5);return J&&H.push({title:`${J.medication} shows relief`,detail:`Average reduction ${J.avgReduction.toFixed(1)} points across ${J.uses} uses. Remember to document dosing accuracy.`,category:"medication",emphasis:"medium"}),I&&I.avgReduction>.3&&H.push({title:"Optimize medication timing",detail:`Greatest relief occurs around ${I.label}. Aim to medicate within this window when feasible.`,category:"medication",emphasis:"medium"}),0===H.length&&H.push({title:"Keep logging for smarter predictions",detail:"More varied entries (triggers, medication notes, sleep quality) will unlock individualized recommendations.",category:"routine",emphasis:"low"}),{avgPain:e,trend:a,volatility:t,goodDays:m,badDays:l,topLocations:d,topTriggers:N,topReliefMethods:y,topActivities:x,topQualities:D,stressStats:g,activityLevelStats:P,weatherCount:C,timePatterns:E,dayOfWeekPatterns:M,monthlyTrend:S,triggerPainCorrelation:$,medicationEffectiveness:L,predictedFlare:q,riskScore:_,improvementScore:B,optimalMedicationWindow:I,nextWeekForecast:Y,personalizedRecommendations:H}},[c]),l=s.useMemo(()=>{if(0===c.length)return null;try{return ie(c)}catch(e){return null}},[c]),u=s.useMemo(()=>Ie(m,c.length),[m,c.length]);return a.jsxDEV("div",{className:"min-h-screen bg-background",children:[a.jsxDEV("header",{className:"border-b bg-card",children:a.jsxDEV("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxDEV("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-start sm:justify-between",children:[a.jsxDEV("div",{className:"flex items-center gap-4",children:[a.jsxDEV("div",{className:"h-12 w-12 rounded-lg bg-primary/10 text-primary flex items-center justify-center",children:a.jsxDEV(v,{className:"w-7 h-7","aria-hidden":!0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:849,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:848,columnNumber:15},void 0),a.jsxDEV("div",{children:[a.jsxDEV("h1",{className:"text-3xl font-semibold text-foreground",children:"Premium Analytics"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:852,columnNumber:17},void 0),a.jsxDEV("p",{className:"text-muted-foreground mt-1",children:"Advanced pattern recognition using statistical analysis"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:853,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:851,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:847,columnNumber:13},void 0),a.jsxDEV("div",{className:"flex flex-wrap items-center gap-3",children:[a.jsxDEV(N,{variant:"secondary",size:"sm",leftIcon:a.jsxDEV(W,{className:"w-4 h-4","aria-hidden":!0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:863,columnNumber:27},void 0),onClick:()=>n("export"),children:"Share"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:860,columnNumber:15},void 0),a.jsxDEV(N,{variant:"default",size:"sm",leftIcon:a.jsxDEV(F,{className:"w-4 h-4","aria-hidden":!0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:871,columnNumber:27},void 0),onClick:()=>n("export"),children:"Export"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:868,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:859,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:846,columnNumber:11},void 0),a.jsxDEV("div",{className:"mt-6 flex flex-wrap gap-2","aria-label":"Time range",children:[{value:"7d",label:"7 days"},{value:"30d",label:"30 days"},{value:"90d",label:"90 days"},{value:"1y",label:"1 year"},{value:"all",label:"All time"}].map(e=>a.jsxDEV(N,{type:"button",size:"sm",variant:r===e.value?"secondary":"ghost","aria-pressed":r===e.value,onClick:()=>t(e.value),children:e.label},e.value,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:887,columnNumber:15},void 0))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:879,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:845,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:844,columnNumber:7},void 0),a.jsxDEV("nav",{className:"sticky top-0 z-40 border-b bg-background/80 backdrop-blur",children:a.jsxDEV("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxDEV("div",{className:"flex gap-1 overflow-x-auto py-2","aria-label":"Analytics sections",children:[{id:"overview",label:"Overview",icon:S},{id:"patterns",label:"Pattern analysis",icon:L},{id:"predictions",label:"Predictions",icon:I},{id:"clinical",label:"Clinical report",icon:k},{id:"insights",label:"AI insights",icon:v},{id:"export",label:"Export & share",icon:F}].map(e=>{const s=e.icon,r=i===e.id;return a.jsxDEV(N,{type:"button",size:"sm",variant:r?"secondary":"ghost","aria-current":r?"page":void 0,leftIcon:a.jsxDEV(s,{className:"w-4 h-4","aria-hidden":!0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:922,columnNumber:29},void 0),onClick:()=>n(e.id),className:"whitespace-nowrap",children:e.label},e.id,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:916,columnNumber:17},void 0)})},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:904,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:903,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:902,columnNumber:7},void 0),a.jsxDEV("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:["overview"===i&&a.jsxDEV(Me,{analytics:m,entries:c,timeRangeLabel:o},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:936,columnNumber:11},void 0),"patterns"===i&&a.jsxDEV(Se,{analytics:m,entries:c,timeRangeLabel:o},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:943,columnNumber:11},void 0),"predictions"===i&&a.jsxDEV($e,{analytics:m},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:949,columnNumber:36},void 0),"clinical"===i&&a.jsxDEV(We,{analytics:m,entries:c},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:951,columnNumber:11},void 0),"insights"===i&&a.jsxDEV(Fe,{analytics:m,entries:c,reasoningTree:u,patternAnalysis:l},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:954,columnNumber:11},void 0),"export"===i&&a.jsxDEV(Re,{analytics:m,entries:c},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:961,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:934,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:843,columnNumber:5},void 0)},Me=({analytics:e,entries:r,timeRangeLabel:t})=>{const[i,o]=s.useState("week-to-week"),d=s.useMemo(()=>function(e,s){const a=s?.windowDays,r=s?.minDaysPerWindow??3,t=s?.stableThresholdPercent??5,i=pe(e);if(i.length<2*r)return null;const n=Math.min(a,Math.floor(i.length/2));if(n<r)return null;const o=i.slice(0,n),c=i.slice(i.length-n),m=e=>e.reduce((e,s)=>e+s.avgPain,0)/Math.max(1,e.length),l=m(o),u=m(c);if(!Number.isFinite(l)||l<=.05)return null;const d=(l-u)/l*100,p=Math.abs(d)<t?"stable":d>0?"improving":"worsening";return{baselineDays:o.length,recentDays:c.length,baselineAvgPain:l,recentAvgPain:u,percentImproved:d,direction:p}}(r,{windowDays:14}),[r]),p=s.useMemo(()=>pe(r).map(e=>e.avgPain).slice(-30),[r]),b=s.useMemo(()=>{const e=new Set;return r.forEach(s=>{const a=new Date(s.timestamp),r=a.getFullYear(),t=String(a.getMonth()+1).padStart(2,"0"),i=String(a.getDate()).padStart(2,"0");e.add(`${r}-${t}-${i}`)}),e.size},[r]),h=b>0?`pain â‰¤ 3 (daily avg) Â· ${(e.goodDays/b*100).toFixed(0)}% of days`:"pain â‰¤ 3 (daily avg) Â· No days yet";return a.jsxDEV("div",{className:"space-y-6",children:[a.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsxDEV(Oe,{title:"Average Pain Level",value:e.avgPain.toFixed(1),subtitle:`out of 10 Â· ${t}`,trend:e.trend,icon:$,color:"blue"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1027,columnNumber:9},void 0),a.jsxDEV(Oe,{title:"Pain Volatility",value:e.volatility.toFixed(1),subtitle:"standard deviation",icon:L,color:"purple"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1036,columnNumber:9},void 0),a.jsxDEV(Oe,{title:"Good Days",value:e.goodDays.toString(),subtitle:h,icon:R,color:"green"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1044,columnNumber:9},void 0),a.jsxDEV(Oe,{title:"Pain Burden Score",value:e.riskScore.toString(),subtitle:`0â€“100 (heuristic; higher = more burden) Â· ${t}`,icon:O,color:e.riskScore>70?"red":e.riskScore>40?"yellow":"green"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1052,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1026,columnNumber:7},void 0),a.jsxDEV(n,{children:[a.jsxDEV(c,{className:"pb-4",children:a.jsxDEV("div",{className:"flex items-start justify-between gap-4 w-full",children:[a.jsxDEV("div",{children:[a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV(V,{className:"w-5 h-5 text-primary","aria-hidden":!0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1066,columnNumber:17},void 0),a.jsxDEV(m,{className:"text-lg",children:"Progress since starting"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1067,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1065,columnNumber:15},void 0),a.jsxDEV(y,{children:"Compares your first 2 weeks of logs to your most recent 2 weeks."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1069,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1064,columnNumber:13},void 0),d?a.jsxDEV(u,{variant:"improving"===d.direction?"success":"worsening"===d.direction?"destructive":"secondary",title:"This is a simple estimate based on daily averages. It may shift as you log more days.",children:"improving"===d.direction?"Improving":"worsening"===d.direction?"Worsening":"Stable"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1074,columnNumber:15},void 0):null]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1063,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1062,columnNumber:9},void 0),a.jsxDEV(l,{className:"space-y-4",children:d?a.jsxDEV(a.Fragment,{children:[a.jsxDEV("div",{className:"flex flex-col sm:flex-row sm:items-end sm:justify-between gap-3",children:[a.jsxDEV("div",{children:[a.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Estimated change"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1102,columnNumber:19},void 0),a.jsxDEV("p",{className:"text-2xl font-semibold text-foreground",children:[d.percentImproved>=0?"You've improved ":"Pain has increased ",Math.min(100,Math.abs(d.percentImproved)).toFixed(0),"%"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1103,columnNumber:19},void 0),a.jsxDEV("p",{className:"text-sm text-muted-foreground",children:["Baseline avg ",d.baselineAvgPain.toFixed(1)," â†’ Recent avg"," ",d.recentAvgPain.toFixed(1)," (0â€“10)"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1107,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1101,columnNumber:17},void 0),p.length>1?a.jsxDEV("div",{className:"h-10 w-full sm:w-56","aria-hidden":!0,children:a.jsxDEV("svg",{width:"100%",height:"100%",viewBox:"0 0 100 40",preserveAspectRatio:"none",className:"overflow-visible",children:a.jsxDEV("polyline",{fill:"none",stroke:"currentColor",className:"improving"===d.direction?"text-success":"worsening"===d.direction?"text-destructive":"text-muted-foreground",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",points:(()=>{const e=p,s=Math.max(...e),a=Math.min(...e),r=s-a||1;return e.map((s,t)=>`${t/(e.length-1)*100},${40-(s-a)/r*34-3}`).join(" ")})()},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1122,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1115,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1114,columnNumber:19},void 0):null]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1100,columnNumber:15},void 0),a.jsxDEV("div",{className:"space-y-1 text-sm text-muted-foreground",children:[a.jsxDEV("p",{children:["Baseline window: ",d.baselineDays," logged days Â· Recent window:"," ",d.recentDays," logged days"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1155,columnNumber:17},void 0),a.jsxDEV("p",{children:"Tip: This view is meant to be gentle and directional, not a scorecard."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1159,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1154,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1099,columnNumber:13},void 0):a.jsxDEV("p",{className:"text-sm text-muted-foreground",children:'Keep logging for a bit longer to see a "since starting" progress estimate.'},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1095,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1093,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1061,columnNumber:7},void 0),a.jsxDEV(n,{children:[a.jsxDEV(c,{className:"pb-4",children:a.jsxDEV("div",{className:"flex items-start justify-between gap-4 w-full",children:[a.jsxDEV("div",{children:[a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV(T,{className:"w-5 h-5 text-primary","aria-hidden":!0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1173,columnNumber:17},void 0),a.jsxDEV(m,{className:"text-lg",children:"Quick comparisons"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1174,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1172,columnNumber:15},void 0),a.jsxDEV(y,{children:"Compare this week vs last week, or this month vs last month."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1176,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1171,columnNumber:13},void 0),a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV(N,{type:"button",size:"sm",variant:"week-to-week"===i?"secondary":"ghost","aria-pressed":"week-to-week"===i,onClick:()=>o("week-to-week"),children:"Week"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1181,columnNumber:15},void 0),a.jsxDEV(N,{type:"button",size:"sm",variant:"month-to-month"===i?"secondary":"ghost","aria-pressed":"month-to-month"===i,onClick:()=>o("month-to-month"),children:"Month"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1190,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1180,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1170,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1169,columnNumber:9},void 0),a.jsxDEV(l,{children:a.jsxDEV(ge,{entries:r,defaultComparisonType:i},i,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1203,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1202,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1168,columnNumber:7},void 0),e.predictedFlare&&a.jsxDEV(n,{variant:"outlined",className:"border-destructive/30 bg-destructive/5",children:[a.jsxDEV(c,{className:"pb-3",children:a.jsxDEV("div",{className:"flex items-start justify-between gap-4 w-full",children:[a.jsxDEV("div",{className:"flex items-start gap-3",children:[a.jsxDEV("div",{className:"h-12 w-12 rounded-lg flex items-center justify-center bg-destructive/10 text-destructive",children:a.jsxDEV(O,{className:"w-6 h-6","aria-hidden":!0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1218,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1217,columnNumber:17},void 0),a.jsxDEV("div",{children:[a.jsxDEV(m,{className:"text-xl",children:"Flare alert (pattern-based)"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1221,columnNumber:19},void 0),a.jsxDEV(y,{children:["Possible within the next ",e.predictedFlare.timeframe]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1222,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1220,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1216,columnNumber:15},void 0),a.jsxDEV(u,{variant:"destructive",className:"shrink-0",children:[e.predictedFlare.probability,"% (heuristic)"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1227,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1215,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1214,columnNumber:11},void 0),a.jsxDEV(l,{className:"space-y-3",children:[a.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"This alert reflects recent patterns in your logs. It is a heuristic estimate, not a clinical diagnosis or medical advice."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1233,columnNumber:13},void 0),a.jsxDEV("div",{className:"space-y-2",children:[a.jsxDEV("p",{className:"text-sm font-semibold text-foreground",children:"Recommended actions"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1238,columnNumber:15},void 0),a.jsxDEV("ul",{className:"space-y-1 text-sm text-muted-foreground",children:e.predictedFlare.recommendations.map((e,s)=>a.jsxDEV("li",{className:"flex items-start gap-2",children:[a.jsxDEV(R,{className:"w-4 h-4 mt-0.5 flex-shrink-0 text-success","aria-hidden":!0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1242,columnNumber:21},void 0),a.jsxDEV("span",{children:e},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1243,columnNumber:21},void 0)]},s,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1241,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1239,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1237,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1232,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1213,columnNumber:9},void 0),a.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxDEV(n,{children:[a.jsxDEV(c,{className:"pb-4",children:a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV(z,{className:"w-5 h-5 text-primary","aria-hidden":!0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1258,columnNumber:15},void 0),a.jsxDEV(m,{className:"text-lg",children:"Most affected areas"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1259,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1257,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1256,columnNumber:11},void 0),a.jsxDEV(l,{children:a.jsxDEV("div",{className:"space-y-3",children:e.topLocations.map((e,s)=>a.jsxDEV("div",{className:"flex items-center gap-3",children:[a.jsxDEV(u,{variant:"secondary",className:"h-8 w-8 justify-center rounded-lg flex-shrink-0",children:s+1},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1266,columnNumber:19},void 0),a.jsxDEV("div",{className:"flex-1",children:[a.jsxDEV("div",{className:"flex items-center justify-between mb-1",children:[a.jsxDEV("span",{className:"font-medium text-foreground capitalize",children:e.location},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1274,columnNumber:23},void 0),a.jsxDEV("span",{className:"text-sm text-muted-foreground",children:[e.count," times"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1275,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1273,columnNumber:21},void 0),a.jsxDEV("div",{className:"w-full bg-muted rounded-full h-2",children:a.jsxDEV("div",{className:"bg-primary h-2 rounded-full transition-all",style:{width:`${e.percentage}%`}},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1278,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1277,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1272,columnNumber:19},void 0)]},s,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1265,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1263,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1262,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1255,columnNumber:9},void 0),a.jsxDEV(n,{children:[a.jsxDEV(c,{className:"pb-4",children:a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV(q,{className:"w-5 h-5 text-warning","aria-hidden":!0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1294,columnNumber:15},void 0),a.jsxDEV(m,{className:"text-lg",children:"Common triggers"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1295,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1293,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1292,columnNumber:11},void 0),a.jsxDEV(l,{children:a.jsxDEV("div",{className:"space-y-3",children:e.topTriggers.length>0?e.topTriggers.map((e,s)=>a.jsxDEV("div",{className:"flex items-center gap-3",children:[a.jsxDEV(u,{variant:"secondary",className:"h-8 w-8 justify-center rounded-lg flex-shrink-0",children:s+1},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1303,columnNumber:21},void 0),a.jsxDEV("div",{className:"flex-1",children:[a.jsxDEV("div",{className:"flex items-center justify-between mb-1",children:[a.jsxDEV("span",{className:"font-medium text-foreground capitalize",children:e.trigger},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1311,columnNumber:25},void 0),a.jsxDEV("span",{className:"text-sm text-muted-foreground",children:[e.count," times"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1314,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1310,columnNumber:23},void 0),a.jsxDEV("div",{className:"w-full bg-muted rounded-full h-2",children:a.jsxDEV("div",{className:"bg-warning h-2 rounded-full transition-all",style:{width:`${e.percentage}%`}},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1317,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1316,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1309,columnNumber:21},void 0)]},s,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1302,columnNumber:19},void 0)):a.jsxDEV("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No triggers tracked yet. Start logging triggers to see patterns."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1326,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1299,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1298,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1291,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1253,columnNumber:7},void 0),a.jsxDEV(n,{children:[a.jsxDEV(c,{className:"pb-4",children:a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV(_,{className:"w-5 h-5 text-primary","aria-hidden":!0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1339,columnNumber:13},void 0),a.jsxDEV(m,{className:"text-lg",children:"Pain patterns by time of day"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1340,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1338,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1337,columnNumber:9},void 0),a.jsxDEV(l,{children:a.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:Object.entries(e.timePatterns).map(([e,s])=>{const r={morning:f,afternoon:f,evening:B,night:B}[e],t=(e=>e>=7?"destructive":e>=5?"warning":e>=3?"info":"success")(s.avgIntensity);return a.jsxDEV(n,{variant:"filled",padding:"sm",className:"flex items-start justify-between gap-3",children:[a.jsxDEV("div",{children:[a.jsxDEV("div",{className:"flex items-center gap-2 mb-1",children:[a.jsxDEV(r,{className:"w-4 h-4 text-muted-foreground","aria-hidden":!0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1361,columnNumber:23},void 0),a.jsxDEV("span",{className:"text-sm font-semibold text-foreground capitalize",children:e},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1362,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1360,columnNumber:21},void 0),a.jsxDEV("div",{className:"text-3xl font-semibold text-foreground",children:s.avgIntensity.toFixed(1)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1364,columnNumber:21},void 0),a.jsxDEV("div",{className:"text-xs text-muted-foreground",children:[s.count," entries"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1365,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1359,columnNumber:19},void 0),a.jsxDEV(u,{variant:t,className:"shrink-0",children:"destructive"===t?"High":"warning"===t?"Moderate":"info"===t?"Elevated":"Low"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1367,columnNumber:19},void 0)]},e,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1358,columnNumber:17},void 0)})},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1344,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1343,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1336,columnNumber:7},void 0),e.medicationEffectiveness.length>0&&a.jsxDEV(n,{children:[a.jsxDEV(c,{className:"pb-4",children:[a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV(k,{className:"w-5 h-5 text-primary","aria-hidden":!0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1388,columnNumber:15},void 0),a.jsxDEV(m,{className:"text-lg",children:"Observed relief after medication"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1389,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1387,columnNumber:13},void 0),a.jsxDEV(y,{children:"Estimated from entries where exactly one medication was logged, using pain score change in the next entry (observational)."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1391,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1386,columnNumber:11},void 0),a.jsxDEV(l,{children:a.jsxDEV("div",{className:"space-y-3",children:e.medicationEffectiveness.map((e,s)=>{const r=(t=e.effectiveness)>50?"success":t>20?"warning":"destructive";var t;const i=(e=>e>50?"bg-success":e>20?"bg-warning":"bg-destructive")(e.effectiveness),o=e.avgReduction>0&&e.avgReduction<.1?"<0.1":e.avgReduction.toFixed(1),c=e.effectiveness>0&&e.effectiveness<1?1:Math.min(100,e.effectiveness);return a.jsxDEV(n,{variant:"filled",padding:"sm",children:[a.jsxDEV("div",{className:"flex items-center justify-between gap-3 mb-2",children:[a.jsxDEV("div",{className:"min-w-0",children:[a.jsxDEV("div",{className:"font-medium text-foreground truncate",children:e.medication},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1413,columnNumber:25},void 0),a.jsxDEV("div",{className:"text-xs text-muted-foreground",children:[e.uses," uses"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1414,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1412,columnNumber:23},void 0),a.jsxDEV(u,{variant:r,className:"shrink-0",children:[o," pts"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1416,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1411,columnNumber:21},void 0),a.jsxDEV("div",{className:"w-full bg-muted rounded-full h-3",children:a.jsxDEV("div",{className:`h-3 rounded-full transition-all ${i}`,style:{width:`${c}%`}},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1422,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1421,columnNumber:21},void 0),a.jsxDEV("div",{className:"mt-2 text-xs text-muted-foreground",children:["Avg reduction: ",o," points"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1428,columnNumber:21},void 0)]},s,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1410,columnNumber:19},void 0)})},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1397,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1396,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1385,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1024,columnNumber:5},void 0)},Se=({analytics:e,entries:s,timeRangeLabel:r})=>{const t=[{key:"morning",label:"Morning",window:"5a - 12p",Icon:f},{key:"afternoon",label:"Afternoon",window:"12p - 5p",Icon:f},{key:"evening",label:"Evening",window:"5p - 9p",Icon:B},{key:"night",label:"Night",window:"9p - 5a",Icon:B}],i=e=>e>=7?"destructive":e>=5?"warning":e>=3?"info":"success";return a.jsxDEV("div",{className:"space-y-6",children:[a.jsxDEV("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[a.jsxDEV(n,{children:[a.jsxDEV(c,{className:"pb-4",children:a.jsxDEV("div",{className:"flex items-start justify-between gap-4 w-full",children:[a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV(L,{className:"w-5 h-5 text-primary","aria-hidden":!0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1491,columnNumber:17},void 0),a.jsxDEV(m,{className:"text-lg",children:"Time & day patterns"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1492,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1490,columnNumber:15},void 0),a.jsxDEV(u,{variant:"info",className:"shrink-0",children:"Live"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1494,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1489,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1488,columnNumber:11},void 0),a.jsxDEV(l,{children:[a.jsxDEV(y,{className:"mb-5",children:"Highlighting when pain is most likely to spike based on your historical entries."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1500,columnNumber:13},void 0),a.jsxDEV("div",{className:"space-y-4",children:[a.jsxDEV("div",{children:[a.jsxDEV("h4",{className:"text-xs font-semibold uppercase text-muted-foreground mb-2",children:"Time of day"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1506,columnNumber:17},void 0),a.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:t.map(({key:s,label:r,window:t,Icon:o})=>{const c=e.timePatterns[s],m=c&&c.count>0?c.avgIntensity:null,l=null===m?"secondary":i(m);return a.jsxDEV(n,{variant:"filled",padding:"sm",className:"flex items-center justify-between gap-2",children:[a.jsxDEV("div",{children:[a.jsxDEV("p",{className:"text-sm font-semibold text-foreground",children:r},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1522,columnNumber:27},void 0),a.jsxDEV("p",{className:"text-xs text-muted-foreground",children:t},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1523,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1521,columnNumber:25},void 0),a.jsxDEV(u,{variant:l,children:null===m?"â€”":m.toFixed(1)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1525,columnNumber:25},void 0),a.jsxDEV(o,{className:"w-4 h-4 text-muted-foreground","aria-hidden":!0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1528,columnNumber:25},void 0)]},String(s),!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1515,columnNumber:23},void 0)})},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1509,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1505,columnNumber:15},void 0),a.jsxDEV("div",{children:[a.jsxDEV("h4",{className:"text-xs font-semibold uppercase text-muted-foreground mb-2",children:"Day of week"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1536,columnNumber:17},void 0),a.jsxDEV("div",{className:"grid grid-cols-7 gap-1",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((s,r)=>{const t=e.dayOfWeekPatterns?.find(e=>e.day===r),o=t&&t.count>0?t.avgPain:null,c=null===o?"secondary":i(o);return a.jsxDEV(n,{variant:"filled",padding:"sm",className:"text-center",children:[a.jsxDEV("div",{className:"text-xs font-semibold text-muted-foreground",children:s},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1551,columnNumber:25},void 0),a.jsxDEV("div",{className:"mt-2 flex justify-center",children:a.jsxDEV(u,{variant:c,children:null===o?"â€”":o.toFixed(1)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1553,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1552,columnNumber:25},void 0)]},`${s}-${r}`,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1545,columnNumber:23},void 0)})},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1539,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1535,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1504,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1499,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1487,columnNumber:9},void 0),a.jsxDEV(n,{className:"xl:col-span-2",children:[a.jsxDEV(c,{className:"pb-4",children:[a.jsxDEV("div",{className:"flex items-start justify-between gap-4 w-full",children:[a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV(S,{className:"w-5 h-5 text-primary","aria-hidden":!0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1569,columnNumber:17},void 0),a.jsxDEV(m,{className:"text-lg",children:"Trigger impact matrix"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1570,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1568,columnNumber:15},void 0),a.jsxDEV("span",{className:"text-xs text-muted-foreground",title:"Î” is computed as: (average pain when this trigger is logged) minus (overall average pain) within the selected time range. Negative values mean lower-than-average pain when the trigger appears. This is observational and may be confounded by when/how you log.",children:["Î” Pain vs average Â· ",r]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1572,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1567,columnNumber:13},void 0),a.jsxDEV(y,{children:"Negative Î” means lower-than-average pain when the trigger is logged (association, not causation)."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1579,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1566,columnNumber:11},void 0),a.jsxDEV(l,{children:e.triggerPainCorrelation&&e.triggerPainCorrelation.length>0?a.jsxDEV("div",{className:"overflow-x-auto",children:a.jsxDEV("table",{className:"min-w-full text-sm",children:[a.jsxDEV("thead",{children:a.jsxDEV("tr",{className:"text-left text-muted-foreground border-b border-border",children:[a.jsxDEV("th",{className:"py-2 pr-4 font-medium",children:"Trigger"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1591,columnNumber:21},void 0),a.jsxDEV("th",{className:"py-2 pr-4 font-medium",children:"Observations"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1592,columnNumber:21},void 0),a.jsxDEV("th",{className:"py-2 pr-4 font-medium",children:"Avg Î” Pain"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1593,columnNumber:21},void 0),a.jsxDEV("th",{className:"py-2 pr-4 font-medium",children:"Interpretation"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1594,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1590,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1589,columnNumber:17},void 0),a.jsxDEV("tbody",{children:e.triggerPainCorrelation.map(e=>{const s=Math.abs(e.avgDelta)>=2?"strong":Math.abs(e.avgDelta)>=1?"moderate":"mild",r=e.avgDelta>0;return a.jsxDEV("tr",{className:"border-b border-border/60 last:border-0",children:[a.jsxDEV("td",{className:"py-3 pr-4 text-foreground capitalize",children:e.trigger},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1611,columnNumber:25},void 0),a.jsxDEV("td",{className:"py-3 pr-4 text-muted-foreground",children:e.count},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1614,columnNumber:25},void 0),a.jsxDEV("td",{className:"py-3 pr-4",children:a.jsxDEV(u,{variant:r?"destructive":"success",children:[r?"+":"",e.avgDelta.toFixed(1)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1616,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1615,columnNumber:25},void 0),a.jsxDEV("td",{className:"py-3 pr-4 text-xs text-muted-foreground",children:r?`${s} association with higher-than-average pain`:`${s} association with lower-than-average pain`},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1621,columnNumber:25},void 0)]},e.trigger,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1607,columnNumber:23},void 0)})},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1597,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1588,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1587,columnNumber:13},void 0):a.jsxDEV("div",{className:"text-sm text-muted-foreground",children:"Log triggers alongside your entries to quantify how each factor raises or lowers your average pain (within the selected time range)."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1633,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1584,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1565,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1485,columnNumber:7},void 0),a.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxDEV(n,{children:[a.jsxDEV(c,{className:"pb-4",children:a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV(Q,{className:"w-5 h-5 text-primary","aria-hidden":!0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1647,columnNumber:15},void 0),a.jsxDEV(m,{className:"text-lg",children:"Relief methods"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1648,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1646,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1645,columnNumber:11},void 0),a.jsxDEV(l,{children:e.topReliefMethods.length>0?a.jsxDEV("div",{className:"space-y-3",children:e.topReliefMethods.map((e,s)=>a.jsxDEV("div",{className:"flex items-center gap-3",children:[a.jsxDEV(u,{variant:"secondary",className:"h-8 w-8 justify-center rounded-lg flex-shrink-0",children:s+1},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1656,columnNumber:21},void 0),a.jsxDEV("div",{className:"flex-1",children:[a.jsxDEV("div",{className:"flex items-center justify-between mb-1",children:[a.jsxDEV("span",{className:"font-medium text-foreground",children:e.trigger},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1661,columnNumber:25},void 0),a.jsxDEV("span",{className:"text-sm text-muted-foreground",children:e.count},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1662,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1660,columnNumber:23},void 0),a.jsxDEV("div",{className:"w-full bg-muted rounded-full h-2",children:a.jsxDEV("div",{className:"bg-primary h-2 rounded-full transition-all",style:{width:`${Math.min(100,e.percentage)}%`}},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1665,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1664,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1659,columnNumber:21},void 0)]},`${e.trigger}-${s}`,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1655,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1653,columnNumber:15},void 0):a.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Add relief methods to entries to understand what consistently helps."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1675,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1651,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1644,columnNumber:9},void 0),a.jsxDEV(n,{children:[a.jsxDEV(c,{className:"pb-4",children:a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV(q,{className:"w-5 h-5 text-primary","aria-hidden":!0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1685,columnNumber:15},void 0),a.jsxDEV(m,{className:"text-lg",children:"Pain quality"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1686,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1684,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1683,columnNumber:11},void 0),a.jsxDEV(l,{children:e.topQualities.length>0?a.jsxDEV("div",{className:"flex flex-wrap gap-2",children:e.topQualities.map(e=>a.jsxDEV(u,{variant:"outline",className:"capitalize",children:[e.trigger," (",e.count,")"]},e.trigger,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1693,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1691,columnNumber:15},void 0):a.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Log pain quality (e.g., sharp, burning) to spot patterns."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1699,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1689,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1682,columnNumber:9},void 0),a.jsxDEV(n,{children:[a.jsxDEV(c,{className:"pb-4",children:a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV($,{className:"w-5 h-5 text-primary","aria-hidden":!0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1709,columnNumber:15},void 0),a.jsxDEV(m,{className:"text-lg",children:"Activities"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1710,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1708,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1707,columnNumber:11},void 0),a.jsxDEV(l,{children:e.topActivities.length>0?a.jsxDEV("div",{className:"flex flex-wrap gap-2",children:e.topActivities.map(e=>a.jsxDEV(u,{variant:"outline",className:"capitalize",children:[e.trigger," (",e.count,")"]},e.trigger,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1717,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1715,columnNumber:15},void 0):a.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Log activities to see which ones correlate with flare-ups or relief."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1723,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1713,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1706,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1643,columnNumber:7},void 0),a.jsxDEV(n,{children:[a.jsxDEV(c,{className:"pb-4",children:a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV(I,{className:"w-5 h-5 text-primary","aria-hidden":!0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1734,columnNumber:13},void 0),a.jsxDEV(m,{className:"text-lg",children:"Stress & activity level"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1735,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1733,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1732,columnNumber:9},void 0),a.jsxDEV(l,{children:[a.jsxDEV(y,{className:"mb-4",children:"Optional signals that help explain why pain changes day-to-day."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1739,columnNumber:11},void 0),a.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsxDEV(n,{variant:"filled",padding:"sm",className:"flex items-center justify-between gap-3",children:[a.jsxDEV("div",{children:[a.jsxDEV("p",{className:"text-sm font-semibold text-foreground",children:"Activity level"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1745,columnNumber:17},void 0),a.jsxDEV("p",{className:e.activityLevelStats.count>0?"text-xs text-muted-foreground":"text-xs font-semibold text-foreground",children:e.activityLevelStats.count>0?`${e.activityLevelStats.count} logs Â· min ${e.activityLevelStats.min} Â· max ${e.activityLevelStats.max}`:"Not logged yet"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1746,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1744,columnNumber:15},void 0),a.jsxDEV(u,{variant:e.activityLevelStats.count>0?i(e.activityLevelStats.avg):"secondary",children:e.activityLevelStats.count>0?e.activityLevelStats.avg.toFixed(1):"â€”"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1758,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1743,columnNumber:13},void 0),a.jsxDEV(n,{variant:"filled",padding:"sm",className:"flex items-center justify-between gap-3",children:[a.jsxDEV("div",{children:[a.jsxDEV("p",{className:"text-sm font-semibold text-foreground",children:"Stress"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1765,columnNumber:17},void 0),a.jsxDEV("p",{className:"text-xs text-muted-foreground",children:e.stressStats.count>0?`${e.stressStats.count} logs Â· min ${e.stressStats.min} Â· max ${e.stressStats.max}`:"Not logged yet"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1766,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1764,columnNumber:15},void 0),a.jsxDEV(u,{variant:e.stressStats.count>0?i(e.stressStats.avg):"secondary",children:e.stressStats.count>0?e.stressStats.avg.toFixed(1):"â€”"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1772,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1763,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1742,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1738,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1731,columnNumber:7},void 0),a.jsxDEV(n,{children:[a.jsxDEV(c,{className:"pb-4",children:a.jsxDEV("div",{className:"flex items-start justify-between gap-4 w-full",children:[a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV(T,{className:"w-5 h-5 text-primary","aria-hidden":!0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1785,columnNumber:15},void 0),a.jsxDEV(m,{className:"text-lg",children:"Seasonality & cyclical patterns"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1786,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1784,columnNumber:13},void 0),a.jsxDEV("span",{className:"text-xs text-muted-foreground",children:"Based on monthly averages"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1788,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1783,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1782,columnNumber:9},void 0),a.jsxDEV(l,{children:e.monthlyTrend&&e.monthlyTrend.length>0?a.jsxDEV("div",{className:"flex flex-wrap gap-3",children:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map((s,r)=>{const t=e.monthlyTrend.find(e=>e.month===r+1);if(!t)return a.jsxDEV("div",{className:"px-4 py-2 rounded-full border border-dashed border-border text-muted-foreground text-sm",children:s},s,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1799,columnNumber:19},void 0);const n=t.avgPain,o=i(n);return a.jsxDEV(u,{variant:o,className:"px-4 py-2",children:[s," Â· ",n.toFixed(1)]},s,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1810,columnNumber:17},void 0)})},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1794,columnNumber:11},void 0):a.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Add entries across different months to spot seasonal pain cycles (e.g., winter flare-ups, summer relief)."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1817,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1791,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1781,columnNumber:7},void 0),a.jsxDEV(ve,{entries:s},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1826,columnNumber:7},void 0),s.length>0&&a.jsxDEV(n,{padding:"none",className:"overflow-hidden",children:a.jsxDEV(be,{entries:s},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1831,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1830,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1484,columnNumber:5},void 0)},$e=({analytics:e})=>{const s=e.predictedFlare,r=e.nextWeekForecast,t=e.optimalMedicationWindow,i=e.personalizedRecommendations||[],o=(e.medicationEffectiveness||[]).slice(0,3),d=e.triggerPainCorrelation?.find(e=>e.avgDelta>0),p=e.triggerPainCorrelation?.slice().reverse().find(e=>e.avgDelta<0),N=e.dayOfWeekPatterns?.filter(e=>e.count>0).sort((e,s)=>s.avgPain-e.avgPain)[0],b=e=>"high"===e?"destructive":"medium"===e?"warning":"secondary";return a.jsxDEV("div",{className:"space-y-6",children:[a.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxDEV(n,{variant:"outlined",className:s?"border-destructive/30 bg-destructive/5":"border-success/30 bg-success/5",children:[a.jsxDEV(c,{className:"pb-4",children:a.jsxDEV("div",{className:"flex items-start justify-between gap-4 w-full",children:[a.jsxDEV("div",{children:[a.jsxDEV(y,{className:"uppercase tracking-wide",children:"Flare risk"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1887,columnNumber:17},void 0),a.jsxDEV(m,{className:"text-2xl mt-1",children:s?`${s.probability}%`:"Stable"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1888,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1886,columnNumber:15},void 0),a.jsxDEV("div",{className:"h-12 w-12 rounded-lg flex items-center justify-center "+(s?"bg-destructive/10 text-destructive":"bg-success/10 text-success"),children:a.jsxDEV(O,{className:"w-6 h-6","aria-hidden":!0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1897,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1892,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1885,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1884,columnNumber:11},void 0),a.jsxDEV(l,{children:[a.jsxDEV("p",{className:"text-sm text-muted-foreground",children:s?`Next ${s.timeframe} Â· Severity ${s.severity}`:"No immediate flare risk detected. Keep logging to maintain accuracy."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1902,columnNumber:13},void 0),a.jsxDEV("div",{className:"mt-4",children:[a.jsxDEV("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:a.jsxDEV("div",{className:"h-full "+(s?"bg-destructive":"bg-success"),style:{width:`${s?s.probability:20}%`}},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1909,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1908,columnNumber:15},void 0),s&&a.jsxDEV("ul",{className:"mt-3 text-sm space-y-1 text-muted-foreground list-disc list-inside",children:s.recommendations.map(e=>a.jsxDEV("li",{children:e},e,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1917,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1915,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1907,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1901,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1878,columnNumber:9},void 0),a.jsxDEV(n,{children:[a.jsxDEV(c,{className:"pb-4",children:a.jsxDEV("div",{className:"flex items-start justify-between gap-4 w-full",children:[a.jsxDEV("div",{children:[a.jsxDEV(y,{className:"uppercase tracking-wide",children:"7-day outlook"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1929,columnNumber:17},void 0),a.jsxDEV(m,{className:"text-2xl mt-1",children:[r?.projectedAverage?.toFixed(1)??"â€”"," / 10"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1930,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1928,columnNumber:15},void 0),a.jsxDEV("div",{className:"h-12 w-12 rounded-lg flex items-center justify-center bg-primary/10 text-primary",children:a.jsxDEV(I,{className:"w-6 h-6","aria-hidden":!0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1935,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1934,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1927,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1926,columnNumber:11},void 0),a.jsxDEV(l,{children:[a.jsxDEV("p",{className:"text-sm text-muted-foreground",children:r?a.jsxDEV(a.Fragment,{children:[`${r.change>=0?"+":""}${r.change.toFixed(1)} change vs current average Â· `,a.jsxDEV(u,{variant:(h=r.confidence,"high"===h?"success":"medium"===h?"warning":"secondary"),children:[r.confidence," confidence"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1944,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1942,columnNumber:17},void 0):"Need more entries to project forward."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1940,columnNumber:13},void 0),r?.narrative?a.jsxDEV("p",{className:"text-sm text-muted-foreground mt-3",children:r.narrative},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1953,columnNumber:15},void 0):null]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1939,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1925,columnNumber:9},void 0),a.jsxDEV(n,{children:[a.jsxDEV(c,{className:"pb-4",children:a.jsxDEV("div",{className:"flex items-start justify-between gap-4 w-full",children:[a.jsxDEV("div",{children:[a.jsxDEV(y,{className:"uppercase tracking-wide",children:"Optimal medication window"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1962,columnNumber:17},void 0),a.jsxDEV(m,{className:"text-xl mt-1",children:t?t.label:"Need more data"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1965,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1961,columnNumber:15},void 0),a.jsxDEV("div",{className:"h-12 w-12 rounded-lg flex items-center justify-center bg-warning/10 text-warning",children:a.jsxDEV(Q,{className:"w-6 h-6","aria-hidden":!0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1970,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1969,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1960,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1959,columnNumber:11},void 0),a.jsxDEV(l,{children:a.jsxDEV("p",{className:"text-sm text-muted-foreground",children:t?`Avg relief ${t.avgReduction.toFixed(1)} points across ${t.count} documented doses. Confidence ${(100*t.confidence).toFixed(0)}%.`:"Log medication usage alongside pain levels to unlock timing insights."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1975,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1974,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1958,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1877,columnNumber:7},void 0),a.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxDEV(n,{className:"lg:col-span-2",children:[a.jsxDEV(c,{className:"pb-4",children:a.jsxDEV("div",{className:"flex items-start justify-between gap-4 w-full",children:[a.jsxDEV("div",{children:[a.jsxDEV(y,{className:"uppercase tracking-wide",children:"Personalized recommendations"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1989,columnNumber:17},void 0),a.jsxDEV(m,{className:"text-2xl mt-1",children:"Next best actions"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1992,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1988,columnNumber:15},void 0),a.jsxDEV(v,{className:"w-6 h-6 text-primary","aria-hidden":!0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1994,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1987,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1986,columnNumber:11},void 0),a.jsxDEV(l,{children:0===i.length?a.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Keep logging detailed entries (triggers, meds, sleep) to unlock personalized guidance."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2e3,columnNumber:15},void 0):a.jsxDEV("div",{className:"space-y-3",children:i.map((e,s)=>a.jsxDEV(n,{variant:"filled",padding:"sm",children:[a.jsxDEV("div",{className:"flex items-start justify-between gap-3 mb-2",children:[a.jsxDEV("div",{className:"text-sm font-semibold text-foreground",children:e.title},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2009,columnNumber:23},void 0),a.jsxDEV(u,{variant:b(e.emphasis),className:"shrink-0",children:e.category},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2010,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2008,columnNumber:21},void 0),a.jsxDEV("p",{className:"text-sm text-muted-foreground leading-relaxed",children:e.detail},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2014,columnNumber:21},void 0)]},`${e.title}-${s}`,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2007,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2005,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1998,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1985,columnNumber:9},void 0),a.jsxDEV(n,{children:[a.jsxDEV(c,{className:"pb-4",children:a.jsxDEV("div",{children:[a.jsxDEV(y,{className:"uppercase tracking-wide",children:"Supporting signals"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2025,columnNumber:15},void 0),a.jsxDEV(m,{className:"text-lg mt-1",children:"What drives the model"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2026,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2024,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2023,columnNumber:11},void 0),a.jsxDEV(l,{className:"space-y-5",children:[a.jsxDEV("div",{className:"space-y-3",children:[a.jsxDEV(n,{variant:"filled",padding:"sm",className:"flex items-center justify-between gap-2",children:[a.jsxDEV("div",{children:[a.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Most sensitive trigger"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2033,columnNumber:19},void 0),a.jsxDEV("p",{className:"text-sm font-semibold text-foreground",children:d?d.trigger:"Need more data"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2034,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2032,columnNumber:17},void 0),d?a.jsxDEV(u,{variant:"destructive",children:["+",d.avgDelta.toFixed(1)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2039,columnNumber:19},void 0):null]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2031,columnNumber:15},void 0),a.jsxDEV(n,{variant:"filled",padding:"sm",className:"flex items-center justify-between gap-2",children:[a.jsxDEV("div",{children:[a.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Most stable trigger"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2045,columnNumber:19},void 0),a.jsxDEV("p",{className:"text-sm font-semibold text-foreground",children:p?p.trigger:"Logging needed"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2046,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2044,columnNumber:17},void 0),p?a.jsxDEV(u,{variant:"success",children:p.avgDelta.toFixed(1)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2051,columnNumber:19},void 0):null]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2043,columnNumber:15},void 0),a.jsxDEV(n,{variant:"filled",padding:"sm",className:"flex items-center justify-between gap-2",children:[a.jsxDEV("div",{children:[a.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Peak pain day"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2057,columnNumber:19},void 0),a.jsxDEV("p",{className:"text-sm font-semibold text-foreground",children:N?Pe[N.day]:"Need weekly coverage"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2058,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2056,columnNumber:17},void 0),N?a.jsxDEV(u,{variant:(e=>e>=7?"destructive":e>=5?"warning":e>=3?"info":"success")(N.avgPain),children:N.avgPain.toFixed(1)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2063,columnNumber:19},void 0):null]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2055,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2030,columnNumber:13},void 0),a.jsxDEV("div",{children:[a.jsxDEV("p",{className:"text-xs uppercase tracking-wide text-muted-foreground mb-2",children:"Top relief sources"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2071,columnNumber:15},void 0),a.jsxDEV("div",{className:"space-y-2",children:0===o.length?a.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Track medication usage to see which options your body responds to best."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2076,columnNumber:19},void 0):o.map(e=>a.jsxDEV("div",{className:"flex items-center justify-between text-sm",children:[a.jsxDEV("span",{className:"font-medium text-foreground",children:e.medication},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2082,columnNumber:23},void 0),a.jsxDEV(u,{variant:"success",children:["-",e.avgReduction.toFixed(1)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2083,columnNumber:23},void 0)]},e.medication,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2081,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2074,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2070,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2029,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2022,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1984,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1876,columnNumber:5},void 0);var h},We=({analytics:e,entries:s})=>{const r=s.length,t=[...s].sort((e,s)=>new Date(e.timestamp).getTime()-new Date(s.timestamp).getTime()),i=e=>e?new Date(e).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"}):"â€”",o=t[0]?.timestamp,d=t[t.length-1]?.timestamp,p=t[t.length-1],N=s.reduce((e,s)=>(s.functionalImpact&&(s.functionalImpact.limitedActivities?.forEach(s=>e.limitedActivities.add(s)),s.functionalImpact.assistanceNeeded?.forEach(s=>e.assistanceNeeded.add(s)),s.functionalImpact.mobilityAids?.forEach(s=>e.mobilityAids.add(s))),s.qualityOfLife&&("number"==typeof s.qualityOfLife.sleepQuality&&(e.sleepTotal+=s.qualityOfLife.sleepQuality,e.sleepCount+=1),"number"==typeof s.qualityOfLife.moodImpact&&(e.moodTotal+=s.qualityOfLife.moodImpact,e.moodCount+=1)),e),{limitedActivities:new Set,assistanceNeeded:new Set,mobilityAids:new Set,sleepTotal:0,sleepCount:0,moodTotal:0,moodCount:0}),b=s.reduce((e,s)=>(s.workImpact&&(e.missedDays+=s.workImpact.missedWork??0,s.workImpact.modifiedDuties?.forEach(s=>e.modifiedDuties.add(s)),s.workImpact.workLimitations?.forEach(s=>e.workLimitations.add(s))),e),{missedDays:0,modifiedDuties:new Set,workLimitations:new Set}),h=e.personalizedRecommendations?.slice(0,3)??[],x=e.medicationEffectiveness?.slice(0,3)??[],v=e.riskScore>75?"High":e.riskScore>50?"Elevated":"Managed",D=[`Average reported pain ${e.avgPain.toFixed(1)}/10 with ${e.volatility.toFixed(1)} volatility`,`${e.goodDays} good days (${(e.goodDays/Math.max(r,1)*100).toFixed(0)}% of period)`,e.predictedFlare?`Flare risk ${e.predictedFlare.probability}% in next ${e.predictedFlare.timeframe}`:"No imminent flare risk detected"];return a.jsxDEV("div",{className:"space-y-6",children:[a.jsxDEV(n,{children:a.jsxDEV(c,{className:"pb-4",children:a.jsxDEV("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-4 w-full",children:[a.jsxDEV("div",{children:[a.jsxDEV(y,{className:"text-xs uppercase tracking-[0.2em]",children:"Clinical summary"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2182,columnNumber:15},void 0),a.jsxDEV(m,{className:"text-2xl mt-2",children:"Pain management report"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2185,columnNumber:15},void 0),a.jsxDEV("p",{className:"text-sm text-muted-foreground mt-2",children:r>0?`${i(o)} â€“ ${i(d)} (${r} entries)`:"Awaiting entries to generate report."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2186,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2181,columnNumber:13},void 0),a.jsxDEV("div",{className:"flex flex-wrap gap-3",children:[a.jsxDEV(n,{variant:"filled",padding:"sm",className:"min-w-[140px]",children:[a.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Risk level"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2194,columnNumber:17},void 0),a.jsxDEV("p",{className:"font-semibold text-foreground",children:v},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2195,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2193,columnNumber:15},void 0),a.jsxDEV(n,{variant:"filled",padding:"sm",className:"min-w-[140px]",children:[a.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Latest entry"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2198,columnNumber:17},void 0),a.jsxDEV("p",{className:"font-semibold text-foreground",children:i(p?.timestamp)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2199,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2197,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2192,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2180,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2179,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2178,columnNumber:7},void 0),a.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxDEV(n,{children:[a.jsxDEV(c,{className:"pb-3",children:a.jsxDEV(m,{className:"text-sm font-semibold uppercase tracking-wide text-muted-foreground",children:"Pain overview"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2209,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2208,columnNumber:11},void 0),a.jsxDEV(l,{className:"space-y-3",children:D.map(e=>a.jsxDEV("div",{className:"flex items-start gap-3",children:[a.jsxDEV("div",{className:"w-2 h-2 rounded-full bg-primary mt-2","aria-hidden":!0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2216,columnNumber:15},void 0),a.jsxDEV("p",{className:"text-sm text-muted-foreground",children:e},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2217,columnNumber:15},void 0)]},e,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2215,columnNumber:13},void 0))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2213,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2207,columnNumber:9},void 0),a.jsxDEV(n,{children:[a.jsxDEV(c,{className:"pb-3",children:a.jsxDEV(m,{className:"text-sm font-semibold uppercase tracking-wide text-muted-foreground",children:"Functional impact"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2225,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2224,columnNumber:11},void 0),a.jsxDEV(l,{className:"space-y-2 text-sm text-muted-foreground",children:[a.jsxDEV("p",{children:[a.jsxDEV("span",{className:"font-semibold",children:"Limited Activities:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2231,columnNumber:15},void 0)," ",N.limitedActivities.size>0?Array.from(N.limitedActivities).join(", "):"Not documented"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2230,columnNumber:13},void 0),a.jsxDEV("p",{children:[a.jsxDEV("span",{className:"font-semibold",children:"Assistance Needed:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2237,columnNumber:15},void 0)," ",N.assistanceNeeded.size>0?Array.from(N.assistanceNeeded).join(", "):"Not documented"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2236,columnNumber:13},void 0),a.jsxDEV("p",{children:[a.jsxDEV("span",{className:"font-semibold",children:"Mobility Aids:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2243,columnNumber:15},void 0)," ",N.mobilityAids.size>0?Array.from(N.mobilityAids).join(", "):"Not documented"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2242,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2229,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2223,columnNumber:9},void 0),a.jsxDEV(n,{children:[a.jsxDEV(c,{className:"pb-3",children:a.jsxDEV(m,{className:"text-sm font-semibold uppercase tracking-wide text-muted-foreground",children:"WorkSafe BC readiness"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2253,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2252,columnNumber:11},void 0),a.jsxDEV(l,{children:a.jsxDEV("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[a.jsxDEV("li",{children:[a.jsxDEV("span",{className:"font-semibold",children:"Missed days:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2260,columnNumber:15},void 0)," ",b.missedDays]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2259,columnNumber:13},void 0),a.jsxDEV("li",{children:[a.jsxDEV("span",{className:"font-semibold",children:"Modified duties:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2263,columnNumber:15},void 0)," ",b.modifiedDuties.size>0?Array.from(b.modifiedDuties).join(", "):"None recorded"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2262,columnNumber:13},void 0),a.jsxDEV("li",{children:[a.jsxDEV("span",{className:"font-semibold",children:"Limitations:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2269,columnNumber:15},void 0)," ",b.workLimitations.size>0?Array.from(b.workLimitations).join(", "):"None recorded"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2268,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2258,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2257,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2251,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2206,columnNumber:7},void 0),a.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxDEV(n,{children:[a.jsxDEV(c,{className:"pb-4",children:a.jsxDEV("div",{className:"flex items-start justify-between gap-4 w-full",children:[a.jsxDEV(m,{className:"text-sm font-semibold uppercase tracking-wide text-muted-foreground",children:"Medication & treatment summary"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2283,columnNumber:15},void 0),a.jsxDEV("span",{className:"text-xs text-muted-foreground",children:["Last documented: ",i(p?.timestamp)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2286,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2282,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2281,columnNumber:11},void 0),a.jsxDEV(l,{children:[0===x.length?a.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Document medication usage along with pain score changes to surface effectiveness insights."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2293,columnNumber:13},void 0):a.jsxDEV("div",{className:"space-y-3",children:x.map(e=>a.jsxDEV(n,{variant:"filled",padding:"sm",children:a.jsxDEV("div",{className:"flex items-center justify-between gap-4",children:[a.jsxDEV("div",{children:[a.jsxDEV("p",{className:"font-semibold text-foreground",children:e.medication},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2303,columnNumber:21},void 0),a.jsxDEV("p",{className:"text-xs text-muted-foreground",children:[e.uses," entries"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2304,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2302,columnNumber:19},void 0),a.jsxDEV("div",{className:"text-right",children:[a.jsxDEV(u,{variant:"success",children:["-",e.avgReduction.toFixed(1)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2307,columnNumber:21},void 0),a.jsxDEV("p",{className:"text-xs text-muted-foreground mt-1",children:"Avg pain change"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2308,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2306,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2301,columnNumber:19},void 0)},e.medication,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2300,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2298,columnNumber:13},void 0),e.optimalMedicationWindow&&a.jsxDEV(n,{variant:"filled",padding:"sm",className:"mt-4 border-primary/20 bg-primary/5",children:a.jsxDEV("p",{className:"text-sm text-foreground",children:["Optimal timing:"," ",a.jsxDEV("span",{className:"font-semibold",children:e.optimalMedicationWindow.label},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2323,columnNumber:17},void 0)," Â· Avg relief ",e.optimalMedicationWindow.avgReduction.toFixed(1)," Â· Confidence"," ",(100*e.optimalMedicationWindow.confidence).toFixed(0),"%"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2321,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2316,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2291,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2280,columnNumber:9},void 0),a.jsxDEV(n,{children:[a.jsxDEV(c,{className:"pb-4",children:a.jsxDEV(m,{className:"text-sm font-semibold uppercase tracking-wide text-muted-foreground",children:"Provider notes & next steps"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2334,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2333,columnNumber:11},void 0),a.jsxDEV(l,{children:0===h.length?a.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Log detailed context (triggers, interventions) to unlock provider-ready recommendations."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2340,columnNumber:13},void 0):a.jsxDEV("ol",{className:"list-decimal list-inside space-y-3 text-sm text-muted-foreground",children:h.map((e,s)=>a.jsxDEV("li",{children:[a.jsxDEV("p",{className:"font-semibold text-foreground",children:e.title},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2348,columnNumber:19},void 0),a.jsxDEV("p",{className:"text-muted-foreground",children:e.detail},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2349,columnNumber:19},void 0)]},`${e.title}-${s}`,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2347,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2345,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2338,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2332,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2279,columnNumber:7},void 0),a.jsxDEV(n,{variant:"filled",children:[a.jsxDEV(c,{className:"pb-3",children:a.jsxDEV(m,{className:"text-xs font-semibold uppercase tracking-[0.3em] text-muted-foreground",children:"Supporting evidence"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2360,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2359,columnNumber:9},void 0),a.jsxDEV(l,{children:a.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-muted-foreground",children:[a.jsxDEV("div",{children:[a.jsxDEV("p",{className:"text-xs uppercase",children:"Top pain locations"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2367,columnNumber:13},void 0),a.jsxDEV("p",{children:e.topLocations.length>0?e.topLocations.map(e=>`${e.location} (${e.count})`).join(", "):"Not captured"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2368,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2366,columnNumber:11},void 0),a.jsxDEV("div",{children:[a.jsxDEV("p",{className:"text-xs uppercase",children:"Primary triggers"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2375,columnNumber:13},void 0),a.jsxDEV("p",{children:e.topTriggers.length>0?e.topTriggers.map(e=>`${e.trigger} (${e.count})`).join(", "):"Not documented"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2376,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2374,columnNumber:11},void 0),a.jsxDEV("div",{children:[a.jsxDEV("p",{className:"text-xs uppercase",children:"Quality-of-life metrics"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2385,columnNumber:13},void 0),a.jsxDEV("p",{children:["Sleep avg:"," ",N.sleepCount>0?(N.sleepTotal/N.sleepCount).toFixed(1):"â€”"," ","Â· Mood impact avg:"," ",N.moodCount>0?(N.moodTotal/N.moodCount).toFixed(1):"â€”"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2386,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2384,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2365,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2364,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2358,columnNumber:7},void 0),s.length>0&&a.jsxDEV(n,{padding:"none",className:"overflow-hidden",children:a.jsxDEV(ye,{entries:s},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2404,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2403,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2177,columnNumber:5},void 0)},Fe=({analytics:e,entries:s,reasoningTree:r,patternAnalysis:t})=>{const i=s.length>=60?"high":s.length>=25?"medium":"low",o=e.personalizedRecommendations[0],d="high"===i?"success":"medium"===i?"warning":"destructive";return a.jsxDEV("div",{className:"space-y-6",children:[a.jsxDEV(n,{children:[a.jsxDEV(c,{className:"pb-4",children:a.jsxDEV("div",{className:"flex items-start justify-between gap-4 w-full",children:[a.jsxDEV("div",{children:[a.jsxDEV(y,{className:"text-xs uppercase tracking-[0.3em]",children:"Tree-of-thought reasoning"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2429,columnNumber:15},void 0),a.jsxDEV(m,{className:"text-2xl mt-2",children:"How conclusions are formed"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2432,columnNumber:15},void 0),a.jsxDEV("p",{className:"text-sm text-muted-foreground mt-2",children:"Each branch represents a reasoning step that connects raw entries to clinical guidance. Confidence is weighted by data coverage."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2433,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2428,columnNumber:13},void 0),a.jsxDEV(u,{variant:d,className:"shrink-0",children:["Data confidence: ",i]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2438,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2427,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2426,columnNumber:9},void 0),a.jsxDEV(l,{children:a.jsxDEV(Le,{nodes:r,depth:0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2444,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2443,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2425,columnNumber:7},void 0),a.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxDEV(n,{className:"col-span-2",variant:"accented",children:[a.jsxDEV(c,{className:"pb-4",children:a.jsxDEV("div",{className:"flex items-start gap-3",children:[a.jsxDEV("div",{className:"h-12 w-12 rounded-lg flex items-center justify-center bg-primary/10 text-primary",children:a.jsxDEV(v,{className:"w-6 h-6","aria-hidden":!0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2453,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2452,columnNumber:15},void 0),a.jsxDEV("div",{children:[a.jsxDEV(y,{className:"text-xs uppercase tracking-[0.4em]",children:"Highlighted thought"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2456,columnNumber:17},void 0),a.jsxDEV(m,{className:"text-xl mt-1",children:o?o.title:"Keep logging insights"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2459,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2455,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2451,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2450,columnNumber:11},void 0),a.jsxDEV(l,{children:a.jsxDEV("p",{className:"text-sm text-muted-foreground",children:o?o.detail:"Log triggers, medications, and recovery context to unlock actionable insights."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2466,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2465,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2449,columnNumber:9},void 0),a.jsxDEV(n,{children:[a.jsxDEV(c,{className:"pb-4",children:a.jsxDEV(m,{className:"text-xs font-semibold uppercase tracking-[0.3em] text-muted-foreground",children:"Coverage snapshot"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2476,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2475,columnNumber:11},void 0),a.jsxDEV(l,{className:"space-y-3 text-sm text-muted-foreground",children:[a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("span",{children:"Total entries analyzed"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2482,columnNumber:15},void 0),a.jsxDEV("span",{className:"font-semibold text-foreground",children:s.length},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2483,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2481,columnNumber:13},void 0),a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("span",{children:"Day-of-week coverage"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2486,columnNumber:15},void 0),a.jsxDEV("span",{className:"font-semibold text-foreground",children:[e.dayOfWeekPatterns.filter(e=>e.count>0).length,"/7 days"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2487,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2485,columnNumber:13},void 0),a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("span",{children:"Trigger signals tracked"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2492,columnNumber:15},void 0),a.jsxDEV("span",{className:"font-semibold text-foreground",children:e.triggerPainCorrelation.length},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2493,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2491,columnNumber:13},void 0),a.jsxDEV("div",{className:"flex items-center justify-between",children:[a.jsxDEV("span",{children:"Medication experiments"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2498,columnNumber:15},void 0),a.jsxDEV("span",{className:"font-semibold text-foreground",children:e.medicationEffectiveness.length},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2499,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2497,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2480,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2474,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2448,columnNumber:7},void 0),t&&a.jsxDEV("div",{className:"space-y-6",children:[a.jsxDEV(n,{variant:"accented",children:[a.jsxDEV(c,{className:"pb-4",children:a.jsxDEV("div",{className:"flex items-center gap-3",children:[a.jsxDEV("div",{className:"h-12 w-12 rounded-lg flex items-center justify-center bg-primary/10 text-primary",children:a.jsxDEV(I,{className:"w-6 h-6","aria-hidden":!0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2514,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2513,columnNumber:17},void 0),a.jsxDEV("div",{children:[a.jsxDEV(m,{className:"text-xl",children:"Heuristic pattern recognition"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2517,columnNumber:19},void 0),a.jsxDEV(y,{children:"Advanced analysis powered by local algorithms"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2518,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2516,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2512,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2511,columnNumber:13},void 0),a.jsxDEV(l,{children:a.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxDEV(n,{variant:"filled",padding:"sm",children:[a.jsxDEV("p",{className:"text-xs uppercase tracking-wider text-muted-foreground",children:"Trend slope"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2526,columnNumber:19},void 0),a.jsxDEV("p",{className:"text-2xl font-semibold text-foreground mt-1",children:t.dailyTrend.length>0?(t.dailyTrend[t.dailyTrend.length-1].value-t.dailyTrend[0].value).toFixed(1):"0.0"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2527,columnNumber:19},void 0),a.jsxDEV("p",{className:"text-xs text-muted-foreground mt-1",children:"Recent trend direction"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2535,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2525,columnNumber:17},void 0),a.jsxDEV(n,{variant:"filled",padding:"sm",children:[a.jsxDEV("p",{className:"text-xs uppercase tracking-wider text-muted-foreground",children:"Episodes detected"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2539,columnNumber:19},void 0),a.jsxDEV("p",{className:"text-2xl font-semibold text-foreground mt-1",children:t.episodes.length},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2542,columnNumber:19},void 0),a.jsxDEV("p",{className:"text-xs text-muted-foreground mt-1",children:"Flare patterns identified"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2545,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2538,columnNumber:17},void 0),a.jsxDEV(n,{variant:"filled",padding:"sm",children:[a.jsxDEV("p",{className:"text-xs uppercase tracking-wider text-muted-foreground",children:"Data quality"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2549,columnNumber:19},void 0),a.jsxDEV("p",{className:"text-2xl font-semibold text-foreground mt-1 capitalize",children:t.meta.dataQuality},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2550,columnNumber:19},void 0),a.jsxDEV("p",{className:"text-xs text-muted-foreground mt-1",children:[t.meta.entryCount," entries analyzed"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2553,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2548,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2524,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2523,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2510,columnNumber:11},void 0),t.episodes.length>0&&a.jsxDEV(n,{children:[a.jsxDEV(c,{className:"pb-4",children:a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV(O,{className:"w-5 h-5 text-destructive","aria-hidden":!0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2566,columnNumber:19},void 0),a.jsxDEV(m,{className:"text-lg",children:["Pain episodes (",t.episodes.length,")"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2567,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2565,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2564,columnNumber:15},void 0),a.jsxDEV(l,{children:a.jsxDEV("div",{className:"space-y-3",children:t.episodes.slice(0,5).map((e,s)=>a.jsxDEV("div",{className:"border-l-4 border-l-destructive pl-4 py-2",children:a.jsxDEV("div",{className:"flex items-center justify-between gap-3",children:[a.jsxDEV("div",{children:[a.jsxDEV("p",{className:"font-semibold text-foreground capitalize",children:[e.severity," severity"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2578,columnNumber:27},void 0),a.jsxDEV("p",{className:"text-sm text-muted-foreground",children:[e.durationDays," days â€¢ Peak: ",e.peakPain.toFixed(1),"/10"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2581,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2577,columnNumber:25},void 0),null!==e.recoveryDays&&a.jsxDEV("div",{className:"text-sm text-muted-foreground",children:["Recovery: ",e.recoveryDays,"d"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2586,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2576,columnNumber:23},void 0)},s,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2575,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2573,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2572,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2563,columnNumber:13},void 0),t.triggerCorrelations.length>0&&a.jsxDEV(n,{children:[a.jsxDEV(c,{className:"pb-4",children:a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV(q,{className:"w-5 h-5 text-warning","aria-hidden":!0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2603,columnNumber:19},void 0),a.jsxDEV(m,{className:"text-lg",children:"Trigger correlations"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2604,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2602,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2601,columnNumber:15},void 0),a.jsxDEV(l,{children:a.jsxDEV("div",{className:"space-y-3",children:t.triggerCorrelations.slice(0,5).map((e,s)=>a.jsxDEV("div",{className:"flex items-center justify-between gap-3",children:[a.jsxDEV("div",{className:"flex-1 min-w-0",children:[a.jsxDEV("p",{className:"font-medium text-foreground truncate",children:e.label},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2612,columnNumber:25},void 0),a.jsxDEV("p",{className:"text-sm text-muted-foreground",children:[e.support," occurrences â€¢ ",e.confidence.toFixed(0),"% confidence"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2613,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2611,columnNumber:23},void 0),a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV(u,{variant:e.deltaPain>0?"destructive":"success",children:[e.deltaPain>0?"+":"",e.deltaPain.toFixed(1)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2618,columnNumber:25},void 0),a.jsxDEV("span",{className:"text-xs text-muted-foreground capitalize",children:e.strength},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2622,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2617,columnNumber:23},void 0)]},s,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2610,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2608,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2607,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2600,columnNumber:13},void 0),t.qolPatterns.length>0&&a.jsxDEV(n,{children:[a.jsxDEV(c,{className:"pb-4",children:a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV(k,{className:"w-5 h-5 text-primary","aria-hidden":!0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2636,columnNumber:19},void 0),a.jsxDEV(m,{className:"text-lg",children:"Quality of life insights"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2637,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2635,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2634,columnNumber:15},void 0),a.jsxDEV(l,{children:a.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:t.qolPatterns.map((e,s)=>a.jsxDEV(n,{variant:"filled",padding:"sm",children:[a.jsxDEV("div",{className:"flex items-center gap-2 mb-2",children:["sleep"===e.metric&&a.jsxDEV(B,{className:"w-4 h-4","aria-hidden":!0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2645,columnNumber:56},void 0),"mood"===e.metric&&a.jsxDEV(f,{className:"w-4 h-4","aria-hidden":!0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2646,columnNumber:55},void 0),"activity"===e.metric&&a.jsxDEV($,{className:"w-4 h-4","aria-hidden":!0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2648,columnNumber:27},void 0),a.jsxDEV("p",{className:"font-semibold text-foreground capitalize",children:e.metric},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2650,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2644,columnNumber:23},void 0),a.jsxDEV("p",{className:"text-sm text-muted-foreground",children:e.description},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2652,columnNumber:23},void 0),a.jsxDEV("p",{className:"text-xs text-muted-foreground mt-2 capitalize",children:[e.correlation," correlation"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2653,columnNumber:23},void 0)]},s,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2643,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2641,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2640,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2633,columnNumber:13},void 0),t.meta.cautions.length>0&&a.jsxDEV(n,{variant:"outlined",className:"border-warning/30 bg-warning/10",padding:"sm",children:a.jsxDEV("div",{className:"flex items-start gap-3",children:[a.jsxDEV(O,{className:"w-5 h-5 text-warning flex-shrink-0 mt-0.5","aria-hidden":!0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2667,columnNumber:17},void 0),a.jsxDEV("div",{className:"flex-1",children:[a.jsxDEV("p",{className:"font-semibold text-foreground",children:"Analysis notes"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2669,columnNumber:19},void 0),a.jsxDEV("ul",{className:"mt-2 space-y-1 text-sm text-muted-foreground",children:t.meta.cautions.map((e,s)=>a.jsxDEV("li",{children:["â€¢ ",e]},s,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2672,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2670,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2668,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2666,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2665,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2509,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2424,columnNumber:5},void 0)},Le=({nodes:e,depth:s})=>e.length?a.jsxDEV("div",{className:"space-y-4",children:e.map(e=>a.jsxDEV(n,{variant:"filled",padding:"sm",children:[a.jsxDEV("div",{className:"flex items-start justify-between gap-3",children:[a.jsxDEV("div",{children:[a.jsxDEV("p",{className:"text-xs uppercase tracking-[0.3em] text-muted-foreground",children:["Step ",s+1]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2700,columnNumber:15},void 0),a.jsxDEV("h4",{className:"text-lg font-semibold text-foreground mt-1",children:e.title},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2703,columnNumber:15},void 0),a.jsxDEV("p",{className:"text-sm text-muted-foreground mt-1",children:e.insight},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2704,columnNumber:15},void 0),e.evidence&&a.jsxDEV("p",{className:"mt-2 text-xs text-muted-foreground",children:["Evidence: ",e.evidence]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2706,columnNumber:17},void 0),e.action&&a.jsxDEV("p",{className:"mt-2 text-sm text-primary font-medium",children:["Next action: ",e.action]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2709,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2699,columnNumber:13},void 0),a.jsxDEV(u,{variant:"high"===e.confidence?"success":"medium"===e.confidence?"warning":"destructive",className:"shrink-0",children:[e.confidence," confidence"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2712,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2698,columnNumber:11},void 0),e.children&&e.children.length>0&&a.jsxDEV("div",{className:"mt-4 pl-4 border-l-2 border-dashed border-border space-y-4",children:a.jsxDEV(Le,{nodes:e.children,depth:s+1},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2728,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2727,columnNumber:13},void 0)]},e.id,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2697,columnNumber:9},void 0))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2695,columnNumber:5},void 0):a.jsxDEV("div",{className:"rounded-xl border border-dashed border-border p-4 text-sm text-muted-foreground",children:"Not enough data yet. Add a few detailed entries to unlock automated reasoning."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2688,columnNumber:7},void 0),Ie=(e,s)=>{if(0===s)return[{id:"empty-state",title:"No evidence yet",insight:"Log at least one pain entry to begin automated reasoning.",confidence:"low",action:"Capture todayâ€™s pain level and triggers."}];const a=s>=60?"high":s>=25?"medium":"low",r={id:"patterns",title:"Temporal & trigger patterns",insight:`Detected ${e.dayOfWeekPatterns.filter(e=>e.count>0).length}/7 day patterns and ${e.timePatterns.morning.count+e.timePatterns.afternoon.count+e.timePatterns.evening.count+e.timePatterns.night.count} time-of-day observations.`,confidence:a,evidence:e.triggerPainCorrelation[0]?`${e.triggerPainCorrelation[0].trigger} shifts pain by ${e.triggerPainCorrelation[0].avgDelta.toFixed(1)}`:"Need more trigger tagging",action:e.triggerPainCorrelation[0]?`Mitigate ${e.triggerPainCorrelation[0].trigger} exposure on ${Pe[e.dayOfWeekPatterns.sort((e,s)=>s.avgPain-e.avgPain)[0]?.day??0]}`:"Log triggers alongside entries for richer pattern detection.",children:e.dayOfWeekPatterns.filter(e=>e.count>0).slice(0,2).map(s=>({id:`day-${s.day}`,title:`${Pe[s.day]} trend`,insight:`Average pain ${s.avgPain.toFixed(1)} with ${s.count} observations`,confidence:s.count>=4?"medium":"low",action:s.avgPain>=e.avgPain?"Prep pacing plan ahead of this day.":"Consider scheduling recovery work here."}))},t={id:"risk",title:"Risk posture & flare outlook",insight:`Risk score ${e.riskScore} with ${e.badDays} high-pain days.`,confidence:e.riskScore>=70?"high":e.riskScore>=40?"medium":"low",evidence:e.predictedFlare?`Flare probability ${e.predictedFlare.probability}% (${e.predictedFlare.timeframe})`:"No imminent flare detected",action:e.predictedFlare?e.predictedFlare.recommendations[0]:"Maintain current pacing plan and continue monitoring.",children:[e.optimalMedicationWindow&&{id:"med-window",title:"Medication timing",insight:`Best relief around ${e.optimalMedicationWindow.label}.`,confidence:e.optimalMedicationWindow.confidence>=.75?"high":"medium",action:"Align doses with this window when medically appropriate."},e.medicationEffectiveness[0]&&{id:"med-effectiveness",title:`${e.medicationEffectiveness[0].medication} response`,insight:`Avg reduction ${e.medicationEffectiveness[0].avgReduction.toFixed(1)} points.`,confidence:e.medicationEffectiveness[0].uses>=3?"high":"medium",action:"Document dosage notes for provider review."}].filter(Boolean)},i={id:"clinical",title:"Clinical + WorkSafe readiness",insight:`${e.goodDays} managed days vs ${e.badDays} tough days.`,confidence:a,evidence:`Top locations: ${e.topLocations.slice(0,2).map(e=>e.location).join(", ")||"N/A"}`,action:"Use export tab to share WorkSafe-ready PDF.",children:e.personalizedRecommendations.slice(0,2).map(e=>({id:`rec-${e.title}`,title:e.title,insight:e.detail,confidence:"high"===e.emphasis?"high":"medium"===e.emphasis?"medium":"low",action:"medication"===e.category?"Confirm with care team before adjusting meds.":"Add notes after acting on this insight."}))};return[{id:"root",title:"Premium analytics reasoning loop",insight:`Analyzed ${s} entries with average pain ${e.avgPain.toFixed(1)}/10 and volatility ${e.volatility.toFixed(1)}.`,confidence:a,children:[r,t,i]}]},Re=({analytics:i,entries:o})=>{const[u,d]=s.useState(null),[p,b]=s.useState(null),[D,k]=s.useState("idle"),[f,j]=s.useState("Clipboard unavailable. You can still select this summary and copy it whenever you feel ready to share."),[g,P]=s.useState(null),[C,E]=s.useState(!1),[V,U]=s.useState(!1),[A,w]=s.useState(()=>"undefined"!=typeof navigator&&!navigator.onLine),{preferences:T}=t(),{validationHistory:M,addValidation:S,clearHistory:$}=function(){const[e,a]=s.useState([]);return{validationHistory:e,addValidation:s.useCallback(e=>{a(s=>[...s,e].slice(-10))},[]),clearHistory:s.useCallback(()=>{a([])},[])}}(),L=s.useMemo(()=>[...o].sort((e,s)=>new Date(e.timestamp).getTime()-new Date(s.timestamp).getTime()),[o]);s.useEffect(()=>{U(T.realTimeValidation)},[T.realTimeValidation]),s.useEffect(()=>{if("undefined"==typeof window)return;const e=()=>{"undefined"!=typeof navigator?w(!navigator.onLine):w(!1)};return window.addEventListener("online",e),window.addEventListener("offline",e),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",e)}},[]);const I=s.useMemo(()=>Ue&&T.realTimeValidation,[T.realTimeValidation]),R=s.useMemo(()=>{if(0===L.length)return"No entries yet";const e=new Date(L[0].timestamp),s=new Date(L[L.length-1].timestamp);return`${e.toLocaleDateString()} â€“ ${s.toLocaleDateString()}`},[L]),O=s.useMemo(()=>{if(0===L.length)return"no-data";return`${new Date(L[0].timestamp).toISOString().split("T")[0]}-to-${new Date(L[L.length-1].timestamp).toISOString().split("T")[0]}`},[L]),z=i.riskScore>75?"High":i.riskScore>50?"Elevated":"Managed",q=i.topTriggers?.slice?.(0,2).map(e=>e.trigger).filter(Boolean).join(", ")||"Not captured",_=i.topLocations?.slice?.(0,2).map(e=>e.location).filter(Boolean).join(", ")||"Not captured",B=i.personalizedRecommendations?.[0]?.detail??"Keep logging detailed entries (triggers, interventions, medications) to unlock personalized recommendations.",Q=i.nextWeekForecast?`${i.nextWeekForecast.projectedAverage.toFixed(1)}/10 avg (${i.nextWeekForecast.change>=0?"+":""}${i.nextWeekForecast.change.toFixed(1)} change Â· confidence ${i.nextWeekForecast.confidence})`:"Need more entries to forecast next week.",ee=s.useMemo(()=>0===L.length?"No entries logged yet. Capture at least one day of pain data to unlock exportable summaries.":[`Pain Tracker clinical snapshot (${R}, ${L.length} entries)`,"",`â€¢ Avg pain ${i.avgPain.toFixed(1)}/10 Â· Volatility ${i.volatility.toFixed(1)}`,`â€¢ Good days ${i.goodDays} Â· Risk level ${z}`,`â€¢ Top locations: ${_}`,`â€¢ Triggers to watch: ${q}`,`â€¢ Forecast: ${Q}`,`â€¢ Recommendation: ${B}`].join("\n"),[i.avgPain,i.goodDays,i.volatility,Q,R,B,z,L.length,_,q]),se=s.useCallback(async({action:e,actionType:s="export",outcome:a="success",details:r={}})=>{try{await h.logAuditEvent({actionType:s,userId:"local-user",userRole:"patient",resourceType:"PremiumAnalyticsExport",outcome:a,details:{action:e,timeRange:R,entryCount:o.length,...r}})}catch(t){}},[o.length,R]),te=s.useCallback(async s=>{if(0===o.length)return b("Log at least one entry before exporting."),void(await se({action:"quick-export",outcome:"failure",details:{reason:"no-entries",format:s}}));d(s),b(null);try{const a=await e(()=>import("./export-DtTr256z.js").then(e=>e._),__vite__mapDeps([12,1,6,2,3,4,5,7,8,9])),r=(new Date).toISOString().split("T")[0],t=`premium-analytics-${O}-${r}.${"csv"===s?"csv":"json"}`;if("csv"===s){const e=a.exportToCSV(o);a.downloadData(e,t,"text/csv;charset=utf-8")}else{const e=a.exportToJSON(o);a.downloadData(e,t,"application/json;charset=utf-8")}await se({action:"quick-export",details:{format:s,filename:t}})}catch(a){b("Quick export failed. Try the advanced export workspace."),await se({action:"quick-export",outcome:"failure",details:{format:s,error:a instanceof Error?a.message:"unknown-error"}})}finally{d(null)}},[o,se,O]),ie=s.useCallback(async()=>{try{if("undefined"!=typeof navigator&&navigator?.clipboard?.writeText)await navigator.clipboard.writeText(ee);else{if("undefined"==typeof document)throw new Error("Clipboard API unavailable");{const e=document.createElement("textarea");e.value=ee,e.style.position="fixed",e.style.opacity="0",document.body.appendChild(e),e.focus(),e.select(),document.execCommand("copy"),document.body.removeChild(e)}}k("copied"),j(""),await se({action:"copy-clinical-summary",details:{channel:"clipboard"}}),setTimeout(()=>k("idle"),3e3)}catch(e){k("error"),j(e instanceof Error?e.message:"Clipboard is unavailable. You can still highlight the summary above and copy it manually if and when you choose to share it."),await se({action:"copy-clinical-summary",outcome:"failure",details:{error:e instanceof Error?e.message:"unknown-error",channel:"clipboard"}})}},[se,ee]),ne=s.useCallback(()=>{E(!0),se({action:"open-advanced-export-workspace",actionType:"access",details:{isOffline:A}})},[A,se]),oe=s.useCallback(async()=>{if(A)return P("Email composer unavailable offline. Try again once you reconnect."),void(await se({action:"compose-email-share",outcome:"failure",details:{reason:"offline"}}));if("undefined"==typeof window)return P("Email composer unavailable in this environment."),void(await se({action:"compose-email-share",outcome:"failure",details:{reason:"no-window"}}));P(null);const e=encodeURIComponent("Pain Tracker clinical snapshot"),s=encodeURIComponent(ee);window.open(`mailto:?subject=${e}&body=${s}`,"_blank"),await se({action:"compose-email-share",details:{channel:"email"}})},[A,se,ee]);return a.jsxDEV(a.Fragment,{children:[a.jsxDEV("div",{className:"space-y-6",children:[A&&a.jsxDEV(n,{variant:"outlined",padding:"sm",className:"border-warning/30 bg-warning/10",role:"status","aria-live":"polite",children:[a.jsxDEV("p",{className:"text-sm font-semibold text-foreground",children:"Offline mode detected"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3141,columnNumber:13},void 0),a.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Quick downloads stay fully local. Email sharing is paused until you're back online, and the advanced export workspace will reopen with cached data only."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3142,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3134,columnNumber:11},void 0),a.jsxDEV("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[a.jsxDEV(n,{children:[a.jsxDEV(c,{className:"pb-4",children:a.jsxDEV("div",{className:"flex items-start justify-between gap-4 w-full",children:[a.jsxDEV("div",{children:[a.jsxDEV(y,{className:"text-xs uppercase tracking-[0.2em]",children:"Clinical-grade exports"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3153,columnNumber:19},void 0),a.jsxDEV(m,{className:"text-2xl mt-2",children:"Share securely with care teams"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3156,columnNumber:19},void 0),a.jsxDEV("p",{className:"text-sm text-muted-foreground mt-2",children:"Generate WorkSafe BC-ready PDFs or quickly download data snapshots without leaving the browser."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3157,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3152,columnNumber:17},void 0),a.jsxDEV("div",{className:"h-12 w-12 rounded-lg flex items-center justify-center bg-primary/10 text-primary",children:a.jsxDEV(Y,{className:"w-6 h-6","aria-hidden":!0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3163,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3162,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3151,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3150,columnNumber:13},void 0),a.jsxDEV(l,{children:[a.jsxDEV(r.Suspense,{fallback:a.jsxDEV(n,{variant:"filled",padding:"sm",className:"mt-4",children:a.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Preparing clinical export toolsâ€¦"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3172,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3171,columnNumber:17},void 0),children:a.jsxDEV(Ae,{entries:o,className:"mt-6"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3176,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3169,columnNumber:13},void 0),a.jsxDEV(N,{onClick:ne,variant:"outline",fullWidth:!0,className:"mt-4 border-dashed",leftIcon:a.jsxDEV(H,{className:"w-4 h-4","aria-hidden":!0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3184,columnNumber:25},void 0),children:"Open advanced export workspace"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3179,columnNumber:13},void 0),a.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 mt-6",children:[a.jsxDEV(N,{onClick:()=>te("csv"),disabled:null!==u,loading:"csv"===u,leftIcon:a.jsxDEV(K,{className:"w-5 h-5","aria-hidden":!0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3194,columnNumber:27},void 0),children:"Quick CSV"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3190,columnNumber:15},void 0),a.jsxDEV(N,{onClick:()=>te("json"),disabled:null!==u,loading:"json"===u,variant:"secondary",leftIcon:a.jsxDEV(G,{className:"w-5 h-5","aria-hidden":!0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3203,columnNumber:27},void 0),children:"Quick JSON"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3198,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3189,columnNumber:13},void 0),p&&a.jsxDEV("p",{className:"mt-3 text-sm text-destructive",role:"alert",children:p},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3210,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3167,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3149,columnNumber:11},void 0),a.jsxDEV(n,{children:[a.jsxDEV(c,{className:"pb-4",children:a.jsxDEV("div",{className:"flex items-start justify-between gap-4 w-full",children:[a.jsxDEV("div",{children:[a.jsxDEV(y,{className:"text-xs uppercase tracking-[0.3em]",children:"Provider snapshot"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3221,columnNumber:19},void 0),a.jsxDEV(m,{className:"text-2xl mt-2",children:"Copy or email a clinical summary"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3224,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3220,columnNumber:17},void 0),a.jsxDEV(W,{className:"w-6 h-6 text-primary","aria-hidden":!0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3226,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3219,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3218,columnNumber:13},void 0),a.jsxDEV(l,{children:[a.jsxDEV("textarea",{readOnly:!0,value:ee,className:"mt-4 w-full min-h-[220px] rounded-2xl border border-border bg-muted/50 text-sm text-foreground p-4 font-mono"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3231,columnNumber:13},void 0),I&&a.jsxDEV("div",{className:"mt-4 space-y-3","aria-live":"polite",children:[a.jsxDEV(ae,{text:ee,isActive:I,delay:1200,onValidationGenerated:S},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3239,columnNumber:17},void 0),M.length>0&&a.jsxDEV(n,{variant:"filled",padding:"sm",children:[a.jsxDEV("div",{className:"flex items-center justify-between gap-3",children:[a.jsxDEV("span",{className:"text-sm font-semibold text-foreground",children:"Recent validation messages"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3248,columnNumber:23},void 0),a.jsxDEV("div",{className:"flex items-center gap-2",children:[a.jsxDEV(N,{type:"button",variant:"link",size:"xs",onClick:()=>U(e=>!e),children:V?"Hide history":"Show history"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3252,columnNumber:25},void 0),a.jsxDEV(N,{type:"button",variant:"ghost",size:"xs",onClick:$,children:"Clear"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3260,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3251,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3247,columnNumber:21},void 0),V&&a.jsxDEV("div",{className:"mt-2",children:a.jsxDEV(re,{validations:M,onClear:$},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3267,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3266,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3246,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3238,columnNumber:15},void 0),a.jsxDEV("div",{className:"mt-4 flex flex-wrap gap-3",children:[a.jsxDEV(N,{onClick:ie,variant:"copied"===D?"success":"default",leftIcon:a.jsxDEV(J,{className:"w-4 h-4","aria-hidden":!0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3279,columnNumber:27},void 0),children:"copied"===D?"Copied summary":"Copy summary"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3276,columnNumber:15},void 0),a.jsxDEV(N,{onClick:oe,disabled:A,variant:"outline",leftIcon:a.jsxDEV(Z,{className:"w-4 h-4","aria-hidden":!0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3287,columnNumber:27},void 0),children:"Compose secure email"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3283,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3275,columnNumber:13},void 0),"error"===D&&a.jsxDEV("p",{className:"text-sm text-destructive mt-2",role:"alert",children:f||"Clipboard unavailable. Select the text above and copy manually instead."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3294,columnNumber:15},void 0),g&&a.jsxDEV("p",{className:"text-sm text-warning mt-2",role:"alert",children:g},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3300,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3229,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3217,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3148,columnNumber:9},void 0),a.jsxDEV(n,{variant:"accented",children:[a.jsxDEV(c,{className:"pb-4",children:a.jsxDEV("div",{className:"flex items-start gap-3",children:[a.jsxDEV("div",{className:"h-12 w-12 rounded-lg flex items-center justify-center bg-primary/10 text-primary",children:a.jsxDEV(x,{className:"w-6 h-6","aria-hidden":!0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3312,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3311,columnNumber:15},void 0),a.jsxDEV("div",{children:[a.jsxDEV(m,{className:"text-xl",children:"Security-first export guarantees"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3315,columnNumber:17},void 0),a.jsxDEV(y,{children:"Exports never leave your device unencrypted. You retain full control over every download and share event."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3316,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3314,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3310,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3309,columnNumber:11},void 0),a.jsxDEV(l,{children:a.jsxDEV("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[a.jsxDEV("li",{className:"flex items-start gap-2",children:[a.jsxDEV(X,{className:"w-4 h-4 mt-0.5 flex-shrink-0","aria-hidden":!0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3326,columnNumber:17},void 0),a.jsxDEV("span",{children:"All exports are generated client-side with the same encryption posture as the rest of the app."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3327,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3325,columnNumber:15},void 0),a.jsxDEV("li",{className:"flex items-start gap-2",children:[a.jsxDEV(F,{className:"w-4 h-4 mt-0.5 flex-shrink-0","aria-hidden":!0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3333,columnNumber:17},void 0),a.jsxDEV("span",{children:"Audit trails are available through the HIPAA compliance service for every export action."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3334,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3332,columnNumber:15},void 0),a.jsxDEV("li",{className:"flex items-start gap-2",children:[a.jsxDEV(v,{className:"w-4 h-4 mt-0.5 flex-shrink-0","aria-hidden":!0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3340,columnNumber:17},void 0),a.jsxDEV("span",{children:"Use trauma-informed sharing prompts to maintain agency during clinical conversations."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3341,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3339,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3324,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3323,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3308,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3132,columnNumber:7},void 0),C&&a.jsxDEV(r.Suspense,{fallback:a.jsxDEV("div",{className:"fixed inset-0 flex items-center justify-center bg-foreground/40 z-50",children:a.jsxDEV(n,{padding:"lg",className:"max-w-sm w-full",children:a.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Loading export workspaceâ€¦"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3356,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3355,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3354,columnNumber:13},void 0),children:a.jsxDEV(we,{isOpen:C,onClose:()=>E(!1),entries:o,title:"Clinical export workspace"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3361,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3352,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3131,columnNumber:5},void 0)},Oe=({title:e,value:s,subtitle:r,trend:t,icon:i,color:o})=>{const c="red"===o?"bg-destructive/10 text-destructive":"yellow"===o?"bg-warning/10 text-warning":"green"===o?"bg-success/10 text-success":"bg-primary/10 text-primary",m="number"==typeof t&&Number.isFinite(t),d=m?t:0,p=m?d>0?"destructive":d<0?"success":"secondary":null;return a.jsxDEV(n,{hover:"scale",children:a.jsxDEV(l,{className:"flex items-start justify-between gap-4",children:[a.jsxDEV("div",{children:[a.jsxDEV("p",{className:"text-sm font-medium text-muted-foreground",children:e},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3415,columnNumber:11},void 0),a.jsxDEV("div",{className:"text-3xl font-semibold text-foreground mt-1",children:s},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3416,columnNumber:11},void 0),a.jsxDEV("p",{className:"text-sm text-muted-foreground mt-1",children:r},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3417,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3414,columnNumber:9},void 0),a.jsxDEV("div",{className:"flex flex-col items-end gap-3",children:[a.jsxDEV("div",{className:`h-12 w-12 rounded-lg flex items-center justify-center ${c}`,children:a.jsxDEV(i,{className:"w-6 h-6","aria-hidden":!0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3422,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3421,columnNumber:11},void 0),p?a.jsxDEV(u,{variant:p,title:"Trend compares the later half of the selected range to the earlier half. For pain: lower is better.",children:a.jsxDEV("span",{className:"inline-flex items-center gap-1",children:[d>0?a.jsxDEV(E,{className:"w-3 h-3","aria-hidden":!0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3431,columnNumber:19},void 0):d<0?a.jsxDEV(V,{className:"w-3 h-3","aria-hidden":!0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3433,columnNumber:19},void 0):null,Math.abs(d).toFixed(1),"%"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3429,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3425,columnNumber:13},void 0):null]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3420,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3413,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:3412,columnNumber:5},void 0)};export{Te as PremiumAnalyticsDashboard};
