const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ClinicalPDFExportButton-BFrOacZ1.js","assets/chart-vendor-B7B0FrSV.js","assets/react-vendor-Bn1aEwkj.js","assets/date-vendor-VbNwGsdS.js","assets/index-DtM62JBT.js","assets/index-BtB-2XHp.js","assets/background-sync-LM2uXb9P.js","assets/offline-storage-CQ7mII8k.js","assets/libsodium-wrappers-DhqTdZPT.js","assets/index.es-DaLVRl2c.js"])))=>i.map(i=>d[i]);
import{r as Ty,a as RN,g as Uy,b as My}from"./react-vendor-Bn1aEwkj.js";import{r as $,R as It,p as ON,c as Vy}from"./chart-vendor-B7B0FrSV.js";import{p as FN}from"./date-vendor-VbNwGsdS.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=t(n);fetch(n.href,i)}})();var em={exports:{}},Zl={},Np;function BN(){if(Np)return Zl;Np=1;return(function(){var s=Ty(),e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen"),b=Symbol.iterator,y="@@iterator";function v(ie){if(ie===null||typeof ie!="object")return null;var Ae=b&&ie[b]||ie[y];return typeof Ae=="function"?Ae:null}var N=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function w(ie){{for(var Ae=arguments.length,Re=new Array(Ae>1?Ae-1:0),ot=1;ot<Ae;ot++)Re[ot-1]=arguments[ot];j("error",ie,Re)}}function j(ie,Ae,Re){{var ot=N.ReactDebugCurrentFrame,wt=ot.getStackAddendum();wt!==""&&(Ae+="%s",Re=Re.concat([wt]));var _t=Re.map(function(pt){return String(pt)});_t.unshift("Warning: "+Ae),Function.prototype.apply.call(console[ie],console,_t)}}var C=!1,S=!1,A=!1,U=!1,P=!1,T;T=Symbol.for("react.module.reference");function R(ie){return!!(typeof ie=="string"||typeof ie=="function"||ie===r||ie===i||P||ie===n||ie===l||ie===d||U||ie===m||C||S||A||typeof ie=="object"&&ie!==null&&(ie.$$typeof===p||ie.$$typeof===f||ie.$$typeof===a||ie.$$typeof===o||ie.$$typeof===c||ie.$$typeof===T||ie.getModuleId!==void 0))}function E(ie,Ae,Re){var ot=ie.displayName;if(ot)return ot;var wt=Ae.displayName||Ae.name||"";return wt!==""?Re+"("+wt+")":Re}function L(ie){return ie.displayName||"Context"}function F(ie){if(ie==null)return null;if(typeof ie.tag=="number"&&w("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof ie=="function")return ie.displayName||ie.name||null;if(typeof ie=="string")return ie;switch(ie){case r:return"Fragment";case t:return"Portal";case i:return"Profiler";case n:return"StrictMode";case l:return"Suspense";case d:return"SuspenseList"}if(typeof ie=="object")switch(ie.$$typeof){case o:var Ae=ie;return L(Ae)+".Consumer";case a:var Re=ie;return L(Re._context)+".Provider";case c:return E(ie,ie.render,"ForwardRef");case f:var ot=ie.displayName||null;return ot!==null?ot:F(ie.type)||"Memo";case p:{var wt=ie,_t=wt._payload,pt=wt._init;try{return F(pt(_t))}catch{return null}}}return null}var z=Object.assign,Z=0,re,le,ee,pe,ue,te,_;function q(){}q.__reactDisabledLog=!0;function Y(){{if(Z===0){re=console.log,le=console.info,ee=console.warn,pe=console.error,ue=console.group,te=console.groupCollapsed,_=console.groupEnd;var ie={configurable:!0,enumerable:!0,value:q,writable:!0};Object.defineProperties(console,{info:ie,log:ie,warn:ie,error:ie,group:ie,groupCollapsed:ie,groupEnd:ie})}Z++}}function se(){{if(Z--,Z===0){var ie={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:z({},ie,{value:re}),info:z({},ie,{value:le}),warn:z({},ie,{value:ee}),error:z({},ie,{value:pe}),group:z({},ie,{value:ue}),groupCollapsed:z({},ie,{value:te}),groupEnd:z({},ie,{value:_})})}Z<0&&w("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var ne=N.ReactCurrentDispatcher,ae;function he(ie,Ae,Re){{if(ae===void 0)try{throw Error()}catch(wt){var ot=wt.stack.trim().match(/\n( *(at )?)/);ae=ot&&ot[1]||""}return`
`+ae+ie}}var me=!1,ge;{var Pe=typeof WeakMap=="function"?WeakMap:Map;ge=new Pe}function xe(ie,Ae){if(!ie||me)return"";{var Re=ge.get(ie);if(Re!==void 0)return Re}var ot;me=!0;var wt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var _t;_t=ne.current,ne.current=null,Y();try{if(Ae){var pt=function(){throw Error()};if(Object.defineProperty(pt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(pt,[])}catch(Ss){ot=Ss}Reflect.construct(ie,[],pt)}else{try{pt.call()}catch(Ss){ot=Ss}ie.call(pt.prototype)}}else{try{throw Error()}catch(Ss){ot=Ss}ie()}}catch(Ss){if(Ss&&ot&&typeof Ss.stack=="string"){for(var ft=Ss.stack.split(`
`),Zt=ot.stack.split(`
`),Ot=ft.length-1,Ft=Zt.length-1;Ot>=1&&Ft>=0&&ft[Ot]!==Zt[Ft];)Ft--;for(;Ot>=1&&Ft>=0;Ot--,Ft--)if(ft[Ot]!==Zt[Ft]){if(Ot!==1||Ft!==1)do if(Ot--,Ft--,Ft<0||ft[Ot]!==Zt[Ft]){var hs=`
`+ft[Ot].replace(" at new "," at ");return ie.displayName&&hs.includes("<anonymous>")&&(hs=hs.replace("<anonymous>",ie.displayName)),typeof ie=="function"&&ge.set(ie,hs),hs}while(Ot>=1&&Ft>=0);break}}}finally{me=!1,ne.current=_t,se(),Error.prepareStackTrace=wt}var or=ie?ie.displayName||ie.name:"",cr=or?he(or):"";return typeof ie=="function"&&ge.set(ie,cr),cr}function Ie(ie,Ae,Re){return xe(ie,!1)}function we(ie){var Ae=ie.prototype;return!!(Ae&&Ae.isReactComponent)}function W(ie,Ae,Re){if(ie==null)return"";if(typeof ie=="function")return xe(ie,we(ie));if(typeof ie=="string")return he(ie);switch(ie){case l:return he("Suspense");case d:return he("SuspenseList")}if(typeof ie=="object")switch(ie.$$typeof){case c:return Ie(ie.render);case f:return W(ie.type,Ae,Re);case p:{var ot=ie,wt=ot._payload,_t=ot._init;try{return W(_t(wt),Ae,Re)}catch{}}}return""}var De=Object.prototype.hasOwnProperty,st={},Ye=N.ReactDebugCurrentFrame;function _e(ie){if(ie){var Ae=ie._owner,Re=W(ie.type,ie._source,Ae?Ae.type:null);Ye.setExtraStackFrame(Re)}else Ye.setExtraStackFrame(null)}function Be(ie,Ae,Re,ot,wt){{var _t=Function.call.bind(De);for(var pt in ie)if(_t(ie,pt)){var ft=void 0;try{if(typeof ie[pt]!="function"){var Zt=Error((ot||"React class")+": "+Re+" type `"+pt+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof ie[pt]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw Zt.name="Invariant Violation",Zt}ft=ie[pt](Ae,pt,ot,Re,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(Ot){ft=Ot}ft&&!(ft instanceof Error)&&(_e(wt),w("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",ot||"React class",Re,pt,typeof ft),_e(null)),ft instanceof Error&&!(ft.message in st)&&(st[ft.message]=!0,_e(wt),w("Failed %s type: %s",Re,ft.message),_e(null))}}}var Ve=Array.isArray;function ut(ie){return Ve(ie)}function it(ie){{var Ae=typeof Symbol=="function"&&Symbol.toStringTag,Re=Ae&&ie[Symbol.toStringTag]||ie.constructor.name||"Object";return Re}}function Wt(ie){try{return gt(ie),!1}catch{return!0}}function gt(ie){return""+ie}function bt(ie){if(Wt(ie))return w("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",it(ie)),gt(ie)}var Rt=N.ReactCurrentOwner,vt={key:!0,ref:!0,__self:!0,__source:!0},Qe,dt,Ge;Ge={};function Jt(ie){if(De.call(ie,"ref")){var Ae=Object.getOwnPropertyDescriptor(ie,"ref").get;if(Ae&&Ae.isReactWarning)return!1}return ie.ref!==void 0}function qt(ie){if(De.call(ie,"key")){var Ae=Object.getOwnPropertyDescriptor(ie,"key").get;if(Ae&&Ae.isReactWarning)return!1}return ie.key!==void 0}function Ze(ie,Ae){if(typeof ie.ref=="string"&&Rt.current&&Ae&&Rt.current.stateNode!==Ae){var Re=F(Rt.current.type);Ge[Re]||(w('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',F(Rt.current.type),ie.ref),Ge[Re]=!0)}}function Nt(ie,Ae){{var Re=function(){Qe||(Qe=!0,w("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",Ae))};Re.isReactWarning=!0,Object.defineProperty(ie,"key",{get:Re,configurable:!0})}}function es(ie,Ae){{var Re=function(){dt||(dt=!0,w("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",Ae))};Re.isReactWarning=!0,Object.defineProperty(ie,"ref",{get:Re,configurable:!0})}}var lt=function(ie,Ae,Re,ot,wt,_t,pt){var ft={$$typeof:e,type:ie,key:Ae,ref:Re,props:pt,_owner:_t};return ft._store={},Object.defineProperty(ft._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(ft,"_self",{configurable:!1,enumerable:!1,writable:!1,value:ot}),Object.defineProperty(ft,"_source",{configurable:!1,enumerable:!1,writable:!1,value:wt}),Object.freeze&&(Object.freeze(ft.props),Object.freeze(ft)),ft};function At(ie,Ae,Re,ot,wt){{var _t,pt={},ft=null,Zt=null;Re!==void 0&&(bt(Re),ft=""+Re),qt(Ae)&&(bt(Ae.key),ft=""+Ae.key),Jt(Ae)&&(Zt=Ae.ref,Ze(Ae,wt));for(_t in Ae)De.call(Ae,_t)&&!vt.hasOwnProperty(_t)&&(pt[_t]=Ae[_t]);if(ie&&ie.defaultProps){var Ot=ie.defaultProps;for(_t in Ot)pt[_t]===void 0&&(pt[_t]=Ot[_t])}if(ft||Zt){var Ft=typeof ie=="function"?ie.displayName||ie.name||"Unknown":ie;ft&&Nt(pt,Ft),Zt&&es(pt,Ft)}return lt(ie,ft,Zt,wt,ot,Rt.current,pt)}}var ht=N.ReactCurrentOwner,fs=N.ReactDebugCurrentFrame;function ns(ie){if(ie){var Ae=ie._owner,Re=W(ie.type,ie._source,Ae?Ae.type:null);fs.setExtraStackFrame(Re)}else fs.setExtraStackFrame(null)}var Gt;Gt=!1;function mt(ie){return typeof ie=="object"&&ie!==null&&ie.$$typeof===e}function Ht(){{if(ht.current){var ie=F(ht.current.type);if(ie)return`

Check the render method of \``+ie+"`."}return""}}function kn(ie){{if(ie!==void 0){var Ae=ie.fileName.replace(/^.*[\\\/]/,""),Re=ie.lineNumber;return`

Check your code at `+Ae+":"+Re+"."}return""}}var Os={};function Or(ie){{var Ae=Ht();if(!Ae){var Re=typeof ie=="string"?ie:ie.displayName||ie.name;Re&&(Ae=`

Check the top-level render call using <`+Re+">.")}return Ae}}function Lr(ie,Ae){{if(!ie._store||ie._store.validated||ie.key!=null)return;ie._store.validated=!0;var Re=Or(Ae);if(Os[Re])return;Os[Re]=!0;var ot="";ie&&ie._owner&&ie._owner!==ht.current&&(ot=" It was passed a child from "+F(ie._owner.type)+"."),ns(ie),w('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',Re,ot),ns(null)}}function ct(ie,Ae){{if(typeof ie!="object")return;if(ut(ie))for(var Re=0;Re<ie.length;Re++){var ot=ie[Re];mt(ot)&&Lr(ot,Ae)}else if(mt(ie))ie._store&&(ie._store.validated=!0);else if(ie){var wt=v(ie);if(typeof wt=="function"&&wt!==ie.entries)for(var _t=wt.call(ie),pt;!(pt=_t.next()).done;)mt(pt.value)&&Lr(pt.value,Ae)}}}function Xr(ie){{var Ae=ie.type;if(Ae==null||typeof Ae=="string")return;var Re;if(typeof Ae=="function")Re=Ae.propTypes;else if(typeof Ae=="object"&&(Ae.$$typeof===c||Ae.$$typeof===f))Re=Ae.propTypes;else return;if(Re){var ot=F(Ae);Be(Re,ie.props,"prop",ot,ie)}else if(Ae.PropTypes!==void 0&&!Gt){Gt=!0;var wt=F(Ae);w("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",wt||"Unknown")}typeof Ae.getDefaultProps=="function"&&!Ae.getDefaultProps.isReactClassApproved&&w("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function gr(ie){{for(var Ae=Object.keys(ie.props),Re=0;Re<Ae.length;Re++){var ot=Ae[Re];if(ot!=="children"&&ot!=="key"){ns(ie),w("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",ot),ns(null);break}}ie.ref!==null&&(ns(ie),w("Invalid attribute `ref` supplied to `React.Fragment`."),ns(null))}}var ur={};function br(ie,Ae,Re,ot,wt,_t){{var pt=R(ie);if(!pt){var ft="";(ie===void 0||typeof ie=="object"&&ie!==null&&Object.keys(ie).length===0)&&(ft+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var Zt=kn(wt);Zt?ft+=Zt:ft+=Ht();var Ot;ie===null?Ot="null":ut(ie)?Ot="array":ie!==void 0&&ie.$$typeof===e?(Ot="<"+(F(ie.type)||"Unknown")+" />",ft=" Did you accidentally export a JSX literal instead of a component?"):Ot=typeof ie,w("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",Ot,ft)}var Ft=At(ie,Ae,Re,wt,_t);if(Ft==null)return Ft;if(pt){var hs=Ae.children;if(hs!==void 0)if(ot)if(ut(hs)){for(var or=0;or<hs.length;or++)ct(hs[or],ie);Object.freeze&&Object.freeze(hs)}else w("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else ct(hs,ie)}if(De.call(Ae,"key")){var cr=F(ie),Ss=Object.keys(Ae).filter(function(Zs){return Zs!=="key"}),Qn=Ss.length>0?"{key: someKey, "+Ss.join(": ..., ")+": ...}":"{key: someKey}";if(!ur[cr+Qn]){var dn=Ss.length>0?"{"+Ss.join(": ..., ")+": ...}":"{}";w(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,Qn,cr,dn,cr),ur[cr+Qn]=!0}}return ie===r?gr(Ft):Xr(Ft),Ft}}var cs=br;Zl.Fragment=r,Zl.jsxDEV=cs})(),Zl}var kp;function zN(){return kp||(kp=1,em.exports=BN()),em.exports}var u=zN(),Ql={},wp;function $N(){if(wp)return Ql;wp=1;var s=RN();{var e=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;Ql.createRoot=function(t,r){e.usingClientEntryPoint=!0;try{return s.createRoot(t,r)}finally{e.usingClientEntryPoint=!1}},Ql.hydrateRoot=function(t,r,n){e.usingClientEntryPoint=!0;try{return s.hydrateRoot(t,r,n)}finally{e.usingClientEntryPoint=!1}}}return Ql}var WN=$N();const qN=Uy(WN),HN="modulepreload",YN=function(s){return"/pain-tracker/"+s},Dp={},qs=function(e,t,r){let n=Promise.resolve();if(t&&t.length>0){let c=function(l){return Promise.all(l.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=a?.nonce||a?.getAttribute("nonce");n=c(t.map(l=>{if(l=YN(l),l in Dp)return;Dp[l]=!0;const d=l.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${f}`))return;const p=document.createElement("link");if(p.rel=d?"stylesheet":HN,d||(p.as="script"),p.crossOrigin="",p.href=l,o&&p.setAttribute("nonce",o),document.head.appendChild(p),d)return new Promise((m,b)=>{p.addEventListener("load",m),p.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return n.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return e().catch(i)})};var Pp="popstate";function GN(s={}){function e(r,n){let{pathname:i,search:a,hash:o}=r.location;return uf("",{pathname:i,search:a,hash:o},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function t(r,n){return typeof n=="string"?n:rl(n)}return XN(e,t,null,s)}function Es(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function vn(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function KN(){return Math.random().toString(36).substring(2,10)}function Cp(s,e){return{usr:s.state,key:s.key,idx:e}}function uf(s,e,t=null,r){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?Ho(e):e,state:t,key:e&&e.key||r||KN()}}function rl({pathname:s="/",search:e="",hash:t=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(s+=t.charAt(0)==="#"?t:"#"+t),s}function Ho(s){let e={};if(s){let t=s.indexOf("#");t>=0&&(e.hash=s.substring(t),s=s.substring(0,t));let r=s.indexOf("?");r>=0&&(e.search=s.substring(r),s=s.substring(0,r)),s&&(e.pathname=s)}return e}function XN(s,e,t,r={}){let{window:n=document.defaultView,v5Compat:i=!1}=r,a=n.history,o="POP",c=null,l=d();l==null&&(l=0,a.replaceState({...a.state,idx:l},""));function d(){return(a.state||{idx:null}).idx}function f(){o="POP";let v=d(),N=v==null?null:v-l;l=v,c&&c({action:o,location:y.location,delta:N})}function p(v,N){o="PUSH";let w=uf(y.location,v,N);l=d()+1;let j=Cp(w,l),C=y.createHref(w);try{a.pushState(j,"",C)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;n.location.assign(C)}i&&c&&c({action:o,location:y.location,delta:1})}function m(v,N){o="REPLACE";let w=uf(y.location,v,N);l=d();let j=Cp(w,l),C=y.createHref(w);a.replaceState(j,"",C),i&&c&&c({action:o,location:y.location,delta:0})}function b(v){return JN(v)}let y={get action(){return o},get location(){return s(n,a)},listen(v){if(c)throw new Error("A history only accepts one active listener");return n.addEventListener(Pp,f),c=v,()=>{n.removeEventListener(Pp,f),c=null}},createHref(v){return e(n,v)},createURL:b,encodeLocation(v){let N=b(v);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:p,replace:m,go(v){return a.go(v)}};return y}function JN(s,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Es(t,"No window.location.(origin|href) available to create URL");let r=typeof s=="string"?s:rl(s);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function Iy(s,e,t="/"){return ZN(s,e,t,!1)}function ZN(s,e,t,r){let n=typeof e=="string"?Ho(e):e,i=Di(n.pathname||"/",t);if(i==null)return null;let a=Ry(s);QN(a);let o=null;for(let c=0;o==null&&c<a.length;++c){let l=u2(i);o=c2(a[c],l,r)}return o}function Ry(s,e=[],t=[],r="",n=!1){let i=(a,o,c=n,l)=>{let d={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(r)&&c)return;Es(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length)}let f=wi([r,d.relativePath]),p=t.concat(d);a.children&&a.children.length>0&&(Es(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),Ry(a.children,e,p,f,c)),!(a.path==null&&!a.index)&&e.push({path:f,score:a2(f,a.index),routesMeta:p})};return s.forEach((a,o)=>{if(a.path===""||!a.path?.includes("?"))i(a,o);else for(let c of Oy(a.path))i(a,o,!0,c)}),e}function Oy(s){let e=s.split("/");if(e.length===0)return[];let[t,...r]=e,n=t.endsWith("?"),i=t.replace(/\?$/,"");if(r.length===0)return n?[i,""]:[i];let a=Oy(r.join("/")),o=[];return o.push(...a.map(c=>c===""?i:[i,c].join("/"))),n&&o.push(...a),o.map(c=>s.startsWith("/")&&c===""?"/":c)}function QN(s){s.sort((e,t)=>e.score!==t.score?t.score-e.score:o2(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var e2=/^:[\w-]+$/,t2=3,s2=2,r2=1,n2=10,i2=-2,jp=s=>s==="*";function a2(s,e){let t=s.split("/"),r=t.length;return t.some(jp)&&(r+=i2),e&&(r+=s2),t.filter(n=>!jp(n)).reduce((n,i)=>n+(e2.test(i)?t2:i===""?r2:n2),r)}function o2(s,e){return s.length===e.length&&s.slice(0,-1).every((r,n)=>r===e[n])?s[s.length-1]-e[e.length-1]:0}function c2(s,e,t=!1){let{routesMeta:r}=s,n={},i="/",a=[];for(let o=0;o<r.length;++o){let c=r[o],l=o===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",f=Ku({path:c.relativePath,caseSensitive:c.caseSensitive,end:l},d),p=c.route;if(!f&&l&&t&&!r[r.length-1].route.index&&(f=Ku({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(n,f.params),a.push({params:n,pathname:wi([i,f.pathname]),pathnameBase:p2(wi([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=wi([i,f.pathnameBase]))}return a}function Ku(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[t,r]=l2(s.path,s.caseSensitive,s.end),n=e.match(t);if(!n)return null;let i=n[0],a=i.replace(/(.)\/+$/,"$1"),o=n.slice(1);return{params:r.reduce((l,{paramName:d,isOptional:f},p)=>{if(d==="*"){let b=o[p]||"";a=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const m=o[p];return f&&!m?l[d]=void 0:l[d]=(m||"").replace(/%2F/g,"/"),l},{}),pathname:i,pathnameBase:a,pattern:s}}function l2(s,e=!1,t=!0){vn(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let r=[],n="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,c)=>(r.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(r.push({paramName:"*"}),n+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?n+="\\/*$":s!==""&&s!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,e?void 0:"i"),r]}function u2(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return vn(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function Di(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=s.charAt(t);return r&&r!=="/"?null:s.slice(t)||"/"}var d2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,m2=s=>d2.test(s);function f2(s,e="/"){let{pathname:t,search:r="",hash:n=""}=typeof s=="string"?Ho(s):s,i;if(t)if(m2(t))i=t;else{if(t.includes("//")){let a=t;t=t.replace(/\/\/+/g,"/"),vn(!1,`Pathnames cannot have embedded double slashes - normalizing ${a} -> ${t}`)}t.startsWith("/")?i=Ep(t.substring(1),"/"):i=Ep(t,e)}else i=e;return{pathname:i,search:g2(r),hash:b2(n)}}function Ep(s,e){let t=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(n=>{n===".."?t.length>1&&t.pop():n!=="."&&t.push(n)}),t.length>1?t.join("/"):"/"}function tm(s,e,t,r){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function h2(s){return s.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Kf(s){let e=h2(s);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Xf(s,e,t,r=!1){let n;typeof s=="string"?n=Ho(s):(n={...s},Es(!n.pathname||!n.pathname.includes("?"),tm("?","pathname","search",n)),Es(!n.pathname||!n.pathname.includes("#"),tm("#","pathname","hash",n)),Es(!n.search||!n.search.includes("#"),tm("#","search","hash",n)));let i=s===""||n.pathname==="",a=i?"/":n.pathname,o;if(a==null)o=t;else{let f=e.length-1;if(!r&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),f-=1;n.pathname=p.join("/")}o=f>=0?e[f]:"/"}let c=f2(n,o),l=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(l||d)&&(c.pathname+="/"),c}var wi=s=>s.join("/").replace(/\/\/+/g,"/"),p2=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),g2=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,b2=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function y2(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Fy=["POST","PUT","PATCH","DELETE"];new Set(Fy);var x2=["GET",...Fy];new Set(x2);var Yo=$.createContext(null);Yo.displayName="DataRouter";var md=$.createContext(null);md.displayName="DataRouterState";$.createContext(!1);var By=$.createContext({isTransitioning:!1});By.displayName="ViewTransition";var v2=$.createContext(new Map);v2.displayName="Fetchers";var N2=$.createContext(null);N2.displayName="Await";var Ln=$.createContext(null);Ln.displayName="Navigation";var Nl=$.createContext(null);Nl.displayName="Location";var Jn=$.createContext({outlet:null,matches:[],isDataRoute:!1});Jn.displayName="Route";var Jf=$.createContext(null);Jf.displayName="RouteError";function k2(s,{relative:e}={}){Es(Go(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=$.useContext(Ln),{hash:n,pathname:i,search:a}=kl(s,{relative:e}),o=i;return t!=="/"&&(o=i==="/"?t:wi([t,i])),r.createHref({pathname:o,search:a,hash:n})}function Go(){return $.useContext(Nl)!=null}function oa(){return Es(Go(),"useLocation() may be used only in the context of a <Router> component."),$.useContext(Nl).location}var zy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $y(s){$.useContext(Ln).static||$.useLayoutEffect(s)}function Zf(){let{isDataRoute:s}=$.useContext(Jn);return s?M2():w2()}function w2(){Es(Go(),"useNavigate() may be used only in the context of a <Router> component.");let s=$.useContext(Yo),{basename:e,navigator:t}=$.useContext(Ln),{matches:r}=$.useContext(Jn),{pathname:n}=oa(),i=JSON.stringify(Kf(r)),a=$.useRef(!1);return $y(()=>{a.current=!0}),$.useCallback((c,l={})=>{if(vn(a.current,zy),!a.current)return;if(typeof c=="number"){t.go(c);return}let d=Xf(c,JSON.parse(i),n,l.relative==="path");s==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:wi([e,d.pathname])),(l.replace?t.replace:t.push)(d,l.state,l)},[e,t,i,n,s])}$.createContext(null);function kl(s,{relative:e}={}){let{matches:t}=$.useContext(Jn),{pathname:r}=oa(),n=JSON.stringify(Kf(t));return $.useMemo(()=>Xf(s,JSON.parse(n),r,e==="path"),[s,n,r,e])}function D2(s,e){return Wy(s,e)}function Wy(s,e,t,r,n){Es(Go(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=$.useContext(Ln),{matches:a}=$.useContext(Jn),o=a[a.length-1],c=o?o.params:{},l=o?o.pathname:"/",d=o?o.pathnameBase:"/",f=o&&o.route;{let w=f&&f.path||"";qy(l,!f||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let p=oa(),m;if(e){let w=typeof e=="string"?Ho(e):e;Es(d==="/"||w.pathname?.startsWith(d),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${w.pathname}" was given in the \`location\` prop.`),m=w}else m=p;let b=m.pathname||"/",y=b;if(d!=="/"){let w=d.replace(/^\//,"").split("/");y="/"+b.replace(/^\//,"").split("/").slice(w.length).join("/")}let v=Iy(s,{pathname:y});vn(f||v!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),vn(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=S2(v&&v.map(w=>Object.assign({},w,{params:Object.assign({},c,w.params),pathname:wi([d,i.encodeLocation?i.encodeLocation(w.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?d:wi([d,i.encodeLocation?i.encodeLocation(w.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathnameBase])})),a,t,r,n);return e&&N?$.createElement(Nl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},N):N}function P2(){let s=U2(),e=y2(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),t=s instanceof Error?s.stack:null,r="rgba(200,200,200, 0.5)",n={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",s),a=$.createElement($.Fragment,null,$.createElement("p",null,"ðŸ’¿ Hey developer ðŸ‘‹"),$.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",$.createElement("code",{style:i},"ErrorBoundary")," or"," ",$.createElement("code",{style:i},"errorElement")," prop on your route.")),$.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),t?$.createElement("pre",{style:n},t):null,a)}var C2=$.createElement(P2,null),j2=class extends $.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){this.props.onError?this.props.onError(s,e):console.error("React Router caught the following error during render",s)}render(){return this.state.error!==void 0?$.createElement(Jn.Provider,{value:this.props.routeContext},$.createElement(Jf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function E2({routeContext:s,match:e,children:t}){let r=$.useContext(Yo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),$.createElement(Jn.Provider,{value:s},t)}function S2(s,e=[],t=null,r=null,n=null){if(s==null){if(!t)return null;if(t.errors)s=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)s=t.matches;else return null}let i=s,a=t?.errors;if(a!=null){let d=i.findIndex(f=>f.route.id&&a?.[f.route.id]!==void 0);Es(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let o=!1,c=-1;if(t)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:p,errors:m}=t,b=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!m||m[f.route.id]===void 0);if(f.route.lazy||b){o=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}let l=t&&r?(d,f)=>{r(d,{location:t.location,params:t.matches?.[0]?.params??{},errorInfo:f})}:void 0;return i.reduceRight((d,f,p)=>{let m,b=!1,y=null,v=null;t&&(m=a&&f.route.id?a[f.route.id]:void 0,y=f.route.errorElement||C2,o&&(c<0&&p===0?(qy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,v=null):c===p&&(b=!0,v=f.route.hydrateFallbackElement||null)));let N=e.concat(i.slice(0,p+1)),w=()=>{let j;return m?j=y:b?j=v:f.route.Component?j=$.createElement(f.route.Component,null):f.route.element?j=f.route.element:j=d,$.createElement(E2,{match:f,routeContext:{outlet:d,matches:N,isDataRoute:t!=null},children:j})};return t&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?$.createElement(j2,{location:t.location,revalidation:t.revalidation,component:y,error:m,children:w(),routeContext:{outlet:null,matches:N,isDataRoute:!0},onError:l}):w()},null)}function Qf(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function A2(s){let e=$.useContext(Yo);return Es(e,Qf(s)),e}function _2(s){let e=$.useContext(md);return Es(e,Qf(s)),e}function L2(s){let e=$.useContext(Jn);return Es(e,Qf(s)),e}function eh(s){let e=L2(s),t=e.matches[e.matches.length-1];return Es(t.route.id,`${s} can only be used on routes that contain a unique "id"`),t.route.id}function T2(){return eh("useRouteId")}function U2(){let s=$.useContext(Jf),e=_2("useRouteError"),t=eh("useRouteError");return s!==void 0?s:e.errors?.[t]}function M2(){let{router:s}=A2("useNavigate"),e=eh("useNavigate"),t=$.useRef(!1);return $y(()=>{t.current=!0}),$.useCallback(async(n,i={})=>{vn(t.current,zy),t.current&&(typeof n=="number"?s.navigate(n):await s.navigate(n,{fromRouteId:e,...i}))},[s,e])}var Sp={};function qy(s,e,t){!e&&!Sp[s]&&(Sp[s]=!0,vn(!1,t))}$.memo(V2);function V2({routes:s,future:e,state:t,unstable_onError:r}){return Wy(s,void 0,t,r,e)}function Ap({to:s,replace:e,state:t,relative:r}){Es(Go(),"<Navigate> may be used only in the context of a <Router> component.");let{static:n}=$.useContext(Ln);vn(!n,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=$.useContext(Jn),{pathname:a}=oa(),o=Zf(),c=Xf(s,Kf(i),a,r==="path"),l=JSON.stringify(c);return $.useEffect(()=>{o(JSON.parse(l),{replace:e,state:t,relative:r})},[o,l,r,e,t]),null}function Mo(s){Es(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function I2({basename:s="/",children:e=null,location:t,navigationType:r="POP",navigator:n,static:i=!1}){Es(!Go(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=s.replace(/^\/*/,"/"),o=$.useMemo(()=>({basename:a,navigator:n,static:i,future:{}}),[a,n,i]);typeof t=="string"&&(t=Ho(t));let{pathname:c="/",search:l="",hash:d="",state:f=null,key:p="default"}=t,m=$.useMemo(()=>{let b=Di(c,a);return b==null?null:{location:{pathname:b,search:l,hash:d,state:f,key:p},navigationType:r}},[a,c,l,d,f,p,r]);return vn(m!=null,`<Router basename="${a}"> is not able to match the URL "${c}${l}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:$.createElement(Ln.Provider,{value:o},$.createElement(Nl.Provider,{children:e,value:m}))}function R2({children:s,location:e}){return D2(df(s),e)}function df(s,e=[]){let t=[];return $.Children.forEach(s,(r,n)=>{if(!$.isValidElement(r))return;let i=[...e,n];if(r.type===$.Fragment){t.push.apply(t,df(r.props.children,i));return}Es(r.type===Mo,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Es(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=df(r.props.children,i)),t.push(a)}),t}var Ou="get",Fu="application/x-www-form-urlencoded";function fd(s){return s!=null&&typeof s.tagName=="string"}function O2(s){return fd(s)&&s.tagName.toLowerCase()==="button"}function F2(s){return fd(s)&&s.tagName.toLowerCase()==="form"}function B2(s){return fd(s)&&s.tagName.toLowerCase()==="input"}function z2(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function $2(s,e){return s.button===0&&(!e||e==="_self")&&!z2(s)}var eu=null;function W2(){if(eu===null)try{new FormData(document.createElement("form"),0),eu=!1}catch{eu=!0}return eu}var q2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function sm(s){return s!=null&&!q2.has(s)?(vn(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Fu}"`),null):s}function H2(s,e){let t,r,n,i,a;if(F2(s)){let o=s.getAttribute("action");r=o?Di(o,e):null,t=s.getAttribute("method")||Ou,n=sm(s.getAttribute("enctype"))||Fu,i=new FormData(s)}else if(O2(s)||B2(s)&&(s.type==="submit"||s.type==="image")){let o=s.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=s.getAttribute("formaction")||o.getAttribute("action");if(r=c?Di(c,e):null,t=s.getAttribute("formmethod")||o.getAttribute("method")||Ou,n=sm(s.getAttribute("formenctype"))||sm(o.getAttribute("enctype"))||Fu,i=new FormData(o,s),!W2()){let{name:l,type:d,value:f}=s;if(d==="image"){let p=l?`${l}.`:"";i.append(`${p}x`,"0"),i.append(`${p}y`,"0")}else l&&i.append(l,f)}}else{if(fd(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Ou,r=null,n=Fu,a=s}return i&&n==="text/plain"&&(a=i,i=void 0),{action:r,method:t.toLowerCase(),encType:n,formData:i,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function th(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function Y2(s,e,t){let r=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&Di(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function G2(s,e){if(s.id in e)return e[s.id];try{let t=await import(s.module);return e[s.id]=t,t}catch(t){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function K2(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function X2(s,e,t){let r=await Promise.all(s.map(async n=>{let i=e.routes[n.route.id];if(i){let a=await G2(i,t);return a.links?a.links():[]}return[]}));return ek(r.flat(1).filter(K2).filter(n=>n.rel==="stylesheet"||n.rel==="preload").map(n=>n.rel==="stylesheet"?{...n,rel:"prefetch",as:"style"}:{...n,rel:"prefetch"}))}function _p(s,e,t,r,n,i){let a=(c,l)=>t[l]?c.route.id!==t[l].route.id:!0,o=(c,l)=>t[l].pathname!==c.pathname||t[l].route.path?.endsWith("*")&&t[l].params["*"]!==c.params["*"];return i==="assets"?e.filter((c,l)=>a(c,l)||o(c,l)):i==="data"?e.filter((c,l)=>{let d=r.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(a(c,l)||o(c,l))return!0;if(c.route.shouldRevalidate){let f=c.route.shouldRevalidate({currentUrl:new URL(n.pathname+n.search+n.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function J2(s,e,{includeHydrateFallback:t}={}){return Z2(s.map(r=>{let n=e.routes[r.route.id];if(!n)return[];let i=[n.module];return n.clientActionModule&&(i=i.concat(n.clientActionModule)),n.clientLoaderModule&&(i=i.concat(n.clientLoaderModule)),t&&n.hydrateFallbackModule&&(i=i.concat(n.hydrateFallbackModule)),n.imports&&(i=i.concat(n.imports)),i}).flat(1))}function Z2(s){return[...new Set(s)]}function Q2(s){let e={},t=Object.keys(s).sort();for(let r of t)e[r]=s[r];return e}function ek(s,e){let t=new Set;return new Set(e),s.reduce((r,n)=>{let i=JSON.stringify(Q2(n));return t.has(i)||(t.add(i),r.push({key:i,link:n})),r},[])}function Hy(){let s=$.useContext(Yo);return th(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function tk(){let s=$.useContext(md);return th(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var sh=$.createContext(void 0);sh.displayName="FrameworkContext";function Yy(){let s=$.useContext(sh);return th(s,"You must render this element inside a <HydratedRouter> element"),s}function sk(s,e){let t=$.useContext(sh),[r,n]=$.useState(!1),[i,a]=$.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:l,onMouseLeave:d,onTouchStart:f}=e,p=$.useRef(null);$.useEffect(()=>{if(s==="render"&&a(!0),s==="viewport"){let y=N=>{N.forEach(w=>{a(w.isIntersecting)})},v=new IntersectionObserver(y,{threshold:.5});return p.current&&v.observe(p.current),()=>{v.disconnect()}}},[s]),$.useEffect(()=>{if(r){let y=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(y)}}},[r]);let m=()=>{n(!0)},b=()=>{n(!1),a(!1)};return t?s!=="intent"?[i,p,{}]:[i,p,{onFocus:Pc(o,m),onBlur:Pc(c,b),onMouseEnter:Pc(l,m),onMouseLeave:Pc(d,b),onTouchStart:Pc(f,m)}]:[!1,p,{}]}function Pc(s,e){return t=>{s&&s(t),t.defaultPrevented||e(t)}}function rk({page:s,...e}){let{router:t}=Hy(),r=$.useMemo(()=>Iy(t.routes,s,t.basename),[t.routes,s,t.basename]);return r?$.createElement(ik,{page:s,matches:r,...e}):null}function nk(s){let{manifest:e,routeModules:t}=Yy(),[r,n]=$.useState([]);return $.useEffect(()=>{let i=!1;return X2(s,e,t).then(a=>{i||n(a)}),()=>{i=!0}},[s,e,t]),r}function ik({page:s,matches:e,...t}){let r=oa(),{manifest:n,routeModules:i}=Yy(),{basename:a}=Hy(),{loaderData:o,matches:c}=tk(),l=$.useMemo(()=>_p(s,e,c,n,r,"data"),[s,e,c,n,r]),d=$.useMemo(()=>_p(s,e,c,n,r,"assets"),[s,e,c,n,r]),f=$.useMemo(()=>{if(s===r.pathname+r.search+r.hash)return[];let b=new Set,y=!1;if(e.forEach(N=>{let w=n.routes[N.route.id];!w||!w.hasLoader||(!l.some(j=>j.route.id===N.route.id)&&N.route.id in o&&i[N.route.id]?.shouldRevalidate||w.hasClientLoader?y=!0:b.add(N.route.id))}),b.size===0)return[];let v=Y2(s,a,"data");return y&&b.size>0&&v.searchParams.set("_routes",e.filter(N=>b.has(N.route.id)).map(N=>N.route.id).join(",")),[v.pathname+v.search]},[a,o,r,n,l,e,s,i]),p=$.useMemo(()=>J2(d,n),[d,n]),m=nk(d);return $.createElement($.Fragment,null,f.map(b=>$.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...t})),p.map(b=>$.createElement("link",{key:b,rel:"modulepreload",href:b,...t})),m.map(({key:b,link:y})=>$.createElement("link",{key:b,nonce:t.nonce,...y})))}function ak(...s){return e=>{s.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Gy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Gy&&(window.__reactRouterVersion="7.9.6")}catch{}function ok({basename:s,children:e,window:t}){let r=$.useRef();r.current==null&&(r.current=GN({window:t,v5Compat:!0}));let n=r.current,[i,a]=$.useState({action:n.action,location:n.location}),o=$.useCallback(c=>{$.startTransition(()=>a(c))},[a]);return $.useLayoutEffect(()=>n.listen(o),[n,o]),$.createElement(I2,{basename:s,children:e,location:i.location,navigationType:i.action,navigator:n})}var Ky=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xy=$.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:n,reloadDocument:i,replace:a,state:o,target:c,to:l,preventScrollReset:d,viewTransition:f,...p},m){let{basename:b}=$.useContext(Ln),y=typeof l=="string"&&Ky.test(l),v,N=!1;if(typeof l=="string"&&y&&(v=l,Gy))try{let T=new URL(window.location.href),R=l.startsWith("//")?new URL(T.protocol+l):new URL(l),E=Di(R.pathname,b);R.origin===T.origin&&E!=null?l=E+R.search+R.hash:N=!0}catch{vn(!1,`<Link to="${l}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=k2(l,{relative:n}),[j,C,S]=sk(r,p),A=dk(l,{replace:a,state:o,target:c,preventScrollReset:d,relative:n,viewTransition:f});function U(T){e&&e(T),T.defaultPrevented||A(T)}let P=$.createElement("a",{...p,...S,href:v||w,onClick:N||i?e:U,ref:ak(m,C),target:c,"data-discover":!y&&t==="render"?"true":void 0});return j&&!y?$.createElement($.Fragment,null,P,$.createElement(rk,{page:w})):P});Xy.displayName="Link";var ck=$.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:n=!1,style:i,to:a,viewTransition:o,children:c,...l},d){let f=kl(a,{relative:l.relative}),p=oa(),m=$.useContext(md),{navigator:b,basename:y}=$.useContext(Ln),v=m!=null&&gk(f)&&o===!0,N=b.encodeLocation?b.encodeLocation(f).pathname:f.pathname,w=p.pathname,j=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;t||(w=w.toLowerCase(),j=j?j.toLowerCase():null,N=N.toLowerCase()),j&&y&&(j=Di(j,y)||j);const C=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let S=w===N||!n&&w.startsWith(N)&&w.charAt(C)==="/",A=j!=null&&(j===N||!n&&j.startsWith(N)&&j.charAt(N.length)==="/"),U={isActive:S,isPending:A,isTransitioning:v},P=S?e:void 0,T;typeof r=="function"?T=r(U):T=[r,S?"active":null,A?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let R=typeof i=="function"?i(U):i;return $.createElement(Xy,{...l,"aria-current":P,className:T,ref:d,style:R,to:a,viewTransition:o},typeof c=="function"?c(U):c)});ck.displayName="NavLink";var lk=$.forwardRef(({discover:s="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:n,state:i,method:a=Ou,action:o,onSubmit:c,relative:l,preventScrollReset:d,viewTransition:f,...p},m)=>{let b=hk(),y=pk(o,{relative:l}),v=a.toLowerCase()==="get"?"get":"post",N=typeof o=="string"&&Ky.test(o),w=j=>{if(c&&c(j),j.defaultPrevented)return;j.preventDefault();let C=j.nativeEvent.submitter,S=C?.getAttribute("formmethod")||a;b(C||j.currentTarget,{fetcherKey:e,method:S,navigate:t,replace:n,state:i,relative:l,preventScrollReset:d,viewTransition:f})};return $.createElement("form",{ref:m,method:v,action:y,onSubmit:r?c:w,...p,"data-discover":!N&&s==="render"?"true":void 0})});lk.displayName="Form";function uk(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Jy(s){let e=$.useContext(Yo);return Es(e,uk(s)),e}function dk(s,{target:e,replace:t,state:r,preventScrollReset:n,relative:i,viewTransition:a}={}){let o=Zf(),c=oa(),l=kl(s,{relative:i});return $.useCallback(d=>{if($2(d,e)){d.preventDefault();let f=t!==void 0?t:rl(c)===rl(l);o(s,{replace:f,state:r,preventScrollReset:n,relative:i,viewTransition:a})}},[c,o,l,t,r,e,s,n,i,a])}var mk=0,fk=()=>`__${String(++mk)}__`;function hk(){let{router:s}=Jy("useSubmit"),{basename:e}=$.useContext(Ln),t=T2();return $.useCallback(async(r,n={})=>{let{action:i,method:a,encType:o,formData:c,body:l}=H2(r,e);if(n.navigate===!1){let d=n.fetcherKey||fk();await s.fetch(d,t,n.action||i,{preventScrollReset:n.preventScrollReset,formData:c,body:l,formMethod:n.method||a,formEncType:n.encType||o,flushSync:n.flushSync})}else await s.navigate(n.action||i,{preventScrollReset:n.preventScrollReset,formData:c,body:l,formMethod:n.method||a,formEncType:n.encType||o,replace:n.replace,state:n.state,fromRouteId:t,flushSync:n.flushSync,viewTransition:n.viewTransition})},[s,e,t])}function pk(s,{relative:e}={}){let{basename:t}=$.useContext(Ln),r=$.useContext(Jn);Es(r,"useFormAction must be used inside a RouteContext");let[n]=r.matches.slice(-1),i={...kl(s||".",{relative:e})},a=oa();if(s==null){i.search=a.search;let o=new URLSearchParams(i.search),c=o.getAll("index");if(c.some(d=>d==="")){o.delete("index"),c.filter(f=>f).forEach(f=>o.append("index",f));let d=o.toString();i.search=d?`?${d}`:""}}return(!s||s===".")&&n.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(i.pathname=i.pathname==="/"?t:wi([t,i.pathname])),rl(i)}function gk(s,{relative:e}={}){let t=$.useContext(By);Es(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Jy("useViewTransitionState"),n=kl(s,{relative:e});if(!t.isTransitioning)return!1;let i=Di(t.currentLocation.pathname,r)||t.currentLocation.pathname,a=Di(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Ku(n.pathname,a)!=null||Ku(n.pathname,i)!=null}class bk extends $.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("ErrorBoundary:",e,t)}render(){return this.state.hasError?this.props.fallback||u.jsxDEV("div",{className:"error-boundary",children:[u.jsxDEV("h2",{children:"Something went wrong"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/ErrorBoundary.tsx",lineNumber:31,columnNumber:11},this),u.jsxDEV("p",{children:"Please try refreshing the page"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/ErrorBoundary.tsx",lineNumber:32,columnNumber:11},this),u.jsxDEV("button",{onClick:()=>window.location.reload(),children:"Refresh"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/ErrorBoundary.tsx",lineNumber:33,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/ErrorBoundary.tsx",lineNumber:30,columnNumber:9},this):this.props.children}}const Zy="pt",yk=50*1024,Lp=/^[a-z0-9:_-]+$/i;function rm(s,e){return`${e||Zy}:${s}`}function xk(s){try{const e=typeof s=="string"?s:JSON.stringify(s),t=new Blob([e]).size;return{data:e,truncated:!1,bytes:t}}catch{return{data:'"__SERIALIZATION_ERROR__"',truncated:!1,bytes:28}}}const Ps={get(s,e){try{if(!Lp.test(s))return null;const t=rm(s,e?.namespace),r=localStorage.getItem(t);if(r==null||r==='"__SERIALIZATION_ERROR__"')return null;try{let n=r;if(e?.encrypt){const i=e.decryptFn||globalThis.__secureStorageDecrypt;if(!i)return null;try{n=i(r)}catch{return null}}return JSON.parse(n)}catch{return r}}catch{return null}},set(s,e,t){if(!Lp.test(s))return{success:!1,error:"INVALID_KEY"};const r=rm(s,t?.namespace);try{const{data:n,bytes:i}=xk(e),a=t?.maxValueSizeBytes??yk;if(i>a)return{success:!1,error:"VALUE_TOO_LARGE",bytes:i};let o=n;if(t?.encrypt){const c=t.encryptFn||globalThis.__secureStorageEncrypt;if(!c)return{success:!1,error:"ENCRYPTION_UNAVAILABLE"};try{o=c(n)}catch{return{success:!1,error:"ENCRYPT_FAILED"}}}return localStorage.setItem(r,o),{success:!0,bytes:i}}catch(n){return{success:!1,error:n.message}}},remove(s,e){try{const t=rm(s,e?.namespace);return localStorage.removeItem(t),!0}catch{return!1}},safeJSON(s,e,t){const r=this.get(s,t);return r??e},keys(s){const e=`${s||Zy}:`,t=[];for(let r=0;r<localStorage.length;r++){const n=localStorage.key(r);n&&n.startsWith(e)&&t.push(n.slice(e.length))}return t}},Tp=s=>{let e;const t=new Set,r=(l,d)=>{const f=typeof l=="function"?l(e):l;if(!Object.is(f,e)){const p=e;e=d??(typeof f!="object"||f===null)?f:Object.assign({},e,f),t.forEach(m=>m(e,p))}},n=()=>e,o={setState:r,getState:n,getInitialState:()=>c,subscribe:l=>(t.add(l),()=>t.delete(l))},c=e=s(r,n,o);return o},vk=(s=>s?Tp(s):Tp),Nk=s=>s;function kk(s,e=Nk){const t=It.useSyncExternalStore(s.subscribe,It.useCallback(()=>e(s.getState()),[s,e]),It.useCallback(()=>e(s.getInitialState()),[s,e]));return It.useDebugValue(t),t}const wk=s=>{const e=vk(s),t=r=>kk(e,r);return Object.assign(t,e),t},Dk=(s=>wk);function Qi(s,e=1){return Number.isNaN(s)||s===1/0||s===-1/0?0 .toFixed(e):s.toFixed(e)}const Up={BASE_URL:"/pain-tracker/",DEV:!0,MODE:"production",PROD:!1,SSR:!1,VITE_USER_NODE_ENV:"development"},nl=new Map,tu=s=>{const e=nl.get(s);return e?Object.fromEntries(Object.entries(e.stores).map(([t,r])=>[t,r.getState()])):{}},Pk=(s,e,t)=>{if(s===void 0)return{type:"untracked",connection:e.connect(t)};const r=nl.get(t.name);if(r)return{type:"tracked",store:s,...r};const n={connection:e.connect(t),stores:{}};return nl.set(t.name,n),{type:"tracked",store:s,...n}},Ck=(s,e)=>{if(e===void 0)return;const t=nl.get(s);t&&(delete t.stores[e],Object.keys(t.stores).length===0&&nl.delete(s))},jk=s=>{var e,t;if(!s)return;const r=s.split(`
`),n=r.findIndex(a=>a.includes("api.setState"));if(n<0)return;const i=((e=r[n+1])==null?void 0:e.trim())||"";return(t=/.+ (.+) .+/.exec(i))==null?void 0:t[1]},Ek=(s,e={})=>(t,r,n)=>{const{enabled:i,anonymousActionType:a,store:o,...c}=e;let l;try{l=(i??(Up?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!l)return s(t,r,n);const{connection:d,...f}=Pk(o,l,c);let p=!0;n.setState=((y,v,N)=>{const w=t(y,v);if(!p)return w;const j=N===void 0?{type:a||jk(new Error().stack)||"anonymous"}:typeof N=="string"?{type:N}:N;return o===void 0?(d?.send(j,r()),w):(d?.send({...j,type:`${o}/${j.type}`},{...tu(c.name),[o]:n.getState()}),w)}),n.devtools={cleanup:()=>{d&&typeof d.unsubscribe=="function"&&d.unsubscribe(),Ck(c.name,o)}};const m=(...y)=>{const v=p;p=!1,t(...y),p=v},b=s(n.setState,r,n);if(f.type==="untracked"?d?.init(b):(f.stores[f.store]=n,d?.init(Object.fromEntries(Object.entries(f.stores).map(([y,v])=>[y,y===f.store?b:v.getState()])))),n.dispatchFromDevtools&&typeof n.dispatch=="function"){let y=!1;const v=n.dispatch;n.dispatch=(...N)=>{(Up?"production":void 0)!=="production"&&N[0].type==="__setState"&&!y&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),y=!0),v(...N)}}return d.subscribe(y=>{var v;switch(y.type){case"ACTION":if(typeof y.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return nm(y.payload,N=>{if(N.type==="__setState"){if(o===void 0){m(N.state);return}Object.keys(N.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const w=N.state[o];if(w==null)return;JSON.stringify(n.getState())!==JSON.stringify(w)&&m(w);return}n.dispatchFromDevtools&&typeof n.dispatch=="function"&&n.dispatch(N)});case"DISPATCH":switch(y.payload.type){case"RESET":return m(b),o===void 0?d?.init(n.getState()):d?.init(tu(c.name));case"COMMIT":if(o===void 0){d?.init(n.getState());return}return d?.init(tu(c.name));case"ROLLBACK":return nm(y.state,N=>{if(o===void 0){m(N),d?.init(n.getState());return}m(N[o]),d?.init(tu(c.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return nm(y.state,N=>{if(o===void 0){m(N);return}JSON.stringify(n.getState())!==JSON.stringify(N[o])&&m(N[o])});case"IMPORT_STATE":{const{nextLiftedState:N}=y.payload,w=(v=N.computedStates.slice(-1)[0])==null?void 0:v.state;if(!w)return;m(o===void 0?w:w[o]),d?.send(null,N);return}case"PAUSE_RECORDING":return p=!p}return}}),b},Sk=Ek,nm=(s,e)=>{let t;try{t=JSON.parse(s)}catch(r){console.error("[zustand devtools middleware] Could not parse the received json",r)}t!==void 0&&e(t)},Ak=s=>(e,t,r)=>{const n=r.subscribe;return r.subscribe=((a,o,c)=>{let l=a;if(o){const d=c?.equalityFn||Object.is;let f=a(r.getState());l=p=>{const m=a(p);if(!d(f,m)){const b=f;o(f=m,b)}},c?.fireImmediately&&o(f,f)}return n(l)}),s(e,t,r)},_k=Ak;function Lk(s,e){let t;try{t=s()}catch{return}return{getItem:n=>{var i;const a=c=>c===null?null:JSON.parse(c,void 0),o=(i=t.getItem(n))!=null?i:null;return o instanceof Promise?o.then(a):a(o)},setItem:(n,i)=>t.setItem(n,JSON.stringify(i,void 0)),removeItem:n=>t.removeItem(n)}}const mf=s=>e=>{try{const t=s(e);return t instanceof Promise?t:{then(r){return mf(r)(t)},catch(r){return this}}}catch(t){return{then(r){return this},catch(r){return mf(r)(t)}}}},Tk=(s,e)=>(t,r,n)=>{let i={storage:Lk(()=>localStorage),partialize:y=>y,version:0,merge:(y,v)=>({...v,...y}),...e},a=!1;const o=new Set,c=new Set;let l=i.storage;if(!l)return s((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),t(...y)},r,n);const d=()=>{const y=i.partialize({...r()});return l.setItem(i.name,{state:y,version:i.version})},f=n.setState;n.setState=(y,v)=>(f(y,v),d());const p=s((...y)=>(t(...y),d()),r,n);n.getInitialState=()=>p;let m;const b=()=>{var y,v;if(!l)return;a=!1,o.forEach(w=>{var j;return w((j=r())!=null?j:p)});const N=((v=i.onRehydrateStorage)==null?void 0:v.call(i,(y=r())!=null?y:p))||void 0;return mf(l.getItem.bind(l))(i.name).then(w=>{if(w)if(typeof w.version=="number"&&w.version!==i.version){if(i.migrate){const j=i.migrate(w.state,w.version);return j instanceof Promise?j.then(C=>[!0,C]):[!0,j]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,w.state];return[!1,void 0]}).then(w=>{var j;const[C,S]=w;if(m=i.merge(S,(j=r())!=null?j:p),t(m,!0),C)return d()}).then(()=>{N?.(m,void 0),m=r(),a=!0,c.forEach(w=>w(m))}).catch(w=>{N?.(void 0,w)})};return n.persist={setOptions:y=>{i={...i,...y},y.storage&&(l=y.storage)},clearStorage:()=>{l?.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>b(),hasHydrated:()=>a,onHydrate:y=>(o.add(y),()=>{o.delete(y)}),onFinishHydration:y=>(c.add(y),()=>{c.delete(y)})},i.skipHydration||b(),m||p},Uk=Tk,Mk=s=>(e,t,r)=>(r.setState=(n,i,...a)=>{const o=typeof n=="function"?ON(n):n;return e(o,i,...a)},s(r.setState,t,r)),Vk=Mk;var im={};function wo(s){if(typeof Buffer<"u")return Buffer.from(s).toString("base64");let e="";const t=new Uint8Array(s);for(let r=0;r<t.byteLength;r++)e+=String.fromCharCode(t[r]);return btoa(e)}function Wi(s){if(typeof Buffer<"u")return Uint8Array.from(Buffer.from(s,"base64")).buffer;const e=atob(s),t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t.buffer}class Ik{events=[];encryptionConfig;privacyConfig;sessionId;masterCryptoKey=null;masterHmacKey=null;constructor(e,t){this.encryptionConfig={algorithm:"AES",keySize:256,mode:"CBC",padding:"PKCS7",...e},this.privacyConfig={enableAnalytics:!0,dataRetentionDays:90,anonymizationLevel:"advanced",consentRequired:!0,minimumNoiseLevel:.1,...t},this.sessionId=this.generateSessionId(),this.initializeSecurity()}isTestEnv(){try{const e=(typeof process<"u"?im:void 0)||{};return!!(e&&(e.VITEST||e.NODE_ENV==="test"))}catch{return!1}}generateSessionId(){const e=new Uint8Array(16);return crypto.getRandomValues(e),Array.from(e).map(t=>t.toString(16).padStart(2,"0")).join("")}initializeSecurity(){this.logSecurityEvent({type:"audit",level:"info",message:"Security service initialized",metadata:{encryptionAlgorithm:this.encryptionConfig.algorithm,keySize:this.encryptionConfig.keySize,privacyLevel:this.privacyConfig.anonymizationLevel},timestamp:new Date,sessionId:this.sessionId})}async initializeMasterKey(e){try{const t=crypto.subtle,r=typeof process<"u"&&im&&im.VITEST?500:15e4;if(e){const n=crypto.getRandomValues(new Uint8Array(16)),i=new TextEncoder().encode(e),a=await t.importKey("raw",i,"PBKDF2",!1,["deriveBits","deriveKey"]);this.masterCryptoKey=await t.deriveKey({name:"PBKDF2",salt:n.buffer,iterations:r,hash:"SHA-256"},a,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"]);const o=await t.deriveBits({name:"PBKDF2",salt:n.buffer,iterations:r,hash:"SHA-256"},a,256);this.masterHmacKey=await t.importKey("raw",o,{name:"HMAC",hash:"SHA-256"},!1,["sign","verify"])}else this.masterCryptoKey=await crypto.subtle.generateKey({name:"AES-GCM",length:256},!1,["encrypt","decrypt"]),this.masterHmacKey=await crypto.subtle.generateKey({name:"HMAC",hash:"SHA-256"},!1,["sign","verify"]);this.logSecurityEvent({type:"encryption",level:"info",message:"Master key initialized",timestamp:new Date,sessionId:this.sessionId})}catch(t){throw this.logSecurityEvent({type:"encryption",level:"error",message:"Failed to initialize master key",metadata:{error:t instanceof Error?t.message:"Unknown error"},timestamp:new Date,sessionId:this.sessionId}),new Error("Failed to initialize encryption key")}}async encryptData(e,t){try{if(!this.masterCryptoKey||!this.masterHmacKey){if(this.isTestEnv())return JSON.stringify({v:"clear",payload:e});throw new Error("Encryption key not available")}const r=crypto.getRandomValues(new Uint8Array(12)),n=new TextEncoder().encode(e),i=await crypto.subtle.encrypt({name:"AES-GCM",iv:r},this.masterCryptoKey,n),a=wo(i),o=await crypto.subtle.sign("HMAC",this.masterHmacKey,Wi(a)),c=wo(o),l=JSON.stringify({v:"1",cipher:a,iv:wo(r.buffer),hmac:c});return this.logSecurityEvent({type:"encryption",level:"info",message:"Data encrypted successfully",metadata:{dataLength:e.length},timestamp:new Date,sessionId:this.sessionId}),l}catch(r){throw this.logSecurityEvent({type:"encryption",level:"error",message:"Data encryption failed",metadata:{error:r instanceof Error?r.message:"Unknown error"},timestamp:new Date,sessionId:this.sessionId}),r}}async decryptData(e,t){try{if(!this.masterCryptoKey||!this.masterHmacKey){if(this.isTestEnv())try{const l=JSON.parse(e);if(l&&l.v==="clear"&&typeof l.payload=="string")return l.payload}catch{}throw new Error("Decryption key not available")}let r;try{r=JSON.parse(e)}catch{throw new Error("Malformed encrypted payload")}if(r.v==="clear"&&typeof r.payload=="string")return r.payload;if(!r.cipher||!r.iv||!r.hmac)throw new Error("Encrypted payload missing fields");if(!await crypto.subtle.verify("HMAC",this.masterHmacKey,Wi(r.hmac),Wi(r.cipher)))throw new Error("Integrity check failed - HMAC mismatch");const i=new Uint8Array(Wi(r.iv)),a=Wi(r.cipher);let o;try{o=await crypto.subtle.decrypt({name:"AES-GCM",iv:i},this.masterCryptoKey,a)}catch{throw new Error("Decryption failed - invalid key or corrupted data")}const c=new TextDecoder().decode(new Uint8Array(o));return this.logSecurityEvent({type:"encryption",level:"info",message:"Data decrypted successfully",timestamp:new Date,sessionId:this.sessionId}),c}catch(r){throw this.logSecurityEvent({type:"encryption",level:"error",message:"Data decryption failed",metadata:{error:r instanceof Error?r.message:"Unknown error"},timestamp:new Date,sessionId:this.sessionId}),r}}createSecureStorage(){return{encrypt:async(e,t)=>this.encryptData(e,t),decrypt:async(e,t)=>this.decryptData(e,t),store:async(e,t,r=!0)=>{const n=JSON.stringify(t);if(r)if(this.masterCryptoKey){const i=await this.encryptData(n);localStorage.setItem(e,i)}else{if(!this.isTestEnv())throw new Error("Secure storage requires initialized master key");localStorage.setItem(e,n)}else{if(!this.isTestEnv())throw new Error("Storing plaintext sensitive data in localStorage is forbidden");localStorage.setItem(e,n)}this.logSecurityEvent({type:"data_access",level:"info",message:`Data stored: ${e}`,metadata:{encrypted:r,dataSize:n.length},timestamp:new Date,sessionId:this.sessionId})},retrieve:async(e,t=!0)=>{const r=localStorage.getItem(e);if(!r)return null;try{const n=t?await this.decryptData(r):r;return JSON.parse(n)}catch(n){return this.logSecurityEvent({type:"data_access",level:"error",message:`Failed to retrieve data: ${e}`,metadata:{error:n instanceof Error?n.message:"Unknown error"},timestamp:new Date,sessionId:this.sessionId}),null}},delete:async e=>{localStorage.removeItem(e),this.logSecurityEvent({type:"data_access",level:"info",message:`Data deleted: ${e}`,timestamp:new Date,sessionId:this.sessionId})},clear:async()=>{localStorage.clear(),this.logSecurityEvent({type:"data_access",level:"warning",message:"All local storage cleared",timestamp:new Date,sessionId:this.sessionId})}}}logSecurityEvent(e){this.events.push({...e,sessionId:e.sessionId||this.sessionId}),this.events.length>1e3&&(this.events=this.events.slice(-500)),!this.isTestEnv()&&(e.level==="critical"||e.level==="error")&&console.error(`[SECURITY ${e.level.toUpperCase()}]`,e.message,e.metadata)}async performSecurityAudit(){const e=[],t=[];this.masterCryptoKey||(e.push({id:"no-master-key",severity:"high",category:"encryption",title:"No Master Key Initialized",description:"Encryption is not properly configured",remediation:"Initialize master key using initializeMasterKey()",affectedComponents:["SecureStorage","DataEncryption"]}),t.push("Initialize encryption system with a strong master key"));const r=this.events.filter(d=>d.level==="error"||d.level==="critical").filter(d=>Date.now()-d.timestamp.getTime()<1440*60*1e3);r.length>0&&(e.push({id:"recent-security-errors",severity:"medium",category:"configuration",title:"Recent Security Errors Detected",description:`${r.length} security errors in the last 24 hours`,remediation:"Review security event logs and address recurring issues",affectedComponents:["SecurityMonitoring"]}),t.push("Review and address recent security errors"));const n="security-audit-test",i=this.createSecureStorage();try{await i.store(n,{test:!0},!0),await i.retrieve(n,!0),await i.delete(n)}catch(d){e.push({id:"storage-encryption-failure",severity:"high",category:"encryption",title:"Storage Encryption Test Failed",description:"Secure storage operations are not working correctly",remediation:"Debug encryption/decryption process and ensure proper key management",affectedComponents:["SecureStorage"]}),console.error("Storage encryption test failed:",d)}const a=e.filter(d=>d.severity==="critical").length,o=e.filter(d=>d.severity==="high").length,c=e.filter(d=>d.severity==="medium").length,l=Math.max(0,1-(a*.4+o*.3+c*.1));return this.logSecurityEvent({type:"audit",level:e.length===0?"info":"warning",message:`Security audit completed. Score: ${Qi(l*100,1)}%`,metadata:{totalIssues:e.length,criticalIssues:a,highIssues:o,mediumIssues:c,score:l},timestamp:new Date,sessionId:this.sessionId}),{passed:l>=.8&&a===0,score:l,issues:e,recommendations:t,lastAudit:new Date}}async wrapKey(e){if(!this.masterCryptoKey){if(this.isTestEnv())try{const n=await crypto.subtle.exportKey("raw",e);return JSON.stringify({wrapped:wo(n),iv:null,format:"raw"})}catch{return JSON.stringify({wrapped:null,iv:null,format:"none"})}throw new Error("Master crypto key not initialized - cannot wrap key")}const t=crypto.getRandomValues(new Uint8Array(12)),r=await crypto.subtle.wrapKey("raw",e,this.masterCryptoKey,{name:"AES-GCM",iv:t});return JSON.stringify({wrapped:wo(r),iv:wo(t.buffer),format:"raw"})}async unwrapKey(e,t={name:"AES-GCM"},r=["encrypt","decrypt"]){try{const n=JSON.parse(e);if(!n||!n.wrapped)return null;if(n.format==="raw"&&(!n.iv||!this.masterCryptoKey)){if(this.isTestEnv()){const c=Wi(n.wrapped);return await crypto.subtle.importKey("raw",c,t,!1,r)}throw new Error("Cannot unwrap key - master key missing")}const i=n.iv?Wi(n.iv):null,a=Wi(n.wrapped);if(!this.masterCryptoKey)throw new Error("Master crypto key not initialized");return await crypto.subtle.unwrapKey("raw",a,this.masterCryptoKey,{name:"AES-GCM",iv:i?new Uint8Array(i):new Uint8Array(12)},t,!1,r)}catch(n){if(this.logSecurityEvent({type:"encryption",level:"error",message:"Failed to unwrap key",metadata:{error:n instanceof Error?n.message:String(n)},timestamp:new Date,sessionId:this.sessionId}),this.isTestEnv())return null;throw n}}getSecurityEvents(e){let t=[...this.events];return e&&(e.type&&(t=t.filter(r=>r.type===e.type)),e.level&&(t=t.filter(r=>r.level===e.level)),e.since&&(t=t.filter(r=>r.timestamp>=e.since)),e.limit&&(t=t.slice(-e.limit))),t.sort((r,n)=>n.timestamp.getTime()-r.timestamp.getTime())}clearSecurityEvents(e){e?this.events=this.events.filter(t=>t.timestamp>=e):this.events=[],this.logSecurityEvent({type:"audit",level:"info",message:"Security events cleared",metadata:{olderThan:e?.toISOString()},timestamp:new Date,sessionId:this.sessionId})}getSecurityStatus(){const e=new Date(Date.now()-864e5),t=this.events.filter(i=>i.timestamp>=e),r=t.filter(i=>i.level==="error"||i.level==="critical"),n=this.events.filter(i=>i.type==="audit"&&i.message.includes("audit completed")).sort((i,a)=>a.timestamp.getTime()-i.timestamp.getTime())[0];return{encryptionEnabled:!!this.masterCryptoKey,masterKeyInitialized:!!this.masterCryptoKey,recentEvents:t.length,recentErrors:r.length,lastAudit:n?.timestamp||null}}}const Rr=new Ik;function Rk(s){let e;if(typeof s=="string"){if(!/^\d{4}-\d{2}-\d{2}T?/.test(s))return new Date(NaN);e=FN(s)}else e=s;return!(e instanceof Date)||Number.isNaN(e.getTime())?new Date(NaN):new Date(e.getFullYear(),e.getMonth(),e.getDate())}class Mp{epsilon;budgetUsed=0;constructor(e=1){this.epsilon=e}addLaplaceNoise(e,t=1){if(this.budgetUsed>=this.epsilon)throw new Error("Privacy budget exhausted");const r=t/this.epsilon,n=this.generateLaplaceNoise(r);return this.budgetUsed+=this.epsilon*.1,Math.max(0,e+n)}generateLaplaceNoise(e){const t=Math.random()-.5;return-e*Math.sign(t)*Math.log(1-2*Math.abs(t))}getRemainingBudget(){return Math.max(0,this.epsilon-this.budgetUsed)}resetBudget(){this.budgetUsed=0}}class Ok{config;events=[];privacyEngine;userConsent=!1;sessionHash;constructor(e){this.config={enableAnalytics:!0,differentialPrivacyEnabled:!0,noiseLevel:1,dataRetentionDays:30,minimumAggregationSize:5,allowedMetrics:["pain_level","location","usage_time","validation_usage"],consentRequired:!0,...e},this.privacyEngine=new Mp(this.config.noiseLevel),this.sessionHash=this.generateSessionHash(),this.initializeService()}generateSessionHash(){const e=`${Date.now()}-${Math.random()}-${navigator.userAgent}`;let t=0;for(let r=0;r<e.length;r++){const n=e.charCodeAt(r);t=(t<<5)-t+n,t=t&t}return Math.abs(t).toString(36)}initializeService(){Rr.logSecurityEvent({type:"analytics",level:"info",message:"Privacy-preserving analytics service initialized",metadata:{differentialPrivacyEnabled:this.config.differentialPrivacyEnabled,noiseLevel:this.config.noiseLevel,consentRequired:this.config.consentRequired},timestamp:new Date}),this.cleanOldEvents()}async requestConsent(){return this.config.consentRequired?(this.userConsent=!0,Rr.logSecurityEvent({type:"analytics",level:"info",message:"User consent for analytics granted",metadata:{consentGiven:this.userConsent},timestamp:new Date}),this.userConsent):(this.userConsent=!0,!0)}revokeConsent(){this.userConsent=!1,Rr.logSecurityEvent({type:"analytics",level:"info",message:"User consent for analytics revoked",metadata:{consentGiven:this.userConsent},timestamp:new Date})}hasConsent(){return this.userConsent||!this.config.consentRequired}async trackPainEntry(e){if(!this.shouldTrack())return;const t={painLevel:this.anonymizePainLevel(e.baselineData.pain),hasLocation:!!e.baselineData.locations&&e.baselineData.locations.length>0,hasDescription:!!e.notes&&e.notes.length>0,timeOfDay:new Date(e.timestamp).getHours(),dayOfWeek:new Date(e.timestamp).getDay()},r={eventType:"pain_logged",timestamp:new Date,metadata:t,sessionHash:this.sessionHash,isAnonymized:!0};this.addEvent(r),Rr.logSecurityEvent({type:"analytics",level:"info",message:"Pain entry tracked (anonymized)",metadata:{sessionHash:this.sessionHash},timestamp:new Date})}async trackValidationUsage(e){if(!this.shouldTrack())return;const t={eventType:"validation_used",timestamp:new Date,metadata:{validationType:this.anonymizeString(e),timeOfDay:new Date().getHours()},sessionHash:this.sessionHash,isAnonymized:!0};this.addEvent(t)}async trackProgressView(e){if(!this.shouldTrack())return;const t={eventType:"progress_viewed",timestamp:new Date,metadata:{viewType:this.anonymizeString(e),timeOfDay:new Date().getHours()},sessionHash:this.sessionHash,isAnonymized:!0};this.addEvent(t)}async trackDataExport(e){if(!this.shouldTrack())return;const t={eventType:"export_performed",timestamp:new Date,metadata:{exportType:e,timeOfDay:new Date().getHours()},sessionHash:this.sessionHash,isAnonymized:!0};this.addEvent(t)}async generateInsights(){if(!this.shouldTrack()||this.events.length<this.config.minimumAggregationSize)return null;try{const e=this.events.filter(c=>c.eventType==="pain_logged"),t=this.events.filter(c=>c.eventType==="validation_used"),r=this.config.differentialPrivacyEnabled?this.privacyEngine.addLaplaceNoise(this.getUniqueSessionCount()):this.getUniqueSessionCount(),n=this.config.differentialPrivacyEnabled?this.privacyEngine.addLaplaceNoise(this.calculateAveragePainLevel(e)):this.calculateAveragePainLevel(e),i=this.getCommonPainLocations(),a={averageEntriesPerWeek:this.config.differentialPrivacyEnabled?this.privacyEngine.addLaplaceNoise(this.calculateWeeklyAverage(e)):this.calculateWeeklyAverage(e),peakUsageHours:this.getPeakUsageHours(this.events),validationUsageRate:this.config.differentialPrivacyEnabled?this.privacyEngine.addLaplaceNoise(t.length/Math.max(1,e.length)):t.length/Math.max(1,e.length)},o={totalUsers:Math.round(r),averagePainLevel:Number(Qi(n,1)),commonPainLocations:i,usagePatterns:a,privacyMetrics:{noiseAdded:this.config.differentialPrivacyEnabled?this.config.noiseLevel:0,dataPointsAggregated:this.events.length,privacyBudgetUsed:this.config.differentialPrivacyEnabled?this.privacyEngine.getRemainingBudget():0},generatedAt:new Date};return Rr.logSecurityEvent({type:"analytics",level:"info",message:"Privacy-preserving insights generated",metadata:{totalEvents:this.events.length,uniqueSessions:this.getUniqueSessionCount(),privacyBudgetRemaining:this.privacyEngine.getRemainingBudget()},timestamp:new Date}),o}catch(e){return Rr.logSecurityEvent({type:"analytics",level:"error",message:"Failed to generate insights",metadata:{error:e instanceof Error?e.message:"Unknown error"},timestamp:new Date}),null}}getPrivacyStatus(){return{analyticsEnabled:this.config.enableAnalytics,consentGiven:this.userConsent,differentialPrivacyEnabled:this.config.differentialPrivacyEnabled,eventsCollected:this.events.length,privacyBudgetRemaining:this.privacyEngine.getRemainingBudget(),dataRetentionDays:this.config.dataRetentionDays}}async clearAnalyticsData(){this.events=[],this.privacyEngine.resetBudget(),Rr.logSecurityEvent({type:"analytics",level:"info",message:"Analytics data cleared",timestamp:new Date})}updatePrivacyConfig(e){this.config={...this.config,...e},e.noiseLevel&&(this.privacyEngine=new Mp(e.noiseLevel)),Rr.logSecurityEvent({type:"analytics",level:"info",message:"Privacy configuration updated",metadata:e,timestamp:new Date})}shouldTrack(){return this.config.enableAnalytics&&(!this.config.consentRequired||this.userConsent)}addEvent(e){this.events.push(e),this.cleanOldEvents()}cleanOldEvents(){const e=new Date;e.setDate(e.getDate()-this.config.dataRetentionDays);const t=this.events.length;this.events=this.events.filter(r=>r.timestamp>=e),this.events.length<t&&Rr.logSecurityEvent({type:"analytics",level:"info",message:"Old analytics events cleaned",metadata:{removed:t-this.events.length},timestamp:new Date})}anonymizePainLevel(e){return Math.round(e/2)*2}anonymizeString(e){return e.toLowerCase().includes("validation")?"validation":e.toLowerCase().includes("progress")?"progress":e.toLowerCase().includes("export")?"export":"other"}getUniqueSessionCount(){return new Set(this.events.map(t=>t.sessionHash)).size}calculateAveragePainLevel(e){return e.length===0?0:e.reduce((r,n)=>{const i=n.metadata.painLevel;return r+(i||0)},0)/e.length}calculateWeeklyAverage(e){if(e.length===0)return 0;const t=new Date,r=new Date(Rk(t).getTime());r.setDate(r.getDate()-6);const n=e.filter(o=>(o.timestamp instanceof Date?o.timestamp:new Date(String(o.timestamp)))>=r);if(n.length===0)return 0;const a=n.reduce((o,c)=>{const l=c.metadata&&c.metadata.painLevel||0;return o+l},0)/n.length;return Math.max(0,Math.min(10,a))}getCommonPainLocations(){return[{location:"upper_body",frequency:Math.random()*50},{location:"lower_body",frequency:Math.random()*50},{location:"extremities",frequency:Math.random()*30}]}getPeakUsageHours(e){const t=new Array(24).fill(0);return e.forEach(r=>{const n=r.metadata.timeOfDay;n>=0&&n<24&&t[n]++}),t.map((r,n)=>({hour:n,count:r})).sort((r,n)=>n.count-r.count).slice(0,3).map(r=>r.hour)}}const Bo=new Ok,Ko=Dk()(Sk(Uk(_k(Vk(s=>({entries:[],moodEntries:[],fibromyalgiaEntries:[],emergencyData:null,activityLogs:[],ui:{showWCBReport:!1,showOnboarding:!1,showWalkthrough:!1,showEmpathyDashboard:!1,currentFormSection:0,reportPeriod:{start:new Date(Date.now()-720*60*60*1e3).toISOString().split("T")[0],end:new Date().toISOString().split("T")[0]}},isLoading:!1,error:null,addEntry:e=>{s(t=>{const r={id:Date.now(),timestamp:new Date().toISOString(),baselineData:{pain:e.baselineData?.pain||0,locations:e.baselineData?.locations||[],symptoms:e.baselineData?.symptoms||[]},functionalImpact:{limitedActivities:e.functionalImpact?.limitedActivities||[],assistanceNeeded:e.functionalImpact?.assistanceNeeded||[],mobilityAids:e.functionalImpact?.mobilityAids||[]},medications:{current:e.medications?.current||[],changes:e.medications?.changes||"",effectiveness:e.medications?.effectiveness||""},treatments:{recent:e.treatments?.recent||[],effectiveness:e.treatments?.effectiveness||"",planned:e.treatments?.planned||[]},qualityOfLife:{sleepQuality:e.qualityOfLife?.sleepQuality||0,moodImpact:e.qualityOfLife?.moodImpact||0,socialImpact:e.qualityOfLife?.socialImpact||[]},workImpact:{missedWork:e.workImpact?.missedWork||0,modifiedDuties:e.workImpact?.modifiedDuties||[],workLimitations:e.workImpact?.workLimitations||[]},comparison:{worseningSince:e.comparison?.worseningSince||"",newLimitations:e.comparison?.newLimitations||[]},notes:e.notes||""};t.entries.push(r),t.error=null,Bo.trackPainEntry(r).catch(()=>{})})},updateEntry:(e,t)=>{s(r=>{const n=r.entries.findIndex(i=>i.id===e);n>=0&&(r.entries[n]={...r.entries[n],...t})})},deleteEntry:e=>{s(t=>{t.entries=t.entries.filter(r=>r.id!==e)})},addMoodEntry:e=>{s(t=>{const r={timestamp:new Date,mood:e.mood||5,energy:e.energy||5,anxiety:e.anxiety||5,stress:e.stress||5,hopefulness:e.hopefulness||5,selfEfficacy:e.selfEfficacy||5,emotionalClarity:e.emotionalClarity||5,emotionalRegulation:e.emotionalRegulation||5,context:e.context||"",triggers:e.triggers||[],copingStrategies:e.copingStrategies||[],socialSupport:e.socialSupport||"none",notes:e.notes||""};t.moodEntries.push(r),t.error=null})},updateMoodEntry:(e,t)=>{s(r=>{const n=r.moodEntries.findIndex(i=>i.timestamp.toISOString()===e);n>=0&&(r.moodEntries[n]={...r.moodEntries[n],...t})})},deleteMoodEntry:e=>{s(t=>{t.moodEntries=t.moodEntries.filter(r=>r.timestamp.toISOString()!==e)})},addFibromyalgiaEntry:e=>{s(t=>{t.fibromyalgiaEntries.push(e)})},updateFibromyalgiaEntry:(e,t)=>{s(r=>{const n=r.fibromyalgiaEntries.findIndex(i=>i.id===e);n!==-1&&(r.fibromyalgiaEntries[n]={...r.fibromyalgiaEntries[n],...t})})},deleteFibromyalgiaEntry:e=>{s(t=>{t.fibromyalgiaEntries=t.fibromyalgiaEntries.filter(r=>r.id!==e)})},setShowWCBReport:e=>{s(t=>{t.ui.showWCBReport=e})},setShowOnboarding:e=>{s(t=>{t.ui.showOnboarding=e})},setShowWalkthrough:e=>{s(t=>{t.ui.showWalkthrough=e})},setShowEmpathyDashboard:e=>{s(t=>{t.ui.showEmpathyDashboard=e})},setCurrentFormSection:e=>{s(t=>{t.ui.currentFormSection=e})},setReportPeriod:e=>{s(t=>{t.ui.reportPeriod={...t.ui.reportPeriod,...e}})},updateEmergencyData:e=>{s(t=>{t.emergencyData=e})},addActivityLog:e=>{s(t=>{const r={id:Date.now(),...e};t.activityLogs.push(r)})},updateActivityLog:(e,t)=>{s(r=>{const n=r.activityLogs.findIndex(i=>i.id===e);n>=0&&(r.activityLogs[n]={...r.activityLogs[n],...t})})},setError:e=>{s(t=>{t.error=e})},setLoading:e=>{s(t=>{t.isLoading=e})},clearAllData:()=>{s(e=>{e.entries=[],e.moodEntries=[],e.activityLogs=[],e.emergencyData=null,e.error=null})},loadSampleData:()=>{qs(async()=>{const{samplePainEntries:e}=await import("./sampleData-CQjumYEi.js");return{samplePainEntries:e}},[]).then(({samplePainEntries:e})=>{s(t=>{t.entries=e})})}}))),{name:"pain-tracker-storage",partialize:s=>({entries:s.entries,moodEntries:s.moodEntries,emergencyData:s.emergencyData,activityLogs:s.activityLogs})}),{name:"PainTracker Store"})),Fk=s=>s.entries;const Bk=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zk=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),Vp=s=>{const e=zk(s);return e.charAt(0).toUpperCase()+e.slice(1)},Qy=(...s)=>s.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),$k=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var Wk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const qk=$.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:n="",children:i,iconNode:a,...o},c)=>$.createElement("svg",{ref:c,...Wk,width:e,height:e,stroke:s,strokeWidth:r?Number(t)*24/Number(e):t,className:Qy("lucide",n),...!i&&!$k(o)&&{"aria-hidden":"true"},...o},[...a.map(([l,d])=>$.createElement(l,d)),...Array.isArray(i)?i:[i]]));const We=(s,e)=>{const t=$.forwardRef(({className:r,...n},i)=>$.createElement(qk,{ref:i,iconNode:e,className:Qy(`lucide-${Bk(Vp(s))}`,`lucide-${s}`,r),...n}));return t.displayName=Vp(s),t};const Hk=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Xn=We("activity",Hk);const Yk=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Gk=We("bell",Yk);const Kk=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],e1=We("book-open",Kk);const Xk=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],hd=We("brain",Xk);const Jk=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],wl=We("calendar",Jk);const Zk=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],rh=We("chart-column",Zk);const Qk=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ip=We("check",Qk);const e5=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],t1=We("chevron-left",e5);const t5=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],s5=We("chevron-right",t5);const r5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],nh=We("circle-alert",r5);const n5=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],il=We("circle-check-big",n5);const i5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],a5=We("circle-check",i5);const o5=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],c5=We("circle-play",o5);const l5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],u5=We("circle-question-mark",l5);const d5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],m5=We("circle-x",d5);const f5=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],h5=We("clipboard-check",f5);const p5=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],pd=We("clock",p5);const g5=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]],b5=We("cloud-off",g5);const y5=[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]],x5=We("cloud-rain",y5);const v5=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],N5=We("code",v5);const k5=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],w5=We("dollar-sign",k5);const D5=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Ja=We("download",D5);const P5=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],C5=We("eye-off",P5);const j5=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],s1=We("eye",j5);const E5=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M16 18v-6",key:"15y0np"}]],S5=We("file-chart-column-increasing",E5);const A5=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],_5=We("file-check",A5);const L5=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],r1=We("file-json",L5);const T5=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],n1=We("file-spreadsheet",T5);const U5=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],al=We("file-text",U5);const M5=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],i1=We("funnel",M5);const V5=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],I5=We("github",V5);const R5=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Gr=We("heart",R5);const O5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],vi=We("info",O5);const F5=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],B5=We("layout-dashboard",F5);const z5=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],$5=We("lightbulb",z5);const W5=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],a1=We("loader-circle",W5);const q5=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],$a=We("lock",q5);const H5=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Y5=We("mail",H5);const G5=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ih=We("map-pin",G5);const K5=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],X5=We("maximize-2",K5);const J5=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Z5=We("menu",J5);const Q5=[["path",{d:"M5 12h14",key:"1ays0h"}]],ew=We("minus",Q5);const tw=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],sa=We("moon",tw);const sw=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],rw=We("pause",sw);const nw=[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]],ah=We("pill",nw);const iw=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Rp=We("play",iw);const aw=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],am=We("plus",aw);const ow=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],cw=We("refresh-cw",ow);const lw=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],o1=We("rotate-ccw",lw);const uw=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],dw=We("settings",uw);const mw=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],c1=We("share-2",mw);const fw=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Za=We("shield",fw);const hw=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],pw=We("smartphone",hw);const gw=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Qa=We("sparkles",gw);const bw=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],eo=We("sun",bw);const yw=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],l1=We("trending-down",yw);const xw=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Xo=We("trending-up",xw);const vw=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],zo=We("triangle-alert",vw);const Nw=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],u1=We("user",Nw);const kw=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],oh=We("users",kw);const ww=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],ch=We("waves",ww);const Dw=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Pw=We("wifi-off",Dw);const Cw=[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]],jw=We("wind",Cw);const Ew=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Pi=We("x",Ew);const Sw=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Jo=We("zap",Sw);const Aw=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],_w=We("zoom-in",Aw);const Lw=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],Tw=We("zoom-out",Lw),lh="-",Uw=s=>{const e=Vw(s),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=s;return{getClassGroupId:a=>{const o=a.split(lh);return o[0]===""&&o.length!==1&&o.shift(),d1(o,e)||Mw(a)},getConflictingClassGroupIds:(a,o)=>{const c=t[a]||[];return o&&r[a]?[...c,...r[a]]:c}}},d1=(s,e)=>{if(s.length===0)return e.classGroupId;const t=s[0],r=e.nextPart.get(t),n=r?d1(s.slice(1),r):void 0;if(n)return n;if(e.validators.length===0)return;const i=s.join(lh);return e.validators.find(({validator:a})=>a(i))?.classGroupId},Op=/^\[(.+)\]$/,Mw=s=>{if(Op.test(s)){const e=Op.exec(s)[1],t=e?.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},Vw=s=>{const{theme:e,classGroups:t}=s,r={nextPart:new Map,validators:[]};for(const n in t)ff(t[n],r,n,e);return r},ff=(s,e,t,r)=>{s.forEach(n=>{if(typeof n=="string"){const i=n===""?e:Fp(e,n);i.classGroupId=t;return}if(typeof n=="function"){if(Iw(n)){ff(n(r),e,t,r);return}e.validators.push({validator:n,classGroupId:t});return}Object.entries(n).forEach(([i,a])=>{ff(a,Fp(e,i),t,r)})})},Fp=(s,e)=>{let t=s;return e.split(lh).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},Iw=s=>s.isThemeGetter,Rw=s=>{if(s<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const n=(i,a)=>{t.set(i,a),e++,e>s&&(e=0,r=t,t=new Map)};return{get(i){let a=t.get(i);if(a!==void 0)return a;if((a=r.get(i))!==void 0)return n(i,a),a},set(i,a){t.has(i)?t.set(i,a):n(i,a)}}},hf="!",pf=":",Ow=pf.length,Fw=s=>{const{prefix:e,experimentalParseClassName:t}=s;let r=n=>{const i=[];let a=0,o=0,c=0,l;for(let b=0;b<n.length;b++){let y=n[b];if(a===0&&o===0){if(y===pf){i.push(n.slice(c,b)),c=b+Ow;continue}if(y==="/"){l=b;continue}}y==="["?a++:y==="]"?a--:y==="("?o++:y===")"&&o--}const d=i.length===0?n:n.substring(c),f=Bw(d),p=f!==d,m=l&&l>c?l-c:void 0;return{modifiers:i,hasImportantModifier:p,baseClassName:f,maybePostfixModifierPosition:m}};if(e){const n=e+pf,i=r;r=a=>a.startsWith(n)?i(a.substring(n.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:a,maybePostfixModifierPosition:void 0}}if(t){const n=r;r=i=>t({className:i,parseClassName:n})}return r},Bw=s=>s.endsWith(hf)?s.substring(0,s.length-1):s.startsWith(hf)?s.substring(1):s,zw=s=>{const e=Object.fromEntries(s.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const n=[];let i=[];return r.forEach(a=>{a[0]==="["||e[a]?(n.push(...i.sort(),a),i=[]):i.push(a)}),n.push(...i.sort()),n}},$w=s=>({cache:Rw(s.cacheSize),parseClassName:Fw(s),sortModifiers:zw(s),...Uw(s)}),Ww=/\s+/,qw=(s,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:n,sortModifiers:i}=e,a=[],o=s.trim().split(Ww);let c="";for(let l=o.length-1;l>=0;l-=1){const d=o[l],{isExternal:f,modifiers:p,hasImportantModifier:m,baseClassName:b,maybePostfixModifierPosition:y}=t(d);if(f){c=d+(c.length>0?" "+c:c);continue}let v=!!y,N=r(v?b.substring(0,y):b);if(!N){if(!v){c=d+(c.length>0?" "+c:c);continue}if(N=r(b),!N){c=d+(c.length>0?" "+c:c);continue}v=!1}const w=i(p).join(":"),j=m?w+hf:w,C=j+N;if(a.includes(C))continue;a.push(C);const S=n(N,v);for(let A=0;A<S.length;++A){const U=S[A];a.push(j+U)}c=d+(c.length>0?" "+c:c)}return c};function Hw(){let s=0,e,t,r="";for(;s<arguments.length;)(e=arguments[s++])&&(t=m1(e))&&(r&&(r+=" "),r+=t);return r}const m1=s=>{if(typeof s=="string")return s;let e,t="";for(let r=0;r<s.length;r++)s[r]&&(e=m1(s[r]))&&(t&&(t+=" "),t+=e);return t};function Yw(s,...e){let t,r,n,i=a;function a(c){const l=e.reduce((d,f)=>f(d),s());return t=$w(l),r=t.cache.get,n=t.cache.set,i=o,o(c)}function o(c){const l=r(c);if(l)return l;const d=qw(c,t);return n(c,d),d}return function(){return i(Hw.apply(null,arguments))}}const nr=s=>{const e=t=>t[s]||[];return e.isThemeGetter=!0,e},f1=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,h1=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Gw=/^\d+\/\d+$/,Kw=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Xw=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Jw=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Zw=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Qw=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Do=s=>Gw.test(s),Vt=s=>!!s&&!Number.isNaN(Number(s)),qi=s=>!!s&&Number.isInteger(Number(s)),om=s=>s.endsWith("%")&&Vt(s.slice(0,-1)),ui=s=>Kw.test(s),eD=()=>!0,tD=s=>Xw.test(s)&&!Jw.test(s),p1=()=>!1,sD=s=>Zw.test(s),rD=s=>Qw.test(s),nD=s=>!Ke(s)&&!Xe(s),iD=s=>Zo(s,y1,p1),Ke=s=>f1.test(s),Aa=s=>Zo(s,x1,tD),cm=s=>Zo(s,uD,Vt),Bp=s=>Zo(s,g1,p1),aD=s=>Zo(s,b1,rD),su=s=>Zo(s,v1,sD),Xe=s=>h1.test(s),Cc=s=>Qo(s,x1),oD=s=>Qo(s,dD),zp=s=>Qo(s,g1),cD=s=>Qo(s,y1),lD=s=>Qo(s,b1),ru=s=>Qo(s,v1,!0),Zo=(s,e,t)=>{const r=f1.exec(s);return r?r[1]?e(r[1]):t(r[2]):!1},Qo=(s,e,t=!1)=>{const r=h1.exec(s);return r?r[1]?e(r[1]):t:!1},g1=s=>s==="position"||s==="percentage",b1=s=>s==="image"||s==="url",y1=s=>s==="length"||s==="size"||s==="bg-size",x1=s=>s==="length",uD=s=>s==="number",dD=s=>s==="family-name",v1=s=>s==="shadow",mD=()=>{const s=nr("color"),e=nr("font"),t=nr("text"),r=nr("font-weight"),n=nr("tracking"),i=nr("leading"),a=nr("breakpoint"),o=nr("container"),c=nr("spacing"),l=nr("radius"),d=nr("shadow"),f=nr("inset-shadow"),p=nr("text-shadow"),m=nr("drop-shadow"),b=nr("blur"),y=nr("perspective"),v=nr("aspect"),N=nr("ease"),w=nr("animate"),j=()=>["auto","avoid","all","avoid-page","page","left","right","column"],C=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],S=()=>[...C(),Xe,Ke],A=()=>["auto","hidden","clip","visible","scroll"],U=()=>["auto","contain","none"],P=()=>[Xe,Ke,c],T=()=>[Do,"full","auto",...P()],R=()=>[qi,"none","subgrid",Xe,Ke],E=()=>["auto",{span:["full",qi,Xe,Ke]},qi,Xe,Ke],L=()=>[qi,"auto",Xe,Ke],F=()=>["auto","min","max","fr",Xe,Ke],z=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Z=()=>["start","end","center","stretch","center-safe","end-safe"],re=()=>["auto",...P()],le=()=>[Do,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...P()],ee=()=>[s,Xe,Ke],pe=()=>[...C(),zp,Bp,{position:[Xe,Ke]}],ue=()=>["no-repeat",{repeat:["","x","y","space","round"]}],te=()=>["auto","cover","contain",cD,iD,{size:[Xe,Ke]}],_=()=>[om,Cc,Aa],q=()=>["","none","full",l,Xe,Ke],Y=()=>["",Vt,Cc,Aa],se=()=>["solid","dashed","dotted","double"],ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ae=()=>[Vt,om,zp,Bp],he=()=>["","none",b,Xe,Ke],me=()=>["none",Vt,Xe,Ke],ge=()=>["none",Vt,Xe,Ke],Pe=()=>[Vt,Xe,Ke],xe=()=>[Do,"full",...P()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ui],breakpoint:[ui],color:[eD],container:[ui],"drop-shadow":[ui],ease:["in","out","in-out"],font:[nD],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ui],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ui],shadow:[ui],spacing:["px",Vt],text:[ui],"text-shadow":[ui],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Do,Ke,Xe,v]}],container:["container"],columns:[{columns:[Vt,Ke,Xe,o]}],"break-after":[{"break-after":j()}],"break-before":[{"break-before":j()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:S()}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:U()}],"overscroll-x":[{"overscroll-x":U()}],"overscroll-y":[{"overscroll-y":U()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:T()}],"inset-x":[{"inset-x":T()}],"inset-y":[{"inset-y":T()}],start:[{start:T()}],end:[{end:T()}],top:[{top:T()}],right:[{right:T()}],bottom:[{bottom:T()}],left:[{left:T()}],visibility:["visible","invisible","collapse"],z:[{z:[qi,"auto",Xe,Ke]}],basis:[{basis:[Do,"full","auto",o,...P()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Vt,Do,"auto","initial","none",Ke]}],grow:[{grow:["",Vt,Xe,Ke]}],shrink:[{shrink:["",Vt,Xe,Ke]}],order:[{order:[qi,"first","last","none",Xe,Ke]}],"grid-cols":[{"grid-cols":R()}],"col-start-end":[{col:E()}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":R()}],"row-start-end":[{row:E()}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":F()}],"auto-rows":[{"auto-rows":F()}],gap:[{gap:P()}],"gap-x":[{"gap-x":P()}],"gap-y":[{"gap-y":P()}],"justify-content":[{justify:[...z(),"normal"]}],"justify-items":[{"justify-items":[...Z(),"normal"]}],"justify-self":[{"justify-self":["auto",...Z()]}],"align-content":[{content:["normal",...z()]}],"align-items":[{items:[...Z(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Z(),{baseline:["","last"]}]}],"place-content":[{"place-content":z()}],"place-items":[{"place-items":[...Z(),"baseline"]}],"place-self":[{"place-self":["auto",...Z()]}],p:[{p:P()}],px:[{px:P()}],py:[{py:P()}],ps:[{ps:P()}],pe:[{pe:P()}],pt:[{pt:P()}],pr:[{pr:P()}],pb:[{pb:P()}],pl:[{pl:P()}],m:[{m:re()}],mx:[{mx:re()}],my:[{my:re()}],ms:[{ms:re()}],me:[{me:re()}],mt:[{mt:re()}],mr:[{mr:re()}],mb:[{mb:re()}],ml:[{ml:re()}],"space-x":[{"space-x":P()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":P()}],"space-y-reverse":["space-y-reverse"],size:[{size:le()}],w:[{w:[o,"screen",...le()]}],"min-w":[{"min-w":[o,"screen","none",...le()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[a]},...le()]}],h:[{h:["screen","lh",...le()]}],"min-h":[{"min-h":["screen","lh","none",...le()]}],"max-h":[{"max-h":["screen","lh",...le()]}],"font-size":[{text:["base",t,Cc,Aa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Xe,cm]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",om,Ke]}],"font-family":[{font:[oD,Ke,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[n,Xe,Ke]}],"line-clamp":[{"line-clamp":[Vt,"none",Xe,cm]}],leading:[{leading:[i,...P()]}],"list-image":[{"list-image":["none",Xe,Ke]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Xe,Ke]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:ee()}],"text-color":[{text:ee()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...se(),"wavy"]}],"text-decoration-thickness":[{decoration:[Vt,"from-font","auto",Xe,Aa]}],"text-decoration-color":[{decoration:ee()}],"underline-offset":[{"underline-offset":[Vt,"auto",Xe,Ke]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Xe,Ke]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Xe,Ke]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:pe()}],"bg-repeat":[{bg:ue()}],"bg-size":[{bg:te()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},qi,Xe,Ke],radial:["",Xe,Ke],conic:[qi,Xe,Ke]},lD,aD]}],"bg-color":[{bg:ee()}],"gradient-from-pos":[{from:_()}],"gradient-via-pos":[{via:_()}],"gradient-to-pos":[{to:_()}],"gradient-from":[{from:ee()}],"gradient-via":[{via:ee()}],"gradient-to":[{to:ee()}],rounded:[{rounded:q()}],"rounded-s":[{"rounded-s":q()}],"rounded-e":[{"rounded-e":q()}],"rounded-t":[{"rounded-t":q()}],"rounded-r":[{"rounded-r":q()}],"rounded-b":[{"rounded-b":q()}],"rounded-l":[{"rounded-l":q()}],"rounded-ss":[{"rounded-ss":q()}],"rounded-se":[{"rounded-se":q()}],"rounded-ee":[{"rounded-ee":q()}],"rounded-es":[{"rounded-es":q()}],"rounded-tl":[{"rounded-tl":q()}],"rounded-tr":[{"rounded-tr":q()}],"rounded-br":[{"rounded-br":q()}],"rounded-bl":[{"rounded-bl":q()}],"border-w":[{border:Y()}],"border-w-x":[{"border-x":Y()}],"border-w-y":[{"border-y":Y()}],"border-w-s":[{"border-s":Y()}],"border-w-e":[{"border-e":Y()}],"border-w-t":[{"border-t":Y()}],"border-w-r":[{"border-r":Y()}],"border-w-b":[{"border-b":Y()}],"border-w-l":[{"border-l":Y()}],"divide-x":[{"divide-x":Y()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Y()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...se(),"hidden","none"]}],"divide-style":[{divide:[...se(),"hidden","none"]}],"border-color":[{border:ee()}],"border-color-x":[{"border-x":ee()}],"border-color-y":[{"border-y":ee()}],"border-color-s":[{"border-s":ee()}],"border-color-e":[{"border-e":ee()}],"border-color-t":[{"border-t":ee()}],"border-color-r":[{"border-r":ee()}],"border-color-b":[{"border-b":ee()}],"border-color-l":[{"border-l":ee()}],"divide-color":[{divide:ee()}],"outline-style":[{outline:[...se(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Vt,Xe,Ke]}],"outline-w":[{outline:["",Vt,Cc,Aa]}],"outline-color":[{outline:ee()}],shadow:[{shadow:["","none",d,ru,su]}],"shadow-color":[{shadow:ee()}],"inset-shadow":[{"inset-shadow":["none",f,ru,su]}],"inset-shadow-color":[{"inset-shadow":ee()}],"ring-w":[{ring:Y()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:ee()}],"ring-offset-w":[{"ring-offset":[Vt,Aa]}],"ring-offset-color":[{"ring-offset":ee()}],"inset-ring-w":[{"inset-ring":Y()}],"inset-ring-color":[{"inset-ring":ee()}],"text-shadow":[{"text-shadow":["none",p,ru,su]}],"text-shadow-color":[{"text-shadow":ee()}],opacity:[{opacity:[Vt,Xe,Ke]}],"mix-blend":[{"mix-blend":[...ne(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ne()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Vt]}],"mask-image-linear-from-pos":[{"mask-linear-from":ae()}],"mask-image-linear-to-pos":[{"mask-linear-to":ae()}],"mask-image-linear-from-color":[{"mask-linear-from":ee()}],"mask-image-linear-to-color":[{"mask-linear-to":ee()}],"mask-image-t-from-pos":[{"mask-t-from":ae()}],"mask-image-t-to-pos":[{"mask-t-to":ae()}],"mask-image-t-from-color":[{"mask-t-from":ee()}],"mask-image-t-to-color":[{"mask-t-to":ee()}],"mask-image-r-from-pos":[{"mask-r-from":ae()}],"mask-image-r-to-pos":[{"mask-r-to":ae()}],"mask-image-r-from-color":[{"mask-r-from":ee()}],"mask-image-r-to-color":[{"mask-r-to":ee()}],"mask-image-b-from-pos":[{"mask-b-from":ae()}],"mask-image-b-to-pos":[{"mask-b-to":ae()}],"mask-image-b-from-color":[{"mask-b-from":ee()}],"mask-image-b-to-color":[{"mask-b-to":ee()}],"mask-image-l-from-pos":[{"mask-l-from":ae()}],"mask-image-l-to-pos":[{"mask-l-to":ae()}],"mask-image-l-from-color":[{"mask-l-from":ee()}],"mask-image-l-to-color":[{"mask-l-to":ee()}],"mask-image-x-from-pos":[{"mask-x-from":ae()}],"mask-image-x-to-pos":[{"mask-x-to":ae()}],"mask-image-x-from-color":[{"mask-x-from":ee()}],"mask-image-x-to-color":[{"mask-x-to":ee()}],"mask-image-y-from-pos":[{"mask-y-from":ae()}],"mask-image-y-to-pos":[{"mask-y-to":ae()}],"mask-image-y-from-color":[{"mask-y-from":ee()}],"mask-image-y-to-color":[{"mask-y-to":ee()}],"mask-image-radial":[{"mask-radial":[Xe,Ke]}],"mask-image-radial-from-pos":[{"mask-radial-from":ae()}],"mask-image-radial-to-pos":[{"mask-radial-to":ae()}],"mask-image-radial-from-color":[{"mask-radial-from":ee()}],"mask-image-radial-to-color":[{"mask-radial-to":ee()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":C()}],"mask-image-conic-pos":[{"mask-conic":[Vt]}],"mask-image-conic-from-pos":[{"mask-conic-from":ae()}],"mask-image-conic-to-pos":[{"mask-conic-to":ae()}],"mask-image-conic-from-color":[{"mask-conic-from":ee()}],"mask-image-conic-to-color":[{"mask-conic-to":ee()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:pe()}],"mask-repeat":[{mask:ue()}],"mask-size":[{mask:te()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Xe,Ke]}],filter:[{filter:["","none",Xe,Ke]}],blur:[{blur:he()}],brightness:[{brightness:[Vt,Xe,Ke]}],contrast:[{contrast:[Vt,Xe,Ke]}],"drop-shadow":[{"drop-shadow":["","none",m,ru,su]}],"drop-shadow-color":[{"drop-shadow":ee()}],grayscale:[{grayscale:["",Vt,Xe,Ke]}],"hue-rotate":[{"hue-rotate":[Vt,Xe,Ke]}],invert:[{invert:["",Vt,Xe,Ke]}],saturate:[{saturate:[Vt,Xe,Ke]}],sepia:[{sepia:["",Vt,Xe,Ke]}],"backdrop-filter":[{"backdrop-filter":["","none",Xe,Ke]}],"backdrop-blur":[{"backdrop-blur":he()}],"backdrop-brightness":[{"backdrop-brightness":[Vt,Xe,Ke]}],"backdrop-contrast":[{"backdrop-contrast":[Vt,Xe,Ke]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Vt,Xe,Ke]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Vt,Xe,Ke]}],"backdrop-invert":[{"backdrop-invert":["",Vt,Xe,Ke]}],"backdrop-opacity":[{"backdrop-opacity":[Vt,Xe,Ke]}],"backdrop-saturate":[{"backdrop-saturate":[Vt,Xe,Ke]}],"backdrop-sepia":[{"backdrop-sepia":["",Vt,Xe,Ke]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":P()}],"border-spacing-x":[{"border-spacing-x":P()}],"border-spacing-y":[{"border-spacing-y":P()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Xe,Ke]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Vt,"initial",Xe,Ke]}],ease:[{ease:["linear","initial",N,Xe,Ke]}],delay:[{delay:[Vt,Xe,Ke]}],animate:[{animate:["none",w,Xe,Ke]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[y,Xe,Ke]}],"perspective-origin":[{"perspective-origin":S()}],rotate:[{rotate:me()}],"rotate-x":[{"rotate-x":me()}],"rotate-y":[{"rotate-y":me()}],"rotate-z":[{"rotate-z":me()}],scale:[{scale:ge()}],"scale-x":[{"scale-x":ge()}],"scale-y":[{"scale-y":ge()}],"scale-z":[{"scale-z":ge()}],"scale-3d":["scale-3d"],skew:[{skew:Pe()}],"skew-x":[{"skew-x":Pe()}],"skew-y":[{"skew-y":Pe()}],transform:[{transform:[Xe,Ke,"","none","gpu","cpu"]}],"transform-origin":[{origin:S()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:xe()}],"translate-x":[{"translate-x":xe()}],"translate-y":[{"translate-y":xe()}],"translate-z":[{"translate-z":xe()}],"translate-none":["translate-none"],accent:[{accent:ee()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:ee()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Xe,Ke]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Xe,Ke]}],fill:[{fill:["none",...ee()]}],"stroke-w":[{stroke:[Vt,Cc,Aa,cm]}],stroke:[{stroke:["none",...ee()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},fD=Yw(mD);function $e(...s){return fD(Vy(s))}const Fe={primary:{400:"#60a5fa",600:"#2563eb"},accent:{400:"#e879f9",600:"#c026d3"},neutral:{50:"#fafafa",100:"#f5f5f5",200:"#e5e5e5",300:"#d4d4d4",400:"#a3a3a3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717"},success:{50:"#f0fdf4",500:"#22c55e",700:"#15803d"},warning:{50:"#fffbeb",500:"#f59e0b",700:"#b45309"},error:{500:"#ef4444",700:"#b91c1c"},info:{50:"#ecfeff",500:"#06b6d4",700:"#0e7490"}},$p=s=>s==="high-contrast"?{background:"#000000",foreground:"#ffffff",card:"#000000",cardForeground:"#ffffff",popover:"#000000",popoverForeground:"#ffffff",primary:"#ffff00",primaryForeground:"#000000",secondary:"#ffffff",secondaryForeground:"#000000",muted:"#333333",mutedForeground:"#ffffff",accent:"#00ffff",accentForeground:"#000000",destructive:"#ff0000",destructiveForeground:"#ffffff",success:Fe.success[500],successForeground:Fe.success[50],warning:Fe.warning[500],warningForeground:Fe.warning[50],info:Fe.info[500],infoForeground:Fe.info[50],border:"#ffffff",input:"#ffffff",ring:"#ffff00"}:s==="colorblind"?{background:Fe.neutral[50],foreground:Fe.neutral[900],card:Fe.neutral[50],cardForeground:Fe.neutral[900],popover:Fe.neutral[50],popoverForeground:Fe.neutral[900],primary:Fe.neutral[800],primaryForeground:Fe.neutral[50],secondary:Fe.neutral[600],secondaryForeground:Fe.neutral[50],muted:Fe.neutral[100],mutedForeground:Fe.neutral[700],accent:Fe.neutral[500],accentForeground:Fe.neutral[50],destructive:Fe.neutral[900],destructiveForeground:Fe.neutral[50],success:Fe.success[500],successForeground:Fe.success[50],warning:Fe.warning[500],warningForeground:Fe.warning[50],info:Fe.info[500],infoForeground:Fe.info[50],border:Fe.neutral[300],input:Fe.neutral[200],ring:Fe.neutral[800]}:s==="dark"?{background:Fe.neutral[900],foreground:Fe.neutral[50],card:Fe.neutral[800],cardForeground:Fe.neutral[100],popover:Fe.neutral[800],popoverForeground:Fe.neutral[100],primary:Fe.primary[400],primaryForeground:Fe.neutral[900],secondary:Fe.neutral[700],secondaryForeground:Fe.neutral[100],muted:Fe.neutral[700],mutedForeground:Fe.neutral[400],accent:Fe.accent[400],accentForeground:Fe.neutral[900],destructive:Fe.error[500],destructiveForeground:"#ffffff",success:Fe.success[500],successForeground:Fe.success[50],warning:Fe.warning[500],warningForeground:Fe.warning[50],info:Fe.info[500],infoForeground:Fe.info[50],border:Fe.neutral[700],input:Fe.neutral[700],ring:Fe.primary[400]}:{background:Fe.neutral[50],foreground:Fe.neutral[900],card:Fe.neutral[50],cardForeground:Fe.neutral[900],popover:Fe.neutral[50],popoverForeground:Fe.neutral[900],primary:Fe.primary[600],primaryForeground:Fe.neutral[50],secondary:Fe.neutral[100],secondaryForeground:Fe.neutral[900],muted:Fe.neutral[100],mutedForeground:Fe.neutral[700],accent:Fe.accent[600],accentForeground:Fe.neutral[50],destructive:Fe.error[700],destructiveForeground:"#ffffff",success:Fe.success[700],successForeground:Fe.success[50],warning:Fe.warning[700],warningForeground:Fe.warning[50],info:Fe.info[700],infoForeground:Fe.info[50],border:Fe.neutral[200],input:Fe.neutral[200],ring:Fe.primary[600]},Po=s=>typeof window<"u"?`/pain-tracker/${s}`.replace(/\/+/g,"/"):s.startsWith("/")?s:`/${s}`,Mt={colors:{primary:{500:"#0ea5e9",600:"#0284c7",700:"#0369a1"},secondary:{500:"#22c55e",700:"#15803d"},accent:{400:"#c084fc",500:"#a855f7",700:"#7c3aed"},pain:{none:"#10b981",mild:"#84cc16",moderate:"#eab308",severe:"#f59e0b",extreme:"#ef4444"},status:{success:"#22c55e",warning:"#f59e0b",error:"#ef4444",info:"#3b82f6"},neutral:{500:"#64748b",600:"#475569"}},logos:{primary:Po("logos/pain-tracker-logo.svg"),wordmark:Po("logos/pain-tracker-wordmark.svg"),icon:Po("logos/pain-tracker-icon.svg"),iconWhite:Po("logos/pain-tracker-icon-white.svg"),appIcon:Po("icons/app-icon-512.png"),favicon:Po("icons/favicon.ico")}},N1=$.createContext(void 0),hD=()=>{const s=$.useContext(N1);if(s===void 0)throw new Error("useTheme must be used within a ThemeProvider");return s},pD=({children:s,defaultMode:e="light"})=>{const[t,r]=$.useState(()=>{if(typeof window<"u")try{const f=Ps.get("pain-tracker-theme");if(f==="light"||f==="dark"||f==="high-contrast")return f;if(window.matchMedia&&window.matchMedia("(prefers-contrast: high)").matches)return"high-contrast";if(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches)return"dark"}catch(f){console.warn("Failed to access localStorage for theme preference:",f)}return e}),[n,i]=$.useState(()=>typeof window<"u"?window.matchMedia("(prefers-reduced-motion: reduce)").matches:!1),a=$p(t),o=$.useCallback(f=>{const p=$p(f),m=document.documentElement;Object.entries(p).forEach(([y,v])=>{m.style.setProperty(`--color-${y}`,v)});const b=y=>{if(!y)return"0 0 0";const v=y.replace("#","").trim();if(v.length!==6)return"0 0 0";const N=parseInt(v.substring(0,2),16),w=parseInt(v.substring(2,4),16),j=parseInt(v.substring(4,6),16);return`${N} ${w} ${j}`};m.style.setProperty("--chart-series-1",b(p.primary??Mt.colors.primary[500])),m.style.setProperty("--chart-series-2",b(p.secondary??Mt.colors.secondary[500])),m.style.setProperty("--chart-series-3",b(p.accent??Mt.colors.accent[500])),m.style.setProperty("--chart-series-4",b(p.warning??Mt.colors.status.warning)),m.style.setProperty("--chart-series-5",b(p.info??Mt.colors.status.info)),m.style.setProperty("--chart-series-6",b(p.destructive??Mt.colors.status.error)),m.style.setProperty("--color-pain-none",b(p.success??Mt.colors.pain.none)),m.style.setProperty("--color-pain-mild",b(p.success??Mt.colors.pain.mild)),m.style.setProperty("--color-pain-moderate",b(p.warning??Mt.colors.pain.moderate)),m.style.setProperty("--color-pain-severe",b(p.warning??Mt.colors.pain.severe)),m.style.setProperty("--color-pain-extreme",b(p.destructive??Mt.colors.pain.extreme)),m.setAttribute("data-theme",f)},[]),c=$.useCallback(f=>{r(f);try{Ps.set("pain-tracker-theme",f)}catch(p){console.warn("Failed to save theme preference to localStorage:",p)}o(f)},[o]),l=$.useCallback(()=>{c(t==="light"?"dark":t==="dark"?"high-contrast":"light")},[t,c]);$.useEffect(()=>{const f=[{query:"(prefers-color-scheme: dark)",handler:m=>{try{!Ps.get("pain-tracker-theme")&&t!=="high-contrast"&&c(m.matches?"dark":"light")}catch(b){console.warn("Failed to access localStorage for system theme detection:",b)}}},{query:"(prefers-contrast: high)",handler:m=>{try{!Ps.get("pain-tracker-theme")&&m.matches&&c("high-contrast")}catch(b){console.warn("Failed to handle high contrast preference:",b)}}},{query:"(prefers-reduced-motion: reduce)",handler:m=>{i(m.matches)}}],p=[];return f.forEach(({query:m,handler:b})=>{const y=window.matchMedia(m);y.addEventListener?(y.addEventListener("change",b),p.push(()=>y.removeEventListener("change",b))):(y.addListener(b),p.push(()=>y.removeListener(b)))}),()=>{p.forEach(m=>m())}},[t,c]),$.useEffect(()=>{o(t)},[t,o]);const d={mode:t,toggleMode:l,colors:a,setMode:c,isHighContrast:t==="high-contrast",hasReducedMotion:n};return u.jsxDEV(N1.Provider,{value:d,children:s},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/ThemeProvider.tsx",lineNumber:197,columnNumber:5},void 0)},Wp=s=>typeof s=="boolean"?`${s}`:s===0?"0":s,qp=Vy,gd=(s,e)=>t=>{var r;if(e?.variants==null)return qp(s,t?.class,t?.className);const{variants:n,defaultVariants:i}=e,a=Object.keys(n).map(l=>{const d=t?.[l],f=i?.[l];if(d===null)return null;const p=Wp(d)||Wp(f);return n[l][p]}),o=t&&Object.entries(t).reduce((l,d)=>{let[f,p]=d;return p===void 0||(l[f]=p),l},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((l,d)=>{let{class:f,className:p,...m}=d;return Object.entries(m).every(b=>{let[y,v]=b;return Array.isArray(v)?v.includes({...i,...o}[y]):{...i,...o}[y]===v})?[...l,f,p]:l},[]);return qp(s,a,c,t?.class,t?.className)},gD=gd("inline-flex items-center justify-center rounded-lg text-sm font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background active:scale-[0.98] select-none touch-manipulation",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-sm hover:shadow-md active:bg-primary/80",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-sm hover:shadow-md active:bg-destructive/80",outline:"border border-input hover:bg-accent hover:text-accent-foreground shadow-sm hover:shadow-md active:bg-accent/80",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 shadow-sm hover:shadow-md active:bg-secondary/70",ghost:"hover:bg-accent hover:text-accent-foreground active:bg-accent/50",link:"underline-offset-4 hover:underline text-primary shadow-none hover:shadow-none active:text-primary/80",success:"bg-success text-success-foreground hover:bg-success/90 shadow-sm hover:shadow-md active:bg-success/80",warning:"bg-warning text-warning-foreground hover:bg-warning/90 shadow-sm hover:shadow-md active:bg-warning/80",gradient:"bg-gradient-to-r from-primary to-accent text-primary-foreground hover:from-primary/90 hover:to-accent/90 shadow-lg hover:shadow-xl active:from-primary/80 active:to-accent/80"},size:{xs:"h-8 px-2 text-xs rounded-md min-h-[32px] min-w-[32px]",sm:"h-9 px-3 text-xs rounded-md min-h-[36px] min-w-[36px]",default:"h-12 py-2 px-4 min-h-[44px] min-w-[44px]",lg:"h-12 px-6 text-base rounded-lg min-h-[48px] min-w-[48px]",xl:"h-16 px-8 text-lg rounded-xl min-h-[56px] min-w-[56px]",icon:"h-12 w-12 min-h-[44px] min-w-[44px]","icon-sm":"h-9 w-9 min-h-[36px] min-w-[36px]","icon-lg":"h-14 w-14 min-h-[48px] min-w-[48px]"},shape:{default:"",square:"rounded-none",pill:"rounded-full",circle:"rounded-full"}},defaultVariants:{variant:"default",size:"default",shape:"default"}}),pr=It.forwardRef(({className:s,variant:e,size:t,shape:r,type:n="button",loading:i=!1,leftIcon:a,rightIcon:o,fullWidth:c=!1,hapticFeedback:l=!0,longPress:d=!1,onLongPress:f,longPressDelay:p=500,ripple:m=!0,disabled:b,onClick:y,onTouchStart:v,onTouchEnd:N,onMouseDown:w,onMouseUp:j,children:C,...S},A)=>{const U=b||i,P=It.useRef(),[T,R]=It.useState(!1),[E,L]=It.useState(!1),[F,z]=It.useState([]),Z=It.useCallback(()=>{l&&"vibrate"in navigator&&navigator.vibrate(50)},[l]),re=It.useCallback(te=>{U||(R(!0),v?.(te),d&&f&&(P.current=setTimeout(()=>{L(!0),Z(),f()},p)))},[U,d,f,p,v,Z]),le=It.useCallback(te=>{R(!1),L(!1),N?.(te),P.current&&clearTimeout(P.current)},[N]),ee=It.useCallback(te=>{U||(R(!0),w?.(te),d&&f&&(P.current=setTimeout(()=>{L(!0),f()},p)))},[U,d,f,p,w]),pe=It.useCallback(te=>{R(!1),L(!1),j?.(te),P.current&&clearTimeout(P.current)},[j]),ue=It.useCallback(te=>{if(!(U||E)){if(m){const _=te.currentTarget.getBoundingClientRect(),q=te.clientX-_.left,Y=te.clientY-_.top,se=Date.now();z(ne=>[...ne,{x:q,y:Y,id:se}]),setTimeout(()=>{z(ne=>ne.filter(ae=>ae.id!==se))},600)}Z(),y?.(te)}},[U,E,m,Z,y]);return It.useEffect(()=>()=>{P.current&&clearTimeout(P.current)},[]),u.jsxDEV("button",{className:$e(gD({variant:e,size:t,shape:r,className:s}),c&&"w-full",i&&"cursor-wait",T&&"scale-95",E&&"ring-2 ring-primary ring-opacity-50",m&&"relative overflow-hidden","touch-manipulation select-none"),ref:A,type:n,disabled:U,"aria-disabled":U,"aria-pressed":T,onClick:ue,onTouchStart:re,onTouchEnd:le,onMouseDown:ee,onMouseUp:pe,...S,children:[m&&F.map(te=>u.jsxDEV("span",{className:"absolute bg-white/30 rounded-full pointer-events-none animate-ripple",style:{left:te.x,top:te.y,width:"20px",height:"20px",transform:"translate(-50%, -50%)"}},te.id,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Button.tsx",lineNumber:211,columnNumber:11},void 0)),i&&u.jsxDEV(a1,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":"true"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Button.tsx",lineNumber:225,columnNumber:11},void 0),!i&&a&&u.jsxDEV("span",{className:"mr-2 flex-shrink-0","aria-hidden":"true",children:a},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Button.tsx",lineNumber:228,columnNumber:11},void 0),u.jsxDEV("span",{className:$e("flex items-center justify-center",i&&"opacity-70"),children:C},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Button.tsx",lineNumber:232,columnNumber:9},void 0),!i&&o&&u.jsxDEV("span",{className:"ml-2 flex-shrink-0","aria-hidden":"true",children:o},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Button.tsx",lineNumber:239,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Button.tsx",lineNumber:187,columnNumber:7},void 0)});pr.displayName="Button";const bD=gd("rounded-lg border bg-card text-card-foreground shadow-md transition-all duration-200",{variants:{variant:{default:"border-border",elevated:"shadow-2xl hover:shadow-2xl/80",outlined:"border-2 shadow-none",filled:"bg-muted/50 border-muted",ghost:"border-transparent shadow-none bg-transparent",gradient:"bg-gradient-to-br from-card to-muted/50 border-muted/50",accented:"border-2 border-primary/40 shadow-2xl hover:shadow-2xl/80"},padding:{none:"p-0",sm:"p-3",default:"p-6",lg:"p-8",xl:"p-10"},hover:{none:"",lift:"hover:-translate-y-1.5 hover:shadow-2xl/70",glow:"hover:shadow-2xl hover:shadow-primary/15",scale:"hover:scale-[1.02] hover:shadow-lg"}},defaultVariants:{variant:"default",padding:"default",hover:"none"}}),un=It.forwardRef(({className:s,variant:e,padding:t,hover:r,...n},i)=>u.jsxDEV("div",{ref:i,className:$e(bD({variant:e,padding:t,hover:r,className:s})),...n,children:["severity"in n&&n.severity?u.jsxDEV("div",{"aria-hidden":!0,className:$e("absolute -top-2 -left-2 h-2 w-12 rounded-b-md"),style:{backgroundColor:n.severity==="low"?"rgb(var(--color-pain-none))":n.severity==="medium"?"rgb(var(--color-pain-mild))":n.severity==="high"?"rgb(var(--color-pain-severe))":"rgb(var(--color-pain-extreme))"}},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Card.tsx",lineNumber:59,columnNumber:9},void 0):null,n.children]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Card.tsx",lineNumber:56,columnNumber:5},void 0));un.displayName="Card";const to=It.forwardRef(({className:s,...e},t)=>u.jsxDEV("div",{ref:t,className:$e("flex items-center justify-between space-x-3 pb-4",s),...e},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Card.tsx",lineNumber:82,columnNumber:5},void 0));to.displayName="CardHeader";const so=It.forwardRef(({className:s,...e},t)=>u.jsxDEV("h2",{ref:t,className:$e("text-2xl font-semibold leading-none tracking-tight",s),...e},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Card.tsx",lineNumber:93,columnNumber:5},void 0));so.displayName="CardTitle";const k1=It.forwardRef(({className:s,...e},t)=>u.jsxDEV("p",{ref:t,className:$e("text-sm text-muted-foreground",s),...e},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Card.tsx",lineNumber:104,columnNumber:5},void 0));k1.displayName="CardDescription";const Kn=It.forwardRef(({className:s,...e},t)=>u.jsxDEV("div",{ref:t,className:$e("pt-0",s),...e},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Card.tsx",lineNumber:115,columnNumber:5},void 0));Kn.displayName="CardContent";const yD=It.forwardRef(({className:s,...e},t)=>u.jsxDEV("div",{ref:t,className:$e("flex items-center pt-4",s),...e},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Card.tsx",lineNumber:122,columnNumber:5},void 0));yD.displayName="CardFooter";const xD=It.forwardRef(({className:s,...e},t)=>u.jsxDEV(un,{ref:t,className:$e("cursor-pointer hover:shadow-md transition-shadow",s),...e},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Card.tsx",lineNumber:134,columnNumber:5},void 0));xD.displayName="CardAction";const vD=It.forwardRef(({className:s,children:e,...t},r)=>u.jsxDEV(un,{ref:r,variant:"elevated",className:$e("text-center",s),...t,children:e},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Card.tsx",lineNumber:145,columnNumber:5},void 0));vD.displayName="CardStats";const ND=It.forwardRef(({className:s,type:e,label:t,error:r,helperText:n,startIcon:i,endIcon:a,fullWidth:o=!1,variant:c="default",mobileOptimized:l=!0,inputMode:d,autoComplete:f,autoCapitalize:p,autoCorrect:m,spellCheck:b,id:y,required:v,disabled:N,...w},j)=>{const[C,S]=It.useState(!1),[A]=It.useState(y||`input-${Math.random().toString(36).substr(2,9)}`),[U,P]=It.useState(e);It.useEffect(()=>{P(e==="password"&&C?"text":e)},[e,C]);const T=()=>{S(!C)},E=(()=>{if(!l)return{};const F={style:{fontSize:"16px"},"data-mobile-optimized":"true"};return d?F.inputMode=d:e==="number"?F.inputMode="decimal":e==="email"?F.inputMode="email":e==="tel"?F.inputMode="tel":e==="url"&&(F.inputMode="url"),f&&(F.autoComplete=f),p&&(F.autoCapitalize=p),m!==void 0&&(F.autoCorrect=m),b!==void 0&&(F.spellCheck=b),F})(),L=$e("flex h-12 w-full rounded-md border border-gray-300 bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-offset-1 focus-visible:ring-blue-500 disabled:cursor-not-allowed disabled:opacity-50 transition-colors duration-200",c==="filled"&&"bg-muted/50 border-muted",c==="outlined"&&"border-2",r&&"border-red-500 focus:ring-red-500 focus-visible:ring-red-500",i&&"pl-12",(a||e==="password")&&"pr-12",o&&"w-full",l&&"mobile-keyboard-optimized touch-manipulation");return u.jsxDEV("div",{className:$e("space-y-2",o&&"w-full",l&&"mobile-form-spacing"),children:[t&&u.jsxDEV("label",{htmlFor:A,className:$e("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",r&&"text-destructive"),children:[t,v&&u.jsxDEV("span",{className:"text-destructive ml-1","aria-label":"required",children:"*"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Input.tsx",lineNumber:131,columnNumber:26},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Input.tsx",lineNumber:123,columnNumber:11},void 0),u.jsxDEV("div",{className:"relative",children:[i&&u.jsxDEV("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-muted-foreground z-10",children:i},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Input.tsx",lineNumber:137,columnNumber:13},void 0),u.jsxDEV("input",{id:A,type:U,className:$e(L,s),ref:j,disabled:N,"aria-invalid":r?"true":"false","aria-describedby":r?`${A}-error`:n?`${A}-helper`:void 0,...E,...w},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Input.tsx",lineNumber:142,columnNumber:11},void 0),e==="password"&&u.jsxDEV("button",{type:"button",onClick:T,className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors z-10 min-h-[44px] min-w-[44px] flex items-center justify-center","aria-label":C?"Hide password":"Show password",tabIndex:-1,children:C?u.jsxDEV(C5,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Input.tsx",lineNumber:167,columnNumber:17},void 0):u.jsxDEV(s1,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Input.tsx",lineNumber:169,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Input.tsx",lineNumber:159,columnNumber:13},void 0),a&&e!=="password"&&u.jsxDEV("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground z-10",children:a},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Input.tsx",lineNumber:175,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Input.tsx",lineNumber:135,columnNumber:9},void 0),r&&u.jsxDEV("p",{id:`${A}-error`,className:"text-sm text-destructive",role:"alert","aria-live":"polite",children:r},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Input.tsx",lineNumber:182,columnNumber:11},void 0),n&&!r&&u.jsxDEV("p",{id:`${A}-helper`,className:"text-sm text-muted-foreground",children:n},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Input.tsx",lineNumber:193,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Input.tsx",lineNumber:121,columnNumber:7},void 0)});ND.displayName="Input";function kD(s){const e=$.useRef(null),t=$.useRef(null);return $.useEffect(()=>{if(!s||!e.current)return;const r=e.current;t.current=document.activeElement;const n=()=>{const o=["a[href]","button:not([disabled])","textarea:not([disabled])","input:not([disabled])","select:not([disabled])",'[tabindex]:not([tabindex="-1"])'].join(", ");return Array.from(r.querySelectorAll(o)).filter(c=>c.offsetParent!==null&&c.tabIndex>=0)},i=n();i.length>0&&setTimeout(()=>{i[0]?.focus()},10);const a=o=>{if(o.key!=="Tab")return;const c=n();if(c.length===0)return;const l=c[0],d=c[c.length-1];o.shiftKey?document.activeElement===l&&(o.preventDefault(),d.focus()):document.activeElement===d&&(o.preventDefault(),l.focus())};return r.addEventListener("keydown",a),()=>{r.removeEventListener("keydown",a),t.current&&t.current.focus()}},[s]),e}const wD={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-full mx-4"};function DD({isOpen:s,onClose:e,title:t,children:r,size:n="md",className:i,showCloseButton:a=!0,closeOnBackdropClick:o=!0,closeOnEscape:c=!0,footer:l,headerClassName:d,contentClassName:f,footerClassName:p}){const m=$.useRef(null),b=kD(s);if($.useEffect(()=>{const v=N=>{N.key==="Escape"&&c&&e()};return s&&(document.addEventListener("keydown",v),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",v),document.body.style.overflow="unset"}},[s,e,c]),$.useEffect(()=>{s&&m.current&&m.current.focus()},[s]),!s)return null;const y=v=>{v.target===v.currentTarget&&o&&e()};return u.jsxDEV("div",{ref:b,className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",onClick:y,role:"dialog","aria-modal":"true","aria-labelledby":t?"modal-title":void 0,"aria-describedby":r?"modal-description":void 0,children:u.jsxDEV("div",{ref:m,className:$e("w-full bg-background rounded-lg shadow-xl animate-in zoom-in-95 duration-200",wD[n],i),tabIndex:-1,role:"document",children:u.jsxDEV(un,{className:"border-0 shadow-none",children:[(t||a)&&u.jsxDEV(to,{className:$e("flex flex-row items-center justify-between space-y-0 pb-4",d),children:[t&&u.jsxDEV(so,{id:"modal-title",className:"text-lg font-semibold",children:t},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Modal.tsx",lineNumber:108,columnNumber:17},this),a&&u.jsxDEV(pr,{variant:"ghost",size:"sm",onClick:e,className:"h-8 w-8 p-0 hover:bg-muted","aria-label":"Close modal",children:u.jsxDEV(Pi,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Modal.tsx",lineNumber:120,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Modal.tsx",lineNumber:113,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Modal.tsx",lineNumber:106,columnNumber:13},this),u.jsxDEV(Kn,{className:$e("pt-0",f),id:"modal-description",children:r},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Modal.tsx",lineNumber:126,columnNumber:11},this),l&&u.jsxDEV("div",{className:$e("flex justify-end space-x-2 pt-4 border-t px-6 pb-6",p),children:l},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Modal.tsx",lineNumber:131,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Modal.tsx",lineNumber:104,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Modal.tsx",lineNumber:94,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Modal.tsx",lineNumber:85,columnNumber:5},this)}const PD=gd("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-success text-success-foreground hover:bg-success/80",warning:"border-transparent bg-warning text-warning-foreground hover:bg-warning/80",info:"border-transparent bg-info text-info-foreground hover:bg-info/80"},size:{sm:"px-2 py-0.5 text-xs",default:"px-2.5 py-0.5 text-xs",lg:"px-3 py-1 text-sm"}},defaultVariants:{variant:"default",size:"default"}}),Oa=It.forwardRef(({className:s,variant:e,size:t,removable:r=!1,onRemove:n,children:i,...a},o)=>u.jsxDEV("div",{ref:o,className:$e(PD({variant:e,size:t}),s),...a,children:u.jsxDEV("span",{className:"flex items-center",children:[i,r&&n&&u.jsxDEV("button",{onClick:n,className:"ml-1 rounded-full hover:bg-black/10 p-0.5 -mr-1","aria-label":"Remove",children:u.jsxDEV(Pi,{className:"h-3 w-3"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Badge.tsx",lineNumber:60,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Badge.tsx",lineNumber:55,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Badge.tsx",lineNumber:52,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Badge.tsx",lineNumber:47,columnNumber:7},void 0));Oa.displayName="Badge";const CD=gd("animate-spin",{variants:{size:{xs:"h-3 w-3",sm:"h-4 w-4",default:"h-6 w-6",lg:"h-8 w-8",xl:"h-12 w-12"},variant:{default:"text-muted-foreground",primary:"text-primary",secondary:"text-secondary",destructive:"text-destructive",success:"text-success",warning:"text-warning"}},defaultVariants:{size:"default",variant:"default"}}),jD=It.forwardRef(({className:s,size:e,variant:t,text:r,fullScreen:n=!1,overlay:i=!1,...a},o)=>{const c=u.jsxDEV("div",{ref:o,className:$e("flex flex-col items-center justify-center gap-2",n&&"fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",i&&"absolute inset-0 z-10 bg-background/50 backdrop-blur-sm rounded-lg",s),...a,children:[u.jsxDEV(a1,{className:$e(CD({size:e,variant:t}))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Loading.tsx",lineNumber:67,columnNumber:9},void 0),r&&u.jsxDEV("p",{className:"text-sm text-muted-foreground animate-pulse",children:r},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Loading.tsx",lineNumber:69,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Loading.tsx",lineNumber:57,columnNumber:7},void 0);return n||i?c:u.jsxDEV("div",{className:"flex items-center justify-center p-4",children:c},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Loading.tsx",lineNumber:81,columnNumber:7},void 0)});jD.displayName="Loading";const ED=It.forwardRef(({className:s,...e},t)=>u.jsxDEV("div",{ref:t,className:$e("flex space-x-1",s),...e,children:[u.jsxDEV("div",{className:"w-2 h-2 bg-current rounded-full animate-bounce [animation-delay:-0.3s]"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Loading.tsx",lineNumber:96,columnNumber:7},void 0),u.jsxDEV("div",{className:"w-2 h-2 bg-current rounded-full animate-bounce [animation-delay:-0.15s]"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Loading.tsx",lineNumber:97,columnNumber:7},void 0),u.jsxDEV("div",{className:"w-2 h-2 bg-current rounded-full animate-bounce"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Loading.tsx",lineNumber:98,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Loading.tsx",lineNumber:91,columnNumber:5},void 0));ED.displayName="LoadingDots";const SD=It.forwardRef(({className:s,lines:e=1,height:t="h-4",...r},n)=>u.jsxDEV("div",{ref:n,className:$e("space-y-2",s),...r,children:Array.from({length:e}).map((i,a)=>u.jsxDEV("div",{className:$e("bg-muted animate-pulse rounded",t,a===e-1&&e>1?"w-3/4":"w-full")},a,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Loading.tsx",lineNumber:111,columnNumber:9},void 0))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Loading.tsx",lineNumber:109,columnNumber:5},void 0));SD.displayName="LoadingSkeleton";$.createContext(void 0);function Dl(s){return s+.5|0}const Ki=(s,e,t)=>Math.max(Math.min(s,t),e);function Rc(s){return Ki(Dl(s*2.55),0,255)}function ea(s){return Ki(Dl(s*255),0,255)}function yi(s){return Ki(Dl(s/2.55)/100,0,1)}function Hp(s){return Ki(Dl(s*100),0,100)}const yn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},gf=[..."0123456789ABCDEF"],AD=s=>gf[s&15],_D=s=>gf[(s&240)>>4]+gf[s&15],nu=s=>(s&240)>>4===(s&15),LD=s=>nu(s.r)&&nu(s.g)&&nu(s.b)&&nu(s.a);function TD(s){var e=s.length,t;return s[0]==="#"&&(e===4||e===5?t={r:255&yn[s[1]]*17,g:255&yn[s[2]]*17,b:255&yn[s[3]]*17,a:e===5?yn[s[4]]*17:255}:(e===7||e===9)&&(t={r:yn[s[1]]<<4|yn[s[2]],g:yn[s[3]]<<4|yn[s[4]],b:yn[s[5]]<<4|yn[s[6]],a:e===9?yn[s[7]]<<4|yn[s[8]]:255})),t}const UD=(s,e)=>s<255?e(s):"";function MD(s){var e=LD(s)?AD:_D;return s?"#"+e(s.r)+e(s.g)+e(s.b)+UD(s.a,e):void 0}const VD=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function w1(s,e,t){const r=e*Math.min(t,1-t),n=(i,a=(i+s/30)%12)=>t-r*Math.max(Math.min(a-3,9-a,1),-1);return[n(0),n(8),n(4)]}function ID(s,e,t){const r=(n,i=(n+s/60)%6)=>t-t*e*Math.max(Math.min(i,4-i,1),0);return[r(5),r(3),r(1)]}function RD(s,e,t){const r=w1(s,1,.5);let n;for(e+t>1&&(n=1/(e+t),e*=n,t*=n),n=0;n<3;n++)r[n]*=1-e-t,r[n]+=e;return r}function OD(s,e,t,r,n){return s===n?(e-t)/r+(e<t?6:0):e===n?(t-s)/r+2:(s-e)/r+4}function uh(s){const t=s.r/255,r=s.g/255,n=s.b/255,i=Math.max(t,r,n),a=Math.min(t,r,n),o=(i+a)/2;let c,l,d;return i!==a&&(d=i-a,l=o>.5?d/(2-i-a):d/(i+a),c=OD(t,r,n,d,i),c=c*60+.5),[c|0,l||0,o]}function dh(s,e,t,r){return(Array.isArray(e)?s(e[0],e[1],e[2]):s(e,t,r)).map(ea)}function mh(s,e,t){return dh(w1,s,e,t)}function FD(s,e,t){return dh(RD,s,e,t)}function BD(s,e,t){return dh(ID,s,e,t)}function D1(s){return(s%360+360)%360}function zD(s){const e=VD.exec(s);let t=255,r;if(!e)return;e[5]!==r&&(t=e[6]?Rc(+e[5]):ea(+e[5]));const n=D1(+e[2]),i=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?r=FD(n,i,a):e[1]==="hsv"?r=BD(n,i,a):r=mh(n,i,a),{r:r[0],g:r[1],b:r[2],a:t}}function $D(s,e){var t=uh(s);t[0]=D1(t[0]+e),t=mh(t),s.r=t[0],s.g=t[1],s.b=t[2]}function WD(s){if(!s)return;const e=uh(s),t=e[0],r=Hp(e[1]),n=Hp(e[2]);return s.a<255?`hsla(${t}, ${r}%, ${n}%, ${yi(s.a)})`:`hsl(${t}, ${r}%, ${n}%)`}const Yp={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Gp={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function qD(){const s={},e=Object.keys(Gp),t=Object.keys(Yp);let r,n,i,a,o;for(r=0;r<e.length;r++){for(a=o=e[r],n=0;n<t.length;n++)i=t[n],o=o.replace(i,Yp[i]);i=parseInt(Gp[a],16),s[o]=[i>>16&255,i>>8&255,i&255]}return s}let iu;function HD(s){iu||(iu=qD(),iu.transparent=[0,0,0,0]);const e=iu[s.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const YD=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function GD(s){const e=YD.exec(s);let t=255,r,n,i;if(e){if(e[7]!==r){const a=+e[7];t=e[8]?Rc(a):Ki(a*255,0,255)}return r=+e[1],n=+e[3],i=+e[5],r=255&(e[2]?Rc(r):Ki(r,0,255)),n=255&(e[4]?Rc(n):Ki(n,0,255)),i=255&(e[6]?Rc(i):Ki(i,0,255)),{r,g:n,b:i,a:t}}}function KD(s){return s&&(s.a<255?`rgba(${s.r}, ${s.g}, ${s.b}, ${yi(s.a)})`:`rgb(${s.r}, ${s.g}, ${s.b})`)}const lm=s=>s<=.0031308?s*12.92:Math.pow(s,1/2.4)*1.055-.055,Co=s=>s<=.04045?s/12.92:Math.pow((s+.055)/1.055,2.4);function XD(s,e,t){const r=Co(yi(s.r)),n=Co(yi(s.g)),i=Co(yi(s.b));return{r:ea(lm(r+t*(Co(yi(e.r))-r))),g:ea(lm(n+t*(Co(yi(e.g))-n))),b:ea(lm(i+t*(Co(yi(e.b))-i))),a:s.a+t*(e.a-s.a)}}function au(s,e,t){if(s){let r=uh(s);r[e]=Math.max(0,Math.min(r[e]+r[e]*t,e===0?360:1)),r=mh(r),s.r=r[0],s.g=r[1],s.b=r[2]}}function P1(s,e){return s&&Object.assign(e||{},s)}function Kp(s){var e={r:0,g:0,b:0,a:255};return Array.isArray(s)?s.length>=3&&(e={r:s[0],g:s[1],b:s[2],a:255},s.length>3&&(e.a=ea(s[3]))):(e=P1(s,{r:0,g:0,b:0,a:1}),e.a=ea(e.a)),e}function JD(s){return s.charAt(0)==="r"?GD(s):zD(s)}class ol{constructor(e){if(e instanceof ol)return e;const t=typeof e;let r;t==="object"?r=Kp(e):t==="string"&&(r=TD(e)||HD(e)||JD(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=P1(this._rgb);return e&&(e.a=yi(e.a)),e}set rgb(e){this._rgb=Kp(e)}rgbString(){return this._valid?KD(this._rgb):void 0}hexString(){return this._valid?MD(this._rgb):void 0}hslString(){return this._valid?WD(this._rgb):void 0}mix(e,t){if(e){const r=this.rgb,n=e.rgb;let i;const a=t===i?.5:t,o=2*a-1,c=r.a-n.a,l=((o*c===-1?o:(o+c)/(1+o*c))+1)/2;i=1-l,r.r=255&l*r.r+i*n.r+.5,r.g=255&l*r.g+i*n.g+.5,r.b=255&l*r.b+i*n.b+.5,r.a=a*r.a+(1-a)*n.a,this.rgb=r}return this}interpolate(e,t){return e&&(this._rgb=XD(this._rgb,e._rgb,t)),this}clone(){return new ol(this.rgb)}alpha(e){return this._rgb.a=ea(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=Dl(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return au(this._rgb,2,e),this}darken(e){return au(this._rgb,2,-e),this}saturate(e){return au(this._rgb,1,e),this}desaturate(e){return au(this._rgb,1,-e),this}rotate(e){return $D(this._rgb,e),this}}function di(){}const ZD=(()=>{let s=0;return()=>s++})();function zt(s){return s==null}function Cs(s){if(Array.isArray&&Array.isArray(s))return!0;const e=Object.prototype.toString.call(s);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function $t(s){return s!==null&&Object.prototype.toString.call(s)==="[object Object]"}function Rs(s){return(typeof s=="number"||s instanceof Number)&&isFinite(+s)}function cn(s,e){return Rs(s)?s:e}function xt(s,e){return typeof s>"u"?e:s}const QD=(s,e)=>typeof s=="string"&&s.endsWith("%")?parseFloat(s)/100:+s/e,C1=(s,e)=>typeof s=="string"&&s.endsWith("%")?parseFloat(s)/100*e:+s;function yt(s,e,t){if(s&&typeof s.call=="function")return s.apply(t,e)}function Bt(s,e,t,r){let n,i,a;if(Cs(s))for(i=s.length,n=0;n<i;n++)e.call(t,s[n],n);else if($t(s))for(a=Object.keys(s),i=a.length,n=0;n<i;n++)e.call(t,s[a[n]],a[n])}function Xu(s,e){let t,r,n,i;if(!s||!e||s.length!==e.length)return!1;for(t=0,r=s.length;t<r;++t)if(n=s[t],i=e[t],n.datasetIndex!==i.datasetIndex||n.index!==i.index)return!1;return!0}function Ju(s){if(Cs(s))return s.map(Ju);if($t(s)){const e=Object.create(null),t=Object.keys(s),r=t.length;let n=0;for(;n<r;++n)e[t[n]]=Ju(s[t[n]]);return e}return s}function j1(s){return["__proto__","prototype","constructor"].indexOf(s)===-1}function eP(s,e,t,r){if(!j1(s))return;const n=e[s],i=t[s];$t(n)&&$t(i)?cl(n,i,r):e[s]=Ju(i)}function cl(s,e,t){const r=Cs(e)?e:[e],n=r.length;if(!$t(s))return s;t=t||{};const i=t.merger||eP;let a;for(let o=0;o<n;++o){if(a=r[o],!$t(a))continue;const c=Object.keys(a);for(let l=0,d=c.length;l<d;++l)i(c[l],s,a,t)}return s}function qc(s,e){return cl(s,e,{merger:tP})}function tP(s,e,t){if(!j1(s))return;const r=e[s],n=t[s];$t(r)&&$t(n)?qc(r,n):Object.prototype.hasOwnProperty.call(e,s)||(e[s]=Ju(n))}const Xp={"":s=>s,x:s=>s.x,y:s=>s.y};function sP(s){const e=s.split("."),t=[];let r="";for(const n of e)r+=n,r.endsWith("\\")?r=r.slice(0,-1)+".":(t.push(r),r="");return t}function rP(s){const e=sP(s);return t=>{for(const r of e){if(r==="")break;t=t&&t[r]}return t}}function ra(s,e){return(Xp[e]||(Xp[e]=rP(e)))(s)}function fh(s){return s.charAt(0).toUpperCase()+s.slice(1)}const ll=s=>typeof s<"u",na=s=>typeof s=="function",Jp=(s,e)=>{if(s.size!==e.size)return!1;for(const t of s)if(!e.has(t))return!1;return!0};function nP(s){return s.type==="mouseup"||s.type==="click"||s.type==="contextmenu"}const Qt=Math.PI,Ns=2*Qt,iP=Ns+Qt,Zu=Number.POSITIVE_INFINITY,aP=Qt/180,Ks=Qt/2,_a=Qt/4,Zp=Qt*2/3,Xi=Math.log10,xn=Math.sign;function Wa(s,e,t){return Math.abs(s-e)<t}function Qp(s){const e=Math.round(s);s=Wa(s,e,s/1e3)?e:s;const t=Math.pow(10,Math.floor(Xi(s))),r=s/t;return(r<=1?1:r<=2?2:r<=5?5:10)*t}function oP(s){const e=[],t=Math.sqrt(s);let r;for(r=1;r<t;r++)s%r===0&&(e.push(r),e.push(s/r));return t===(t|0)&&e.push(t),e.sort((n,i)=>n-i).pop(),e}function cP(s){return typeof s=="symbol"||typeof s=="object"&&s!==null&&!(Symbol.toPrimitive in s||"toString"in s||"valueOf"in s)}function $o(s){return!cP(s)&&!isNaN(parseFloat(s))&&isFinite(s)}function lP(s,e){const t=Math.round(s);return t-e<=s&&t+e>=s}function E1(s,e,t){let r,n,i;for(r=0,n=s.length;r<n;r++)i=s[r][t],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function An(s){return s*(Qt/180)}function hh(s){return s*(180/Qt)}function e0(s){if(!Rs(s))return;let e=1,t=0;for(;Math.round(s*e)/e!==s;)e*=10,t++;return t}function S1(s,e){const t=e.x-s.x,r=e.y-s.y,n=Math.sqrt(t*t+r*r);let i=Math.atan2(r,t);return i<-.5*Qt&&(i+=Ns),{angle:i,distance:n}}function bf(s,e){return Math.sqrt(Math.pow(e.x-s.x,2)+Math.pow(e.y-s.y,2))}function uP(s,e){return(s-e+iP)%Ns-Qt}function Er(s){return(s%Ns+Ns)%Ns}function ul(s,e,t,r){const n=Er(s),i=Er(e),a=Er(t),o=Er(i-n),c=Er(a-n),l=Er(n-i),d=Er(n-a);return n===i||n===a||r&&i===a||o>c&&l<d}function lr(s,e,t){return Math.max(e,Math.min(t,s))}function dP(s){return lr(s,-32768,32767)}function Ni(s,e,t,r=1e-6){return s>=Math.min(e,t)-r&&s<=Math.max(e,t)+r}function ph(s,e,t){t=t||(a=>s[a]<e);let r=s.length-1,n=0,i;for(;r-n>1;)i=n+r>>1,t(i)?n=i:r=i;return{lo:n,hi:r}}const ki=(s,e,t,r)=>ph(s,t,r?n=>{const i=s[n][e];return i<t||i===t&&s[n+1][e]===t}:n=>s[n][e]<t),mP=(s,e,t)=>ph(s,t,r=>s[r][e]>=t);function fP(s,e,t){let r=0,n=s.length;for(;r<n&&s[r]<e;)r++;for(;n>r&&s[n-1]>t;)n--;return r>0||n<s.length?s.slice(r,n):s}const A1=["push","pop","shift","splice","unshift"];function hP(s,e){if(s._chartjs){s._chartjs.listeners.push(e);return}Object.defineProperty(s,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),A1.forEach(t=>{const r="_onData"+fh(t),n=s[t];Object.defineProperty(s,t,{configurable:!0,enumerable:!1,value(...i){const a=n.apply(this,i);return s._chartjs.listeners.forEach(o=>{typeof o[r]=="function"&&o[r](...i)}),a}})})}function t0(s,e){const t=s._chartjs;if(!t)return;const r=t.listeners,n=r.indexOf(e);n!==-1&&r.splice(n,1),!(r.length>0)&&(A1.forEach(i=>{delete s[i]}),delete s._chartjs)}function _1(s){const e=new Set(s);return e.size===s.length?s:Array.from(e)}const L1=(function(){return typeof window>"u"?function(s){return s()}:window.requestAnimationFrame})();function T1(s,e){let t=[],r=!1;return function(...n){t=n,r||(r=!0,L1.call(window,()=>{r=!1,s.apply(e,t)}))}}function pP(s,e){let t;return function(...r){return e?(clearTimeout(t),t=setTimeout(s,e,r)):s.apply(this,r),e}}const gh=s=>s==="start"?"left":s==="end"?"right":"center",jr=(s,e,t)=>s==="start"?e:s==="end"?t:(e+t)/2,gP=(s,e,t,r)=>s===(r?"left":"right")?t:s==="center"?(e+t)/2:e;function U1(s,e,t){const r=e.length;let n=0,i=r;if(s._sorted){const{iScale:a,vScale:o,_parsed:c}=s,l=s.dataset&&s.dataset.options?s.dataset.options.spanGaps:null,d=a.axis,{min:f,max:p,minDefined:m,maxDefined:b}=a.getUserBounds();if(m){if(n=Math.min(ki(c,d,f).lo,t?r:ki(e,d,a.getPixelForValue(f)).lo),l){const y=c.slice(0,n+1).reverse().findIndex(v=>!zt(v[o.axis]));n-=Math.max(0,y)}n=lr(n,0,r-1)}if(b){let y=Math.max(ki(c,a.axis,p,!0).hi+1,t?0:ki(e,d,a.getPixelForValue(p),!0).hi+1);if(l){const v=c.slice(y-1).findIndex(N=>!zt(N[o.axis]));y+=Math.max(0,v)}i=lr(y,n,r)-n}else i=r-n}return{start:n,count:i}}function M1(s){const{xScale:e,yScale:t,_scaleRanges:r}=s,n={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!r)return s._scaleRanges=n,!0;const i=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==t.min||r.ymax!==t.max;return Object.assign(r,n),i}const ou=s=>s===0||s===1,s0=(s,e,t)=>-(Math.pow(2,10*(s-=1))*Math.sin((s-e)*Ns/t)),r0=(s,e,t)=>Math.pow(2,-10*s)*Math.sin((s-e)*Ns/t)+1,Hc={linear:s=>s,easeInQuad:s=>s*s,easeOutQuad:s=>-s*(s-2),easeInOutQuad:s=>(s/=.5)<1?.5*s*s:-.5*(--s*(s-2)-1),easeInCubic:s=>s*s*s,easeOutCubic:s=>(s-=1)*s*s+1,easeInOutCubic:s=>(s/=.5)<1?.5*s*s*s:.5*((s-=2)*s*s+2),easeInQuart:s=>s*s*s*s,easeOutQuart:s=>-((s-=1)*s*s*s-1),easeInOutQuart:s=>(s/=.5)<1?.5*s*s*s*s:-.5*((s-=2)*s*s*s-2),easeInQuint:s=>s*s*s*s*s,easeOutQuint:s=>(s-=1)*s*s*s*s+1,easeInOutQuint:s=>(s/=.5)<1?.5*s*s*s*s*s:.5*((s-=2)*s*s*s*s+2),easeInSine:s=>-Math.cos(s*Ks)+1,easeOutSine:s=>Math.sin(s*Ks),easeInOutSine:s=>-.5*(Math.cos(Qt*s)-1),easeInExpo:s=>s===0?0:Math.pow(2,10*(s-1)),easeOutExpo:s=>s===1?1:-Math.pow(2,-10*s)+1,easeInOutExpo:s=>ou(s)?s:s<.5?.5*Math.pow(2,10*(s*2-1)):.5*(-Math.pow(2,-10*(s*2-1))+2),easeInCirc:s=>s>=1?s:-(Math.sqrt(1-s*s)-1),easeOutCirc:s=>Math.sqrt(1-(s-=1)*s),easeInOutCirc:s=>(s/=.5)<1?-.5*(Math.sqrt(1-s*s)-1):.5*(Math.sqrt(1-(s-=2)*s)+1),easeInElastic:s=>ou(s)?s:s0(s,.075,.3),easeOutElastic:s=>ou(s)?s:r0(s,.075,.3),easeInOutElastic(s){return ou(s)?s:s<.5?.5*s0(s*2,.1125,.45):.5+.5*r0(s*2-1,.1125,.45)},easeInBack(s){return s*s*((1.70158+1)*s-1.70158)},easeOutBack(s){return(s-=1)*s*((1.70158+1)*s+1.70158)+1},easeInOutBack(s){let e=1.70158;return(s/=.5)<1?.5*(s*s*(((e*=1.525)+1)*s-e)):.5*((s-=2)*s*(((e*=1.525)+1)*s+e)+2)},easeInBounce:s=>1-Hc.easeOutBounce(1-s),easeOutBounce(s){return s<1/2.75?7.5625*s*s:s<2/2.75?7.5625*(s-=1.5/2.75)*s+.75:s<2.5/2.75?7.5625*(s-=2.25/2.75)*s+.9375:7.5625*(s-=2.625/2.75)*s+.984375},easeInOutBounce:s=>s<.5?Hc.easeInBounce(s*2)*.5:Hc.easeOutBounce(s*2-1)*.5+.5};function bh(s){if(s&&typeof s=="object"){const e=s.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function n0(s){return bh(s)?s:new ol(s)}function um(s){return bh(s)?s:new ol(s).saturate(.5).darken(.1).hexString()}const bP=["x","y","borderWidth","radius","tension"],yP=["color","borderColor","backgroundColor"];function xP(s){s.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),s.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),s.set("animations",{colors:{type:"color",properties:yP},numbers:{type:"number",properties:bP}}),s.describe("animations",{_fallback:"animation"}),s.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function vP(s){s.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const i0=new Map;function NP(s,e){e=e||{};const t=s+JSON.stringify(e);let r=i0.get(t);return r||(r=new Intl.NumberFormat(s,e),i0.set(t,r)),r}function Pl(s,e,t){return NP(e,t).format(s)}const V1={values(s){return Cs(s)?s:""+s},numeric(s,e,t){if(s===0)return"0";const r=this.chart.options.locale;let n,i=s;if(t.length>1){const l=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(l<1e-4||l>1e15)&&(n="scientific"),i=kP(s,t)}const a=Xi(Math.abs(i)),o=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),c={notation:n,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(c,this.options.ticks.format),Pl(s,r,c)},logarithmic(s,e,t){if(s===0)return"0";const r=t[e].significand||s/Math.pow(10,Math.floor(Xi(s)));return[1,2,3,5,10,15].includes(r)||e>.8*t.length?V1.numeric.call(this,s,e,t):""}};function kP(s,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&s!==Math.floor(s)&&(t=s-Math.floor(s)),t}var bd={formatters:V1};function wP(s){s.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:bd.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),s.route("scale.ticks","color","","color"),s.route("scale.grid","color","","borderColor"),s.route("scale.border","color","","borderColor"),s.route("scale.title","color","","color"),s.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),s.describe("scales",{_fallback:"scale"}),s.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const ro=Object.create(null),yf=Object.create(null);function Yc(s,e){if(!e)return s;const t=e.split(".");for(let r=0,n=t.length;r<n;++r){const i=t[r];s=s[i]||(s[i]=Object.create(null))}return s}function dm(s,e,t){return typeof e=="string"?cl(Yc(s,e),t):cl(Yc(s,""),e)}class DP{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,n)=>um(n.backgroundColor),this.hoverBorderColor=(r,n)=>um(n.borderColor),this.hoverColor=(r,n)=>um(n.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return dm(this,e,t)}get(e){return Yc(this,e)}describe(e,t){return dm(yf,e,t)}override(e,t){return dm(ro,e,t)}route(e,t,r,n){const i=Yc(this,e),a=Yc(this,r),o="_"+t;Object.defineProperties(i,{[o]:{value:i[t],writable:!0},[t]:{enumerable:!0,get(){const c=this[o],l=a[n];return $t(c)?Object.assign({},l,c):xt(c,l)},set(c){this[o]=c}}})}apply(e){e.forEach(t=>t(this))}}var js=new DP({_scriptable:s=>!s.startsWith("on"),_indexable:s=>s!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[xP,vP,wP]);function PP(s){return!s||zt(s.size)||zt(s.family)?null:(s.style?s.style+" ":"")+(s.weight?s.weight+" ":"")+s.size+"px "+s.family}function Qu(s,e,t,r,n){let i=e[n];return i||(i=e[n]=s.measureText(n).width,t.push(n)),i>r&&(r=i),r}function CP(s,e,t,r){r=r||{};let n=r.data=r.data||{},i=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(n=r.data={},i=r.garbageCollect=[],r.font=e),s.save(),s.font=e;let a=0;const o=t.length;let c,l,d,f,p;for(c=0;c<o;c++)if(f=t[c],f!=null&&!Cs(f))a=Qu(s,n,i,a,f);else if(Cs(f))for(l=0,d=f.length;l<d;l++)p=f[l],p!=null&&!Cs(p)&&(a=Qu(s,n,i,a,p));s.restore();const m=i.length/2;if(m>t.length){for(c=0;c<m;c++)delete n[i[c]];i.splice(0,m)}return a}function La(s,e,t){const r=s.currentDevicePixelRatio,n=t!==0?Math.max(t/2,.5):0;return Math.round((e-n)*r)/r+n}function a0(s,e){!e&&!s||(e=e||s.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,s.width,s.height),e.restore())}function xf(s,e,t,r){I1(s,e,t,r,null)}function I1(s,e,t,r,n){let i,a,o,c,l,d,f,p;const m=e.pointStyle,b=e.rotation,y=e.radius;let v=(b||0)*aP;if(m&&typeof m=="object"&&(i=m.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){s.save(),s.translate(t,r),s.rotate(v),s.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),s.restore();return}if(!(isNaN(y)||y<=0)){switch(s.beginPath(),m){default:n?s.ellipse(t,r,n/2,y,0,0,Ns):s.arc(t,r,y,0,Ns),s.closePath();break;case"triangle":d=n?n/2:y,s.moveTo(t+Math.sin(v)*d,r-Math.cos(v)*y),v+=Zp,s.lineTo(t+Math.sin(v)*d,r-Math.cos(v)*y),v+=Zp,s.lineTo(t+Math.sin(v)*d,r-Math.cos(v)*y),s.closePath();break;case"rectRounded":l=y*.516,c=y-l,a=Math.cos(v+_a)*c,f=Math.cos(v+_a)*(n?n/2-l:c),o=Math.sin(v+_a)*c,p=Math.sin(v+_a)*(n?n/2-l:c),s.arc(t-f,r-o,l,v-Qt,v-Ks),s.arc(t+p,r-a,l,v-Ks,v),s.arc(t+f,r+o,l,v,v+Ks),s.arc(t-p,r+a,l,v+Ks,v+Qt),s.closePath();break;case"rect":if(!b){c=Math.SQRT1_2*y,d=n?n/2:c,s.rect(t-d,r-c,2*d,2*c);break}v+=_a;case"rectRot":f=Math.cos(v)*(n?n/2:y),a=Math.cos(v)*y,o=Math.sin(v)*y,p=Math.sin(v)*(n?n/2:y),s.moveTo(t-f,r-o),s.lineTo(t+p,r-a),s.lineTo(t+f,r+o),s.lineTo(t-p,r+a),s.closePath();break;case"crossRot":v+=_a;case"cross":f=Math.cos(v)*(n?n/2:y),a=Math.cos(v)*y,o=Math.sin(v)*y,p=Math.sin(v)*(n?n/2:y),s.moveTo(t-f,r-o),s.lineTo(t+f,r+o),s.moveTo(t+p,r-a),s.lineTo(t-p,r+a);break;case"star":f=Math.cos(v)*(n?n/2:y),a=Math.cos(v)*y,o=Math.sin(v)*y,p=Math.sin(v)*(n?n/2:y),s.moveTo(t-f,r-o),s.lineTo(t+f,r+o),s.moveTo(t+p,r-a),s.lineTo(t-p,r+a),v+=_a,f=Math.cos(v)*(n?n/2:y),a=Math.cos(v)*y,o=Math.sin(v)*y,p=Math.sin(v)*(n?n/2:y),s.moveTo(t-f,r-o),s.lineTo(t+f,r+o),s.moveTo(t+p,r-a),s.lineTo(t-p,r+a);break;case"line":a=n?n/2:Math.cos(v)*y,o=Math.sin(v)*y,s.moveTo(t-a,r-o),s.lineTo(t+a,r+o);break;case"dash":s.moveTo(t,r),s.lineTo(t+Math.cos(v)*(n?n/2:y),r+Math.sin(v)*y);break;case!1:s.closePath();break}s.fill(),e.borderWidth>0&&s.stroke()}}function Hn(s,e,t){return t=t||.5,!e||s&&s.x>e.left-t&&s.x<e.right+t&&s.y>e.top-t&&s.y<e.bottom+t}function yd(s,e){s.save(),s.beginPath(),s.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),s.clip()}function xd(s){s.restore()}function jP(s,e,t,r,n){if(!e)return s.lineTo(t.x,t.y);if(n==="middle"){const i=(e.x+t.x)/2;s.lineTo(i,e.y),s.lineTo(i,t.y)}else n==="after"!=!!r?s.lineTo(e.x,t.y):s.lineTo(t.x,e.y);s.lineTo(t.x,t.y)}function EP(s,e,t,r){if(!e)return s.lineTo(t.x,t.y);s.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?t.cp2x:t.cp1x,r?t.cp2y:t.cp1y,t.x,t.y)}function SP(s,e){e.translation&&s.translate(e.translation[0],e.translation[1]),zt(e.rotation)||s.rotate(e.rotation),e.color&&(s.fillStyle=e.color),e.textAlign&&(s.textAlign=e.textAlign),e.textBaseline&&(s.textBaseline=e.textBaseline)}function AP(s,e,t,r,n){if(n.strikethrough||n.underline){const i=s.measureText(r),a=e-i.actualBoundingBoxLeft,o=e+i.actualBoundingBoxRight,c=t-i.actualBoundingBoxAscent,l=t+i.actualBoundingBoxDescent,d=n.strikethrough?(c+l)/2:l;s.strokeStyle=s.fillStyle,s.beginPath(),s.lineWidth=n.decorationWidth||2,s.moveTo(a,d),s.lineTo(o,d),s.stroke()}}function _P(s,e){const t=s.fillStyle;s.fillStyle=e.color,s.fillRect(e.left,e.top,e.width,e.height),s.fillStyle=t}function no(s,e,t,r,n,i={}){const a=Cs(e)?e:[e],o=i.strokeWidth>0&&i.strokeColor!=="";let c,l;for(s.save(),s.font=n.string,SP(s,i),c=0;c<a.length;++c)l=a[c],i.backdrop&&_P(s,i.backdrop),o&&(i.strokeColor&&(s.strokeStyle=i.strokeColor),zt(i.strokeWidth)||(s.lineWidth=i.strokeWidth),s.strokeText(l,t,r,i.maxWidth)),s.fillText(l,t,r,i.maxWidth),AP(s,t,r,l,i),r+=Number(n.lineHeight);s.restore()}function dl(s,e){const{x:t,y:r,w:n,h:i,radius:a}=e;s.arc(t+a.topLeft,r+a.topLeft,a.topLeft,1.5*Qt,Qt,!0),s.lineTo(t,r+i-a.bottomLeft),s.arc(t+a.bottomLeft,r+i-a.bottomLeft,a.bottomLeft,Qt,Ks,!0),s.lineTo(t+n-a.bottomRight,r+i),s.arc(t+n-a.bottomRight,r+i-a.bottomRight,a.bottomRight,Ks,0,!0),s.lineTo(t+n,r+a.topRight),s.arc(t+n-a.topRight,r+a.topRight,a.topRight,0,-Ks,!0),s.lineTo(t+a.topLeft,r)}const LP=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,TP=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function UP(s,e){const t=(""+s).match(LP);if(!t||t[1]==="normal")return e*1.2;switch(s=+t[2],t[3]){case"px":return s;case"%":s/=100;break}return e*s}const MP=s=>+s||0;function yh(s,e){const t={},r=$t(e),n=r?Object.keys(e):e,i=$t(s)?r?a=>xt(s[a],s[e[a]]):a=>s[a]:()=>s;for(const a of n)t[a]=MP(i(a));return t}function R1(s){return yh(s,{top:"y",right:"x",bottom:"y",left:"x"})}function qa(s){return yh(s,["topLeft","topRight","bottomLeft","bottomRight"])}function Ar(s){const e=R1(s);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function ar(s,e){s=s||{},e=e||js.font;let t=xt(s.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let r=xt(s.style,e.style);r&&!(""+r).match(TP)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const n={family:xt(s.family,e.family),lineHeight:UP(xt(s.lineHeight,e.lineHeight),t),size:t,style:r,weight:xt(s.weight,e.weight),string:""};return n.string=PP(n),n}function Oc(s,e,t,r){let n,i,a;for(n=0,i=s.length;n<i;++n)if(a=s[n],a!==void 0&&a!==void 0)return a}function VP(s,e,t){const{min:r,max:n}=s,i=C1(e,(n-r)/2),a=(o,c)=>t&&o===0?0:o+c;return{min:a(r,-Math.abs(i)),max:a(n,i)}}function ca(s,e){return Object.assign(Object.create(s),e)}function xh(s,e=[""],t,r,n=()=>s[0]){const i=t||s;typeof r>"u"&&(r=z1("_fallback",s));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:s,_rootScopes:i,_fallback:r,_getTarget:n,override:o=>xh([o,...s],e,i,r)};return new Proxy(a,{deleteProperty(o,c){return delete o[c],delete o._keys,delete s[0][c],!0},get(o,c){return F1(o,c,()=>WP(c,e,s,o))},getOwnPropertyDescriptor(o,c){return Reflect.getOwnPropertyDescriptor(o._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(s[0])},has(o,c){return c0(o).includes(c)},ownKeys(o){return c0(o)},set(o,c,l){const d=o._storage||(o._storage=n());return o[c]=d[c]=l,delete o._keys,!0}})}function Wo(s,e,t,r){const n={_cacheable:!1,_proxy:s,_context:e,_subProxy:t,_stack:new Set,_descriptors:O1(s,r),setContext:i=>Wo(s,i,t,r),override:i=>Wo(s.override(i),e,t,r)};return new Proxy(n,{deleteProperty(i,a){return delete i[a],delete s[a],!0},get(i,a,o){return F1(i,a,()=>RP(i,a,o))},getOwnPropertyDescriptor(i,a){return i._descriptors.allKeys?Reflect.has(s,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(s,a)},getPrototypeOf(){return Reflect.getPrototypeOf(s)},has(i,a){return Reflect.has(s,a)},ownKeys(){return Reflect.ownKeys(s)},set(i,a,o){return s[a]=o,delete i[a],!0}})}function O1(s,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:r=e.indexable,_allKeys:n=e.allKeys}=s;return{allKeys:n,scriptable:t,indexable:r,isScriptable:na(t)?t:()=>t,isIndexable:na(r)?r:()=>r}}const IP=(s,e)=>s?s+fh(e):e,vh=(s,e)=>$t(e)&&s!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function F1(s,e,t){if(Object.prototype.hasOwnProperty.call(s,e)||e==="constructor")return s[e];const r=t();return s[e]=r,r}function RP(s,e,t){const{_proxy:r,_context:n,_subProxy:i,_descriptors:a}=s;let o=r[e];return na(o)&&a.isScriptable(e)&&(o=OP(e,o,s,t)),Cs(o)&&o.length&&(o=FP(e,o,s,a.isIndexable)),vh(e,o)&&(o=Wo(o,n,i&&i[e],a)),o}function OP(s,e,t,r){const{_proxy:n,_context:i,_subProxy:a,_stack:o}=t;if(o.has(s))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+s);o.add(s);let c=e(i,a||r);return o.delete(s),vh(s,c)&&(c=Nh(n._scopes,n,s,c)),c}function FP(s,e,t,r){const{_proxy:n,_context:i,_subProxy:a,_descriptors:o}=t;if(typeof i.index<"u"&&r(s))return e[i.index%e.length];if($t(e[0])){const c=e,l=n._scopes.filter(d=>d!==c);e=[];for(const d of c){const f=Nh(l,n,s,d);e.push(Wo(f,i,a&&a[s],o))}}return e}function B1(s,e,t){return na(s)?s(e,t):s}const BP=(s,e)=>s===!0?e:typeof s=="string"?ra(e,s):void 0;function zP(s,e,t,r,n){for(const i of e){const a=BP(t,i);if(a){s.add(a);const o=B1(a._fallback,t,n);if(typeof o<"u"&&o!==t&&o!==r)return o}else if(a===!1&&typeof r<"u"&&t!==r)return null}return!1}function Nh(s,e,t,r){const n=e._rootScopes,i=B1(e._fallback,t,r),a=[...s,...n],o=new Set;o.add(r);let c=o0(o,a,t,i||t,r);return c===null||typeof i<"u"&&i!==t&&(c=o0(o,a,i,c,r),c===null)?!1:xh(Array.from(o),[""],n,i,()=>$P(e,t,r))}function o0(s,e,t,r,n){for(;t;)t=zP(s,e,t,r,n);return t}function $P(s,e,t){const r=s._getTarget();e in r||(r[e]={});const n=r[e];return Cs(n)&&$t(t)?t:n||{}}function WP(s,e,t,r){let n;for(const i of e)if(n=z1(IP(i,s),t),typeof n<"u")return vh(s,n)?Nh(t,r,s,n):n}function z1(s,e){for(const t of e){if(!t)continue;const r=t[s];if(typeof r<"u")return r}}function c0(s){let e=s._keys;return e||(e=s._keys=qP(s._scopes)),e}function qP(s){const e=new Set;for(const t of s)for(const r of Object.keys(t).filter(n=>!n.startsWith("_")))e.add(r);return Array.from(e)}function $1(s,e,t,r){const{iScale:n}=s,{key:i="r"}=this._parsing,a=new Array(r);let o,c,l,d;for(o=0,c=r;o<c;++o)l=o+t,d=e[l],a[o]={r:n.parse(ra(d,i),l)};return a}const HP=Number.EPSILON||1e-14,qo=(s,e)=>e<s.length&&!s[e].skip&&s[e],W1=s=>s==="x"?"y":"x";function YP(s,e,t,r){const n=s.skip?e:s,i=e,a=t.skip?e:t,o=bf(i,n),c=bf(a,i);let l=o/(o+c),d=c/(o+c);l=isNaN(l)?0:l,d=isNaN(d)?0:d;const f=r*l,p=r*d;return{previous:{x:i.x-f*(a.x-n.x),y:i.y-f*(a.y-n.y)},next:{x:i.x+p*(a.x-n.x),y:i.y+p*(a.y-n.y)}}}function GP(s,e,t){const r=s.length;let n,i,a,o,c,l=qo(s,0);for(let d=0;d<r-1;++d)if(c=l,l=qo(s,d+1),!(!c||!l)){if(Wa(e[d],0,HP)){t[d]=t[d+1]=0;continue}n=t[d]/e[d],i=t[d+1]/e[d],o=Math.pow(n,2)+Math.pow(i,2),!(o<=9)&&(a=3/Math.sqrt(o),t[d]=n*a*e[d],t[d+1]=i*a*e[d])}}function KP(s,e,t="x"){const r=W1(t),n=s.length;let i,a,o,c=qo(s,0);for(let l=0;l<n;++l){if(a=o,o=c,c=qo(s,l+1),!o)continue;const d=o[t],f=o[r];a&&(i=(d-a[t])/3,o[`cp1${t}`]=d-i,o[`cp1${r}`]=f-i*e[l]),c&&(i=(c[t]-d)/3,o[`cp2${t}`]=d+i,o[`cp2${r}`]=f+i*e[l])}}function XP(s,e="x"){const t=W1(e),r=s.length,n=Array(r).fill(0),i=Array(r);let a,o,c,l=qo(s,0);for(a=0;a<r;++a)if(o=c,c=l,l=qo(s,a+1),!!c){if(l){const d=l[e]-c[e];n[a]=d!==0?(l[t]-c[t])/d:0}i[a]=o?l?xn(n[a-1])!==xn(n[a])?0:(n[a-1]+n[a])/2:n[a-1]:n[a]}GP(s,n,i),KP(s,i,e)}function cu(s,e,t){return Math.max(Math.min(s,t),e)}function JP(s,e){let t,r,n,i,a,o=Hn(s[0],e);for(t=0,r=s.length;t<r;++t)a=i,i=o,o=t<r-1&&Hn(s[t+1],e),i&&(n=s[t],a&&(n.cp1x=cu(n.cp1x,e.left,e.right),n.cp1y=cu(n.cp1y,e.top,e.bottom)),o&&(n.cp2x=cu(n.cp2x,e.left,e.right),n.cp2y=cu(n.cp2y,e.top,e.bottom)))}function ZP(s,e,t,r,n){let i,a,o,c;if(e.spanGaps&&(s=s.filter(l=>!l.skip)),e.cubicInterpolationMode==="monotone")XP(s,n);else{let l=r?s[s.length-1]:s[0];for(i=0,a=s.length;i<a;++i)o=s[i],c=YP(l,o,s[Math.min(i+1,a-(r?0:1))%a],e.tension),o.cp1x=c.previous.x,o.cp1y=c.previous.y,o.cp2x=c.next.x,o.cp2y=c.next.y,l=o}e.capBezierPoints&&JP(s,t)}function kh(){return typeof window<"u"&&typeof document<"u"}function wh(s){let e=s.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function ed(s,e,t){let r;return typeof s=="string"?(r=parseInt(s,10),s.indexOf("%")!==-1&&(r=r/100*e.parentNode[t])):r=s,r}const vd=s=>s.ownerDocument.defaultView.getComputedStyle(s,null);function QP(s,e){return vd(s).getPropertyValue(e)}const eC=["top","right","bottom","left"];function Ha(s,e,t){const r={};t=t?"-"+t:"";for(let n=0;n<4;n++){const i=eC[n];r[i]=parseFloat(s[e+"-"+i+t])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const tC=(s,e,t)=>(s>0||e>0)&&(!t||!t.shadowRoot);function sC(s,e){const t=s.touches,r=t&&t.length?t[0]:s,{offsetX:n,offsetY:i}=r;let a=!1,o,c;if(tC(n,i,s.target))o=n,c=i;else{const l=e.getBoundingClientRect();o=r.clientX-l.left,c=r.clientY-l.top,a=!0}return{x:o,y:c,box:a}}function qn(s,e){if("native"in s)return s;const{canvas:t,currentDevicePixelRatio:r}=e,n=vd(t),i=n.boxSizing==="border-box",a=Ha(n,"padding"),o=Ha(n,"border","width"),{x:c,y:l,box:d}=sC(s,t),f=a.left+(d&&o.left),p=a.top+(d&&o.top);let{width:m,height:b}=e;return i&&(m-=a.width+o.width,b-=a.height+o.height),{x:Math.round((c-f)/m*t.width/r),y:Math.round((l-p)/b*t.height/r)}}function rC(s,e,t){let r,n;if(e===void 0||t===void 0){const i=s&&wh(s);if(!i)e=s.clientWidth,t=s.clientHeight;else{const a=i.getBoundingClientRect(),o=vd(i),c=Ha(o,"border","width"),l=Ha(o,"padding");e=a.width-l.width-c.width,t=a.height-l.height-c.height,r=ed(o.maxWidth,i,"clientWidth"),n=ed(o.maxHeight,i,"clientHeight")}}return{width:e,height:t,maxWidth:r||Zu,maxHeight:n||Zu}}const lu=s=>Math.round(s*10)/10;function nC(s,e,t,r){const n=vd(s),i=Ha(n,"margin"),a=ed(n.maxWidth,s,"clientWidth")||Zu,o=ed(n.maxHeight,s,"clientHeight")||Zu,c=rC(s,e,t);let{width:l,height:d}=c;if(n.boxSizing==="content-box"){const p=Ha(n,"border","width"),m=Ha(n,"padding");l-=m.width+p.width,d-=m.height+p.height}return l=Math.max(0,l-i.width),d=Math.max(0,r?l/r:d-i.height),l=lu(Math.min(l,a,c.maxWidth)),d=lu(Math.min(d,o,c.maxHeight)),l&&!d&&(d=lu(l/2)),(e!==void 0||t!==void 0)&&r&&c.height&&d>c.height&&(d=c.height,l=lu(Math.floor(d*r))),{width:l,height:d}}function l0(s,e,t){const r=e||1,n=Math.floor(s.height*r),i=Math.floor(s.width*r);s.height=Math.floor(s.height),s.width=Math.floor(s.width);const a=s.canvas;return a.style&&(t||!a.style.height&&!a.style.width)&&(a.style.height=`${s.height}px`,a.style.width=`${s.width}px`),s.currentDevicePixelRatio!==r||a.height!==n||a.width!==i?(s.currentDevicePixelRatio=r,a.height=n,a.width=i,s.ctx.setTransform(r,0,0,r,0,0),!0):!1}const iC=(function(){let s=!1;try{const e={get passive(){return s=!0,!1}};kh()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return s})();function u0(s,e){const t=QP(s,e),r=t&&t.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Ma(s,e,t,r){return{x:s.x+t*(e.x-s.x),y:s.y+t*(e.y-s.y)}}function aC(s,e,t,r){return{x:s.x+t*(e.x-s.x),y:r==="middle"?t<.5?s.y:e.y:r==="after"?t<1?s.y:e.y:t>0?e.y:s.y}}function oC(s,e,t,r){const n={x:s.cp2x,y:s.cp2y},i={x:e.cp1x,y:e.cp1y},a=Ma(s,n,t),o=Ma(n,i,t),c=Ma(i,e,t),l=Ma(a,o,t),d=Ma(o,c,t);return Ma(l,d,t)}const cC=function(s,e){return{x(t){return s+s+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,r){return t-r},leftForLtr(t,r){return t-r}}},lC=function(){return{x(s){return s},setWidth(s){},textAlign(s){return s},xPlus(s,e){return s+e},leftForLtr(s,e){return s}}};function Fo(s,e,t){return s?cC(e,t):lC()}function q1(s,e){let t,r;(e==="ltr"||e==="rtl")&&(t=s.canvas.style,r=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),s.prevTextDirection=r)}function H1(s,e){e!==void 0&&(delete s.prevTextDirection,s.canvas.style.setProperty("direction",e[0],e[1]))}function Y1(s){return s==="angle"?{between:ul,compare:uP,normalize:Er}:{between:Ni,compare:(e,t)=>e-t,normalize:e=>e}}function d0({start:s,end:e,count:t,loop:r,style:n}){return{start:s%t,end:e%t,loop:r&&(e-s+1)%t===0,style:n}}function uC(s,e,t){const{property:r,start:n,end:i}=t,{between:a,normalize:o}=Y1(r),c=e.length;let{start:l,end:d,loop:f}=s,p,m;if(f){for(l+=c,d+=c,p=0,m=c;p<m&&a(o(e[l%c][r]),n,i);++p)l--,d--;l%=c,d%=c}return d<l&&(d+=c),{start:l,end:d,loop:f,style:s.style}}function G1(s,e,t){if(!t)return[s];const{property:r,start:n,end:i}=t,a=e.length,{compare:o,between:c,normalize:l}=Y1(r),{start:d,end:f,loop:p,style:m}=uC(s,e,t),b=[];let y=!1,v=null,N,w,j;const C=()=>c(n,j,N)&&o(n,j)!==0,S=()=>o(i,N)===0||c(i,j,N),A=()=>y||C(),U=()=>!y||S();for(let P=d,T=d;P<=f;++P)w=e[P%a],!w.skip&&(N=l(w[r]),N!==j&&(y=c(N,n,i),v===null&&A()&&(v=o(N,n)===0?P:T),v!==null&&U()&&(b.push(d0({start:v,end:P,loop:p,count:a,style:m})),v=null),T=P,j=N));return v!==null&&b.push(d0({start:v,end:f,loop:p,count:a,style:m})),b}function K1(s,e){const t=[],r=s.segments;for(let n=0;n<r.length;n++){const i=G1(r[n],s.points,e);i.length&&t.push(...i)}return t}function dC(s,e,t,r){let n=0,i=e-1;if(t&&!r)for(;n<e&&!s[n].skip;)n++;for(;n<e&&s[n].skip;)n++;for(n%=e,t&&(i+=n);i>n&&s[i%e].skip;)i--;return i%=e,{start:n,end:i}}function mC(s,e,t,r){const n=s.length,i=[];let a=e,o=s[e],c;for(c=e+1;c<=t;++c){const l=s[c%n];l.skip||l.stop?o.skip||(r=!1,i.push({start:e%n,end:(c-1)%n,loop:r}),e=a=l.stop?c:null):(a=c,o.skip&&(e=c)),o=l}return a!==null&&i.push({start:e%n,end:a%n,loop:r}),i}function fC(s,e){const t=s.points,r=s.options.spanGaps,n=t.length;if(!n)return[];const i=!!s._loop,{start:a,end:o}=dC(t,n,i,r);if(r===!0)return m0(s,[{start:a,end:o,loop:i}],t,e);const c=o<a?o+n:o,l=!!s._fullLoop&&a===0&&o===n-1;return m0(s,mC(t,a,c,l),t,e)}function m0(s,e,t,r){return!r||!r.setContext||!t?e:hC(s,e,t,r)}function hC(s,e,t,r){const n=s._chart.getContext(),i=f0(s.options),{_datasetIndex:a,options:{spanGaps:o}}=s,c=t.length,l=[];let d=i,f=e[0].start,p=f;function m(b,y,v,N){const w=o?-1:1;if(b!==y){for(b+=c;t[b%c].skip;)b-=w;for(;t[y%c].skip;)y+=w;b%c!==y%c&&(l.push({start:b%c,end:y%c,loop:v,style:N}),d=N,f=y%c)}}for(const b of e){f=o?f:b.start;let y=t[f%c],v;for(p=f+1;p<=b.end;p++){const N=t[p%c];v=f0(r.setContext(ca(n,{type:"segment",p0:y,p1:N,p0DataIndex:(p-1)%c,p1DataIndex:p%c,datasetIndex:a}))),pC(v,d)&&m(f,p-1,b.loop,d),y=N,d=v}f<p-1&&m(f,p-1,b.loop,d)}return l}function f0(s){return{backgroundColor:s.backgroundColor,borderCapStyle:s.borderCapStyle,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderJoinStyle:s.borderJoinStyle,borderWidth:s.borderWidth,borderColor:s.borderColor}}function pC(s,e){if(!e)return!1;const t=[],r=function(n,i){return bh(i)?(t.includes(i)||t.push(i),t.indexOf(i)):i};return JSON.stringify(s,r)!==JSON.stringify(e,r)}function uu(s,e,t){return s.options.clip?s[t]:e[t]}function gC(s,e){const{xScale:t,yScale:r}=s;return t&&r?{left:uu(t,e,"left"),right:uu(t,e,"right"),top:uu(r,e,"top"),bottom:uu(r,e,"bottom")}:e}function X1(s,e){const t=e._clip;if(t.disabled)return!1;const r=gC(e,s.chartArea);return{left:t.left===!1?0:r.left-(t.left===!0?0:t.left),right:t.right===!1?s.width:r.right+(t.right===!0?0:t.right),top:t.top===!1?0:r.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?s.height:r.bottom+(t.bottom===!0?0:t.bottom)}}class bC{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,r,n){const i=t.listeners[n],a=t.duration;i.forEach(o=>o({chart:e,initial:t.initial,numSteps:a,currentStep:Math.min(r-t.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=L1.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((r,n)=>{if(!r.running||!r.items.length)return;const i=r.items;let a=i.length-1,o=!1,c;for(;a>=0;--a)c=i[a],c._active?(c._total>r.duration&&(r.duration=c._total),c.tick(e),o=!0):(i[a]=i[i.length-1],i.pop());o&&(n.draw(),this._notify(n,r,e,"progress")),i.length||(r.running=!1,this._notify(n,r,e,"complete"),r.initial=!1),t+=i.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let r=t.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,r)),r}listen(e,t,r){this._getAnims(e).listeners[t].push(r)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((r,n)=>Math.max(r,n._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const r=t.items;let n=r.length-1;for(;n>=0;--n)r[n].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var pi=new bC;const h0="transparent",yC={boolean(s,e,t){return t>.5?e:s},color(s,e,t){const r=n0(s||h0),n=r.valid&&n0(e||h0);return n&&n.valid?n.mix(r,t).hexString():e},number(s,e,t){return s+(e-s)*t}};class xC{constructor(e,t,r,n){const i=t[r];n=Oc([e.to,n,i,e.from]);const a=Oc([e.from,i,n]);this._active=!0,this._fn=e.fn||yC[e.type||typeof a],this._easing=Hc[e.easing]||Hc.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=r,this._from=a,this._to=n,this._promises=void 0}active(){return this._active}update(e,t,r){if(this._active){this._notify(!1);const n=this._target[this._prop],i=r-this._start,a=this._duration-i;this._start=r,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=Oc([e.to,t,n,e.from]),this._from=Oc([e.from,n,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,r=this._duration,n=this._prop,i=this._from,a=this._loop,o=this._to;let c;if(this._active=i!==o&&(a||t<r),!this._active){this._target[n]=o,this._notify(!0);return}if(t<0){this._target[n]=i;return}c=t/r%2,c=a&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[n]=this._fn(i,o,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,r)=>{e.push({res:t,rej:r})})}_notify(e){const t=e?"res":"rej",r=this._promises||[];for(let n=0;n<r.length;n++)r[n][t]()}}class J1{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!$t(e))return;const t=Object.keys(js.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(n=>{const i=e[n];if(!$t(i))return;const a={};for(const o of t)a[o]=i[o];(Cs(i.properties)&&i.properties||[n]).forEach(o=>{(o===n||!r.has(o))&&r.set(o,a)})})}_animateOptions(e,t){const r=t.options,n=NC(e,r);if(!n)return[];const i=this._createAnimations(n,r);return r.$shared&&vC(e.options.$animations,r).then(()=>{e.options=r},()=>{}),i}_createAnimations(e,t){const r=this._properties,n=[],i=e.$animations||(e.$animations={}),a=Object.keys(t),o=Date.now();let c;for(c=a.length-1;c>=0;--c){const l=a[c];if(l.charAt(0)==="$")continue;if(l==="options"){n.push(...this._animateOptions(e,t));continue}const d=t[l];let f=i[l];const p=r.get(l);if(f)if(p&&f.active()){f.update(p,d,o);continue}else f.cancel();if(!p||!p.duration){e[l]=d;continue}i[l]=f=new xC(p,e,l,d),n.push(f)}return n}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const r=this._createAnimations(e,t);if(r.length)return pi.add(this._chart,r),!0}}function vC(s,e){const t=[],r=Object.keys(e);for(let n=0;n<r.length;n++){const i=s[r[n]];i&&i.active()&&t.push(i.wait())}return Promise.all(t)}function NC(s,e){if(!e)return;let t=s.options;if(!t){s.options=e;return}return t.$shared&&(s.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function p0(s,e){const t=s&&s.options||{},r=t.reverse,n=t.min===void 0?e:0,i=t.max===void 0?e:0;return{start:r?i:n,end:r?n:i}}function kC(s,e,t){if(t===!1)return!1;const r=p0(s,t),n=p0(e,t);return{top:n.end,right:r.end,bottom:n.start,left:r.start}}function wC(s){let e,t,r,n;return $t(s)?(e=s.top,t=s.right,r=s.bottom,n=s.left):e=t=r=n=s,{top:e,right:t,bottom:r,left:n,disabled:s===!1}}function Z1(s,e){const t=[],r=s._getSortedDatasetMetas(e);let n,i;for(n=0,i=r.length;n<i;++n)t.push(r[n].index);return t}function g0(s,e,t,r={}){const n=s.keys,i=r.mode==="single";let a,o,c,l;if(e===null)return;let d=!1;for(a=0,o=n.length;a<o;++a){if(c=+n[a],c===t){if(d=!0,r.all)continue;break}l=s.values[c],Rs(l)&&(i||e===0||xn(e)===xn(l))&&(e+=l)}return!d&&!r.all?0:e}function DC(s,e){const{iScale:t,vScale:r}=e,n=t.axis==="x"?"x":"y",i=r.axis==="x"?"x":"y",a=Object.keys(s),o=new Array(a.length);let c,l,d;for(c=0,l=a.length;c<l;++c)d=a[c],o[c]={[n]:d,[i]:s[d]};return o}function mm(s,e){const t=s&&s.options.stacked;return t||t===void 0&&e.stack!==void 0}function PC(s,e,t){return`${s.id}.${e.id}.${t.stack||t.type}`}function CC(s){const{min:e,max:t,minDefined:r,maxDefined:n}=s.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:n?t:Number.POSITIVE_INFINITY}}function jC(s,e,t){const r=s[e]||(s[e]={});return r[t]||(r[t]={})}function b0(s,e,t,r){for(const n of e.getMatchingVisibleMetas(r).reverse()){const i=s[n.index];if(t&&i>0||!t&&i<0)return n.index}return null}function y0(s,e){const{chart:t,_cachedMeta:r}=s,n=t._stacks||(t._stacks={}),{iScale:i,vScale:a,index:o}=r,c=i.axis,l=a.axis,d=PC(i,a,r),f=e.length;let p;for(let m=0;m<f;++m){const b=e[m],{[c]:y,[l]:v}=b,N=b._stacks||(b._stacks={});p=N[l]=jC(n,d,y),p[o]=v,p._top=b0(p,a,!0,r.type),p._bottom=b0(p,a,!1,r.type);const w=p._visualValues||(p._visualValues={});w[o]=v}}function fm(s,e){const t=s.scales;return Object.keys(t).filter(r=>t[r].axis===e).shift()}function EC(s,e){return ca(s,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function SC(s,e,t){return ca(s,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function jc(s,e){const t=s.controller.index,r=s.vScale&&s.vScale.axis;if(r){e=e||s._parsed;for(const n of e){const i=n._stacks;if(!i||i[r]===void 0||i[r][t]===void 0)return;delete i[r][t],i[r]._visualValues!==void 0&&i[r]._visualValues[t]!==void 0&&delete i[r]._visualValues[t]}}}const hm=s=>s==="reset"||s==="none",x0=(s,e)=>e?s:Object.assign({},s),AC=(s,e,t)=>s&&!e.hidden&&e._stacked&&{keys:Z1(t,!0),values:null};class la{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=mm(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&jc(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,r=this.getDataset(),n=(f,p,m,b)=>f==="x"?p:f==="r"?b:m,i=t.xAxisID=xt(r.xAxisID,fm(e,"x")),a=t.yAxisID=xt(r.yAxisID,fm(e,"y")),o=t.rAxisID=xt(r.rAxisID,fm(e,"r")),c=t.indexAxis,l=t.iAxisID=n(c,i,a,o),d=t.vAxisID=n(c,a,i,o);t.xScale=this.getScaleForId(i),t.yScale=this.getScaleForId(a),t.rScale=this.getScaleForId(o),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&t0(this._data,this),e._stacked&&jc(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),r=this._data;if($t(t)){const n=this._cachedMeta;this._data=DC(t,n)}else if(r!==t){if(r){t0(r,this);const n=this._cachedMeta;jc(n),n._parsed=[]}t&&Object.isExtensible(t)&&hP(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,r=this.getDataset();let n=!1;this._dataCheck();const i=t._stacked;t._stacked=mm(t.vScale,t),t.stack!==r.stack&&(n=!0,jc(t),t.stack=r.stack),this._resyncElements(e),(n||i!==t._stacked)&&(y0(this,t._parsed),t._stacked=mm(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:r,_data:n}=this,{iScale:i,_stacked:a}=r,o=i.axis;let c=e===0&&t===n.length?!0:r._sorted,l=e>0&&r._parsed[e-1],d,f,p;if(this._parsing===!1)r._parsed=n,r._sorted=!0,p=n;else{Cs(n[e])?p=this.parseArrayData(r,n,e,t):$t(n[e])?p=this.parseObjectData(r,n,e,t):p=this.parsePrimitiveData(r,n,e,t);const m=()=>f[o]===null||l&&f[o]<l[o];for(d=0;d<t;++d)r._parsed[d+e]=f=p[d],c&&(m()&&(c=!1),l=f);r._sorted=c}a&&y0(this,p)}parsePrimitiveData(e,t,r,n){const{iScale:i,vScale:a}=e,o=i.axis,c=a.axis,l=i.getLabels(),d=i===a,f=new Array(n);let p,m,b;for(p=0,m=n;p<m;++p)b=p+r,f[p]={[o]:d||i.parse(l[b],b),[c]:a.parse(t[b],b)};return f}parseArrayData(e,t,r,n){const{xScale:i,yScale:a}=e,o=new Array(n);let c,l,d,f;for(c=0,l=n;c<l;++c)d=c+r,f=t[d],o[c]={x:i.parse(f[0],d),y:a.parse(f[1],d)};return o}parseObjectData(e,t,r,n){const{xScale:i,yScale:a}=e,{xAxisKey:o="x",yAxisKey:c="y"}=this._parsing,l=new Array(n);let d,f,p,m;for(d=0,f=n;d<f;++d)p=d+r,m=t[p],l[d]={x:i.parse(ra(m,o),p),y:a.parse(ra(m,c),p)};return l}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,r){const n=this.chart,i=this._cachedMeta,a=t[e.axis],o={keys:Z1(n,!0),values:t._stacks[e.axis]._visualValues};return g0(o,a,i.index,{mode:r})}updateRangeFromParsed(e,t,r,n){const i=r[t.axis];let a=i===null?NaN:i;const o=n&&r._stacks[t.axis];n&&o&&(n.values=o,a=g0(n,i,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,t){const r=this._cachedMeta,n=r._parsed,i=r._sorted&&e===r.iScale,a=n.length,o=this._getOtherScale(e),c=AC(t,r,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:f}=CC(o);let p,m;function b(){m=n[p];const y=m[o.axis];return!Rs(m[e.axis])||d>y||f<y}for(p=0;p<a&&!(!b()&&(this.updateRangeFromParsed(l,e,m,c),i));++p);if(i){for(p=a-1;p>=0;--p)if(!b()){this.updateRangeFromParsed(l,e,m,c);break}}return l}getAllParsedValues(e){const t=this._cachedMeta._parsed,r=[];let n,i,a;for(n=0,i=t.length;n<i;++n)a=t[n][e.axis],Rs(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,r=t.iScale,n=t.vScale,i=this.getParsed(e);return{label:r?""+r.getLabelForValue(i[r.axis]):"",value:n?""+n.getLabelForValue(i[n.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=wC(xt(this.options.clip,kC(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,r=this._cachedMeta,n=r.data||[],i=t.chartArea,a=[],o=this._drawStart||0,c=this._drawCount||n.length-o,l=this.options.drawActiveElementsOnTop;let d;for(r.dataset&&r.dataset.draw(e,i,o,c),d=o;d<o+c;++d){const f=n[d];f.hidden||(f.active&&l?a.push(f):f.draw(e,i))}for(d=0;d<a.length;++d)a[d].draw(e,i)}getStyle(e,t){const r=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,t,r){const n=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];i=a.$context||(a.$context=SC(this.getContext(),e,a)),i.parsed=this.getParsed(e),i.raw=n.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=EC(this.chart.getContext(),this.index)),i.dataset=n,i.index=i.datasetIndex=this.index;return i.active=!!t,i.mode=r,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",r){const n=t==="active",i=this._cachedDataOpts,a=e+"-"+t,o=i[a],c=this.enableOptionSharing&&ll(r);if(o)return x0(o,c);const l=this.chart.config,d=l.datasetElementScopeKeys(this._type,e),f=n?[`${e}Hover`,"hover",e,""]:[e,""],p=l.getOptionScopes(this.getDataset(),d),m=Object.keys(js.elements[e]),b=()=>this.getContext(r,n,t),y=l.resolveNamedOptions(p,m,b,f);return y.$shared&&(y.$shared=c,i[a]=Object.freeze(x0(y,c))),y}_resolveAnimations(e,t,r){const n=this.chart,i=this._cachedDataOpts,a=`animation-${t}`,o=i[a];if(o)return o;let c;if(n.options.animation!==!1){const d=this.chart.config,f=d.datasetAnimationScopeKeys(this._type,t),p=d.getOptionScopes(this.getDataset(),f);c=d.createResolver(p,this.getContext(e,r,t))}const l=new J1(n,c&&c.animations);return c&&c._cacheable&&(i[a]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||hm(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const r=this.resolveDataElementOptions(e,t),n=this._sharedOptions,i=this.getSharedOptions(r),a=this.includeOptions(t,i)||i!==n;return this.updateSharedOptions(i,t,r),{sharedOptions:i,includeOptions:a}}updateElement(e,t,r,n){hm(n)?Object.assign(e,r):this._resolveAnimations(t,n).update(e,r)}updateSharedOptions(e,t,r){e&&!hm(t)&&this._resolveAnimations(void 0,t).update(e,r)}_setStyle(e,t,r,n){e.active=n;const i=this.getStyle(t,n);this._resolveAnimations(t,r,n).update(e,{options:!n&&this.getSharedOptions(i)||i})}removeHoverStyle(e,t,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,t,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,r=this._cachedMeta.data;for(const[o,c,l]of this._syncList)this[o](c,l);this._syncList=[];const n=r.length,i=t.length,a=Math.min(i,n);a&&this.parse(0,a),i>n?this._insertElements(n,i-n,e):i<n&&this._removeElements(i,n-i)}_insertElements(e,t,r=!0){const n=this._cachedMeta,i=n.data,a=e+t;let o;const c=l=>{for(l.length+=t,o=l.length-1;o>=a;o--)l[o]=l[o-t]};for(c(i),o=e;o<a;++o)i[o]=new this.dataElementType;this._parsing&&c(n._parsed),this.parse(e,t),r&&this.updateElements(i,e,t,"reset")}updateElements(e,t,r,n){}_removeElements(e,t){const r=this._cachedMeta;if(this._parsing){const n=r._parsed.splice(e,t);r._stacked&&jc(r,n)}r.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,r,n]=e;this[t](r,n)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function _C(s,e){if(!s._cache.$bar){const t=s.getMatchingVisibleMetas(e);let r=[];for(let n=0,i=t.length;n<i;n++)r=r.concat(t[n].controller.getAllParsedValues(s));s._cache.$bar=_1(r.sort((n,i)=>n-i))}return s._cache.$bar}function LC(s){const e=s.iScale,t=_C(e,s.type);let r=e._length,n,i,a,o;const c=()=>{a===32767||a===-32768||(ll(o)&&(r=Math.min(r,Math.abs(a-o)||r)),o=a)};for(n=0,i=t.length;n<i;++n)a=e.getPixelForValue(t[n]),c();for(o=void 0,n=0,i=e.ticks.length;n<i;++n)a=e.getPixelForTick(n),c();return r}function TC(s,e,t,r){const n=t.barThickness;let i,a;return zt(n)?(i=e.min*t.categoryPercentage,a=t.barPercentage):(i=n*r,a=1),{chunk:i/r,ratio:a,start:e.pixels[s]-i/2}}function UC(s,e,t,r){const n=e.pixels,i=n[s];let a=s>0?n[s-1]:null,o=s<n.length-1?n[s+1]:null;const c=t.categoryPercentage;a===null&&(a=i-(o===null?e.end-e.start:o-i)),o===null&&(o=i+i-a);const l=i-(i-Math.min(a,o))/2*c;return{chunk:Math.abs(o-a)/2*c/r,ratio:t.barPercentage,start:l}}function MC(s,e,t,r){const n=t.parse(s[0],r),i=t.parse(s[1],r),a=Math.min(n,i),o=Math.max(n,i);let c=a,l=o;Math.abs(a)>Math.abs(o)&&(c=o,l=a),e[t.axis]=l,e._custom={barStart:c,barEnd:l,start:n,end:i,min:a,max:o}}function Q1(s,e,t,r){return Cs(s)?MC(s,e,t,r):e[t.axis]=t.parse(s,r),e}function v0(s,e,t,r){const n=s.iScale,i=s.vScale,a=n.getLabels(),o=n===i,c=[];let l,d,f,p;for(l=t,d=t+r;l<d;++l)p=e[l],f={},f[n.axis]=o||n.parse(a[l],l),c.push(Q1(p,f,i,l));return c}function pm(s){return s&&s.barStart!==void 0&&s.barEnd!==void 0}function VC(s,e,t){return s!==0?xn(s):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function IC(s){let e,t,r,n,i;return s.horizontal?(e=s.base>s.x,t="left",r="right"):(e=s.base<s.y,t="bottom",r="top"),e?(n="end",i="start"):(n="start",i="end"),{start:t,end:r,reverse:e,top:n,bottom:i}}function RC(s,e,t,r){let n=e.borderSkipped;const i={};if(!n){s.borderSkipped=i;return}if(n===!0){s.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:o,reverse:c,top:l,bottom:d}=IC(s);n==="middle"&&t&&(s.enableBorderRadius=!0,(t._top||0)===r?n=l:(t._bottom||0)===r?n=d:(i[N0(d,a,o,c)]=!0,n=l)),i[N0(n,a,o,c)]=!0,s.borderSkipped=i}function N0(s,e,t,r){return r?(s=OC(s,e,t),s=k0(s,t,e)):s=k0(s,e,t),s}function OC(s,e,t){return s===e?t:s===t?e:s}function k0(s,e,t){return s==="start"?e:s==="end"?t:s}function FC(s,{inflateAmount:e},t){s.inflateAmount=e==="auto"?t===1?.33:0:e}class BC extends la{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,t,r,n){return v0(e,t,r,n)}parseArrayData(e,t,r,n){return v0(e,t,r,n)}parseObjectData(e,t,r,n){const{iScale:i,vScale:a}=e,{xAxisKey:o="x",yAxisKey:c="y"}=this._parsing,l=i.axis==="x"?o:c,d=a.axis==="x"?o:c,f=[];let p,m,b,y;for(p=r,m=r+n;p<m;++p)y=t[p],b={},b[i.axis]=i.parse(ra(y,l),p),f.push(Q1(ra(y,d),b,a,p));return f}updateRangeFromParsed(e,t,r,n){super.updateRangeFromParsed(e,t,r,n);const i=r._custom;i&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:r,vScale:n}=t,i=this.getParsed(e),a=i._custom,o=pm(a)?"["+a.start+", "+a.end+"]":""+n.getLabelForValue(i[n.axis]);return{label:""+r.getLabelForValue(i[r.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,r,n){const i=n==="reset",{index:a,_cachedMeta:{vScale:o}}=this,c=o.getBasePixel(),l=o.isHorizontal(),d=this._getRuler(),{sharedOptions:f,includeOptions:p}=this._getSharedOptions(t,n);for(let m=t;m<t+r;m++){const b=this.getParsed(m),y=i||zt(b[o.axis])?{base:c,head:c}:this._calculateBarValuePixels(m),v=this._calculateBarIndexPixels(m,d),N=(b._stacks||{})[o.axis],w={horizontal:l,base:y.base,enableBorderRadius:!N||pm(b._custom)||a===N._top||a===N._bottom,x:l?y.head:v.center,y:l?v.center:y.head,height:l?v.size:Math.abs(y.size),width:l?Math.abs(y.size):v.size};p&&(w.options=f||this.resolveDataElementOptions(m,e[m].active?"active":n));const j=w.options||e[m].options;RC(w,j,N,a),FC(w,j,d.ratio),this.updateElement(e[m],m,w,n)}}_getStacks(e,t){const{iScale:r}=this._cachedMeta,n=r.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),i=r.options.stacked,a=[],o=this._cachedMeta.controller.getParsed(t),c=o&&o[r.axis],l=d=>{const f=d._parsed.find(m=>m[r.axis]===c),p=f&&f[d.vScale.axis];if(zt(p)||isNaN(p))return!0};for(const d of n)if(!(t!==void 0&&l(d))&&((i===!1||a.indexOf(d.stack)===-1||i===void 0&&d.stack===void 0)&&a.push(d.stack),d.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(r=>e[r].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)e[xt(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,r){const n=this._getStacks(e,r),i=t!==void 0?n.indexOf(t):-1;return i===-1?n.length-1:i}_getRuler(){const e=this.options,t=this._cachedMeta,r=t.iScale,n=[];let i,a;for(i=0,a=t.data.length;i<a;++i)n.push(r.getPixelForValue(this.getParsed(i)[r.axis],i));const o=e.barThickness;return{min:o||LC(t),pixels:n,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:o?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:r,index:n},options:{base:i,minBarLength:a}}=this,o=i||0,c=this.getParsed(e),l=c._custom,d=pm(l);let f=c[t.axis],p=0,m=r?this.applyStack(t,c,r):f,b,y;m!==f&&(p=m-f,m=f),d&&(f=l.barStart,m=l.barEnd-l.barStart,f!==0&&xn(f)!==xn(l.barEnd)&&(p=0),p+=f);const v=!zt(i)&&!d?i:p;let N=t.getPixelForValue(v);if(this.chart.getDataVisibility(e)?b=t.getPixelForValue(p+m):b=N,y=b-N,Math.abs(y)<a){y=VC(y,t,o)*a,f===o&&(N-=y/2);const w=t.getPixelForDecimal(0),j=t.getPixelForDecimal(1),C=Math.min(w,j),S=Math.max(w,j);N=Math.max(Math.min(N,S),C),b=N+y,r&&!d&&(c._stacks[t.axis]._visualValues[n]=t.getValueForPixel(b)-t.getValueForPixel(N))}if(N===t.getPixelForValue(o)){const w=xn(y)*t.getLineWidthForValue(o)/2;N+=w,y-=w}return{size:y,base:N,head:b,center:b+y/2}}_calculateBarIndexPixels(e,t){const r=t.scale,n=this.options,i=n.skipNull,a=xt(n.maxBarThickness,1/0);let o,c;const l=this._getAxisCount();if(t.grouped){const d=i?this._getStackCount(e):t.stackCount,f=n.barThickness==="flex"?UC(e,t,n,d*l):TC(e,t,n,d*l),p=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,m=this._getAxis().indexOf(xt(p,this.getFirstScaleIdForIndexAxis())),b=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0)+m;o=f.start+f.chunk*b+f.chunk/2,c=Math.min(a,f.chunk*f.ratio)}else o=r.getPixelForValue(this.getParsed(e)[r.axis],e),c=Math.min(a,t.min*t.ratio);return{base:o-c/2,head:o+c/2,center:o,size:c}}draw(){const e=this._cachedMeta,t=e.vScale,r=e.data,n=r.length;let i=0;for(;i<n;++i)this.getParsed(i)[t.axis]!==null&&!r[i].hidden&&r[i].draw(this._ctx)}}class zC extends la{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,r,n){const i=super.parsePrimitiveData(e,t,r,n);for(let a=0;a<i.length;a++)i[a]._custom=this.resolveDataElementOptions(a+r).radius;return i}parseArrayData(e,t,r,n){const i=super.parseArrayData(e,t,r,n);for(let a=0;a<i.length;a++){const o=t[r+a];i[a]._custom=xt(o[2],this.resolveDataElementOptions(a+r).radius)}return i}parseObjectData(e,t,r,n){const i=super.parseObjectData(e,t,r,n);for(let a=0;a<i.length;a++){const o=t[r+a];i[a]._custom=xt(o&&o.r&&+o.r,this.resolveDataElementOptions(a+r).radius)}return i}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let r=e.length-1;r>=0;--r)t=Math.max(t,e[r].size(this.resolveDataElementOptions(r))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,r=this.chart.data.labels||[],{xScale:n,yScale:i}=t,a=this.getParsed(e),o=n.getLabelForValue(a.x),c=i.getLabelForValue(a.y),l=a._custom;return{label:r[e]||"",value:"("+o+", "+c+(l?", "+l:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,r,n){const i=n==="reset",{iScale:a,vScale:o}=this._cachedMeta,{sharedOptions:c,includeOptions:l}=this._getSharedOptions(t,n),d=a.axis,f=o.axis;for(let p=t;p<t+r;p++){const m=e[p],b=!i&&this.getParsed(p),y={},v=y[d]=i?a.getPixelForDecimal(.5):a.getPixelForValue(b[d]),N=y[f]=i?o.getBasePixel():o.getPixelForValue(b[f]);y.skip=isNaN(v)||isNaN(N),l&&(y.options=c||this.resolveDataElementOptions(p,m.active?"active":n),i&&(y.options.radius=0)),this.updateElement(m,p,y,n)}}resolveDataElementOptions(e,t){const r=this.getParsed(e);let n=super.resolveDataElementOptions(e,t);n.$shared&&(n=Object.assign({},n,{$shared:!1}));const i=n.radius;return t!=="active"&&(n.radius=0),n.radius+=xt(r&&r._custom,i),n}}function $C(s,e,t){let r=1,n=1,i=0,a=0;if(e<Ns){const o=s,c=o+e,l=Math.cos(o),d=Math.sin(o),f=Math.cos(c),p=Math.sin(c),m=(j,C,S)=>ul(j,o,c,!0)?1:Math.max(C,C*t,S,S*t),b=(j,C,S)=>ul(j,o,c,!0)?-1:Math.min(C,C*t,S,S*t),y=m(0,l,f),v=m(Ks,d,p),N=b(Qt,l,f),w=b(Qt+Ks,d,p);r=(y-N)/2,n=(v-w)/2,i=-(y+N)/2,a=-(v+w)/2}return{ratioX:r,ratioY:n,offsetX:i,offsetY:a}}class Dh extends la{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:r,color:n}}=e.legend.options;return t.labels.map((i,a)=>{const c=e.getDatasetMeta(0).controller.getStyle(a);return{text:i,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:n,lineWidth:c.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const r=this.getDataset().data,n=this._cachedMeta;if(this._parsing===!1)n._parsed=r;else{let i=c=>+r[c];if($t(r[e])){const{key:c="value"}=this._parsing;i=l=>+ra(r[l],c)}let a,o;for(a=e,o=e+t;a<o;++a)n._parsed[a]=i(a)}}_getRotation(){return An(this.options.rotation-90)}_getCircumference(){return An(this.options.circumference)}_getRotationExtents(){let e=Ns,t=-Ns;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const n=this.chart.getDatasetMeta(r).controller,i=n._getRotation(),a=n._getCircumference();e=Math.min(e,i),t=Math.max(t,i+a)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:r}=t,n=this._cachedMeta,i=n.data,a=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,o=Math.max((Math.min(r.width,r.height)-a)/2,0),c=Math.min(QD(this.options.cutout,o),1),l=this._getRingWeight(this.index),{circumference:d,rotation:f}=this._getRotationExtents(),{ratioX:p,ratioY:m,offsetX:b,offsetY:y}=$C(f,d,c),v=(r.width-a)/p,N=(r.height-a)/m,w=Math.max(Math.min(v,N)/2,0),j=C1(this.options.radius,w),C=Math.max(j*c,0),S=(j-C)/this._getVisibleDatasetWeightTotal();this.offsetX=b*j,this.offsetY=y*j,n.total=this.calculateTotal(),this.outerRadius=j-S*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-S*l,0),this.updateElements(i,0,i.length,e)}_circumference(e,t){const r=this.options,n=this._cachedMeta,i=this._getCircumference();return t&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||n._parsed[e]===null||n.data[e].hidden?0:this.calculateCircumference(n._parsed[e]*i/Ns)}updateElements(e,t,r,n){const i=n==="reset",a=this.chart,o=a.chartArea,l=a.options.animation,d=(o.left+o.right)/2,f=(o.top+o.bottom)/2,p=i&&l.animateScale,m=p?0:this.innerRadius,b=p?0:this.outerRadius,{sharedOptions:y,includeOptions:v}=this._getSharedOptions(t,n);let N=this._getRotation(),w;for(w=0;w<t;++w)N+=this._circumference(w,i);for(w=t;w<t+r;++w){const j=this._circumference(w,i),C=e[w],S={x:d+this.offsetX,y:f+this.offsetY,startAngle:N,endAngle:N+j,circumference:j,outerRadius:b,innerRadius:m};v&&(S.options=y||this.resolveDataElementOptions(w,C.active?"active":n)),N+=j,this.updateElement(C,w,S,n)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let r=0,n;for(n=0;n<t.length;n++){const i=e._parsed[n];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(n)&&!t[n].hidden&&(r+=Math.abs(i))}return r}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?Ns*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,r=this.chart,n=r.data.labels||[],i=Pl(t._parsed[e],r.options.locale);return{label:n[e]||"",value:i}}getMaxBorderWidth(e){let t=0;const r=this.chart;let n,i,a,o,c;if(!e){for(n=0,i=r.data.datasets.length;n<i;++n)if(r.isDatasetVisible(n)){a=r.getDatasetMeta(n),e=a.data,o=a.controller;break}}if(!e)return 0;for(n=0,i=e.length;n<i;++n)c=o.resolveDataElementOptions(n),c.borderAlign!=="inner"&&(t=Math.max(t,c.borderWidth||0,c.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let r=0,n=e.length;r<n;++r){const i=this.resolveDataElementOptions(r);t=Math.max(t,i.offset||0,i.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(t+=this._getRingWeight(r));return t}_getRingWeight(e){return Math.max(xt(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class WC extends la{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:r,data:n=[],_dataset:i}=t,a=this.chart._animationsDisabled;let{start:o,count:c}=U1(t,n,a);this._drawStart=o,this._drawCount=c,M1(t)&&(o=0,c=n.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!i._decimated,r.points=n;const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:l},e),this.updateElements(n,o,c,e)}updateElements(e,t,r,n){const i=n==="reset",{iScale:a,vScale:o,_stacked:c,_dataset:l}=this._cachedMeta,{sharedOptions:d,includeOptions:f}=this._getSharedOptions(t,n),p=a.axis,m=o.axis,{spanGaps:b,segment:y}=this.options,v=$o(b)?b:Number.POSITIVE_INFINITY,N=this.chart._animationsDisabled||i||n==="none",w=t+r,j=e.length;let C=t>0&&this.getParsed(t-1);for(let S=0;S<j;++S){const A=e[S],U=N?A:{};if(S<t||S>=w){U.skip=!0;continue}const P=this.getParsed(S),T=zt(P[m]),R=U[p]=a.getPixelForValue(P[p],S),E=U[m]=i||T?o.getBasePixel():o.getPixelForValue(c?this.applyStack(o,P,c):P[m],S);U.skip=isNaN(R)||isNaN(E)||T,U.stop=S>0&&Math.abs(P[p]-C[p])>v,y&&(U.parsed=P,U.raw=l.data[S]),f&&(U.options=d||this.resolveDataElementOptions(S,A.active?"active":n)),N||this.updateElement(A,S,U,n),C=P}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,r=t.options&&t.options.borderWidth||0,n=e.data||[];if(!n.length)return r;const i=n[0].size(this.resolveDataElementOptions(0)),a=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(r,i,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class ex extends la{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:r,color:n}}=e.legend.options;return t.labels.map((i,a)=>{const c=e.getDatasetMeta(0).controller.getStyle(a);return{text:i,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:n,lineWidth:c.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,r=this.chart,n=r.data.labels||[],i=Pl(t._parsed[e].r,r.options.locale);return{label:n[e]||"",value:i}}parseObjectData(e,t,r,n){return $1.bind(this)(e,t,r,n)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((r,n)=>{const i=this.getParsed(n).r;!isNaN(i)&&this.chart.getDataVisibility(n)&&(i<t.min&&(t.min=i),i>t.max&&(t.max=i))}),t}_updateRadius(){const e=this.chart,t=e.chartArea,r=e.options,n=Math.min(t.right-t.left,t.bottom-t.top),i=Math.max(n/2,0),a=Math.max(r.cutoutPercentage?i/100*r.cutoutPercentage:1,0),o=(i-a)/e.getVisibleDatasetCount();this.outerRadius=i-o*this.index,this.innerRadius=this.outerRadius-o}updateElements(e,t,r,n){const i=n==="reset",a=this.chart,c=a.options.animation,l=this._cachedMeta.rScale,d=l.xCenter,f=l.yCenter,p=l.getIndexAngle(0)-.5*Qt;let m=p,b;const y=360/this.countVisibleElements();for(b=0;b<t;++b)m+=this._computeAngle(b,n,y);for(b=t;b<t+r;b++){const v=e[b];let N=m,w=m+this._computeAngle(b,n,y),j=a.getDataVisibility(b)?l.getDistanceFromCenterForValue(this.getParsed(b).r):0;m=w,i&&(c.animateScale&&(j=0),c.animateRotate&&(N=w=p));const C={x:d,y:f,innerRadius:0,outerRadius:j,startAngle:N,endAngle:w,options:this.resolveDataElementOptions(b,v.active?"active":n)};this.updateElement(v,b,C,n)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach((r,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&t++}),t}_computeAngle(e,t,r){return this.chart.getDataVisibility(e)?An(this.resolveDataElementOptions(e,t).angle||r):0}}class qC extends Dh{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class HC extends la{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){const t=this._cachedMeta.vScale,r=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(r[t.axis])}}parseObjectData(e,t,r,n){return $1.bind(this)(e,t,r,n)}update(e){const t=this._cachedMeta,r=t.dataset,n=t.data||[],i=t.iScale.getLabels();if(r.points=n,e!=="resize"){const a=this.resolveDatasetElementOptions(e);this.options.showLine||(a.borderWidth=0);const o={_loop:!0,_fullLoop:i.length===n.length,options:a};this.updateElement(r,void 0,o,e)}this.updateElements(n,0,n.length,e)}updateElements(e,t,r,n){const i=this._cachedMeta.rScale,a=n==="reset";for(let o=t;o<t+r;o++){const c=e[o],l=this.resolveDataElementOptions(o,c.active?"active":n),d=i.getPointPositionForValue(o,this.getParsed(o).r),f=a?i.xCenter:d.x,p=a?i.yCenter:d.y,m={x:f,y:p,angle:d.angle,skip:isNaN(f)||isNaN(p),options:l};this.updateElement(c,o,m,n)}}}class YC extends la{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){const t=this._cachedMeta,r=this.chart.data.labels||[],{xScale:n,yScale:i}=t,a=this.getParsed(e),o=n.getLabelForValue(a.x),c=i.getLabelForValue(a.y);return{label:r[e]||"",value:"("+o+", "+c+")"}}update(e){const t=this._cachedMeta,{data:r=[]}=t,n=this.chart._animationsDisabled;let{start:i,count:a}=U1(t,r,n);if(this._drawStart=i,this._drawCount=a,M1(t)&&(i=0,a=r.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:o,_dataset:c}=t;o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!c._decimated,o.points=r;const l=this.resolveDatasetElementOptions(e);l.segment=this.options.segment,this.updateElement(o,void 0,{animated:!n,options:l},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(r,i,a,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,r,n){const i=n==="reset",{iScale:a,vScale:o,_stacked:c,_dataset:l}=this._cachedMeta,d=this.resolveDataElementOptions(t,n),f=this.getSharedOptions(d),p=this.includeOptions(n,f),m=a.axis,b=o.axis,{spanGaps:y,segment:v}=this.options,N=$o(y)?y:Number.POSITIVE_INFINITY,w=this.chart._animationsDisabled||i||n==="none";let j=t>0&&this.getParsed(t-1);for(let C=t;C<t+r;++C){const S=e[C],A=this.getParsed(C),U=w?S:{},P=zt(A[b]),T=U[m]=a.getPixelForValue(A[m],C),R=U[b]=i||P?o.getBasePixel():o.getPixelForValue(c?this.applyStack(o,A,c):A[b],C);U.skip=isNaN(T)||isNaN(R)||P,U.stop=C>0&&Math.abs(A[m]-j[m])>N,v&&(U.parsed=A,U.raw=l.data[C]),p&&(U.options=f||this.resolveDataElementOptions(C,S.active?"active":n)),w||this.updateElement(S,C,U,n),j=A}this.updateSharedOptions(f,n,d)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let o=0;for(let c=t.length-1;c>=0;--c)o=Math.max(o,t[c].size(this.resolveDataElementOptions(c))/2);return o>0&&o}const r=e.dataset,n=r.options&&r.options.borderWidth||0;if(!t.length)return n;const i=t[0].size(this.resolveDataElementOptions(0)),a=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(n,i,a)/2}}var GC=Object.freeze({__proto__:null,BarController:BC,BubbleController:zC,DoughnutController:Dh,LineController:WC,PieController:qC,PolarAreaController:ex,RadarController:HC,ScatterController:YC});function Ta(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Ph{static override(e){Object.assign(Ph.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return Ta()}parse(){return Ta()}format(){return Ta()}add(){return Ta()}diff(){return Ta()}startOf(){return Ta()}endOf(){return Ta()}}var KC={_date:Ph};function XC(s,e,t,r){const{controller:n,data:i,_sorted:a}=s,o=n._cachedMeta.iScale,c=s.dataset&&s.dataset.options?s.dataset.options.spanGaps:null;if(o&&e===o.axis&&e!=="r"&&a&&i.length){const l=o._reversePixels?mP:ki;if(r){if(n._sharedOptions){const d=i[0],f=typeof d.getRange=="function"&&d.getRange(e);if(f){const p=l(i,e,t-f),m=l(i,e,t+f);return{lo:p.lo,hi:m.hi}}}}else{const d=l(i,e,t);if(c){const{vScale:f}=n._cachedMeta,{_parsed:p}=s,m=p.slice(0,d.lo+1).reverse().findIndex(y=>!zt(y[f.axis]));d.lo-=Math.max(0,m);const b=p.slice(d.hi).findIndex(y=>!zt(y[f.axis]));d.hi+=Math.max(0,b)}return d}}return{lo:0,hi:i.length-1}}function Nd(s,e,t,r,n){const i=s.getSortedVisibleDatasetMetas(),a=t[e];for(let o=0,c=i.length;o<c;++o){const{index:l,data:d}=i[o],{lo:f,hi:p}=XC(i[o],e,a,n);for(let m=f;m<=p;++m){const b=d[m];b.skip||r(b,l,m)}}}function JC(s){const e=s.indexOf("x")!==-1,t=s.indexOf("y")!==-1;return function(r,n){const i=e?Math.abs(r.x-n.x):0,a=t?Math.abs(r.y-n.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(a,2))}}function gm(s,e,t,r,n){const i=[];return!n&&!s.isPointInArea(e)||Nd(s,t,e,function(o,c,l){!n&&!Hn(o,s.chartArea,0)||o.inRange(e.x,e.y,r)&&i.push({element:o,datasetIndex:c,index:l})},!0),i}function ZC(s,e,t,r){let n=[];function i(a,o,c){const{startAngle:l,endAngle:d}=a.getProps(["startAngle","endAngle"],r),{angle:f}=S1(a,{x:e.x,y:e.y});ul(f,l,d)&&n.push({element:a,datasetIndex:o,index:c})}return Nd(s,t,e,i),n}function QC(s,e,t,r,n,i){let a=[];const o=JC(t);let c=Number.POSITIVE_INFINITY;function l(d,f,p){const m=d.inRange(e.x,e.y,n);if(r&&!m)return;const b=d.getCenterPoint(n);if(!(!!i||s.isPointInArea(b))&&!m)return;const v=o(e,b);v<c?(a=[{element:d,datasetIndex:f,index:p}],c=v):v===c&&a.push({element:d,datasetIndex:f,index:p})}return Nd(s,t,e,l),a}function bm(s,e,t,r,n,i){return!i&&!s.isPointInArea(e)?[]:t==="r"&&!r?ZC(s,e,t,n):QC(s,e,t,r,n,i)}function w0(s,e,t,r,n){const i=[],a=t==="x"?"inXRange":"inYRange";let o=!1;return Nd(s,t,e,(c,l,d)=>{c[a]&&c[a](e[t],n)&&(i.push({element:c,datasetIndex:l,index:d}),o=o||c.inRange(e.x,e.y,n))}),r&&!o?[]:i}var ej={modes:{index(s,e,t,r){const n=qn(e,s),i=t.axis||"x",a=t.includeInvisible||!1,o=t.intersect?gm(s,n,i,r,a):bm(s,n,i,!1,r,a),c=[];return o.length?(s.getSortedVisibleDatasetMetas().forEach(l=>{const d=o[0].index,f=l.data[d];f&&!f.skip&&c.push({element:f,datasetIndex:l.index,index:d})}),c):[]},dataset(s,e,t,r){const n=qn(e,s),i=t.axis||"xy",a=t.includeInvisible||!1;let o=t.intersect?gm(s,n,i,r,a):bm(s,n,i,!1,r,a);if(o.length>0){const c=o[0].datasetIndex,l=s.getDatasetMeta(c).data;o=[];for(let d=0;d<l.length;++d)o.push({element:l[d],datasetIndex:c,index:d})}return o},point(s,e,t,r){const n=qn(e,s),i=t.axis||"xy",a=t.includeInvisible||!1;return gm(s,n,i,r,a)},nearest(s,e,t,r){const n=qn(e,s),i=t.axis||"xy",a=t.includeInvisible||!1;return bm(s,n,i,t.intersect,r,a)},x(s,e,t,r){const n=qn(e,s);return w0(s,n,"x",t.intersect,r)},y(s,e,t,r){const n=qn(e,s);return w0(s,n,"y",t.intersect,r)}}};const tx=["left","top","right","bottom"];function Ec(s,e){return s.filter(t=>t.pos===e)}function D0(s,e){return s.filter(t=>tx.indexOf(t.pos)===-1&&t.box.axis===e)}function Sc(s,e){return s.sort((t,r)=>{const n=e?r:t,i=e?t:r;return n.weight===i.weight?n.index-i.index:n.weight-i.weight})}function tj(s){const e=[];let t,r,n,i,a,o;for(t=0,r=(s||[]).length;t<r;++t)n=s[t],{position:i,options:{stack:a,stackWeight:o=1}}=n,e.push({index:t,box:n,pos:i,horizontal:n.isHorizontal(),weight:n.weight,stack:a&&i+a,stackWeight:o});return e}function sj(s){const e={};for(const t of s){const{stack:r,pos:n,stackWeight:i}=t;if(!r||!tx.includes(n))continue;const a=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=i}return e}function rj(s,e){const t=sj(s),{vBoxMaxWidth:r,hBoxMaxHeight:n}=e;let i,a,o;for(i=0,a=s.length;i<a;++i){o=s[i];const{fullSize:c}=o.box,l=t[o.stack],d=l&&o.stackWeight/l.weight;o.horizontal?(o.width=d?d*r:c&&e.availableWidth,o.height=n):(o.width=r,o.height=d?d*n:c&&e.availableHeight)}return t}function nj(s){const e=tj(s),t=Sc(e.filter(l=>l.box.fullSize),!0),r=Sc(Ec(e,"left"),!0),n=Sc(Ec(e,"right")),i=Sc(Ec(e,"top"),!0),a=Sc(Ec(e,"bottom")),o=D0(e,"x"),c=D0(e,"y");return{fullSize:t,leftAndTop:r.concat(i),rightAndBottom:n.concat(c).concat(a).concat(o),chartArea:Ec(e,"chartArea"),vertical:r.concat(n).concat(c),horizontal:i.concat(a).concat(o)}}function P0(s,e,t,r){return Math.max(s[t],e[t])+Math.max(s[r],e[r])}function sx(s,e){s.top=Math.max(s.top,e.top),s.left=Math.max(s.left,e.left),s.bottom=Math.max(s.bottom,e.bottom),s.right=Math.max(s.right,e.right)}function ij(s,e,t,r){const{pos:n,box:i}=t,a=s.maxPadding;if(!$t(n)){t.size&&(s[n]-=t.size);const f=r[t.stack]||{size:0,count:1};f.size=Math.max(f.size,t.horizontal?i.height:i.width),t.size=f.size/f.count,s[n]+=t.size}i.getPadding&&sx(a,i.getPadding());const o=Math.max(0,e.outerWidth-P0(a,s,"left","right")),c=Math.max(0,e.outerHeight-P0(a,s,"top","bottom")),l=o!==s.w,d=c!==s.h;return s.w=o,s.h=c,t.horizontal?{same:l,other:d}:{same:d,other:l}}function aj(s){const e=s.maxPadding;function t(r){const n=Math.max(e[r]-s[r],0);return s[r]+=n,n}s.y+=t("top"),s.x+=t("left"),t("right"),t("bottom")}function oj(s,e){const t=e.maxPadding;function r(n){const i={left:0,top:0,right:0,bottom:0};return n.forEach(a=>{i[a]=Math.max(e[a],t[a])}),i}return r(s?["left","right"]:["top","bottom"])}function Fc(s,e,t,r){const n=[];let i,a,o,c,l,d;for(i=0,a=s.length,l=0;i<a;++i){o=s[i],c=o.box,c.update(o.width||e.w,o.height||e.h,oj(o.horizontal,e));const{same:f,other:p}=ij(e,t,o,r);l|=f&&n.length,d=d||p,c.fullSize||n.push(o)}return l&&Fc(n,e,t,r)||d}function du(s,e,t,r,n){s.top=t,s.left=e,s.right=e+r,s.bottom=t+n,s.width=r,s.height=n}function C0(s,e,t,r){const n=t.padding;let{x:i,y:a}=e;for(const o of s){const c=o.box,l=r[o.stack]||{placed:0,weight:1},d=o.stackWeight/l.weight||1;if(o.horizontal){const f=e.w*d,p=l.size||c.height;ll(l.start)&&(a=l.start),c.fullSize?du(c,n.left,a,t.outerWidth-n.right-n.left,p):du(c,e.left+l.placed,a,f,p),l.start=a,l.placed+=f,a=c.bottom}else{const f=e.h*d,p=l.size||c.width;ll(l.start)&&(i=l.start),c.fullSize?du(c,i,n.top,p,t.outerHeight-n.bottom-n.top):du(c,i,e.top+l.placed,p,f),l.start=i,l.placed+=f,i=c.right}}e.x=i,e.y=a}var Sr={addBox(s,e){s.boxes||(s.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},s.boxes.push(e)},removeBox(s,e){const t=s.boxes?s.boxes.indexOf(e):-1;t!==-1&&s.boxes.splice(t,1)},configure(s,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(s,e,t,r){if(!s)return;const n=Ar(s.options.layout.padding),i=Math.max(e-n.width,0),a=Math.max(t-n.height,0),o=nj(s.boxes),c=o.vertical,l=o.horizontal;Bt(s.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});const d=c.reduce((y,v)=>v.box.options&&v.box.options.display===!1?y:y+1,0)||1,f=Object.freeze({outerWidth:e,outerHeight:t,padding:n,availableWidth:i,availableHeight:a,vBoxMaxWidth:i/2/d,hBoxMaxHeight:a/2}),p=Object.assign({},n);sx(p,Ar(r));const m=Object.assign({maxPadding:p,w:i,h:a,x:n.left,y:n.top},n),b=rj(c.concat(l),f);Fc(o.fullSize,m,f,b),Fc(c,m,f,b),Fc(l,m,f,b)&&Fc(c,m,f,b),aj(m),C0(o.leftAndTop,m,f,b),m.x+=m.w,m.y+=m.h,C0(o.rightAndBottom,m,f,b),s.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},Bt(o.chartArea,y=>{const v=y.box;Object.assign(v,s.chartArea),v.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class rx{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,r){}removeEventListener(e,t,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,r,n){return t=Math.max(0,t||e.width),r=r||e.height,{width:t,height:Math.max(0,n?Math.floor(t/n):r)}}isAttached(e){return!0}updateConfig(e){}}class cj extends rx{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Bu="$chartjs",lj={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},j0=s=>s===null||s==="";function uj(s,e){const t=s.style,r=s.getAttribute("height"),n=s.getAttribute("width");if(s[Bu]={initial:{height:r,width:n,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",j0(n)){const i=u0(s,"width");i!==void 0&&(s.width=i)}if(j0(r))if(s.style.height==="")s.height=s.width/(e||2);else{const i=u0(s,"height");i!==void 0&&(s.height=i)}return s}const nx=iC?{passive:!0}:!1;function dj(s,e,t){s&&s.addEventListener(e,t,nx)}function mj(s,e,t){s&&s.canvas&&s.canvas.removeEventListener(e,t,nx)}function fj(s,e){const t=lj[s.type]||s.type,{x:r,y:n}=qn(s,e);return{type:t,chart:e,native:s,x:r!==void 0?r:null,y:n!==void 0?n:null}}function td(s,e){for(const t of s)if(t===e||t.contains(e))return!0}function hj(s,e,t){const r=s.canvas,n=new MutationObserver(i=>{let a=!1;for(const o of i)a=a||td(o.addedNodes,r),a=a&&!td(o.removedNodes,r);a&&t()});return n.observe(document,{childList:!0,subtree:!0}),n}function pj(s,e,t){const r=s.canvas,n=new MutationObserver(i=>{let a=!1;for(const o of i)a=a||td(o.removedNodes,r),a=a&&!td(o.addedNodes,r);a&&t()});return n.observe(document,{childList:!0,subtree:!0}),n}const ml=new Map;let E0=0;function ix(){const s=window.devicePixelRatio;s!==E0&&(E0=s,ml.forEach((e,t)=>{t.currentDevicePixelRatio!==s&&e()}))}function gj(s,e){ml.size||window.addEventListener("resize",ix),ml.set(s,e)}function bj(s){ml.delete(s),ml.size||window.removeEventListener("resize",ix)}function yj(s,e,t){const r=s.canvas,n=r&&wh(r);if(!n)return;const i=T1((o,c)=>{const l=n.clientWidth;t(o,c),l<n.clientWidth&&t()},window),a=new ResizeObserver(o=>{const c=o[0],l=c.contentRect.width,d=c.contentRect.height;l===0&&d===0||i(l,d)});return a.observe(n),gj(s,i),a}function ym(s,e,t){t&&t.disconnect(),e==="resize"&&bj(s)}function xj(s,e,t){const r=s.canvas,n=T1(i=>{s.ctx!==null&&t(fj(i,s))},s);return dj(r,e,n),n}class vj extends rx{acquireContext(e,t){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(uj(e,t),r):null}releaseContext(e){const t=e.canvas;if(!t[Bu])return!1;const r=t[Bu].initial;["height","width"].forEach(i=>{const a=r[i];zt(a)?t.removeAttribute(i):t.setAttribute(i,a)});const n=r.style||{};return Object.keys(n).forEach(i=>{t.style[i]=n[i]}),t.width=t.width,delete t[Bu],!0}addEventListener(e,t,r){this.removeEventListener(e,t);const n=e.$proxies||(e.$proxies={}),a={attach:hj,detach:pj,resize:yj}[t]||xj;n[t]=a(e,t,r)}removeEventListener(e,t){const r=e.$proxies||(e.$proxies={}),n=r[t];if(!n)return;({attach:ym,detach:ym,resize:ym}[t]||mj)(e,t,n),r[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,r,n){return nC(e,t,r,n)}isAttached(e){const t=e&&wh(e);return!!(t&&t.isConnected)}}function Nj(s){return!kh()||typeof OffscreenCanvas<"u"&&s instanceof OffscreenCanvas?cj:vj}let Ci=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}hasValue(){return $o(this.x)&&$o(this.y)}getProps(e,t){const r=this.$animations;if(!t||!r)return this;const n={};return e.forEach(i=>{n[i]=r[i]&&r[i].active()?r[i]._to:this[i]}),n}};function kj(s,e){const t=s.options.ticks,r=wj(s),n=Math.min(t.maxTicksLimit||r,r),i=t.major.enabled?Pj(e):[],a=i.length,o=i[0],c=i[a-1],l=[];if(a>n)return Cj(e,l,i,a/n),l;const d=Dj(i,e,n);if(a>0){let f,p;const m=a>1?Math.round((c-o)/(a-1)):null;for(mu(e,l,d,zt(m)?0:o-m,o),f=0,p=a-1;f<p;f++)mu(e,l,d,i[f],i[f+1]);return mu(e,l,d,c,zt(m)?e.length:c+m),l}return mu(e,l,d),l}function wj(s){const e=s.options.offset,t=s._tickSize(),r=s._length/t+(e?0:1),n=s._maxLength/t;return Math.floor(Math.min(r,n))}function Dj(s,e,t){const r=jj(s),n=e.length/t;if(!r)return Math.max(n,1);const i=oP(r);for(let a=0,o=i.length-1;a<o;a++){const c=i[a];if(c>n)return c}return Math.max(n,1)}function Pj(s){const e=[];let t,r;for(t=0,r=s.length;t<r;t++)s[t].major&&e.push(t);return e}function Cj(s,e,t,r){let n=0,i=t[0],a;for(r=Math.ceil(r),a=0;a<s.length;a++)a===i&&(e.push(s[a]),n++,i=t[n*r])}function mu(s,e,t,r,n){const i=xt(r,0),a=Math.min(xt(n,s.length),s.length);let o=0,c,l,d;for(t=Math.ceil(t),n&&(c=n-r,t=c/Math.floor(c/t)),d=i;d<0;)o++,d=Math.round(i+o*t);for(l=Math.max(i,0);l<a;l++)l===d&&(e.push(s[l]),o++,d=Math.round(i+o*t))}function jj(s){const e=s.length;let t,r;if(e<2)return!1;for(r=s[0],t=1;t<e;++t)if(s[t]-s[t-1]!==r)return!1;return r}const Ej=s=>s==="left"?"right":s==="right"?"left":s,S0=(s,e,t)=>e==="top"||e==="left"?s[e]+t:s[e]-t,A0=(s,e)=>Math.min(e||s,s);function _0(s,e){const t=[],r=s.length/e,n=s.length;let i=0;for(;i<n;i+=r)t.push(s[Math.floor(i)]);return t}function Sj(s,e,t){const r=s.ticks.length,n=Math.min(e,r-1),i=s._startPixel,a=s._endPixel,o=1e-6;let c=s.getPixelForTick(n),l;if(!(t&&(r===1?l=Math.max(c-i,a-c):e===0?l=(s.getPixelForTick(1)-c)/2:l=(c-s.getPixelForTick(n-1))/2,c+=n<e?l:-l,c<i-o||c>a+o)))return c}function Aj(s,e){Bt(s,t=>{const r=t.gc,n=r.length/2;let i;if(n>e){for(i=0;i<n;++i)delete t.data[r[i]];r.splice(0,n)}})}function Ac(s){return s.drawTicks?s.tickLength:0}function L0(s,e){if(!s.display)return 0;const t=ar(s.font,e),r=Ar(s.padding);return(Cs(s.text)?s.text.length:1)*t.lineHeight+r.height}function _j(s,e){return ca(s,{scale:e,type:"scale"})}function Lj(s,e,t){return ca(s,{tick:t,index:e,type:"tick"})}function Tj(s,e,t){let r=gh(s);return(t&&e!=="right"||!t&&e==="right")&&(r=Ej(r)),r}function Uj(s,e,t,r){const{top:n,left:i,bottom:a,right:o,chart:c}=s,{chartArea:l,scales:d}=c;let f=0,p,m,b;const y=a-n,v=o-i;if(s.isHorizontal()){if(m=jr(r,i,o),$t(t)){const N=Object.keys(t)[0],w=t[N];b=d[N].getPixelForValue(w)+y-e}else t==="center"?b=(l.bottom+l.top)/2+y-e:b=S0(s,t,e);p=o-i}else{if($t(t)){const N=Object.keys(t)[0],w=t[N];m=d[N].getPixelForValue(w)-v+e}else t==="center"?m=(l.left+l.right)/2-v+e:m=S0(s,t,e);b=jr(r,a,n),f=t==="left"?-Ks:Ks}return{titleX:m,titleY:b,maxWidth:p,rotation:f}}class co extends Ci{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:r,_suggestedMax:n}=this;return e=cn(e,Number.POSITIVE_INFINITY),t=cn(t,Number.NEGATIVE_INFINITY),r=cn(r,Number.POSITIVE_INFINITY),n=cn(n,Number.NEGATIVE_INFINITY),{min:cn(e,r),max:cn(t,n),minDefined:Rs(e),maxDefined:Rs(t)}}getMinMax(e){let{min:t,max:r,minDefined:n,maxDefined:i}=this.getUserBounds(),a;if(n&&i)return{min:t,max:r};const o=this.getMatchingVisibleMetas();for(let c=0,l=o.length;c<l;++c)a=o[c].controller.getMinMax(this,e),n||(t=Math.min(t,a.min)),i||(r=Math.max(r,a.max));return t=i&&t>r?r:t,r=n&&t>r?t:r,{min:cn(t,cn(r,t)),max:cn(r,cn(t,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){yt(this.options.beforeUpdate,[this])}update(e,t,r){const{beginAtZero:n,grace:i,ticks:a}=this.options,o=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=VP(this,i,n),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=o<this.ticks.length;this._convertTicksToLabels(c?_0(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=kj(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,r;this.isHorizontal()?(t=this.left,r=this.right):(t=this.top,r=this.bottom,e=!e),this._startPixel=t,this._endPixel=r,this._reversePixels=e,this._length=r-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){yt(this.options.afterUpdate,[this])}beforeSetDimensions(){yt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){yt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),yt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){yt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let r,n,i;for(r=0,n=e.length;r<n;r++)i=e[r],i.label=yt(t.callback,[i.value,r,e],this)}afterTickToLabelConversion(){yt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){yt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,r=A0(this.ticks.length,e.ticks.maxTicksLimit),n=t.minRotation||0,i=t.maxRotation;let a=n,o,c,l;if(!this._isVisible()||!t.display||n>=i||r<=1||!this.isHorizontal()){this.labelRotation=n;return}const d=this._getLabelSizes(),f=d.widest.width,p=d.highest.height,m=lr(this.chart.width-f,0,this.maxWidth);o=e.offset?this.maxWidth/r:m/(r-1),f+6>o&&(o=m/(r-(e.offset?.5:1)),c=this.maxHeight-Ac(e.grid)-t.padding-L0(e.title,this.chart.options.font),l=Math.sqrt(f*f+p*p),a=hh(Math.min(Math.asin(lr((d.highest.height+6)/o,-1,1)),Math.asin(lr(c/l,-1,1))-Math.asin(lr(p/l,-1,1)))),a=Math.max(n,Math.min(i,a))),this.labelRotation=a}afterCalculateLabelRotation(){yt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){yt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:r,title:n,grid:i}}=this,a=this._isVisible(),o=this.isHorizontal();if(a){const c=L0(n,t.options.font);if(o?(e.width=this.maxWidth,e.height=Ac(i)+c):(e.height=this.maxHeight,e.width=Ac(i)+c),r.display&&this.ticks.length){const{first:l,last:d,widest:f,highest:p}=this._getLabelSizes(),m=r.padding*2,b=An(this.labelRotation),y=Math.cos(b),v=Math.sin(b);if(o){const N=r.mirror?0:v*f.width+y*p.height;e.height=Math.min(this.maxHeight,e.height+N+m)}else{const N=r.mirror?0:y*f.width+v*p.height;e.width=Math.min(this.maxWidth,e.width+N+m)}this._calculatePadding(l,d,v,y)}}this._handleMargins(),o?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,r,n){const{ticks:{align:i,padding:a},position:o}=this.options,c=this.labelRotation!==0,l=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let p=0,m=0;c?l?(p=n*e.width,m=r*t.height):(p=r*e.height,m=n*t.width):i==="start"?m=t.width:i==="end"?p=e.width:i!=="inner"&&(p=e.width/2,m=t.width/2),this.paddingLeft=Math.max((p-d+a)*this.width/(this.width-d),0),this.paddingRight=Math.max((m-f+a)*this.width/(this.width-f),0)}else{let d=t.height/2,f=e.height/2;i==="start"?(d=0,f=e.height):i==="end"&&(d=t.height,f=0),this.paddingTop=d+a,this.paddingBottom=f+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){yt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,r;for(t=0,r=e.length;t<r;t++)zt(e[t].label)&&(e.splice(t,1),r--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let r=this.ticks;t<r.length&&(r=_0(r,t)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,r){const{ctx:n,_longestTextCache:i}=this,a=[],o=[],c=Math.floor(t/A0(t,r));let l=0,d=0,f,p,m,b,y,v,N,w,j,C,S;for(f=0;f<t;f+=c){if(b=e[f].label,y=this._resolveTickFontOptions(f),n.font=v=y.string,N=i[v]=i[v]||{data:{},gc:[]},w=y.lineHeight,j=C=0,!zt(b)&&!Cs(b))j=Qu(n,N.data,N.gc,j,b),C=w;else if(Cs(b))for(p=0,m=b.length;p<m;++p)S=b[p],!zt(S)&&!Cs(S)&&(j=Qu(n,N.data,N.gc,j,S),C+=w);a.push(j),o.push(C),l=Math.max(j,l),d=Math.max(C,d)}Aj(i,t);const A=a.indexOf(l),U=o.indexOf(d),P=T=>({width:a[T]||0,height:o[T]||0});return{first:P(0),last:P(t-1),widest:P(A),highest:P(U),widths:a,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return dP(this._alignToPixels?La(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const r=t[e];return r.$context||(r.$context=Lj(this.getContext(),e,r))}return this.$context||(this.$context=_j(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=An(this.labelRotation),r=Math.abs(Math.cos(t)),n=Math.abs(Math.sin(t)),i=this._getLabelSizes(),a=e.autoSkipPadding||0,o=i?i.widest.width+a:0,c=i?i.highest.height+a:0;return this.isHorizontal()?c*r>o*n?o/r:c/n:c*n<o*r?c/r:o/n}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,r=this.chart,n=this.options,{grid:i,position:a,border:o}=n,c=i.offset,l=this.isHorizontal(),f=this.ticks.length+(c?1:0),p=Ac(i),m=[],b=o.setContext(this.getContext()),y=b.display?b.width:0,v=y/2,N=function(re){return La(r,re,y)};let w,j,C,S,A,U,P,T,R,E,L,F;if(a==="top")w=N(this.bottom),U=this.bottom-p,T=w-v,E=N(e.top)+v,F=e.bottom;else if(a==="bottom")w=N(this.top),E=e.top,F=N(e.bottom)-v,U=w+v,T=this.top+p;else if(a==="left")w=N(this.right),A=this.right-p,P=w-v,R=N(e.left)+v,L=e.right;else if(a==="right")w=N(this.left),R=e.left,L=N(e.right)-v,A=w+v,P=this.left+p;else if(t==="x"){if(a==="center")w=N((e.top+e.bottom)/2+.5);else if($t(a)){const re=Object.keys(a)[0],le=a[re];w=N(this.chart.scales[re].getPixelForValue(le))}E=e.top,F=e.bottom,U=w+v,T=U+p}else if(t==="y"){if(a==="center")w=N((e.left+e.right)/2);else if($t(a)){const re=Object.keys(a)[0],le=a[re];w=N(this.chart.scales[re].getPixelForValue(le))}A=w-v,P=A-p,R=e.left,L=e.right}const z=xt(n.ticks.maxTicksLimit,f),Z=Math.max(1,Math.ceil(f/z));for(j=0;j<f;j+=Z){const re=this.getContext(j),le=i.setContext(re),ee=o.setContext(re),pe=le.lineWidth,ue=le.color,te=ee.dash||[],_=ee.dashOffset,q=le.tickWidth,Y=le.tickColor,se=le.tickBorderDash||[],ne=le.tickBorderDashOffset;C=Sj(this,j,c),C!==void 0&&(S=La(r,C,pe),l?A=P=R=L=S:U=T=E=F=S,m.push({tx1:A,ty1:U,tx2:P,ty2:T,x1:R,y1:E,x2:L,y2:F,width:pe,color:ue,borderDash:te,borderDashOffset:_,tickWidth:q,tickColor:Y,tickBorderDash:se,tickBorderDashOffset:ne}))}return this._ticksLength=f,this._borderValue=w,m}_computeLabelItems(e){const t=this.axis,r=this.options,{position:n,ticks:i}=r,a=this.isHorizontal(),o=this.ticks,{align:c,crossAlign:l,padding:d,mirror:f}=i,p=Ac(r.grid),m=p+d,b=f?-d:m,y=-An(this.labelRotation),v=[];let N,w,j,C,S,A,U,P,T,R,E,L,F="middle";if(n==="top")A=this.bottom-b,U=this._getXAxisLabelAlignment();else if(n==="bottom")A=this.top+b,U=this._getXAxisLabelAlignment();else if(n==="left"){const Z=this._getYAxisLabelAlignment(p);U=Z.textAlign,S=Z.x}else if(n==="right"){const Z=this._getYAxisLabelAlignment(p);U=Z.textAlign,S=Z.x}else if(t==="x"){if(n==="center")A=(e.top+e.bottom)/2+m;else if($t(n)){const Z=Object.keys(n)[0],re=n[Z];A=this.chart.scales[Z].getPixelForValue(re)+m}U=this._getXAxisLabelAlignment()}else if(t==="y"){if(n==="center")S=(e.left+e.right)/2-m;else if($t(n)){const Z=Object.keys(n)[0],re=n[Z];S=this.chart.scales[Z].getPixelForValue(re)}U=this._getYAxisLabelAlignment(p).textAlign}t==="y"&&(c==="start"?F="top":c==="end"&&(F="bottom"));const z=this._getLabelSizes();for(N=0,w=o.length;N<w;++N){j=o[N],C=j.label;const Z=i.setContext(this.getContext(N));P=this.getPixelForTick(N)+i.labelOffset,T=this._resolveTickFontOptions(N),R=T.lineHeight,E=Cs(C)?C.length:1;const re=E/2,le=Z.color,ee=Z.textStrokeColor,pe=Z.textStrokeWidth;let ue=U;a?(S=P,U==="inner"&&(N===w-1?ue=this.options.reverse?"left":"right":N===0?ue=this.options.reverse?"right":"left":ue="center"),n==="top"?l==="near"||y!==0?L=-E*R+R/2:l==="center"?L=-z.highest.height/2-re*R+R:L=-z.highest.height+R/2:l==="near"||y!==0?L=R/2:l==="center"?L=z.highest.height/2-re*R:L=z.highest.height-E*R,f&&(L*=-1),y!==0&&!Z.showLabelBackdrop&&(S+=R/2*Math.sin(y))):(A=P,L=(1-E)*R/2);let te;if(Z.showLabelBackdrop){const _=Ar(Z.backdropPadding),q=z.heights[N],Y=z.widths[N];let se=L-_.top,ne=0-_.left;switch(F){case"middle":se-=q/2;break;case"bottom":se-=q;break}switch(U){case"center":ne-=Y/2;break;case"right":ne-=Y;break;case"inner":N===w-1?ne-=Y:N>0&&(ne-=Y/2);break}te={left:ne,top:se,width:Y+_.width,height:q+_.height,color:Z.backdropColor}}v.push({label:C,font:T,textOffset:L,options:{rotation:y,color:le,strokeColor:ee,strokeWidth:pe,textAlign:ue,textBaseline:F,translation:[S,A],backdrop:te}})}return v}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-An(this.labelRotation))return e==="top"?"left":"right";let n="center";return t.align==="start"?n="left":t.align==="end"?n="right":t.align==="inner"&&(n="inner"),n}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:r,mirror:n,padding:i}}=this.options,a=this._getLabelSizes(),o=e+i,c=a.widest.width;let l,d;return t==="left"?n?(d=this.right+i,r==="near"?l="left":r==="center"?(l="center",d+=c/2):(l="right",d+=c)):(d=this.right-o,r==="near"?l="right":r==="center"?(l="center",d-=c/2):(l="left",d=this.left)):t==="right"?n?(d=this.left+i,r==="near"?l="right":r==="center"?(l="center",d-=c/2):(l="left",d-=c)):(d=this.left+o,r==="near"?l="left":r==="center"?(l="center",d+=c/2):(l="right",d=this.right)):l="right",{textAlign:l,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:r,top:n,width:i,height:a}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(r,n,i,a),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const n=this.ticks.findIndex(i=>i.value===e);return n>=0?t.setContext(this.getContext(n)).lineWidth:0}drawGrid(e){const t=this.options.grid,r=this.ctx,n=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,a;const o=(c,l,d)=>{!d.width||!d.color||(r.save(),r.lineWidth=d.width,r.strokeStyle=d.color,r.setLineDash(d.borderDash||[]),r.lineDashOffset=d.borderDashOffset,r.beginPath(),r.moveTo(c.x,c.y),r.lineTo(l.x,l.y),r.stroke(),r.restore())};if(t.display)for(i=0,a=n.length;i<a;++i){const c=n[i];t.drawOnChartArea&&o({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),t.drawTicks&&o({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:r,grid:n}}=this,i=r.setContext(this.getContext()),a=r.display?i.width:0;if(!a)return;const o=n.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let l,d,f,p;this.isHorizontal()?(l=La(e,this.left,a)-a/2,d=La(e,this.right,o)+o/2,f=p=c):(f=La(e,this.top,a)-a/2,p=La(e,this.bottom,o)+o/2,l=d=c),t.save(),t.lineWidth=i.width,t.strokeStyle=i.color,t.beginPath(),t.moveTo(l,f),t.lineTo(d,p),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,n=this._computeLabelArea();n&&yd(r,n);const i=this.getLabelItems(e);for(const a of i){const o=a.options,c=a.font,l=a.label,d=a.textOffset;no(r,l,0,d,c,o)}n&&xd(r)}drawTitle(){const{ctx:e,options:{position:t,title:r,reverse:n}}=this;if(!r.display)return;const i=ar(r.font),a=Ar(r.padding),o=r.align;let c=i.lineHeight/2;t==="bottom"||t==="center"||$t(t)?(c+=a.bottom,Cs(r.text)&&(c+=i.lineHeight*(r.text.length-1))):c+=a.top;const{titleX:l,titleY:d,maxWidth:f,rotation:p}=Uj(this,c,t,o);no(e,r.text,0,0,i,{color:r.color,maxWidth:f,rotation:p,textAlign:Tj(o,t,n),textBaseline:"middle",translation:[l,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,r=xt(e.grid&&e.grid.z,-1),n=xt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==co.prototype.draw?[{z:t,draw:i=>{this.draw(i)}}]:[{z:r,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:n,draw:()=>{this.drawBorder()}},{z:t,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",n=[];let i,a;for(i=0,a=t.length;i<a;++i){const o=t[i];o[r]===this.id&&(!e||o.type===e)&&n.push(o)}return n}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return ar(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class fu{constructor(e,t,r){this.type=e,this.scope=t,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let r;Ij(t)&&(r=this.register(t));const n=this.items,i=e.id,a=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in n||(n[i]=e,Mj(e,a,r),this.override&&js.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const t=this.items,r=e.id,n=this.scope;r in t&&delete t[r],n&&r in js[n]&&(delete js[n][r],this.override&&delete ro[r])}}function Mj(s,e,t){const r=cl(Object.create(null),[t?js.get(t):{},js.get(e),s.defaults]);js.set(e,r),s.defaultRoutes&&Vj(e,s.defaultRoutes),s.descriptors&&js.describe(e,s.descriptors)}function Vj(s,e){Object.keys(e).forEach(t=>{const r=t.split("."),n=r.pop(),i=[s].concat(r).join("."),a=e[t].split("."),o=a.pop(),c=a.join(".");js.route(i,n,c,o)})}function Ij(s){return"id"in s&&"defaults"in s}class Rj{constructor(){this.controllers=new fu(la,"datasets",!0),this.elements=new fu(Ci,"elements"),this.plugins=new fu(Object,"plugins"),this.scales=new fu(co,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,r){[...t].forEach(n=>{const i=r||this._getRegistryForType(n);r||i.isForType(n)||i===this.plugins&&n.id?this._exec(e,i,n):Bt(n,a=>{const o=r||this._getRegistryForType(a);this._exec(e,o,a)})})}_exec(e,t,r){const n=fh(e);yt(r["before"+n],[],r),t[e](r),yt(r["after"+n],[],r)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const r=this._typedRegistries[t];if(r.isForType(e))return r}return this.plugins}_get(e,t,r){const n=t.get(e);if(n===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return n}}var Wn=new Rj;class Oj{constructor(){this._init=[]}notify(e,t,r,n){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=n?this._descriptors(e).filter(n):this._descriptors(e),a=this._notify(i,e,t,r);return t==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,t,r,n){n=n||{};for(const i of e){const a=i.plugin,o=a[r],c=[t,n,i.options];if(yt(o,c,a)===!1&&n.cancelable)return!1}return!0}invalidate(){zt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const r=e&&e.config,n=xt(r.options&&r.options.plugins,{}),i=Fj(r);return n===!1&&!t?[]:zj(e,i,n,t)}_notifyStateChanges(e){const t=this._oldCache||[],r=this._cache,n=(i,a)=>i.filter(o=>!a.some(c=>o.plugin.id===c.plugin.id));this._notify(n(t,r),e,"stop"),this._notify(n(r,t),e,"start")}}function Fj(s){const e={},t=[],r=Object.keys(Wn.plugins.items);for(let i=0;i<r.length;i++)t.push(Wn.getPlugin(r[i]));const n=s.plugins||[];for(let i=0;i<n.length;i++){const a=n[i];t.indexOf(a)===-1&&(t.push(a),e[a.id]=!0)}return{plugins:t,localIds:e}}function Bj(s,e){return!e&&s===!1?null:s===!0?{}:s}function zj(s,{plugins:e,localIds:t},r,n){const i=[],a=s.getContext();for(const o of e){const c=o.id,l=Bj(r[c],n);l!==null&&i.push({plugin:o,options:$j(s.config,{plugin:o,local:t[c]},l,a)})}return i}function $j(s,{plugin:e,local:t},r,n){const i=s.pluginScopeKeys(e),a=s.getOptionScopes(r,i);return t&&e.defaults&&a.push(e.defaults),s.createResolver(a,n,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function vf(s,e){const t=js.datasets[s]||{};return((e.datasets||{})[s]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function Wj(s,e){let t=s;return s==="_index_"?t=e:s==="_value_"&&(t=e==="x"?"y":"x"),t}function qj(s,e){return s===e?"_index_":"_value_"}function T0(s){if(s==="x"||s==="y"||s==="r")return s}function Hj(s){if(s==="top"||s==="bottom")return"x";if(s==="left"||s==="right")return"y"}function Nf(s,...e){if(T0(s))return s;for(const t of e){const r=t.axis||Hj(t.position)||s.length>1&&T0(s[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${s}' axis. Please provide 'axis' or 'position' option.`)}function U0(s,e,t){if(t[e+"AxisID"]===s)return{axis:e}}function Yj(s,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(r=>r.xAxisID===s||r.yAxisID===s);if(t.length)return U0(s,"x",t[0])||U0(s,"y",t[0])}return{}}function Gj(s,e){const t=ro[s.type]||{scales:{}},r=e.scales||{},n=vf(s.type,e),i=Object.create(null);return Object.keys(r).forEach(a=>{const o=r[a];if(!$t(o))return console.error(`Invalid scale configuration for scale: ${a}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const c=Nf(a,o,Yj(a,s),js.scales[o.type]),l=qj(c,n),d=t.scales||{};i[a]=qc(Object.create(null),[{axis:c},o,d[c],d[l]])}),s.data.datasets.forEach(a=>{const o=a.type||s.type,c=a.indexAxis||vf(o,e),d=(ro[o]||{}).scales||{};Object.keys(d).forEach(f=>{const p=Wj(f,c),m=a[p+"AxisID"]||p;i[m]=i[m]||Object.create(null),qc(i[m],[{axis:p},r[m],d[f]])})}),Object.keys(i).forEach(a=>{const o=i[a];qc(o,[js.scales[o.type],js.scale])}),i}function ax(s){const e=s.options||(s.options={});e.plugins=xt(e.plugins,{}),e.scales=Gj(s,e)}function ox(s){return s=s||{},s.datasets=s.datasets||[],s.labels=s.labels||[],s}function Kj(s){return s=s||{},s.data=ox(s.data),ax(s),s}const M0=new Map,cx=new Set;function hu(s,e){let t=M0.get(s);return t||(t=e(),M0.set(s,t),cx.add(t)),t}const _c=(s,e,t)=>{const r=ra(e,t);r!==void 0&&s.add(r)};class Xj{constructor(e){this._config=Kj(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=ox(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),ax(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return hu(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return hu(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return hu(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,r=this.type;return hu(`${r}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const r=this._scopeCache;let n=r.get(e);return(!n||t)&&(n=new Map,r.set(e,n)),n}getOptionScopes(e,t,r){const{options:n,type:i}=this,a=this._cachedScopes(e,r),o=a.get(t);if(o)return o;const c=new Set;t.forEach(d=>{e&&(c.add(e),d.forEach(f=>_c(c,e,f))),d.forEach(f=>_c(c,n,f)),d.forEach(f=>_c(c,ro[i]||{},f)),d.forEach(f=>_c(c,js,f)),d.forEach(f=>_c(c,yf,f))});const l=Array.from(c);return l.length===0&&l.push(Object.create(null)),cx.has(t)&&a.set(t,l),l}chartOptionScopes(){const{options:e,type:t}=this;return[e,ro[t]||{},js.datasets[t]||{},{type:t},js,yf]}resolveNamedOptions(e,t,r,n=[""]){const i={$shared:!0},{resolver:a,subPrefixes:o}=V0(this._resolverCache,e,n);let c=a;if(Zj(a,t)){i.$shared=!1,r=na(r)?r():r;const l=this.createResolver(e,r,o);c=Wo(a,r,l)}for(const l of t)i[l]=c[l];return i}createResolver(e,t,r=[""],n){const{resolver:i}=V0(this._resolverCache,e,r);return $t(t)?Wo(i,t,void 0,n):i}}function V0(s,e,t){let r=s.get(e);r||(r=new Map,s.set(e,r));const n=t.join();let i=r.get(n);return i||(i={resolver:xh(e,t),subPrefixes:t.filter(o=>!o.toLowerCase().includes("hover"))},r.set(n,i)),i}const Jj=s=>$t(s)&&Object.getOwnPropertyNames(s).some(e=>na(s[e]));function Zj(s,e){const{isScriptable:t,isIndexable:r}=O1(s);for(const n of e){const i=t(n),a=r(n),o=(a||i)&&s[n];if(i&&(na(o)||Jj(o))||a&&Cs(o))return!0}return!1}var Qj="4.5.0";const e3=["top","bottom","left","right","chartArea"];function I0(s,e){return s==="top"||s==="bottom"||e3.indexOf(s)===-1&&e==="x"}function R0(s,e){return function(t,r){return t[s]===r[s]?t[e]-r[e]:t[s]-r[s]}}function O0(s){const e=s.chart,t=e.options.animation;e.notifyPlugins("afterRender"),yt(t&&t.onComplete,[s],e)}function t3(s){const e=s.chart,t=e.options.animation;yt(t&&t.onProgress,[s],e)}function lx(s){return kh()&&typeof s=="string"?s=document.getElementById(s):s&&s.length&&(s=s[0]),s&&s.canvas&&(s=s.canvas),s}const zu={},F0=s=>{const e=lx(s);return Object.values(zu).filter(t=>t.canvas===e).pop()};function s3(s,e,t){const r=Object.keys(s);for(const n of r){const i=+n;if(i>=e){const a=s[n];delete s[n],(t>0||i>e)&&(s[i+t]=a)}}}function r3(s,e,t,r){return!t||s.type==="mouseout"?null:r?e:s}class $u{static defaults=js;static instances=zu;static overrides=ro;static registry=Wn;static version=Qj;static getChart=F0;static register(...e){Wn.add(...e),B0()}static unregister(...e){Wn.remove(...e),B0()}constructor(e,t){const r=this.config=new Xj(t),n=lx(e),i=F0(n);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||Nj(n)),this.platform.updateConfig(r);const o=this.platform.acquireContext(n,a.aspectRatio),c=o&&o.canvas,l=c&&c.height,d=c&&c.width;if(this.id=ZD(),this.ctx=o,this.canvas=c,this.width=d,this.height=l,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Oj,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=pP(f=>this.update(f),a.resizeDelay||0),this._dataChanges=[],zu[this.id]=this,!o||!c){console.error("Failed to create chart: can't acquire context from the given item");return}pi.listen(this,"complete",O0),pi.listen(this,"progress",t3),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:r,height:n,_aspectRatio:i}=this;return zt(e)?t&&i?i:n?r/n:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Wn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():l0(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return a0(this.canvas,this.ctx),this}stop(){return pi.stop(this),this}resize(e,t){pi.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const r=this.options,n=this.canvas,i=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(n,e,t,i),o=r.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,l0(this,o,!0)&&(this.notifyPlugins("resize",{size:a}),yt(r.onResize,[this,a],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};Bt(t,(r,n)=>{r.id=n})}buildOrUpdateScales(){const e=this.options,t=e.scales,r=this.scales,n=Object.keys(r).reduce((a,o)=>(a[o]=!1,a),{});let i=[];t&&(i=i.concat(Object.keys(t).map(a=>{const o=t[a],c=Nf(a,o),l=c==="r",d=c==="x";return{options:o,dposition:l?"chartArea":d?"bottom":"left",dtype:l?"radialLinear":d?"category":"linear"}}))),Bt(i,a=>{const o=a.options,c=o.id,l=Nf(c,o),d=xt(o.type,a.dtype);(o.position===void 0||I0(o.position,l)!==I0(a.dposition))&&(o.position=a.dposition),n[c]=!0;let f=null;if(c in r&&r[c].type===d)f=r[c];else{const p=Wn.getScale(d);f=new p({id:c,type:d,ctx:this.ctx,chart:this}),r[f.id]=f}f.init(o,e)}),Bt(n,(a,o)=>{a||delete r[o]}),Bt(r,a=>{Sr.configure(this,a,a.options),Sr.addBox(this,a)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,r=e.length;if(e.sort((n,i)=>n.index-i.index),r>t){for(let n=t;n<r;++n)this._destroyDatasetMeta(n);e.splice(t,r-t)}this._sortedMetasets=e.slice(0).sort(R0("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((r,n)=>{t.filter(i=>i===r._dataset).length===0&&this._destroyDatasetMeta(n)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let r,n;for(this._removeUnreferencedMetasets(),r=0,n=t.length;r<n;r++){const i=t[r];let a=this.getDatasetMeta(r);const o=i.type||this.config.type;if(a.type&&a.type!==o&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=o,a.indexAxis=i.indexAxis||vf(o,this.options),a.order=i.order||0,a.index=r,a.label=""+i.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{const c=Wn.getController(o),{datasetElementType:l,dataElementType:d}=js.datasets[o];Object.assign(c,{dataElementType:Wn.getElement(d),datasetElementType:l&&Wn.getElement(l)}),a.controller=new c(this,r),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){Bt(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const r=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),n=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let l=0,d=this.data.datasets.length;l<d;l++){const{controller:f}=this.getDatasetMeta(l),p=!n&&i.indexOf(f)===-1;f.buildOrUpdateElements(p),a=Math.max(+f.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),n||Bt(i,l=>{l.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(R0("z","_idx"));const{_active:o,_lastEvent:c}=this;c?this._eventHandler(c,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){Bt(this.scales,e=>{Sr.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!Jp(t,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:r,start:n,count:i}of t){const a=r==="_removeElements"?-i:i;s3(e,n,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,r=i=>new Set(e.filter(a=>a[0]===i).map((a,o)=>o+","+a.splice(1).join(","))),n=r(0);for(let i=1;i<t;i++)if(!Jp(n,r(i)))return;return Array.from(n).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Sr.update(this,this.width,this.height,e);const t=this.chartArea,r=t.width<=0||t.height<=0;this._layers=[],Bt(this.boxes,n=>{r&&n.position==="chartArea"||(n.configure&&n.configure(),this._layers.push(...n._layers()))},this),this._layers.forEach((n,i)=>{n._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,r=this.data.datasets.length;t<r;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,r=this.data.datasets.length;t<r;++t)this._updateDataset(t,na(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const r=this.getDatasetMeta(e),n={meta:r,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",n)!==!1&&(r.controller._update(t),n.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",n))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(pi.has(this)?this.attached&&!pi.running(this)&&pi.start(this):(this.draw(),O0({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:n}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,n)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,r=[];let n,i;for(n=0,i=t.length;n<i;++n){const a=t[n];(!e||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,r={meta:e,index:e.index,cancelable:!0},n=X1(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(n&&yd(t,n),e.controller.draw(),n&&xd(t),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return Hn(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,r,n){const i=ej.modes[t];return typeof i=="function"?i(this,e,r,n):[]}getDatasetMeta(e){const t=this.data.datasets[e],r=this._metasets;let n=r.filter(i=>i&&i._dataset===t).pop();return n||(n={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},r.push(n)),n}getContext(){return this.$context||(this.$context=ca(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!t.hidden}setDatasetVisibility(e,t){const r=this.getDatasetMeta(e);r.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,r){const n=r?"show":"hide",i=this.getDatasetMeta(e),a=i.controller._resolveAnimations(void 0,n);ll(t)?(i.data[t].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),a.update(i,{visible:r}),this.update(o=>o.datasetIndex===e?n:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),pi.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),a0(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete zu[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,r=(i,a)=>{t.addEventListener(this,i,a),e[i]=a},n=(i,a,o)=>{i.offsetX=a,i.offsetY=o,this._eventHandler(i)};Bt(this.options.events,i=>r(i,n))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,r=(c,l)=>{t.addEventListener(this,c,l),e[c]=l},n=(c,l)=>{e[c]&&(t.removeEventListener(this,c,l),delete e[c])},i=(c,l)=>{this.canvas&&this.resize(c,l)};let a;const o=()=>{n("attach",o),this.attached=!0,this.resize(),r("resize",i),r("detach",a)};a=()=>{this.attached=!1,n("resize",i),this._stop(),this._resize(0,0),r("attach",o)},t.isAttached(this.canvas)?o():a()}unbindEvents(){Bt(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Bt(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,r){const n=r?"set":"remove";let i,a,o,c;for(t==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+n+"DatasetHoverStyle"]()),o=0,c=e.length;o<c;++o){a=e[o];const l=a&&this.getDatasetMeta(a.datasetIndex).controller;l&&l[n+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],r=e.map(({datasetIndex:i,index:a})=>{const o=this.getDatasetMeta(i);if(!o)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:o.data[a],index:a}});!Xu(r,t)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,t))}notifyPlugins(e,t,r){return this._plugins.notify(this,e,t,r)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,r){const n=this.options.hover,i=(c,l)=>c.filter(d=>!l.some(f=>d.datasetIndex===f.datasetIndex&&d.index===f.index)),a=i(t,e),o=r?e:i(e,t);a.length&&this.updateHoverStyle(a,n.mode,!1),o.length&&n.mode&&this.updateHoverStyle(o,n.mode,!0)}_eventHandler(e,t){const r={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},n=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,n)===!1)return;const i=this._handleEvent(e,t,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,n),(i||r.changed)&&this.render(),this}_handleEvent(e,t,r){const{_active:n=[],options:i}=this,a=t,o=this._getActiveElements(e,n,r,a),c=nP(e),l=r3(e,this._lastEvent,r,c);r&&(this._lastEvent=null,yt(i.onHover,[e,o,this],this),c&&yt(i.onClick,[e,o,this],this));const d=!Xu(o,n);return(d||t)&&(this._active=o,this._updateHoverStyles(o,n,t)),this._lastEvent=l,d}_getActiveElements(e,t,r,n){if(e.type==="mouseout")return[];if(!r)return t;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,n)}}function B0(){return Bt($u.instances,s=>s._plugins.invalidate())}function n3(s,e,t){const{startAngle:r,x:n,y:i,outerRadius:a,innerRadius:o,options:c}=e,{borderWidth:l,borderJoinStyle:d}=c,f=Math.min(l/a,Er(r-t));if(s.beginPath(),s.arc(n,i,a-l/2,r+f/2,t-f/2),o>0){const p=Math.min(l/o,Er(r-t));s.arc(n,i,o+l/2,t-p/2,r+p/2,!0)}else{const p=Math.min(l/2,a*Er(r-t));if(d==="round")s.arc(n,i,p,t-Qt/2,r+Qt/2,!0);else if(d==="bevel"){const m=2*p*p,b=-m*Math.cos(t+Qt/2)+n,y=-m*Math.sin(t+Qt/2)+i,v=m*Math.cos(r+Qt/2)+n,N=m*Math.sin(r+Qt/2)+i;s.lineTo(b,y),s.lineTo(v,N)}}s.closePath(),s.moveTo(0,0),s.rect(0,0,s.canvas.width,s.canvas.height),s.clip("evenodd")}function i3(s,e,t){const{startAngle:r,pixelMargin:n,x:i,y:a,outerRadius:o,innerRadius:c}=e;let l=n/o;s.beginPath(),s.arc(i,a,o,r-l,t+l),c>n?(l=n/c,s.arc(i,a,c,t+l,r-l,!0)):s.arc(i,a,n,t+Ks,r-Ks),s.closePath(),s.clip()}function a3(s){return yh(s,["outerStart","outerEnd","innerStart","innerEnd"])}function o3(s,e,t,r){const n=a3(s.options.borderRadius),i=(t-e)/2,a=Math.min(i,r*e/2),o=c=>{const l=(t-Math.min(i,c))*r/2;return lr(c,0,Math.min(i,l))};return{outerStart:o(n.outerStart),outerEnd:o(n.outerEnd),innerStart:lr(n.innerStart,0,a),innerEnd:lr(n.innerEnd,0,a)}}function jo(s,e,t,r){return{x:t+s*Math.cos(e),y:r+s*Math.sin(e)}}function sd(s,e,t,r,n,i){const{x:a,y:o,startAngle:c,pixelMargin:l,innerRadius:d}=e,f=Math.max(e.outerRadius+r+t-l,0),p=d>0?d+r+t+l:0;let m=0;const b=n-c;if(r){const Z=d>0?d-r:0,re=f>0?f-r:0,le=(Z+re)/2,ee=le!==0?b*le/(le+r):b;m=(b-ee)/2}const y=Math.max(.001,b*f-t/Qt)/f,v=(b-y)/2,N=c+v+m,w=n-v-m,{outerStart:j,outerEnd:C,innerStart:S,innerEnd:A}=o3(e,p,f,w-N),U=f-j,P=f-C,T=N+j/U,R=w-C/P,E=p+S,L=p+A,F=N+S/E,z=w-A/L;if(s.beginPath(),i){const Z=(T+R)/2;if(s.arc(a,o,f,T,Z),s.arc(a,o,f,Z,R),C>0){const pe=jo(P,R,a,o);s.arc(pe.x,pe.y,C,R,w+Ks)}const re=jo(L,w,a,o);if(s.lineTo(re.x,re.y),A>0){const pe=jo(L,z,a,o);s.arc(pe.x,pe.y,A,w+Ks,z+Math.PI)}const le=(w-A/p+(N+S/p))/2;if(s.arc(a,o,p,w-A/p,le,!0),s.arc(a,o,p,le,N+S/p,!0),S>0){const pe=jo(E,F,a,o);s.arc(pe.x,pe.y,S,F+Math.PI,N-Ks)}const ee=jo(U,N,a,o);if(s.lineTo(ee.x,ee.y),j>0){const pe=jo(U,T,a,o);s.arc(pe.x,pe.y,j,N-Ks,T)}}else{s.moveTo(a,o);const Z=Math.cos(T)*f+a,re=Math.sin(T)*f+o;s.lineTo(Z,re);const le=Math.cos(R)*f+a,ee=Math.sin(R)*f+o;s.lineTo(le,ee)}s.closePath()}function c3(s,e,t,r,n){const{fullCircles:i,startAngle:a,circumference:o}=e;let c=e.endAngle;if(i){sd(s,e,t,r,c,n);for(let l=0;l<i;++l)s.fill();isNaN(o)||(c=a+(o%Ns||Ns))}return sd(s,e,t,r,c,n),s.fill(),c}function l3(s,e,t,r,n){const{fullCircles:i,startAngle:a,circumference:o,options:c}=e,{borderWidth:l,borderJoinStyle:d,borderDash:f,borderDashOffset:p,borderRadius:m}=c,b=c.borderAlign==="inner";if(!l)return;s.setLineDash(f||[]),s.lineDashOffset=p,b?(s.lineWidth=l*2,s.lineJoin=d||"round"):(s.lineWidth=l,s.lineJoin=d||"bevel");let y=e.endAngle;if(i){sd(s,e,t,r,y,n);for(let v=0;v<i;++v)s.stroke();isNaN(o)||(y=a+(o%Ns||Ns))}b&&i3(s,e,y),c.selfJoin&&y-a>=Qt&&m===0&&d!=="miter"&&n3(s,e,y),i||(sd(s,e,t,r,y,n),s.stroke())}class u3 extends Ci{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,r){const n=this.getProps(["x","y"],r),{angle:i,distance:a}=S1(n,{x:e,y:t}),{startAngle:o,endAngle:c,innerRadius:l,outerRadius:d,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),p=(this.options.spacing+this.options.borderWidth)/2,m=xt(f,c-o),b=ul(i,o,c)&&o!==c,y=m>=Ns||b,v=Ni(a,l+p,d+p);return y&&v}getCenterPoint(e){const{x:t,y:r,startAngle:n,endAngle:i,innerRadius:a,outerRadius:o}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:c,spacing:l}=this.options,d=(n+i)/2,f=(a+o+l+c)/2;return{x:t+Math.cos(d)*f,y:r+Math.sin(d)*f}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:r}=this,n=(t.offset||0)/4,i=(t.spacing||0)/2,a=t.circular;if(this.pixelMargin=t.borderAlign==="inner"?.33:0,this.fullCircles=r>Ns?Math.floor(r/Ns):0,r===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const o=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(o)*n,Math.sin(o)*n);const c=1-Math.sin(Math.min(Qt,r||0)),l=n*c;e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,c3(e,this,l,i,a),l3(e,this,l,i,a),e.restore()}}function ux(s,e,t=e){s.lineCap=xt(t.borderCapStyle,e.borderCapStyle),s.setLineDash(xt(t.borderDash,e.borderDash)),s.lineDashOffset=xt(t.borderDashOffset,e.borderDashOffset),s.lineJoin=xt(t.borderJoinStyle,e.borderJoinStyle),s.lineWidth=xt(t.borderWidth,e.borderWidth),s.strokeStyle=xt(t.borderColor,e.borderColor)}function d3(s,e,t){s.lineTo(t.x,t.y)}function m3(s){return s.stepped?jP:s.tension||s.cubicInterpolationMode==="monotone"?EP:d3}function dx(s,e,t={}){const r=s.length,{start:n=0,end:i=r-1}=t,{start:a,end:o}=e,c=Math.max(n,a),l=Math.min(i,o),d=n<a&&i<a||n>o&&i>o;return{count:r,start:c,loop:e.loop,ilen:l<c&&!d?r+l-c:l-c}}function f3(s,e,t,r){const{points:n,options:i}=e,{count:a,start:o,loop:c,ilen:l}=dx(n,t,r),d=m3(i);let{move:f=!0,reverse:p}=r||{},m,b,y;for(m=0;m<=l;++m)b=n[(o+(p?l-m:m))%a],!b.skip&&(f?(s.moveTo(b.x,b.y),f=!1):d(s,y,b,p,i.stepped),y=b);return c&&(b=n[(o+(p?l:0))%a],d(s,y,b,p,i.stepped)),!!c}function h3(s,e,t,r){const n=e.points,{count:i,start:a,ilen:o}=dx(n,t,r),{move:c=!0,reverse:l}=r||{};let d=0,f=0,p,m,b,y,v,N;const w=C=>(a+(l?o-C:C))%i,j=()=>{y!==v&&(s.lineTo(d,v),s.lineTo(d,y),s.lineTo(d,N))};for(c&&(m=n[w(0)],s.moveTo(m.x,m.y)),p=0;p<=o;++p){if(m=n[w(p)],m.skip)continue;const C=m.x,S=m.y,A=C|0;A===b?(S<y?y=S:S>v&&(v=S),d=(f*d+C)/++f):(j(),s.lineTo(C,S),b=A,f=0,y=v=S),N=S}j()}function kf(s){const e=s.options,t=e.borderDash&&e.borderDash.length;return!s._decimated&&!s._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?h3:f3}function p3(s){return s.stepped?aC:s.tension||s.cubicInterpolationMode==="monotone"?oC:Ma}function g3(s,e,t,r){let n=e._path;n||(n=e._path=new Path2D,e.path(n,t,r)&&n.closePath()),ux(s,e.options),s.stroke(n)}function b3(s,e,t,r){const{segments:n,options:i}=e,a=kf(e);for(const o of n)ux(s,i,o.style),s.beginPath(),a(s,e,o,{start:t,end:t+r-1})&&s.closePath(),s.stroke()}const y3=typeof Path2D=="function";function x3(s,e,t,r){y3&&!e.options.segment?g3(s,e,t,r):b3(s,e,t,r)}class kd extends Ci{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const n=r.spanGaps?this._loop:this._fullLoop;ZP(this._points,r,e,n,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=fC(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,r=e.length;return r&&t[e[r-1].end]}interpolate(e,t){const r=this.options,n=e[t],i=this.points,a=K1(this,{property:t,start:n,end:n});if(!a.length)return;const o=[],c=p3(r);let l,d;for(l=0,d=a.length;l<d;++l){const{start:f,end:p}=a[l],m=i[f],b=i[p];if(m===b){o.push(m);continue}const y=Math.abs((n-m[t])/(b[t]-m[t])),v=c(m,b,y,r.stepped);v[t]=e[t],o.push(v)}return o.length===1?o[0]:o}pathSegment(e,t,r){return kf(this)(e,this,t,r)}path(e,t,r){const n=this.segments,i=kf(this);let a=this._loop;t=t||0,r=r||this.points.length-t;for(const o of n)a&=i(e,this,o,{start:t,end:t+r-1});return!!a}draw(e,t,r,n){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),x3(e,this,r,n),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function z0(s,e,t,r){const n=s.options,{[t]:i}=s.getProps([t],r);return Math.abs(e-i)<n.radius+n.hitRadius}class v3 extends Ci{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,r){const n=this.options,{x:i,y:a}=this.getProps(["x","y"],r);return Math.pow(e-i,2)+Math.pow(t-a,2)<Math.pow(n.hitRadius+n.radius,2)}inXRange(e,t){return z0(this,e,"x",t)}inYRange(e,t){return z0(this,e,"y",t)}getCenterPoint(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}size(e){e=e||this.options||{};let t=e.radius||0;t=Math.max(t,t&&e.hoverRadius||0);const r=t&&e.borderWidth||0;return(t+r)*2}draw(e,t){const r=this.options;this.skip||r.radius<.1||!Hn(this,t,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,xf(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function mx(s,e){const{x:t,y:r,base:n,width:i,height:a}=s.getProps(["x","y","base","width","height"],e);let o,c,l,d,f;return s.horizontal?(f=a/2,o=Math.min(t,n),c=Math.max(t,n),l=r-f,d=r+f):(f=i/2,o=t-f,c=t+f,l=Math.min(r,n),d=Math.max(r,n)),{left:o,top:l,right:c,bottom:d}}function Ji(s,e,t,r){return s?0:lr(e,t,r)}function N3(s,e,t){const r=s.options.borderWidth,n=s.borderSkipped,i=R1(r);return{t:Ji(n.top,i.top,0,t),r:Ji(n.right,i.right,0,e),b:Ji(n.bottom,i.bottom,0,t),l:Ji(n.left,i.left,0,e)}}function k3(s,e,t){const{enableBorderRadius:r}=s.getProps(["enableBorderRadius"]),n=s.options.borderRadius,i=qa(n),a=Math.min(e,t),o=s.borderSkipped,c=r||$t(n);return{topLeft:Ji(!c||o.top||o.left,i.topLeft,0,a),topRight:Ji(!c||o.top||o.right,i.topRight,0,a),bottomLeft:Ji(!c||o.bottom||o.left,i.bottomLeft,0,a),bottomRight:Ji(!c||o.bottom||o.right,i.bottomRight,0,a)}}function w3(s){const e=mx(s),t=e.right-e.left,r=e.bottom-e.top,n=N3(s,t/2,r/2),i=k3(s,t/2,r/2);return{outer:{x:e.left,y:e.top,w:t,h:r,radius:i},inner:{x:e.left+n.l,y:e.top+n.t,w:t-n.l-n.r,h:r-n.t-n.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(n.t,n.l)),topRight:Math.max(0,i.topRight-Math.max(n.t,n.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(n.b,n.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(n.b,n.r))}}}}function xm(s,e,t,r){const n=e===null,i=t===null,o=s&&!(n&&i)&&mx(s,r);return o&&(n||Ni(e,o.left,o.right))&&(i||Ni(t,o.top,o.bottom))}function D3(s){return s.topLeft||s.topRight||s.bottomLeft||s.bottomRight}function P3(s,e){s.rect(e.x,e.y,e.w,e.h)}function vm(s,e,t={}){const r=s.x!==t.x?-e:0,n=s.y!==t.y?-e:0,i=(s.x+s.w!==t.x+t.w?e:0)-r,a=(s.y+s.h!==t.y+t.h?e:0)-n;return{x:s.x+r,y:s.y+n,w:s.w+i,h:s.h+a,radius:s.radius}}class C3 extends Ci{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:r,backgroundColor:n}}=this,{inner:i,outer:a}=w3(this),o=D3(a.radius)?dl:P3;e.save(),(a.w!==i.w||a.h!==i.h)&&(e.beginPath(),o(e,vm(a,t,i)),e.clip(),o(e,vm(i,-t,a)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),o(e,vm(i,t)),e.fillStyle=n,e.fill(),e.restore()}inRange(e,t,r){return xm(this,e,t,r)}inXRange(e,t){return xm(this,e,null,t)}inYRange(e,t){return xm(this,null,e,t)}getCenterPoint(e){const{x:t,y:r,base:n,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(t+n)/2:t,y:i?r:(r+n)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}var j3=Object.freeze({__proto__:null,ArcElement:u3,BarElement:C3,LineElement:kd,PointElement:v3});const wf=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],$0=wf.map(s=>s.replace("rgb(","rgba(").replace(")",", 0.5)"));function fx(s){return wf[s%wf.length]}function hx(s){return $0[s%$0.length]}function E3(s,e){return s.borderColor=fx(e),s.backgroundColor=hx(e),++e}function S3(s,e){return s.backgroundColor=s.data.map(()=>fx(e++)),e}function A3(s,e){return s.backgroundColor=s.data.map(()=>hx(e++)),e}function _3(s){let e=0;return(t,r)=>{const n=s.getDatasetMeta(r).controller;n instanceof Dh?e=S3(t,e):n instanceof ex?e=A3(t,e):n&&(e=E3(t,e))}}function W0(s){let e;for(e in s)if(s[e].borderColor||s[e].backgroundColor)return!0;return!1}function L3(s){return s&&(s.borderColor||s.backgroundColor)}function T3(){return js.borderColor!=="rgba(0,0,0,0.1)"||js.backgroundColor!=="rgba(0,0,0,0.1)"}var U3={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(s,e,t){if(!t.enabled)return;const{data:{datasets:r},options:n}=s.config,{elements:i}=n,a=W0(r)||L3(n)||i&&W0(i)||T3();if(!t.forceOverride&&a)return;const o=_3(s);r.forEach(o)}};function M3(s,e,t,r,n){const i=n.samples||r;if(i>=t)return s.slice(e,e+t);const a=[],o=(t-2)/(i-2);let c=0;const l=e+t-1;let d=e,f,p,m,b,y;for(a[c++]=s[d],f=0;f<i-2;f++){let v=0,N=0,w;const j=Math.floor((f+1)*o)+1+e,C=Math.min(Math.floor((f+2)*o)+1,t)+e,S=C-j;for(w=j;w<C;w++)v+=s[w].x,N+=s[w].y;v/=S,N/=S;const A=Math.floor(f*o)+1+e,U=Math.min(Math.floor((f+1)*o)+1,t)+e,{x:P,y:T}=s[d];for(m=b=-1,w=A;w<U;w++)b=.5*Math.abs((P-v)*(s[w].y-T)-(P-s[w].x)*(N-T)),b>m&&(m=b,p=s[w],y=w);a[c++]=p,d=y}return a[c++]=s[l],a}function V3(s,e,t,r){let n=0,i=0,a,o,c,l,d,f,p,m,b,y;const v=[],N=e+t-1,w=s[e].x,C=s[N].x-w;for(a=e;a<e+t;++a){o=s[a],c=(o.x-w)/C*r,l=o.y;const S=c|0;if(S===d)l<b?(b=l,f=a):l>y&&(y=l,p=a),n=(i*n+o.x)/++i;else{const A=a-1;if(!zt(f)&&!zt(p)){const U=Math.min(f,p),P=Math.max(f,p);U!==m&&U!==A&&v.push({...s[U],x:n}),P!==m&&P!==A&&v.push({...s[P],x:n})}a>0&&A!==m&&v.push(s[A]),v.push(o),d=S,i=0,b=y=l,f=p=m=a}}return v}function px(s){if(s._decimated){const e=s._data;delete s._decimated,delete s._data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function q0(s){s.data.datasets.forEach(e=>{px(e)})}function I3(s,e){const t=e.length;let r=0,n;const{iScale:i}=s,{min:a,max:o,minDefined:c,maxDefined:l}=i.getUserBounds();return c&&(r=lr(ki(e,i.axis,a).lo,0,t-1)),l?n=lr(ki(e,i.axis,o).hi+1,r,t)-r:n=t-r,{start:r,count:n}}var R3={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(s,e,t)=>{if(!t.enabled){q0(s);return}const r=s.width;s.data.datasets.forEach((n,i)=>{const{_data:a,indexAxis:o}=n,c=s.getDatasetMeta(i),l=a||n.data;if(Oc([o,s.options.indexAxis])==="y"||!c.controller.supportsDecimation)return;const d=s.scales[c.xAxisID];if(d.type!=="linear"&&d.type!=="time"||s.options.parsing)return;let{start:f,count:p}=I3(c,l);const m=t.threshold||4*r;if(p<=m){px(n);return}zt(a)&&(n._data=l,delete n.data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(y){this._data=y}}));let b;switch(t.algorithm){case"lttb":b=M3(l,f,p,r,t);break;case"min-max":b=V3(l,f,p,r);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}n._decimated=b})},destroy(s){q0(s)}};function O3(s,e,t){const r=s.segments,n=s.points,i=e.points,a=[];for(const o of r){let{start:c,end:l}=o;l=wd(c,l,n);const d=Df(t,n[c],n[l],o.loop);if(!e.segments){a.push({source:o,target:d,start:n[c],end:n[l]});continue}const f=K1(e,d);for(const p of f){const m=Df(t,i[p.start],i[p.end],p.loop),b=G1(o,n,m);for(const y of b)a.push({source:y,target:p,start:{[t]:H0(d,m,"start",Math.max)},end:{[t]:H0(d,m,"end",Math.min)}})}}return a}function Df(s,e,t,r){if(r)return;let n=e[s],i=t[s];return s==="angle"&&(n=Er(n),i=Er(i)),{property:s,start:n,end:i}}function F3(s,e){const{x:t=null,y:r=null}=s||{},n=e.points,i=[];return e.segments.forEach(({start:a,end:o})=>{o=wd(a,o,n);const c=n[a],l=n[o];r!==null?(i.push({x:c.x,y:r}),i.push({x:l.x,y:r})):t!==null&&(i.push({x:t,y:c.y}),i.push({x:t,y:l.y}))}),i}function wd(s,e,t){for(;e>s;e--){const r=t[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function H0(s,e,t,r){return s&&e?r(s[t],e[t]):s?s[t]:e?e[t]:0}function gx(s,e){let t=[],r=!1;return Cs(s)?(r=!0,t=s):t=F3(s,e),t.length?new kd({points:t,options:{tension:0},_loop:r,_fullLoop:r}):null}function Y0(s){return s&&s.fill!==!1}function B3(s,e,t){let n=s[e].fill;const i=[e];let a;if(!t)return n;for(;n!==!1&&i.indexOf(n)===-1;){if(!Rs(n))return n;if(a=s[n],!a)return!1;if(a.visible)return n;i.push(n),n=a.fill}return!1}function z3(s,e,t){const r=H3(s);if($t(r))return isNaN(r.value)?!1:r;let n=parseFloat(r);return Rs(n)&&Math.floor(n)===n?$3(r[0],e,n,t):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function $3(s,e,t,r){return(s==="-"||s==="+")&&(t=e+t),t===e||t<0||t>=r?!1:t}function W3(s,e){let t=null;return s==="start"?t=e.bottom:s==="end"?t=e.top:$t(s)?t=e.getPixelForValue(s.value):e.getBasePixel&&(t=e.getBasePixel()),t}function q3(s,e,t){let r;return s==="start"?r=t:s==="end"?r=e.options.reverse?e.min:e.max:$t(s)?r=s.value:r=e.getBaseValue(),r}function H3(s){const e=s.options,t=e.fill;let r=xt(t&&t.target,t);return r===void 0&&(r=!!e.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function Y3(s){const{scale:e,index:t,line:r}=s,n=[],i=r.segments,a=r.points,o=G3(e,t);o.push(gx({x:null,y:e.bottom},r));for(let c=0;c<i.length;c++){const l=i[c];for(let d=l.start;d<=l.end;d++)K3(n,a[d],o)}return new kd({points:n,options:{}})}function G3(s,e){const t=[],r=s.getMatchingVisibleMetas("line");for(let n=0;n<r.length;n++){const i=r[n];if(i.index===e)break;i.hidden||t.unshift(i.dataset)}return t}function K3(s,e,t){const r=[];for(let n=0;n<t.length;n++){const i=t[n],{first:a,last:o,point:c}=X3(i,e,"x");if(!(!c||a&&o)){if(a)r.unshift(c);else if(s.push(c),!o)break}}s.push(...r)}function X3(s,e,t){const r=s.interpolate(e,t);if(!r)return{};const n=r[t],i=s.segments,a=s.points;let o=!1,c=!1;for(let l=0;l<i.length;l++){const d=i[l],f=a[d.start][t],p=a[d.end][t];if(Ni(n,f,p)){o=n===f,c=n===p;break}}return{first:o,last:c,point:r}}class bx{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,r){const{x:n,y:i,radius:a}=this;return t=t||{start:0,end:Ns},e.arc(n,i,a,t.end,t.start,!0),!r.bounds}interpolate(e){const{x:t,y:r,radius:n}=this,i=e.angle;return{x:t+Math.cos(i)*n,y:r+Math.sin(i)*n,angle:i}}}function J3(s){const{chart:e,fill:t,line:r}=s;if(Rs(t))return Z3(e,t);if(t==="stack")return Y3(s);if(t==="shape")return!0;const n=Q3(s);return n instanceof bx?n:gx(n,r)}function Z3(s,e){const t=s.getDatasetMeta(e);return t&&s.isDatasetVisible(e)?t.dataset:null}function Q3(s){return(s.scale||{}).getPointPositionForValue?tE(s):eE(s)}function eE(s){const{scale:e={},fill:t}=s,r=W3(t,e);if(Rs(r)){const n=e.isHorizontal();return{x:n?r:null,y:n?null:r}}return null}function tE(s){const{scale:e,fill:t}=s,r=e.options,n=e.getLabels().length,i=r.reverse?e.max:e.min,a=q3(t,e,i),o=[];if(r.grid.circular){const c=e.getPointPositionForValue(0,i);return new bx({x:c.x,y:c.y,radius:e.getDistanceFromCenterForValue(a)})}for(let c=0;c<n;++c)o.push(e.getPointPositionForValue(c,a));return o}function Nm(s,e,t){const r=J3(e),{chart:n,index:i,line:a,scale:o,axis:c}=e,l=a.options,d=l.fill,f=l.backgroundColor,{above:p=f,below:m=f}=d||{},b=n.getDatasetMeta(i),y=X1(n,b);r&&a.points.length&&(yd(s,t),sE(s,{line:a,target:r,above:p,below:m,area:t,scale:o,axis:c,clip:y}),xd(s))}function sE(s,e){const{line:t,target:r,above:n,below:i,area:a,scale:o,clip:c}=e,l=t._loop?"angle":e.axis;s.save();let d=i;i!==n&&(l==="x"?(G0(s,r,a.top),km(s,{line:t,target:r,color:n,scale:o,property:l,clip:c}),s.restore(),s.save(),G0(s,r,a.bottom)):l==="y"&&(K0(s,r,a.left),km(s,{line:t,target:r,color:i,scale:o,property:l,clip:c}),s.restore(),s.save(),K0(s,r,a.right),d=n)),km(s,{line:t,target:r,color:d,scale:o,property:l,clip:c}),s.restore()}function G0(s,e,t){const{segments:r,points:n}=e;let i=!0,a=!1;s.beginPath();for(const o of r){const{start:c,end:l}=o,d=n[c],f=n[wd(c,l,n)];i?(s.moveTo(d.x,d.y),i=!1):(s.lineTo(d.x,t),s.lineTo(d.x,d.y)),a=!!e.pathSegment(s,o,{move:a}),a?s.closePath():s.lineTo(f.x,t)}s.lineTo(e.first().x,t),s.closePath(),s.clip()}function K0(s,e,t){const{segments:r,points:n}=e;let i=!0,a=!1;s.beginPath();for(const o of r){const{start:c,end:l}=o,d=n[c],f=n[wd(c,l,n)];i?(s.moveTo(d.x,d.y),i=!1):(s.lineTo(t,d.y),s.lineTo(d.x,d.y)),a=!!e.pathSegment(s,o,{move:a}),a?s.closePath():s.lineTo(t,f.y)}s.lineTo(t,e.first().y),s.closePath(),s.clip()}function km(s,e){const{line:t,target:r,property:n,color:i,scale:a,clip:o}=e,c=O3(t,r,n);for(const{source:l,target:d,start:f,end:p}of c){const{style:{backgroundColor:m=i}={}}=l,b=r!==!0;s.save(),s.fillStyle=m,rE(s,a,o,b&&Df(n,f,p)),s.beginPath();const y=!!t.pathSegment(s,l);let v;if(b){y?s.closePath():X0(s,r,p,n);const N=!!r.pathSegment(s,d,{move:y,reverse:!0});v=y&&N,v||X0(s,r,f,n)}s.closePath(),s.fill(v?"evenodd":"nonzero"),s.restore()}}function rE(s,e,t,r){const n=e.chart.chartArea,{property:i,start:a,end:o}=r||{};if(i==="x"||i==="y"){let c,l,d,f;i==="x"?(c=a,l=n.top,d=o,f=n.bottom):(c=n.left,l=a,d=n.right,f=o),s.beginPath(),t&&(c=Math.max(c,t.left),d=Math.min(d,t.right),l=Math.max(l,t.top),f=Math.min(f,t.bottom)),s.rect(c,l,d-c,f-l),s.clip()}}function X0(s,e,t,r){const n=e.interpolate(t,r);n&&s.lineTo(n.x,n.y)}var nE={id:"filler",afterDatasetsUpdate(s,e,t){const r=(s.data.datasets||[]).length,n=[];let i,a,o,c;for(a=0;a<r;++a)i=s.getDatasetMeta(a),o=i.dataset,c=null,o&&o.options&&o instanceof kd&&(c={visible:s.isDatasetVisible(a),index:a,fill:z3(o,a,r),chart:s,axis:i.controller.options.indexAxis,scale:i.vScale,line:o}),i.$filler=c,n.push(c);for(a=0;a<r;++a)c=n[a],!(!c||c.fill===!1)&&(c.fill=B3(n,a,t.propagate))},beforeDraw(s,e,t){const r=t.drawTime==="beforeDraw",n=s.getSortedVisibleDatasetMetas(),i=s.chartArea;for(let a=n.length-1;a>=0;--a){const o=n[a].$filler;o&&(o.line.updateControlPoints(i,o.axis),r&&o.fill&&Nm(s.ctx,o,i))}},beforeDatasetsDraw(s,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;const r=s.getSortedVisibleDatasetMetas();for(let n=r.length-1;n>=0;--n){const i=r[n].$filler;Y0(i)&&Nm(s.ctx,i,s.chartArea)}},beforeDatasetDraw(s,e,t){const r=e.meta.$filler;!Y0(r)||t.drawTime!=="beforeDatasetDraw"||Nm(s.ctx,r,s.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const J0=(s,e)=>{let{boxHeight:t=e,boxWidth:r=e}=s;return s.usePointStyle&&(t=Math.min(t,e),r=s.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:t,itemHeight:Math.max(e,t)}},iE=(s,e)=>s!==null&&e!==null&&s.datasetIndex===e.datasetIndex&&s.index===e.index;class Z0 extends Ci{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,r){this.maxWidth=e,this.maxHeight=t,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=yt(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(r=>e.filter(r,this.chart.data))),e.sort&&(t=t.sort((r,n)=>e.sort(r,n,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,n=ar(r.font),i=n.size,a=this._computeTitleHeight(),{boxWidth:o,itemHeight:c}=J0(r,i);let l,d;t.font=n.string,this.isHorizontal()?(l=this.maxWidth,d=this._fitRows(a,i,o,c)+10):(d=this.maxHeight,l=this._fitCols(a,n,o,c)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,t,r,n){const{ctx:i,maxWidth:a,options:{labels:{padding:o}}}=this,c=this.legendHitBoxes=[],l=this.lineWidths=[0],d=n+o;let f=e;i.textAlign="left",i.textBaseline="middle";let p=-1,m=-d;return this.legendItems.forEach((b,y)=>{const v=r+t/2+i.measureText(b.text).width;(y===0||l[l.length-1]+v+2*o>a)&&(f+=d,l[l.length-(y>0?0:1)]=0,m+=d,p++),c[y]={left:0,top:m,row:p,width:v,height:n},l[l.length-1]+=v+o}),f}_fitCols(e,t,r,n){const{ctx:i,maxHeight:a,options:{labels:{padding:o}}}=this,c=this.legendHitBoxes=[],l=this.columnSizes=[],d=a-e;let f=o,p=0,m=0,b=0,y=0;return this.legendItems.forEach((v,N)=>{const{itemWidth:w,itemHeight:j}=aE(r,t,i,v,n);N>0&&m+j+2*o>d&&(f+=p+o,l.push({width:p,height:m}),b+=p+o,y++,p=m=0),c[N]={left:b,top:m,col:y,width:w,height:j},p=Math.max(p,w),m+=j+o}),f+=p,l.push({width:p,height:m}),f}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:r,labels:{padding:n},rtl:i}}=this,a=Fo(i,this.left,this.width);if(this.isHorizontal()){let o=0,c=jr(r,this.left+n,this.right-this.lineWidths[o]);for(const l of t)o!==l.row&&(o=l.row,c=jr(r,this.left+n,this.right-this.lineWidths[o])),l.top+=this.top+e+n,l.left=a.leftForLtr(a.x(c),l.width),c+=l.width+n}else{let o=0,c=jr(r,this.top+e+n,this.bottom-this.columnSizes[o].height);for(const l of t)l.col!==o&&(o=l.col,c=jr(r,this.top+e+n,this.bottom-this.columnSizes[o].height)),l.top=c,l.left+=this.left+n,l.left=a.leftForLtr(a.x(l.left),l.width),c+=l.height+n}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;yd(e,this),this._draw(),xd(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:r,ctx:n}=this,{align:i,labels:a}=e,o=js.color,c=Fo(e.rtl,this.left,this.width),l=ar(a.font),{padding:d}=a,f=l.size,p=f/2;let m;this.drawTitle(),n.textAlign=c.textAlign("left"),n.textBaseline="middle",n.lineWidth=.5,n.font=l.string;const{boxWidth:b,boxHeight:y,itemHeight:v}=J0(a,f),N=function(A,U,P){if(isNaN(b)||b<=0||isNaN(y)||y<0)return;n.save();const T=xt(P.lineWidth,1);if(n.fillStyle=xt(P.fillStyle,o),n.lineCap=xt(P.lineCap,"butt"),n.lineDashOffset=xt(P.lineDashOffset,0),n.lineJoin=xt(P.lineJoin,"miter"),n.lineWidth=T,n.strokeStyle=xt(P.strokeStyle,o),n.setLineDash(xt(P.lineDash,[])),a.usePointStyle){const R={radius:y*Math.SQRT2/2,pointStyle:P.pointStyle,rotation:P.rotation,borderWidth:T},E=c.xPlus(A,b/2),L=U+p;I1(n,R,E,L,a.pointStyleWidth&&b)}else{const R=U+Math.max((f-y)/2,0),E=c.leftForLtr(A,b),L=qa(P.borderRadius);n.beginPath(),Object.values(L).some(F=>F!==0)?dl(n,{x:E,y:R,w:b,h:y,radius:L}):n.rect(E,R,b,y),n.fill(),T!==0&&n.stroke()}n.restore()},w=function(A,U,P){no(n,P.text,A,U+v/2,l,{strikethrough:P.hidden,textAlign:c.textAlign(P.textAlign)})},j=this.isHorizontal(),C=this._computeTitleHeight();j?m={x:jr(i,this.left+d,this.right-r[0]),y:this.top+d+C,line:0}:m={x:this.left+d,y:jr(i,this.top+C+d,this.bottom-t[0].height),line:0},q1(this.ctx,e.textDirection);const S=v+d;this.legendItems.forEach((A,U)=>{n.strokeStyle=A.fontColor,n.fillStyle=A.fontColor;const P=n.measureText(A.text).width,T=c.textAlign(A.textAlign||(A.textAlign=a.textAlign)),R=b+p+P;let E=m.x,L=m.y;c.setWidth(this.width),j?U>0&&E+R+d>this.right&&(L=m.y+=S,m.line++,E=m.x=jr(i,this.left+d,this.right-r[m.line])):U>0&&L+S>this.bottom&&(E=m.x=E+t[m.line].width+d,m.line++,L=m.y=jr(i,this.top+C+d,this.bottom-t[m.line].height));const F=c.x(E);if(N(F,L,A),E=gP(T,E+b+p,j?E+R:this.right,e.rtl),w(c.x(E),L,A),j)m.x+=R+d;else if(typeof A.text!="string"){const z=l.lineHeight;m.y+=yx(A,z)+d}else m.y+=S}),H1(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,r=ar(t.font),n=Ar(t.padding);if(!t.display)return;const i=Fo(e.rtl,this.left,this.width),a=this.ctx,o=t.position,c=r.size/2,l=n.top+c;let d,f=this.left,p=this.width;if(this.isHorizontal())p=Math.max(...this.lineWidths),d=this.top+l,f=jr(e.align,f,this.right-p);else{const b=this.columnSizes.reduce((y,v)=>Math.max(y,v.height),0);d=l+jr(e.align,this.top,this.bottom-b-e.labels.padding-this._computeTitleHeight())}const m=jr(o,f,f+p);a.textAlign=i.textAlign(gh(o)),a.textBaseline="middle",a.strokeStyle=t.color,a.fillStyle=t.color,a.font=r.string,no(a,t.text,m,d,r)}_computeTitleHeight(){const e=this.options.title,t=ar(e.font),r=Ar(e.padding);return e.display?t.lineHeight+r.height:0}_getLegendItemAt(e,t){let r,n,i;if(Ni(e,this.left,this.right)&&Ni(t,this.top,this.bottom)){for(i=this.legendHitBoxes,r=0;r<i.length;++r)if(n=i[r],Ni(e,n.left,n.left+n.width)&&Ni(t,n.top,n.top+n.height))return this.legendItems[r]}return null}handleEvent(e){const t=this.options;if(!lE(e.type,t))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const n=this._hoveredItem,i=iE(n,r);n&&!i&&yt(t.onLeave,[e,n,this],this),this._hoveredItem=r,r&&!i&&yt(t.onHover,[e,r,this],this)}else r&&yt(t.onClick,[e,r,this],this)}}function aE(s,e,t,r,n){const i=oE(r,s,e,t),a=cE(n,r,e.lineHeight);return{itemWidth:i,itemHeight:a}}function oE(s,e,t,r){let n=s.text;return n&&typeof n!="string"&&(n=n.reduce((i,a)=>i.length>a.length?i:a)),e+t.size/2+r.measureText(n).width}function cE(s,e,t){let r=s;return typeof e.text!="string"&&(r=yx(e,t)),r}function yx(s,e){const t=s.text?s.text.length:0;return e*t}function lE(s,e){return!!((s==="mousemove"||s==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(s==="click"||s==="mouseup"))}var uE={id:"legend",_element:Z0,start(s,e,t){const r=s.legend=new Z0({ctx:s.ctx,options:t,chart:s});Sr.configure(s,r,t),Sr.addBox(s,r)},stop(s){Sr.removeBox(s,s.legend),delete s.legend},beforeUpdate(s,e,t){const r=s.legend;Sr.configure(s,r,t),r.options=t},afterUpdate(s){const e=s.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(s,e){e.replay||s.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(s,e,t){const r=e.datasetIndex,n=t.chart;n.isDatasetVisible(r)?(n.hide(r),e.hidden=!0):(n.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:s=>s.chart.options.color,boxWidth:40,padding:10,generateLabels(s){const e=s.data.datasets,{labels:{usePointStyle:t,pointStyle:r,textAlign:n,color:i,useBorderRadius:a,borderRadius:o}}=s.legend.options;return s._getSortedDatasetMetas().map(c=>{const l=c.controller.getStyle(t?0:void 0),d=Ar(l.borderWidth);return{text:e[c.index].label,fillStyle:l.backgroundColor,fontColor:i,hidden:!c.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:l.borderColor,pointStyle:r||l.pointStyle,rotation:l.rotation,textAlign:n||l.textAlign,borderRadius:a&&(o||l.borderRadius),datasetIndex:c.index}},this)}},title:{color:s=>s.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:s=>!s.startsWith("on"),labels:{_scriptable:s=>!["generateLabels","filter","sort"].includes(s)}}};class Ch extends Ci{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const n=Cs(r.text)?r.text.length:1;this._padding=Ar(r.padding);const i=n*ar(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:r,bottom:n,right:i,options:a}=this,o=a.align;let c=0,l,d,f;return this.isHorizontal()?(d=jr(o,r,i),f=t+e,l=i-r):(a.position==="left"?(d=r+e,f=jr(o,n,t),c=Qt*-.5):(d=i-e,f=jr(o,t,n),c=Qt*.5),l=n-t),{titleX:d,titleY:f,maxWidth:l,rotation:c}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const r=ar(t.font),i=r.lineHeight/2+this._padding.top,{titleX:a,titleY:o,maxWidth:c,rotation:l}=this._drawArgs(i);no(e,t.text,0,0,r,{color:t.color,maxWidth:c,rotation:l,textAlign:gh(t.align),textBaseline:"middle",translation:[a,o]})}}function dE(s,e){const t=new Ch({ctx:s.ctx,options:e,chart:s});Sr.configure(s,t,e),Sr.addBox(s,t),s.titleBlock=t}var mE={id:"title",_element:Ch,start(s,e,t){dE(s,t)},stop(s){const e=s.titleBlock;Sr.removeBox(s,e),delete s.titleBlock},beforeUpdate(s,e,t){const r=s.titleBlock;Sr.configure(s,r,t),r.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const pu=new WeakMap;var fE={id:"subtitle",start(s,e,t){const r=new Ch({ctx:s.ctx,options:t,chart:s});Sr.configure(s,r,t),Sr.addBox(s,r),pu.set(s,r)},stop(s){Sr.removeBox(s,pu.get(s)),pu.delete(s)},beforeUpdate(s,e,t){const r=pu.get(s);Sr.configure(s,r,t),r.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Bc={average(s){if(!s.length)return!1;let e,t,r=new Set,n=0,i=0;for(e=0,t=s.length;e<t;++e){const o=s[e].element;if(o&&o.hasValue()){const c=o.tooltipPosition();r.add(c.x),n+=c.y,++i}}return i===0||r.size===0?!1:{x:[...r].reduce((o,c)=>o+c)/r.size,y:n/i}},nearest(s,e){if(!s.length)return!1;let t=e.x,r=e.y,n=Number.POSITIVE_INFINITY,i,a,o;for(i=0,a=s.length;i<a;++i){const c=s[i].element;if(c&&c.hasValue()){const l=c.getCenterPoint(),d=bf(e,l);d<n&&(n=d,o=c)}}if(o){const c=o.tooltipPosition();t=c.x,r=c.y}return{x:t,y:r}}};function zn(s,e){return e&&(Cs(e)?Array.prototype.push.apply(s,e):s.push(e)),s}function gi(s){return(typeof s=="string"||s instanceof String)&&s.indexOf(`
`)>-1?s.split(`
`):s}function hE(s,e){const{element:t,datasetIndex:r,index:n}=e,i=s.getDatasetMeta(r).controller,{label:a,value:o}=i.getLabelAndValue(n);return{chart:s,label:a,parsed:i.getParsed(n),raw:s.data.datasets[r].data[n],formattedValue:o,dataset:i.getDataset(),dataIndex:n,datasetIndex:r,element:t}}function Q0(s,e){const t=s.chart.ctx,{body:r,footer:n,title:i}=s,{boxWidth:a,boxHeight:o}=e,c=ar(e.bodyFont),l=ar(e.titleFont),d=ar(e.footerFont),f=i.length,p=n.length,m=r.length,b=Ar(e.padding);let y=b.height,v=0,N=r.reduce((C,S)=>C+S.before.length+S.lines.length+S.after.length,0);if(N+=s.beforeBody.length+s.afterBody.length,f&&(y+=f*l.lineHeight+(f-1)*e.titleSpacing+e.titleMarginBottom),N){const C=e.displayColors?Math.max(o,c.lineHeight):c.lineHeight;y+=m*C+(N-m)*c.lineHeight+(N-1)*e.bodySpacing}p&&(y+=e.footerMarginTop+p*d.lineHeight+(p-1)*e.footerSpacing);let w=0;const j=function(C){v=Math.max(v,t.measureText(C).width+w)};return t.save(),t.font=l.string,Bt(s.title,j),t.font=c.string,Bt(s.beforeBody.concat(s.afterBody),j),w=e.displayColors?a+2+e.boxPadding:0,Bt(r,C=>{Bt(C.before,j),Bt(C.lines,j),Bt(C.after,j)}),w=0,t.font=d.string,Bt(s.footer,j),t.restore(),v+=b.width,{width:v,height:y}}function pE(s,e){const{y:t,height:r}=e;return t<r/2?"top":t>s.height-r/2?"bottom":"center"}function gE(s,e,t,r){const{x:n,width:i}=r,a=t.caretSize+t.caretPadding;if(s==="left"&&n+i+a>e.width||s==="right"&&n-i-a<0)return!0}function bE(s,e,t,r){const{x:n,width:i}=t,{width:a,chartArea:{left:o,right:c}}=s;let l="center";return r==="center"?l=n<=(o+c)/2?"left":"right":n<=i/2?l="left":n>=a-i/2&&(l="right"),gE(l,s,e,t)&&(l="center"),l}function eg(s,e,t){const r=t.yAlign||e.yAlign||pE(s,t);return{xAlign:t.xAlign||e.xAlign||bE(s,e,t,r),yAlign:r}}function yE(s,e){let{x:t,width:r}=s;return e==="right"?t-=r:e==="center"&&(t-=r/2),t}function xE(s,e,t){let{y:r,height:n}=s;return e==="top"?r+=t:e==="bottom"?r-=n+t:r-=n/2,r}function tg(s,e,t,r){const{caretSize:n,caretPadding:i,cornerRadius:a}=s,{xAlign:o,yAlign:c}=t,l=n+i,{topLeft:d,topRight:f,bottomLeft:p,bottomRight:m}=qa(a);let b=yE(e,o);const y=xE(e,c,l);return c==="center"?o==="left"?b+=l:o==="right"&&(b-=l):o==="left"?b-=Math.max(d,p)+n:o==="right"&&(b+=Math.max(f,m)+n),{x:lr(b,0,r.width-e.width),y:lr(y,0,r.height-e.height)}}function gu(s,e,t){const r=Ar(t.padding);return e==="center"?s.x+s.width/2:e==="right"?s.x+s.width-r.right:s.x+r.left}function sg(s){return zn([],gi(s))}function vE(s,e,t){return ca(s,{tooltip:e,tooltipItems:t,type:"tooltip"})}function rg(s,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?s.override(t):s}const xx={beforeTitle:di,title(s){if(s.length>0){const e=s[0],t=e.chart.data.labels,r=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return t[e.dataIndex]}return""},afterTitle:di,beforeBody:di,beforeLabel:di,label(s){if(this&&this.options&&this.options.mode==="dataset")return s.label+": "+s.formattedValue||s.formattedValue;let e=s.dataset.label||"";e&&(e+=": ");const t=s.formattedValue;return zt(t)||(e+=t),e},labelColor(s){const t=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(s){const t=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:di,afterBody:di,beforeFooter:di,footer:di,afterFooter:di};function qr(s,e,t,r){const n=s[e].call(t,r);return typeof n>"u"?xx[e].call(t,r):n}class ng extends Ci{static positioners=Bc;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,r=this.options.setContext(this.getContext()),n=r.enabled&&t.options.animation&&r.animations,i=new J1(this.chart,n);return n._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=vE(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:r}=t,n=qr(r,"beforeTitle",this,e),i=qr(r,"title",this,e),a=qr(r,"afterTitle",this,e);let o=[];return o=zn(o,gi(n)),o=zn(o,gi(i)),o=zn(o,gi(a)),o}getBeforeBody(e,t){return sg(qr(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:r}=t,n=[];return Bt(e,i=>{const a={before:[],lines:[],after:[]},o=rg(r,i);zn(a.before,gi(qr(o,"beforeLabel",this,i))),zn(a.lines,qr(o,"label",this,i)),zn(a.after,gi(qr(o,"afterLabel",this,i))),n.push(a)}),n}getAfterBody(e,t){return sg(qr(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:r}=t,n=qr(r,"beforeFooter",this,e),i=qr(r,"footer",this,e),a=qr(r,"afterFooter",this,e);let o=[];return o=zn(o,gi(n)),o=zn(o,gi(i)),o=zn(o,gi(a)),o}_createItems(e){const t=this._active,r=this.chart.data,n=[],i=[],a=[];let o=[],c,l;for(c=0,l=t.length;c<l;++c)o.push(hE(this.chart,t[c]));return e.filter&&(o=o.filter((d,f,p)=>e.filter(d,f,p,r))),e.itemSort&&(o=o.sort((d,f)=>e.itemSort(d,f,r))),Bt(o,d=>{const f=rg(e.callbacks,d);n.push(qr(f,"labelColor",this,d)),i.push(qr(f,"labelPointStyle",this,d)),a.push(qr(f,"labelTextColor",this,d))}),this.labelColors=n,this.labelPointStyles=i,this.labelTextColors=a,this.dataPoints=o,o}update(e,t){const r=this.options.setContext(this.getContext()),n=this._active;let i,a=[];if(!n.length)this.opacity!==0&&(i={opacity:0});else{const o=Bc[r.position].call(this,n,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);const c=this._size=Q0(this,r),l=Object.assign({},o,c),d=eg(this.chart,r,l),f=tg(r,l,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,i={opacity:1,x:f.x,y:f.y,width:c.width,height:c.height,caretX:o.x,caretY:o.y}}this._tooltipItems=a,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,r,n){const i=this.getCaretPosition(e,r,n);t.lineTo(i.x1,i.y1),t.lineTo(i.x2,i.y2),t.lineTo(i.x3,i.y3)}getCaretPosition(e,t,r){const{xAlign:n,yAlign:i}=this,{caretSize:a,cornerRadius:o}=r,{topLeft:c,topRight:l,bottomLeft:d,bottomRight:f}=qa(o),{x:p,y:m}=e,{width:b,height:y}=t;let v,N,w,j,C,S;return i==="center"?(C=m+y/2,n==="left"?(v=p,N=v-a,j=C+a,S=C-a):(v=p+b,N=v+a,j=C-a,S=C+a),w=v):(n==="left"?N=p+Math.max(c,d)+a:n==="right"?N=p+b-Math.max(l,f)-a:N=this.caretX,i==="top"?(j=m,C=j-a,v=N-a,w=N+a):(j=m+y,C=j+a,v=N+a,w=N-a),S=j),{x1:v,x2:N,x3:w,y1:j,y2:C,y3:S}}drawTitle(e,t,r){const n=this.title,i=n.length;let a,o,c;if(i){const l=Fo(r.rtl,this.x,this.width);for(e.x=gu(this,r.titleAlign,r),t.textAlign=l.textAlign(r.titleAlign),t.textBaseline="middle",a=ar(r.titleFont),o=r.titleSpacing,t.fillStyle=r.titleColor,t.font=a.string,c=0;c<i;++c)t.fillText(n[c],l.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+o,c+1===i&&(e.y+=r.titleMarginBottom-o)}}_drawColorBox(e,t,r,n,i){const a=this.labelColors[r],o=this.labelPointStyles[r],{boxHeight:c,boxWidth:l}=i,d=ar(i.bodyFont),f=gu(this,"left",i),p=n.x(f),m=c<d.lineHeight?(d.lineHeight-c)/2:0,b=t.y+m;if(i.usePointStyle){const y={radius:Math.min(l,c)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},v=n.leftForLtr(p,l)+l/2,N=b+c/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,xf(e,y,v,N),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,xf(e,y,v,N)}else{e.lineWidth=$t(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const y=n.leftForLtr(p,l),v=n.leftForLtr(n.xPlus(p,1),l-2),N=qa(a.borderRadius);Object.values(N).some(w=>w!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,dl(e,{x:y,y:b,w:l,h:c,radius:N}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),dl(e,{x:v,y:b+1,w:l-2,h:c-2,radius:N}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(y,b,l,c),e.strokeRect(y,b,l,c),e.fillStyle=a.backgroundColor,e.fillRect(v,b+1,l-2,c-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,t,r){const{body:n}=this,{bodySpacing:i,bodyAlign:a,displayColors:o,boxHeight:c,boxWidth:l,boxPadding:d}=r,f=ar(r.bodyFont);let p=f.lineHeight,m=0;const b=Fo(r.rtl,this.x,this.width),y=function(P){t.fillText(P,b.x(e.x+m),e.y+p/2),e.y+=p+i},v=b.textAlign(a);let N,w,j,C,S,A,U;for(t.textAlign=a,t.textBaseline="middle",t.font=f.string,e.x=gu(this,v,r),t.fillStyle=r.bodyColor,Bt(this.beforeBody,y),m=o&&v!=="right"?a==="center"?l/2+d:l+2+d:0,C=0,A=n.length;C<A;++C){for(N=n[C],w=this.labelTextColors[C],t.fillStyle=w,Bt(N.before,y),j=N.lines,o&&j.length&&(this._drawColorBox(t,e,C,b,r),p=Math.max(f.lineHeight,c)),S=0,U=j.length;S<U;++S)y(j[S]),p=f.lineHeight;Bt(N.after,y)}m=0,p=f.lineHeight,Bt(this.afterBody,y),e.y-=i}drawFooter(e,t,r){const n=this.footer,i=n.length;let a,o;if(i){const c=Fo(r.rtl,this.x,this.width);for(e.x=gu(this,r.footerAlign,r),e.y+=r.footerMarginTop,t.textAlign=c.textAlign(r.footerAlign),t.textBaseline="middle",a=ar(r.footerFont),t.fillStyle=r.footerColor,t.font=a.string,o=0;o<i;++o)t.fillText(n[o],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+r.footerSpacing}}drawBackground(e,t,r,n){const{xAlign:i,yAlign:a}=this,{x:o,y:c}=e,{width:l,height:d}=r,{topLeft:f,topRight:p,bottomLeft:m,bottomRight:b}=qa(n.cornerRadius);t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.beginPath(),t.moveTo(o+f,c),a==="top"&&this.drawCaret(e,t,r,n),t.lineTo(o+l-p,c),t.quadraticCurveTo(o+l,c,o+l,c+p),a==="center"&&i==="right"&&this.drawCaret(e,t,r,n),t.lineTo(o+l,c+d-b),t.quadraticCurveTo(o+l,c+d,o+l-b,c+d),a==="bottom"&&this.drawCaret(e,t,r,n),t.lineTo(o+m,c+d),t.quadraticCurveTo(o,c+d,o,c+d-m),a==="center"&&i==="left"&&this.drawCaret(e,t,r,n),t.lineTo(o,c+f),t.quadraticCurveTo(o,c,o+f,c),t.closePath(),t.fill(),n.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,r=this.$animations,n=r&&r.x,i=r&&r.y;if(n||i){const a=Bc[e.position].call(this,this._active,this._eventPosition);if(!a)return;const o=this._size=Q0(this,e),c=Object.assign({},a,this._size),l=eg(t,e,c),d=tg(e,c,l,t);(n._to!==d.x||i._to!==d.y)&&(this.xAlign=l.xAlign,this.yAlign=l.yAlign,this.width=o.width,this.height=o.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(t);const n={width:this.width,height:this.height},i={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const a=Ar(t.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&o&&(e.save(),e.globalAlpha=r,this.drawBackground(i,e,n,t),q1(e,t.textDirection),i.y+=a.top,this.drawTitle(i,e,t),this.drawBody(i,e,t),this.drawFooter(i,e,t),H1(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const r=this._active,n=e.map(({datasetIndex:o,index:c})=>{const l=this.chart.getDatasetMeta(o);if(!l)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:l.data[c],index:c}}),i=!Xu(r,n),a=this._positionChanged(n,t);(i||a)&&(this._active=n,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,r=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const n=this.options,i=this._active||[],a=this._getActiveElements(e,i,t,r),o=this._positionChanged(a,e),c=t||!Xu(a,i)||o;return c&&(this._active=a,(n.enabled||n.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),c}_getActiveElements(e,t,r,n){const i=this.options;if(e.type==="mouseout")return[];if(!n)return t.filter(o=>this.chart.data.datasets[o.datasetIndex]&&this.chart.getDatasetMeta(o.datasetIndex).controller.getParsed(o.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,i.mode,i,r);return i.reverse&&a.reverse(),a}_positionChanged(e,t){const{caretX:r,caretY:n,options:i}=this,a=Bc[i.position].call(this,e,t);return a!==!1&&(r!==a.x||n!==a.y)}}var NE={id:"tooltip",_element:ng,positioners:Bc,afterInit(s,e,t){t&&(s.tooltip=new ng({chart:s,options:t}))},beforeUpdate(s,e,t){s.tooltip&&s.tooltip.initialize(t)},reset(s,e,t){s.tooltip&&s.tooltip.initialize(t)},afterDraw(s){const e=s.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(s.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(s.ctx),s.notifyPlugins("afterTooltipDraw",t)}},afterEvent(s,e){if(s.tooltip){const t=e.replay;s.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(s,e)=>e.bodyFont.size,boxWidth:(s,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:xx},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:s=>s!=="filter"&&s!=="itemSort"&&s!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},kE=Object.freeze({__proto__:null,Colors:U3,Decimation:R3,Filler:nE,Legend:uE,SubTitle:fE,Title:mE,Tooltip:NE});const wE=(s,e,t,r)=>(typeof e=="string"?(t=s.push(e)-1,r.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function DE(s,e,t,r){const n=s.indexOf(e);if(n===-1)return wE(s,e,t,r);const i=s.lastIndexOf(e);return n!==i?t:n}const PE=(s,e)=>s===null?null:lr(Math.round(s),0,e);function ig(s){const e=this.getLabels();return s>=0&&s<e.length?e[s]:s}class CE extends co{static id="category";static defaults={ticks:{callback:ig}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const r=this.getLabels();for(const{index:n,label:i}of t)r[n]===i&&r.splice(n,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(zt(e))return null;const r=this.getLabels();return t=isFinite(t)&&r[t]===e?t:DE(r,e,xt(t,e),this._addedLabels),PE(t,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:r,max:n}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),t||(n=this.getLabels().length-1)),this.min=r,this.max=n}buildTicks(){const e=this.min,t=this.max,r=this.options.offset,n=[];let i=this.getLabels();i=e===0&&t===i.length-1?i:i.slice(e,t+1),this._valueRange=Math.max(i.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=e;a<=t;a++)n.push({value:a});return n}getLabelForValue(e){return ig.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function jE(s,e){const t=[],{bounds:n,step:i,min:a,max:o,precision:c,count:l,maxTicks:d,maxDigits:f,includeBounds:p}=s,m=i||1,b=d-1,{min:y,max:v}=e,N=!zt(a),w=!zt(o),j=!zt(l),C=(v-y)/(f+1);let S=Qp((v-y)/b/m)*m,A,U,P,T;if(S<1e-14&&!N&&!w)return[{value:y},{value:v}];T=Math.ceil(v/S)-Math.floor(y/S),T>b&&(S=Qp(T*S/b/m)*m),zt(c)||(A=Math.pow(10,c),S=Math.ceil(S*A)/A),n==="ticks"?(U=Math.floor(y/S)*S,P=Math.ceil(v/S)*S):(U=y,P=v),N&&w&&i&&lP((o-a)/i,S/1e3)?(T=Math.round(Math.min((o-a)/S,d)),S=(o-a)/T,U=a,P=o):j?(U=N?a:U,P=w?o:P,T=l-1,S=(P-U)/T):(T=(P-U)/S,Wa(T,Math.round(T),S/1e3)?T=Math.round(T):T=Math.ceil(T));const R=Math.max(e0(S),e0(U));A=Math.pow(10,zt(c)?R:c),U=Math.round(U*A)/A,P=Math.round(P*A)/A;let E=0;for(N&&(p&&U!==a?(t.push({value:a}),U<a&&E++,Wa(Math.round((U+E*S)*A)/A,a,ag(a,C,s))&&E++):U<a&&E++);E<T;++E){const L=Math.round((U+E*S)*A)/A;if(w&&L>o)break;t.push({value:L})}return w&&p&&P!==o?t.length&&Wa(t[t.length-1].value,o,ag(o,C,s))?t[t.length-1].value=o:t.push({value:o}):(!w||P===o)&&t.push({value:P}),t}function ag(s,e,{horizontal:t,minRotation:r}){const n=An(r),i=(t?Math.sin(n):Math.cos(n))||.001,a=.75*e*(""+s).length;return Math.min(e/i,a)}class rd extends co{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return zt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:r}=this.getUserBounds();let{min:n,max:i}=this;const a=c=>n=t?n:c,o=c=>i=r?i:c;if(e){const c=xn(n),l=xn(i);c<0&&l<0?o(0):c>0&&l>0&&a(0)}if(n===i){let c=i===0?1:Math.abs(i*.05);o(i+c),e||a(n-c)}this.min=n,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:r}=e,n;return r?(n=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,n>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${n} ticks. Limiting to 1000.`),n=1e3)):(n=this.computeTickLimit(),t=t||11),t&&(n=Math.min(t,n)),n}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const n={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},i=this._range||this,a=jE(n,i);return e.bounds==="ticks"&&E1(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let t=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const n=(r-t)/Math.max(e.length-1,1)/2;t-=n,r+=n}this._startValue=t,this._endValue=r,this._valueRange=r-t}getLabelForValue(e){return Pl(e,this.chart.options.locale,this.options.ticks.format)}}class EE extends rd{static id="linear";static defaults={ticks:{callback:bd.formatters.numeric}};determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Rs(e)?e:0,this.max=Rs(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,r=An(this.options.ticks.minRotation),n=(e?Math.sin(r):Math.cos(r))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,i.lineHeight/n))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const fl=s=>Math.floor(Xi(s)),Ua=(s,e)=>Math.pow(10,fl(s)+e);function og(s){return s/Math.pow(10,fl(s))===1}function cg(s,e,t){const r=Math.pow(10,t),n=Math.floor(s/r);return Math.ceil(e/r)-n}function SE(s,e){const t=e-s;let r=fl(t);for(;cg(s,e,r)>10;)r++;for(;cg(s,e,r)<10;)r--;return Math.min(r,fl(s))}function AE(s,{min:e,max:t}){e=cn(s.min,e);const r=[],n=fl(e);let i=SE(e,t),a=i<0?Math.pow(10,Math.abs(i)):1;const o=Math.pow(10,i),c=n>i?Math.pow(10,n):0,l=Math.round((e-c)*a)/a,d=Math.floor((e-c)/o/10)*o*10;let f=Math.floor((l-d)/Math.pow(10,i)),p=cn(s.min,Math.round((c+d+f*Math.pow(10,i))*a)/a);for(;p<t;)r.push({value:p,major:og(p),significand:f}),f>=10?f=f<15?15:20:f++,f>=20&&(i++,f=2,a=i>=0?1:a),p=Math.round((c+d+f*Math.pow(10,i))*a)/a;const m=cn(s.max,p);return r.push({value:m,major:og(m),significand:f}),r}class _E extends co{static id="logarithmic";static defaults={ticks:{callback:bd.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const r=rd.prototype.parse.apply(this,[e,t]);if(r===0){this._zero=!0;return}return Rs(r)&&r>0?r:null}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Rs(e)?Math.max(0,e):null,this.max=Rs(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Rs(this._userMin)&&(this.min=e===Ua(this.min,0)?Ua(this.min,-1):Ua(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let r=this.min,n=this.max;const i=o=>r=e?r:o,a=o=>n=t?n:o;r===n&&(r<=0?(i(1),a(10)):(i(Ua(r,-1)),a(Ua(n,1)))),r<=0&&i(Ua(n,-1)),n<=0&&a(Ua(r,1)),this.min=r,this.max=n}buildTicks(){const e=this.options,t={min:this._userMin,max:this._userMax},r=AE(t,this);return e.bounds==="ticks"&&E1(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(e){return e===void 0?"0":Pl(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Xi(e),this._valueRange=Xi(this.max)-Xi(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Xi(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function Pf(s){const e=s.ticks;if(e.display&&s.display){const t=Ar(e.backdropPadding);return xt(e.font&&e.font.size,js.font.size)+t.height}return 0}function LE(s,e,t){return t=Cs(t)?t:[t],{w:CP(s,e.string,t),h:t.length*e.lineHeight}}function lg(s,e,t,r,n){return s===r||s===n?{start:e-t/2,end:e+t/2}:s<r||s>n?{start:e-t,end:e}:{start:e,end:e+t}}function TE(s){const e={l:s.left+s._padding.left,r:s.right-s._padding.right,t:s.top+s._padding.top,b:s.bottom-s._padding.bottom},t=Object.assign({},e),r=[],n=[],i=s._pointLabels.length,a=s.options.pointLabels,o=a.centerPointLabels?Qt/i:0;for(let c=0;c<i;c++){const l=a.setContext(s.getPointLabelContext(c));n[c]=l.padding;const d=s.getPointPosition(c,s.drawingArea+n[c],o),f=ar(l.font),p=LE(s.ctx,f,s._pointLabels[c]);r[c]=p;const m=Er(s.getIndexAngle(c)+o),b=Math.round(hh(m)),y=lg(b,d.x,p.w,0,180),v=lg(b,d.y,p.h,90,270);UE(t,e,m,y,v)}s.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),s._pointLabelItems=IE(s,r,n)}function UE(s,e,t,r,n){const i=Math.abs(Math.sin(t)),a=Math.abs(Math.cos(t));let o=0,c=0;r.start<e.l?(o=(e.l-r.start)/i,s.l=Math.min(s.l,e.l-o)):r.end>e.r&&(o=(r.end-e.r)/i,s.r=Math.max(s.r,e.r+o)),n.start<e.t?(c=(e.t-n.start)/a,s.t=Math.min(s.t,e.t-c)):n.end>e.b&&(c=(n.end-e.b)/a,s.b=Math.max(s.b,e.b+c))}function ME(s,e,t){const r=s.drawingArea,{extra:n,additionalAngle:i,padding:a,size:o}=t,c=s.getPointPosition(e,r+n+a,i),l=Math.round(hh(Er(c.angle+Ks))),d=FE(c.y,o.h,l),f=RE(l),p=OE(c.x,o.w,f);return{visible:!0,x:c.x,y:d,textAlign:f,left:p,top:d,right:p+o.w,bottom:d+o.h}}function VE(s,e){if(!e)return!0;const{left:t,top:r,right:n,bottom:i}=s;return!(Hn({x:t,y:r},e)||Hn({x:t,y:i},e)||Hn({x:n,y:r},e)||Hn({x:n,y:i},e))}function IE(s,e,t){const r=[],n=s._pointLabels.length,i=s.options,{centerPointLabels:a,display:o}=i.pointLabels,c={extra:Pf(i)/2,additionalAngle:a?Qt/n:0};let l;for(let d=0;d<n;d++){c.padding=t[d],c.size=e[d];const f=ME(s,d,c);r.push(f),o==="auto"&&(f.visible=VE(f,l),f.visible&&(l=f))}return r}function RE(s){return s===0||s===180?"center":s<180?"left":"right"}function OE(s,e,t){return t==="right"?s-=e:t==="center"&&(s-=e/2),s}function FE(s,e,t){return t===90||t===270?s-=e/2:(t>270||t<90)&&(s-=e),s}function BE(s,e,t){const{left:r,top:n,right:i,bottom:a}=t,{backdropColor:o}=e;if(!zt(o)){const c=qa(e.borderRadius),l=Ar(e.backdropPadding);s.fillStyle=o;const d=r-l.left,f=n-l.top,p=i-r+l.width,m=a-n+l.height;Object.values(c).some(b=>b!==0)?(s.beginPath(),dl(s,{x:d,y:f,w:p,h:m,radius:c}),s.fill()):s.fillRect(d,f,p,m)}}function zE(s,e){const{ctx:t,options:{pointLabels:r}}=s;for(let n=e-1;n>=0;n--){const i=s._pointLabelItems[n];if(!i.visible)continue;const a=r.setContext(s.getPointLabelContext(n));BE(t,a,i);const o=ar(a.font),{x:c,y:l,textAlign:d}=i;no(t,s._pointLabels[n],c,l+o.lineHeight/2,o,{color:a.color,textAlign:d,textBaseline:"middle"})}}function vx(s,e,t,r){const{ctx:n}=s;if(t)n.arc(s.xCenter,s.yCenter,e,0,Ns);else{let i=s.getPointPosition(0,e);n.moveTo(i.x,i.y);for(let a=1;a<r;a++)i=s.getPointPosition(a,e),n.lineTo(i.x,i.y)}}function $E(s,e,t,r,n){const i=s.ctx,a=e.circular,{color:o,lineWidth:c}=e;!a&&!r||!o||!c||t<0||(i.save(),i.strokeStyle=o,i.lineWidth=c,i.setLineDash(n.dash||[]),i.lineDashOffset=n.dashOffset,i.beginPath(),vx(s,t,a,r),i.closePath(),i.stroke(),i.restore())}function WE(s,e,t){return ca(s,{label:t,index:e,type:"pointLabel"})}class qE extends rd{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:bd.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Ar(Pf(this.options)/2),t=this.width=this.maxWidth-e.width,r=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+r/2+e.top),this.drawingArea=Math.floor(Math.min(t,r)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=Rs(e)&&!isNaN(e)?e:0,this.max=Rs(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Pf(this.options))}generateTickLabels(e){rd.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,r)=>{const n=yt(this.options.pointLabels.callback,[t,r],this);return n||n===0?n:""}).filter((t,r)=>this.chart.getDataVisibility(r))}fit(){const e=this.options;e.display&&e.pointLabels.display?TE(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,r,n){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((r-n)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,r,n))}getIndexAngle(e){const t=Ns/(this._pointLabels.length||1),r=this.options.startAngle||0;return Er(e*t+An(r))}getDistanceFromCenterForValue(e){if(zt(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(zt(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const r=t[e];return WE(this.getContext(),e,r)}}getPointPosition(e,t,r=0){const n=this.getIndexAngle(e)-Ks+r;return{x:Math.cos(n)*t+this.xCenter,y:Math.sin(n)*t+this.yCenter,angle:n}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:r,right:n,bottom:i}=this._pointLabelItems[e];return{left:t,top:r,right:n,bottom:i}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const r=this.ctx;r.save(),r.beginPath(),vx(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),r.closePath(),r.fillStyle=e,r.fill(),r.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:r,grid:n,border:i}=t,a=this._pointLabels.length;let o,c,l;if(t.pointLabels.display&&zE(this,a),n.display&&this.ticks.forEach((d,f)=>{if(f!==0||f===0&&this.min<0){c=this.getDistanceFromCenterForValue(d.value);const p=this.getContext(f),m=n.setContext(p),b=i.setContext(p);$E(this,m,c,a,b)}}),r.display){for(e.save(),o=a-1;o>=0;o--){const d=r.setContext(this.getPointLabelContext(o)),{color:f,lineWidth:p}=d;!p||!f||(e.lineWidth=p,e.strokeStyle=f,e.setLineDash(d.borderDash),e.lineDashOffset=d.borderDashOffset,c=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),l=this.getPointPosition(o,c),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,r=t.ticks;if(!r.display)return;const n=this.getIndexAngle(0);let i,a;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(n),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((o,c)=>{if(c===0&&this.min>=0&&!t.reverse)return;const l=r.setContext(this.getContext(c)),d=ar(l.font);if(i=this.getDistanceFromCenterForValue(this.ticks[c].value),l.showLabelBackdrop){e.font=d.string,a=e.measureText(o.label).width,e.fillStyle=l.backdropColor;const f=Ar(l.backdropPadding);e.fillRect(-a/2-f.left,-i-d.size/2-f.top,a+f.width,d.size+f.height)}no(e,o.label,0,-i,d,{color:l.color,strokeColor:l.textStrokeColor,strokeWidth:l.textStrokeWidth})}),e.restore()}drawTitle(){}}const Dd={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Yr=Object.keys(Dd);function ug(s,e){return s-e}function dg(s,e){if(zt(e))return null;const t=s._adapter,{parser:r,round:n,isoWeekday:i}=s._parseOpts;let a=e;return typeof r=="function"&&(a=r(a)),Rs(a)||(a=typeof r=="string"?t.parse(a,r):t.parse(a)),a===null?null:(n&&(a=n==="week"&&($o(i)||i===!0)?t.startOf(a,"isoWeek",i):t.startOf(a,n)),+a)}function mg(s,e,t,r){const n=Yr.length;for(let i=Yr.indexOf(s);i<n-1;++i){const a=Dd[Yr[i]],o=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((t-e)/(o*a.size))<=r)return Yr[i]}return Yr[n-1]}function HE(s,e,t,r,n){for(let i=Yr.length-1;i>=Yr.indexOf(t);i--){const a=Yr[i];if(Dd[a].common&&s._adapter.diff(n,r,a)>=e-1)return a}return Yr[t?Yr.indexOf(t):0]}function YE(s){for(let e=Yr.indexOf(s)+1,t=Yr.length;e<t;++e)if(Dd[Yr[e]].common)return Yr[e]}function fg(s,e,t){if(!t)s[e]=!0;else if(t.length){const{lo:r,hi:n}=ph(t,e),i=t[r]>=e?t[r]:t[n];s[i]=!0}}function GE(s,e,t,r){const n=s._adapter,i=+n.startOf(e[0].value,r),a=e[e.length-1].value;let o,c;for(o=i;o<=a;o=+n.add(o,1,r))c=t[o],c>=0&&(e[c].major=!0);return e}function hg(s,e,t){const r=[],n={},i=e.length;let a,o;for(a=0;a<i;++a)o=e[a],n[o]=a,r.push({value:o,major:!1});return i===0||!t?r:GE(s,r,n,t)}class Cf extends co{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const r=e.time||(e.time={}),n=this._adapter=new KC._date(e.adapters.date);n.init(t),qc(r.displayFormats,n.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:dg(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,r=e.time.unit||"day";let{min:n,max:i,minDefined:a,maxDefined:o}=this.getUserBounds();function c(l){!a&&!isNaN(l.min)&&(n=Math.min(n,l.min)),!o&&!isNaN(l.max)&&(i=Math.max(i,l.max))}(!a||!o)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),n=Rs(n)&&!isNaN(n)?n:+t.startOf(Date.now(),r),i=Rs(i)&&!isNaN(i)?i:+t.endOf(Date.now(),r)+1,this.min=Math.min(n,i-1),this.max=Math.max(n+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],r=e[e.length-1]),{min:t,max:r}}buildTicks(){const e=this.options,t=e.time,r=e.ticks,n=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&n.length&&(this.min=this._userMin||n[0],this.max=this._userMax||n[n.length-1]);const i=this.min,a=this.max,o=fP(n,i,a);return this._unit=t.unit||(r.autoSkip?mg(t.minUnit,this.min,this.max,this._getLabelCapacity(i)):HE(this,o.length,t.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:YE(this._unit),this.initOffsets(n),e.reverse&&o.reverse(),hg(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,r=0,n,i;this.options.offset&&e.length&&(n=this.getDecimalForValue(e[0]),e.length===1?t=1-n:t=(this.getDecimalForValue(e[1])-n)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?r=i:r=(i-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;t=lr(t,0,a),r=lr(r,0,a),this._offsets={start:t,end:r,factor:1/(t+1+r)}}_generate(){const e=this._adapter,t=this.min,r=this.max,n=this.options,i=n.time,a=i.unit||mg(i.minUnit,t,r,this._getLabelCapacity(t)),o=xt(n.ticks.stepSize,1),c=a==="week"?i.isoWeekday:!1,l=$o(c)||c===!0,d={};let f=t,p,m;if(l&&(f=+e.startOf(f,"isoWeek",c)),f=+e.startOf(f,l?"day":a),e.diff(r,t,a)>1e5*o)throw new Error(t+" and "+r+" are too far apart with stepSize of "+o+" "+a);const b=n.ticks.source==="data"&&this.getDataTimestamps();for(p=f,m=0;p<r;p=+e.add(p,o,a),m++)fg(d,p,b);return(p===r||n.bounds==="ticks"||m===1)&&fg(d,p,b),Object.keys(d).sort(ug).map(y=>+y)}getLabelForValue(e){const t=this._adapter,r=this.options.time;return r.tooltipFormat?t.format(e,r.tooltipFormat):t.format(e,r.displayFormats.datetime)}format(e,t){const n=this.options.time.displayFormats,i=this._unit,a=t||n[i];return this._adapter.format(e,a)}_tickFormatFunction(e,t,r,n){const i=this.options,a=i.ticks.callback;if(a)return yt(a,[e,t,r],this);const o=i.time.displayFormats,c=this._unit,l=this._majorUnit,d=c&&o[c],f=l&&o[l],p=r[t],m=l&&f&&p&&p.major;return this._adapter.format(e,n||(m?f:d))}generateTickLabels(e){let t,r,n;for(t=0,r=e.length;t<r;++t)n=e[t],n.label=this._tickFormatFunction(n.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+r)*t.factor)}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,r=this.ctx.measureText(e).width,n=An(this.isHorizontal()?t.maxRotation:t.minRotation),i=Math.cos(n),a=Math.sin(n),o=this._resolveTickFontOptions(0).size;return{w:r*i+o*a,h:r*a+o*i}}_getLabelCapacity(e){const t=this.options.time,r=t.displayFormats,n=r[t.unit]||r.millisecond,i=this._tickFormatFunction(e,0,hg(this,[e],this._majorUnit),n),a=this._getLabelSize(i),o=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return o>0?o:1}getDataTimestamps(){let e=this._cache.data||[],t,r;if(e.length)return e;const n=this.getMatchingVisibleMetas();if(this._normalized&&n.length)return this._cache.data=n[0].controller.getAllParsedValues(this);for(t=0,r=n.length;t<r;++t)e=e.concat(n[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,r;if(e.length)return e;const n=this.getLabels();for(t=0,r=n.length;t<r;++t)e.push(dg(this,n[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return _1(e.sort(ug))}}function bu(s,e,t){let r=0,n=s.length-1,i,a,o,c;t?(e>=s[r].pos&&e<=s[n].pos&&({lo:r,hi:n}=ki(s,"pos",e)),{pos:i,time:o}=s[r],{pos:a,time:c}=s[n]):(e>=s[r].time&&e<=s[n].time&&({lo:r,hi:n}=ki(s,"time",e)),{time:i,pos:o}=s[r],{time:a,pos:c}=s[n]);const l=a-i;return l?o+(c-o)*(e-i)/l:o}class KE extends Cf{static id="timeseries";static defaults=Cf.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=bu(t,this.min),this._tableRange=bu(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:r}=this,n=[],i=[];let a,o,c,l,d;for(a=0,o=e.length;a<o;++a)l=e[a],l>=t&&l<=r&&n.push(l);if(n.length<2)return[{time:t,pos:0},{time:r,pos:1}];for(a=0,o=n.length;a<o;++a)d=n[a+1],c=n[a-1],l=n[a],Math.round((d+c)/2)!==l&&i.push({time:l,pos:a/(o-1)});return i}_generate(){const e=this.min,t=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(t)||r.length===1)&&r.push(t),r.sort((n,i)=>n-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),r=this.getLabelTimestamps();return t.length&&r.length?e=this.normalize(t.concat(r)):e=t.length?t:r,e=this._cache.all=e,e}getDecimalForValue(e){return(bu(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return bu(this._table,r*this._tableRange+this._minPos,!0)}}var XE=Object.freeze({__proto__:null,CategoryScale:CE,LinearScale:EE,LogarithmicScale:_E,RadialLinearScale:qE,TimeScale:Cf,TimeSeriesScale:KE});const JE=[GC,j3,kE,XE];var wm={exports:{}};var pg;function ZE(){return pg||(pg=1,(function(s){(function(e,t,r,n){var i=["","webkit","Moz","MS","ms","o"],a=t.createElement("div"),o="function",c=Math.round,l=Math.abs,d=Date.now;function f(O,K,oe){return setTimeout(j(O,oe),K)}function p(O,K,oe){return Array.isArray(O)?(m(O,oe[K],oe),!0):!1}function m(O,K,oe){var ke;if(O)if(O.forEach)O.forEach(K,oe);else if(O.length!==n)for(ke=0;ke<O.length;)K.call(oe,O[ke],ke,O),ke++;else for(ke in O)O.hasOwnProperty(ke)&&K.call(oe,O[ke],ke,O)}function b(O,K,oe){var ke="DEPRECATED METHOD: "+K+`
`+oe+` AT 
`;return function(){var Ue=new Error("get-stack-trace"),ze=Ue&&Ue.stack?Ue.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",Lt=e.console&&(e.console.warn||e.console.log);return Lt&&Lt.call(e.console,ke,ze),O.apply(this,arguments)}}var y;typeof Object.assign!="function"?y=function(K){if(K===n||K===null)throw new TypeError("Cannot convert undefined or null to object");for(var oe=Object(K),ke=1;ke<arguments.length;ke++){var Ue=arguments[ke];if(Ue!==n&&Ue!==null)for(var ze in Ue)Ue.hasOwnProperty(ze)&&(oe[ze]=Ue[ze])}return oe}:y=Object.assign;var v=b(function(K,oe,ke){for(var Ue=Object.keys(oe),ze=0;ze<Ue.length;)(!ke||ke&&K[Ue[ze]]===n)&&(K[Ue[ze]]=oe[Ue[ze]]),ze++;return K},"extend","Use `assign`."),N=b(function(K,oe){return v(K,oe,!0)},"merge","Use `assign`.");function w(O,K,oe){var ke=K.prototype,Ue;Ue=O.prototype=Object.create(ke),Ue.constructor=O,Ue._super=ke,oe&&y(Ue,oe)}function j(O,K){return function(){return O.apply(K,arguments)}}function C(O,K){return typeof O==o?O.apply(K&&K[0]||n,K):O}function S(O,K){return O===n?K:O}function A(O,K,oe){m(R(K),function(ke){O.addEventListener(ke,oe,!1)})}function U(O,K,oe){m(R(K),function(ke){O.removeEventListener(ke,oe,!1)})}function P(O,K){for(;O;){if(O==K)return!0;O=O.parentNode}return!1}function T(O,K){return O.indexOf(K)>-1}function R(O){return O.trim().split(/\s+/g)}function E(O,K,oe){if(O.indexOf&&!oe)return O.indexOf(K);for(var ke=0;ke<O.length;){if(oe&&O[ke][oe]==K||!oe&&O[ke]===K)return ke;ke++}return-1}function L(O){return Array.prototype.slice.call(O,0)}function F(O,K,oe){for(var ke=[],Ue=[],ze=0;ze<O.length;){var Lt=O[ze][K];E(Ue,Lt)<0&&ke.push(O[ze]),Ue[ze]=Lt,ze++}return ke=ke.sort(function(ys,ws){return ys[K]>ws[K]}),ke}function z(O,K){for(var oe,ke,Ue=K[0].toUpperCase()+K.slice(1),ze=0;ze<i.length;){if(oe=i[ze],ke=oe?oe+Ue:K,ke in O)return ke;ze++}return n}var Z=1;function re(){return Z++}function le(O){var K=O.ownerDocument||O;return K.defaultView||K.parentWindow||e}var ee=/mobile|tablet|ip(ad|hone|od)|android/i,pe="ontouchstart"in e,ue=z(e,"PointerEvent")!==n,te=pe&&ee.test(navigator.userAgent),_="touch",q="pen",Y="mouse",se="kinect",ne=25,ae=1,he=2,me=4,ge=8,Pe=1,xe=2,Ie=4,we=8,W=16,De=xe|Ie,st=we|W,Ye=De|st,_e=["x","y"],Be=["clientX","clientY"];function Ve(O,K){var oe=this;this.manager=O,this.callback=K,this.element=O.element,this.target=O.options.inputTarget,this.domHandler=function(ke){C(O.options.enable,[O])&&oe.handler(ke)},this.init()}Ve.prototype={handler:function(){},init:function(){this.evEl&&A(this.element,this.evEl,this.domHandler),this.evTarget&&A(this.target,this.evTarget,this.domHandler),this.evWin&&A(le(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&U(this.element,this.evEl,this.domHandler),this.evTarget&&U(this.target,this.evTarget,this.domHandler),this.evWin&&U(le(this.element),this.evWin,this.domHandler)}};function ut(O){var K,oe=O.options.inputClass;return oe?K=oe:ue?K=mt:te?K=gr:pe?K=ie:K=At,new K(O,it)}function it(O,K,oe){var ke=oe.pointers.length,Ue=oe.changedPointers.length,ze=K&ae&&ke-Ue===0,Lt=K&(me|ge)&&ke-Ue===0;oe.isFirst=!!ze,oe.isFinal=!!Lt,ze&&(O.session={}),oe.eventType=K,Wt(O,oe),O.emit("hammer.input",oe),O.recognize(oe),O.session.prevInput=oe}function Wt(O,K){var oe=O.session,ke=K.pointers,Ue=ke.length;oe.firstInput||(oe.firstInput=Rt(K)),Ue>1&&!oe.firstMultiple?oe.firstMultiple=Rt(K):Ue===1&&(oe.firstMultiple=!1);var ze=oe.firstInput,Lt=oe.firstMultiple,ks=Lt?Lt.center:ze.center,ys=K.center=vt(ke);K.timeStamp=d(),K.deltaTime=K.timeStamp-ze.timeStamp,K.angle=Jt(ks,ys),K.distance=Ge(ks,ys),gt(oe,K),K.offsetDirection=dt(K.deltaX,K.deltaY);var ws=Qe(K.deltaTime,K.deltaX,K.deltaY);K.overallVelocityX=ws.x,K.overallVelocityY=ws.y,K.overallVelocity=l(ws.x)>l(ws.y)?ws.x:ws.y,K.scale=Lt?Ze(Lt.pointers,ke):1,K.rotation=Lt?qt(Lt.pointers,ke):0,K.maxPointers=oe.prevInput?K.pointers.length>oe.prevInput.maxPointers?K.pointers.length:oe.prevInput.maxPointers:K.pointers.length,bt(oe,K);var Br=O.element;P(K.srcEvent.target,Br)&&(Br=K.srcEvent.target),K.target=Br}function gt(O,K){var oe=K.center,ke=O.offsetDelta||{},Ue=O.prevDelta||{},ze=O.prevInput||{};(K.eventType===ae||ze.eventType===me)&&(Ue=O.prevDelta={x:ze.deltaX||0,y:ze.deltaY||0},ke=O.offsetDelta={x:oe.x,y:oe.y}),K.deltaX=Ue.x+(oe.x-ke.x),K.deltaY=Ue.y+(oe.y-ke.y)}function bt(O,K){var oe=O.lastInterval||K,ke=K.timeStamp-oe.timeStamp,Ue,ze,Lt,ks;if(K.eventType!=ge&&(ke>ne||oe.velocity===n)){var ys=K.deltaX-oe.deltaX,ws=K.deltaY-oe.deltaY,Br=Qe(ke,ys,ws);ze=Br.x,Lt=Br.y,Ue=l(Br.x)>l(Br.y)?Br.x:Br.y,ks=dt(ys,ws),O.lastInterval=K}else Ue=oe.velocity,ze=oe.velocityX,Lt=oe.velocityY,ks=oe.direction;K.velocity=Ue,K.velocityX=ze,K.velocityY=Lt,K.direction=ks}function Rt(O){for(var K=[],oe=0;oe<O.pointers.length;)K[oe]={clientX:c(O.pointers[oe].clientX),clientY:c(O.pointers[oe].clientY)},oe++;return{timeStamp:d(),pointers:K,center:vt(K),deltaX:O.deltaX,deltaY:O.deltaY}}function vt(O){var K=O.length;if(K===1)return{x:c(O[0].clientX),y:c(O[0].clientY)};for(var oe=0,ke=0,Ue=0;Ue<K;)oe+=O[Ue].clientX,ke+=O[Ue].clientY,Ue++;return{x:c(oe/K),y:c(ke/K)}}function Qe(O,K,oe){return{x:K/O||0,y:oe/O||0}}function dt(O,K){return O===K?Pe:l(O)>=l(K)?O<0?xe:Ie:K<0?we:W}function Ge(O,K,oe){oe||(oe=_e);var ke=K[oe[0]]-O[oe[0]],Ue=K[oe[1]]-O[oe[1]];return Math.sqrt(ke*ke+Ue*Ue)}function Jt(O,K,oe){oe||(oe=_e);var ke=K[oe[0]]-O[oe[0]],Ue=K[oe[1]]-O[oe[1]];return Math.atan2(Ue,ke)*180/Math.PI}function qt(O,K){return Jt(K[1],K[0],Be)+Jt(O[1],O[0],Be)}function Ze(O,K){return Ge(K[0],K[1],Be)/Ge(O[0],O[1],Be)}var Nt={mousedown:ae,mousemove:he,mouseup:me},es="mousedown",lt="mousemove mouseup";function At(){this.evEl=es,this.evWin=lt,this.pressed=!1,Ve.apply(this,arguments)}w(At,Ve,{handler:function(K){var oe=Nt[K.type];oe&ae&&K.button===0&&(this.pressed=!0),oe&he&&K.which!==1&&(oe=me),this.pressed&&(oe&me&&(this.pressed=!1),this.callback(this.manager,oe,{pointers:[K],changedPointers:[K],pointerType:Y,srcEvent:K}))}});var ht={pointerdown:ae,pointermove:he,pointerup:me,pointercancel:ge,pointerout:ge},fs={2:_,3:q,4:Y,5:se},ns="pointerdown",Gt="pointermove pointerup pointercancel";e.MSPointerEvent&&!e.PointerEvent&&(ns="MSPointerDown",Gt="MSPointerMove MSPointerUp MSPointerCancel");function mt(){this.evEl=ns,this.evWin=Gt,Ve.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}w(mt,Ve,{handler:function(K){var oe=this.store,ke=!1,Ue=K.type.toLowerCase().replace("ms",""),ze=ht[Ue],Lt=fs[K.pointerType]||K.pointerType,ks=Lt==_,ys=E(oe,K.pointerId,"pointerId");ze&ae&&(K.button===0||ks)?ys<0&&(oe.push(K),ys=oe.length-1):ze&(me|ge)&&(ke=!0),!(ys<0)&&(oe[ys]=K,this.callback(this.manager,ze,{pointers:oe,changedPointers:[K],pointerType:Lt,srcEvent:K}),ke&&oe.splice(ys,1))}});var Ht={touchstart:ae,touchmove:he,touchend:me,touchcancel:ge},kn="touchstart",Os="touchstart touchmove touchend touchcancel";function Or(){this.evTarget=kn,this.evWin=Os,this.started=!1,Ve.apply(this,arguments)}w(Or,Ve,{handler:function(K){var oe=Ht[K.type];if(oe===ae&&(this.started=!0),!!this.started){var ke=Lr.call(this,K,oe);oe&(me|ge)&&ke[0].length-ke[1].length===0&&(this.started=!1),this.callback(this.manager,oe,{pointers:ke[0],changedPointers:ke[1],pointerType:_,srcEvent:K})}}});function Lr(O,K){var oe=L(O.touches),ke=L(O.changedTouches);return K&(me|ge)&&(oe=F(oe.concat(ke),"identifier")),[oe,ke]}var ct={touchstart:ae,touchmove:he,touchend:me,touchcancel:ge},Xr="touchstart touchmove touchend touchcancel";function gr(){this.evTarget=Xr,this.targetIds={},Ve.apply(this,arguments)}w(gr,Ve,{handler:function(K){var oe=ct[K.type],ke=ur.call(this,K,oe);ke&&this.callback(this.manager,oe,{pointers:ke[0],changedPointers:ke[1],pointerType:_,srcEvent:K})}});function ur(O,K){var oe=L(O.touches),ke=this.targetIds;if(K&(ae|he)&&oe.length===1)return ke[oe[0].identifier]=!0,[oe,oe];var Ue,ze,Lt=L(O.changedTouches),ks=[],ys=this.target;if(ze=oe.filter(function(ws){return P(ws.target,ys)}),K===ae)for(Ue=0;Ue<ze.length;)ke[ze[Ue].identifier]=!0,Ue++;for(Ue=0;Ue<Lt.length;)ke[Lt[Ue].identifier]&&ks.push(Lt[Ue]),K&(me|ge)&&delete ke[Lt[Ue].identifier],Ue++;if(ks.length)return[F(ze.concat(ks),"identifier"),ks]}var br=2500,cs=25;function ie(){Ve.apply(this,arguments);var O=j(this.handler,this);this.touch=new gr(this.manager,O),this.mouse=new At(this.manager,O),this.primaryTouch=null,this.lastTouches=[]}w(ie,Ve,{handler:function(K,oe,ke){var Ue=ke.pointerType==_,ze=ke.pointerType==Y;if(!(ze&&ke.sourceCapabilities&&ke.sourceCapabilities.firesTouchEvents)){if(Ue)Ae.call(this,oe,ke);else if(ze&&ot.call(this,ke))return;this.callback(K,oe,ke)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function Ae(O,K){O&ae?(this.primaryTouch=K.changedPointers[0].identifier,Re.call(this,K)):O&(me|ge)&&Re.call(this,K)}function Re(O){var K=O.changedPointers[0];if(K.identifier===this.primaryTouch){var oe={x:K.clientX,y:K.clientY};this.lastTouches.push(oe);var ke=this.lastTouches,Ue=function(){var ze=ke.indexOf(oe);ze>-1&&ke.splice(ze,1)};setTimeout(Ue,br)}}function ot(O){for(var K=O.srcEvent.clientX,oe=O.srcEvent.clientY,ke=0;ke<this.lastTouches.length;ke++){var Ue=this.lastTouches[ke],ze=Math.abs(K-Ue.x),Lt=Math.abs(oe-Ue.y);if(ze<=cs&&Lt<=cs)return!0}return!1}var wt=z(a.style,"touchAction"),_t=wt!==n,pt="compute",ft="auto",Zt="manipulation",Ot="none",Ft="pan-x",hs="pan-y",or=Qn();function cr(O,K){this.manager=O,this.set(K)}cr.prototype={set:function(O){O==pt&&(O=this.compute()),_t&&this.manager.element.style&&or[O]&&(this.manager.element.style[wt]=O),this.actions=O.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var O=[];return m(this.manager.recognizers,function(K){C(K.options.enable,[K])&&(O=O.concat(K.getTouchAction()))}),Ss(O.join(" "))},preventDefaults:function(O){var K=O.srcEvent,oe=O.offsetDirection;if(this.manager.session.prevented){K.preventDefault();return}var ke=this.actions,Ue=T(ke,Ot)&&!or[Ot],ze=T(ke,hs)&&!or[hs],Lt=T(ke,Ft)&&!or[Ft];if(Ue){var ks=O.pointers.length===1,ys=O.distance<2,ws=O.deltaTime<250;if(ks&&ys&&ws)return}if(!(Lt&&ze)&&(Ue||ze&&oe&De||Lt&&oe&st))return this.preventSrc(K)},preventSrc:function(O){this.manager.session.prevented=!0,O.preventDefault()}};function Ss(O){if(T(O,Ot))return Ot;var K=T(O,Ft),oe=T(O,hs);return K&&oe?Ot:K||oe?K?Ft:hs:T(O,Zt)?Zt:ft}function Qn(){if(!_t)return!1;var O={},K=e.CSS&&e.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(oe){O[oe]=K?e.CSS.supports("touch-action",oe):!0}),O}var dn=1,Zs=2,wn=4,Fs=8,Tr=Fs,Mn=16,yr=32;function Fr(O){this.options=y({},this.defaults,O||{}),this.id=re(),this.manager=null,this.options.enable=S(this.options.enable,!0),this.state=dn,this.simultaneous={},this.requireFail=[]}Fr.prototype={defaults:{},set:function(O){return y(this.options,O),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(O){if(p(O,"recognizeWith",this))return this;var K=this.simultaneous;return O=Dn(O,this),K[O.id]||(K[O.id]=O,O.recognizeWith(this)),this},dropRecognizeWith:function(O){return p(O,"dropRecognizeWith",this)?this:(O=Dn(O,this),delete this.simultaneous[O.id],this)},requireFailure:function(O){if(p(O,"requireFailure",this))return this;var K=this.requireFail;return O=Dn(O,this),E(K,O)===-1&&(K.push(O),O.requireFailure(this)),this},dropRequireFailure:function(O){if(p(O,"dropRequireFailure",this))return this;O=Dn(O,this);var K=E(this.requireFail,O);return K>-1&&this.requireFail.splice(K,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(O){return!!this.simultaneous[O.id]},emit:function(O){var K=this,oe=this.state;function ke(Ue){K.manager.emit(Ue,O)}oe<Fs&&ke(K.options.event+ua(oe)),ke(K.options.event),O.additionalEvent&&ke(O.additionalEvent),oe>=Fs&&ke(K.options.event+ua(oe))},tryEmit:function(O){if(this.canEmit())return this.emit(O);this.state=yr},canEmit:function(){for(var O=0;O<this.requireFail.length;){if(!(this.requireFail[O].state&(yr|dn)))return!1;O++}return!0},recognize:function(O){var K=y({},O);if(!C(this.options.enable,[this,K])){this.reset(),this.state=yr;return}this.state&(Tr|Mn|yr)&&(this.state=dn),this.state=this.process(K),this.state&(Zs|wn|Fs|Mn)&&this.tryEmit(K)},process:function(O){},getTouchAction:function(){},reset:function(){}};function ua(O){return O&Mn?"cancel":O&Fs?"end":O&wn?"move":O&Zs?"start":""}function da(O){return O==W?"down":O==we?"up":O==xe?"left":O==Ie?"right":""}function Dn(O,K){var oe=K.manager;return oe?oe.get(O):O}function Ur(){Fr.apply(this,arguments)}w(Ur,Fr,{defaults:{pointers:1},attrTest:function(O){var K=this.options.pointers;return K===0||O.pointers.length===K},process:function(O){var K=this.state,oe=O.eventType,ke=K&(Zs|wn),Ue=this.attrTest(O);return ke&&(oe&ge||!Ue)?K|Mn:ke||Ue?oe&me?K|Fs:K&Zs?K|wn:Zs:yr}});function bs(){Ur.apply(this,arguments),this.pX=null,this.pY=null}w(bs,Ur,{defaults:{event:"pan",threshold:10,pointers:1,direction:Ye},getTouchAction:function(){var O=this.options.direction,K=[];return O&De&&K.push(hs),O&st&&K.push(Ft),K},directionTest:function(O){var K=this.options,oe=!0,ke=O.distance,Ue=O.direction,ze=O.deltaX,Lt=O.deltaY;return Ue&K.direction||(K.direction&De?(Ue=ze===0?Pe:ze<0?xe:Ie,oe=ze!=this.pX,ke=Math.abs(O.deltaX)):(Ue=Lt===0?Pe:Lt<0?we:W,oe=Lt!=this.pY,ke=Math.abs(O.deltaY))),O.direction=Ue,oe&&ke>K.threshold&&Ue&K.direction},attrTest:function(O){return Ur.prototype.attrTest.call(this,O)&&(this.state&Zs||!(this.state&Zs)&&this.directionTest(O))},emit:function(O){this.pX=O.deltaX,this.pY=O.deltaY;var K=da(O.direction);K&&(O.additionalEvent=this.options.event+K),this._super.emit.call(this,O)}});function ji(){Ur.apply(this,arguments)}w(ji,Ur,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Ot]},attrTest:function(O){return this._super.attrTest.call(this,O)&&(Math.abs(O.scale-1)>this.options.threshold||this.state&Zs)},emit:function(O){if(O.scale!==1){var K=O.scale<1?"in":"out";O.additionalEvent=this.options.event+K}this._super.emit.call(this,O)}});function Ei(){Fr.apply(this,arguments),this._timer=null,this._input=null}w(Ei,Fr,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[ft]},process:function(O){var K=this.options,oe=O.pointers.length===K.pointers,ke=O.distance<K.threshold,Ue=O.deltaTime>K.time;if(this._input=O,!ke||!oe||O.eventType&(me|ge)&&!Ue)this.reset();else if(O.eventType&ae)this.reset(),this._timer=f(function(){this.state=Tr,this.tryEmit()},K.time,this);else if(O.eventType&me)return Tr;return yr},reset:function(){clearTimeout(this._timer)},emit:function(O){this.state===Tr&&(O&&O.eventType&me?this.manager.emit(this.options.event+"up",O):(this._input.timeStamp=d(),this.manager.emit(this.options.event,this._input)))}});function Jr(){Ur.apply(this,arguments)}w(Jr,Ur,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Ot]},attrTest:function(O){return this._super.attrTest.call(this,O)&&(Math.abs(O.rotation)>this.options.threshold||this.state&Zs)}});function Pn(){Ur.apply(this,arguments)}w(Pn,Ur,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:De|st,pointers:1},getTouchAction:function(){return bs.prototype.getTouchAction.call(this)},attrTest:function(O){var K=this.options.direction,oe;return K&(De|st)?oe=O.overallVelocity:K&De?oe=O.overallVelocityX:K&st&&(oe=O.overallVelocityY),this._super.attrTest.call(this,O)&&K&O.offsetDirection&&O.distance>this.options.threshold&&O.maxPointers==this.options.pointers&&l(oe)>this.options.velocity&&O.eventType&me},emit:function(O){var K=da(O.offsetDirection);K&&this.manager.emit(this.options.event+K,O),this.manager.emit(this.options.event,O)}});function xr(){Fr.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}w(xr,Fr,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Zt]},process:function(O){var K=this.options,oe=O.pointers.length===K.pointers,ke=O.distance<K.threshold,Ue=O.deltaTime<K.time;if(this.reset(),O.eventType&ae&&this.count===0)return this.failTimeout();if(ke&&Ue&&oe){if(O.eventType!=me)return this.failTimeout();var ze=this.pTime?O.timeStamp-this.pTime<K.interval:!0,Lt=!this.pCenter||Ge(this.pCenter,O.center)<K.posThreshold;this.pTime=O.timeStamp,this.pCenter=O.center,!Lt||!ze?this.count=1:this.count+=1,this._input=O;var ks=this.count%K.taps;if(ks===0)return this.hasRequireFailures()?(this._timer=f(function(){this.state=Tr,this.tryEmit()},K.interval,this),Zs):Tr}return yr},failTimeout:function(){return this._timer=f(function(){this.state=yr},this.options.interval,this),yr},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Tr&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function vr(O,K){return K=K||{},K.recognizers=S(K.recognizers,vr.defaults.preset),new ma(O,K)}vr.VERSION="2.0.7",vr.defaults={domEvents:!1,touchAction:pt,enable:!0,inputTarget:null,inputClass:null,preset:[[Jr,{enable:!1}],[ji,{enable:!1},["rotate"]],[Pn,{direction:De}],[bs,{direction:De},["swipe"]],[xr],[xr,{event:"doubletap",taps:2},["tap"]],[Ei]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var As=1,Si=2;function ma(O,K){this.options=y({},vr.defaults,K||{}),this.options.inputTarget=this.options.inputTarget||O,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=O,this.input=ut(this),this.touchAction=new cr(this,this.options.touchAction),fo(this,!0),m(this.options.recognizers,function(oe){var ke=this.add(new oe[0](oe[1]));oe[2]&&ke.recognizeWith(oe[2]),oe[3]&&ke.requireFailure(oe[3])},this)}ma.prototype={set:function(O){return y(this.options,O),O.touchAction&&this.touchAction.update(),O.inputTarget&&(this.input.destroy(),this.input.target=O.inputTarget,this.input.init()),this},stop:function(O){this.session.stopped=O?Si:As},recognize:function(O){var K=this.session;if(!K.stopped){this.touchAction.preventDefaults(O);var oe,ke=this.recognizers,Ue=K.curRecognizer;(!Ue||Ue&&Ue.state&Tr)&&(Ue=K.curRecognizer=null);for(var ze=0;ze<ke.length;)oe=ke[ze],K.stopped!==Si&&(!Ue||oe==Ue||oe.canRecognizeWith(Ue))?oe.recognize(O):oe.reset(),!Ue&&oe.state&(Zs|wn|Fs)&&(Ue=K.curRecognizer=oe),ze++}},get:function(O){if(O instanceof Fr)return O;for(var K=this.recognizers,oe=0;oe<K.length;oe++)if(K[oe].options.event==O)return K[oe];return null},add:function(O){if(p(O,"add",this))return this;var K=this.get(O.options.event);return K&&this.remove(K),this.recognizers.push(O),O.manager=this,this.touchAction.update(),O},remove:function(O){if(p(O,"remove",this))return this;if(O=this.get(O),O){var K=this.recognizers,oe=E(K,O);oe!==-1&&(K.splice(oe,1),this.touchAction.update())}return this},on:function(O,K){if(O!==n&&K!==n){var oe=this.handlers;return m(R(O),function(ke){oe[ke]=oe[ke]||[],oe[ke].push(K)}),this}},off:function(O,K){if(O!==n){var oe=this.handlers;return m(R(O),function(ke){K?oe[ke]&&oe[ke].splice(E(oe[ke],K),1):delete oe[ke]}),this}},emit:function(O,K){this.options.domEvents&&sc(O,K);var oe=this.handlers[O]&&this.handlers[O].slice();if(!(!oe||!oe.length)){K.type=O,K.preventDefault=function(){K.srcEvent.preventDefault()};for(var ke=0;ke<oe.length;)oe[ke](K),ke++}},destroy:function(){this.element&&fo(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function fo(O,K){var oe=O.element;if(oe.style){var ke;m(O.options.cssProps,function(Ue,ze){ke=z(oe.style,ze),K?(O.oldCssProps[ke]=oe.style[ke],oe.style[ke]=Ue):oe.style[ke]=O.oldCssProps[ke]||""}),K||(O.oldCssProps={})}}function sc(O,K){var oe=t.createEvent("Event");oe.initEvent(O,!0,!0),oe.gesture=K,K.target.dispatchEvent(oe)}y(vr,{INPUT_START:ae,INPUT_MOVE:he,INPUT_END:me,INPUT_CANCEL:ge,STATE_POSSIBLE:dn,STATE_BEGAN:Zs,STATE_CHANGED:wn,STATE_ENDED:Fs,STATE_RECOGNIZED:Tr,STATE_CANCELLED:Mn,STATE_FAILED:yr,DIRECTION_NONE:Pe,DIRECTION_LEFT:xe,DIRECTION_RIGHT:Ie,DIRECTION_UP:we,DIRECTION_DOWN:W,DIRECTION_HORIZONTAL:De,DIRECTION_VERTICAL:st,DIRECTION_ALL:Ye,Manager:ma,Input:Ve,TouchAction:cr,TouchInput:gr,MouseInput:At,PointerEventInput:mt,TouchMouseInput:ie,SingleTouchInput:Or,Recognizer:Fr,AttrRecognizer:Ur,Tap:xr,Pan:bs,Swipe:Pn,Pinch:ji,Rotate:Jr,Press:Ei,on:A,off:U,each:m,merge:N,extend:v,assign:y,inherit:w,bindFn:j,prefixed:z});var mn=typeof e<"u"?e:typeof self<"u"?self:{};mn.Hammer=vr,s.exports?s.exports=vr:e[r]=vr})(window,document,"Hammer")})(wm)),wm.exports}var QE=ZE();const Gc=Uy(QE);const hl=s=>s&&s.enabled&&s.modifierKey,Nx=(s,e)=>s&&e[s+"Key"],jh=(s,e)=>s&&!e[s+"Key"];function ia(s,e,t){return s===void 0?!0:typeof s=="string"?s.indexOf(e)!==-1:typeof s=="function"?s({chart:t}).indexOf(e)!==-1:!1}function Dm(s,e){return typeof s=="function"&&(s=s({chart:e})),typeof s=="string"?{x:s.indexOf("x")!==-1,y:s.indexOf("y")!==-1}:{x:!1,y:!1}}function e4(s,e){let t;return function(){return clearTimeout(t),t=setTimeout(s,e),e}}function t4({x:s,y:e},t){const r=t.scales,n=Object.keys(r);for(let i=0;i<n.length;i++){const a=r[n[i]];if(e>=a.top&&e<=a.bottom&&s>=a.left&&s<=a.right)return a}return null}function kx(s,e,t){const{mode:r="xy",scaleMode:n,overScaleMode:i}=s||{},a=t4(e,t),o=Dm(r,t),c=Dm(n,t);if(i){const d=Dm(i,t);for(const f of["x","y"])d[f]&&(c[f]=o[f],o[f]=!1)}if(a&&c[a.axis])return[a];const l=[];return Bt(t.scales,function(d){o[d.axis]&&l.push(d)}),l}const jf=new WeakMap;function Ls(s){let e=jf.get(s);return e||(e={originalScaleLimits:{},updatedScaleLimits:{},handlers:{},panDelta:{},dragging:!1,panning:!1},jf.set(s,e)),e}function s4(s){jf.delete(s)}function wx(s,e,t,r){const n=Math.max(0,Math.min(1,(s-e)/t||0)),i=1-n;return{min:r*n,max:r*i}}function Dx(s,e){const t=s.isHorizontal()?e.x:e.y;return s.getValueForPixel(t)}function Px(s,e,t){const r=s.max-s.min,n=r*(e-1),i=Dx(s,t);return wx(i,s.min,r,n)}function r4(s,e,t){const r=Dx(s,t);if(r===void 0)return{min:s.min,max:s.max};const n=Math.log10(s.min),i=Math.log10(s.max),a=Math.log10(r),o=i-n,c=o*(e-1),l=wx(a,n,o,c);return{min:Math.pow(10,n+l.min),max:Math.pow(10,i-l.max)}}function n4(s,e){return e&&(e[s.id]||e[s.axis])||{}}function gg(s,e,t,r,n){let i=t[r];if(i==="original"){const a=s.originalScaleLimits[e.id][r];i=xt(a.options,a.scale)}return xt(i,n)}function i4(s,e,t){const r=s.getValueForPixel(e),n=s.getValueForPixel(t);return{min:Math.min(r,n),max:Math.max(r,n)}}function a4(s,{min:e,max:t,minLimit:r,maxLimit:n},i){const a=(s-t+e)/2;e-=a,t+=a;const o=i.min.options??i.min.scale,c=i.max.options??i.max.scale,l=s/1e6;return Wa(e,o,l)&&(e=o),Wa(t,c,l)&&(t=c),e<r?(e=r,t=Math.min(r+s,n)):t>n&&(t=n,e=Math.max(n-s,r)),{min:e,max:t}}function lo(s,{min:e,max:t},r,n=!1){const i=Ls(s.chart),{options:a}=s,o=n4(s,r),{minRange:c=0}=o,l=gg(i,s,o,"min",-1/0),d=gg(i,s,o,"max",1/0);if(n==="pan"&&(e<l||t>d))return!0;const f=s.max-s.min,p=n?Math.max(t-e,c):f;if(n&&p===c&&f<=c)return!0;const m=a4(p,{min:e,max:t,minLimit:l,maxLimit:d},i.originalScaleLimits[s.id]);return a.min=m.min,a.max=m.max,i.updatedScaleLimits[s.id]=m,s.parse(m.min)!==s.min||s.parse(m.max)!==s.max}function o4(s,e,t,r){const n=Px(s,e,t),i={min:s.min+n.min,max:s.max-n.max};return lo(s,i,r,!0)}function c4(s,e,t,r){const n=r4(s,e,t);return lo(s,n,r,!0)}function l4(s,e,t,r){lo(s,i4(s,e,t),r,!0)}const bg=s=>s===0||isNaN(s)?0:s<0?Math.min(Math.round(s),-1):Math.max(Math.round(s),1);function u4(s){const t=s.getLabels().length-1;s.min>0&&(s.min-=1),s.max<t&&(s.max+=1)}function d4(s,e,t,r){const n=Px(s,e,t);s.min===s.max&&e<1&&u4(s);const i={min:s.min+bg(n.min),max:s.max-bg(n.max)};return lo(s,i,r,!0)}function m4(s){return s.isHorizontal()?s.width:s.height}function f4(s,e,t){const n=s.getLabels().length-1;let{min:i,max:a}=s;const o=Math.max(a-i,1),c=Math.round(m4(s)/Math.max(o,10)),l=Math.round(Math.abs(e/c));let d;return e<-c?(a=Math.min(a+l,n),i=o===1?a:a-o,d=a===n):e>c&&(i=Math.max(0,i-l),a=o===1?i:i+o,d=i===0),lo(s,{min:i,max:a},t)||d}const h4={second:500,minute:30*1e3,hour:1800*1e3,day:720*60*1e3,week:3.5*24*60*60*1e3,month:360*60*60*1e3,quarter:1440*60*60*1e3,year:4368*60*60*1e3};function Cx(s,e,t,r=!1){const{min:n,max:i,options:a}=s,o=a.time&&a.time.round,c=h4[o]||0,l=s.getValueForPixel(s.getPixelForValue(n+c)-e),d=s.getValueForPixel(s.getPixelForValue(i+c)-e);return isNaN(l)||isNaN(d)?!0:lo(s,{min:l,max:d},t,r?"pan":!1)}function yg(s,e,t){return Cx(s,e,t,!0)}const Ef={category:d4,default:o4,logarithmic:c4},Sf={default:l4},Af={category:f4,default:Cx,logarithmic:yg,timeseries:yg};function p4(s,e,t){const{id:r,options:{min:n,max:i}}=s;if(!e[r]||!t[r])return!0;const a=t[r];return a.min!==n||a.max!==i}function xg(s,e){Bt(s,(t,r)=>{e[r]||delete s[r]})}function ec(s,e){const{scales:t}=s,{originalScaleLimits:r,updatedScaleLimits:n}=e;return Bt(t,function(i){p4(i,r,n)&&(r[i.id]={min:{scale:i.min,options:i.options.min},max:{scale:i.max,options:i.options.max}})}),xg(r,t),xg(n,t),r}function vg(s,e,t,r){const n=Ef[s.type]||Ef.default;yt(n,[s,e,t,r])}function Ng(s,e,t,r){const n=Sf[s.type]||Sf.default;yt(n,[s,e,t,r])}function g4(s){const e=s.chartArea;return{x:(e.left+e.right)/2,y:(e.top+e.bottom)/2}}function Eh(s,e,t="none",r="api"){const{x:n=1,y:i=1,focalPoint:a=g4(s)}=typeof e=="number"?{x:e,y:e}:e,o=Ls(s),{options:{limits:c,zoom:l}}=o;ec(s,o);const d=n!==1,f=i!==1,p=kx(l,a,s);Bt(p||s.scales,function(m){m.isHorizontal()&&d?vg(m,n,a,c):!m.isHorizontal()&&f&&vg(m,i,a,c)}),s.update(t),yt(l.onZoom,[{chart:s,trigger:r}])}function jx(s,e,t,r="none",n="api"){const i=Ls(s),{options:{limits:a,zoom:o}}=i,{mode:c="xy"}=o;ec(s,i);const l=ia(c,"x",s),d=ia(c,"y",s);Bt(s.scales,function(f){f.isHorizontal()&&l?Ng(f,e.x,t.x,a):!f.isHorizontal()&&d&&Ng(f,e.y,t.y,a)}),s.update(r),yt(o.onZoom,[{chart:s,trigger:n}])}function b4(s,e,t,r="none",n="api"){const i=Ls(s);ec(s,i);const a=s.scales[e];lo(a,t,void 0,!0),s.update(r),yt(i.options.zoom?.onZoom,[{chart:s,trigger:n}])}function y4(s,e="default"){const t=Ls(s),r=ec(s,t);Bt(s.scales,function(n){const i=n.options;r[n.id]?(i.min=r[n.id].min.options,i.max=r[n.id].max.options):(delete i.min,delete i.max),delete t.updatedScaleLimits[n.id]}),s.update(e),yt(t.options.zoom.onZoomComplete,[{chart:s}])}function x4(s,e){const t=s.originalScaleLimits[e];if(!t)return;const{min:r,max:n}=t;return xt(n.options,n.scale)-xt(r.options,r.scale)}function v4(s){const e=Ls(s);let t=1,r=1;return Bt(s.scales,function(n){const i=x4(e,n.id);if(i){const a=Math.round(i/(n.max-n.min)*100)/100;t=Math.min(t,a),r=Math.max(r,a)}}),t<1?t:r}function kg(s,e,t,r){const{panDelta:n}=r,i=n[s.id]||0;xn(i)===xn(e)&&(e+=i);const a=Af[s.type]||Af.default;yt(a,[s,e,t])?n[s.id]=0:n[s.id]=e}function Ex(s,e,t,r="none"){const{x:n=0,y:i=0}=typeof e=="number"?{x:e,y:e}:e,a=Ls(s),{options:{pan:o,limits:c}}=a,{onPan:l}=o||{};ec(s,a);const d=n!==0,f=i!==0;Bt(t||s.scales,function(p){p.isHorizontal()&&d?kg(p,n,c,a):!p.isHorizontal()&&f&&kg(p,i,c,a)}),s.update(r),yt(l,[{chart:s}])}function Sx(s){const e=Ls(s);ec(s,e);const t={};for(const r of Object.keys(s.scales)){const{min:n,max:i}=e.originalScaleLimits[r]||{min:{},max:{}};t[r]={min:n.scale,max:i.scale}}return t}function N4(s){const e=Ls(s),t={};for(const r of Object.keys(s.scales))t[r]=e.updatedScaleLimits[r];return t}function k4(s){const e=Sx(s);for(const t of Object.keys(s.scales)){const{min:r,max:n}=e[t];if(r!==void 0&&s.scales[t].min!==r||n!==void 0&&s.scales[t].max!==n)return!0}return!1}function wg(s){const e=Ls(s);return e.panning||e.dragging}const Dg=(s,e,t)=>Math.min(t,Math.max(e,s));function Hr(s,e){const{handlers:t}=Ls(s),r=t[e];r&&r.target&&(r.target.removeEventListener(e,r),delete t[e])}function Kc(s,e,t,r){const{handlers:n,options:i}=Ls(s),a=n[t];if(a&&a.target===e)return;Hr(s,t),n[t]=c=>r(s,c,i),n[t].target=e;const o=t==="wheel"?!1:void 0;e.addEventListener(t,n[t],{passive:o})}function w4(s,e){const t=Ls(s);t.dragStart&&(t.dragging=!0,t.dragEnd=e,s.update("none"))}function D4(s,e){const t=Ls(s);!t.dragStart||e.key!=="Escape"||(Hr(s,"keydown"),t.dragging=!1,t.dragStart=t.dragEnd=null,s.update("none"))}function _f(s,e){if(s.target!==e.canvas){const t=e.canvas.getBoundingClientRect();return{x:s.clientX-t.left,y:s.clientY-t.top}}return qn(s,e)}function Ax(s,e,t){const{onZoomStart:r,onZoomRejected:n}=t;if(r){const i=_f(e,s);if(yt(r,[{chart:s,event:e,point:i}])===!1)return yt(n,[{chart:s,event:e}]),!1}}function P4(s,e){if(s.legend){const i=qn(e,s);if(Hn(i,s.legend))return}const t=Ls(s),{pan:r,zoom:n={}}=t.options;if(e.button!==0||Nx(hl(r),e)||jh(hl(n.drag),e))return yt(n.onZoomRejected,[{chart:s,event:e}]);Ax(s,e,n)!==!1&&(t.dragStart=e,Kc(s,s.canvas.ownerDocument,"mousemove",w4),Kc(s,window.document,"keydown",D4))}function C4({begin:s,end:e},t){let r=e.x-s.x,n=e.y-s.y;const i=Math.abs(r/n);i>t?r=Math.sign(r)*Math.abs(n*t):i<t&&(n=Math.sign(n)*Math.abs(r/t)),e.x=s.x+r,e.y=s.y+n}function Pg(s,e,t,{min:r,max:n,prop:i}){s[r]=Dg(Math.min(t.begin[i],t.end[i]),e[r],e[n]),s[n]=Dg(Math.max(t.begin[i],t.end[i]),e[r],e[n])}function j4(s,e,t){const r={begin:_f(e.dragStart,s),end:_f(e.dragEnd,s)};if(t){const n=s.chartArea.width/s.chartArea.height;C4(r,n)}return r}function _x(s,e,t,r){const n=ia(e,"x",s),i=ia(e,"y",s),{top:a,left:o,right:c,bottom:l,width:d,height:f}=s.chartArea,p={top:a,left:o,right:c,bottom:l},m=j4(s,t,r&&n&&i);n&&Pg(p,s.chartArea,m,{min:"left",max:"right",prop:"x"}),i&&Pg(p,s.chartArea,m,{min:"top",max:"bottom",prop:"y"});const b=p.right-p.left,y=p.bottom-p.top;return{...p,width:b,height:y,zoomX:n&&b?1+(d-b)/d:1,zoomY:i&&y?1+(f-y)/f:1}}function E4(s,e){const t=Ls(s);if(!t.dragStart)return;Hr(s,"mousemove");const{mode:r,onZoomComplete:n,drag:{threshold:i=0,maintainAspectRatio:a}}=t.options.zoom,o=_x(s,r,{dragStart:t.dragStart,dragEnd:e},a),c=ia(r,"x",s)?o.width:0,l=ia(r,"y",s)?o.height:0,d=Math.sqrt(c*c+l*l);if(t.dragStart=t.dragEnd=null,d<=i){t.dragging=!1,s.update("none");return}jx(s,{x:o.left,y:o.top},{x:o.right,y:o.bottom},"zoom","drag"),t.dragging=!1,t.filterNextClick=!0,yt(n,[{chart:s}])}function S4(s,e,t){if(jh(hl(t.wheel),e)){yt(t.onZoomRejected,[{chart:s,event:e}]);return}if(Ax(s,e,t)!==!1&&(e.cancelable&&e.preventDefault(),e.deltaY!==void 0))return!0}function A4(s,e){const{handlers:{onZoomComplete:t},options:{zoom:r}}=Ls(s);if(!S4(s,e,r))return;const n=e.target.getBoundingClientRect(),i=r.wheel.speed,a=e.deltaY>=0?2-1/(1-i):1+i,o={x:a,y:a,focalPoint:{x:e.clientX-n.left,y:e.clientY-n.top}};Eh(s,o,"zoom","wheel"),yt(t,[{chart:s}])}function _4(s,e,t,r){t&&(Ls(s).handlers[e]=e4(()=>yt(t,[{chart:s}]),r))}function L4(s,e){const t=s.canvas,{wheel:r,drag:n,onZoomComplete:i}=e.zoom;r.enabled?(Kc(s,t,"wheel",A4),_4(s,"onZoomComplete",i,250)):Hr(s,"wheel"),n.enabled?(Kc(s,t,"mousedown",P4),Kc(s,t.ownerDocument,"mouseup",E4)):(Hr(s,"mousedown"),Hr(s,"mousemove"),Hr(s,"mouseup"),Hr(s,"keydown"))}function T4(s){Hr(s,"mousedown"),Hr(s,"mousemove"),Hr(s,"mouseup"),Hr(s,"wheel"),Hr(s,"click"),Hr(s,"keydown")}function U4(s,e){return function(t,r){const{pan:n,zoom:i={}}=e.options;if(!n||!n.enabled)return!1;const a=r&&r.srcEvent;return a&&!e.panning&&r.pointerType==="mouse"&&(jh(hl(n),a)||Nx(hl(i.drag),a))?(yt(n.onPanRejected,[{chart:s,event:r}]),!1):!0}}function M4(s,e){const t=Math.abs(s.clientX-e.clientX),r=Math.abs(s.clientY-e.clientY),n=t/r;let i,a;return n>.3&&n<1.7?i=a=!0:t>r?i=!0:a=!0,{x:i,y:a}}function Lx(s,e,t){if(e.scale){const{center:r,pointers:n}=t,i=1/e.scale*t.scale,a=t.target.getBoundingClientRect(),o=M4(n[0],n[1]),c=e.options.zoom.mode,l={x:o.x&&ia(c,"x",s)?i:1,y:o.y&&ia(c,"y",s)?i:1,focalPoint:{x:r.x-a.left,y:r.y-a.top}};Eh(s,l,"zoom","pinch"),e.scale=t.scale}}function V4(s,e,t){if(e.options.zoom.pinch.enabled){const r=qn(t,s);yt(e.options.zoom.onZoomStart,[{chart:s,event:t,point:r}])===!1?(e.scale=null,yt(e.options.zoom.onZoomRejected,[{chart:s,event:t}])):e.scale=1}}function I4(s,e,t){e.scale&&(Lx(s,e,t),e.scale=null,yt(e.options.zoom.onZoomComplete,[{chart:s}]))}function Tx(s,e,t){const r=e.delta;r&&(e.panning=!0,Ex(s,{x:t.deltaX-r.x,y:t.deltaY-r.y},e.panScales),e.delta={x:t.deltaX,y:t.deltaY})}function R4(s,e,t){const{enabled:r,onPanStart:n,onPanRejected:i}=e.options.pan;if(!r)return;const a=t.target.getBoundingClientRect(),o={x:t.center.x-a.left,y:t.center.y-a.top};if(yt(n,[{chart:s,event:t,point:o}])===!1)return yt(i,[{chart:s,event:t}]);e.panScales=kx(e.options.pan,o,s),e.delta={x:0,y:0},Tx(s,e,t)}function O4(s,e){e.delta=null,e.panning&&(e.panning=!1,e.filterNextClick=!0,yt(e.options.pan.onPanComplete,[{chart:s}]))}const Lf=new WeakMap;function Cg(s,e){const t=Ls(s),r=s.canvas,{pan:n,zoom:i}=e,a=new Gc.Manager(r);i&&i.pinch.enabled&&(a.add(new Gc.Pinch),a.on("pinchstart",o=>V4(s,t,o)),a.on("pinch",o=>Lx(s,t,o)),a.on("pinchend",o=>I4(s,t,o))),n&&n.enabled&&(a.add(new Gc.Pan({threshold:n.threshold,enable:U4(s,t)})),a.on("panstart",o=>R4(s,t,o)),a.on("panmove",o=>Tx(s,t,o)),a.on("panend",()=>O4(s,t))),Lf.set(s,a)}function jg(s){const e=Lf.get(s);e&&(e.remove("pinchstart"),e.remove("pinch"),e.remove("pinchend"),e.remove("panstart"),e.remove("pan"),e.remove("panend"),e.destroy(),Lf.delete(s))}function F4(s,e){const{pan:t,zoom:r}=s,{pan:n,zoom:i}=e;return r?.zoom?.pinch?.enabled!==i?.zoom?.pinch?.enabled||t?.enabled!==n?.enabled||t?.threshold!==n?.threshold}var B4="2.2.0";function yu(s,e,t){const r=t.zoom.drag,{dragStart:n,dragEnd:i}=Ls(s);if(r.drawTime!==e||!i)return;const{left:a,top:o,width:c,height:l}=_x(s,t.zoom.mode,{dragStart:n,dragEnd:i},r.maintainAspectRatio),d=s.ctx;d.save(),d.beginPath(),d.fillStyle=r.backgroundColor||"rgba(225,225,225,0.3)",d.fillRect(a,o,c,l),r.borderWidth>0&&(d.lineWidth=r.borderWidth,d.strokeStyle=r.borderColor||"rgba(225,225,225)",d.strokeRect(a,o,c,l)),d.restore()}var z4={id:"zoom",version:B4,defaults:{pan:{enabled:!1,mode:"xy",threshold:10,modifierKey:null},zoom:{wheel:{enabled:!1,speed:.1,modifierKey:null},drag:{enabled:!1,drawTime:"beforeDatasetsDraw",modifierKey:null},pinch:{enabled:!1},mode:"xy"}},start:function(s,e,t){const r=Ls(s);r.options=t,Object.prototype.hasOwnProperty.call(t.zoom,"enabled")&&console.warn("The option `zoom.enabled` is no longer supported. Please use `zoom.wheel.enabled`, `zoom.drag.enabled`, or `zoom.pinch.enabled`."),(Object.prototype.hasOwnProperty.call(t.zoom,"overScaleMode")||Object.prototype.hasOwnProperty.call(t.pan,"overScaleMode"))&&console.warn("The option `overScaleMode` is deprecated. Please use `scaleMode` instead (and update `mode` as desired)."),Gc&&Cg(s,t),s.pan=(n,i,a)=>Ex(s,n,i,a),s.zoom=(n,i)=>Eh(s,n,i),s.zoomRect=(n,i,a)=>jx(s,n,i,a),s.zoomScale=(n,i,a)=>b4(s,n,i,a),s.resetZoom=n=>y4(s,n),s.getZoomLevel=()=>v4(s),s.getInitialScaleBounds=()=>Sx(s),s.getZoomedScaleBounds=()=>N4(s),s.isZoomedOrPanned=()=>k4(s),s.isZoomingOrPanning=()=>wg(s)},beforeEvent(s,{event:e}){if(wg(s))return!1;if(e.type==="click"||e.type==="mouseup"){const t=Ls(s);if(t.filterNextClick)return t.filterNextClick=!1,!1}},beforeUpdate:function(s,e,t){const r=Ls(s),n=r.options;r.options=t,F4(n,t)&&(jg(s),Cg(s,t)),L4(s,t)},beforeDatasetsDraw(s,e,t){yu(s,"beforeDatasetsDraw",t)},afterDatasetsDraw(s,e,t){yu(s,"afterDatasetsDraw",t)},beforeDraw(s,e,t){yu(s,"beforeDraw",t)},afterDraw(s,e,t){yu(s,"afterDraw",t)},stop:function(s){T4(s),Gc&&jg(s),s4(s)},panFunctions:Af,zoomFunctions:Ef,zoomRectFunctions:Sf};const Eg=typeof window<"u"&&window?.document?.documentElement||null;function $4(s){try{if(!Eg)return null;const e=getComputedStyle(Eg).getPropertyValue(s).trim();if(!e)return null;if(e.startsWith("#"))return e;const r=e.replace(/,/g," ").replace(/\s+/g," ").trim().split(" ");if(r.length===3&&r.every(n=>/^\d+$/.test(n))){const[n,i,a]=r.map(Number);return`rgb(${n} ${i} ${a})`}return e||null}catch{return null}}function Tf(s,e=1){if(!s)return`rgba(0,0,0,${e})`;const t=s.match(/^#([0-9a-fA-F]{6})$/);if(t){const n=t[1],i=parseInt(n.substr(0,2),16),a=parseInt(n.substr(2,2),16),o=parseInt(n.substr(4,2),16);return`rgba(${i}, ${a}, ${o}, ${e})`}const r=s.match(/(\d+)\s*(?:[, ])\s*(\d+)\s*(?:[, ])\s*(\d+)/)||s.match(/(\d+)\s+(\d+)\s+(\d+)/);if(r){const n=Number(r[1]),i=Number(r[2]),a=Number(r[3]);return`rgba(${n}, ${i}, ${a}, ${e})`}return`rgba(0,0,0,${e})`}function ds(s,e,t=1){const r=$4(s);return r?Tf(r,t):e?Tf(e,t):`rgba(0,0,0,${t})`}const Pm={pain:{none:ds("--color-pain-none",Mt.colors.pain.none),mild:ds("--color-pain-mild",Mt.colors.pain.mild),moderate:ds("--color-pain-moderate",Mt.colors.pain.moderate),severe:ds("--color-pain-severe",Mt.colors.pain.severe),extreme:ds("--color-pain-extreme",Mt.colors.pain.extreme)},treatment:{primary:ds("--chart-series-2",Mt.colors.secondary[500]),medication:ds("--chart-series-3",Mt.colors.accent[500]),therapy:ds("--chart-series-1",Mt.colors.primary[600]),lifestyle:ds("--chart-series-6",Mt.colors.neutral[600])},analytics:{trend:ds("--chart-series-1",Mt.colors.primary[500]),average:ds("--chart-series-2",Mt.colors.secondary[500]),prediction:ds("--chart-series-3",Mt.colors.accent[400]),baseline:ds("--chart-series-6",Mt.colors.neutral[500])},status:{normal:ds("--chart-series-1",Mt.colors.status.info),warning:ds("--chart-series-4",Mt.colors.status.warning),critical:ds("--chart-series-6",Mt.colors.status.error),success:ds("--chart-series-2",Mt.colors.status.success)},series:[ds("--chart-series-1",Mt.colors.primary[500]),ds("--chart-series-2",Mt.colors.secondary[500]),ds("--chart-series-3",Mt.colors.accent[500]),ds("--chart-series-4",Mt.colors.pain.severe),ds("--chart-series-5",Mt.colors.pain.moderate),ds("--chart-series-6",Mt.colors.neutral[600]),ds("--chart-series-1",Mt.colors.primary[700]),ds("--chart-series-2",Mt.colors.secondary[700]),ds("--chart-series-3",Mt.colors.accent[700]),ds("--chart-series-6",Mt.colors.pain.extreme)]},W4=(s,e="series")=>{const t=Pm[e];return Array.isArray(t)?t[s%t.length]:typeof t=="object"?Object.values(t)[s%Object.values(t).length]:Pm.series[s%Pm.series.length]},q4=(s,e=.2,t="series")=>{const r=W4(s,t);return r.startsWith("rgba")?r.replace(/rgba\((\d+),\s*(\d+),\s*(\d+),\s*([0-9.]+)\)/,`rgba($1, $2, $3, ${e})`):Tf(r,e)};q4(0,.1,"analytics");typeof window<"u"&&$u._registered!==!0&&($u.register(...JE,z4),$u._registered=!0);const Sg={warmth:0,coachIntensity:0,allowLightness:!1,medicalTerms:!1},Cm={risingPainIncrease:1.5,flarePainLevel:7,recoveryHours:24};class H4{measurements=[];detectState(e,t){if(e.length===0)return"stable";const r=[...e].sort((a,o)=>new Date(o.timestamp).getTime()-new Date(a.timestamp).getTime()),n=r[0],i=n.baselineData?.pain??n.intensity??0;if(i>=Cm.flarePainLevel)return"flare";if(t!==void 0&&t<Cm.recoveryHours)return"recovery";if(r.length>=2){const a=r[1],o=a.baselineData?.pain??a.intensity??0;if(i-o>=Cm.risingPainIncrease)return"rising"}return"stable"}calculatePainTrend(e){if(e.length<2)return;const t=[...e].sort((a,o)=>new Date(o.timestamp).getTime()-new Date(a.timestamp).getTime()),r=t[0].baselineData?.pain??t[0].intensity??0,n=t[1].baselineData?.pain??t[1].intensity??0,i=r-n;return{current:r,previous:n,direction:i>.5?"up":i<-.5?"down":"stable"}}buildContext(e,t,r){return{state:this.detectState(e,r?.timeSinceFlare),preferences:t,painTrend:this.calculatePainTrend(e),timeSinceFlare:r?.timeSinceFlare,sleepQuality:r?.sleepQuality}}selectCopy(e,t){if(e.states){const r=e.states[t.state];if(r)return r}return e.warmth&&t.preferences.warmth===1?e.warmth.warm:e.medical&&t.preferences.medicalTerms?e.medical.withTerms:e.base}generateInsight(e,t=14){if(e.length<2)return null;const r=new Date;r.setDate(r.getDate()-t);const n=e.filter(y=>new Date(y.timestamp)>=r);if(n.length<2)return null;const i=n.reduce((y,v)=>y+(v.baselineData?.pain??v.intensity??0),0)/n.length,a=new Date(r);a.setDate(a.getDate()-t);const o=e.filter(y=>new Date(y.timestamp)>=a&&new Date(y.timestamp)<r);if(o.length<2)return{summary:`Last ${t} days: average pain ${i.toFixed(1)}.`,confidence:"low"};const c=o.reduce((y,v)=>y+(v.baselineData?.pain??v.intensity??0),0)/o.length,l=i-c,d=l>0?"â†‘":"â†“",f=Math.abs(l),p=n.length>=10?"high":n.length>=5?"medium":"low",m=`Last ${t} days: average pain ${c.toFixed(1)} â†’ ${i.toFixed(1)} (${d}${f.toFixed(1)}).`,b=[];return{summary:m,factors:b.length>0?b:void 0,confidence:p}}trackMeasurement(e){this.measurements.push(e),this.persistMeasurement(e)}getAcceptanceRate(e,t){const r=this.measurements.filter(i=>i.metric==="prompt_acceptance"&&i.context.intent===e&&(!t||i.context.state===t));return r.length===0?void 0:r.reduce((i,a)=>i+a.value,0)/r.length}getAverageTimeToCalm(){const e=this.measurements.filter(r=>r.metric==="time_to_calm");return e.length===0?void 0:e.reduce((r,n)=>r+n.value,0)/e.length}async persistMeasurement(e){try{await(await this.openDatabase()).transaction("tone-measurements","readwrite").objectStore("tone-measurements").add(e)}catch(t){console.error("Failed to persist tone measurement:",t)}}async openDatabase(){return new Promise((e,t)=>{const r=indexedDB.open("pain-tracker-tone",1);r.onerror=()=>t(r.error),r.onsuccess=()=>e(r.result),r.onupgradeneeded=n=>{const i=n.target.result;i.objectStoreNames.contains("tone-measurements")||i.createObjectStore("tone-measurements",{keyPath:"timestamp",autoIncrement:!0})}})}async loadMeasurements(){try{const n=(await this.openDatabase()).transaction("tone-measurements","readonly").objectStore("tone-measurements").getAll();n.onsuccess=()=>{this.measurements=n.result}}catch(e){console.error("Failed to load tone measurements:",e)}}}const Vo=new H4;async function Y4(){await Vo.loadMeasurements()}const Ux=$.createContext(void 0);function G4({children:s}){const e=Ko(p=>p.entries||[]),[t,r]=$.useState(()=>{const p=localStorage.getItem("tone-preferences");if(p)try{return JSON.parse(p)}catch{return Sg}return Sg}),[n,i]=$.useState(()=>Vo.buildContext(e,t));$.useEffect(()=>{const p=Vo.buildContext(e,t,{});i(p)},[e,t]);const a=$.useCallback(p=>{r(m=>{const b={...m,...p};return localStorage.setItem("tone-preferences",JSON.stringify(b)),b})},[]),o=$.useCallback(p=>Vo.selectCopy(p,n),[n]),c=$.useCallback((p,m)=>{const b={metric:"prompt_acceptance",value:m?1:0,context:{state:n.state,intent:p},timestamp:new Date().toISOString()};Vo.trackMeasurement(b)},[n.state]),l=$.useCallback(p=>{const m={metric:"time_to_calm",value:p,context:{state:"flare",intent:"coach"},timestamp:new Date().toISOString()};Vo.trackMeasurement(m)},[]),d=$.useCallback(p=>{i(m=>({...m,state:p}))},[]),f={context:n,preferences:t,updatePreferences:a,getCopy:o,trackInteraction:c,trackTimeToCalm:l,forceState:d};return u.jsxDEV(Ux.Provider,{value:f,children:s},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/contexts/ToneContext.tsx",lineNumber:145,columnNumber:5},this)}function Sh(){const s=$.useContext(Ux);if(!s)throw new Error("useTone must be used within ToneProvider");return s}function Is(s){const{getCopy:e}=Sh();return e(s)}const On={painSliderLabel:{base:"Pain intensity (0â€“10)",states:{flare:"Pain level"},medical:{plain:"Pain intensity",withTerms:"Pain intensity (numeric rating scale)"}},painSliderHint:{base:"Use slider or enter number directly",states:{flare:"Pick your number"}},locationsLabel:{base:"Where does it hurt?",states:{stable:"Affected areas",flare:"Location"}},locationsHint:{base:"Choose all that apply",states:{flare:"Tap all areas"}},bodyMapToggle:{base:"Or choose from a list",states:{flare:"Use list instead"}},notesLabel:{base:"Anything worth noting?",states:{stable:"Notes (optional)",flare:"Notes"},warmth:{neutral:"Additional notes",warm:"Anything worth noting?"}},notesPlaceholder:{base:"What triggered it? What helped?",states:{stable:"Triggers, relief strategies, context...",flare:"What happened?"}},continueButton:{base:"Continue",states:{flare:"Next"}},saveButton:{base:"Save entry",states:{stable:"Save and finish",flare:"Save"}},keyboardHint:{base:"Press Enter to continue",states:{flare:"Enter = next"}}},bi={greeting:{base:"You're safe. We'll go step by step.",warmth:{neutral:"Flare mode. Follow the guide.",warm:"You're safe. We'll go step by step."}},breathingPhases:{inhale:{base:"Inhaleâ€¦ 4",states:{flare:"Inâ€¦ 4"}},hold:{base:"Holdâ€¦ 4",states:{flare:"Holdâ€¦ 4"}},exhale:{base:"Exhaleâ€¦ 6",states:{flare:"Outâ€¦ 6"}},pause:{base:"Pauseâ€¦ 2",states:{flare:"Restâ€¦ 2"}}},affirmations:["This will pass.","You've managed this before.","One breath at a time.","You're doing what helps.","Your body is working to calm.","This is temporary.","You're safe right now.","Each breath helps."],crisisPrompt:{base:"Need immediate support?",states:{flare:"Need help now?"}},crisisHotline:{base:"988 Suicide & Crisis Lifeline",srText:"Call 988 for immediate crisis support"},closeButton:{base:"I'm feeling better",states:{flare:"Done"},warmth:{neutral:"Exit",warm:"I'm feeling better"}}},xu={noLogs:{headline:{base:"Two days of logs unlock patterns."},subtext:{base:"Start with todayâ€”10 seconds."},cta:{base:"Log first entry"},secondaryCta:{base:"Learn how tracking helps"}}},K4=bi.affirmations,vu={inhale:4e3,hold:4e3,exhale:6e3,pause:2e3};function X4({isActive:s,onClose:e,affirmations:t=K4,showRedactionToggle:r=!1}){const[n,i]=$.useState("inhale"),[a,o]=$.useState(0),[c,l]=$.useState(!1),[d,f]=$.useState(0),[p]=$.useState(Date.now()),{trackTimeToCalm:m}=Sh(),b=Is(bi.greeting),y=Is(bi.crisisPrompt),v=Is(bi.crisisHotline),N=Is(bi.closeButton),w=Is(bi.breathingPhases.inhale),j=Is(bi.breathingPhases.hold),C=Is(bi.breathingPhases.exhale),S=Is(bi.breathingPhases.pause),A=()=>{const R=(Date.now()-p)/1e3;m(R),e()},U=R=>{if("vibrate"in navigator){const E={light:[10],medium:[20],heavy:[30,10,30]};navigator.vibrate(E[R])}};if($.useEffect(()=>{if(!s)return;const R=[{phase:"inhale",duration:vu.inhale},{phase:"hold",duration:vu.hold},{phase:"exhale",duration:vu.exhale},{phase:"pause",duration:vu.pause}];let E=0;const L=()=>{E=(E+1)%R.length;const{phase:z,duration:Z}=R[E];return i(z),z==="inhale"?(U("light"),f(re=>re+1)):z==="exhale"&&U("medium"),setTimeout(L,Z)},F=setTimeout(L,R[0].duration);return()=>clearTimeout(F)},[s,n]),$.useEffect(()=>{if(!s)return;const R=setInterval(()=>{o(E=>(E+1)%t.length)},1e4);return()=>clearInterval(R)},[s,t.length]),$.useEffect(()=>{s&&(i("inhale"),o(0),f(0),U("heavy"))},[s]),!s)return null;const P=()=>{switch(n){case"inhale":return w;case"hold":return j;case"exhale":return C;case"pause":return S}},T=()=>{switch(n){case"inhale":return"scale-150";case"hold":return"scale-150";case"exhale":return"scale-100";case"pause":return"scale-100"}};return u.jsxDEV("div",{className:"fixed inset-0 z-[9999] bg-gradient-to-br from-blue-950 via-indigo-950 to-purple-950 flex items-center justify-center p-4 animate-in fade-in duration-500",role:"dialog","aria-modal":"true","aria-labelledby":"panic-mode-title","aria-describedby":"panic-mode-description",children:[u.jsxDEV("button",{onClick:A,className:$e("absolute top-6 right-6 z-10","w-14 h-14 min-w-[56px] min-h-[56px]","bg-white/10 hover:bg-white/20 rounded-full","flex items-center justify-center","text-white/60 hover:text-white/90","transition-all duration-300","focus:outline-none focus:ring-4 focus:ring-white/30","backdrop-blur-sm"),"aria-label":N,children:u.jsxDEV(Pi,{className:"w-6 h-6"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/PanicMode.tsx",lineNumber:185,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/PanicMode.tsx",lineNumber:171,columnNumber:7},this),r&&u.jsxDEV("button",{onClick:()=>l(!c),className:$e("absolute top-6 left-6 z-10","px-4 py-2 min-h-[44px]","bg-white/10 hover:bg-white/20 rounded-full","text-white/60 hover:text-white/90 text-sm","transition-all duration-300","focus:outline-none focus:ring-4 focus:ring-white/30","backdrop-blur-sm"),"aria-label":c?"Show content":"Hide sensitive content","aria-pressed":c,children:c?"ðŸ‘ï¸ Show":"ðŸ™ˆ Hide"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/PanicMode.tsx",lineNumber:190,columnNumber:9},this),u.jsxDEV("div",{className:"max-w-2xl w-full text-center space-y-8",children:[u.jsxDEV("div",{children:[u.jsxDEV("h1",{id:"panic-mode-title",className:"text-4xl md:text-5xl font-bold text-white mb-3 animate-in fade-in slide-in-from-bottom-4 duration-700",children:b},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/PanicMode.tsx",lineNumber:212,columnNumber:11},this),u.jsxDEV("p",{id:"panic-mode-description",className:"text-xl text-white/70 animate-in fade-in slide-in-from-bottom-4 duration-700 delay-100",children:t[a]},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/PanicMode.tsx",lineNumber:218,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/PanicMode.tsx",lineNumber:211,columnNumber:9},this),u.jsxDEV("div",{className:"flex items-center justify-center py-12",children:u.jsxDEV("div",{className:$e("relative w-64 h-64 rounded-full","bg-gradient-to-br from-blue-400/30 to-purple-400/30","backdrop-blur-xl border-4 border-white/20","flex items-center justify-center","transition-transform duration-[4000ms] ease-in-out",T()),role:"img","aria-label":`Breathing guide: ${P()}`,"aria-live":"polite",children:[u.jsxDEV("div",{className:"absolute inset-4 rounded-full bg-gradient-to-br from-blue-300/20 to-purple-300/20 blur-xl"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/PanicMode.tsx",lineNumber:242,columnNumber:13},this),u.jsxDEV(Gr,{className:"w-16 h-16 text-white/50 animate-pulse","aria-hidden":"true"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/PanicMode.tsx",lineNumber:245,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/PanicMode.tsx",lineNumber:228,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/PanicMode.tsx",lineNumber:227,columnNumber:9},this),u.jsxDEV("div",{className:"text-2xl md:text-3xl font-medium text-white animate-in fade-in duration-500","aria-live":"assertive","aria-atomic":"true",children:P()},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/PanicMode.tsx",lineNumber:250,columnNumber:9},this),u.jsxDEV("div",{className:"text-sm text-white/50",children:[d," breathing ",d===1?"cycle":"cycles"," completed"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/PanicMode.tsx",lineNumber:259,columnNumber:9},this),u.jsxDEV("div",{className:"text-sm text-white/40 max-w-md mx-auto space-y-2",children:[u.jsxDEV("p",{children:"Follow the expanding and contracting circle"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/PanicMode.tsx",lineNumber:265,columnNumber:11},this),u.jsxDEV("p",{children:"Take your time. There's no rush."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/PanicMode.tsx",lineNumber:266,columnNumber:11},this),u.jsxDEV("p",{className:"text-xs mt-4",children:"Press the Ã— button when you're ready to return"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/PanicMode.tsx",lineNumber:267,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/PanicMode.tsx",lineNumber:264,columnNumber:9},this),u.jsxDEV("div",{className:"pt-8 border-t border-white/10",children:[u.jsxDEV("p",{className:"text-xs text-white/40 mb-3",children:y},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/PanicMode.tsx",lineNumber:272,columnNumber:11},this),u.jsxDEV("div",{className:"flex flex-wrap gap-3 justify-center",children:[u.jsxDEV("a",{href:"tel:988",className:$e("px-6 py-3 min-h-[48px]","bg-white/10 hover:bg-white/20 rounded-full","text-white/80 hover:text-white text-sm font-medium","transition-all duration-300","focus:outline-none focus:ring-4 focus:ring-white/30"),children:v},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/PanicMode.tsx",lineNumber:274,columnNumber:13},this),u.jsxDEV("button",{onClick:A,className:$e("px-6 py-3 min-h-[48px]","bg-white/10 hover:bg-white/20 rounded-full","text-white/80 hover:text-white text-sm font-medium","transition-all duration-300","focus:outline-none focus:ring-4 focus:ring-white/30"),children:N},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/PanicMode.tsx",lineNumber:286,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/PanicMode.tsx",lineNumber:273,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/PanicMode.tsx",lineNumber:271,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/PanicMode.tsx",lineNumber:209,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/PanicMode.tsx",lineNumber:163,columnNumber:5},this)}function J4({children:s,onNavigate:e,currentView:t="dashboard",stats:r}){const[n,i]=$.useState(!1),[a,o]=$.useState(!1),{mode:c,setMode:l}=hD(),d=[{id:"dashboard",name:"Dashboard",icon:B5,badge:null},{id:"new-entry",name:"New Entry",icon:am,badge:null},{id:"body-map",name:"Body Map",icon:u1,badge:null},{id:"fibromyalgia",name:"Fibromyalgia Hub",icon:Gr,badge:"New"},{id:"analytics",name:"Analytics",icon:Xo,badge:"Pro"},{id:"calendar",name:"Calendar",icon:wl,badge:null},{id:"reports",name:"Reports",icon:al,badge:null}],f=[{id:"settings",name:"Settings",icon:dw},{id:"help",name:"Help",icon:u5}];return u.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-blue-50 dark:from-gray-950 dark:via-gray-900 dark:to-blue-950",children:[u.jsxDEV("a",{href:"#main-content",className:"sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-[9999] focus:px-6 focus:py-3 focus:bg-primary-600 focus:text-white focus:rounded-lg focus:shadow-lg focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 focus:outline-none",children:"Skip to main content"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:65,columnNumber:7},this),u.jsxDEV("header",{className:"fixed top-0 left-0 right-0 z-50 backdrop-blur-xl bg-white/70 dark:bg-gray-900/70 border-b border-gray-200/50 dark:border-gray-700/50",children:u.jsxDEV("div",{className:"mx-auto max-w-screen-2xl px-4 sm:px-6 lg:px-8",children:u.jsxDEV("div",{className:"flex h-16 items-center justify-between",children:[u.jsxDEV("div",{className:"flex items-center gap-4",children:[u.jsxDEV("button",{onClick:()=>i(!n),className:"lg:hidden p-2 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors","aria-label":n?"Close navigation menu":"Open navigation menu","data-testid":"nav-toggle",children:n?u.jsxDEV(Pi,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:84,columnNumber:32},this):u.jsxDEV(Z5,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:84,columnNumber:60},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:78,columnNumber:15},this),u.jsxDEV("div",{className:"flex items-center gap-3",children:[u.jsxDEV("div",{className:"p-2 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl shadow-lg shadow-blue-500/30",children:u.jsxDEV(Gr,{className:"h-6 w-6 text-white"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:89,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:88,columnNumber:17},this),u.jsxDEV("div",{className:"hidden sm:block",children:[u.jsxDEV("h1",{className:"text-lg font-bold bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-blue-400 dark:to-indigo-400 bg-clip-text text-transparent",children:"Pain Tracker Pro"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:92,columnNumber:19},this),u.jsxDEV("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Empathy-Driven Care"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:95,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:91,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:87,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:77,columnNumber:13},this),r&&u.jsxDEV("div",{className:"hidden md:flex items-center gap-4",children:[u.jsxDEV("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full bg-blue-50 dark:bg-blue-950/30 border border-blue-200 dark:border-blue-800",children:[u.jsxDEV(Xn,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:104,columnNumber:19},this),u.jsxDEV("span",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:[r.avgPain.toFixed(1)," avg"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:105,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:103,columnNumber:17},this),u.jsxDEV("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full bg-purple-50 dark:bg-purple-950/30 border border-purple-200 dark:border-purple-800",children:[u.jsxDEV(Qa,{className:"h-4 w-4 text-purple-600 dark:text-purple-400"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:110,columnNumber:19},this),u.jsxDEV("span",{className:"text-sm font-medium text-purple-900 dark:text-purple-100",children:[r.streak," day streak"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:111,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:109,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:102,columnNumber:15},this),u.jsxDEV("div",{className:"flex items-center gap-2",children:[u.jsxDEV(pr,{variant:"ghost",size:"sm",className:"rounded-xl",onClick:()=>{},children:u.jsxDEV(Gk,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:126,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:120,columnNumber:15},this),u.jsxDEV(pr,{variant:"ghost",size:"sm",className:"rounded-xl",onClick:()=>l(c==="dark"?"light":"dark"),children:c==="dark"?u.jsxDEV(eo,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:136,columnNumber:19},this):u.jsxDEV(sa,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:138,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:129,columnNumber:15},this),u.jsxDEV("div",{className:"p-2 bg-gradient-to-br from-green-400 to-emerald-500 rounded-xl cursor-pointer hover:shadow-lg hover:shadow-green-500/30 transition-all",children:u.jsxDEV(Za,{className:"h-4 w-4 text-white"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:143,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:142,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:119,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:75,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:74,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:73,columnNumber:7},this),u.jsxDEV("aside",{className:"hidden lg:fixed lg:inset-y-0 lg:left-0 lg:z-40 lg:block lg:w-64 lg:pt-16",children:u.jsxDEV("div",{className:"h-full px-4 py-6 bg-white/50 dark:bg-gray-900/50 backdrop-blur-sm border-r border-gray-200/50 dark:border-gray-700/50",children:[u.jsxDEV("nav",{className:"space-y-1",children:d.map(p=>{const m=p.icon,b=t===p.id;return u.jsxDEV("button",{onClick:()=>e?.(p.id),"data-nav-target":p.id,className:$e("group flex w-full items-center justify-between rounded-xl px-4 py-3 text-sm font-medium transition-all duration-200",b?"bg-gradient-to-r from-blue-500 to-indigo-600 text-white shadow-lg shadow-blue-500/30":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"),children:[u.jsxDEV("div",{className:"flex items-center gap-3",children:[u.jsxDEV(m,{className:$e("h-5 w-5 transition-transform group-hover:scale-110",b?"text-white":"text-gray-500 dark:text-gray-400")},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:171,columnNumber:21},this),u.jsxDEV("span",{children:p.name},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:175,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:170,columnNumber:19},this),p.badge&&u.jsxDEV(Oa,{variant:"outline",className:"rounded-full text-xs",children:p.badge},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:178,columnNumber:21},this)]},p.id,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:159,columnNumber:17},this)})},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:153,columnNumber:11},this),u.jsxDEV("div",{className:"mt-8 pt-8 border-t border-gray-200 dark:border-gray-700",children:u.jsxDEV("nav",{className:"space-y-1",children:f.map(p=>{const m=p.icon,b=t===p.id;return u.jsxDEV("button",{onClick:()=>e?.(p.id),className:$e("group flex w-full items-center gap-3 rounded-xl px-4 py-3 text-sm font-medium transition-all",b?"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white":"text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-800/50"),children:[u.jsxDEV(m,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:204,columnNumber:21},this),u.jsxDEV("span",{children:p.name},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:205,columnNumber:21},this)]},p.id,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:194,columnNumber:19},this)})},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:188,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:187,columnNumber:11},this),u.jsxDEV("div",{className:"mt-8",children:u.jsxDEV(pr,{onClick:()=>e?.("new-entry"),className:"w-full bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white rounded-xl shadow-lg shadow-blue-500/30 transition-all hover:shadow-xl hover:shadow-blue-500/40",children:[u.jsxDEV(am,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:218,columnNumber:15},this),"Quick Entry"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:214,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:213,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:152,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:151,columnNumber:7},this),n&&u.jsxDEV("div",{className:"fixed inset-0 z-40 lg:hidden",children:[u.jsxDEV("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>i(!1)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:228,columnNumber:11},this),u.jsxDEV("aside",{className:"fixed inset-y-0 left-0 w-64 bg-white dark:bg-gray-900 shadow-xl",children:u.jsxDEV("div",{className:"h-full px-4 py-6 pt-20",children:u.jsxDEV("nav",{className:"space-y-1",children:d.map(p=>{const m=p.icon,b=t===p.id;return u.jsxDEV("button",{onClick:()=>{e?.(p.id),i(!1)},"data-nav-target":p.id,className:$e("group flex w-full items-center justify-between rounded-xl px-4 py-3 text-sm font-medium transition-all",b?"bg-gradient-to-r from-blue-500 to-indigo-600 text-white shadow-lg":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"),children:[u.jsxDEV("div",{className:"flex items-center gap-3",children:[u.jsxDEV(m,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:255,columnNumber:25},this),u.jsxDEV("span",{children:p.name},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:256,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:254,columnNumber:23},this),p.badge&&u.jsxDEV(Oa,{variant:"outline",className:"rounded-full text-xs",children:p.badge},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:259,columnNumber:25},this)]},p.id,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:240,columnNumber:21},this)})},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:234,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:233,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:232,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:227,columnNumber:9},this),u.jsxDEV("main",{id:"main-content",className:"lg:pl-64 pt-16",tabIndex:-1,children:u.jsxDEV("div",{className:"mx-auto max-w-screen-2xl px-4 sm:px-6 lg:px-8 py-8",children:s},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:274,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:273,columnNumber:7},this),u.jsxDEV("button",{onClick:()=>e?.("new-entry"),className:"lg:hidden fixed bottom-6 right-6 z-50 p-4 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-full shadow-2xl shadow-blue-500/50 hover:shadow-blue-500/70 transition-all hover:scale-110","aria-label":"Quick pain entry",children:u.jsxDEV(am,{className:"h-6 w-6 text-white"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:285,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:280,columnNumber:7},this),u.jsxDEV("button",{onClick:()=>o(!0),className:$e("fixed bottom-6 left-6 z-50","w-14 h-14 min-w-[56px] min-h-[56px]","bg-gradient-to-br from-purple-500 to-indigo-600","rounded-full shadow-2xl shadow-purple-500/50","flex items-center justify-center","text-white","transition-all duration-300","hover:scale-110 hover:shadow-purple-500/70","focus:outline-none focus:ring-4 focus:ring-purple-500 focus:ring-offset-2","lg:bottom-8 lg:left-8"),"aria-label":"Activate calm breathing mode",title:"Need a moment? Click for breathing guide",children:u.jsxDEV(jw,{className:"h-6 w-6 animate-pulse"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:306,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:289,columnNumber:7},this),u.jsxDEV(X4,{isActive:a,onClose:()=>o(!1),showRedactionToggle:!1},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:310,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:63,columnNumber:5},this)}function jm({title:s,value:e,delta:t,sparkline:r,severity:n,unit:i,className:a,compact:o=!1}){const c=f=>`var(--severity-${f})`,l=()=>{if(!t)return null;switch(t.direction){case"up":return u.jsxDEV(Xo,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/MetricCard.tsx",lineNumber:40,columnNumber:16},this);case"down":return u.jsxDEV(l1,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/MetricCard.tsx",lineNumber:42,columnNumber:16},this);default:return u.jsxDEV(ew,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/MetricCard.tsx",lineNumber:44,columnNumber:16},this)}},d=()=>t?t.direction==="down"?"text-good-500":t.direction==="up"?"text-bad-500":"text-ink-400":"text-ink-400";return u.jsxDEV("div",{className:$e("surface-card transition-all duration-[var(--duration-fast)]","hover:surface-elevated hover:shadow-[var(--elevation-2)]",o&&"p-4",a),children:[u.jsxDEV("div",{className:"text-small text-ink-300 mb-2",children:s},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/MetricCard.tsx",lineNumber:65,columnNumber:7},this),u.jsxDEV("div",{className:"flex items-baseline gap-2 mb-1",children:[u.jsxDEV("span",{className:$e(o?"text-h2":"text-display","text-mono text-ink-50"),children:e},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/MetricCard.tsx",lineNumber:71,columnNumber:9},this),i&&u.jsxDEV("span",{className:"text-small text-ink-400",children:i},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/MetricCard.tsx",lineNumber:78,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/MetricCard.tsx",lineNumber:70,columnNumber:7},this),t&&u.jsxDEV("div",{className:$e("flex items-center gap-1 text-small",d()),children:[l(),u.jsxDEV("span",{className:"text-mono",children:[t.value>0?"+":"",t.value.toFixed(1)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/MetricCard.tsx",lineNumber:91,columnNumber:11},this),t.label&&u.jsxDEV("span",{className:"text-ink-400",children:t.label},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/MetricCard.tsx",lineNumber:95,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/MetricCard.tsx",lineNumber:86,columnNumber:9},this),r&&r.length>0&&u.jsxDEV("div",{className:"mt-3 h-8",children:u.jsxDEV("svg",{width:"100%",height:"100%",viewBox:"0 0 100 32",preserveAspectRatio:"none",className:"overflow-visible",children:u.jsxDEV("polyline",{fill:"none",stroke:"var(--primary-500)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",points:r.map((f,p)=>{const m=p/(r.length-1)*100,b=Math.max(...r),y=Math.min(...r),v=b-y||1,N=32-(f-y)/v*28;return`${m},${N}`}).join(" ")},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/MetricCard.tsx",lineNumber:112,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/MetricCard.tsx",lineNumber:105,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/MetricCard.tsx",lineNumber:104,columnNumber:9},this),n!==void 0&&u.jsxDEV("div",{className:"mt-3 h-1 bg-surface-700 rounded-full overflow-hidden",children:u.jsxDEV("div",{className:"h-full transition-all duration-[var(--duration-normal)]",style:{width:`${n/10*100}%`,backgroundColor:c(n)}},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/MetricCard.tsx",lineNumber:134,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/MetricCard.tsx",lineNumber:133,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/MetricCard.tsx",lineNumber:58,columnNumber:5},this)}function Z4({statement:s,confidence:e,rationale:t,onDismiss:r,className:n}){const[i,a]=$.useState(!1),o=()=>Array.from({length:3},(c,l)=>u.jsxDEV("div",{className:$e("w-1.5 h-1.5 rounded-full transition-colors",l<e?"bg-primary-500":"bg-surface-600")},l,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/InsightChip.tsx",lineNumber:25,columnNumber:7},this));return u.jsxDEV("div",{className:$e("relative inline-block",n),children:[u.jsxDEV("div",{className:$e("flex items-center gap-2 px-3 py-2 rounded-[var(--radius-md)]","bg-surface-700 border border-surface-600","text-small text-ink-100","transition-all duration-[var(--duration-fast)]","hover:bg-surface-600 hover:border-primary-500/30"),children:[u.jsxDEV("span",{className:"flex-1",children:s},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/InsightChip.tsx",lineNumber:45,columnNumber:9},this),u.jsxDEV("div",{className:"flex items-center gap-0.5",children:o()},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/InsightChip.tsx",lineNumber:48,columnNumber:9},this),u.jsxDEV("button",{onClick:()=>a(!i),className:$e("p-1 rounded hover:bg-surface-500 transition-colors","focus-visible:outline focus-visible:outline-2 focus-visible:outline-primary-500"),"aria-label":"Show insight details",children:u.jsxDEV(vi,{className:"w-3.5 h-3.5 text-ink-400"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/InsightChip.tsx",lineNumber:61,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/InsightChip.tsx",lineNumber:53,columnNumber:9},this),r&&u.jsxDEV("button",{onClick:r,className:$e("p-1 rounded hover:bg-surface-500 transition-colors","focus-visible:outline focus-visible:outline-2 focus-visible:outline-primary-500"),"aria-label":"Dismiss insight",children:u.jsxDEV(Pi,{className:"w-3.5 h-3.5 text-ink-400"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/InsightChip.tsx",lineNumber:74,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/InsightChip.tsx",lineNumber:66,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/InsightChip.tsx",lineNumber:37,columnNumber:7},this),i&&u.jsxDEV(u.Fragment,{children:[u.jsxDEV("div",{className:"fixed inset-0 z-[var(--z-popover)]",onClick:()=>a(!1)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/InsightChip.tsx",lineNumber:83,columnNumber:11},this),u.jsxDEV("div",{className:$e("absolute left-0 top-full mt-2 z-[calc(var(--z-popover)+1)]","w-80 max-w-[90vw]","bg-surface-700 border border-surface-500 rounded-[var(--radius-xl)]","shadow-[var(--elevation-3)] p-4","animate-in fade-in-0 slide-in-from-top-2 duration-[var(--duration-fast)]"),children:[u.jsxDEV("div",{className:"flex items-start justify-between gap-3 mb-3",children:[u.jsxDEV("h4",{className:"text-body-medium text-ink-50",children:"Why this insight?"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/InsightChip.tsx",lineNumber:97,columnNumber:15},this),u.jsxDEV("button",{onClick:()=>a(!1),className:"p-1 rounded hover:bg-surface-600 transition-colors","aria-label":"Close",children:u.jsxDEV(Pi,{className:"w-4 h-4 text-ink-400"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/InsightChip.tsx",lineNumber:103,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/InsightChip.tsx",lineNumber:98,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/InsightChip.tsx",lineNumber:96,columnNumber:13},this),u.jsxDEV("p",{className:"text-small text-ink-200 leading-relaxed mb-3",children:t},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/InsightChip.tsx",lineNumber:107,columnNumber:13},this),u.jsxDEV("div",{className:"flex items-center gap-2 text-tiny text-ink-400",children:[u.jsxDEV("span",{children:"Confidence:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/InsightChip.tsx",lineNumber:113,columnNumber:15},this),u.jsxDEV("div",{className:"flex items-center gap-1",children:o()},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/InsightChip.tsx",lineNumber:114,columnNumber:15},this),u.jsxDEV("span",{children:e===3?"High":e===2?"Medium":"Low"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/InsightChip.tsx",lineNumber:117,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/InsightChip.tsx",lineNumber:112,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/InsightChip.tsx",lineNumber:89,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/InsightChip.tsx",lineNumber:81,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/InsightChip.tsx",lineNumber:36,columnNumber:5},this)}const Nu=["No pain","Very mild","Mild","Uncomfortable","Moderate","Distracting","Distressing","Intense","Very intense","Severe","Unbearable"],Q4=["Lower back","Upper back","Neck","Shoulder (L)","Shoulder (R)","Hip (L)","Hip (R)","Knee (L)","Knee (R)","Head","Abdomen"],eS=["Aching","Sharp","Burning","Throbbing","Stabbing","Tingling","Numbness","Stiffness","Weakness"];function tS({onComplete:s,onCancel:e}){const[t,r]=$.useState(1),[n,i]=$.useState(5),[a,o]=$.useState([]),[c,l]=$.useState([]),[d,f]=$.useState(""),p=Is(On.painSliderLabel),m=Is(On.painSliderHint),b=Is(On.locationsLabel),y=Is(On.locationsHint);Is(On.bodyMapToggle);const v=Is(On.notesLabel),N=Is(On.notesPlaceholder),w=Is(On.continueButton),j=Is(On.saveButton),C=Is(On.keyboardHint),S=R=>{i(R)},A=(R,E,L)=>{E.includes(R)?L(E.filter(F=>F!==R)):L([...E,R])},U=$.useCallback(()=>{t<3?r(t+1):s({pain:n,locations:a,symptoms:c,notes:d})},[t,n,a,c,d,s]),P=()=>{t>1?r(t-1):e()},T=R=>`hsl(220, ${20+R*5}%, ${95-R*6}%)`;return $.useEffect(()=>{const R=E=>{if(E.key==="Enter"&&!E.shiftKey){if(document.activeElement?.tagName==="TEXTAREA")return;E.preventDefault(),U()}E.key==="Escape"&&(E.preventDefault(),t>1?r(t-1):e())};return document.addEventListener("keydown",R),()=>document.removeEventListener("keydown",R)},[t,U,e]),u.jsxDEV("div",{className:"min-h-screen bg-surface-900 flex flex-col",children:[u.jsxDEV("div",{className:"flex items-center justify-between p-4 border-b border-surface-700",children:[u.jsxDEV("button",{onClick:P,className:$e("flex items-center gap-2 px-3 py-2 rounded-[var(--radius-md)]","text-small text-ink-300 hover:text-ink-100 hover:bg-surface-800","transition-colors duration-[var(--duration-fast)]"),children:[u.jsxDEV(t1,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:130,columnNumber:11},this),t===1?"Cancel":"Back"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:122,columnNumber:9},this),u.jsxDEV("div",{className:"flex items-center gap-2",children:[1,2,3].map(R=>u.jsxDEV("div",{className:$e("w-2 h-2 rounded-full transition-all duration-[var(--duration-normal)]",R===t&&"w-6 bg-primary-500",R<t&&"bg-good-500",R>t&&"bg-surface-600")},R,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:136,columnNumber:13},this))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:134,columnNumber:9},this),u.jsxDEV("div",{className:"text-small text-ink-400 text-mono w-16 text-right",children:[t,"/3"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:148,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:121,columnNumber:7},this),u.jsxDEV("div",{className:"flex-1 overflow-y-auto p-6",children:[t===1&&u.jsxDEV("div",{className:"max-w-2xl mx-auto space-y-6",children:[u.jsxDEV("div",{children:[u.jsxDEV("h2",{className:"text-h2 text-ink-50 mb-2",children:p},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:158,columnNumber:15},this),u.jsxDEV("p",{className:"text-small text-ink-400",children:m},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:159,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:157,columnNumber:13},this),u.jsxDEV("div",{className:"flex items-center justify-center gap-4 mb-6",children:[u.jsxDEV("button",{onClick:()=>S(Math.max(0,n-1)),"aria-label":"Decrease pain level",className:$e("flex items-center justify-center","w-12 h-12 min-w-[48px] min-h-[48px]","rounded-[var(--radius-md)]","bg-surface-700 hover:bg-surface-600 border border-surface-600","text-ink-200 hover:text-ink-100","transition-colors duration-[var(--duration-fast)]","text-h2 font-medium","disabled:opacity-50 disabled:cursor-not-allowed"),disabled:n===0,children:"âˆ’"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:164,columnNumber:15},this),u.jsxDEV("input",{type:"number",min:"0",max:"10",value:n,onChange:R=>{const E=Math.max(0,Math.min(10,Number(R.target.value)));S(E)},"aria-label":"Pain level numeric entry",className:$e("w-24 h-16 text-center","text-4xl font-bold text-mono","bg-surface-800 border-2 border-surface-600","text-ink-50 rounded-[var(--radius-md)]","focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent","[appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none")},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:182,columnNumber:15},this),u.jsxDEV("button",{onClick:()=>S(Math.min(10,n+1)),"aria-label":"Increase pain level",className:$e("flex items-center justify-center","w-12 h-12 min-w-[48px] min-h-[48px]","rounded-[var(--radius-md)]","bg-surface-700 hover:bg-surface-600 border border-surface-600","text-ink-200 hover:text-ink-100","transition-colors duration-[var(--duration-fast)]","text-h2 font-medium","disabled:opacity-50 disabled:cursor-not-allowed"),disabled:n===10,children:"+"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:202,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:163,columnNumber:13},this),u.jsxDEV("div",{className:$e("p-8 rounded-[var(--radius-xl)] text-center","transition-all duration-[var(--duration-normal)]"),style:{backgroundColor:T(n),color:n>5?"var(--ink-50)":"var(--ink-900)"},role:"status","aria-live":"polite",children:[u.jsxDEV("div",{className:"text-display text-mono mb-2 text-6xl font-bold",children:n},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:234,columnNumber:15},this),u.jsxDEV("div",{className:"text-body-medium",children:Nu[n]},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:237,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:222,columnNumber:13},this),u.jsxDEV("div",{className:"space-y-2",children:[u.jsxDEV("label",{htmlFor:"pain-slider",className:"sr-only",children:"Pain intensity slider. Use arrow keys or swipe to adjust."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:244,columnNumber:15},this),u.jsxDEV("input",{id:"pain-slider",type:"range",min:"0",max:"10",value:n,onChange:R=>S(Number(R.target.value)),onKeyDown:R=>{R.key==="ArrowUp"||R.key==="ArrowRight"?(R.preventDefault(),S(Math.min(10,n+1))):(R.key==="ArrowDown"||R.key==="ArrowLeft")&&(R.preventDefault(),S(Math.max(0,n-1)))},"aria-label":"Pain intensity","aria-valuemin":0,"aria-valuemax":10,"aria-valuenow":n,"aria-valuetext":`${n} of 10, ${Nu[n]}`,"aria-describedby":"pain-slider-help",className:`w-full h-12 cursor-pointer appearance-none bg-transparent\r
                  [&::-webkit-slider-track]:h-2 [&::-webkit-slider-track]:bg-surface-700 \r
                  [&::-webkit-slider-track]:rounded-full\r
                  [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-6 \r
                  [&::-webkit-slider-thumb]:h-6 [&::-webkit-slider-thumb]:rounded-full \r
                  [&::-webkit-slider-thumb]:bg-primary-500 [&::-webkit-slider-thumb]:shadow-lg\r
                  [&::-moz-range-track]:h-2 [&::-moz-range-track]:bg-surface-700 \r
                  [&::-moz-range-track]:rounded-full\r
                  [&::-moz-range-thumb]:w-6 [&::-moz-range-thumb]:h-6 \r
                  [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:bg-primary-500 \r
                  [&::-moz-range-thumb]:border-0 [&::-moz-range-thumb]:shadow-lg\r
                  focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 focus:ring-offset-surface-900`},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:247,columnNumber:15},this),u.jsxDEV("div",{id:"pain-slider-help",className:"sr-only",children:"Use arrow keys to adjust pain level, or click the plus and minus buttons above for precise control."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:282,columnNumber:15},this),u.jsxDEV("div",{className:"flex justify-between text-tiny text-ink-400 text-mono px-1",children:Array.from({length:11},(R,E)=>u.jsxDEV("button",{onClick:()=>S(E),"aria-label":`Set pain level to ${E}, ${Nu[E]}`,className:$e("w-8 h-8 min-w-[32px] min-h-[32px] rounded flex items-center justify-center","hover:bg-surface-700 transition-colors","focus:outline-none focus:ring-2 focus:ring-primary-500",E===n&&"bg-primary-500 text-ink-900 font-bold"),children:E},E,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:289,columnNumber:19},this))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:287,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:243,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:156,columnNumber:11},this),t===2&&u.jsxDEV("div",{className:"max-w-2xl mx-auto space-y-6",children:[u.jsxDEV("div",{children:[u.jsxDEV("h2",{className:"text-h2 text-ink-50 mb-2",children:b},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:311,columnNumber:15},this),u.jsxDEV("p",{className:"text-small text-ink-400",children:y},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:312,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:310,columnNumber:13},this),u.jsxDEV("div",{"aria-live":"polite","aria-atomic":"true",className:"sr-only",children:a.length>0?`${a.length} location${a.length>1?"s":""} selected: ${a.join(", ")}`:"No locations selected"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:316,columnNumber:13},this),u.jsxDEV("fieldset",{children:[u.jsxDEV("legend",{className:"sr-only",children:"Pain locations"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:325,columnNumber:15},this),u.jsxDEV("div",{className:"flex flex-wrap gap-2",children:Q4.map(R=>u.jsxDEV("button",{onClick:()=>A(R,a,o),role:"checkbox","aria-checked":a.includes(R),"aria-label":`${R} location`,className:$e("px-4 py-2 min-w-[48px] min-h-[48px] rounded-[var(--radius-full)] text-small","border-2 transition-all duration-[var(--duration-fast)]","focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 focus:ring-offset-surface-900",a.includes(R)?"bg-primary-500 border-primary-500 text-ink-900 font-medium":"bg-surface-800 border-surface-600 text-ink-200 hover:border-primary-500/50"),children:[a.includes(R)&&u.jsxDEV(Ip,{className:"w-3 h-3 inline mr-1","aria-hidden":"true"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:343,columnNumber:49},this),R]},R,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:328,columnNumber:19},this))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:326,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:324,columnNumber:13},this),u.jsxDEV("div",{className:"mt-8",children:[u.jsxDEV("h3",{className:"text-body-medium text-ink-200 mb-3",children:"What does it feel like?"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:352,columnNumber:15},this),u.jsxDEV("div",{"aria-live":"polite","aria-atomic":"true",className:"sr-only",children:c.length>0?`${c.length} symptom${c.length>1?"s":""} selected: ${c.join(", ")}`:"No symptoms selected"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:355,columnNumber:15},this),u.jsxDEV("fieldset",{children:[u.jsxDEV("legend",{className:"sr-only",children:"Pain symptoms"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:363,columnNumber:17},this),u.jsxDEV("div",{className:"flex flex-wrap gap-2",children:eS.map(R=>u.jsxDEV("button",{onClick:()=>A(R,c,l),role:"checkbox","aria-checked":c.includes(R),"aria-label":`${R} symptom`,className:$e("px-4 py-2 min-w-[48px] min-h-[48px] rounded-[var(--radius-full)] text-small","border-2 transition-all duration-[var(--duration-fast)]","focus:outline-none focus:ring-2 focus:ring-warn-500 focus:ring-offset-2 focus:ring-offset-surface-900",c.includes(R)?"bg-warn-500 border-warn-500 text-ink-900 font-medium":"bg-surface-800 border-surface-600 text-ink-200 hover:border-warn-500/50"),children:[c.includes(R)&&u.jsxDEV(Ip,{className:"w-3 h-3 inline mr-1","aria-hidden":"true"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:381,columnNumber:50},this),R]},R,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:366,columnNumber:21},this))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:364,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:362,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:351,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:309,columnNumber:11},this),t===3&&u.jsxDEV("div",{className:"max-w-2xl mx-auto space-y-6",children:[u.jsxDEV("div",{children:[u.jsxDEV("h2",{className:"text-h2 text-ink-50 mb-2",children:v},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:394,columnNumber:15},this),u.jsxDEV("p",{className:"text-small text-ink-400",children:"Context helps identify patterns"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:395,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:393,columnNumber:13},this),u.jsxDEV("div",{children:[u.jsxDEV("label",{htmlFor:"pain-notes",className:"block text-body-medium text-ink-200 mb-2",children:"Additional Notes"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:399,columnNumber:15},this),u.jsxDEV("textarea",{id:"pain-notes",value:d,onChange:R=>f(R.target.value),placeholder:N,"aria-label":"Additional notes about pain","aria-describedby":"notes-hint notes-remaining",maxLength:500,className:$e("w-full h-32 p-4 rounded-[var(--radius-xl)]","bg-surface-800 border border-surface-600","text-body text-ink-100 placeholder:text-ink-500","focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 focus:ring-offset-surface-900 focus:border-transparent","transition-all duration-[var(--duration-fast)]","resize-none")},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:402,columnNumber:15},this),u.jsxDEV("div",{className:"flex justify-between items-center mt-2",children:[u.jsxDEV("span",{id:"notes-hint",className:"text-small text-ink-400",children:d.length===0?"No notes yet":`${d.length} character${d.length===1?"":"s"}`},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:420,columnNumber:17},this),u.jsxDEV("span",{id:"notes-remaining",className:"text-small text-ink-500","aria-live":"polite","aria-atomic":"true",children:[500-d.length," remaining"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:423,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:419,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:398,columnNumber:13},this),u.jsxDEV("div",{className:"surface-card",children:[u.jsxDEV("div",{className:"text-small text-ink-400 mb-3",children:"Summary"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:436,columnNumber:15},this),u.jsxDEV("div",{className:"space-y-2",children:[u.jsxDEV("div",{className:"flex items-center gap-2",children:[u.jsxDEV("span",{className:"text-ink-300",children:"Pain level:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:439,columnNumber:19},this),u.jsxDEV("span",{className:"text-mono text-ink-50 font-medium",children:[n,"/10"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:440,columnNumber:19},this),u.jsxDEV("span",{className:"text-ink-400",children:["(",Nu[n],")"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:441,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:438,columnNumber:17},this),a.length>0&&u.jsxDEV("div",{className:"flex items-start gap-2",children:[u.jsxDEV("span",{className:"text-ink-300",children:"Locations:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:445,columnNumber:21},this),u.jsxDEV("span",{className:"text-ink-50",children:a.join(", ")},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:446,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:444,columnNumber:19},this),c.length>0&&u.jsxDEV("div",{className:"flex items-start gap-2",children:[u.jsxDEV("span",{className:"text-ink-300",children:"Symptoms:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:451,columnNumber:21},this),u.jsxDEV("span",{className:"text-ink-50",children:c.join(", ")},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:452,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:450,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:437,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:435,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:392,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:154,columnNumber:7},this),u.jsxDEV("div",{className:"sticky bottom-0 left-0 right-0 p-4 border-t border-surface-700 bg-surface-900/95 backdrop-blur-sm z-10",children:[u.jsxDEV("div",{className:"max-w-2xl mx-auto flex gap-3",children:[t>1&&u.jsxDEV("button",{onClick:()=>r(t-1),className:$e("px-6 py-4 rounded-[var(--radius-xl)]","min-h-[56px] min-w-[56px]","bg-surface-800 hover:bg-surface-700","text-body-medium text-ink-200 font-medium","transition-colors duration-[var(--duration-fast)]","focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 focus:ring-offset-surface-900","flex-shrink-0"),"aria-label":"Go back to previous step",children:"Back"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:465,columnNumber:13},this),u.jsxDEV("button",{onClick:U,className:$e("flex-1 py-4 rounded-[var(--radius-xl)]","min-h-[56px]","bg-primary-500 hover:bg-primary-400","text-body-medium text-ink-900 font-medium","transition-colors duration-[var(--duration-fast)]","shadow-[var(--elevation-2)]","focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 focus:ring-offset-surface-900"),"aria-label":t===3?"Save pain entry":`Continue to step ${t+1}`,children:t===3?j:w},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:481,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:463,columnNumber:9},this),u.jsxDEV("div",{className:"max-w-2xl mx-auto mt-2 text-center",children:u.jsxDEV("p",{className:"text-xs text-ink-500",children:[C,t>1&&u.jsxDEV(u.Fragment,{children:[" or ",u.jsxDEV("kbd",{className:"px-2 py-1 bg-surface-800 rounded text-ink-400",children:"Esc"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:501,columnNumber:32},this)," to go back"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:501,columnNumber:26},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:499,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:498,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:462,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:119,columnNumber:5},this)}function sS({entries:s,onLogNow:e,onViewCalendar:t,onViewAnalytics:r,onExport:n}){const i=$.useMemo(()=>{const l=[],d=s.length>0?s.reduce((m,b)=>new Date(b.timestamp)>new Date(m.timestamp)?b:m):null,f=d?(Date.now()-new Date(d.timestamp).getTime())/(1e3*60*60):1/0;if((f>4||s.length===0)&&l.push({id:"log-pain",priority:"primary",icon:Xn,title:"Log pain now",subtitle:d?`Last entry: ${Math.floor(f)}h ago`:"Start your tracking journey",action:e,badge:"Quick",estimatedTime:"~10s"}),s.length>=7){const m=s.filter(b=>{const y=new Date(b.timestamp),v=new Date(Date.now()-10080*60*1e3);return y>=v});m.length>=5&&l.push({id:"review-trends",priority:"secondary",icon:Xo,title:"Review weekly trends",subtitle:`${m.length} entries logged this week`,action:r,estimatedTime:"2 min"})}s.length>=3&&l.push({id:"view-calendar",priority:"secondary",icon:wl,title:"View calendar",subtitle:"See your pain patterns at a glance",action:t,estimatedTime:"1 min"});const p=s.filter(m=>{const b=new Date(m.timestamp),y=new Date(Date.now()-10080*60*1e3);return b>=y});if(p.length>=7&&l.push({id:"export-report",priority:"tertiary",icon:al,title:"Share report with provider",subtitle:"7 days of data ready to export",action:n,badge:"Ready",estimatedTime:"30s"}),s.length>=7){const m=p.map(N=>N.baselineData.pain),b=m.reduce((N,w)=>N+w,0)/m.length,y=m.reduce((N,w)=>N+Math.pow(w-b,2),0)/m.length;Math.sqrt(y)>2&&l.push({id:"learn-patterns",priority:"tertiary",icon:$5,title:"Explore flare triggers",subtitle:"High pain variability detected",action:r,badge:"Insight",estimatedTime:"3 min"})}return l},[s,e,t,r,n]);if(i.length===0)return null;const a=i.find(l=>l.priority==="primary"),o=i.filter(l=>l.priority==="secondary"),c=i.filter(l=>l.priority==="tertiary");return u.jsxDEV("div",{className:"surface-card",children:[u.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[u.jsxDEV("h2",{className:"text-body-medium text-ink-100",children:"Recommended for You"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:152,columnNumber:9},this),u.jsxDEV("div",{className:"flex items-center gap-1.5 text-ink-500",children:[u.jsxDEV(pd,{className:"w-3.5 h-3.5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:154,columnNumber:11},this),u.jsxDEV("span",{className:"text-tiny",children:"Updated just now"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:155,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:153,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:151,columnNumber:7},this),u.jsxDEV("div",{className:"space-y-2",children:[a&&u.jsxDEV("button",{onClick:a.action,className:$e("w-full flex items-center justify-between p-4 rounded-[var(--radius-md)]","bg-primary-500 hover:bg-primary-400","transition-all duration-[var(--duration-fast)]","text-left group","hover:scale-[1.01] active:scale-[0.99]"),children:[u.jsxDEV("div",{className:"flex items-center gap-3",children:[u.jsxDEV("div",{className:"p-2 bg-ink-900/20 rounded-[var(--radius-sm)] group-hover:bg-ink-900/30 transition-colors",children:u.jsxDEV(a.icon,{className:"w-5 h-5 text-ink-900"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:174,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:173,columnNumber:15},this),u.jsxDEV("div",{children:[u.jsxDEV("div",{className:"text-body-medium text-ink-900 mb-0.5",children:a.title},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:177,columnNumber:17},this),u.jsxDEV("div",{className:"text-tiny text-ink-800",children:[a.subtitle,a.estimatedTime&&` â€¢ ${a.estimatedTime}`]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:180,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:176,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:172,columnNumber:13},this),a.badge&&u.jsxDEV("div",{className:"text-tiny text-mono bg-ink-900/20 px-2.5 py-1 rounded-full text-ink-900 font-medium",children:a.badge},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:187,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:162,columnNumber:11},this),o.map(l=>u.jsxDEV("button",{onClick:l.action,className:$e("w-full flex items-center justify-between p-3 rounded-[var(--radius-md)]","bg-surface-700 hover:bg-surface-600 border border-surface-600","transition-all duration-[var(--duration-fast)]","text-left group","hover:border-surface-500"),children:[u.jsxDEV("div",{className:"flex items-center gap-3",children:[u.jsxDEV(l.icon,{className:"w-4 h-4 text-ink-400 group-hover:text-ink-300 transition-colors"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:208,columnNumber:15},this),u.jsxDEV("div",{children:[u.jsxDEV("span",{className:"text-small text-ink-200 group-hover:text-ink-100 transition-colors",children:l.title},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:210,columnNumber:17},this),u.jsxDEV("div",{className:"text-tiny text-ink-400 mt-0.5",children:[l.subtitle,l.estimatedTime&&` â€¢ ${l.estimatedTime}`]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:213,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:209,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:207,columnNumber:13},this),l.badge&&u.jsxDEV("div",{className:"text-tiny text-mono bg-surface-600 px-2 py-0.5 rounded text-ink-400 border border-surface-500",children:l.badge},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:220,columnNumber:15},this)]},l.id,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:196,columnNumber:11},this)),c.map(l=>u.jsxDEV("button",{onClick:l.action,className:$e("w-full flex items-center justify-between p-2.5 rounded-[var(--radius-sm)]","hover:bg-surface-800/50","transition-colors duration-[var(--duration-fast)]","text-left group"),children:[u.jsxDEV("div",{className:"flex items-center gap-2.5",children:[u.jsxDEV(l.icon,{className:"w-3.5 h-3.5 text-ink-500 group-hover:text-ink-400 transition-colors"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:240,columnNumber:15},this),u.jsxDEV("div",{children:[u.jsxDEV("span",{className:"text-small text-ink-300 group-hover:text-ink-200 transition-colors",children:l.title},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:242,columnNumber:17},this),u.jsxDEV("div",{className:"text-tiny text-ink-500 mt-0.5",children:l.subtitle},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:245,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:241,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:239,columnNumber:13},this),l.badge&&u.jsxDEV("div",{className:"text-tiny text-mono px-2 py-0.5 rounded text-ink-500",children:l.badge},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:251,columnNumber:15},this)]},l.id,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:229,columnNumber:11},this))]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:159,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:150,columnNumber:5},this)}function Ag({entries:s,onLogNow:e,onViewCalendar:t,onViewAnalytics:r,onExport:n}){const i=$.useMemo(()=>{if(s.length===0)return{avgPain:0,delta:0,sparkline:[],daysTracked:0,variability:0,lastEntry:null,insights:[]};const o=[...s].sort((S,A)=>new Date(S.timestamp).getTime()-new Date(A.timestamp).getTime()),c=new Date,l=new Date(c.getTime()-10080*60*1e3),d=o.filter(S=>new Date(S.timestamp)>=l),f=o.filter(S=>{const A=new Date(S.timestamp),U=new Date(c.getTime()-336*60*60*1e3);return A>=U&&A<l}),p=d.length>0?d.reduce((S,A)=>S+A.baselineData.pain,0)/d.length:0,m=f.length>0?f.reduce((S,A)=>S+A.baselineData.pain,0)/f.length:p,b=p-m,y=d.slice(-7).map(S=>S.baselineData.pain),v=p,N=d.length>1?d.reduce((S,A)=>S+Math.pow(A.baselineData.pain-v,2),0)/d.length:0,w=Math.sqrt(N),j=new Set(d.map(S=>new Date(S.timestamp).toDateString())).size,C=[];return b<-.5&&C.push({statement:`Pain trending down ${Math.abs(b).toFixed(1)} points vs last week`,confidence:b<-1?3:2,rationale:`Your 7-day average is ${p.toFixed(1)}, compared to ${m.toFixed(1)} the previous week. This represents a ${Math.abs(b/m*100).toFixed(0)}% improvement.`}),w>2&&C.push({statement:`High pain variability detected (SD: ${w.toFixed(1)})`,confidence:2,rationale:"Your pain levels vary significantly day-to-day. This could indicate external triggers or inconsistent management. Consider tracking context factors."}),j>=6&&C.push({statement:`Excellent tracking consistency (${j}/7 days)`,confidence:3,rationale:`You've logged pain on ${j} out of the last 7 days. Consistent tracking helps identify patterns and measure treatment effectiveness.`}),{avgPain:p,delta:b,sparkline:y,daysTracked:j,variability:w,lastEntry:o[o.length-1],insights:C}},[s]),a=()=>{if(!i.lastEntry)return"Never";const o=Date.now()-new Date(i.lastEntry.timestamp).getTime(),c=Math.floor(o/(1e3*60*60)),l=Math.floor(c/24);return l>0?`${l}d ago`:c>0?`${c}h ago`:"Just now"};return u.jsxDEV("div",{className:"min-h-screen bg-surface-900 p-6",children:u.jsxDEV("div",{className:"max-w-7xl mx-auto space-y-6",children:[u.jsxDEV("div",{className:"flex items-center justify-between",children:[u.jsxDEV("div",{children:[u.jsxDEV("h1",{className:"text-display text-ink-50 mb-1",children:"Today"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:132,columnNumber:13},this),u.jsxDEV("p",{className:"text-small text-ink-400",children:new Date().toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:133,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:131,columnNumber:11},this),u.jsxDEV("div",{className:"flex items-center gap-2",children:[u.jsxDEV(pd,{className:"w-4 h-4 text-ink-500"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:142,columnNumber:13},this),u.jsxDEV("span",{className:"text-small text-ink-400",children:["Last entry: ",a()]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:143,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:141,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:130,columnNumber:9},this),u.jsxDEV(sS,{entries:s,onLogNow:e,onViewCalendar:t,onViewAnalytics:r||(()=>{}),onExport:n},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:150,columnNumber:9},this),u.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxDEV(jm,{title:"Avg Pain (7d)",value:i.avgPain.toFixed(1),unit:"/10",delta:{value:-i.delta,direction:i.delta<-.3?"down":i.delta>.3?"up":"neutral",label:"vs last week"},sparkline:i.sparkline,severity:Math.round(i.avgPain)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:160,columnNumber:11},this),u.jsxDEV(jm,{title:"Tracking Streak",value:i.daysTracked,unit:"days",delta:{value:i.daysTracked>=5?1:-1,direction:i.daysTracked>=5?"up":"down",label:"this week"}},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:173,columnNumber:11},this),u.jsxDEV(jm,{title:"Variability Index",value:i.variability.toFixed(1),delta:{value:0,direction:"neutral",label:"rolling SD"}},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:184,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:159,columnNumber:9},this),i.insights.length>0&&u.jsxDEV("div",{className:"surface-card",children:[u.jsxDEV("div",{className:"flex items-center gap-2 mb-4",children:[u.jsxDEV(Jo,{className:"w-5 h-5 text-primary-500"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:199,columnNumber:15},this),u.jsxDEV("h2",{className:"text-body-medium text-ink-100",children:"Insights"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:200,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:198,columnNumber:13},this),u.jsxDEV("div",{className:"space-y-2",children:i.insights.map((o,c)=>u.jsxDEV(Z4,{statement:o.statement,confidence:o.confidence,rationale:o.rationale},c,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:204,columnNumber:17},this))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:202,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:197,columnNumber:11},this),u.jsxDEV("div",{className:"surface-card",children:[u.jsxDEV("h2",{className:"text-body-medium text-ink-200 mb-3",children:"Next Steps"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:217,columnNumber:11},this),u.jsxDEV("div",{className:"text-small text-ink-300 space-y-2",children:[u.jsxDEV("p",{children:"â€¢ Continue daily tracking for pattern detection"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:219,columnNumber:13},this),u.jsxDEV("p",{children:"â€¢ Review calendar for weekly trends"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:220,columnNumber:13},this),u.jsxDEV("p",{children:"â€¢ Share 7-day report with provider before next visit"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:221,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:218,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:216,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:128,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:127,columnNumber:5},this)}function _g({id:s,type:e,title:t,message:r,duration:n=5e3,action:i,customOnDismiss:a,onDismiss:o}){const[c,l]=$.useState(!0),[d,f]=$.useState(!1),p=$.useCallback(()=>{f(!0),setTimeout(()=>{l(!1),o(s),a?.()},150)},[s,o,a]);$.useEffect(()=>{if(n>0){const y=setTimeout(()=>{p()},n);return()=>clearTimeout(y)}},[n,p]);const m=()=>{switch(e){case"success":return u.jsxDEV(il,{className:"h-5 w-5 text-green-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/Toast.tsx",lineNumber:52,columnNumber:16},this);case"error":return u.jsxDEV(m5,{className:"h-5 w-5 text-red-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/Toast.tsx",lineNumber:54,columnNumber:16},this);case"warning":return u.jsxDEV(nh,{className:"h-5 w-5 text-yellow-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/Toast.tsx",lineNumber:56,columnNumber:16},this);case"info":return u.jsxDEV(vi,{className:"h-5 w-5 text-blue-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/Toast.tsx",lineNumber:58,columnNumber:16},this);default:return u.jsxDEV(vi,{className:"h-5 w-5 text-blue-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/Toast.tsx",lineNumber:60,columnNumber:16},this)}},b=()=>{switch(e){case"success":return"bg-green-50 border-green-200 dark:bg-green-950/30 dark:border-green-800";case"error":return"bg-red-50 border-red-200 dark:bg-red-950/30 dark:border-red-800";case"warning":return"bg-yellow-50 border-yellow-200 dark:bg-yellow-950/30 dark:border-yellow-800";case"info":return"bg-blue-50 border-blue-200 dark:bg-blue-950/30 dark:border-blue-800";default:return"bg-card border-border"}};return c?u.jsxDEV("div",{className:`
        pointer-events-auto w-full max-w-sm rounded-lg border p-4 shadow-lg
        transition-all duration-150 ease-in-out
        ${b()}
        ${d?"opacity-0 transform translate-x-full":"opacity-100 transform translate-x-0"}
      `,role:"alert","aria-live":"polite",children:u.jsxDEV("div",{className:"flex items-start space-x-3",children:[u.jsxDEV("div",{className:"flex-shrink-0",children:m()},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/Toast.tsx",lineNumber:93,columnNumber:9},this),u.jsxDEV("div",{className:"flex-1 min-w-0",children:[u.jsxDEV("h4",{className:"text-sm font-semibold text-foreground",children:t},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/Toast.tsx",lineNumber:98,columnNumber:11},this),r&&u.jsxDEV("p",{className:"text-sm text-muted-foreground mt-1",children:r},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/Toast.tsx",lineNumber:100,columnNumber:13},this),i&&u.jsxDEV("button",{onClick:i.onClick,className:"text-sm font-medium text-primary hover:text-primary/80 mt-2 block",children:i.label},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/Toast.tsx",lineNumber:104,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/Toast.tsx",lineNumber:97,columnNumber:9},this),u.jsxDEV("button",{onClick:p,className:"flex-shrink-0 text-muted-foreground hover:text-foreground transition-colors","aria-label":"Dismiss notification",children:u.jsxDEV(Pi,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/Toast.tsx",lineNumber:118,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/Toast.tsx",lineNumber:113,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/Toast.tsx",lineNumber:92,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/Toast.tsx",lineNumber:82,columnNumber:5},this):null}const Mx=$.createContext(void 0);function rS(){const s=$.useContext(Mx);if(!s)throw new Error("useToastContext must be used within a ToastProvider");return s}function nS({children:s}){const[e,t]=$.useState([]),[r,n]=$.useState([]),i=l=>{const d=Math.random().toString(36).substring(2,9),f={...l,id:d};t(p=>[...p,f])},a=l=>{const d=Math.random().toString(36).substring(2,9),f={...l,id:d};n(p=>[...p,f])},o=l=>{t(d=>d.filter(f=>f.id!==l)),n(d=>d.filter(f=>f.id!==l))},c=()=>{t([]),n([])};return u.jsxDEV(Mx.Provider,{value:{addToast:i,removeToast:o,clearToasts:c,addBottomLeftToast:a},children:[s,u.jsxDEV("div",{className:"fixed top-4 right-4 z-[10002] flex flex-col space-y-2 pointer-events-none",children:e.map(l=>u.jsxDEV(_g,{...l,onDismiss:d=>o(d??l.id)},l.id,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/ToastProvider.tsx",lineNumber:72,columnNumber:11},this))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/ToastProvider.tsx",lineNumber:70,columnNumber:5},this),u.jsxDEV("div",{className:"fixed bottom-4 left-4 z-[10000] flex flex-col space-y-2 pointer-events-none max-w-[90%]",children:r.map(l=>u.jsxDEV(_g,{...l,onDismiss:d=>o(d??l.id)},l.id,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/ToastProvider.tsx",lineNumber:84,columnNumber:11},this))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/ToastProvider.tsx",lineNumber:82,columnNumber:3},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/ToastProvider.tsx",lineNumber:64,columnNumber:5},this)}function Ah(){const{addToast:s,removeToast:e,clearToasts:t,addBottomLeftToast:r}=rS();return{success:(i,a,o)=>{s({type:"success",title:i,message:a,action:o})},error:(i,a,o)=>{s({type:"error",title:i,message:a,action:o,duration:7e3})},warning:(i,a,o)=>{s({type:"warning",title:i,message:a,action:o,duration:6e3})},info:(i,a,o)=>{s({type:"info",title:i,message:a,action:o})},bottomLeft:{success:(i,a,o,c)=>{r({type:"success",title:i,message:a,action:o,onDismiss:c?.onDismiss})},error:(i,a,o,c)=>{r({type:"error",title:i,message:a,action:o,duration:7e3,onDismiss:c?.onDismiss})},warning:(i,a,o,c)=>{r({type:"warning",title:i,message:a,action:o,duration:6e3,onDismiss:c?.onDismiss})},info:(i,a,o,c)=>{r({type:"info",title:i,message:a,action:o,onDismiss:c?.onDismiss})}},custom:i=>{s(i)},dismiss:e,clear:t}}function iS(){return u.jsxDEV("div",{className:"flex justify-center",children:u.jsxDEV("svg",{width:"200",height:"160",viewBox:"0 0 200 160",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-muted-foreground",children:[u.jsxDEV("circle",{cx:"100",cy:"80",r:"60",fill:"currentColor",opacity:"0.1"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:17,columnNumber:9},this),u.jsxDEV("rect",{x:"60",y:"100",width:"8",height:"20",rx:"4",fill:"currentColor",opacity:"0.3"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:20,columnNumber:9},this),u.jsxDEV("rect",{x:"72",y:"90",width:"8",height:"30",rx:"4",fill:"currentColor",opacity:"0.4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:21,columnNumber:9},this),u.jsxDEV("rect",{x:"84",y:"85",width:"8",height:"35",rx:"4",fill:"currentColor",opacity:"0.5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:22,columnNumber:9},this),u.jsxDEV("rect",{x:"96",y:"95",width:"8",height:"25",rx:"4",fill:"currentColor",opacity:"0.4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:23,columnNumber:9},this),u.jsxDEV("rect",{x:"108",y:"105",width:"8",height:"15",rx:"4",fill:"currentColor",opacity:"0.3"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:24,columnNumber:9},this),u.jsxDEV("rect",{x:"120",y:"80",width:"8",height:"40",rx:"4",fill:"currentColor",opacity:"0.5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:25,columnNumber:9},this),u.jsxDEV("rect",{x:"132",y:"88",width:"8",height:"32",rx:"4",fill:"currentColor",opacity:"0.4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:26,columnNumber:9},this),u.jsxDEV("circle",{cx:"70",cy:"50",r:"3",fill:"currentColor",opacity:"0.3"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:29,columnNumber:9},this),u.jsxDEV("circle",{cx:"130",cy:"45",r:"2",fill:"currentColor",opacity:"0.4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:30,columnNumber:9},this),u.jsxDEV("circle",{cx:"150",cy:"65",r:"2.5",fill:"currentColor",opacity:"0.3"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:31,columnNumber:9},this),u.jsxDEV("g",{transform:"translate(85, 65)",children:[u.jsxDEV("path",{d:"M2 12L7 7L13 13L22 2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.6"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:35,columnNumber:11},this),u.jsxDEV("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2",opacity:"0.3"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:43,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:34,columnNumber:9},this),u.jsxDEV("line",{x1:"40",y1:"130",x2:"160",y2:"130",stroke:"currentColor",strokeWidth:"1",opacity:"0.2"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:47,columnNumber:9},this),u.jsxDEV("line",{x1:"50",y1:"135",x2:"150",y2:"135",stroke:"currentColor",strokeWidth:"1",opacity:"0.1"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:48,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:8,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:7,columnNumber:5},this)}function aS(){return u.jsxDEV("div",{className:"flex justify-center",children:u.jsxDEV("svg",{width:"200",height:"160",viewBox:"0 0 200 160",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-primary",children:[u.jsxDEV("circle",{cx:"100",cy:"80",r:"70",fill:"currentColor",opacity:"0.1"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:66,columnNumber:9},this),u.jsxDEV("rect",{x:"70",y:"50",width:"60",height:"45",rx:"4",stroke:"currentColor",strokeWidth:"2",opacity:"0.4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:69,columnNumber:9},this),[0,1,2,3,4].map(s=>[0,1,2,3,4,5].map(e=>{const t=(s+e)%3===0||s===2&&e===3;return u.jsxDEV("rect",{x:75+e*8,y:57+s*7,width:"6",height:"5",rx:"1",fill:"currentColor",opacity:t?.6:.2},`${s}-${e}`,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:77,columnNumber:15},this)})),u.jsxDEV("g",{transform:"translate(85, 105)",children:u.jsxDEV("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z",fill:"currentColor",opacity:"0.6"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:93,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:92,columnNumber:9},this),u.jsxDEV("circle",{cx:"45",cy:"80",r:"8",stroke:"currentColor",strokeWidth:"2",opacity:"0.3"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:101,columnNumber:9},this),u.jsxDEV("circle",{cx:"45",cy:"80",r:"8",stroke:"currentColor",strokeWidth:"2",strokeDasharray:"15,10",opacity:"0.6",transform:"rotate(-90 45 80)"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:102,columnNumber:9},this),u.jsxDEV("circle",{cx:"155",cy:"80",r:"8",stroke:"currentColor",strokeWidth:"2",opacity:"0.3"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:104,columnNumber:9},this),u.jsxDEV("circle",{cx:"155",cy:"80",r:"8",stroke:"currentColor",strokeWidth:"2",strokeDasharray:"20,5",opacity:"0.6",transform:"rotate(-90 155 80)"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:105,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:57,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:56,columnNumber:5},this)}function oS({title:s,description:e,primaryAction:t,secondaryAction:r,illustration:n,className:i=""}){return u.jsxDEV("div",{className:`text-center py-12 px-6 ${i}`,children:u.jsxDEV("div",{className:"max-w-md mx-auto",children:[u.jsxDEV("div",{className:"mb-8",children:n||u.jsxDEV(iS,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/EmptyState.tsx",lineNumber:38,columnNumber:28},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/EmptyState.tsx",lineNumber:37,columnNumber:9},this),u.jsxDEV("div",{className:"mb-8",children:[u.jsxDEV("h3",{className:"text-xl font-semibold text-foreground mb-3",children:s},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/EmptyState.tsx",lineNumber:43,columnNumber:11},this),u.jsxDEV("p",{className:"text-muted-foreground leading-relaxed",children:e},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/EmptyState.tsx",lineNumber:46,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/EmptyState.tsx",lineNumber:42,columnNumber:9},this),(t||r)&&u.jsxDEV("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[t&&u.jsxDEV(pr,{onClick:t.onClick,className:"flex items-center space-x-2",children:[t.icon,u.jsxDEV("span",{children:t.label},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/EmptyState.tsx",lineNumber:60,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/EmptyState.tsx",lineNumber:55,columnNumber:15},this),r&&u.jsxDEV(pr,{variant:"outline",onClick:r.onClick,children:r.label},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/EmptyState.tsx",lineNumber:65,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/EmptyState.tsx",lineNumber:53,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/EmptyState.tsx",lineNumber:35,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/EmptyState.tsx",lineNumber:34,columnNumber:5},this)}function Lg({onStartWalkthrough:s}){const{loadSampleData:e}=Ko(),t=Is(xu.noLogs.headline),r=Is(xu.noLogs.subtext),n=Is(xu.noLogs.cta),i=Is(xu.noLogs.secondaryCta),a=()=>{e()};return u.jsxDEV(un,{children:u.jsxDEV(Kn,{className:"pt-8 pb-8",children:u.jsxDEV(oS,{title:t,description:r,primaryAction:{label:n,onClick:s,icon:u.jsxDEV(c5,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/widgets/EmptyStatePanel.tsx",lineNumber:34,columnNumber:19},this)},secondaryAction:{label:i,onClick:a},illustration:u.jsxDEV(aS,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/widgets/EmptyStatePanel.tsx",lineNumber:40,columnNumber:25},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/widgets/EmptyStatePanel.tsx",lineNumber:28,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/widgets/EmptyStatePanel.tsx",lineNumber:27,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/widgets/EmptyStatePanel.tsx",lineNumber:26,columnNumber:5},this)}const Wu={simplifiedMode:!0,showMemoryAids:!0,autoSave:!0,showProgress:!0,showCognitiveLoadIndicators:!0,adaptiveComplexity:!0,fontSize:"medium",contrast:"normal",reduceMotion:!1,touchTargetSize:"large",confirmationLevel:"standard",voiceInput:!1,gentleLanguage:!0,hideDistressingContent:!1,showComfortPrompts:!0,enableContentWarnings:!0,contentWarningLevel:"standard",enableCrisisDetection:!0,crisisDetectionSensitivity:"medium",showCrisisResources:!0,enableProgressiveDisclosure:!0,defaultDisclosureLevel:"helpful",adaptiveDisclosure:!0,realTimeValidation:!0,theme:"auto",reminderFrequency:"daily"},cS=s=>({small:"14px",medium:"16px",large:"18px",xl:"20px"})[s],lS=s=>({normal:"44px",large:"56px","extra-large":"72px"})[s],Vx=$.createContext({preferences:Wu,updatePreferences:()=>{}}),Pd=()=>$.useContext(Vx);class uS{positiveKeywords=["better","improved","good","great","healing","progress","relief","comfortable","manageable","hopeful","grateful","thankful","blessed","stronger","resilient","capable","empowered","peaceful","calm"];negativeKeywords=["pain","hurt","suffering","agony","terrible","awful","unbearable","frustrated","angry","sad","depressed","anxious","worried","scared","overwhelmed","exhausted","defeated","hopeless","alone","isolated"];neutralKeywords=["same","unchanged","stable","managing","coping","continuing","routine","regular","normal","usual","consistent","steady"];triggerKeywords=["flare","spike","increase","worse","worsening","setback","episode","attack","breakthrough","sudden","intense","severe"];analyzeText(e){const t=e.toLowerCase().split(/\s+/),r=t.filter(p=>this.positiveKeywords.some(m=>p.includes(m))).length,n=t.filter(p=>this.negativeKeywords.some(m=>p.includes(m))).length,i=t.filter(p=>this.neutralKeywords.some(m=>p.includes(m))).length,a=t.filter(p=>this.triggerKeywords.some(m=>p.includes(m))).length;let o="neutral";r>n&&r>0?o="positive":n>r&&n>0?o="negative":r>0&&n>0&&(o="mixed");const c=["very","extremely","incredibly","really","so","quite"],l=t.filter(p=>c.includes(p)).length;let d="low";a>0||l>2?d="high":(l>0||n>1)&&(d="medium");const f=Math.min((r+n+i)/Math.max(t.length/4,1),1);return{valence:o,arousal:d,keywords:t.filter(p=>this.positiveKeywords.concat(this.negativeKeywords,this.neutralKeywords).some(m=>p.includes(m))),confidence:f,triggers:a>0?t.filter(p=>this.triggerKeywords.some(m=>p.includes(m))):void 0}}}class dS{supportiveMessages=["I hear that you're going through a challenging time. Your experience is valid and important.","Thank you for sharing what you're experiencing. It takes courage to track difficult moments.","Your pain matters, and so do you. Taking time to document this shows incredible strength.","I acknowledge how hard this must be for you right now. You're not alone in this journey.","Your feelings about this experience are completely understandable and valid."];emphaticMessages=["That sounds really difficult. I want you to know that your struggle is seen and recognized.","I can sense this is a tough moment for you. Please be gentle with yourself.","What you're experiencing sounds overwhelming. You're doing the best you can.","This sounds like a particularly hard day. Remember that difficult days don't last forever.","I hear the pain in your words. Your resilience in tracking this is remarkable."];celebratoryMessages=["This sounds like positive progress! It's wonderful to hear things are improving for you.","What encouraging news! Every step forward, no matter how small, is worth celebrating.","I'm so glad to hear you're experiencing some relief. You deserve these better moments.","This improvement is a testament to your strength and perseverance. Well done!","It's beautiful to see progress in your healing journey. Keep nurturing yourself."];gentleMessages=["Thank you for taking the time to track your experience. Every entry helps build understanding.","I appreciate you sharing this with me. Your consistency in tracking is admirable.","This information helps create a clearer picture of your journey. Thank you for your openness.","Each entry you make is a step toward better understanding your patterns. Well done.","Your commitment to tracking your experience shows real dedication to your wellbeing."];generate(e){let t,r,n,i,a;switch(e.valence){case"positive":t=this.celebratoryMessages,r="celebratory",n=eo,i="text-yellow-600 bg-yellow-50 border-yellow-200",a="Would you like to note what contributed to this positive experience?";break;case"negative":e.arousal==="high"?(t=this.emphaticMessages,r="empathetic",n=x5,i="text-blue-600 bg-blue-50 border-blue-200",a="Remember, you have support available. Would you like to review your comfort resources?"):(t=this.supportiveMessages,r="supportive",n=Gr,i="text-pink-600 bg-pink-50 border-pink-200",a="Taking care of yourself during difficult times is so important.");break;case"mixed":t=this.gentleMessages,r="gentle",n=Qa,i="text-purple-600 bg-purple-50 border-purple-200",a="Complex experiences deserve gentle acknowledgment.";break;default:t=this.gentleMessages,r="gentle",n=Za,i="text-green-600 bg-green-50 border-green-200";break}return{id:`validation-${Date.now()}`,message:t[Math.floor(Math.random()*t.length)],tone:r,icon:n,color:i,followUp:a,timestamp:new Date}}}function mS({text:s,onValidationGenerated:e,isActive:t=!0,delay:r=2e3}){const{preferences:n}=Pd(),[i,a]=$.useState(null),[o,c]=$.useState(!1),l=$.useRef(new uS),d=$.useRef(new dS),f=$.useRef(),p=$.useCallback(b=>{if(!b.trim()||b.length<10)return;const y=l.current.analyzeText(b);if(y.confidence<.2)return;const v=d.current.generate(y);a(v),c(!0),e?.(v),(y.valence!=="negative"||y.arousal!=="high")&&setTimeout(()=>c(!1),1e4)},[e]);if($.useEffect(()=>{if(!(!t||!n.realTimeValidation))return f.current&&clearTimeout(f.current),f.current=setTimeout(()=>{p(s)},r),()=>{f.current&&clearTimeout(f.current)}},[s,t,r,p,n.realTimeValidation]),!n.realTimeValidation||!i||!o)return null;const m=i.icon;return u.jsxDEV("div",{className:`
        mt-3 p-4 rounded-lg border transition-all duration-300 ease-in-out
        ${i.color}
        ${o?"opacity-100 transform translate-y-0":"opacity-0 transform translate-y-2"}
      `,role:"alert","aria-live":"polite",children:u.jsxDEV("div",{className:"flex items-start space-x-3",children:[u.jsxDEV(m,{className:"w-5 h-5 mt-0.5 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/services/EmotionalValidationService.tsx",lineNumber:273,columnNumber:9},this),u.jsxDEV("div",{className:"flex-1",children:[u.jsxDEV("p",{className:"text-sm font-medium mb-1",children:i.message},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/services/EmotionalValidationService.tsx",lineNumber:275,columnNumber:11},this),i.followUp&&u.jsxDEV("p",{className:"text-xs opacity-75",children:i.followUp},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/services/EmotionalValidationService.tsx",lineNumber:279,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/services/EmotionalValidationService.tsx",lineNumber:274,columnNumber:9},this),u.jsxDEV("button",{onClick:()=>c(!1),className:"text-xs opacity-50 hover:opacity-75 transition-opacity","aria-label":"Dismiss validation message",children:"âœ•"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/services/EmotionalValidationService.tsx",lineNumber:284,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/services/EmotionalValidationService.tsx",lineNumber:272,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/services/EmotionalValidationService.tsx",lineNumber:263,columnNumber:5},this)}function fS({validations:s,onClear:e}){const{preferences:t}=Pd();return!t.realTimeValidation||s.length===0?null:u.jsxDEV("div",{className:"space-y-2",children:[u.jsxDEV("div",{className:"flex items-center justify-between",children:[u.jsxDEV("h4",{className:"text-sm font-medium text-gray-700",children:"Recent Validation Messages"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/services/EmotionalValidationService.tsx",lineNumber:312,columnNumber:9},this),e&&u.jsxDEV("button",{onClick:e,className:"text-xs text-gray-500 hover:text-gray-700",children:"Clear History"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/services/EmotionalValidationService.tsx",lineNumber:314,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/services/EmotionalValidationService.tsx",lineNumber:311,columnNumber:7},this),u.jsxDEV("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:s.slice(-5).reverse().map(r=>{const n=r.icon;return u.jsxDEV("div",{className:`p-2 rounded text-xs border ${r.color}`,children:u.jsxDEV("div",{className:"flex items-start space-x-2",children:[u.jsxDEV(n,{className:"w-3 h-3 mt-0.5 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/services/EmotionalValidationService.tsx",lineNumber:332,columnNumber:17},this),u.jsxDEV("div",{className:"flex-1",children:[u.jsxDEV("p",{children:r.message},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/services/EmotionalValidationService.tsx",lineNumber:334,columnNumber:19},this),u.jsxDEV("p",{className:"text-xs opacity-50 mt-1",children:r.timestamp.toLocaleTimeString()},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/services/EmotionalValidationService.tsx",lineNumber:335,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/services/EmotionalValidationService.tsx",lineNumber:333,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/services/EmotionalValidationService.tsx",lineNumber:331,columnNumber:15},this)},r.id,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/services/EmotionalValidationService.tsx",lineNumber:327,columnNumber:13},this)})},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/services/EmotionalValidationService.tsx",lineNumber:323,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/services/EmotionalValidationService.tsx",lineNumber:310,columnNumber:5},this)}function hS(){const[s,e]=$.useState([]),t=$.useCallback(n=>{e(i=>[...i,n].slice(-10))},[]),r=$.useCallback(()=>{e([])},[]);return{validationHistory:s,addValidation:t,clearHistory:r}}class pS{config;auditTrails=[];accessRequests=new Map;breachAssessments=new Map;constructor(e){this.config=e}async validateFHIRResource(e){const t=[],r=[];e.resourceType||t.push("Missing required field: resourceType"),e.id&&!this.isValidId(e.id)&&t.push("Invalid resource ID format");const n=await this.scanForPHI(e);n.identifiers.length>0&&r.push(`Potential PHI detected in ${n.identifiers.length} fields`),e.meta?.lastUpdated&&!this.isValidTimestamp(e.meta.lastUpdated)&&t.push("Invalid lastUpdated timestamp");const i=this.calculateComplianceScore(t,r);return{isValid:t.length===0,errors:t,warnings:r,complianceScore:i}}async validateFHIRBundle(e){const t=[],r=[];if(e.type||t.push("Bundle missing required type field"),e.entry)for(let a=0;a<e.entry.length;a++){const o=e.entry[a];if(o.resource){const c=await this.validateFHIRResource(o.resource);r.push({resourceId:o.resource.id,isValid:c.isValid,errors:c.errors,warnings:c.warnings})}}const n=t.length+r.reduce((a,o)=>a+o.errors.length,0),i=Math.max(0,100-n*10);return{isValid:t.length===0&&r.every(a=>a.isValid),resourceResults:r,overallErrors:t,complianceScore:i}}async scanForPHI(e){const t=[],r=JSON.stringify(e),n={ssn:/\b\d{3}-?\d{2}-?\d{4}\b/g,phone:/\b\d{3}[-.]?\d{3}[-.]?\d{4}\b/g,email:/\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b/g,ipAddress:/\b(?:\d{1,3}\.){3}\d{1,3}\b/g,creditCard:/\b\d{4}[-\s]?\d{4}[-\s]?\d{4}[-\s]?\d{4}\b/g,zipCode:/\b\d{5}(?:-\d{4})?\b/g};for(const[a,o]of Object.entries(n)){const c=r.match(o);c&&c.forEach(l=>{t.push({type:a,value:l,location:"data",confidence:.8})})}let i="low";return t.length>10?i="high":t.length>3&&(i="medium"),{identifiers:t,riskLevel:i}}async deidentifyData(e,t="safe-harbor"){const r=JSON.parse(JSON.stringify(e)),n=JSON.parse(JSON.stringify(e)),i=[];if(t==="safe-harbor"){const a=await this.scanForPHI(n);i.push(...a.identifiers);let o=JSON.stringify(n);a.identifiers.forEach(c=>{o=o.replace(new RegExp(this.escapeRegExp(c.value),"g"),"[REDACTED]")});try{Object.assign(n,JSON.parse(o))}catch{}}return{originalData:r,deidentifiedData:n,identifiersRemoved:i,method:t,timestamp:new Date().toISOString(),processedBy:"hipaa-compliance-service"}}async requestDataAccess(e){const t=`ar-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,r={...e,requestId:t,requestDate:new Date().toISOString(),approvalStatus:"pending"};return e.urgency==="emergency"&&(r.approvalStatus="approved",r.approvedBy="emergency-protocol",r.approvalDate=new Date().toISOString(),r.expirationDate=new Date(Date.now()+1440*60*1e3).toISOString(),await this.logAuditEvent({actionType:"access",userId:e.requesterId,userRole:e.requesterRole,resourceType:"patient-data",patientId:e.patientId,outcome:"success",details:{emergency:!0,autoApproved:!0}})),this.accessRequests.set(t,r),t}async approveAccessRequest(e,t){const r=this.accessRequests.get(e);if(!r)throw new Error("Access request not found");r.approvalStatus="approved",r.approvedBy=t.userId,r.approvalDate=new Date().toISOString(),r.conditions=t.conditions,r.expirationDate=new Date(Date.now()+720*60*60*1e3).toISOString(),this.accessRequests.set(e,r),await this.logAuditEvent({actionType:"access",userId:t.userId,userRole:"supervisor",resourceType:"access-request",resourceId:e,outcome:"success",details:{action:"approved",conditions:t.conditions}})}async logAuditEvent(e){const t={...e,eventId:`ae-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,timestamp:new Date().toISOString(),ipAddress:"0.0.0.0",userAgent:"system",riskScore:this.calculateRiskScore(e)};this.auditTrails.push(t),t.riskScore>80&&await this.flagSuspiciousActivity(t)}async getAuditTrail(e){return this.auditTrails.filter(t=>{if(e.userId&&t.userId!==e.userId||e.patientId&&t.patientId!==e.patientId||e.actionType&&t.actionType!==e.actionType)return!1;if(e.startDate){const r=new Date(t.timestamp),n=new Date(e.startDate);if(r<n)return!1}if(e.endDate){const r=new Date(t.timestamp),n=new Date(e.endDate);if(r>n)return!1}return!0})}async reportBreach(e){const t=`br-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,r={...e,incidentId:t,reportedDate:new Date().toISOString(),investigationStatus:"open"};return this.breachAssessments.set(t,r),e.phiInvolved.patientCount>=500&&(r.notificationRequired=!0,r.authoritiesNotified=!0),await this.logAuditEvent({actionType:"create",userId:"system",userRole:"security-officer",resourceType:"breach-report",resourceId:t,outcome:"success",details:{patientCount:e.phiInvolved.patientCount,riskLevel:e.riskLevel}}),t}async getBreachAssessment(e){return this.breachAssessments.get(e)||null}async generateComplianceReport(e){const t=new Date(e.start),r=new Date(e.end),n=this.auditTrails.filter(l=>{const d=new Date(l.timestamp);return d>=t&&d<=r}),i=n.filter(l=>l.riskScore>70).length,a=n.filter(l=>l.riskScore>80).length,o=this.generateComplianceRecommendations(n),c=this.calculateOverallComplianceScore(n);return{period:e,summary:{totalAuditEvents:n.length,breachReports:Array.from(this.breachAssessments.values()).filter(l=>{const d=new Date(l.reportedDate);return d>=t&&d<=r}).length,accessRequests:Array.from(this.accessRequests.values()).filter(l=>{const d=new Date(l.requestDate);return d>=t&&d<=r}).length,dataValidations:n.filter(l=>l.actionType==="read").length,complianceScore:c},riskAnalysis:{highRiskEvents:i,suspiciousActivity:a,recommendations:o},generatedAt:new Date().toISOString()}}isValidId(e){return/^[A-Za-z0-9\-.]{1,64}$/.test(e)}isValidTimestamp(e){const t=new Date(e);return!isNaN(t.getTime())}calculateComplianceScore(e,t){const r=e.length*20,n=t.length*5;return Math.max(0,100-r-n)}calculateRiskScore(e){let t=0;return t+={delete:40,export:30,print:25,update:20,read:10,create:15,access:20,login:5,logout:0}[e.actionType]||10,e.outcome==="failure"&&(t+=30),e.patientId&&(t+=10),Math.min(100,t)}async flagSuspiciousActivity(e){console.warn("Suspicious activity detected:",{eventId:e.eventId,userId:e.userId,riskScore:e.riskScore,actionType:e.actionType})}generateComplianceRecommendations(e){const t=[];e.filter(o=>o.outcome==="failure").length/e.length>.1&&t.push("High failure rate detected - review access controls"),e.filter(o=>o.riskScore>70).length>10&&t.push("Multiple high-risk events - enhance monitoring");const i=new Set(e.map(o=>o.userId)).size;return e.length/i>100&&t.push("High activity per user - consider additional training"),t}calculateOverallComplianceScore(e){if(e.length===0)return 100;const t=e.reduce((r,n)=>r+n.riskScore,0)/e.length;return Math.max(0,100-t)}escapeRegExp(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}const gS=new pS({organizationId:"pain-tracker-org",privacyOfficer:{name:"Privacy Officer",title:"Chief Privacy Officer",email:"privacy@paintracker.app",phone:"+1-555-0100"},securityOfficer:{name:"Security Officer",title:"Chief Security Officer",email:"security@paintracker.app",phone:"+1-555-0101"},complianceOfficer:{name:"Compliance Officer",title:"Chief Compliance Officer",email:"compliance@paintracker.app",phone:"+1-555-0102"},businessAssociates:[],policies:[],technicalSafeguards:{accessControl:{uniqueUserIdentification:!0,automaticLogoff:!0,encryptionDecryption:!0},auditControls:{hardwareSystemsAccess:!0,softwareSystemsAccess:!0,activityReviews:!0},integrity:{protectionFromAlteration:!0,protectionFromDestruction:!0},personOrEntityAuthentication:{verifyUserIdentity:!0},transmissionSecurity:{guardAgainstUnauthorizedAccess:!0,dataIntegrityControls:!0,encryptionStandards:["TLS-1.3","AES-256"]}},physicalSafeguards:{facilityAccessControls:{limitPhysicalAccess:!0,workstationAccess:!0,mediaControls:!0},workstationUse:{limitedAccess:!0,physicalAttributes:["locked-room","secure-access"]},deviceMediaControls:{disposalProcedures:!0,reuseProtocols:!0,accountabilityMeasures:!0,dataBackupStorage:!0}},administrativeSafeguards:{securityManagement:{securityOfficerAssigned:!0,managementResponsibilities:["policy-enforcement","incident-response"]},workforceTraining:{privacyTraining:!0,securityTraining:!0,trainingFrequency:"annually",lastCompleted:"2025-01-01"},accessManagement:{accessAuthorizationProcedures:!0,accessEstablishmentModification:!0,accessTerminationProcedures:!0},contingencyPlan:{dataBackupPlan:!0,disasterRecoveryPlan:!0,emergencyModeOperationPlan:!0,dataRecoveryPlan:!0},businessAssociateContracts:{writtenContracts:!0,safeguardRequirements:!0}}}),bS={minEntriesForTrend:7,minSupportForCorrelation:8,minConfidenceForDisplay:.6,episodePainThreshold:6,episodeMinLengthDays:2,baselineWindowDays:30,enableLaggedCorrelations:!0,maxLagDays:3,enableQoLDissonance:!0};function yS(s,e={}){const t={...bS,...e},r=xS(s),n=vS(r,t.baselineWindowDays),i=NS(r),a=kS(i),o=wS(i,n,t),c=DS(r,n,t),l=PS(r,n,t),d=CS(r,n,t),f=jS(r,n,t),p=SS(r,t),m=AS(r,n,t),b=t.enableQoLDissonance?LS(r,i):[],y={dataWindow:{start:r[0]?.timestamp||new Date().toISOString(),end:r[r.length-1]?.timestamp||new Date().toISOString()},entryCount:r.length,dataQuality:TS(r,t),cautions:US(r,t),generatedAt:new Date().toISOString()};return{cleanedEntries:r,dailyTrend:i,weeklyTrend:a,episodes:o,triggerCorrelations:c,symptomCorrelations:l,medicationCorrelations:d,locationCorrelations:f,triggerBundles:p,qolPatterns:m,qolDissonances:b,meta:y,config:t}}function xS(s){return s.filter(e=>{const t=e.baselineData?.pain;if(t==null||t<0||t>10)return!1;try{const r=new Date(e.timestamp);if(isNaN(r.getTime()))return!1}catch{return!1}return!0}).sort((e,t)=>new Date(e.timestamp).getTime()-new Date(t.timestamp).getTime())}function vS(s,e=30){if(s.length===0)return{value:0,method:"median",confidence:"low",windowDays:0,entryCount:0};const t=Date.now(),r=e*24*60*60*1e3,n=s.filter(d=>t-new Date(d.timestamp).getTime()<=r),i=n.length>=7?n:s,o=[...i.map(d=>d.baselineData.pain)].sort((d,f)=>d-f),c=o.length%2===0?(o[o.length/2-1]+o[o.length/2])/2:o[Math.floor(o.length/2)],l=i.length>=30?"high":i.length>=14?"medium":"low";return{value:c,method:"median",confidence:l,windowDays:i===n?e:s.length,entryCount:i.length}}function NS(s){if(s.length===0)return[];const e=new Map;return s.forEach(t=>{const r=new Date(t.timestamp),n=`${r.getFullYear()}-${String(r.getMonth()+1).padStart(2,"0")}-${String(r.getDate()).padStart(2,"0")}`;e.has(n)||e.set(n,{values:[],count:0});const i=e.get(n);i.values.push(t.baselineData.pain),i.count++}),Array.from(e.entries()).map(([t,r])=>{const n=[...r.values].sort((c,l)=>c-l),i=r.values.reduce((c,l)=>c+l,0)/r.count,a=r.values.reduce((c,l)=>c+Math.pow(l-i,2),0)/r.count,o=Math.sqrt(a);return{date:t,value:i,count:r.count,range:[n[0],n[n.length-1]],stdDev:o}}).sort((t,r)=>t.date.localeCompare(r.date))}function kS(s){if(s.length<7)return[];const e=[],t=7;for(let r=t-1;r<s.length;r++){const n=s.slice(r-t+1,r+1),i=n.map(d=>d.value),a=i.reduce((d,f)=>d+f,0)/i.length,o=n.reduce((d,f)=>d+f.count,0),c=Math.min(...i),l=Math.max(...i);e.push({date:s[r].date,value:a,count:o,range:[c,l]})}return e}function wS(s,e,t){if(s.length===0)return[];const r=[];let n=null;const i=Math.max(t.episodePainThreshold,e.value+2);for(let a=0;a<s.length;a++){const o=s[a];if(o.value>=i)n?n.points.push(o):n={start:o.date,points:[o]};else{if(n&&n.points.length>=t.episodeMinLengthDays){const l=n.points,d=l.map(v=>v.value),f=d.reduce((v,N)=>v+N,0)/d.length,p=Math.max(...d);let m=null;const b=new Date(l[l.length-1].date);for(let v=a;v<s.length;v++){const N=s[v],w=new Date(N.date);if(N.value<e.value){m=Math.floor((w.getTime()-b.getTime())/(1440*60*1e3));break}}const y=p>=8?"severe":p>=6?"moderate":"mild";r.push({id:`episode-${n.start}`,start:n.start,end:l[l.length-1].date,peakPain:Math.min(10,Math.round(p)),avgPain:Number(f.toFixed(1)),entryCount:l.reduce((v,N)=>v+N.count,0),recoveryDays:m,durationDays:l.length,severity:y,associatedTriggers:[],associatedLocations:[]})}n=null}}if(n&&n.points.length>=t.episodeMinLengthDays){const a=n.points,o=a.map(f=>f.value),c=o.reduce((f,p)=>f+p,0)/o.length,l=Math.max(...o),d=l>=8?"severe":l>=6?"moderate":"mild";r.push({id:`episode-${n.start}`,start:n.start,end:a[a.length-1].date,peakPain:Math.min(10,Math.round(l)),avgPain:Number(c.toFixed(1)),entryCount:a.reduce((f,p)=>f+p.count,0),recoveryDays:null,durationDays:a.length,severity:d,associatedTriggers:[],associatedLocations:[]})}return r}function DS(s,e,t){return Cd(s,e,t,r=>r.triggers||[])}function PS(s,e,t){return Cd(s,e,t,r=>r.baselineData.symptoms||[])}function CS(s,e,t){const r=s.map(n=>n.medications?.current?.map(i=>i.name)||[]);return Cd(s,e,t,(n,i)=>r[i]||[])}function jS(s,e,t){return Cd(s,e,t,r=>r.baselineData.locations||[])}function Cd(s,e,t,r){const n=new Map;s.forEach((a,o)=>{const c=r(a,o),l=a.baselineData.pain;c.forEach(d=>{n.has(d)||n.set(d,{withItem:[],withoutItem:[]}),n.get(d).withItem.push(l)}),n.forEach((d,f)=>{c.includes(f)||d.withoutItem.push(l)})});const i=[];return n.forEach((a,o)=>{const c=a.withItem.length;if(c<t.minSupportForCorrelation)return;const l=a.withItem.reduce((w,j)=>w+j,0)/a.withItem.length,d=a.withoutItem.length>0?a.withoutItem.reduce((w,j)=>w+j,0)/a.withoutItem.length:e.value,f=l-d,m=a.withItem.filter(w=>w>e.value).length/a.withItem.length,b=a.withItem.reduce((w,j)=>w+Math.pow(j-l,2),0)/a.withItem.length,y=Math.max(0,1-b/10),v=_h(f,m),N=f>.3?"increases":f<-.3?"decreases":"neutral";v!=="none"&&m>=t.minConfidenceForDisplay&&i.push({key:o,label:ES(o),deltaPain:Number(f.toFixed(2)),support:c,confidence:Number(m.toFixed(2)),strength:v,direction:N,stabilityScore:Number(y.toFixed(2))})}),i.sort((a,o)=>Math.abs(o.deltaPain)-Math.abs(a.deltaPain))}function _h(s,e){return e<.5||Math.abs(s)<.3?"none":Math.abs(s)<.7?"weak":Math.abs(s)<1.5?"moderate":"strong"}function ES(s){return s.split(/[-_\s]+/).map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" ")}function SS(s,e){const t=[],r=new Map;return s.forEach(n=>{const i=n.triggers||[];if(!(i.length<2))for(let a=0;a<i.length;a++)for(let o=a+1;o<i.length;o++){const c=[i[a],i[o]].sort().join("|");r.has(c)||r.set(c,{count:0,totalDelta:0,baseline:0});const l=r.get(c);l.count++,l.totalDelta+=n.baselineData.pain}}),r.forEach((n,i)=>{if(n.count>=Math.max(3,e.minSupportForCorrelation/2)){const a=i.split("|"),o=n.totalDelta/n.count,c=_h(o,n.count/s.length);c!=="none"&&t.push({id:`bundle-${i}`,triggers:a,combinedDelta:Number(o.toFixed(2)),coOccurrence:n.count,strength:c})}}),t.sort((n,i)=>Math.abs(i.combinedDelta)-Math.abs(n.combinedDelta))}function AS(s,e,t){const r=[],n=Em(s,e,t,"sleep",o=>o.qualityOfLife?.sleepQuality,{goodThreshold:7,poorThreshold:3});n&&r.push(n);const i=Em(s,e,t,"mood",o=>o.qualityOfLife?.moodImpact,{goodThreshold:3,poorThreshold:-2});i&&r.push(i);const a=Em(s,e,t,"activity",o=>o.activityLevel,{goodThreshold:7,poorThreshold:3});return a&&r.push(a),r}function Em(s,e,t,r,n,i,a=!1){const o=[],c=[];let l=0;if(s.forEach(N=>{const w=n(N);if(w==null)return;l++;const j=N.baselineData.pain;a?(w<=i.goodThreshold&&o.push(j),w>=i.poorThreshold&&c.push(j)):(w>=i.goodThreshold&&o.push(j),w<=i.poorThreshold&&c.push(j))}),l<t.minSupportForCorrelation||o.length<3&&c.length<3)return null;const d=o.length>0?o.reduce((N,w)=>N+w,0)/o.length:e.value,f=c.length>0?c.reduce((N,w)=>N+w,0)/c.length:e.value,p=d-f,m=o.length+c.length,b=m>=20?"high":m>=10?"medium":"low",y=_h(p,m/l);if(y==="none")return null;const v=_S(r,p,i,a);return{id:`qol-${r}`,description:v,metric:r,correlation:y,evidenceCount:m,delta:Number(p.toFixed(2)),confidence:b,condition:a?`When ${r} â‰¤ ${i.goodThreshold}`:`When ${r} â‰¥ ${i.goodThreshold}`}}function _S(s,e,t,r){const n=e<0?"lower":"higher",i=Math.abs(e).toFixed(1);return r?`When ${s} is low (â‰¤${t.goodThreshold}), pain averages ${i} points ${n}.`:`When ${s} is good (â‰¥${t.goodThreshold}), pain averages ${i} points ${n}.`}function LS(s,e,t){const r=[];if(s.length<14||e.length<7)return r;const n=e.slice(-7),i=e.slice(-14,-7),a=n.reduce((b,y)=>b+y.value,0)/n.length,o=i.reduce((b,y)=>b+y.value,0)/i.length,c=a-o;let l;c<-.5?l="improving":c>.5?l="worsening":l="stable";const d=s.slice(-7),f=s.slice(-14,-7),p=d.map(b=>b.qualityOfLife?.sleepQuality).filter(b=>b!==void 0),m=f.map(b=>b.qualityOfLife?.sleepQuality).filter(b=>b!==void 0);if(p.length>=3&&m.length>=3){const b=p.reduce((N,w)=>N+w,0)/p.length,y=m.reduce((N,w)=>N+w,0)/m.length,v=b-y;l==="stable"&&v<-1.5&&r.push({type:"pain_stable_qol_declining",description:`Pain levels holding steady, but sleep quality declined by ${Math.abs(v).toFixed(1)} points in the past week.`,painTrend:"stable",qolTrend:"declining",affectedMetrics:["sleep"],severity:Math.abs(v)>2.5?"high":"medium",recommendation:"Consider discussing sleep interventions with care team, as poor sleep may predict future pain increases."})}return r}function TS(s,e){return s.length>=60?"high":s.length>=e.minEntriesForTrend*3?"medium":"low"}function US(s,e){const t=[];return s.length<e.minEntriesForTrend&&t.push(`Low sample size (${s.length} entries). Add more entries for reliable trends.`),s.length<e.minSupportForCorrelation&&t.push("Not enough data for correlation analysis. Keep logging triggers and symptoms."),s.some(n=>n.qualityOfLife?.sleepQuality!==void 0||n.qualityOfLife?.moodImpact!==void 0||n.activityLevel!==void 0)||t.push("Quality of Life data missing. Log sleep, mood, and activity for richer insights."),t}const Tg={BASE_URL:"/pain-tracker/",DEV:!0,MODE:"production",PROD:!1,SSR:!1,VITE_USER_NODE_ENV:"development"};var Ug={};const pl=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Sm=[{id:"overnight",start:0,end:5,label:"Midnight â€“ 5 AM"},{id:"early-morning",start:5,end:9,label:"5 AM â€“ 9 AM"},{id:"late-morning",start:9,end:12,label:"9 AM â€“ Noon"},{id:"early-afternoon",start:12,end:16,label:"Noon â€“ 4 PM"},{id:"late-afternoon",start:16,end:19,label:"4 PM â€“ 7 PM"},{id:"evening",start:19,end:23,label:"7 PM â€“ 11 PM"},{id:"late-night",start:23,end:24,label:"11 PM â€“ Midnight"}],MS=(s,e,t)=>Math.min(t,Math.max(e,s)),Ix=()=>({morning:{count:0,avgIntensity:0},afternoon:{count:0,avgIntensity:0},evening:{count:0,avgIntensity:0},night:{count:0,avgIntensity:0}}),VS=()=>({avgPain:0,trend:0,volatility:0,goodDays:0,badDays:0,topLocations:[],topTriggers:[],timePatterns:Ix(),dayOfWeekPatterns:[],monthlyTrend:[],triggerPainCorrelation:[],medicationEffectiveness:[],predictedFlare:null,riskScore:0,improvementScore:0,optimalMedicationWindow:null,nextWeekForecast:null,personalizedRecommendations:[]}),IS=()=>{try{if(typeof import.meta<"u"&&Tg)return Tg}catch{}return typeof process<"u"&&Ug?Ug:{}},RS=(()=>{const s=IS();return s.VITE_REACT_APP_ENABLE_VALIDATION!=="false"&&s.REACT_APP_ENABLE_VALIDATION!=="false"})(),OS=It.lazy(()=>qs(()=>import("./ClinicalPDFExportButton-BFrOacZ1.js"),__vite__mapDeps([0,1,2,3])).then(s=>({default:s.ClinicalPDFExportButton}))),FS=It.lazy(()=>qs(()=>Promise.resolve().then(()=>k7),void 0).then(s=>({default:s.DataExportModal}))),BS=({entries:s})=>{const[e,t]=$.useState("30d"),[r,n]=$.useState("overview"),i=$.useMemo(()=>{if(e==="all")return s;const l=new Date,d=new Date;switch(e){case"7d":d.setDate(l.getDate()-7);break;case"30d":d.setDate(l.getDate()-30);break;case"90d":d.setDate(l.getDate()-90);break;case"1y":d.setFullYear(l.getFullYear()-1);break}return s.filter(f=>new Date(f.timestamp)>=d)},[s,e]),a=$.useMemo(()=>{if(i.length===0)return VS();const l=i.reduce((W,De)=>W+De.baselineData.pain,0)/i.length,d=Math.floor(i.length/2),f=i.slice(0,d).reduce((W,De)=>W+De.baselineData.pain,0)/d,m=(i.slice(d).reduce((W,De)=>W+De.baselineData.pain,0)/(i.length-d)-f)/f*100,b=i.reduce((W,De)=>W+Math.pow(De.baselineData.pain-l,2),0)/i.length,y=Math.sqrt(b),v=i.filter(W=>W.baselineData.pain<=3).length,N=i.filter(W=>W.baselineData.pain>=7).length,w={};i.forEach(W=>{W.baselineData.locations?.forEach(De=>{w[De]=(w[De]||0)+1})});const j=Object.entries(w).sort(([,W],[,De])=>De-W).slice(0,5).map(([W,De])=>({location:W,count:De,percentage:De/i.length*100})),C={};i.forEach(W=>{W.triggers?.forEach(De=>{C[De]=(C[De]||0)+1})});const S=Object.entries(C).sort(([,W],[,De])=>De-W).slice(0,5).map(([W,De])=>({trigger:W,count:De,percentage:De/i.length*100})),A=Ix(),U={0:{count:0,totalPain:0},1:{count:0,totalPain:0},2:{count:0,totalPain:0},3:{count:0,totalPain:0},4:{count:0,totalPain:0},5:{count:0,totalPain:0},6:{count:0,totalPain:0}},P={},T=l,R={},E={},L=W=>Sm.find(De=>W>=De.start&&W<De.end)??Sm[Sm.length-1];i.forEach(W=>{const De=new Date(W.timestamp).getHours(),st=new Date(W.timestamp),Ye=st.getDay(),_e=st.getMonth()+1;let Be;if(De>=5&&De<12?Be="morning":De>=12&&De<17?Be="afternoon":De>=17&&De<21?Be="evening":Be="night",A[Be].count++,A[Be].avgIntensity+=W.baselineData.pain,U[Ye].count++,U[Ye].totalPain+=W.baselineData.pain,P[_e]||(P[_e]={count:0,totalPain:0}),P[_e].count++,P[_e].totalPain+=W.baselineData.pain,W.triggers&&W.triggers.length>0){const Ve=W.baselineData.pain-T;W.triggers.forEach(ut=>{R[ut]||(R[ut]={count:0,deltaSum:0}),R[ut].count++,R[ut].deltaSum+=Ve})}}),Object.keys(A).forEach(W=>{const De=W;A[De].count>0&&(A[De].avgIntensity/=A[De].count)});const F=Object.entries(U).map(([W,De])=>({day:Number(W),count:De.count,avgPain:De.count>0?De.totalPain/De.count:0})),z=Object.entries(P).map(([W,De])=>({month:Number(W),count:De.count,avgPain:De.count>0?De.totalPain/De.count:0})).sort((W,De)=>W.month-De.month),Z=Object.entries(R).map(([W,De])=>({trigger:W,count:De.count,avgDelta:De.deltaSum/De.count})).sort((W,De)=>Math.abs(De.avgDelta)-Math.abs(W.avgDelta)).slice(0,8),re={};i.forEach((W,De)=>{if(W.medications&&W.medications.current.length>0&&De<i.length-1){const st=i[De+1],Ye=W.baselineData.pain-st.baselineData.pain,_e=new Date(W.timestamp).getHours(),Be=L(_e);E[Be.id]||(E[Be.id]={count:0,totalReduction:0,label:Be.label}),E[Be.id].count++,E[Be.id].totalReduction+=Ye,W.medications.current.forEach(Ve=>{re[Ve.name]||(re[Ve.name]={uses:0,totalReduction:0}),re[Ve.name].uses++,re[Ve.name].totalReduction+=Ye})}});const le=Object.entries(re).map(([W,De])=>({medication:W,uses:De.uses,avgReduction:De.totalReduction/De.uses,effectiveness:De.totalReduction/De.uses/10*100})).sort((W,De)=>De.effectiveness-W.effectiveness),pe=Object.entries(E).map(([W,De])=>({id:W,label:De.label,avgReduction:De.totalReduction/De.count,confidence:Math.min(1,De.count/4),count:De.count})).filter(W=>W.avgReduction>0).sort((W,De)=>De.avgReduction-W.avgReduction)[0]??null,ue=i.slice(-7),te=ue.reduce((W,De)=>W+De.baselineData.pain,0)/ue.length,_=ue.slice(-3).every((W,De,st)=>De===0||W.baselineData.pain>=st[De-1].baselineData.pain),q=te>6&&_?{probability:Math.min(95,Math.round(te/10*100)),timeframe:"24-48 hours",severity:te>8?"high":"moderate",recommendations:["Consider preventive medication","Reduce strenuous activities","Ensure adequate rest","Monitor trigger exposure"]}:null,Y=Math.min(100,Math.round(l*10+y*5+N/i.length*30+(_?20:0))),se=Math.max(0,Math.min(100,Math.round(100-l*10-(m>0?m:0)+v/i.length*30-y*5))),ne=m>5?.8:m>0?.4:m<-5?-.7:m<0?-.3:0,ae=MS(l+ne,0,10),he=i.length>=40?"high":i.length>=20?"medium":"low",me=ne>.3?"worsening":ne<-.3?"improving":"holding steady",ge={projectedAverage:ae,change:ne,confidence:he,narrative:`Pain levels are ${me} based on the last ${i.length} entries.`},Pe=[];q&&Pe.push({title:"Prepare for possible flare",detail:`Probability ${q.probability}% in the next ${q.timeframe}. Emphasize pacing and preventive care now.`,category:"flare",emphasis:q.severity==="high"?"high":"medium"});const xe=[...F].filter(W=>W.count>0).sort((W,De)=>De.avgPain-W.avgPain)[0];xe&&xe.avgPain-l>=1&&Pe.push({title:`${pl[xe.day]} pattern`,detail:`Average pain ${xe.avgPain.toFixed(1)} on ${pl[xe.day]}. Schedule lighter duties or recovery blocks.`,category:"routine",emphasis:"medium"});const Ie=Z.find(W=>W.avgDelta>1);Ie&&Pe.push({title:`${Ie.trigger} drives pain`,detail:`Pain averages +${Ie.avgDelta.toFixed(1)} when this trigger appears. Create a mitigation plan or log exposure notes.`,category:"trigger",emphasis:"high"});const we=le.find(W=>W.avgReduction>.5);return we&&Pe.push({title:`${we.medication} shows relief`,detail:`Average reduction ${we.avgReduction.toFixed(1)} points across ${we.uses} uses. Remember to document dosing accuracy.`,category:"medication",emphasis:"medium"}),pe&&pe.avgReduction>.3&&Pe.push({title:"Optimize medication timing",detail:`Greatest relief occurs around ${pe.label}. Aim to medicate within this window when feasible.`,category:"medication",emphasis:"medium"}),Pe.length===0&&Pe.push({title:"Keep logging for smarter predictions",detail:"More varied entries (triggers, medication notes, sleep quality) will unlock individualized recommendations.",category:"routine",emphasis:"low"}),{avgPain:l,trend:m,volatility:y,goodDays:v,badDays:N,topLocations:j,topTriggers:S,timePatterns:A,dayOfWeekPatterns:F,monthlyTrend:z,triggerPainCorrelation:Z,medicationEffectiveness:le,predictedFlare:q,riskScore:Y,improvementScore:se,optimalMedicationWindow:pe,nextWeekForecast:ge,personalizedRecommendations:Pe}},[i]),o=$.useMemo(()=>{if(i.length===0)return null;try{return yS(i)}catch(l){return console.error("Pattern analysis failed:",l),null}},[i]),c=$.useMemo(()=>YS(a,i.length),[a,i.length]);return u.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 dark:from-gray-950 dark:via-blue-950 dark:to-indigo-950",children:[u.jsxDEV("div",{className:"bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 text-white shadow-2xl",children:u.jsxDEV("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsxDEV("div",{className:"flex items-center justify-between",children:[u.jsxDEV("div",{className:"flex items-center gap-4",children:[u.jsxDEV("div",{className:"p-3 bg-white/20 backdrop-blur-sm rounded-2xl",children:u.jsxDEV(Qa,{className:"w-8 h-8"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:599,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:598,columnNumber:15},void 0),u.jsxDEV("div",{children:[u.jsxDEV("h1",{className:"text-3xl font-bold",children:"Premium Analytics"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:602,columnNumber:17},void 0),u.jsxDEV("p",{className:"text-blue-100 mt-1",children:"Advanced insights powered by clinical-grade algorithms"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:603,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:601,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:597,columnNumber:13},void 0),u.jsxDEV("div",{className:"flex items-center gap-3",children:[u.jsxDEV("button",{className:"px-4 py-2 bg-white/20 hover:bg-white/30 backdrop-blur-sm rounded-lg transition-all flex items-center gap-2",children:[u.jsxDEV(c1,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:609,columnNumber:17},void 0),"Share"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:608,columnNumber:15},void 0),u.jsxDEV("button",{className:"px-4 py-2 bg-white text-blue-600 hover:bg-blue-50 rounded-lg font-medium transition-all flex items-center gap-2",children:[u.jsxDEV(Ja,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:613,columnNumber:17},void 0),"Export Report"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:612,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:607,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:596,columnNumber:11},void 0),u.jsxDEV("div",{className:"flex gap-2 mt-6",children:[{value:"7d",label:"7 Days"},{value:"30d",label:"30 Days"},{value:"90d",label:"90 Days"},{value:"1y",label:"1 Year"},{value:"all",label:"All Time"}].map(l=>u.jsxDEV("button",{onClick:()=>t(l.value),className:`
                  px-4 py-2 rounded-lg font-medium transition-all
                  ${e===l.value?"bg-white text-blue-600 shadow-lg":"bg-white/10 hover:bg-white/20 text-white"}
                `,children:l.label},l.value,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:628,columnNumber:15},void 0))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:620,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:595,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:594,columnNumber:7},void 0),u.jsxDEV("div",{className:"bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700 sticky top-0 z-40 shadow-sm",children:u.jsxDEV("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxDEV("div",{className:"flex gap-1 overflow-x-auto py-2",children:[{id:"overview",label:"Overview",icon:rh},{id:"patterns",label:"Pattern Analysis",icon:ch},{id:"predictions",label:"Predictions",icon:hd},{id:"clinical",label:"Clinical Report",icon:Gr},{id:"insights",label:"AI Insights",icon:Qa},{id:"export",label:"Export & Share",icon:Ja}].map(l=>{const d=l.icon;return u.jsxDEV("button",{onClick:()=>n(l.id),className:`
                    flex items-center gap-2 px-4 py-3 rounded-lg font-medium transition-all whitespace-nowrap
                    ${r===l.id?"bg-blue-500 text-white shadow-lg":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"}
                  `,children:[u.jsxDEV(d,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:671,columnNumber:19},void 0),l.label]},l.id,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:660,columnNumber:17},void 0)})},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:649,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:648,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:647,columnNumber:7},void 0),u.jsxDEV("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r==="overview"&&u.jsxDEV(zS,{analytics:a,entries:i},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:682,columnNumber:33},void 0),r==="patterns"&&u.jsxDEV($S,{analytics:a},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:683,columnNumber:27},void 0),r==="predictions"&&u.jsxDEV(WS,{analytics:a},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:684,columnNumber:30},void 0),r==="clinical"&&u.jsxDEV(qS,{analytics:a,entries:i},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:685,columnNumber:33},void 0),r==="insights"&&u.jsxDEV(HS,{analytics:a,entries:i,reasoningTree:c,patternAnalysis:o},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:687,columnNumber:11},void 0),r==="export"&&u.jsxDEV(GS,{analytics:a,entries:i},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:694,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:681,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:592,columnNumber:5},void 0)},zS=({analytics:s,entries:e})=>u.jsxDEV("div",{className:"space-y-6",children:[u.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[u.jsxDEV(ku,{title:"Average Pain Level",value:s.avgPain.toFixed(1),subtitle:"out of 10",trend:s.trend,icon:Xn,color:"blue"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:706,columnNumber:9},void 0),u.jsxDEV(ku,{title:"Pain Volatility",value:s.volatility.toFixed(1),subtitle:"standard deviation",icon:ch,color:"purple"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:715,columnNumber:9},void 0),u.jsxDEV(ku,{title:"Good Days",value:s.goodDays.toString(),subtitle:`${(s.goodDays/e.length*100).toFixed(0)}% of total`,icon:il,color:"green"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:723,columnNumber:9},void 0),u.jsxDEV(ku,{title:"Risk Score",value:s.riskScore.toString(),subtitle:"out of 100",trend:-s.improvementScore,icon:zo,color:s.riskScore>70?"red":s.riskScore>40?"yellow":"green"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:731,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:705,columnNumber:7},void 0),s.predictedFlare&&u.jsxDEV("div",{className:"bg-gradient-to-r from-red-500 to-orange-500 text-white rounded-2xl p-6 shadow-2xl",children:u.jsxDEV("div",{className:"flex items-start gap-4",children:[u.jsxDEV("div",{className:"p-3 bg-white/20 rounded-xl",children:u.jsxDEV(zo,{className:"w-6 h-6"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:746,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:745,columnNumber:13},void 0),u.jsxDEV("div",{className:"flex-1",children:[u.jsxDEV("h3",{className:"text-xl font-bold mb-2",children:"âš ï¸ Flare Risk Detected"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:749,columnNumber:15},void 0),u.jsxDEV("p",{className:"text-red-100 mb-4",children:["Our predictive algorithm has identified a ",u.jsxDEV("strong",{children:[s.predictedFlare.probability,"% probability"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:751,columnNumber:59},void 0)," of a pain flare within the next ",u.jsxDEV("strong",{children:s.predictedFlare.timeframe},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:751,columnNumber:160},void 0),"."]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:750,columnNumber:15},void 0),u.jsxDEV("div",{className:"space-y-2",children:[u.jsxDEV("p",{className:"font-semibold",children:"Recommended Actions:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:754,columnNumber:17},void 0),u.jsxDEV("ul",{className:"space-y-1 text-red-100",children:s.predictedFlare.recommendations.map((t,r)=>u.jsxDEV("li",{className:"flex items-center gap-2",children:[u.jsxDEV(il,{className:"w-4 h-4 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:758,columnNumber:23},void 0),t]},r,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:757,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:755,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:753,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:748,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:744,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:743,columnNumber:9},void 0),u.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxDEV("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6",children:[u.jsxDEV("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[u.jsxDEV(ih,{className:"w-5 h-5 text-blue-500"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:774,columnNumber:13},void 0),"Most Affected Areas"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:773,columnNumber:11},void 0),u.jsxDEV("div",{className:"space-y-3",children:s.topLocations.map((t,r)=>u.jsxDEV("div",{className:"flex items-center gap-3",children:[u.jsxDEV("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-300 rounded-lg flex items-center justify-center font-bold",children:r+1},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:780,columnNumber:17},void 0),u.jsxDEV("div",{className:"flex-1",children:[u.jsxDEV("div",{className:"flex items-center justify-between mb-1",children:[u.jsxDEV("span",{className:"font-medium text-gray-900 dark:text-white capitalize",children:t.location},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:785,columnNumber:21},void 0),u.jsxDEV("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[t.count," times"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:786,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:784,columnNumber:19},void 0),u.jsxDEV("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:u.jsxDEV("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 h-2 rounded-full transition-all",style:{width:`${t.percentage}%`}},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:789,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:788,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:783,columnNumber:17},void 0)]},r,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:779,columnNumber:15},void 0))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:777,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:772,columnNumber:9},void 0),u.jsxDEV("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6",children:[u.jsxDEV("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[u.jsxDEV(Jo,{className:"w-5 h-5 text-orange-500"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:803,columnNumber:13},void 0),"Common Triggers"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:802,columnNumber:11},void 0),u.jsxDEV("div",{className:"space-y-3",children:s.topTriggers.length>0?s.topTriggers.map((t,r)=>u.jsxDEV("div",{className:"flex items-center gap-3",children:[u.jsxDEV("div",{className:"flex-shrink-0 w-8 h-8 bg-orange-100 dark:bg-orange-900 text-orange-600 dark:text-orange-300 rounded-lg flex items-center justify-center font-bold",children:r+1},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:810,columnNumber:19},void 0),u.jsxDEV("div",{className:"flex-1",children:[u.jsxDEV("div",{className:"flex items-center justify-between mb-1",children:[u.jsxDEV("span",{className:"font-medium text-gray-900 dark:text-white capitalize",children:t.trigger},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:815,columnNumber:23},void 0),u.jsxDEV("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[t.count," times"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:816,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:814,columnNumber:21},void 0),u.jsxDEV("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:u.jsxDEV("div",{className:"bg-gradient-to-r from-orange-500 to-red-500 h-2 rounded-full transition-all",style:{width:`${t.percentage}%`}},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:819,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:818,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:813,columnNumber:19},void 0)]},r,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:809,columnNumber:17},void 0)):u.jsxDEV("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:"No triggers tracked yet. Start logging triggers to see patterns!"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:828,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:806,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:801,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:770,columnNumber:7},void 0),u.jsxDEV("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6",children:[u.jsxDEV("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-6 flex items-center gap-2",children:[u.jsxDEV(pd,{className:"w-5 h-5 text-purple-500"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:839,columnNumber:11},void 0),"Pain Patterns by Time of Day"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:838,columnNumber:9},void 0),u.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:Object.entries(s.timePatterns).map(([t,r])=>{const a={morning:eo,afternoon:eo,evening:sa,night:sa}[t],o=r.avgIntensity,c=o>=7?"red":o>=5?"yellow":o>=3?"blue":"green";return u.jsxDEV("div",{className:`p-4 rounded-xl border-2 ${c==="red"?"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800":c==="yellow"?"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800":c==="blue"?"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800":"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800"}`,children:[u.jsxDEV("div",{className:"flex items-center gap-2 mb-2",children:[u.jsxDEV(a,{className:`w-5 h-5 ${c==="red"?"text-red-600":c==="yellow"?"text-yellow-600":c==="blue"?"text-blue-600":"text-green-600"}`},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:863,columnNumber:19},void 0),u.jsxDEV("span",{className:"font-semibold text-gray-900 dark:text-white capitalize",children:t},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:869,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:862,columnNumber:17},void 0),u.jsxDEV("div",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-1",children:r.avgIntensity.toFixed(1)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:871,columnNumber:17},void 0),u.jsxDEV("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[r.count," entries"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:874,columnNumber:17},void 0)]},t,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:856,columnNumber:15},void 0)})},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:842,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:837,columnNumber:7},void 0),s.medicationEffectiveness.length>0&&u.jsxDEV("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6",children:[u.jsxDEV("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[u.jsxDEV(Gr,{className:"w-5 h-5 text-pink-500"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:887,columnNumber:13},void 0),"Medication Effectiveness Analysis"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:886,columnNumber:11},void 0),u.jsxDEV("div",{className:"space-y-3",children:s.medicationEffectiveness.map((t,r)=>u.jsxDEV("div",{className:"flex items-center gap-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-xl",children:u.jsxDEV("div",{className:"flex-1",children:[u.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[u.jsxDEV("span",{className:"font-medium text-gray-900 dark:text-white",children:t.medication},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:895,columnNumber:21},void 0),u.jsxDEV("div",{className:"flex items-center gap-2",children:[u.jsxDEV("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[t.uses," uses"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:897,columnNumber:23},void 0),u.jsxDEV("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${t.effectiveness>50?"bg-green-100 text-green-700":t.effectiveness>20?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:[t.effectiveness.toFixed(0),"% effective"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:898,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:896,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:894,columnNumber:19},void 0),u.jsxDEV("div",{className:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-3",children:u.jsxDEV("div",{className:`h-3 rounded-full transition-all ${t.effectiveness>50?"bg-gradient-to-r from-green-500 to-green-600":t.effectiveness>20?"bg-gradient-to-r from-yellow-500 to-yellow-600":"bg-gradient-to-r from-red-500 to-red-600"}`,style:{width:`${Math.min(100,t.effectiveness)}%`}},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:908,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:907,columnNumber:19},void 0),u.jsxDEV("div",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:["Avg reduction: ",t.avgReduction.toFixed(1)," points"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:917,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:893,columnNumber:17},void 0)},r,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:892,columnNumber:15},void 0))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:890,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:885,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:703,columnNumber:5},void 0),$S=({analytics:s})=>{const e=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],r=[{key:"morning",label:"Morning",window:"5a - 12p",Icon:eo},{key:"afternoon",label:"Afternoon",window:"12p - 5p",Icon:eo},{key:"evening",label:"Evening",window:"5p - 9p",Icon:sa},{key:"night",label:"Night",window:"9p - 5a",Icon:sa}],n=i=>i>=7?"text-rose-600 bg-rose-50 dark:bg-rose-900/30":i>=5?"text-amber-600 bg-amber-50 dark:bg-amber-900/30":i>=3?"text-sky-600 bg-sky-50 dark:bg-sky-900/30":"text-emerald-600 bg-emerald-50 dark:bg-emerald-900/30";return u.jsxDEV("div",{className:"space-y-6",children:[u.jsxDEV("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[u.jsxDEV("div",{className:"bg-white dark:bg-gray-900/60 backdrop-blur rounded-2xl shadow-xl p-6 border border-gray-100 dark:border-gray-800",children:[u.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[u.jsxDEV("div",{className:"flex items-center gap-2",children:[u.jsxDEV(ch,{className:"w-5 h-5 text-indigo-500"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:956,columnNumber:15},void 0),u.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Time & Day Patterns"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:957,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:955,columnNumber:13},void 0),u.jsxDEV("span",{className:"text-xs uppercase tracking-wide text-indigo-500 font-semibold",children:"Live"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:959,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:954,columnNumber:11},void 0),u.jsxDEV("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-5",children:"Highlighting when pain is most likely to spike based on your historical entries."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:961,columnNumber:11},void 0),u.jsxDEV("div",{className:"space-y-4",children:[u.jsxDEV("div",{children:[u.jsxDEV("h4",{className:"text-xs font-semibold uppercase text-gray-500 dark:text-gray-400 mb-2",children:"Time of Day"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:967,columnNumber:15},void 0),u.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:r.map(({key:i,label:a,window:o,Icon:c})=>{const l=s.timePatterns[i],d=l&&l.count>0?l.avgIntensity:null;return u.jsxDEV("div",{className:"p-3 rounded-xl bg-gray-50 dark:bg-gray-800 flex items-center justify-between gap-2",children:[u.jsxDEV("div",{children:[u.jsxDEV("p",{className:"text-sm font-semibold text-gray-800 dark:text-gray-100",children:a},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:975,columnNumber:25},void 0),u.jsxDEV("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:o},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:976,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:974,columnNumber:23},void 0),u.jsxDEV("div",{className:`px-2 py-1 rounded-lg text-sm font-semibold ${d===null?"text-gray-400":n(d)}`,children:d===null?"â€”":d.toFixed(1)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:978,columnNumber:23},void 0),u.jsxDEV(c,{className:"w-4 h-4 text-gray-400"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:981,columnNumber:23},void 0)]},String(i),!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:973,columnNumber:21},void 0)})},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:968,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:966,columnNumber:13},void 0),u.jsxDEV("div",{children:[u.jsxDEV("h4",{className:"text-xs font-semibold uppercase text-gray-500 dark:text-gray-400 mb-2",children:"Day of Week"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:989,columnNumber:15},void 0),u.jsxDEV("div",{className:"grid grid-cols-7 gap-1",children:e.map((i,a)=>{const o=s.dayOfWeekPatterns?.find(l=>l.day===a),c=o&&o.count>0?o.avgPain:null;return u.jsxDEV("div",{className:"p-2 rounded-lg text-center bg-gray-50 dark:bg-gray-800",children:[u.jsxDEV("div",{className:"text-xs font-semibold text-gray-600 dark:text-gray-300",children:i},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:996,columnNumber:23},void 0),u.jsxDEV("div",{className:`mt-1 text-sm font-bold ${c===null?"text-gray-400":n(c)}`,children:c===null?"â€”":c.toFixed(1)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:997,columnNumber:23},void 0)]},`${i}-${a}`,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:995,columnNumber:21},void 0)})},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:990,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:988,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:965,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:953,columnNumber:9},void 0),u.jsxDEV("div",{className:"xl:col-span-2 bg-white dark:bg-gray-900/60 backdrop-blur rounded-2xl shadow-xl p-6 border border-gray-100 dark:border-gray-800",children:[u.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[u.jsxDEV("div",{className:"flex items-center gap-2",children:[u.jsxDEV(rh,{className:"w-5 h-5 text-purple-500"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1012,columnNumber:15},void 0),u.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Trigger Impact Matrix"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1013,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1011,columnNumber:13},void 0),u.jsxDEV("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Î” Pain vs personal baseline"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1015,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1010,columnNumber:11},void 0),s.triggerPainCorrelation&&s.triggerPainCorrelation.length>0?u.jsxDEV("div",{className:"overflow-x-auto",children:u.jsxDEV("table",{className:"min-w-full text-sm",children:[u.jsxDEV("thead",{children:u.jsxDEV("tr",{className:"text-left text-gray-500 dark:text-gray-400 border-b border-gray-200 dark:border-gray-800/70",children:[u.jsxDEV("th",{className:"py-2 pr-4 font-medium",children:"Trigger"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1023,columnNumber:21},void 0),u.jsxDEV("th",{className:"py-2 pr-4 font-medium",children:"Observations"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1024,columnNumber:21},void 0),u.jsxDEV("th",{className:"py-2 pr-4 font-medium",children:"Avg Î” Pain"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1025,columnNumber:21},void 0),u.jsxDEV("th",{className:"py-2 pr-4 font-medium",children:"Interpretation"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1026,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1022,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1021,columnNumber:17},void 0),u.jsxDEV("tbody",{children:s.triggerPainCorrelation.map(i=>{const a=Math.abs(i.avgDelta)>=2?"strong":Math.abs(i.avgDelta)>=1?"moderate":"mild",o=i.avgDelta>0;return u.jsxDEV("tr",{className:"border-b border-gray-100 dark:border-gray-800/60 last:border-0",children:[u.jsxDEV("td",{className:"py-3 pr-4 text-gray-900 dark:text-gray-100 capitalize",children:i.trigger},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1035,columnNumber:25},void 0),u.jsxDEV("td",{className:"py-3 pr-4 text-gray-700 dark:text-gray-300",children:i.count},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1036,columnNumber:25},void 0),u.jsxDEV("td",{className:"py-3 pr-4",children:u.jsxDEV("span",{className:`inline-flex px-2 py-0.5 rounded-full text-xs font-semibold ${o?"bg-rose-100 text-rose-700 dark:bg-rose-900/40 dark:text-rose-200":"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/40 dark:text-emerald-200"}`,children:[o?"+":"",i.avgDelta.toFixed(1)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1038,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1037,columnNumber:25},void 0),u.jsxDEV("td",{className:"py-3 pr-4 text-xs text-gray-600 dark:text-gray-400",children:o?`${a} association with higher pain`:`${a} association with lower pain`},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1042,columnNumber:25},void 0)]},i.trigger,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1034,columnNumber:23},void 0)})},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1029,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1020,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1019,columnNumber:13},void 0):u.jsxDEV("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Log triggers alongside your entries to quantify how each factor raises or lowers your average pain."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1052,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1009,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:951,columnNumber:7},void 0),u.jsxDEV("div",{className:"bg-white dark:bg-gray-900/60 backdrop-blur rounded-2xl shadow-xl p-6 border border-gray-100 dark:border-gray-800",children:[u.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[u.jsxDEV("div",{className:"flex items-center gap-2",children:[u.jsxDEV(wl,{className:"w-5 h-5 text-blue-500"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1063,columnNumber:13},void 0),u.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Seasonality & Cyclical Patterns"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1064,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1062,columnNumber:11},void 0),u.jsxDEV("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Based on monthly averages"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1066,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1061,columnNumber:9},void 0),s.monthlyTrend&&s.monthlyTrend.length>0?u.jsxDEV("div",{className:"flex flex-wrap gap-3",children:t.map((i,a)=>{const o=s.monthlyTrend.find(l=>l.month===a+1);if(!o)return u.jsxDEV("div",{className:"px-4 py-2 rounded-full border border-dashed border-gray-200 dark:border-gray-700 text-gray-400 text-sm",children:i},i,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1075,columnNumber:19},void 0);const c=o.avgPain;return u.jsxDEV("div",{className:`px-4 py-2 rounded-full text-sm font-semibold ${n(c)} border border-transparent`,children:[i," Â· ",c.toFixed(1)]},i,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1082,columnNumber:17},void 0)})},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1070,columnNumber:11},void 0):u.jsxDEV("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Add entries across different months to spot seasonal pain cycles (e.g., winter flare-ups, summer relief)."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1089,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1060,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:950,columnNumber:5},void 0)},WS=({analytics:s})=>{const e=s.predictedFlare,t=s.nextWeekForecast,r=s.optimalMedicationWindow,n=s.personalizedRecommendations||[],i=(s.medicationEffectiveness||[]).slice(0,3),a=s.triggerPainCorrelation?.find(l=>l.avgDelta>0),o=s.triggerPainCorrelation?.slice().reverse().find(l=>l.avgDelta<0),c=s.dayOfWeekPatterns?.filter(l=>l.count>0).sort((l,d)=>d.avgPain-l.avgPain)[0];return u.jsxDEV("div",{className:"space-y-6",children:[u.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsxDEV("div",{className:"bg-gradient-to-br from-rose-500 to-orange-500 text-white rounded-2xl p-6 shadow-2xl",children:[u.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[u.jsxDEV("div",{children:[u.jsxDEV("p",{className:"text-sm uppercase tracking-wide text-white/70",children:"Flare Risk"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1116,columnNumber:15},void 0),u.jsxDEV("h3",{className:"text-2xl font-bold",children:e?`${e.probability}%`:"Stable"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1117,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1115,columnNumber:13},void 0),u.jsxDEV("div",{className:"p-3 bg-white/20 rounded-xl",children:u.jsxDEV(zo,{className:"w-6 h-6"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1120,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1119,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1114,columnNumber:11},void 0),u.jsxDEV("p",{className:"text-sm text-white/80",children:e?`Next ${e.timeframe} Â· Severity ${e.severity}`:"No immediate flare risk detected. Keep logging to maintain accuracy."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1123,columnNumber:11},void 0),u.jsxDEV("div",{className:"mt-4",children:[u.jsxDEV("div",{className:"h-2 bg-white/20 rounded-full overflow-hidden",children:u.jsxDEV("div",{className:"h-full bg-white",style:{width:`${e?e.probability:20}%`}},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1126,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1125,columnNumber:13},void 0),e&&u.jsxDEV("ul",{className:"mt-3 text-sm space-y-1 text-white/80 list-disc list-inside",children:e.recommendations.map(l=>u.jsxDEV("li",{children:l},l,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1131,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1129,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1124,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1113,columnNumber:9},void 0),u.jsxDEV("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 shadow-xl border border-blue-100 dark:border-blue-900/40",children:[u.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[u.jsxDEV("div",{children:[u.jsxDEV("p",{className:"text-sm uppercase tracking-wide text-blue-500",children:"7-Day Outlook"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1141,columnNumber:15},void 0),u.jsxDEV("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[t?.projectedAverage?.toFixed(1)??"â€”"," / 10"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1142,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1140,columnNumber:13},void 0),u.jsxDEV("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/30 rounded-xl",children:u.jsxDEV(hd,{className:"w-6 h-6 text-blue-600 dark:text-blue-300"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1145,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1144,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1139,columnNumber:11},void 0),u.jsxDEV("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t?`${t.change>=0?"+":""}${t.change.toFixed(1)} change vs current average Â· Confidence ${t.confidence}`:"Need more entries to project forward."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1148,columnNumber:11},void 0),u.jsxDEV("p",{className:"text-sm text-gray-500 dark:text-gray-500 mt-3",children:t?.narrative},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1151,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1138,columnNumber:9},void 0),u.jsxDEV("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 shadow-xl border border-purple-100 dark:border-purple-900/40",children:[u.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[u.jsxDEV("div",{children:[u.jsxDEV("p",{className:"text-sm uppercase tracking-wide text-purple-500",children:"Optimal Medication Window"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1157,columnNumber:15},void 0),u.jsxDEV("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:r?r.label:"Need more data"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1158,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1156,columnNumber:13},void 0),u.jsxDEV("div",{className:"p-3 bg-purple-50 dark:bg-purple-900/30 rounded-xl",children:u.jsxDEV(ah,{className:"w-6 h-6 text-purple-600 dark:text-purple-300"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1161,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1160,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1155,columnNumber:11},void 0),u.jsxDEV("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:r?`Avg relief ${r.avgReduction.toFixed(1)} points across ${r.count} documented doses. Confidence ${(r.confidence*100).toFixed(0)}%.`:"Log medication usage alongside pain levels to unlock timing insights."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1164,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1154,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1112,columnNumber:7},void 0),u.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsxDEV("div",{className:"lg:col-span-2 bg-white dark:bg-gray-900 rounded-2xl p-6 shadow-xl border border-gray-100 dark:border-gray-800",children:[u.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[u.jsxDEV("div",{children:[u.jsxDEV("p",{className:"text-sm uppercase tracking-wide text-indigo-500",children:"Personalized Recommendations"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1176,columnNumber:15},void 0),u.jsxDEV("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Next Best Actions"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1177,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1175,columnNumber:13},void 0),u.jsxDEV(Qa,{className:"w-6 h-6 text-indigo-500"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1179,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1174,columnNumber:11},void 0),n.length===0?u.jsxDEV("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Keep logging detailed entries (triggers, meds, sleep) to unlock personalized guidance."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1183,columnNumber:13},void 0):u.jsxDEV("div",{className:"space-y-4",children:n.map((l,d)=>u.jsxDEV("div",{className:"p-4 rounded-2xl border border-gray-100 dark:border-gray-800 bg-gray-50/80 dark:bg-gray-800/40",children:[u.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[u.jsxDEV("div",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:l.title},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1189,columnNumber:21},void 0),u.jsxDEV("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${l.emphasis==="high"?"bg-rose-100 text-rose-700 dark:bg-rose-900/40 dark:text-rose-200":l.emphasis==="medium"?"bg-amber-100 text-amber-700 dark:bg-amber-900/40 dark:text-amber-200":"bg-gray-200 text-gray-700 dark:bg-gray-700 dark:text-gray-200"}`,children:l.category},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1190,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1188,columnNumber:19},void 0),u.jsxDEV("p",{className:"text-sm text-gray-600 dark:text-gray-300 leading-relaxed",children:l.detail},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1200,columnNumber:19},void 0)]},`${l.title}-${d}`,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1187,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1185,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1173,columnNumber:9},void 0),u.jsxDEV("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 shadow-xl border border-gray-100 dark:border-gray-800 space-y-5",children:[u.jsxDEV("div",{children:[u.jsxDEV("p",{className:"text-sm uppercase tracking-wide text-gray-500",children:"Supporting Signals"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1209,columnNumber:13},void 0),u.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"What drives the model"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1210,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1208,columnNumber:11},void 0),u.jsxDEV("div",{className:"space-y-3",children:[u.jsxDEV("div",{className:"p-3 rounded-xl bg-gray-50 dark:bg-gray-800 flex items-center justify-between gap-2",children:[u.jsxDEV("div",{children:[u.jsxDEV("p",{className:"text-xs text-gray-500",children:"Most sensitive trigger"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1215,columnNumber:17},void 0),u.jsxDEV("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:a?a.trigger:"Need more data"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1216,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1214,columnNumber:15},void 0),a&&u.jsxDEV("span",{className:"text-sm font-semibold text-rose-600 dark:text-rose-300",children:["+",a.avgDelta.toFixed(1)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1219,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1213,columnNumber:13},void 0),u.jsxDEV("div",{className:"p-3 rounded-xl bg-gray-50 dark:bg-gray-800 flex items-center justify-between gap-2",children:[u.jsxDEV("div",{children:[u.jsxDEV("p",{className:"text-xs text-gray-500",children:"Most stable trigger"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1224,columnNumber:17},void 0),u.jsxDEV("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:o?o.trigger:"Logging needed"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1225,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1223,columnNumber:15},void 0),o&&u.jsxDEV("span",{className:"text-sm font-semibold text-emerald-600 dark:text-emerald-300",children:o.avgDelta.toFixed(1)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1228,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1222,columnNumber:13},void 0),u.jsxDEV("div",{className:"p-3 rounded-xl bg-gray-50 dark:bg-gray-800 flex items-center justify-between gap-2",children:[u.jsxDEV("div",{children:[u.jsxDEV("p",{className:"text-xs text-gray-500",children:"Peak pain day"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1233,columnNumber:17},void 0),u.jsxDEV("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:c?pl[c.day]:"Need weekly coverage"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1234,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1232,columnNumber:15},void 0),c&&u.jsxDEV("span",{className:"text-sm font-semibold text-indigo-600 dark:text-indigo-300",children:c.avgPain.toFixed(1)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1237,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1231,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1212,columnNumber:11},void 0),u.jsxDEV("div",{children:[u.jsxDEV("p",{className:"text-xs uppercase tracking-wide text-gray-500 mb-2",children:"Top relief sources"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1243,columnNumber:15},void 0),u.jsxDEV("div",{className:"space-y-2",children:i.length===0?u.jsxDEV("p",{className:"text-sm text-gray-500",children:"Track medication usage to see which options your body responds to best."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1246,columnNumber:19},void 0):i.map(l=>u.jsxDEV("div",{className:"flex items-center justify-between text-sm",children:[u.jsxDEV("span",{className:"font-medium text-gray-900 dark:text-white",children:l.medication},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1250,columnNumber:23},void 0),u.jsxDEV("span",{className:"text-emerald-600 dark:text-emerald-300 font-semibold",children:["-",l.avgReduction.toFixed(1)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1251,columnNumber:23},void 0)]},l.medication,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1249,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1244,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1242,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1207,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1172,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1111,columnNumber:5},void 0)},qS=({analytics:s,entries:e})=>{const t=e.length,r=[...e].sort((b,y)=>new Date(b.timestamp).getTime()-new Date(y.timestamp).getTime()),n=b=>b?new Date(b).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"}):"â€”",i=r[0]?.timestamp,a=r[r.length-1]?.timestamp,o=r[r.length-1],c=e.reduce((b,y)=>(y.functionalImpact&&(y.functionalImpact.limitedActivities?.forEach(v=>b.limitedActivities.add(v)),y.functionalImpact.assistanceNeeded?.forEach(v=>b.assistanceNeeded.add(v)),y.functionalImpact.mobilityAids?.forEach(v=>b.mobilityAids.add(v))),y.qualityOfLife&&(typeof y.qualityOfLife.sleepQuality=="number"&&(b.sleepTotal+=y.qualityOfLife.sleepQuality,b.sleepCount+=1),typeof y.qualityOfLife.moodImpact=="number"&&(b.moodTotal+=y.qualityOfLife.moodImpact,b.moodCount+=1)),b),{limitedActivities:new Set,assistanceNeeded:new Set,mobilityAids:new Set,sleepTotal:0,sleepCount:0,moodTotal:0,moodCount:0}),l=e.reduce((b,y)=>(y.workImpact&&(b.missedDays+=y.workImpact.missedWork??0,y.workImpact.modifiedDuties?.forEach(v=>b.modifiedDuties.add(v)),y.workImpact.workLimitations?.forEach(v=>b.workLimitations.add(v))),b),{missedDays:0,modifiedDuties:new Set,workLimitations:new Set}),d=s.personalizedRecommendations?.slice(0,3)??[],f=s.medicationEffectiveness?.slice(0,3)??[],p=s.riskScore>75?"High":s.riskScore>50?"Elevated":"Managed",m=[`Average reported pain ${s.avgPain.toFixed(1)}/10 with ${s.volatility.toFixed(1)} volatility`,`${s.goodDays} good days (${(s.goodDays/Math.max(t,1)*100).toFixed(0)}% of period)`,s.predictedFlare?`Flare risk ${s.predictedFlare.probability}% in next ${s.predictedFlare.timeframe}`:"No imminent flare risk detected"];return u.jsxDEV("div",{className:"space-y-6",children:[u.jsxDEV("div",{className:"bg-white dark:bg-gray-900 rounded-2xl shadow-xl border border-gray-100 dark:border-gray-800 p-6",children:u.jsxDEV("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[u.jsxDEV("div",{children:[u.jsxDEV("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-500",children:"Clinical Summary"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1327,columnNumber:13},void 0),u.jsxDEV("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Pain Management Report"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1328,columnNumber:13},void 0),u.jsxDEV("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:t>0?`${n(i)} â€“ ${n(a)} (${t} entries)`:"Awaiting entries to generate report."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1329,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1326,columnNumber:11},void 0),u.jsxDEV("div",{className:"flex flex-wrap gap-3",children:[u.jsxDEV("div",{className:"px-4 py-2 rounded-xl bg-gray-50 dark:bg-gray-800",children:[u.jsxDEV("p",{className:"text-xs text-gray-500",children:"Risk Level"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1333,columnNumber:15},void 0),u.jsxDEV("p",{className:"font-semibold text-gray-900 dark:text-white",children:p},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1334,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1332,columnNumber:13},void 0),u.jsxDEV("div",{className:"px-4 py-2 rounded-xl bg-gray-50 dark:bg-gray-800",children:[u.jsxDEV("p",{className:"text-xs text-gray-500",children:"Latest Entry"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1337,columnNumber:15},void 0),u.jsxDEV("p",{className:"font-semibold text-gray-900 dark:text-white",children:n(o?.timestamp)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1338,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1336,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1331,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1325,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1324,columnNumber:7},void 0),u.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsxDEV("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-100 dark:border-gray-800 p-6 space-y-3",children:[u.jsxDEV("h3",{className:"text-sm font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wide",children:"Pain Overview"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1346,columnNumber:11},void 0),m.map(b=>u.jsxDEV("div",{className:"flex items-start gap-3",children:[u.jsxDEV("div",{className:"w-2 h-2 rounded-full bg-blue-500 mt-2"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1349,columnNumber:15},void 0),u.jsxDEV("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:b},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1350,columnNumber:15},void 0)]},b,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1348,columnNumber:13},void 0))]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1345,columnNumber:9},void 0),u.jsxDEV("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-100 dark:border-gray-800 p-6",children:[u.jsxDEV("h3",{className:"text-sm font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wide mb-3",children:"Functional Impact"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1356,columnNumber:11},void 0),u.jsxDEV("div",{className:"space-y-2 text-sm text-gray-700 dark:text-gray-300",children:[u.jsxDEV("p",{children:[u.jsxDEV("span",{className:"font-semibold",children:"Limited Activities:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1358,columnNumber:16},void 0)," ",c.limitedActivities.size>0?Array.from(c.limitedActivities).join(", "):"Not documented"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1358,columnNumber:13},void 0),u.jsxDEV("p",{children:[u.jsxDEV("span",{className:"font-semibold",children:"Assistance Needed:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1359,columnNumber:16},void 0)," ",c.assistanceNeeded.size>0?Array.from(c.assistanceNeeded).join(", "):"Not documented"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1359,columnNumber:13},void 0),u.jsxDEV("p",{children:[u.jsxDEV("span",{className:"font-semibold",children:"Mobility Aids:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1360,columnNumber:16},void 0)," ",c.mobilityAids.size>0?Array.from(c.mobilityAids).join(", "):"Not documented"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1360,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1357,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1355,columnNumber:9},void 0),u.jsxDEV("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-100 dark:border-gray-800 p-6",children:[u.jsxDEV("h3",{className:"text-sm font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wide mb-3",children:"WorkSafe BC Readiness"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1365,columnNumber:11},void 0),u.jsxDEV("ul",{className:"space-y-2 text-sm text-gray-700 dark:text-gray-300",children:[u.jsxDEV("li",{children:[u.jsxDEV("span",{className:"font-semibold",children:"Missed days:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1367,columnNumber:17},void 0)," ",l.missedDays]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1367,columnNumber:13},void 0),u.jsxDEV("li",{children:[u.jsxDEV("span",{className:"font-semibold",children:"Modified duties:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1368,columnNumber:17},void 0)," ",l.modifiedDuties.size>0?Array.from(l.modifiedDuties).join(", "):"None recorded"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1368,columnNumber:13},void 0),u.jsxDEV("li",{children:[u.jsxDEV("span",{className:"font-semibold",children:"Limitations:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1369,columnNumber:17},void 0)," ",l.workLimitations.size>0?Array.from(l.workLimitations).join(", "):"None recorded"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1369,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1366,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1364,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1344,columnNumber:7},void 0),u.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxDEV("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-100 dark:border-gray-800 p-6",children:[u.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[u.jsxDEV("h3",{className:"text-sm font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wide",children:"Medication & Treatment Summary"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1377,columnNumber:13},void 0),u.jsxDEV("span",{className:"text-xs text-gray-400",children:["Last documented: ",n(o?.timestamp)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1378,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1376,columnNumber:11},void 0),f.length===0?u.jsxDEV("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Document medication usage along with pain score changes to surface effectiveness insights."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1381,columnNumber:13},void 0):u.jsxDEV("div",{className:"space-y-3",children:f.map(b=>u.jsxDEV("div",{className:"flex items-center justify-between text-sm text-gray-700 dark:text-gray-200 p-3 rounded-xl bg-gray-50 dark:bg-gray-800/70",children:[u.jsxDEV("div",{children:[u.jsxDEV("p",{className:"font-semibold",children:b.medication},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1387,columnNumber:21},void 0),u.jsxDEV("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[b.uses," entries"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1388,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1386,columnNumber:19},void 0),u.jsxDEV("div",{className:"text-right",children:[u.jsxDEV("p",{className:"font-semibold text-emerald-600 dark:text-emerald-300",children:["-",b.avgReduction.toFixed(1)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1391,columnNumber:21},void 0),u.jsxDEV("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Avg pain change"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1392,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1390,columnNumber:19},void 0)]},b.medication,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1385,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1383,columnNumber:13},void 0),s.optimalMedicationWindow&&u.jsxDEV("div",{className:"mt-4 rounded-xl bg-indigo-50 dark:bg-indigo-900/30 p-4 text-sm text-indigo-900 dark:text-indigo-100",children:["Optimal timing: ",u.jsxDEV("span",{className:"font-semibold",children:s.optimalMedicationWindow.label},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1400,columnNumber:31},void 0)," Â· Avg relief ",s.optimalMedicationWindow.avgReduction.toFixed(1)," Â· Confidence ",(s.optimalMedicationWindow.confidence*100).toFixed(0),"%"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1399,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1375,columnNumber:9},void 0),u.jsxDEV("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-100 dark:border-gray-800 p-6",children:[u.jsxDEV("h3",{className:"text-sm font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wide mb-4",children:"Provider Notes & Next Steps"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1406,columnNumber:11},void 0),d.length===0?u.jsxDEV("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Log detailed context (triggers, interventions) to unlock provider-ready recommendations."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1408,columnNumber:13},void 0):u.jsxDEV("ol",{className:"list-decimal list-inside space-y-3 text-sm text-gray-700 dark:text-gray-300",children:d.map((b,y)=>u.jsxDEV("li",{children:[u.jsxDEV("p",{className:"font-semibold text-gray-900 dark:text-white",children:b.title},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1413,columnNumber:19},void 0),u.jsxDEV("p",{className:"text-gray-600 dark:text-gray-400",children:b.detail},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1414,columnNumber:19},void 0)]},`${b.title}-${y}`,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1412,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1410,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1405,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1374,columnNumber:7},void 0),u.jsxDEV("div",{className:"bg-gray-50 dark:bg-gray-900/60 rounded-2xl border border-gray-100 dark:border-gray-800 p-6",children:[u.jsxDEV("p",{className:"text-xs uppercase tracking-[0.3em] text-gray-500 mb-2",children:"Supporting Evidence"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1423,columnNumber:9},void 0),u.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-gray-700 dark:text-gray-300",children:[u.jsxDEV("div",{children:[u.jsxDEV("p",{className:"text-xs text-gray-500 uppercase",children:"Top Pain Locations"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1426,columnNumber:13},void 0),u.jsxDEV("p",{children:s.topLocations.length>0?s.topLocations.map(b=>`${b.location} (${b.count})`).join(", "):"Not captured"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1427,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1425,columnNumber:11},void 0),u.jsxDEV("div",{children:[u.jsxDEV("p",{className:"text-xs text-gray-500 uppercase",children:"Primary Triggers"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1430,columnNumber:13},void 0),u.jsxDEV("p",{children:s.topTriggers.length>0?s.topTriggers.map(b=>`${b.trigger} (${b.count})`).join(", "):"Not documented"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1431,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1429,columnNumber:11},void 0),u.jsxDEV("div",{children:[u.jsxDEV("p",{className:"text-xs text-gray-500 uppercase",children:"Quality-of-Life Metrics"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1434,columnNumber:13},void 0),u.jsxDEV("p",{children:["Sleep avg: ",c.sleepCount>0?(c.sleepTotal/c.sleepCount).toFixed(1):"â€”"," Â· Mood impact avg: ",c.moodCount>0?(c.moodTotal/c.moodCount).toFixed(1):"â€”"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1435,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1433,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1424,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1422,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1323,columnNumber:5},void 0)},HS=({analytics:s,entries:e,reasoningTree:t,patternAnalysis:r})=>{const n=e.length>=60?"high":e.length>=25?"medium":"low",i=s.personalizedRecommendations[0];return u.jsxDEV("div",{className:"space-y-6",children:[u.jsxDEV("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-100 dark:border-gray-800 p-6 shadow-xl",children:[u.jsxDEV("div",{className:"flex items-start justify-between gap-4",children:[u.jsxDEV("div",{children:[u.jsxDEV("p",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:"Tree-of-Thought Reasoning"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1461,columnNumber:13},void 0),u.jsxDEV("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"How the dashboard reached its conclusions"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1462,columnNumber:13},void 0),u.jsxDEV("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:"Each branch represents a reasoning step that connects raw entries to clinical guidance. Confidence is weighted by data coverage."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1463,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1460,columnNumber:11},void 0),u.jsxDEV("div",{className:`px-4 py-2 rounded-xl text-sm font-semibold ${n==="high"?"bg-emerald-100 text-emerald-700":n==="medium"?"bg-amber-100 text-amber-700":"bg-rose-100 text-rose-700"}`,children:["Data confidence: ",n]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1467,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1459,columnNumber:9},void 0),u.jsxDEV("div",{className:"mt-6",children:u.jsxDEV(Rx,{nodes:t,depth:0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1479,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1478,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1458,columnNumber:7},void 0),u.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsxDEV("div",{className:"col-span-2 bg-gradient-to-br from-indigo-600 to-purple-600 text-white rounded-2xl p-6 shadow-2xl",children:u.jsxDEV("div",{className:"flex items-start gap-3",children:[u.jsxDEV(Qa,{className:"w-6 h-6"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1486,columnNumber:13},void 0),u.jsxDEV("div",{children:[u.jsxDEV("p",{className:"text-xs uppercase tracking-[0.4em] text-white/70",children:"Highlighted Thought"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1488,columnNumber:15},void 0),u.jsxDEV("h4",{className:"text-xl font-bold",children:i?i.title:"Keep logging insights"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1489,columnNumber:15},void 0),u.jsxDEV("p",{className:"text-sm text-white/80 mt-2",children:i?i.detail:"Log triggers, medications, and recovery context to unlock actionable insights."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1490,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1487,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1485,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1484,columnNumber:9},void 0),u.jsxDEV("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-100 dark:border-gray-800 p-6",children:[u.jsxDEV("p",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:"Coverage Snapshot"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1500,columnNumber:11},void 0),u.jsxDEV("div",{className:"mt-4 space-y-3 text-sm text-gray-700 dark:text-gray-300",children:[u.jsxDEV("div",{className:"flex items-center justify-between",children:[u.jsxDEV("span",{children:"Total entries analyzed"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1503,columnNumber:15},void 0),u.jsxDEV("span",{className:"font-semibold",children:e.length},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1504,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1502,columnNumber:13},void 0),u.jsxDEV("div",{className:"flex items-center justify-between",children:[u.jsxDEV("span",{children:"Day-of-week coverage"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1507,columnNumber:15},void 0),u.jsxDEV("span",{className:"font-semibold",children:[s.dayOfWeekPatterns.filter(a=>a.count>0).length,"/7 days"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1508,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1506,columnNumber:13},void 0),u.jsxDEV("div",{className:"flex items-center justify-between",children:[u.jsxDEV("span",{children:"Trigger signals tracked"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1511,columnNumber:15},void 0),u.jsxDEV("span",{className:"font-semibold",children:s.triggerPainCorrelation.length},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1512,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1510,columnNumber:13},void 0),u.jsxDEV("div",{className:"flex items-center justify-between",children:[u.jsxDEV("span",{children:"Medication experiments"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1515,columnNumber:15},void 0),u.jsxDEV("span",{className:"font-semibold",children:s.medicationEffectiveness.length},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1516,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1514,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1501,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1499,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1483,columnNumber:7},void 0),r&&u.jsxDEV("div",{className:"space-y-6",children:[u.jsxDEV("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-2xl p-6 shadow-2xl",children:[u.jsxDEV("div",{className:"flex items-center gap-3 mb-4",children:[u.jsxDEV(hd,{className:"w-6 h-6"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1527,columnNumber:15},void 0),u.jsxDEV("div",{children:[u.jsxDEV("h3",{className:"text-xl font-bold",children:"Heuristic Pattern Recognition"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1529,columnNumber:17},void 0),u.jsxDEV("p",{className:"text-sm text-white/80",children:"Advanced analysis powered by local algorithms"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1530,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1528,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1526,columnNumber:13},void 0),u.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:[u.jsxDEV("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[u.jsxDEV("p",{className:"text-xs uppercase tracking-wider text-white/70",children:"Trend Slope"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1536,columnNumber:17},void 0),u.jsxDEV("p",{className:"text-2xl font-bold",children:r.dailyTrend.length>0?(r.dailyTrend[r.dailyTrend.length-1].value-r.dailyTrend[0].value).toFixed(1):"0.0"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1537,columnNumber:17},void 0),u.jsxDEV("p",{className:"text-xs text-white/80",children:"Recent trend direction"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1543,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1535,columnNumber:15},void 0),u.jsxDEV("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[u.jsxDEV("p",{className:"text-xs uppercase tracking-wider text-white/70",children:"Episodes Detected"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1546,columnNumber:17},void 0),u.jsxDEV("p",{className:"text-2xl font-bold",children:r.episodes.length},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1547,columnNumber:17},void 0),u.jsxDEV("p",{className:"text-xs text-white/80",children:"Flare patterns identified"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1548,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1545,columnNumber:15},void 0),u.jsxDEV("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[u.jsxDEV("p",{className:"text-xs uppercase tracking-wider text-white/70",children:"Data Quality"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1551,columnNumber:17},void 0),u.jsxDEV("p",{className:"text-2xl font-bold capitalize",children:r.meta.dataQuality},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1552,columnNumber:17},void 0),u.jsxDEV("p",{className:"text-xs text-white/80",children:[r.meta.entryCount," entries analyzed"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1553,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1550,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1534,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1525,columnNumber:11},void 0),r.episodes.length>0&&u.jsxDEV("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-100 dark:border-gray-800 p-6 shadow-xl",children:[u.jsxDEV("h4",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[u.jsxDEV(zo,{className:"w-5 h-5 text-red-500"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1562,columnNumber:17},void 0),"Pain Episodes (",r.episodes.length,")"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1561,columnNumber:15},void 0),u.jsxDEV("div",{className:"space-y-3",children:r.episodes.slice(0,5).map((a,o)=>u.jsxDEV("div",{className:"border-l-4 border-red-500 pl-4 py-2",children:u.jsxDEV("div",{className:"flex items-center justify-between",children:[u.jsxDEV("div",{children:[u.jsxDEV("p",{className:"font-semibold text-gray-900 dark:text-white capitalize",children:[a.severity," Severity"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1570,columnNumber:25},void 0),u.jsxDEV("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[a.durationDays," days â€¢ Peak: ",a.peakPain.toFixed(1),"/10"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1573,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1569,columnNumber:23},void 0),a.recoveryDays!==null&&u.jsxDEV("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Recovery: ",a.recoveryDays,"d"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1578,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1568,columnNumber:21},void 0)},o,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1567,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1565,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1560,columnNumber:13},void 0),r.triggerCorrelations.length>0&&u.jsxDEV("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-100 dark:border-gray-800 p-6 shadow-xl",children:[u.jsxDEV("h4",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[u.jsxDEV(Jo,{className:"w-5 h-5 text-yellow-500"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1593,columnNumber:17},void 0),"Trigger Correlations"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1592,columnNumber:15},void 0),u.jsxDEV("div",{className:"space-y-3",children:r.triggerCorrelations.slice(0,5).map((a,o)=>u.jsxDEV("div",{className:"flex items-center justify-between",children:[u.jsxDEV("div",{className:"flex-1",children:[u.jsxDEV("p",{className:"font-medium text-gray-900 dark:text-white",children:a.label},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1600,columnNumber:23},void 0),u.jsxDEV("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[a.support," occurrences â€¢ ",a.confidence.toFixed(0),"% confidence"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1601,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1599,columnNumber:21},void 0),u.jsxDEV("div",{className:"text-right",children:[u.jsxDEV("p",{className:`text-sm font-semibold ${a.deltaPain>0?"text-red-600":"text-green-600"}`,children:[a.deltaPain>0?"+":"",a.deltaPain.toFixed(1)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1606,columnNumber:23},void 0),u.jsxDEV("p",{className:"text-xs text-gray-500 capitalize",children:a.strength},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1609,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1605,columnNumber:21},void 0)]},o,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1598,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1596,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1591,columnNumber:13},void 0),r.qolPatterns.length>0&&u.jsxDEV("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-100 dark:border-gray-800 p-6 shadow-xl",children:[u.jsxDEV("h4",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[u.jsxDEV(Gr,{className:"w-5 h-5 text-pink-500"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1621,columnNumber:17},void 0),"Quality of Life Insights"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1620,columnNumber:15},void 0),u.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:r.qolPatterns.map((a,o)=>u.jsxDEV("div",{className:"border border-gray-200 dark:border-gray-700 rounded-xl p-4",children:[u.jsxDEV("div",{className:"flex items-center gap-2 mb-2",children:[a.metric==="sleep"&&u.jsxDEV(sa,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1628,columnNumber:54},void 0),a.metric==="mood"&&u.jsxDEV(eo,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1629,columnNumber:53},void 0),a.metric==="activity"&&u.jsxDEV(Xn,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1630,columnNumber:57},void 0),u.jsxDEV("p",{className:"font-semibold text-gray-900 dark:text-white capitalize",children:a.metric},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1631,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1627,columnNumber:21},void 0),u.jsxDEV("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:a.description},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1633,columnNumber:21},void 0),u.jsxDEV("p",{className:"text-xs text-gray-500 mt-2 capitalize",children:[a.correlation," correlation"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1634,columnNumber:21},void 0)]},o,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1626,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1624,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1619,columnNumber:13},void 0),r.meta.cautions.length>0&&u.jsxDEV("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-xl p-4",children:u.jsxDEV("div",{className:"flex items-start gap-3",children:[u.jsxDEV(zo,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1645,columnNumber:17},void 0),u.jsxDEV("div",{className:"flex-1",children:[u.jsxDEV("p",{className:"font-semibold text-yellow-900 dark:text-yellow-100",children:"Analysis Notes"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1647,columnNumber:19},void 0),u.jsxDEV("ul",{className:"mt-2 space-y-1 text-sm text-yellow-800 dark:text-yellow-200",children:r.meta.cautions.map((a,o)=>u.jsxDEV("li",{children:["â€¢ ",a]},o,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1650,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1648,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1646,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1644,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1643,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1524,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1457,columnNumber:5},void 0)},Rx=({nodes:s,depth:e})=>s.length?u.jsxDEV("div",{className:"space-y-4",children:s.map(t=>u.jsxDEV("div",{className:"rounded-2xl border border-gray-200 dark:border-gray-800 p-4 bg-white dark:bg-gray-900 shadow",children:[u.jsxDEV("div",{className:"flex items-start justify-between gap-3",children:[u.jsxDEV("div",{children:[u.jsxDEV("p",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:["Step ",e+1]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1681,columnNumber:15},void 0),u.jsxDEV("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t.title},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1682,columnNumber:15},void 0),u.jsxDEV("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:t.insight},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1683,columnNumber:15},void 0),t.evidence&&u.jsxDEV("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:["Evidence: ",t.evidence]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1685,columnNumber:17},void 0),t.action&&u.jsxDEV("p",{className:"mt-2 text-sm text-indigo-600 dark:text-indigo-300 font-medium",children:["Next action: ",t.action]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1690,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1680,columnNumber:13},void 0),u.jsxDEV("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${t.confidence==="high"?"bg-emerald-100 text-emerald-700":t.confidence==="medium"?"bg-amber-100 text-amber-700":"bg-rose-100 text-rose-700"}`,children:[t.confidence," confidence"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1695,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1679,columnNumber:11},void 0),t.children&&t.children.length>0&&u.jsxDEV("div",{className:"mt-4 pl-4 border-l-2 border-dashed border-gray-200 dark:border-gray-700 space-y-4",children:u.jsxDEV(Rx,{nodes:t.children,depth:e+1},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1708,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1707,columnNumber:13},void 0)]},t.id,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1675,columnNumber:9},void 0))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1673,columnNumber:5},void 0):u.jsxDEV("div",{className:"rounded-xl border border-dashed border-gray-200 dark:border-gray-700 p-4 text-sm text-gray-500 dark:text-gray-400",children:"Not enough data yet. Add a few detailed entries to unlock automated reasoning."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:1666,columnNumber:7},void 0),YS=(s,e)=>{if(e===0)return[{id:"empty-state",title:"No evidence yet",insight:"Log at least one pain entry to begin automated reasoning.",confidence:"low",action:"Capture todayâ€™s pain level and triggers."}];const t=e>=60?"high":e>=25?"medium":"low",r={id:"patterns",title:"Temporal & trigger patterns",insight:`Detected ${s.dayOfWeekPatterns.filter(a=>a.count>0).length}/7 day patterns and ${s.timePatterns.morning.count+s.timePatterns.afternoon.count+s.timePatterns.evening.count+s.timePatterns.night.count} time-of-day observations.`,confidence:t,evidence:s.triggerPainCorrelation[0]?`${s.triggerPainCorrelation[0].trigger} shifts pain by ${s.triggerPainCorrelation[0].avgDelta.toFixed(1)}`:"Need more trigger tagging",action:s.triggerPainCorrelation[0]?`Mitigate ${s.triggerPainCorrelation[0].trigger} exposure on ${pl[s.dayOfWeekPatterns.sort((a,o)=>o.avgPain-a.avgPain)[0]?.day??0]}`:"Log triggers alongside entries for richer pattern detection.",children:s.dayOfWeekPatterns.filter(a=>a.count>0).slice(0,2).map(a=>({id:`day-${a.day}`,title:`${pl[a.day]} trend`,insight:`Average pain ${a.avgPain.toFixed(1)} with ${a.count} observations`,confidence:a.count>=4?"medium":"low",action:a.avgPain>=s.avgPain?"Prep pacing plan ahead of this day.":"Consider scheduling recovery work here."}))},n={id:"risk",title:"Risk posture & flare outlook",insight:`Risk score ${s.riskScore} with ${s.badDays} high-pain days.`,confidence:s.riskScore>=70?"high":s.riskScore>=40?"medium":"low",evidence:s.predictedFlare?`Flare probability ${s.predictedFlare.probability}% (${s.predictedFlare.timeframe})`:"No imminent flare detected",action:s.predictedFlare?s.predictedFlare.recommendations[0]:"Maintain current pacing plan and continue monitoring.",children:[s.optimalMedicationWindow&&{id:"med-window",title:"Medication timing",insight:`Best relief around ${s.optimalMedicationWindow.label}.`,confidence:s.optimalMedicationWindow.confidence>=.75?"high":"medium",action:"Align doses with this window when medically appropriate."},s.medicationEffectiveness[0]&&{id:"med-effectiveness",title:`${s.medicationEffectiveness[0].medication} response`,insight:`Avg reduction ${s.medicationEffectiveness[0].avgReduction.toFixed(1)} points.`,confidence:s.medicationEffectiveness[0].uses>=3?"high":"medium",action:"Document dosage notes for provider review."}].filter(Boolean)},i={id:"clinical",title:"Clinical + WorkSafe readiness",insight:`${s.goodDays} managed days vs ${s.badDays} tough days.`,confidence:t,evidence:`Top locations: ${s.topLocations.slice(0,2).map(a=>a.location).join(", ")||"N/A"}`,action:"Use export tab to share WorkSafe-ready PDF.",children:s.personalizedRecommendations.slice(0,2).map(a=>({id:`rec-${a.title}`,title:a.title,insight:a.detail,confidence:a.emphasis==="high"?"high":a.emphasis==="medium"?"medium":"low",action:a.category==="medication"?"Confirm with care team before adjusting meds.":"Add notes after acting on this insight."}))};return[{id:"root",title:"Premium analytics reasoning loop",insight:`Analyzed ${e} entries with average pain ${s.avgPain.toFixed(1)}/10 and volatility ${s.volatility.toFixed(1)}.`,confidence:t,children:[r,n,i]}]},GS=({analytics:s,entries:e})=>{const[t,r]=$.useState(null),[n,i]=$.useState(null),[a,o]=$.useState("idle"),[c,l]=$.useState("Clipboard unavailable. Select the summary text and copy manually."),[d,f]=$.useState(null),[p,m]=$.useState(!1),[b,y]=$.useState(!1),[v,N]=$.useState(()=>typeof navigator>"u"?!1:!navigator.onLine),{preferences:w}=Pd(),{validationHistory:j,addValidation:C,clearHistory:S}=hS(),A=$.useMemo(()=>[...e].sort((te,_)=>new Date(te.timestamp).getTime()-new Date(_.timestamp).getTime()),[e]);$.useEffect(()=>{y(w.realTimeValidation)},[w.realTimeValidation]),$.useEffect(()=>{if(typeof window>"u")return;const te=()=>{if(typeof navigator>"u"){N(!1);return}N(!navigator.onLine)};return window.addEventListener("online",te),window.addEventListener("offline",te),()=>{window.removeEventListener("online",te),window.removeEventListener("offline",te)}},[]);const U=$.useMemo(()=>RS&&w.realTimeValidation,[w.realTimeValidation]),P=$.useMemo(()=>{if(A.length===0)return"No entries yet";const te=new Date(A[0].timestamp),_=new Date(A[A.length-1].timestamp);return`${te.toLocaleDateString()} â€“ ${_.toLocaleDateString()}`},[A]),T=$.useMemo(()=>{if(A.length===0)return"no-data";const te=new Date(A[0].timestamp).toISOString().split("T")[0],_=new Date(A[A.length-1].timestamp).toISOString().split("T")[0];return`${te}-to-${_}`},[A]),R=s.riskScore>75?"High":s.riskScore>50?"Elevated":"Managed",E=s.topTriggers?.slice?.(0,2).map(te=>te.trigger).filter(Boolean).join(", ")||"Not captured",L=s.topLocations?.slice?.(0,2).map(te=>te.location).filter(Boolean).join(", ")||"Not captured",F=s.personalizedRecommendations?.[0]?.detail??"Keep logging detailed entries (triggers, interventions, medications) to unlock personalized recommendations.",z=s.nextWeekForecast?`${s.nextWeekForecast.projectedAverage.toFixed(1)}/10 avg (${s.nextWeekForecast.change>=0?"+":""}${s.nextWeekForecast.change.toFixed(1)} change Â· confidence ${s.nextWeekForecast.confidence})`:"Need more entries to forecast next week.",Z=$.useMemo(()=>A.length===0?"No entries logged yet. Capture at least one day of pain data to unlock exportable summaries.":[`Pain Tracker clinical snapshot (${P}, ${A.length} entries)`,"",`â€¢ Avg pain ${s.avgPain.toFixed(1)}/10 Â· Volatility ${s.volatility.toFixed(1)}`,`â€¢ Good days ${s.goodDays} Â· Risk level ${R}`,`â€¢ Top locations: ${L}`,`â€¢ Triggers to watch: ${E}`,`â€¢ Forecast: ${z}`,`â€¢ Recommendation: ${F}`].join(`
`),[s.avgPain,s.goodDays,s.volatility,z,P,F,R,A.length,L,E]),re=$.useCallback(async({action:te,actionType:_="export",outcome:q="success",details:Y={}})=>{try{await gS.logAuditEvent({actionType:_,userId:"local-user",userRole:"patient",resourceType:"PremiumAnalyticsExport",outcome:q,details:{action:te,timeRange:P,entryCount:e.length,...Y}})}catch(se){console.error("HIPAA audit logging failed",se)}},[e.length,P]),le=$.useCallback(async te=>{if(e.length===0){i("Log at least one entry before exporting."),await re({action:"quick-export",outcome:"failure",details:{reason:"no-entries",format:te}});return}r(te),i(null);try{const _=await qs(()=>Promise.resolve().then(()=>N7),void 0),q=new Date().toISOString().split("T")[0],Y=`premium-analytics-${T}-${q}.${te==="csv"?"csv":"json"}`;if(te==="csv"){const se=_.exportToCSV(e);_.downloadData(se,Y,"text/csv;charset=utf-8")}else{const se=_.exportToJSON(e);_.downloadData(se,Y,"application/json;charset=utf-8")}await re({action:"quick-export",details:{format:te,filename:Y}})}catch(_){console.error("Quick export failed",_),i("Quick export failed. Try the advanced export workspace."),await re({action:"quick-export",outcome:"failure",details:{format:te,error:_ instanceof Error?_.message:"unknown-error"}})}finally{r(null)}},[e,re,T]),ee=$.useCallback(async()=>{try{if(typeof navigator<"u"&&navigator?.clipboard?.writeText)await navigator.clipboard.writeText(Z);else if(typeof document<"u"){const te=document.createElement("textarea");te.value=Z,te.style.position="fixed",te.style.opacity="0",document.body.appendChild(te),te.focus(),te.select(),document.execCommand("copy"),document.body.removeChild(te)}else throw new Error("Clipboard API unavailable");o("copied"),l(""),await re({action:"copy-clinical-summary",details:{channel:"clipboard"}}),setTimeout(()=>o("idle"),3e3)}catch(te){console.error("Clipboard copy failed",te),o("error"),l(te instanceof Error?te.message:"Clipboard unavailable. Select the summary and copy manually."),await re({action:"copy-clinical-summary",outcome:"failure",details:{error:te instanceof Error?te.message:"unknown-error",channel:"clipboard"}})}},[re,Z]),pe=$.useCallback(()=>{m(!0),re({action:"open-advanced-export-workspace",actionType:"access",details:{isOffline:v}})},[v,re]),ue=$.useCallback(async()=>{if(v){f("Email composer unavailable offline. Try again once you reconnect."),await re({action:"compose-email-share",outcome:"failure",details:{reason:"offline"}});return}if(typeof window>"u"){f("Email composer unavailable in this environment."),await re({action:"compose-email-share",outcome:"failure",details:{reason:"no-window"}});return}f(null);const te=encodeURIComponent("Pain Tracker clinical snapshot"),_=encodeURIComponent(Z);window.open(`mailto:?subject=${te}&body=${_}`,"_blank"),await re({action:"compose-email-share",details:{channel:"email"}})},[v,re,Z]);return u.jsxDEV(u.Fragment,{children:[u.jsxDEV("div",{className:"space-y-6",children:[v&&u.jsxDEV("div",{className:"rounded-2xl border border-amber-200 bg-amber-50 dark:border-amber-500/40 dark:bg-amber-900/20 p-4 text-amber-900 dark:text-amber-100",role:"status","aria-live":"polite",children:[u.jsxDEV("p",{className:"text-sm font-semibold",children:"Offline mode detected"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2075,columnNumber:13},void 0),u.jsxDEV("p",{className:"text-sm opacity-90",children:"Quick downloads stay fully local. Email sharing is paused until you're back online, and the advanced export workspace will reopen with cached data only."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2076,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2074,columnNumber:11},void 0),u.jsxDEV("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[u.jsxDEV("div",{className:"bg-white dark:bg-gray-900 rounded-2xl shadow-xl border border-gray-100 dark:border-gray-800 p-6",children:[u.jsxDEV("div",{className:"flex items-start justify-between gap-4",children:[u.jsxDEV("div",{children:[u.jsxDEV("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-500",children:"Clinical-Grade Exports"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2085,columnNumber:17},void 0),u.jsxDEV("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Share securely with care teams"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2086,columnNumber:17},void 0),u.jsxDEV("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:"Generate WorkSafe BC-ready PDFs or quickly download data snapshots without leaving the browser."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2087,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2084,columnNumber:15},void 0),u.jsxDEV(al,{className:"w-8 h-8 text-blue-500"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2091,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2083,columnNumber:13},void 0),u.jsxDEV(It.Suspense,{fallback:u.jsxDEV("div",{className:"mt-4 p-4 rounded-xl bg-gray-50 dark:bg-gray-800 text-sm text-gray-500 dark:text-gray-400",children:"Preparing clinical export toolsâ€¦"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2096,columnNumber:17},void 0),children:u.jsxDEV(OS,{entries:e,className:"mt-6"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2101,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2094,columnNumber:13},void 0),u.jsxDEV("button",{onClick:pe,className:"mt-4 w-full inline-flex items-center justify-center gap-2 px-4 py-3 rounded-xl border border-dashed border-blue-300 text-blue-700 dark:text-blue-200 hover:bg-blue-50/60 dark:hover:bg-blue-900/20 transition-colors",children:[u.jsxDEV(i1,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2108,columnNumber:15},void 0),"Open advanced export workspace"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2104,columnNumber:13},void 0),u.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 mt-6",children:[u.jsxDEV("button",{onClick:()=>le("csv"),disabled:t!==null,className:"flex items-center justify-center gap-2 px-4 py-3 rounded-xl bg-gradient-to-r from-blue-500 to-blue-600 text-white font-medium shadow-lg disabled:opacity-60",children:[u.jsxDEV(n1,{className:"w-5 h-5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2118,columnNumber:17},void 0),t==="csv"?"Preparing CSVâ€¦":"Quick CSV"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2113,columnNumber:15},void 0),u.jsxDEV("button",{onClick:()=>le("json"),disabled:t!==null,className:"flex items-center justify-center gap-2 px-4 py-3 rounded-xl bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 text-gray-900 dark:text-white font-medium shadow",children:[u.jsxDEV(r1,{className:"w-5 h-5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2126,columnNumber:17},void 0),t==="json"?"Preparing JSONâ€¦":"Quick JSON"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2121,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2112,columnNumber:13},void 0),n&&u.jsxDEV("p",{className:"mt-3 text-sm text-red-600 dark:text-red-400",role:"alert",children:n},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2132,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2082,columnNumber:11},void 0),u.jsxDEV("div",{className:"bg-white dark:bg-gray-900 rounded-2xl shadow-xl border border-gray-100 dark:border-gray-800 p-6",children:[u.jsxDEV("div",{className:"flex items-center justify-between",children:[u.jsxDEV("div",{children:[u.jsxDEV("p",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:"Provider Snapshot"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2139,columnNumber:17},void 0),u.jsxDEV("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Copy or email a clinical summary"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2140,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2138,columnNumber:15},void 0),u.jsxDEV(c1,{className:"w-6 h-6 text-indigo-500"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2142,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2137,columnNumber:13},void 0),u.jsxDEV("textarea",{readOnly:!0,value:Z,className:"mt-4 w-full min-h-[220px] rounded-2xl border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 text-sm text-gray-800 dark:text-gray-100 p-4 font-mono"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2145,columnNumber:13},void 0),U&&u.jsxDEV("div",{className:"mt-4 space-y-3","aria-live":"polite",children:[u.jsxDEV(mS,{text:Z,isActive:U,delay:1200,onValidationGenerated:C},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2153,columnNumber:17},void 0),j.length>0&&u.jsxDEV("div",{className:"rounded-2xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 p-3",children:[u.jsxDEV("div",{className:"flex items-center justify-between gap-3",children:[u.jsxDEV("span",{className:"text-sm font-semibold text-gray-800 dark:text-gray-100",children:"Recent validation messages"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2162,columnNumber:23},void 0),u.jsxDEV("div",{className:"flex items-center gap-2",children:[u.jsxDEV("button",{type:"button",className:"text-xs text-blue-600 dark:text-blue-300 hover:underline",onClick:()=>y(te=>!te),children:b?"Hide history":"Show history"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2164,columnNumber:25},void 0),u.jsxDEV("button",{type:"button",className:"text-xs text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",onClick:S,children:"Clear"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2171,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2163,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2161,columnNumber:21},void 0),b&&u.jsxDEV("div",{className:"mt-2",children:u.jsxDEV(fS,{validations:j,onClear:S},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2182,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2181,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2160,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2152,columnNumber:15},void 0),u.jsxDEV("div",{className:"mt-4 flex flex-wrap gap-3",children:[u.jsxDEV("button",{onClick:ee,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-white ${a==="copied"?"bg-emerald-600":"bg-indigo-600 hover:bg-indigo-700"}`,children:[u.jsxDEV(h5,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2199,columnNumber:17},void 0),a==="copied"?"Copied summary":"Copy summary"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2191,columnNumber:15},void 0),u.jsxDEV("button",{onClick:ue,disabled:v,className:`flex items-center gap-2 px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 text-gray-800 dark:text-gray-100 hover:bg-gray-50 dark:hover:bg-gray-800 ${v?"opacity-60 cursor-not-allowed":""}`,children:[u.jsxDEV(Y5,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2209,columnNumber:17},void 0),"Compose secure email"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2202,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2190,columnNumber:13},void 0),a==="error"&&u.jsxDEV("p",{className:"text-sm text-red-600 dark:text-red-400 mt-2",role:"alert",children:c||"Clipboard unavailable. Select the text above and copy manually instead."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2215,columnNumber:15},void 0),d&&u.jsxDEV("p",{className:"text-sm text-amber-700 dark:text-amber-300 mt-2",role:"alert",children:d},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2220,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2136,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2081,columnNumber:9},void 0),u.jsxDEV("div",{className:"bg-gradient-to-r from-slate-900 via-blue-900 to-indigo-900 text-white rounded-2xl p-6 shadow-2xl",children:u.jsxDEV("div",{className:"flex items-start gap-4",children:[u.jsxDEV("div",{className:"p-3 bg-white/20 rounded-xl",children:u.jsxDEV(Za,{className:"w-6 h-6"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2228,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2227,columnNumber:13},void 0),u.jsxDEV("div",{children:[u.jsxDEV("h3",{className:"text-xl font-bold",children:"Security-first export guarantees"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2231,columnNumber:15},void 0),u.jsxDEV("p",{className:"text-sm text-blue-100 mt-1",children:"Exports never leave your device unencrypted. You retain full control over every download and share event."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2232,columnNumber:15},void 0),u.jsxDEV("ul",{className:"mt-4 space-y-2 text-sm text-blue-100",children:[u.jsxDEV("li",{className:"flex items-start gap-2",children:[u.jsxDEV($a,{className:"w-4 h-4 mt-0.5 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2237,columnNumber:19},void 0),u.jsxDEV("span",{children:"All exports are generated client-side with the same encryption posture as the rest of the app."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2238,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2236,columnNumber:17},void 0),u.jsxDEV("li",{className:"flex items-start gap-2",children:[u.jsxDEV(Ja,{className:"w-4 h-4 mt-0.5 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2241,columnNumber:19},void 0),u.jsxDEV("span",{children:"Audit trails are available through the HIPAA compliance service for every export action."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2242,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2240,columnNumber:17},void 0),u.jsxDEV("li",{className:"flex items-start gap-2",children:[u.jsxDEV(Qa,{className:"w-4 h-4 mt-0.5 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2245,columnNumber:19},void 0),u.jsxDEV("span",{children:"Use trauma-informed sharing prompts to maintain agency during clinical conversations."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2246,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2244,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2235,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2230,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2226,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2225,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2072,columnNumber:7},void 0),p&&u.jsxDEV(It.Suspense,{fallback:u.jsxDEV("div",{className:"fixed inset-0 flex items-center justify-center bg-black/40 z-50",children:u.jsxDEV("div",{className:"bg-white dark:bg-gray-900 p-6 rounded-2xl shadow-2xl text-gray-700 dark:text-gray-200",children:"Loading export workspaceâ€¦"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2258,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2257,columnNumber:13},void 0),children:u.jsxDEV(FS,{isOpen:p,onClose:()=>m(!1),entries:e,title:"Clinical export workspace"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2264,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2255,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2071,columnNumber:5},void 0)},ku=({title:s,value:e,subtitle:t,trend:r,icon:n,color:i})=>{const a={blue:"from-blue-500 to-blue-600 text-blue-600",purple:"from-purple-500 to-purple-600 text-purple-600",green:"from-green-500 to-green-600 text-green-600",red:"from-red-500 to-red-600 text-red-600",yellow:"from-yellow-500 to-yellow-600 text-yellow-600"};return u.jsxDEV("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6 hover:shadow-2xl transition-all",children:[u.jsxDEV("div",{className:"flex items-start justify-between mb-4",children:[u.jsxDEV("div",{className:`p-3 rounded-xl bg-gradient-to-br ${a[i].split(" ")[0]} ${a[i].split(" ")[1]}`,children:u.jsxDEV(n,{className:"w-6 h-6 text-white"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2299,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2298,columnNumber:9},void 0),r!==void 0&&u.jsxDEV("div",{className:`flex items-center gap-1 px-2 py-1 rounded-full text-xs font-bold ${r>0?"bg-red-100 text-red-700":r<0?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:[r>0?u.jsxDEV(Xo,{className:"w-3 h-3"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2305,columnNumber:26},void 0):r<0?u.jsxDEV(l1,{className:"w-3 h-3"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2305,columnNumber:75},void 0):null,Math.abs(r).toFixed(1),"%"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2302,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2297,columnNumber:7},void 0),u.jsxDEV("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:s},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2310,columnNumber:7},void 0),u.jsxDEV("div",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-1",children:e},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2311,columnNumber:7},void 0),u.jsxDEV("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:t},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2312,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/PremiumAnalyticsDashboard.tsx",lineNumber:2296,columnNumber:5},void 0)};function KS({entries:s}){const[e,t]=$.useState(new Date),[r,n]=$.useState(null),i=$.useMemo(()=>{const b=e.getFullYear(),y=e.getMonth(),v=new Date(b,y,1),N=v.getDay(),w=new Date(v);w.setDate(w.getDate()-N);const j=[],C=new Date;C.setHours(0,0,0,0);for(let S=0;S<42;S++){const A=new Date(w);A.setDate(A.getDate()+S);const U=s.filter(T=>{const R=new Date(T.timestamp);return R.getFullYear()===A.getFullYear()&&R.getMonth()===A.getMonth()&&R.getDate()===A.getDate()}),P=U.length>0?U.reduce((T,R)=>T+R.baselineData.pain,0)/U.length:0;j.push({date:A,entries:U,avgPain:P,isCurrentMonth:A.getMonth()===y,isToday:A.getTime()===C.getTime()})}return j},[e,s]),a=$.useMemo(()=>{const b=i.filter(w=>w.isCurrentMonth&&w.entries.length>0).flatMap(w=>w.entries);if(b.length===0)return{avgPain:0,totalEntries:0,daysTracked:0,bestDay:null,worstDay:null};const y=b.reduce((w,j)=>w+j.baselineData.pain,0)/b.length,v=i.filter(w=>w.isCurrentMonth&&w.entries.length>0).length,N=[...i].filter(w=>w.isCurrentMonth&&w.entries.length>0).sort((w,j)=>w.avgPain-j.avgPain);return{avgPain:y,totalEntries:b.length,daysTracked:v,bestDay:N[0],worstDay:N[N.length-1]}},[i]),o=b=>b===0?"bg-gray-100 dark:bg-gray-800 text-gray-400":b<=3?"bg-green-100 dark:bg-green-950/30 text-green-700 dark:text-green-300 border-green-300 dark:border-green-700":b<=5?"bg-yellow-100 dark:bg-yellow-950/30 text-yellow-700 dark:text-yellow-300 border-yellow-300 dark:border-yellow-700":b<=7?"bg-orange-100 dark:bg-orange-950/30 text-orange-700 dark:text-orange-300 border-orange-300 dark:border-orange-700":"bg-red-100 dark:bg-red-950/30 text-red-700 dark:text-red-300 border-red-300 dark:border-red-700",c=b=>b===0?"opacity-20":b<=3?"opacity-40":b<=5?"opacity-60":b<=7?"opacity-80":"opacity-100",l=()=>{t(new Date(e.getFullYear(),e.getMonth()+1,1)),n(null)},d=()=>{t(new Date(e.getFullYear(),e.getMonth()-1,1)),n(null)},f=()=>{t(new Date),n(null)},p=e.toLocaleDateString("en-US",{month:"long",year:"numeric"}),m=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return u.jsxDEV("div",{className:"space-y-6",children:[u.jsxDEV("div",{className:"flex items-center justify-between",children:[u.jsxDEV("div",{children:[u.jsxDEV("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Calendar View"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:154,columnNumber:11},this),u.jsxDEV("p",{className:"text-gray-600 dark:text-gray-400",children:"Visual timeline of your pain tracking journey"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:155,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:153,columnNumber:9},this),u.jsxDEV(pr,{variant:"outline",onClick:f,className:"rounded-xl",children:[u.jsxDEV(wl,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:158,columnNumber:11},this),"Today"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:157,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:152,columnNumber:7},this),u.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[u.jsxDEV("div",{className:"bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl p-6 text-white shadow-lg",children:[u.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:u.jsxDEV(Xn,{className:"h-6 w-6 opacity-80"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:167,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:166,columnNumber:11},this),u.jsxDEV("div",{className:"text-3xl font-bold mb-1",children:a.avgPain.toFixed(1)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:169,columnNumber:11},this),u.jsxDEV("div",{className:"text-sm opacity-90",children:"Avg Pain This Month"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:170,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:165,columnNumber:9},this),u.jsxDEV("div",{className:"bg-gradient-to-br from-purple-500 to-pink-600 rounded-2xl p-6 text-white shadow-lg",children:[u.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:u.jsxDEV(Jo,{className:"h-6 w-6 opacity-80"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:175,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:174,columnNumber:11},this),u.jsxDEV("div",{className:"text-3xl font-bold mb-1",children:a.daysTracked},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:177,columnNumber:11},this),u.jsxDEV("div",{className:"text-sm opacity-90",children:"Days Tracked"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:178,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:173,columnNumber:9},this),u.jsxDEV("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 rounded-2xl p-6 text-white shadow-lg",children:[u.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:u.jsxDEV(a5,{className:"h-6 w-6 opacity-80"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:183,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:182,columnNumber:11},this),u.jsxDEV("div",{className:"text-3xl font-bold mb-1",children:a.bestDay?a.bestDay.avgPain.toFixed(1):"-"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:185,columnNumber:11},this),u.jsxDEV("div",{className:"text-sm opacity-90",children:"Best Day"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:188,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:181,columnNumber:9},this),u.jsxDEV("div",{className:"bg-gradient-to-br from-orange-500 to-red-600 rounded-2xl p-6 text-white shadow-lg",children:[u.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:u.jsxDEV(nh,{className:"h-6 w-6 opacity-80"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:193,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:192,columnNumber:11},this),u.jsxDEV("div",{className:"text-3xl font-bold mb-1",children:a.worstDay?a.worstDay.avgPain.toFixed(1):"-"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:195,columnNumber:11},this),u.jsxDEV("div",{className:"text-sm opacity-90",children:"Challenging Day"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:198,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:191,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:164,columnNumber:7},this),u.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsxDEV("div",{className:"lg:col-span-2",children:u.jsxDEV("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 shadow-lg p-6",children:[u.jsxDEV("div",{className:"flex items-center justify-between mb-6",children:[u.jsxDEV("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:p},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:208,columnNumber:15},this),u.jsxDEV("div",{className:"flex items-center gap-2",children:[u.jsxDEV(pr,{variant:"ghost",size:"sm",onClick:d,className:"rounded-xl",children:u.jsxDEV(t1,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:216,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:210,columnNumber:17},this),u.jsxDEV(pr,{variant:"ghost",size:"sm",onClick:l,className:"rounded-xl",children:u.jsxDEV(s5,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:224,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:218,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:209,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:207,columnNumber:13},this),u.jsxDEV("div",{className:"grid grid-cols-7 gap-2 mb-2",children:m.map(b=>u.jsxDEV("div",{className:"text-center text-xs font-semibold text-gray-500 dark:text-gray-400 py-2",children:b},b,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:232,columnNumber:17},this))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:230,columnNumber:13},this),u.jsxDEV("div",{className:"grid grid-cols-7 gap-2",children:i.map((b,y)=>u.jsxDEV("button",{onClick:()=>n(b.entries.length>0?b:null),disabled:b.entries.length===0,className:$e("relative aspect-square rounded-xl p-2 transition-all duration-200","flex flex-col items-center justify-center",b.entries.length>0&&"cursor-pointer hover:scale-105 border-2",b.entries.length===0&&"cursor-default",!b.isCurrentMonth&&"opacity-30",b.isToday&&"ring-2 ring-blue-500 ring-offset-2 dark:ring-offset-gray-900",b.entries.length>0?o(b.avgPain):"bg-gray-50 dark:bg-gray-800/50 text-gray-400",r?.date.getTime()===b.date.getTime()&&"ring-2 ring-offset-2 dark:ring-offset-gray-900"),children:[u.jsxDEV("span",{className:$e("text-sm font-medium mb-1",b.isToday&&"font-bold"),children:b.date.getDate()},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:259,columnNumber:19},this),b.entries.length>0&&u.jsxDEV(u.Fragment,{children:[u.jsxDEV("div",{className:$e("w-1.5 h-1.5 rounded-full",o(b.avgPain).split(" ")[0].replace("bg-","bg-"),c(b.avgPain))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:268,columnNumber:23},this),b.entries.length>1&&u.jsxDEV("span",{className:"text-xs opacity-60 mt-0.5",children:b.entries.length},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:274,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:267,columnNumber:21},this)]},y,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:244,columnNumber:17},this))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:242,columnNumber:13},this),u.jsxDEV("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:u.jsxDEV("div",{className:"flex items-center justify-between text-xs",children:[u.jsxDEV("span",{className:"text-gray-600 dark:text-gray-400 font-medium",children:"Pain Level:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:287,columnNumber:17},this),u.jsxDEV("div",{className:"flex items-center gap-2",children:[u.jsxDEV("div",{className:"flex items-center gap-1",children:[u.jsxDEV("div",{className:"w-3 h-3 rounded bg-green-500"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:290,columnNumber:21},this),u.jsxDEV("span",{className:"text-gray-600 dark:text-gray-400",children:"Low"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:291,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:289,columnNumber:19},this),u.jsxDEV("div",{className:"flex items-center gap-1",children:[u.jsxDEV("div",{className:"w-3 h-3 rounded bg-yellow-500"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:294,columnNumber:21},this),u.jsxDEV("span",{className:"text-gray-600 dark:text-gray-400",children:"Mild"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:295,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:293,columnNumber:19},this),u.jsxDEV("div",{className:"flex items-center gap-1",children:[u.jsxDEV("div",{className:"w-3 h-3 rounded bg-orange-500"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:298,columnNumber:21},this),u.jsxDEV("span",{className:"text-gray-600 dark:text-gray-400",children:"Moderate"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:299,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:297,columnNumber:19},this),u.jsxDEV("div",{className:"flex items-center gap-1",children:[u.jsxDEV("div",{className:"w-3 h-3 rounded bg-red-500"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:302,columnNumber:21},this),u.jsxDEV("span",{className:"text-gray-600 dark:text-gray-400",children:"Severe"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:303,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:301,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:288,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:286,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:285,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:205,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:204,columnNumber:9},this),u.jsxDEV("div",{className:"lg:col-span-1",children:r?u.jsxDEV("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 shadow-lg p-6 sticky top-24",children:[u.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[u.jsxDEV("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:r.date.toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"})},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:316,columnNumber:17},this),u.jsxDEV(Oa,{variant:"outline",className:"rounded-full",children:[r.entries.length," ",r.entries.length===1?"entry":"entries"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:323,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:315,columnNumber:15},this),u.jsxDEV("div",{className:$e("rounded-xl p-4 mb-4",o(r.avgPain)),children:u.jsxDEV("div",{className:"flex items-center justify-between",children:[u.jsxDEV("span",{className:"text-sm font-medium opacity-80",children:"Average Pain"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:334,columnNumber:19},this),u.jsxDEV("div",{className:"text-2xl font-bold",children:[r.avgPain.toFixed(1),"/10"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:335,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:333,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:329,columnNumber:15},this),u.jsxDEV("div",{className:"space-y-3",children:r.entries.map(b=>u.jsxDEV("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-xl p-4 space-y-2",children:[u.jsxDEV("div",{className:"flex items-center justify-between",children:[u.jsxDEV("div",{className:"flex items-center gap-2",children:[u.jsxDEV(pd,{className:"h-4 w-4 text-gray-500"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:348,columnNumber:25},this),u.jsxDEV("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:new Date(b.timestamp).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:349,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:347,columnNumber:23},this),u.jsxDEV(Oa,{className:$e("rounded-full",o(b.baselineData.pain)),children:[b.baselineData.pain,"/10"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:356,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:346,columnNumber:21},this),b.baselineData.locations&&b.baselineData.locations.length>0&&u.jsxDEV("div",{className:"flex items-start gap-2",children:[u.jsxDEV(ih,{className:"h-4 w-4 text-gray-400 mt-0.5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:363,columnNumber:25},this),u.jsxDEV("div",{className:"flex flex-wrap gap-1",children:b.baselineData.locations.map((y,v)=>u.jsxDEV(Oa,{variant:"outline",className:"text-xs rounded-full",children:y},v,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:366,columnNumber:29},this))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:364,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:362,columnNumber:23},this),b.medications?.current&&b.medications.current.length>0&&u.jsxDEV("div",{className:"flex items-start gap-2",children:[u.jsxDEV(ah,{className:"h-4 w-4 text-gray-400 mt-0.5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:376,columnNumber:25},this),u.jsxDEV("div",{className:"flex flex-wrap gap-1",children:b.medications.current.map((y,v)=>u.jsxDEV(Oa,{variant:"outline",className:"text-xs rounded-full",children:y.name},v,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:379,columnNumber:29},this))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:377,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:375,columnNumber:23},this),b.notes&&u.jsxDEV("p",{className:"text-sm text-gray-600 dark:text-gray-400 italic",children:['"',b.notes,'"']},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:388,columnNumber:23},this)]},b.id,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:342,columnNumber:19},this))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:340,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:314,columnNumber:13},this):u.jsxDEV("div",{className:"bg-gradient-to-br from-gray-50 to-blue-50 dark:from-gray-900 dark:to-blue-950/20 rounded-2xl border-2 border-dashed border-gray-300 dark:border-gray-700 p-8 text-center",children:[u.jsxDEV(vi,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:398,columnNumber:15},this),u.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Select a Day"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:399,columnNumber:15},this),u.jsxDEV("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Click on any day with entries to view details"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:402,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:397,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:312,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:202,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:150,columnNumber:5},this)}const Eo=[{id:"head",name:"Head",frontPath:"M150 35 C165 35, 175 45, 175 60 C175 70, 172 78, 165 85 C162 88, 158 90, 153 92 L147 92 C142 90, 138 88, 135 85 C128 78, 125 70, 125 60 C125 45, 135 35, 150 35 Z",backPath:"M150 35 C165 35, 175 45, 175 60 C175 70, 172 78, 165 85 C162 88, 158 90, 153 92 L147 92 C142 90, 138 88, 135 85 C128 78, 125 70, 125 60 C125 45, 135 35, 150 35 Z",center:{x:150,y:63},category:"upper"},{id:"neck",name:"Neck",frontPath:"M142 92 L158 92 L160 110 L140 110 Z",backPath:"M142 92 L158 92 L160 110 L140 110 Z",center:{x:150,y:101},category:"upper"},{id:"left-shoulder",name:"Left Shoulder",frontPath:"M85 115 C95 105, 115 105, 125 110 L130 125 C125 135, 110 140, 95 135 L85 120 Z",center:{x:107,y:120},category:"upper"},{id:"right-shoulder",name:"Right Shoulder",frontPath:"M175 110 C185 105, 205 105, 215 115 L215 120 L205 135 C190 140, 175 135, 170 125 Z",center:{x:193,y:120},category:"upper"},{id:"left-upper-arm",name:"Left Upper Arm",frontPath:"M85 135 L105 140 L107 200 L87 205 Z",center:{x:96,y:170},category:"extremities"},{id:"right-upper-arm",name:"Right Upper Arm",frontPath:"M195 140 L215 135 L213 205 L193 200 Z",center:{x:204,y:170},category:"extremities"},{id:"left-elbow",name:"Left Elbow",frontPath:"M87 205 L107 200 L108 220 L88 225 Z",center:{x:97,y:212},category:"extremities"},{id:"right-elbow",name:"Right Elbow",frontPath:"M193 200 L213 205 L212 225 L192 220 Z",center:{x:203,y:212},category:"extremities"},{id:"left-forearm",name:"Left Forearm",frontPath:"M88 225 L108 220 L110 285 L90 290 Z",center:{x:99,y:255},category:"extremities"},{id:"right-forearm",name:"Right Forearm",frontPath:"M192 220 L212 225 L210 290 L190 285 Z",center:{x:201,y:255},category:"extremities"},{id:"left-hand",name:"Left Hand",frontPath:"M90 290 L110 285 L112 308 L92 312 Z",center:{x:101,y:298},category:"extremities"},{id:"right-hand",name:"Right Hand",frontPath:"M190 285 L210 290 L208 312 L188 308 Z",center:{x:199,y:298},category:"extremities"},{id:"chest",name:"Chest",frontPath:"M130 110 L170 110 L180 145 L178 180 L122 180 L120 145 Z",center:{x:150,y:145},category:"core"},{id:"upper-back",name:"Upper Back",backPath:"M130 110 L170 110 L178 145 L180 180 L120 180 L122 145 Z",center:{x:150,y:145},category:"core"},{id:"abdomen",name:"Abdomen",frontPath:"M122 180 L178 180 L175 235 L125 235 Z",center:{x:150,y:207},category:"core"},{id:"lower-back",name:"Lower Back",backPath:"M120 180 L180 180 L178 235 L122 235 Z",center:{x:150,y:207},category:"core"},{id:"left-hip",name:"Left Hip",frontPath:"M125 235 L145 235 L148 275 L128 275 Z",backPath:"M125 235 L145 235 L148 275 L128 275 Z",center:{x:136,y:255},category:"core"},{id:"right-hip",name:"Right Hip",frontPath:"M155 235 L175 235 L172 275 L152 275 Z",backPath:"M155 235 L175 235 L172 275 L152 275 Z",center:{x:164,y:255},category:"core"},{id:"left-thigh",name:"Left Thigh",frontPath:"M128 275 L148 275 L147 365 L127 365 Z",backPath:"M128 275 L148 275 L147 365 L127 365 Z",center:{x:137,y:320},category:"lower"},{id:"right-thigh",name:"Right Thigh",frontPath:"M152 275 L172 275 L173 365 L153 365 Z",backPath:"M152 275 L172 275 L173 365 L153 365 Z",center:{x:163,y:320},category:"lower"},{id:"left-knee",name:"Left Knee",frontPath:"M127 365 L147 365 L147 385 L127 385 Z",backPath:"M127 365 L147 365 L147 385 L127 385 Z",center:{x:137,y:375},category:"lower"},{id:"right-knee",name:"Right Knee",frontPath:"M153 365 L173 365 L173 385 L153 385 Z",backPath:"M153 365 L173 365 L173 385 L153 385 Z",center:{x:163,y:375},category:"lower"},{id:"left-calf",name:"Left Calf",frontPath:"M127 385 L147 385 L145 465 L125 465 Z",backPath:"M127 385 L147 385 L145 465 L125 465 Z",center:{x:136,y:425},category:"lower"},{id:"right-calf",name:"Right Calf",frontPath:"M153 385 L173 385 L175 465 L155 465 Z",backPath:"M153 385 L173 385 L175 465 L155 465 Z",center:{x:164,y:425},category:"lower"},{id:"left-ankle",name:"Left Ankle",frontPath:"M125 465 L145 465 L144 478 L124 478 Z",backPath:"M125 465 L145 465 L144 478 L124 478 Z",center:{x:134,y:471},category:"lower"},{id:"right-ankle",name:"Right Ankle",frontPath:"M155 465 L175 465 L176 478 L156 478 Z",backPath:"M155 465 L175 465 L176 478 L156 478 Z",center:{x:166,y:471},category:"lower"},{id:"left-foot",name:"Left Foot",frontPath:"M118 478 L150 478 L152 495 L116 495 Z",backPath:"M118 478 L150 478 L152 495 L116 495 Z",center:{x:134,y:486},category:"lower"},{id:"right-foot",name:"Right Foot",frontPath:"M150 478 L182 478 L184 495 L148 495 Z",backPath:"M150 478 L182 478 L184 495 L148 495 Z",center:{x:166,y:486},category:"lower"}];function Ox({entries:s=[],selectedRegions:e=[],onRegionSelect:t,mode:r="selection",className:n="",height:i=600}){const[a,o]=$.useState(null),[c,l]=$.useState(!0),[d,f]=$.useState(1),[p,m]=$.useState(!1),b=$.useRef(null),y=$.useRef(null),v=$.useRef(new Map);$.useEffect(()=>{if(r==="heatmap"&&s.length>0){const L=new Map;s.forEach(F=>{F.baselineData?.locations&&F.baselineData.locations.forEach(z=>{const Z=XS(z);if(Z&&Eo.find(re=>re.id===Z)){L.has(Z)||L.set(Z,{total:0,max:0,count:0});const re=L.get(Z);re.total+=F.baselineData.pain,re.max=Math.max(re.max,F.baselineData.pain),re.count+=1}})}),v.current.clear(),L.forEach((F,z)=>{v.current.set(z,{avg:F.total/F.count,max:F.max,count:F.count})})}},[s,r]);const N=L=>{if(r==="selection"&&t){const F=e.includes(L)?e.filter(z=>z!==L):[...e,L];t(F)}},w=L=>{if(r==="selection")return e.includes(L)?"#ef4444":a===L?"#60a5fa":"#e5e7eb";if(r==="heatmap"){const F=v.current.get(L);if(!F||F.avg===0)return"#f3f4f6";const z=F.avg/10;return z<.25?"#86efac":z<.4?"#4ade80":z<.6?"#fbbf24":z<.75?"#fb923c":"#ef4444"}return"#e5e7eb"},j=L=>{if(r==="heatmap"){const F=v.current.get(L);if(!F)return .2;const z=Math.min(F.count/10,1),Z=F.avg/10;return .3+z*.3+Z*.4}return a===L?.9:.7},C=L=>v.current.get(L)||{avg:0,max:0,count:0},S=()=>{!document.fullscreenElement&&y.current?(y.current.requestFullscreen(),m(!0)):document.fullscreenElement&&(document.exitFullscreen(),m(!1))},A=()=>f(L=>Math.min(L+.2,3)),U=()=>f(L=>Math.max(L-.2,.5)),P=()=>{if(!b.current)return;const L=new XMLSerializer().serializeToString(b.current),F=document.createElement("canvas"),z=F.getContext("2d"),Z=new Image;Z.onload=()=>{F.width=300*2,F.height=520*2,z?.drawImage(Z,0,0,F.width,F.height);const re=F.toDataURL("image/png"),le=document.createElement("a");le.download=`pain-map-${new Date().toISOString().split("T")[0]}.png`,le.href=re,le.click()},Z.src="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(L)))},T=Eo.filter(L=>c?L.frontPath!==void 0:L.backPath!==void 0),R=e.length,E=r==="heatmap"?v.current.size:0;return u.jsxDEV("div",{ref:y,className:`interactive-body-map ${n} ${p?"fixed inset-0 z-50 bg-white":""}`,children:[u.jsxDEV("div",{className:"flex justify-between items-center mb-4 bg-gradient-to-r from-blue-50 to-indigo-50 p-4 rounded-lg border border-blue-200",children:[u.jsxDEV("div",{className:"flex items-center space-x-3",children:[u.jsxDEV("div",{className:"p-2 bg-blue-100 rounded-lg",children:u.jsxDEV(u1,{className:"h-6 w-6 text-blue-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:401,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:400,columnNumber:11},this),u.jsxDEV("div",{children:[u.jsxDEV("h3",{className:"font-semibold text-gray-900",children:r==="selection"?"Select Pain Locations":"Pain Heat Map"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:404,columnNumber:13},this),u.jsxDEV("p",{className:"text-sm text-gray-600",children:r==="selection"?`${R} region${R!==1?"s":""} selected`:`${E} region${E!==1?"s":""} with recorded pain`},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:407,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:403,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:399,columnNumber:9},this),u.jsxDEV("div",{className:"flex items-center space-x-2",children:[u.jsxDEV("div",{className:"flex items-center space-x-1 bg-white rounded-md border border-gray-300 px-2 py-1",children:[u.jsxDEV("button",{onClick:U,className:"p-1 hover:bg-gray-100 rounded transition-colors",title:"Zoom Out",children:u.jsxDEV(Tw,{className:"h-4 w-4 text-gray-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:424,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:419,columnNumber:13},this),u.jsxDEV("span",{className:"text-xs text-gray-600 px-2 min-w-[3rem] text-center",children:[Math.round(d*100),"%"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:426,columnNumber:13},this),u.jsxDEV("button",{onClick:A,className:"p-1 hover:bg-gray-100 rounded transition-colors",title:"Zoom In",children:u.jsxDEV(_w,{className:"h-4 w-4 text-gray-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:434,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:429,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:418,columnNumber:11},this),u.jsxDEV("button",{onClick:()=>l(!c),className:"flex items-center space-x-2 px-4 py-2 bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:[u.jsxDEV(o1,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:443,columnNumber:13},this),u.jsxDEV("span",{className:"text-sm font-medium",children:c?"Front":"Back"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:444,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:439,columnNumber:11},this),u.jsxDEV("button",{onClick:P,className:"p-2 bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",title:"Export as PNG",children:u.jsxDEV(Ja,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:453,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:448,columnNumber:11},this),u.jsxDEV("button",{onClick:S,className:"p-2 bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",title:"Toggle Fullscreen",children:u.jsxDEV(X5,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:462,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:457,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:416,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:398,columnNumber:7},this),u.jsxDEV("div",{className:"relative bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl border-2 border-gray-200 p-6 shadow-lg overflow-hidden",children:[u.jsxDEV("div",{className:"absolute inset-0 opacity-5",children:u.jsxDEV("svg",{width:"100%",height:"100%",children:[u.jsxDEV("pattern",{id:"grid",width:"20",height:"20",patternUnits:"userSpaceOnUse",children:u.jsxDEV("path",{d:"M 20 0 L 0 0 0 20",fill:"none",stroke:"gray",strokeWidth:"0.5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:473,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:472,columnNumber:13},this),u.jsxDEV("rect",{width:"100%",height:"100%",fill:"url(#grid)"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:475,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:471,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:470,columnNumber:9},this),u.jsxDEV("svg",{ref:b,viewBox:"0 0 300 520",className:"w-full mx-auto transition-transform duration-300",style:{maxHeight:`${i}px`,maxWidth:"400px",transform:`scale(${d})`,transformOrigin:"center"},children:[u.jsxDEV("rect",{x:"0",y:"0",width:"300",height:"520",fill:"#ffffff",rx:"15"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:491,columnNumber:11},this),u.jsxDEV("ellipse",{cx:"150",cy:"510",rx:"40",ry:"8",fill:"#000000",opacity:"0.1"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:494,columnNumber:11},this),T.map(L=>{const F=c?L.frontPath:L.backPath;if(!F)return null;const z=C(L.id),Z=r==="selection"?e.includes(L.id):z.avg>0;return u.jsxDEV("g",{children:[Z&&u.jsxDEV("path",{d:F,fill:"none",stroke:r==="selection"?"#ef4444":"#fbbf24",strokeWidth:"3",opacity:"0.4",className:"animate-pulse",filter:"blur(4px)"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:508,columnNumber:19},this),u.jsxDEV("path",{d:F,fill:w(L.id),stroke:a===L.id?"#1f2937":"#6b7280",strokeWidth:a===L.id?"2":"1",opacity:j(L.id),className:"cursor-pointer transition-all duration-200 hover:brightness-110",onClick:()=>N(L.id),onMouseEnter:()=>o(L.id),onMouseLeave:()=>o(null)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:520,columnNumber:17},this),r==="heatmap"&&z.avg>0&&u.jsxDEV("text",{x:L.center.x,y:L.center.y,textAnchor:"middle",dominantBaseline:"central",className:"text-xs font-bold pointer-events-none select-none",fill:"#ffffff",stroke:"#000000",strokeWidth:"0.5",children:Qi(z.avg,1)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:534,columnNumber:19},this)]},L.id,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:505,columnNumber:15},this)}),u.jsxDEV("text",{x:"150",y:"20",textAnchor:"middle",className:"text-sm font-semibold",fill:"#4b5563",children:c?"FRONT VIEW":"BACK VIEW"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:552,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:479,columnNumber:9},this),a&&u.jsxDEV("div",{className:"absolute top-8 right-8 bg-gray-900 text-white px-4 py-3 rounded-lg shadow-xl pointer-events-none z-10 min-w-[200px]",children:[u.jsxDEV("div",{className:"font-semibold text-base mb-1",children:Eo.find(L=>L.id===a)?.name},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:566,columnNumber:13},this),r==="heatmap"&&(()=>{const L=C(a);return L.avg>0?u.jsxDEV("div",{className:"text-sm space-y-1",children:[u.jsxDEV("div",{className:"flex justify-between",children:[u.jsxDEV("span",{className:"text-gray-300",children:"Avg Pain:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:574,columnNumber:21},this),u.jsxDEV("span",{className:"font-medium",children:[Qi(L.avg,1),"/10"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:575,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:573,columnNumber:19},this),u.jsxDEV("div",{className:"flex justify-between",children:[u.jsxDEV("span",{className:"text-gray-300",children:"Max Pain:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:578,columnNumber:21},this),u.jsxDEV("span",{className:"font-medium",children:[L.max,"/10"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:579,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:577,columnNumber:19},this),u.jsxDEV("div",{className:"flex justify-between",children:[u.jsxDEV("span",{className:"text-gray-300",children:"Entries:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:582,columnNumber:21},this),u.jsxDEV("span",{className:"font-medium",children:L.count},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:583,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:581,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:572,columnNumber:17},this):u.jsxDEV("div",{className:"text-sm text-gray-400",children:"No pain recorded"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:587,columnNumber:17},this)})(),r==="selection"&&u.jsxDEV("div",{className:"text-sm text-gray-300",children:["Click to ",e.includes(a)?"deselect":"select"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:591,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:565,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:468,columnNumber:7},this),u.jsxDEV("div",{className:"mt-6 space-y-4",children:[r==="heatmap"&&u.jsxDEV("div",{className:"bg-gradient-to-r from-green-50 via-yellow-50 to-red-50 rounded-lg p-4 border border-gray-200",children:[u.jsxDEV("div",{className:"flex items-center justify-between mb-3",children:[u.jsxDEV("span",{className:"text-sm font-semibold text-gray-700",children:"Pain Intensity Scale"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:605,columnNumber:15},this),u.jsxDEV(vi,{className:"h-4 w-4 text-gray-500"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:606,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:604,columnNumber:13},this),u.jsxDEV("div",{className:"flex items-center space-x-4",children:u.jsxDEV("div",{className:"flex-1",children:[u.jsxDEV("div",{className:"h-8 rounded-lg bg-gradient-to-r from-green-400 via-yellow-400 to-red-500 shadow-inner"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:610,columnNumber:17},this),u.jsxDEV("div",{className:"flex justify-between text-xs text-gray-600 mt-1",children:[u.jsxDEV("span",{children:"0"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:612,columnNumber:19},this),u.jsxDEV("span",{children:"2.5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:613,columnNumber:19},this),u.jsxDEV("span",{children:"5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:614,columnNumber:19},this),u.jsxDEV("span",{children:"7.5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:615,columnNumber:19},this),u.jsxDEV("span",{children:"10"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:616,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:611,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:609,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:608,columnNumber:13},this),u.jsxDEV("div",{className:"grid grid-cols-3 gap-3 mt-4 text-xs",children:[u.jsxDEV("div",{className:"flex items-center space-x-2",children:[u.jsxDEV("div",{className:"w-3 h-3 rounded-full bg-green-400"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:622,columnNumber:17},this),u.jsxDEV("span",{className:"text-gray-600",children:"Mild (0-4)"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:623,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:621,columnNumber:15},this),u.jsxDEV("div",{className:"flex items-center space-x-2",children:[u.jsxDEV("div",{className:"w-3 h-3 rounded-full bg-yellow-400"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:626,columnNumber:17},this),u.jsxDEV("span",{className:"text-gray-600",children:"Moderate (4-7)"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:627,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:625,columnNumber:15},this),u.jsxDEV("div",{className:"flex items-center space-x-2",children:[u.jsxDEV("div",{className:"w-3 h-3 rounded-full bg-red-500"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:630,columnNumber:17},this),u.jsxDEV("span",{className:"text-gray-600",children:"Severe (7-10)"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:631,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:629,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:620,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:603,columnNumber:11},this),r==="selection"&&e.length>0&&u.jsxDEV("div",{className:"bg-blue-50 rounded-lg p-4 border-2 border-blue-200",children:[u.jsxDEV("div",{className:"text-sm font-semibold text-blue-900 mb-3",children:["Selected Locations (",e.length,")"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:640,columnNumber:13},this),u.jsxDEV("div",{className:"flex flex-wrap gap-2",children:e.map(L=>{const F=Eo.find(re=>re.id===L),z=F?.category,Z={upper:"bg-purple-100 text-purple-800 border-purple-300",core:"bg-blue-100 text-blue-800 border-blue-300",lower:"bg-green-100 text-green-800 border-green-300",extremities:"bg-orange-100 text-orange-800 border-orange-300"};return u.jsxDEV("span",{className:`inline-flex items-center px-3 py-1.5 rounded-full text-sm font-medium border ${Z[z||"core"]}`,children:[F?.name,u.jsxDEV("button",{onClick:()=>N(L),className:"ml-2 hover:scale-125 transition-transform",title:"Remove",children:"Ã—"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:660,columnNumber:21},this)]},L,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:655,columnNumber:19},this)})},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:643,columnNumber:13},this),u.jsxDEV("button",{onClick:()=>t?.([]),className:"mt-3 text-sm text-blue-600 hover:text-blue-800 font-medium",children:"Clear All"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:671,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:639,columnNumber:11},this),r==="heatmap"&&E>0&&u.jsxDEV("div",{className:"grid grid-cols-3 gap-4",children:[u.jsxDEV("div",{className:"bg-white rounded-lg p-4 border border-gray-200 shadow-sm",children:[u.jsxDEV("div",{className:"text-xs text-gray-500 uppercase tracking-wide mb-1",children:"Affected Regions"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:684,columnNumber:15},this),u.jsxDEV("div",{className:"text-2xl font-bold text-gray-900",children:E},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:685,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:683,columnNumber:13},this),u.jsxDEV("div",{className:"bg-white rounded-lg p-4 border border-gray-200 shadow-sm",children:[u.jsxDEV("div",{className:"text-xs text-gray-500 uppercase tracking-wide mb-1",children:"Highest Pain"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:688,columnNumber:15},this),u.jsxDEV("div",{className:"text-2xl font-bold text-red-600",children:[Math.max(...Array.from(v.current.values()).map(L=>L.max),0),"/10"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:689,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:687,columnNumber:13},this),u.jsxDEV("div",{className:"bg-white rounded-lg p-4 border border-gray-200 shadow-sm",children:[u.jsxDEV("div",{className:"text-xs text-gray-500 uppercase tracking-wide mb-1",children:"Avg Pain"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:694,columnNumber:15},this),u.jsxDEV("div",{className:"text-2xl font-bold text-orange-600",children:[Qi(Array.from(v.current.values()).reduce((L,F)=>L+F.avg,0)/(E||1),1),"/10"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:695,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:693,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:682,columnNumber:11},this),u.jsxDEV("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[u.jsxDEV("div",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Body Region Categories"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:708,columnNumber:11},this),u.jsxDEV("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[{name:"Upper Body",category:"upper",color:"purple",icon:"ðŸ§ "},{name:"Core/Torso",category:"core",color:"blue",icon:"ðŸ«€"},{name:"Lower Body",category:"lower",color:"green",icon:"ðŸ¦µ"},{name:"Arms/Hands",category:"extremities",color:"orange",icon:"ðŸ’ª"}].map(({name:L,category:F,color:z,icon:Z})=>{const re=r==="selection"?e.filter(le=>Eo.find(ee=>ee.id===le)?.category===F).length:Array.from(v.current.entries()).filter(([le])=>Eo.find(ee=>ee.id===le)?.category===F).length;return u.jsxDEV("div",{className:`bg-${z}-50 border border-${z}-200 rounded-md p-2 text-center`,children:[u.jsxDEV("div",{className:"text-2xl mb-1",children:Z},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:722,columnNumber:19},this),u.jsxDEV("div",{className:"text-xs font-medium text-gray-700",children:L},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:723,columnNumber:19},this),u.jsxDEV("div",{className:`text-sm font-bold text-${z}-700 mt-1`,children:re},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:724,columnNumber:19},this)]},F,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:721,columnNumber:17},this)})},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:709,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:707,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:600,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/InteractiveBodyMap.tsx",lineNumber:396,columnNumber:5},this)}function XS(s){const e=s.toLowerCase();return{head:"head",neck:"neck",shoulder:"left-shoulder","left shoulder":"left-shoulder","right shoulder":"right-shoulder",arm:"left-upper-arm","left arm":"left-upper-arm","right arm":"right-upper-arm",elbow:"left-elbow","left elbow":"left-elbow","right elbow":"right-elbow",forearm:"left-forearm","left forearm":"left-forearm","right forearm":"right-forearm",hand:"left-hand","left hand":"left-hand","right hand":"right-hand",chest:"chest",back:"upper-back","upper back":"upper-back","lower back":"lower-back",abdomen:"abdomen",stomach:"abdomen",hip:"left-hip","left hip":"left-hip","right hip":"right-hip",thigh:"left-thigh","left thigh":"left-thigh","right thigh":"right-thigh",knee:"left-knee","left knee":"left-knee","right knee":"right-knee",leg:"left-calf",calf:"left-calf","left calf":"left-calf","right calf":"right-calf",ankle:"left-ankle","left ankle":"left-ankle","right ankle":"right-ankle",foot:"left-foot","left foot":"left-foot","right foot":"right-foot"}[e]||null}function JS(){const{entries:s,addEntry:e}=Ko(),[t,r]=$.useState([]),[n,i]=$.useState(5),[a,o]=$.useState(""),[c,l]=$.useState(!1),d=s.slice(0,5).flatMap(p=>p.baselineData?.locations||[]).filter((p,m,b)=>b.indexOf(p)===m).slice(0,3),f=async()=>{if(t.length!==0){l(!0);try{await e({baselineData:{pain:n,locations:t,symptoms:[]},notes:a||void 0}),r([]),i(5),o("")}finally{l(!1)}}};return u.jsxDEV("div",{className:"max-w-6xl mx-auto p-4 space-y-6",children:[u.jsxDEV("div",{className:"text-center space-y-2",children:[u.jsxDEV("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Body Map"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/BodyMapPage.tsx",lineNumber:48,columnNumber:9},this),u.jsxDEV("p",{className:"text-gray-600 dark:text-gray-400",children:"Click on the body diagram to select pain locations"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/BodyMapPage.tsx",lineNumber:51,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/BodyMapPage.tsx",lineNumber:47,columnNumber:7},this),d.length>0&&u.jsxDEV("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[u.jsxDEV("h3",{className:"text-sm font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"Recent Locations"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/BodyMapPage.tsx",lineNumber:59,columnNumber:11},this),u.jsxDEV("div",{className:"flex flex-wrap gap-2",children:d.map((p,m)=>u.jsxDEV("button",{onClick:()=>{t.includes(p)||r([...t,p])},className:"px-3 py-1.5 bg-white dark:bg-gray-800 border border-blue-300 dark:border-blue-700 rounded-md text-sm text-blue-900 dark:text-blue-100 hover:bg-blue-100 dark:hover:bg-blue-900/40 transition-colors",children:p},m,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/BodyMapPage.tsx",lineNumber:64,columnNumber:15},this))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/BodyMapPage.tsx",lineNumber:62,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/BodyMapPage.tsx",lineNumber:58,columnNumber:9},this),u.jsxDEV("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm p-6",children:u.jsxDEV(Ox,{selectedRegions:t,onRegionSelect:r,mode:"selection"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/BodyMapPage.tsx",lineNumber:82,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/BodyMapPage.tsx",lineNumber:81,columnNumber:7},this),t.length>0&&u.jsxDEV("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-lg border border-gray-200 dark:border-gray-700 p-4",children:[u.jsxDEV("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-3",children:["Selected Areas (",t.length,")"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/BodyMapPage.tsx",lineNumber:92,columnNumber:11},this),u.jsxDEV("div",{className:"flex flex-wrap gap-2",children:t.map(p=>u.jsxDEV("span",{className:"inline-flex items-center gap-2 px-3 py-1.5 bg-blue-100 dark:bg-blue-900/40 text-blue-900 dark:text-blue-100 rounded-md text-sm",children:[p,u.jsxDEV("button",{onClick:()=>r(t.filter(m=>m!==p)),className:"hover:text-blue-700 dark:hover:text-blue-300","aria-label":`Remove ${p}`,children:"Ã—"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/BodyMapPage.tsx",lineNumber:102,columnNumber:17},this)]},p,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/BodyMapPage.tsx",lineNumber:97,columnNumber:15},this))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/BodyMapPage.tsx",lineNumber:95,columnNumber:11},this),u.jsxDEV("div",{className:"mt-4 space-y-2",children:[u.jsxDEV("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["Pain Level: ",n,"/10"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/BodyMapPage.tsx",lineNumber:115,columnNumber:13},this),u.jsxDEV("input",{type:"range",min:"0",max:"10",value:n,onChange:p=>i(Number(p.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/BodyMapPage.tsx",lineNumber:118,columnNumber:13},this),u.jsxDEV("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400",children:[u.jsxDEV("span",{children:"No Pain"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/BodyMapPage.tsx",lineNumber:127,columnNumber:15},this),u.jsxDEV("span",{children:"Worst Pain"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/BodyMapPage.tsx",lineNumber:128,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/BodyMapPage.tsx",lineNumber:126,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/BodyMapPage.tsx",lineNumber:114,columnNumber:11},this),u.jsxDEV("div",{className:"mt-4 space-y-2",children:[u.jsxDEV("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Notes (Optional)"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/BodyMapPage.tsx",lineNumber:134,columnNumber:13},this),u.jsxDEV("textarea",{value:a,onChange:p=>o(p.target.value),placeholder:"Describe your pain, triggers, or any relevant details...",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/BodyMapPage.tsx",lineNumber:137,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/BodyMapPage.tsx",lineNumber:133,columnNumber:11},this),u.jsxDEV("div",{className:"mt-4",children:u.jsxDEV("button",{onClick:f,disabled:c||t.length===0,className:"w-full px-6 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white font-semibold rounded-lg transition-colors disabled:cursor-not-allowed",children:c?"Saving...":"Save Entry"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/BodyMapPage.tsx",lineNumber:148,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/BodyMapPage.tsx",lineNumber:147,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/BodyMapPage.tsx",lineNumber:91,columnNumber:9},this),t.length===0&&u.jsxDEV("div",{className:"text-center py-12 bg-gray-50 dark:bg-gray-800/50 rounded-lg border border-gray-200 dark:border-gray-700",children:[u.jsxDEV("div",{className:"inline-flex p-4 bg-gray-100 dark:bg-gray-700 rounded-full mb-4",children:u.jsxDEV("svg",{className:"w-8 h-8 text-gray-400 dark:text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/BodyMapPage.tsx",lineNumber:164,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/BodyMapPage.tsx",lineNumber:163,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/BodyMapPage.tsx",lineNumber:162,columnNumber:11},this),u.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Select Pain Locations"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/BodyMapPage.tsx",lineNumber:167,columnNumber:11},this),u.jsxDEV("p",{className:"text-gray-600 dark:text-gray-400 max-w-md mx-auto",children:"Click on the body diagram above to mark where you're experiencing pain"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/BodyMapPage.tsx",lineNumber:170,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/BodyMapPage.tsx",lineNumber:161,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/body-mapping/BodyMapPage.tsx",lineNumber:45,columnNumber:5},this)}const ZS=()=>{const[s,e]=$.useState("track"),t=[{id:"track",label:"Daily Tracking",icon:Xn},{id:"patterns",label:"Patterns & Insights",icon:Xo},{id:"education",label:"Learn About Fibro",icon:e1},{id:"community",label:"Support & Tips",icon:oh}];return u.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 dark:from-gray-900 dark:via-purple-900/20 dark:to-gray-900",children:[u.jsxDEV("div",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-purple-100 dark:border-purple-900/30",children:u.jsxDEV("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[u.jsxDEV("div",{className:"flex items-center gap-3",children:[u.jsxDEV("div",{className:"p-3 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl shadow-lg",children:u.jsxDEV(Gr,{className:"w-8 h-8 text-white"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:23,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:22,columnNumber:13},void 0),u.jsxDEV("div",{children:[u.jsxDEV("h1",{className:"text-3xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Fibromyalgia Support Hub"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:26,columnNumber:15},void 0),u.jsxDEV("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Comprehensive tracking and support for living with fibromyalgia"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:29,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:25,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:21,columnNumber:11},void 0),u.jsxDEV("div",{className:"flex gap-2 mt-6 overflow-x-auto pb-2",children:t.map(r=>{const n=r.icon;return u.jsxDEV("button",{onClick:()=>e(r.id),className:`
                    flex items-center gap-2 px-4 py-2.5 rounded-lg font-medium transition-all whitespace-nowrap
                    ${s===r.id?"bg-gradient-to-r from-purple-500 to-pink-500 text-white shadow-lg shadow-purple-500/30":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-purple-50 dark:hover:bg-gray-600"}
                  `,children:[u.jsxDEV(n,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:51,columnNumber:19},void 0),r.label]},r.id,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:40,columnNumber:17},void 0)})},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:36,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:20,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:19,columnNumber:7},void 0),u.jsxDEV("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s==="track"&&u.jsxDEV(QS,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:62,columnNumber:35},void 0),s==="patterns"&&u.jsxDEV(e6,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:63,columnNumber:38},void 0),s==="education"&&u.jsxDEV(t6,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:64,columnNumber:39},void 0),s==="community"&&u.jsxDEV(s6,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:65,columnNumber:39},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:61,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:17,columnNumber:5},void 0)},QS=()=>{const s=Ko(b=>b.addFibromyalgiaEntry),[e,t]=$.useState({}),[r,n]=$.useState({fatigue:0,waking_unrefreshed:0,cognitive_symptoms:0,somatic_symptoms:0}),[i,a]=$.useState(!1),o=[{id:"leftShoulder",label:"Left Shoulder",side:"left"},{id:"rightShoulder",label:"Right Shoulder",side:"right"},{id:"leftUpperArm",label:"Left Upper Arm",side:"left"},{id:"rightUpperArm",label:"Right Upper Arm",side:"right"},{id:"leftLowerArm",label:"Left Lower Arm",side:"left"},{id:"rightLowerArm",label:"Right Lower Arm",side:"right"},{id:"leftHip",label:"Left Hip",side:"left"},{id:"rightHip",label:"Right Hip",side:"right"},{id:"leftUpperLeg",label:"Left Upper Leg",side:"left"},{id:"rightUpperLeg",label:"Right Upper Leg",side:"right"},{id:"leftLowerLeg",label:"Left Lower Leg",side:"left"},{id:"rightLowerLeg",label:"Right Lower Leg",side:"right"},{id:"jaw",label:"Jaw",side:"central"},{id:"chest",label:"Chest",side:"central"},{id:"abdomen",label:"Abdomen",side:"central"},{id:"upperBack",label:"Upper Back",side:"central"},{id:"lowerBack",label:"Lower Back",side:"central"},{id:"neck",label:"Neck",side:"central"}],c=()=>Object.values(e).filter(Boolean).length,l=()=>Object.values(r).reduce((b,y)=>b+y,0),d=c(),f=l(),p=d>=7&&f>=5||d>=4&&d<=6&&f>=9,m=async()=>{a(!0);try{const b={id:Date.now(),timestamp:new Date().toISOString(),wpi:{leftShoulder:e.leftShoulder||!1,rightShoulder:e.rightShoulder||!1,leftUpperArm:e.leftUpperArm||!1,rightUpperArm:e.rightUpperArm||!1,leftLowerArm:e.leftLowerArm||!1,rightLowerArm:e.rightLowerArm||!1,leftHip:e.leftHip||!1,rightHip:e.rightHip||!1,leftUpperLeg:e.leftUpperLeg||!1,rightUpperLeg:e.rightUpperLeg||!1,leftLowerLeg:e.leftLowerLeg||!1,rightLowerLeg:e.rightLowerLeg||!1,jaw:e.jaw||!1,chest:e.chest||!1,abdomen:e.abdomen||!1,upperBack:e.upperBack||!1,lowerBack:e.lowerBack||!1,neck:e.neck||!1},sss:{fatigue:r.fatigue,waking_unrefreshed:r.waking_unrefreshed,cognitive_symptoms:r.cognitive_symptoms,somatic_symptoms:r.somatic_symptoms},symptoms:{headache:!1,migraine:!1,ibs:!1,temporomandibularDisorder:!1,restlessLegSyndrome:!1,lightSensitivity:!1,soundSensitivity:!1,temperatureSensitivity:!1,chemicalSensitivity:!1,clothingSensitivity:!1,touchSensitivity:!1,numbnessTingling:!1,muscleStiffness:!1,jointPain:!1,brainfog:!1,memoryProblems:!1,concentrationDifficulty:!1},triggers:{},impact:{sleepQuality:2,moodRating:2,anxietyLevel:2,functionalAbility:2},activity:{activityLevel:"moderate",restPeriods:0,overexerted:!1,paybackPeriod:!1},interventions:{},notes:""};await s(b),t({}),n({fatigue:0,waking_unrefreshed:0,cognitive_symptoms:0,somatic_symptoms:0}),alert("Fibromyalgia entry saved successfully!")}catch(b){console.error("Failed to save fibromyalgia entry:",b),alert("Failed to save entry. Please try again.")}finally{a(!1)}};return u.jsxDEV("div",{className:"space-y-6",children:[u.jsxDEV("div",{className:`
        p-6 rounded-xl shadow-lg border-2 transition-all
        ${p?"bg-purple-50 dark:bg-purple-900/20 border-purple-300 dark:border-purple-700":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700"}
      `,children:[u.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[u.jsxDEV("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"ACR 2016 Diagnostic Criteria"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:232,columnNumber:11},void 0),p&&u.jsxDEV("span",{className:"px-3 py-1 bg-purple-500 text-white text-sm font-medium rounded-full",children:"Criteria Met"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:236,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:231,columnNumber:9},void 0),u.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[u.jsxDEV("div",{className:"p-4 bg-white dark:bg-gray-700 rounded-lg",children:[u.jsxDEV("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Widespread Pain Index (WPI)"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:244,columnNumber:13},void 0),u.jsxDEV("div",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:[d," / 19"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:245,columnNumber:13},void 0),u.jsxDEV("div",{className:"text-xs text-gray-500 mt-1",children:"Need â‰¥7 for primary criteria"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:246,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:243,columnNumber:11},void 0),u.jsxDEV("div",{className:"p-4 bg-white dark:bg-gray-700 rounded-lg",children:[u.jsxDEV("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Symptom Severity Scale (SSS)"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:250,columnNumber:13},void 0),u.jsxDEV("div",{className:"text-3xl font-bold text-pink-600 dark:text-pink-400",children:[f," / 12"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:251,columnNumber:13},void 0),u.jsxDEV("div",{className:"text-xs text-gray-500 mt-1",children:"Need â‰¥5 for primary criteria"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:252,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:249,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:242,columnNumber:9},void 0),u.jsxDEV("div",{className:"text-sm text-gray-600 dark:text-gray-400 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[u.jsxDEV("strong",{children:"Diagnosis requires:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:257,columnNumber:11},void 0)," WPI â‰¥7 AND SSS â‰¥5, OR WPI 4-6 AND SSS â‰¥9"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:256,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:224,columnNumber:7},void 0),u.jsxDEV("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",children:[u.jsxDEV("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[u.jsxDEV(Xn,{className:"w-5 h-5 text-purple-500"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:264,columnNumber:11},void 0),"Widespread Pain Index (WPI)"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:263,columnNumber:9},void 0),u.jsxDEV("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Select all areas where you've had pain in the last week:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:267,columnNumber:9},void 0),u.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:o.map(b=>u.jsxDEV("button",{onClick:()=>t(y=>({...y,[b.id]:!y[b.id]})),className:`
                p-3 rounded-lg border-2 text-left transition-all
                ${e[b.id]?"bg-purple-100 dark:bg-purple-900/30 border-purple-500 dark:border-purple-600":"bg-gray-50 dark:bg-gray-700 border-gray-200 dark:border-gray-600 hover:border-purple-300"}
              `,children:[u.jsxDEV("div",{className:"font-medium text-gray-900 dark:text-white",children:b.label},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:284,columnNumber:15},void 0),u.jsxDEV("div",{className:"text-xs text-gray-500 dark:text-gray-400 capitalize",children:b.side},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:285,columnNumber:15},void 0)]},b.id,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:273,columnNumber:13},void 0))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:271,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:262,columnNumber:7},void 0),u.jsxDEV("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",children:[u.jsxDEV("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[u.jsxDEV(Jo,{className:"w-5 h-5 text-pink-500"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:294,columnNumber:11},void 0),"Symptom Severity Scale (SSS)"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:293,columnNumber:9},void 0),u.jsxDEV("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Rate each symptom over the past week (0 = No problem, 3 = Severe):"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:297,columnNumber:9},void 0),u.jsxDEV("div",{className:"space-y-4",children:[{id:"fatigue",label:"Fatigue",icon:sa},{id:"waking_unrefreshed",label:"Waking Unrefreshed",icon:sa},{id:"cognitive_symptoms",label:"Cognitive Symptoms (Fibro Fog)",icon:hd},{id:"somatic_symptoms",label:"Somatic Symptoms (Headache, IBS, etc.)",icon:Gr}].map(b=>{const y=b.icon;return u.jsxDEV("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[u.jsxDEV("div",{className:"flex items-center gap-2 mb-3",children:[u.jsxDEV(y,{className:"w-4 h-4 text-gray-500"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:312,columnNumber:19},void 0),u.jsxDEV("span",{className:"font-medium text-gray-900 dark:text-white",children:b.label},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:313,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:311,columnNumber:17},void 0),u.jsxDEV("div",{className:"flex gap-2",children:[0,1,2,3].map(v=>u.jsxDEV("button",{onClick:()=>n(N=>({...N,[b.id]:v})),className:`
                        flex-1 py-2 rounded-lg font-medium transition-all
                        ${r[b.id]===v?"bg-gradient-to-r from-purple-500 to-pink-500 text-white shadow-lg":"bg-white dark:bg-gray-600 text-gray-700 dark:text-gray-300 hover:bg-purple-50 dark:hover:bg-gray-500"}
                      `,children:v},v,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:317,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:315,columnNumber:17},void 0),u.jsxDEV("div",{className:"flex justify-between mt-2 text-xs text-gray-500 dark:text-gray-400",children:[u.jsxDEV("span",{children:"None"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:333,columnNumber:19},void 0),u.jsxDEV("span",{children:"Severe"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:334,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:332,columnNumber:17},void 0)]},b.id,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:310,columnNumber:15},void 0)})},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:301,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:292,columnNumber:7},void 0),u.jsxDEV("button",{onClick:m,disabled:i,className:"w-full py-4 bg-gradient-to-r from-purple-500 to-pink-500 text-white font-bold rounded-xl shadow-lg hover:shadow-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Saving...":"Save Today's Entry"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:343,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:222,columnNumber:5},void 0)},e6=()=>u.jsxDEV("div",{className:"space-y-6",children:u.jsxDEV("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",children:[u.jsxDEV("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Pattern Analysis Coming Soon"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:359,columnNumber:9},void 0),u.jsxDEV("p",{className:"text-gray-600 dark:text-gray-400",children:"Track your entries to see patterns in your fibromyalgia symptoms, triggers, and effective interventions."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:360,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:358,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:357,columnNumber:5},void 0),t6=()=>{const s=[{title:"Understanding Fibromyalgia",description:"Learn about the ACR diagnostic criteria, symptoms, and latest research",category:"diagnosis"},{title:"Managing Flare-Ups",description:"Strategies for identifying triggers and reducing flare severity",category:"management"},{title:"Pacing & Energy Management",description:'Learn the "energy envelope" theory and avoid boom-bust cycles',category:"management"},{title:"Latest Research",description:"Stay informed about new treatments and clinical trials",category:"research"}];return u.jsxDEV("div",{className:"space-y-4",children:s.map((e,t)=>u.jsxDEV("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 hover:shadow-xl transition-all",children:u.jsxDEV("div",{className:"flex items-start justify-between",children:[u.jsxDEV("div",{children:[u.jsxDEV("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-2",children:e.title},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:399,columnNumber:15},void 0),u.jsxDEV("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:e.description},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:400,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:398,columnNumber:13},void 0),u.jsxDEV(e1,{className:"w-5 h-5 text-purple-500 flex-shrink-0"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:402,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:397,columnNumber:11},void 0)},t,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:396,columnNumber:9},void 0))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:394,columnNumber:5},void 0)},s6=()=>{const s=[{title:"Pacing is Key",content:"Break tasks into smaller chunks. Rest BEFORE you feel exhausted, not after.",author:"Community Tip"},{title:"Track Your Baseline",content:'Find your "good day" activity level and stay at 70% of that to avoid crashes.',author:"Clinical Guideline"},{title:"Weather Watch",content:"Many report flares with barometric pressure changes. Track weather alongside symptoms.",author:"Community Insight"}];return u.jsxDEV("div",{className:"space-y-6",children:[u.jsxDEV("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 rounded-xl shadow-lg p-6 text-white",children:[u.jsxDEV("h3",{className:"text-xl font-bold mb-2",children:"You Are Not Alone"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:433,columnNumber:9},void 0),u.jsxDEV("p",{className:"text-purple-100",children:"Millions live with fibromyalgia. These community tips and validated strategies can help."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:434,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:432,columnNumber:7},void 0),u.jsxDEV("div",{className:"space-y-4",children:s.map((e,t)=>u.jsxDEV("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",children:u.jsxDEV("div",{className:"flex items-start gap-3",children:[u.jsxDEV(oh,{className:"w-5 h-5 text-purple-500 flex-shrink-0 mt-1"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:443,columnNumber:15},void 0),u.jsxDEV("div",{children:[u.jsxDEV("h4",{className:"font-bold text-gray-900 dark:text-white mb-2",children:e.title},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:445,columnNumber:17},void 0),u.jsxDEV("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-2",children:e.content},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:446,columnNumber:17},void 0),u.jsxDEV("span",{className:"text-xs text-purple-600 dark:text-purple-400",children:["â€” ",e.author]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:447,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:444,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:442,columnNumber:13},void 0)},t,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:441,columnNumber:11},void 0))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:439,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/fibromyalgia/FibromyalgiaTracker.tsx",lineNumber:431,columnNumber:5},void 0)},r6=$.lazy(()=>qs(()=>import("./index-DtM62JBT.js"),__vite__mapDeps([4,1,2,3])).then(s=>({default:s.OnboardingFlow}))),n6=$.lazy(()=>qs(()=>import("./index-BtB-2XHp.js"),__vite__mapDeps([5,1,2,3])).then(s=>({default:s.Walkthrough})));function i6(){const{entries:s,ui:e,addEntry:t,setShowOnboarding:r,setShowWalkthrough:n,setError:i,loadSampleData:a}=Ko(),o=Ah(),[c,l]=$.useState([]),[d,f]=$.useState("dashboard");$.useEffect(()=>{qs(async()=>{const{walkthroughSteps:S}=await import("./sampleData-CQjumYEi.js");return{walkthroughSteps:S}},[]).then(({walkthroughSteps:S})=>{l(S)})},[]),$.useEffect(()=>{try{const S=Ps.get("pain-tracker-onboarding-completed"),A=s.length>0;!S&&!A&&r(!0)}catch(S){console.warn("Unable to check onboarding status:",S)}},[s.length,r]);const p=S=>{try{Ps.set("pain-tracker-onboarding-completed","true")}catch(A){console.warn("Unable to save onboarding status:",A)}r(!1),S?(a(),o.success("Sample data loaded!","Explore the features with example pain entries. You can clear this data anytime.")):o.info("Welcome to Pain Tracker!","Start by recording your first pain entry above.")},m=()=>{try{Ps.set("pain-tracker-onboarding-completed","true")}catch(S){console.warn("Unable to save onboarding status:",S)}r(!1),o.info("Onboarding skipped","You can always access help from the help menu.")},b=()=>{n(!0)},y=()=>{n(!1),o.success("Tutorial completed!","You're all set to start tracking your pain effectively.")},v=()=>{n(!1)},N=S=>{if(!S.baselineData)return!1;const{pain:A}=S.baselineData;if(typeof A!="number"||A<0||A>10)return!1;if(S.qualityOfLife){const{sleepQuality:U,moodImpact:P}=S.qualityOfLife;if(typeof U!="number"||U<0||U>10||typeof P!="number"||P<0||P>10)return!1}return!0},w=S=>{try{if(!N(S)){i("Invalid pain entry data. Please check your input values."),o.error("Invalid Entry","Please check your input values and try again.");return}t(S),i(null),o.success("Entry Saved","Your pain entry has been recorded successfully."),f("dashboard")}catch(A){i("Failed to add pain entry. Please try again."),o.error("Save Failed","Unable to add pain entry. Please try again."),console.error("Error adding pain entry:",A)}},j={totalEntries:s.length,avgPain:s.length>0?s.reduce((S,A)=>S+A.baselineData.pain,0)/s.length:0,streak:s.length>0?Math.min(s.length,7):0},C=()=>{switch(d){case"dashboard":return s.length>0?u.jsxDEV(Ag,{entries:s,onLogNow:()=>f("new-entry"),onViewCalendar:()=>f("calendar"),onViewAnalytics:()=>f("analytics"),onExport:()=>{o.info("Export","PDF export coming soon")}},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:148,columnNumber:11},this):u.jsxDEV(Lg,{onStartWalkthrough:b},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:159,columnNumber:11},this);case"new-entry":return u.jsxDEV(tS,{onComplete:S=>{w({baselineData:{pain:S.pain,locations:S.locations,symptoms:S.symptoms},notes:S.notes})},onCancel:()=>f("dashboard")},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:164,columnNumber:11},this);case"analytics":return u.jsxDEV(BS,{entries:s},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:181,columnNumber:16},this);case"body-map":return u.jsxDEV(JS,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:184,columnNumber:16},this);case"fibromyalgia":return u.jsxDEV(ZS,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:187,columnNumber:16},this);case"calendar":return u.jsxDEV(KS,{entries:s},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:190,columnNumber:16},this);case"reports":return u.jsxDEV("div",{className:"text-center py-20",children:[u.jsxDEV("div",{className:"inline-flex p-6 bg-gray-100 dark:bg-gray-800 rounded-2xl mb-4",children:u.jsxDEV("span",{className:"text-4xl",children:"ðŸš§"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:196,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:195,columnNumber:13},this),u.jsxDEV("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Coming Soon"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:198,columnNumber:13},this),u.jsxDEV("p",{className:"text-gray-600 dark:text-gray-400",children:"This feature is under development"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:199,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:194,columnNumber:11},this);case"settings":case"help":return u.jsxDEV("div",{className:"text-center py-20",children:[u.jsxDEV("div",{className:"inline-flex p-6 bg-gray-100 dark:bg-gray-800 rounded-2xl mb-4",children:u.jsxDEV("span",{className:"text-4xl",children:"âš™ï¸"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:208,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:207,columnNumber:13},this),u.jsxDEV("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:d==="settings"?"Settings":"Help & Support"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:210,columnNumber:13},this),u.jsxDEV("p",{className:"text-gray-600 dark:text-gray-400",children:"Configuration options coming soon"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:211,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:206,columnNumber:11},this);default:return s.length>0?u.jsxDEV(Ag,{entries:s,onLogNow:()=>f("new-entry"),onViewCalendar:()=>f("calendar"),onViewAnalytics:()=>f("analytics"),onExport:()=>{o.info("Export","PDF export coming soon")}},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:217,columnNumber:11},this):u.jsxDEV(Lg,{onStartWalkthrough:b},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:227,columnNumber:11},this)}};return u.jsxDEV(u.Fragment,{children:[u.jsxDEV(J4,{currentView:d,onNavigate:f,stats:j,children:C()},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:234,columnNumber:7},this),e.showOnboarding&&u.jsxDEV($.Suspense,{fallback:null,children:u.jsxDEV(r6,{onComplete:p,onSkip:m},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:245,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:244,columnNumber:9},this),e.showWalkthrough&&u.jsxDEV($.Suspense,{fallback:null,children:u.jsxDEV(n6,{steps:c,isActive:e.showWalkthrough,onComplete:y,onSkip:v},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:255,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:254,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:233,columnNumber:5},this)}const a6=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,o6={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"Â©","&#169;":"Â©","&reg;":"Â®","&#174;":"Â®","&hellip;":"â€¦","&#8230;":"â€¦","&#x2F;":"/","&#47;":"/"},c6=s=>o6[s],l6=s=>s.replace(a6,c6);let Mg={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:l6};const u6=(s={})=>{Mg={...Mg,...s}},d6={type:"3rdParty",init(s){u6(s.options.react)}};function m6({children:s}){const[e,t]=$.useState(()=>{const n=Ps.get("trauma-informed-preferences",{encrypt:!0});if(n)return{...Wu,...n};try{const i=localStorage.getItem("trauma-informed-preferences");if(i){const a=JSON.parse(i);return Ps.set("trauma-informed-preferences",a,{encrypt:!0}),{...Wu,...a}}}catch{}return Wu}),r=n=>{const i={...e,...n};t(i),Ps.set("trauma-informed-preferences",i,{encrypt:!0})};return $.useEffect(()=>{const n=document.documentElement;n.style.setProperty("--ti-font-size",cS(e.fontSize)),n.style.setProperty("--ti-touch-size",lS(e.touchTargetSize));const i=`ti-contrast-${e.contrast}`;document.body.className=document.body.className.replace(/ti-contrast-\w+/g,""),document.body.classList.add(i),e.reduceMotion?document.body.classList.add("ti-reduce-motion"):document.body.classList.remove("ti-reduce-motion"),e.simplifiedMode?document.body.classList.add("ti-simplified"):document.body.classList.remove("ti-simplified")},[e]),u.jsxDEV(Vx.Provider,{value:{preferences:e,updatePreferences:r},children:s},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/TraumaInformedContext.tsx",lineNumber:75,columnNumber:5},this)}const f6={emergencyMode:{enabled:!0,autoActivate:!0,activationThreshold:.7,simplificationLevel:"moderate",essentialFunctionsOnly:!1,emergencyContactsVisible:!0,autoSaveFrequency:30,timeoutExtensions:!0}},h6={enabled:!0,sensitivity:"medium",monitoringInterval:1e4,painThreshold:7,stressThreshold:.7,cognitiveLoadThreshold:.6,autoActivateEmergencyMode:!0};function jd(s={}){const{updatePreferences:e}=Pd(),t=$.useMemo(()=>({...h6,...s}),[s]),[r,n]=$.useState({isInCrisis:!1,severity:"none",triggers:[],detectedAt:new Date,duration:0,previousEpisodes:0}),[i,a]=$.useState({current:{painLevel:0,cognitiveLoad:0,inputErraticBehavior:0,timeSpentOnTasks:0,errorRate:0,frustrationMarkers:0},baseline:{painLevel:3,cognitiveLoad:.3,inputErraticBehavior:.2,timeSpentOnTasks:1,errorRate:.1,frustrationMarkers:.1},trend:"stable",lastUpdated:new Date}),[o,c]=$.useState(null),[l]=$.useState(f6.emergencyMode),d=$.useRef({clickFrequency:0,errorRate:0,taskCompletionTime:0,helpRequestsCount:0,backNavigationCount:0,timeSpentOnPage:0,inputErraticBehavior:0}),f=$.useRef(),p=$.useRef(new Date),m=$.useRef([]),b=$.useRef([]),y=$.useRef([]),v=$.useCallback(()=>{const z=b.current.filter(re=>Date.now()-re.getTime()<6e4).length,Z=y.current.filter(re=>Date.now()-re.getTime()<6e4).length;return Math.min(1,z*.2+Z*.3+d.current.timeSpentOnPage*.1)},[]),N=$.useCallback(()=>{if(m.current.length<3)return 0;const z=m.current.filter(ee=>Date.now()-ee<3e4);if(z.length<3)return 0;const Z=[];for(let ee=1;ee<z.length;ee++)Z.push(z[ee]-z[ee-1]);const re=Z.reduce((ee,pe)=>ee+pe,0)/Z.length,le=Z.reduce((ee,pe)=>ee+Math.pow(pe-re,2),0)/Z.length;return Math.min(1,le/1e4)},[]),w=$.useCallback(()=>d.current.timeSpentOnPage/6e4,[]),j=$.useCallback(()=>{const z=b.current.filter(Z=>Date.now()-Z.getTime()<3e5).length;return Math.min(1,z/10)},[]),C=$.useCallback(()=>{const z=d.current.backNavigationCount,Z=d.current.helpRequestsCount;return Math.min(1,z*.1+Z*.2)},[]),S=$.useCallback(()=>{e({simplifiedMode:!0,showMemoryAids:!0,autoSave:!0,touchTargetSize:"extra-large",confirmationLevel:"high",showComfortPrompts:!0,showProgress:!0}),console.log("Emergency mode activated")},[e]),A=$.useCallback(()=>{if(!t.enabled)return;const z=new Date,Z={painLevel:i.current.painLevel,cognitiveLoad:v(),inputErraticBehavior:N(),timeSpentOnTasks:w(),errorRate:j(),frustrationMarkers:C()},re=[];Z.painLevel>=t.painThreshold&&re.push({type:"pain_spike",value:Z.painLevel/10,threshold:t.painThreshold/10,timestamp:z,context:`Pain level: ${Z.painLevel}/10`}),Z.cognitiveLoad>=t.cognitiveLoadThreshold&&re.push({type:"cognitive_fog",value:Z.cognitiveLoad,threshold:t.cognitiveLoadThreshold,timestamp:z,context:"High cognitive load detected"}),Z.inputErraticBehavior>=.7&&re.push({type:"rapid_input",value:Z.inputErraticBehavior,threshold:.7,timestamp:z,context:"Erratic input patterns detected"}),Z.errorRate>=.3&&re.push({type:"error_pattern",value:Z.errorRate,threshold:.3,timestamp:z,context:"High error rate detected"}),Z.frustrationMarkers>=.5&&re.push({type:"emotional_distress",value:Z.frustrationMarkers,threshold:.5,timestamp:z,context:"Signs of frustration detected"});const le=Z.painLevel/10*.3+Z.cognitiveLoad*.25+Z.inputErraticBehavior*.2+Z.errorRate*.15+Z.frustrationMarkers*.1;let ee="none";le>=.8?ee="critical":le>=.6?ee="severe":le>=.4?ee="moderate":le>=.2&&(ee="mild");const pe=re.length>0||le>=t.stressThreshold;if(pe&&!r.isInCrisis){const ue={id:`crisis_${z.getTime()}`,startTime:z,triggers:re,responses:[],userActions:[],outcome:"ongoing",duration:0,effectiveInterventions:[]};c(ue)}n(ue=>({...ue,isInCrisis:pe,severity:ee,triggers:re,detectedAt:pe?ue.isInCrisis?ue.detectedAt:z:ue.detectedAt,duration:pe?z.getTime()-(ue.isInCrisis?ue.detectedAt:z).getTime():0,previousEpisodes:ue.previousEpisodes+(pe&&!ue.isInCrisis?1:0)})),a(ue=>{const te=le>.6?"worsening":le<.3?"improving":"stable";return{current:Z,baseline:ue.baseline,trend:te,lastUpdated:z}}),pe&&t.autoActivateEmergencyMode&&l.autoActivate&&ee==="critical"&&S()},[t,i,r.isInCrisis,l.autoActivate,v,N,w,j,C,S]),U=$.useCallback(()=>{const z=Date.now();m.current.push(z),m.current=m.current.filter(Z=>z-Z<6e4),p.current=new Date},[]),P=$.useCallback(()=>{b.current.push(new Date),d.current.errorRate+=1,b.current=b.current.filter(z=>Date.now()-z.getTime()<3e5)},[]),T=$.useCallback(()=>{y.current.push(new Date),d.current.helpRequestsCount+=1,y.current=y.current.filter(z=>Date.now()-z.getTime()<3e5)},[]),R=$.useCallback(()=>{d.current.backNavigationCount+=1},[]),E=$.useCallback(z=>{a(Z=>({...Z,current:{...Z.current,painLevel:z}}))},[]),L=$.useCallback(()=>{e({simplifiedMode:!1,touchTargetSize:"large",confirmationLevel:"standard"}),console.log("Emergency mode deactivated")},[e]),F=$.useCallback((z,Z)=>{if(o){const re={...o,endTime:new Date,outcome:z,duration:Date.now()-o.startTime.getTime(),userFeedback:Z};c(null),console.log("Crisis session resolved:",re)}n(re=>({...re,isInCrisis:!1,severity:"none",triggers:[],duration:0}))},[o]);return $.useEffect(()=>{if(t.enabled)return f.current=setInterval(A,t.monitoringInterval),()=>{f.current&&clearInterval(f.current)}},[t.enabled,t.monitoringInterval,A]),$.useEffect(()=>{const z=()=>U(),Z=re=>{(re.key==="Escape"||re.key==="Backspace")&&R()};return document.addEventListener("click",z),document.addEventListener("keydown",Z),()=>{document.removeEventListener("click",z),document.removeEventListener("keydown",Z)}},[U,R]),{crisisState:r,stressMetrics:i,currentSession:o,trackClick:U,trackError:P,trackHelpRequest:T,trackBackNavigation:R,updatePainLevel:E,activateEmergencyMode:S,deactivateEmergencyMode:L,resolveCrisis:F,isInCrisis:r.isInCrisis,crisisSeverity:r.severity,overallStressLevel:i.current.painLevel/10*.3+i.current.cognitiveLoad*.25+i.current.inputErraticBehavior*.2+i.current.errorRate*.15+i.current.frustrationMarkers*.1,crisisLevel:r.severity,behaviorData:{rapidClicks:i.current.inputErraticBehavior*100,backNavigationCount:i.current.frustrationMarkers*10,timeOnPage:i.current.timeSpentOnTasks,errorCount:i.current.errorRate*10,lastActive:Date.now()-i.current.timeSpentOnTasks*1e3},resetCrisisDetection:F,config:t}}const p6={maxPainEntries:50,maxMoodEntries:50,maxActivityLogs:30,maxStorageMB:50,dataRetentionDays:90,basicAnalytics:!0,advancedAnalytics:!1,predictiveInsights:!1,customReports:!1,empathyIntelligence:!1,csvExport:!0,jsonExport:!1,pdfReports:!1,wcbReports:!1,clinicalPDFExport:!1,scheduledReports:!1,maxExportsPerMonth:5,healthcareProviderAPI:!1,fhirIntegration:!1,calendarSync:!1,wearableDevices:!1,multiUser:!1,familySharing:!1,caregiverAccess:!1,maxSharedUsers:0,encryption:"basic",twoFactorAuth:!1,auditLogs:!1,hipaaCompliance:!1,soc2Compliance:!1,customDataRetention:!1,supportLevel:"community",responseTime:"72h",onboarding:!1,customTraining:!1,aiInsights:!1,automatedReminders:!0,smartSuggestions:!1,patternRecognition:!1,customThemes:!1,customDashboard:!1,customFields:!1,branding:!1,whiteLabel:!1,offlineMode:!0,mobileApp:!0,apiAccess:!1,webhooks:!1,customIntegrations:!1},g6={maxPainEntries:500,maxMoodEntries:500,maxActivityLogs:300,maxStorageMB:500,dataRetentionDays:365,basicAnalytics:!0,advancedAnalytics:!0,predictiveInsights:!1,customReports:!0,empathyIntelligence:!0,csvExport:!0,jsonExport:!0,pdfReports:!0,wcbReports:!0,clinicalPDFExport:!1,scheduledReports:!1,maxExportsPerMonth:50,healthcareProviderAPI:!1,fhirIntegration:!1,calendarSync:!0,wearableDevices:!1,multiUser:!1,familySharing:!0,caregiverAccess:!0,maxSharedUsers:2,encryption:"advanced",twoFactorAuth:!0,auditLogs:!1,hipaaCompliance:!1,soc2Compliance:!1,customDataRetention:!1,supportLevel:"email",responseTime:"24h",onboarding:!0,customTraining:!1,aiInsights:!0,automatedReminders:!0,smartSuggestions:!0,patternRecognition:!0,customThemes:!0,customDashboard:!0,customFields:!0,branding:!1,whiteLabel:!1,offlineMode:!0,mobileApp:!0,apiAccess:!1,webhooks:!1,customIntegrations:!1},b6={maxPainEntries:-1,maxMoodEntries:-1,maxActivityLogs:-1,maxStorageMB:5e3,dataRetentionDays:-1,basicAnalytics:!0,advancedAnalytics:!0,predictiveInsights:!0,customReports:!0,empathyIntelligence:!0,csvExport:!0,jsonExport:!0,pdfReports:!0,wcbReports:!0,clinicalPDFExport:!0,scheduledReports:!0,maxExportsPerMonth:200,healthcareProviderAPI:!0,fhirIntegration:!0,calendarSync:!0,wearableDevices:!0,multiUser:!0,familySharing:!0,caregiverAccess:!0,maxSharedUsers:5,encryption:"advanced",twoFactorAuth:!0,auditLogs:!0,hipaaCompliance:!0,soc2Compliance:!1,customDataRetention:!0,supportLevel:"priority",responseTime:"4h",onboarding:!0,customTraining:!1,aiInsights:!0,automatedReminders:!0,smartSuggestions:!0,patternRecognition:!0,customThemes:!0,customDashboard:!0,customFields:!0,branding:!1,whiteLabel:!1,offlineMode:!0,mobileApp:!0,apiAccess:!0,webhooks:!0,customIntegrations:!1},y6={maxPainEntries:-1,maxMoodEntries:-1,maxActivityLogs:-1,maxStorageMB:-1,dataRetentionDays:-1,basicAnalytics:!0,advancedAnalytics:!0,predictiveInsights:!0,customReports:!0,empathyIntelligence:!0,csvExport:!0,jsonExport:!0,pdfReports:!0,wcbReports:!0,clinicalPDFExport:!0,scheduledReports:!0,maxExportsPerMonth:-1,healthcareProviderAPI:!0,fhirIntegration:!0,calendarSync:!0,wearableDevices:!0,multiUser:!0,familySharing:!0,caregiverAccess:!0,maxSharedUsers:-1,encryption:"enterprise",twoFactorAuth:!0,auditLogs:!0,hipaaCompliance:!0,soc2Compliance:!0,customDataRetention:!0,supportLevel:"dedicated",responseTime:"1h",onboarding:!0,customTraining:!0,aiInsights:!0,automatedReminders:!0,smartSuggestions:!0,patternRecognition:!0,customThemes:!0,customDashboard:!0,customFields:!0,branding:!0,whiteLabel:!0,offlineMode:!0,mobileApp:!0,apiAccess:!0,webhooks:!0,customIntegrations:!0},x6={tier:"free",monthly:{amount:0,currency:"USD",display:"$0"},yearly:{amount:0,currency:"USD",display:"$0",savings:0},trial:{enabled:!1,days:0}},v6={tier:"basic",monthly:{amount:999,currency:"USD",display:"$9.99"},yearly:{amount:9990,currency:"USD",display:"$99.90",savings:17},trial:{enabled:!0,days:14}},N6={tier:"pro",monthly:{amount:2499,currency:"USD",display:"$24.99"},yearly:{amount:24990,currency:"USD",display:"$249.90",savings:21},lifetime:{amount:49900,currency:"USD",display:"$499"},trial:{enabled:!0,days:30}},k6={tier:"enterprise",monthly:{amount:0,currency:"USD",display:"Custom"},yearly:{amount:0,currency:"USD",display:"Custom",savings:0},trial:{enabled:!0,days:60}},Va={free:{tier:"free",name:"Free",tagline:"Start your pain tracking journey",description:"Perfect for individuals exploring pain management tools. Track your pain, mood, and activities with basic analytics.",features:p6,pricing:x6,limits:{softLimits:!1,gracePeriodDays:0},targeting:{userType:["individual","trial_user"],painLevel:"mild"}},basic:{tier:"basic",name:"Basic",tagline:"Comprehensive pain management",description:"For individuals committed to understanding and managing chronic pain. Includes advanced analytics, PDF reports, and family sharing.",features:g6,pricing:v6,popular:!0,limits:{softLimits:!0,gracePeriodDays:7},targeting:{userType:["individual","caregiver"],painLevel:"chronic"}},pro:{tier:"pro",name:"Pro",tagline:"Professional-grade pain tracking",description:"Power users and healthcare coordination. Unlimited entries, predictive insights, clinical PDF exports, and HIPAA compliance.",features:b6,pricing:N6,recommended:!0,limits:{softLimits:!0,gracePeriodDays:14},targeting:{userType:["power_user","healthcare_coordinator","professional"],painLevel:"chronic"}},enterprise:{tier:"enterprise",name:"Enterprise",tagline:"Healthcare organization solution",description:"For clinics, healthcare organizations, and large-scale deployments. Custom features, white-label options, SOC2 compliance, and dedicated support.",features:y6,pricing:k6,limits:{softLimits:!0,gracePeriodDays:30},targeting:{userType:["organization","clinic","healthcare_provider"]}}},w6={free:["basic","pro","enterprise"],basic:["pro","enterprise"],pro:["enterprise"],enterprise:[]},D6={free:{painEntries:{limit:50,warningAt:40,unit:"entries"},storageMB:{limit:50,warningAt:40,unit:"MB"},exportCount:{limit:5,warningAt:4,unit:"exports/month",resetMonthly:!0}},basic:{painEntries:{limit:500,warningAt:450,unit:"entries"},storageMB:{limit:500,warningAt:450,unit:"MB"},exportCount:{limit:50,warningAt:45,unit:"exports/month",resetMonthly:!0}},pro:{storageMB:{limit:5e3,warningAt:4500,unit:"MB"},apiCalls:{limit:1e4,warningAt:9e3,unit:"calls/month",resetMonthly:!0}},enterprise:{}};class P6{subscriptions=new Map;billingEvents=[];async createSubscription(e,t="free",r="monthly"){const n=new Date().toISOString(),i=Va[t],a=n,o=this.calculatePeriodEnd(a,r),c=i.pricing.trial.enabled&&t!=="free",l={id:this.generateSubscriptionId(),userId:e,tier:t,status:c?"trialing":"active",billingInterval:r,currentPeriodStart:a,currentPeriodEnd:o,cancelAtPeriodEnd:!1,trialStart:c?n:void 0,trialEnd:c?this.calculateTrialEnd(n,i.pricing.trial.days):void 0,usage:{painEntries:0,moodEntries:0,activityLogs:0,storageMB:0,apiCalls:0,exportCount:0},createdAt:n,updatedAt:n};return this.subscriptions.set(e,l),await this.logBillingEvent({type:"subscription_created",subscriptionId:l.id,userId:e,metadata:{billingInterval:r,isTrial:c,tier:t}}),await Rr.logSecurityEvent({type:"audit",level:"info",message:`Subscription created: ${t} tier for user ${e}`,userId:e,timestamp:new Date}),l}getSubscription(e){return this.subscriptions.get(e)||null}getUserTier(e){const t=this.getSubscription(e);return!t||this.isSubscriptionExpired(t)?"free":t.tier}async checkFeatureAccess(e,t){const r=this.getUserTier(e),i=Va[r].features[t];if(typeof i=="boolean")return{hasAccess:i,reason:i?"Feature included in your plan":`Feature requires ${this.getMinimumTierForFeature(t)} plan`,upgradeRequired:i?void 0:this.getMinimumTierForFeature(t)};if(typeof i=="number"){if(!this.getSubscription(e))return{hasAccess:!1,reason:"No active subscription",upgradeRequired:"basic"};const o=await this.getFeatureQuota(e,t);return{hasAccess:o.remaining>0||i===-1,reason:o.remaining>0?"Quota available":"Quota exceeded",quota:o,upgradeRequired:o.remaining<=0?this.getNextTier(r):void 0}}return{hasAccess:!!i,reason:i?`${i} access included`:"Feature not available"}}async getFeatureQuota(e,t){const r=this.getUserTier(e),n=Va[r],i=this.getSubscription(e);if(!i)return{feature:t,limit:0,current:0,remaining:0,percentage:0};const a=n.features[t],o=typeof a=="number"?a:0;let c=0;t==="maxPainEntries"?c=i.usage.painEntries:t==="maxMoodEntries"?c=i.usage.moodEntries:t==="maxActivityLogs"?c=i.usage.activityLogs:t==="maxStorageMB"?c=i.usage.storageMB:t==="maxExportsPerMonth"&&(c=i.usage.exportCount);const l=o===-1?1/0:Math.max(0,o-c),d=o===-1?0:Math.min(100,c/o*100);return{feature:t,limit:o,current:c,remaining:o===-1?-1:l,percentage:d,resetDate:this.shouldResetMonthly(t)?i.currentPeriodEnd:void 0}}async trackUsage(e,t,r=1){const n=this.getSubscription(e);if(!n)return{success:!1};n.usage[t]+=r,n.updatedAt=new Date().toISOString();const a={painEntries:"maxPainEntries",moodEntries:"maxMoodEntries",activityLogs:"maxActivityLogs",storageMB:"maxStorageMB",apiCalls:"maxPainEntries",exportCount:"maxExportsPerMonth"}[t],o=await this.getFeatureQuota(e,a),c=this.getUserTier(e),l=D6[c];if(l&&l[t]){const d=l[t];n.usage[t]>=d.warningAt&&await Rr.logSecurityEvent({type:"audit",level:"warning",message:`User approaching ${t} limit: ${n.usage[t]}/${d.limit}`,userId:e,timestamp:new Date})}return{success:!0,quota:o}}async upgradeTier(e,t,r=!0){const n=this.getSubscription(e);if(!n)throw new Error("No active subscription found");const i=n.tier,a=await this.calculateTierChange(i,t);return r?(n.tier=t,n.status="active",n.updatedAt=new Date().toISOString(),await this.logBillingEvent({type:"tier_upgraded",subscriptionId:n.id,userId:e,metadata:{fromTier:i,toTier:t}}),await Rr.logSecurityEvent({type:"audit",level:"info",message:`Subscription upgraded: ${i} â†’ ${t}`,userId:e,timestamp:new Date})):n.scheduledChange={newTier:t,effectiveDate:n.currentPeriodEnd,reason:"upgrade"},a}async downgradeTier(e,t){const r=this.getSubscription(e);if(!r)throw new Error("No active subscription found");const n=r.tier,i=await this.calculateTierChange(n,t);return r.scheduledChange={newTier:t,effectiveDate:r.currentPeriodEnd,reason:"downgrade"},r.updatedAt=new Date().toISOString(),await this.logBillingEvent({type:"tier_downgraded",subscriptionId:r.id,userId:e,metadata:{fromTier:n,toTier:t,effectiveDate:r.currentPeriodEnd}}),i}async cancelSubscription(e,t=!1){const r=this.getSubscription(e);if(!r)throw new Error("No active subscription found");return t?(r.status="canceled",r.tier="free"):(r.cancelAtPeriodEnd=!0,r.status="canceled"),r.updatedAt=new Date().toISOString(),await this.logBillingEvent({type:"subscription_canceled",subscriptionId:r.id,userId:e,metadata:{immediate:t,effectiveDate:t?new Date().toISOString():r.currentPeriodEnd}}),await Rr.logSecurityEvent({type:"audit",level:"info",message:`Subscription canceled${t?" (immediate)":" (at period end)"}`,userId:e,timestamp:new Date}),r}async reactivateSubscription(e){const t=this.getSubscription(e);if(!t)throw new Error("No subscription found");if(t.status!=="canceled"||!t.cancelAtPeriodEnd)throw new Error("Subscription is not canceled");return t.cancelAtPeriodEnd=!1,t.status="active",t.updatedAt=new Date().toISOString(),await Rr.logSecurityEvent({type:"audit",level:"info",message:"Subscription reactivated",userId:e,timestamp:new Date}),t}async calculateTierChange(e,t){const r=Va[e],n=Va[t],i=this.isUpgrade(e,t),a=[],o=[];return Object.keys(r.features).forEach(l=>{const d=r.features[l],f=n.features[l];typeof d=="boolean"&&typeof f=="boolean"&&(!d&&f&&a.push(l),d&&!f&&o.push(l))}),{fromTier:e,toTier:t,type:i?"upgrade":"downgrade",immediateCharge:i?n.pricing.monthly.amount:0,nextBillingChange:n.pricing.monthly.amount,featuresGained:a,featuresLost:o,requiresMigration:!i,effectiveImmediately:i,confirmationRequired:o.length>0}}async getAnalytics(e){const t=this.getSubscription(e);if(!t)return null;const r=new Date,n=new Date(r.getTime()-1440*60*1e3),i=new Date(r.getTime()-10080*60*1e3),a=new Date(r.getTime()-720*60*60*1e3),o=this.calculateEngagementScore(t),c=this.calculateChurnRisk(o,t);return{userId:e,tier:t.tier,dailyActive:new Date(t.updatedAt)>n,weeklyActive:new Date(t.updatedAt)>i,monthlyActive:new Date(t.updatedAt)>a,mostUsedFeatures:[],entriesCreated:t.usage.painEntries+t.usage.moodEntries,reportsGenerated:t.usage.exportCount,insightsViewed:0,exportsMade:t.usage.exportCount,engagementScore:o,churnRisk:c}}isSubscriptionExpired(e){return e.status==="active"||e.status==="trialing"?!1:e.status==="canceled"&&!e.cancelAtPeriodEnd?new Date>new Date(e.currentPeriodEnd):e.status==="expired"}getMinimumTierForFeature(e){const t=["free","basic","pro","enterprise"];for(const r of t){const i=Va[r].features[e];if(typeof i=="boolean"){if(i===!0)return r;continue}if(typeof i=="number"){if(i!==0)return r;continue}if(typeof i=="string")return r}return"enterprise"}getNextTier(e){const t=w6[e];return t.length>0?t[0]:void 0}isUpgrade(e,t){const r=["free","basic","pro","enterprise"];return r.indexOf(t)>r.indexOf(e)}calculatePeriodEnd(e,t){const r=new Date(e);return t==="monthly"?r.setMonth(r.getMonth()+1):t==="yearly"?r.setFullYear(r.getFullYear()+1):r.setFullYear(r.getFullYear()+100),r.toISOString()}calculateTrialEnd(e,t){const r=new Date(e);return r.setDate(r.getDate()+t),r.toISOString()}shouldResetMonthly(e){return["exportCount","apiCalls"].includes(e)}calculateEngagementScore(e){let t=0;e.usage.painEntries>0&&(t+=20),e.usage.painEntries>10&&(t+=10),e.usage.painEntries>50&&(t+=10),e.usage.moodEntries>0&&(t+=10),e.usage.activityLogs>0&&(t+=10),e.usage.exportCount>0&&(t+=10);const r=Math.floor((Date.now()-new Date(e.updatedAt).getTime())/(1e3*60*60*24));return r===0?t+=30:r<=3?t+=20:r<=7&&(t+=10),Math.min(100,t)}calculateChurnRisk(e,t){return t.cancelAtPeriodEnd||e<30?"high":e<60?"medium":"low"}generateSubscriptionId(){return`sub_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}async logBillingEvent(e){const t={id:`evt_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,type:e.type,subscriptionId:e.subscriptionId,userId:e.userId,timestamp:new Date().toISOString(),amount:e.amount,currency:e.currency,metadata:e.metadata};this.billingEvents.push(t)}}const mi=new P6,C6=$.createContext(void 0),j6=({children:s,userId:e})=>{const[t,r]=$.useState(null),[n,i]=$.useState("free"),[a,o]=$.useState(!1),[c,l]=$.useState(null),d=$.useCallback(async S=>{o(!0),l(null);try{let A=await mi.getSubscription(S);A||(A=await mi.createSubscription(S,"free")),r(A),i(A.tier)}catch(A){l(A instanceof Error?A.message:"Failed to initialize subscription"),console.error("Subscription initialization error:",A)}finally{o(!1)}},[]),f=$.useCallback(async()=>{t?.userId&&await d(t.userId)},[t?.userId,d]),p=$.useCallback(async(S,A=!0)=>{if(!t)throw new Error("No active subscription");o(!0),l(null);try{const U=await mi.upgradeTier(t.userId,S,A);return await f(),U}catch(U){const P=U instanceof Error?U.message:"Failed to upgrade subscription";throw l(P),U}finally{o(!1)}},[t,f]),m=$.useCallback(async S=>{if(!t)throw new Error("No active subscription");o(!0),l(null);try{const A=await mi.downgradeTier(t.userId,S);return await f(),A}catch(A){const U=A instanceof Error?A.message:"Failed to downgrade subscription";throw l(U),A}finally{o(!1)}},[t,f]),b=$.useCallback(async(S=!1)=>{if(!t)throw new Error("No active subscription");o(!0),l(null);try{await mi.cancelSubscription(t.userId,S),await f()}catch(A){const U=A instanceof Error?A.message:"Failed to cancel subscription";throw l(U),A}finally{o(!1)}},[t,f]),y=$.useCallback(async()=>{if(!t)throw new Error("No active subscription");o(!0),l(null);try{await mi.reactivateSubscription(t.userId),await f()}catch(S){const A=S instanceof Error?S.message:"Failed to reactivate subscription";throw l(A),S}finally{o(!1)}},[t,f]),v=$.useCallback(async S=>t?mi.checkFeatureAccess(t.userId,S):{hasAccess:!1,reason:"No active subscription",upgradeRequired:"basic"},[t]),N=$.useCallback(S=>{const U=Va[n].features[S];return typeof U=="boolean"?U:typeof U=="number"?U!==0:!!U},[n]),w=$.useCallback(async(S,A=1)=>{if(t)try{const U=await mi.trackUsage(t.userId,S,A);U.success&&U.quota&&U.quota.remaining===0&&l(`You've reached your ${S} limit. Consider upgrading your plan.`),await f()}catch(U){console.error("Failed to track usage:",U)}},[t,f]),j=$.useCallback(async()=>t?mi.getAnalytics(t.userId):null,[t]);$.useEffect(()=>{e&&d(e)},[e,d]);const C={subscription:t,currentTier:n,isLoading:a,error:c,initialize:d,upgradeTier:p,downgradeTier:m,cancelSubscription:b,reactivateSubscription:y,checkFeatureAccess:v,hasFeature:N,trackUsage:w,getAnalytics:j,refresh:f};return u.jsxDEV(C6.Provider,{value:C,children:s},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/contexts/SubscriptionContext.tsx",lineNumber:293,columnNumber:5},void 0)},Am=(s,e="polite",t=100)=>{let r=document.getElementById("aria-live-region");r||(r=document.createElement("div"),r.id="aria-live-region",r.setAttribute("aria-live",e),r.setAttribute("aria-atomic","true"),r.className="sr-only",document.body.appendChild(r)),r.getAttribute("aria-live")!==e&&r.setAttribute("aria-live",e),r.textContent="",setTimeout(()=>{r&&(r.textContent=s)},t)},E6=()=>{const s=[{id:"skip-to-main",target:"main-content",text:"Skip to main content"},{id:"skip-to-nav",target:"main-navigation",text:"Skip to navigation"},{id:"skip-to-footer",target:"page-footer",text:"Skip to footer"}];if(document.getElementById("skip-links-container"))return;const t=document.createElement("div");t.id="skip-links-container",t.className="sr-only-focusable",s.forEach(({id:r,target:n,text:i})=>{const a=document.getElementById(n);if(!a)return;const o=document.createElement("a");o.id=r,o.href=`#${n}`,o.textContent=i,o.className="skip-link",o.addEventListener("click",c=>{c.preventDefault(),a.focus(),a.scrollIntoView({behavior:"smooth",block:"start"})}),t.appendChild(o)}),document.body.insertBefore(t,document.body.firstChild)},S6=(s=document.body)=>{s.querySelectorAll("button:not([aria-label])").forEach(n=>{if(!n.textContent?.trim()&&!n.getAttribute("aria-labelledby")){const i=n.querySelector('[class*="icon"]')?.className||"";n.setAttribute("aria-label",`Button with ${i||"no label"}`),console.warn("Button missing aria-label:",n)}}),s.querySelectorAll("a:not([aria-label])").forEach(n=>{if(!n.textContent?.trim()&&!n.getAttribute("aria-labelledby")){const i=n.getAttribute("href");n.setAttribute("aria-label",`Link to ${i||"unknown destination"}`),console.warn("Link missing aria-label:",n)}}),s.querySelectorAll("input:not([aria-label]):not([aria-labelledby])").forEach(n=>{const i=n.getAttribute("id");if(!(i?s.querySelector(`label[for="${i}"]`):null)){const o=n.getAttribute("placeholder");n.setAttribute("aria-label",o||"Input field"),console.warn("Input missing label:",n)}})},A6=(s=document.body)=>{const e=[],t=[],r=s.querySelectorAll("[role]"),n=["alert","alertdialog","application","article","banner","button","checkbox","dialog","grid","gridcell","heading","img","link","list","listbox","listitem","main","menu","menubar","menuitem","navigation","progressbar","radio","radiogroup","region","row","rowheader","search","slider","spinbutton","status","tab","tablist","tabpanel","textbox","toolbar","tooltip","tree","treegrid","treeitem"];return r.forEach(o=>{const c=o.getAttribute("role");c&&!n.includes(c)&&e.push(`Invalid ARIA role: ${c} on element ${o.tagName}`)}),s.querySelectorAll("[aria-labelledby]").forEach(o=>{(o.getAttribute("aria-labelledby")?.split(" ")||[]).forEach(l=>{document.getElementById(l)||t.push(`aria-labelledby references non-existent ID: ${l}`)})}),s.querySelectorAll("[aria-describedby]").forEach(o=>{(o.getAttribute("aria-describedby")?.split(" ")||[]).forEach(l=>{document.getElementById(l)||t.push(`aria-describedby references non-existent ID: ${l}`)})}),{errors:e,warnings:t}},_6=(s={})=>{const{enableValidation:e=!0,enableAutoLabeling:t=!0,announceRouteChanges:r=!0}=s;return $.useEffect(()=>{if(E6(),t){const n=setInterval(()=>{S6()},5e3);return()=>clearInterval(n)}},[t]),$.useEffect(()=>{if(e){const n=setInterval(()=>{const{errors:i,warnings:a}=A6();i.length>0&&console.error("ARIA Validation Errors:",i),a.length>0&&console.warn("ARIA Validation Warnings:",a)},1e4);return()=>clearInterval(n)}},[e]),$.useEffect(()=>{if(r){const n=new MutationObserver(i=>{i.forEach(a=>{if(a.type==="childList"&&a.target===document.body){const o=document.title;Am(`Navigated to: ${o}`,"polite",1e3)}})});return n.observe(document.body,{childList:!0,subtree:!0}),()=>n.disconnect()}},[r]),$.useEffect(()=>{const n=i=>{if((i.ctrlKey||i.metaKey)&&i.key==="/"){i.preventDefault();const a=new CustomEvent("showKeyboardShortcuts");window.dispatchEvent(a)}i.key==="Escape"&&document.querySelector('[role="dialog"][aria-modal="true"]')&&Am("Modal closed","polite")};return document.addEventListener("keydown",n),()=>document.removeEventListener("keydown",n)},[]),{announceMessage:Am}},Pt=s=>typeof s=="string",Lc=()=>{let s,e;const t=new Promise((r,n)=>{s=r,e=n});return t.resolve=s,t.reject=e,t},Vg=s=>s==null?"":""+s,L6=(s,e,t)=>{s.forEach(r=>{e[r]&&(t[r]=e[r])})},T6=/###/g,Ig=s=>s&&s.indexOf("###")>-1?s.replace(T6,"."):s,Rg=s=>!s||Pt(s),Xc=(s,e,t)=>{const r=Pt(e)?e.split("."):e;let n=0;for(;n<r.length-1;){if(Rg(s))return{};const i=Ig(r[n]);!s[i]&&t&&(s[i]=new t),Object.prototype.hasOwnProperty.call(s,i)?s=s[i]:s={},++n}return Rg(s)?{}:{obj:s,k:Ig(r[n])}},Og=(s,e,t)=>{const{obj:r,k:n}=Xc(s,e,Object);if(r!==void 0||e.length===1){r[n]=t;return}let i=e[e.length-1],a=e.slice(0,e.length-1),o=Xc(s,a,Object);for(;o.obj===void 0&&a.length;)i=`${a[a.length-1]}.${i}`,a=a.slice(0,a.length-1),o=Xc(s,a,Object),o?.obj&&typeof o.obj[`${o.k}.${i}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${i}`]=t},U6=(s,e,t,r)=>{const{obj:n,k:i}=Xc(s,e,Object);n[i]=n[i]||[],n[i].push(t)},nd=(s,e)=>{const{obj:t,k:r}=Xc(s,e);if(t&&Object.prototype.hasOwnProperty.call(t,r))return t[r]},M6=(s,e,t)=>{const r=nd(s,t);return r!==void 0?r:nd(e,t)},Fx=(s,e,t)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in s?Pt(s[r])||s[r]instanceof String||Pt(e[r])||e[r]instanceof String?t&&(s[r]=e[r]):Fx(s[r],e[r],t):s[r]=e[r]);return s},So=s=>s.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var V6={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const I6=s=>Pt(s)?s.replace(/[&<>"'\/]/g,e=>V6[e]):s;class R6{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const O6=[" ",",","?","!",";"],F6=new R6(20),B6=(s,e,t)=>{e=e||"",t=t||"";const r=O6.filter(a=>e.indexOf(a)<0&&t.indexOf(a)<0);if(r.length===0)return!0;const n=F6.getRegExp(`(${r.map(a=>a==="?"?"\\?":a).join("|")})`);let i=!n.test(s);if(!i){const a=s.indexOf(t);a>0&&!n.test(s.substring(0,a))&&(i=!0)}return i},Uf=(s,e,t=".")=>{if(!s)return;if(s[e])return Object.prototype.hasOwnProperty.call(s,e)?s[e]:void 0;const r=e.split(t);let n=s;for(let i=0;i<r.length;){if(!n||typeof n!="object")return;let a,o="";for(let c=i;c<r.length;++c)if(c!==i&&(o+=t),o+=r[c],a=n[o],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&c<r.length-1)continue;i+=c-i+1;break}n=a}return n},gl=s=>s?.replace("_","-"),z6={type:"logger",log(s){this.output("log",s)},warn(s){this.output("warn",s)},error(s){this.output("error",s)},output(s,e){console?.[s]?.apply?.(console,e)}};class id{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||z6,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,r,n){return n&&!this.debug?null:(Pt(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new id(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new id(this.logger,e)}}var Yn=new id;class Ed{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const n=this.observers[r].get(t)||0;this.observers[r].set(t,n+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e,...t){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([n,i])=>{for(let a=0;a<i;a++)n(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([n,i])=>{for(let a=0;a<i;a++)n.apply(n,[e,...t])})}}class Fg extends Ed{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,r,n={}){const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,a=n.ignoreJSONStructure!==void 0?n.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;e.indexOf(".")>-1?o=e.split("."):(o=[e,t],r&&(Array.isArray(r)?o.push(...r):Pt(r)&&i?o.push(...r.split(i)):o.push(r)));const c=nd(this.data,o);return!c&&!t&&!r&&e.indexOf(".")>-1&&(e=o[0],t=o[1],r=o.slice(2).join(".")),c||!a||!Pt(r)?c:Uf(this.data?.[e]?.[t],r,i)}addResource(e,t,r,n,i={silent:!1}){const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let o=[e,t];r&&(o=o.concat(a?r.split(a):r)),e.indexOf(".")>-1&&(o=e.split("."),n=t,t=o[1]),this.addNamespaces(t),Og(this.data,o,n),i.silent||this.emit("added",e,t,r,n)}addResources(e,t,r,n={silent:!1}){for(const i in r)(Pt(r[i])||Array.isArray(r[i]))&&this.addResource(e,t,i,r[i],{silent:!0});n.silent||this.emit("added",e,t,r)}addResourceBundle(e,t,r,n,i,a={silent:!1,skipCopy:!1}){let o=[e,t];e.indexOf(".")>-1&&(o=e.split("."),n=r,r=t,t=o[1]),this.addNamespaces(t);let c=nd(this.data,o)||{};a.skipCopy||(r=JSON.parse(JSON.stringify(r))),n?Fx(c,r,i):c={...c,...r},Og(this.data,o,c),a.silent||this.emit("added",e,t,r)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(n=>t[n]&&Object.keys(t[n]).length>0)}toJSON(){return this.data}}var Bx={processors:{},addPostProcessor(s){this.processors[s.name]=s},handle(s,e,t,r,n){return s.forEach(i=>{e=this.processors[i]?.process(e,t,r,n)??e}),e}};const zx=Symbol("i18next/PATH_KEY");function $6(){const s=[],e=Object.create(null);let t;return e.get=(r,n)=>(t?.revoke?.(),n===zx?s:(s.push(n),t=Proxy.revocable(r,e),t.proxy)),Proxy.revocable(Object.create(null),e).proxy}function Mf(s,e){const{[zx]:t}=s($6());return t.join(e?.keySeparator??".")}const Bg={},zg=s=>!Pt(s)&&typeof s!="boolean"&&typeof s!="number";class ad extends Ed{constructor(e,t={}){super(),L6(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Yn.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const r={...t};return e==null?!1:this.resolve(e,r)?.res!==void 0}extractFromKey(e,t){let r=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const n=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let i=t.ns||this.options.defaultNS||[];const a=r&&e.indexOf(r)>-1,o=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!B6(e,r,n);if(a&&!o){const c=e.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:e,namespaces:Pt(i)?[i]:i};const l=e.split(r);(r!==n||r===n&&this.options.ns.indexOf(l[0])>-1)&&(i=l.shift()),e=l.join(n)}return{key:e,namespaces:Pt(i)?[i]:i}}translate(e,t,r){let n=typeof t=="object"?{...t}:t;if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),e==null)return"";typeof e=="function"&&(e=Mf(e,{...this.options,...n})),Array.isArray(e)||(e=[String(e)]);const i=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,a=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:o,namespaces:c}=this.extractFromKey(e[e.length-1],n),l=c[c.length-1];let d=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;d===void 0&&(d=":");const f=n.lng||this.language,p=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(f?.toLowerCase()==="cimode")return p?i?{res:`${l}${d}${o}`,usedKey:o,exactUsedKey:o,usedLng:f,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:`${l}${d}${o}`:i?{res:o,usedKey:o,exactUsedKey:o,usedLng:f,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:o;const m=this.resolve(e,n);let b=m?.res;const y=m?.usedKey||o,v=m?.exactUsedKey||o,N=["[object Number]","[object Function]","[object RegExp]"],w=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,j=!this.i18nFormat||this.i18nFormat.handleAsObject,C=n.count!==void 0&&!Pt(n.count),S=ad.hasDefaultValue(n),A=C?this.pluralResolver.getSuffix(f,n.count,n):"",U=n.ordinal&&C?this.pluralResolver.getSuffix(f,n.count,{ordinal:!1}):"",P=C&&!n.ordinal&&n.count===0,T=P&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${A}`]||n[`defaultValue${U}`]||n.defaultValue;let R=b;j&&!b&&S&&(R=T);const E=zg(R),L=Object.prototype.toString.apply(R);if(j&&R&&E&&N.indexOf(L)<0&&!(Pt(w)&&Array.isArray(R))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const F=this.options.returnedObjectHandler?this.options.returnedObjectHandler(y,R,{...n,ns:c}):`key '${o} (${this.language})' returned an object instead of string.`;return i?(m.res=F,m.usedParams=this.getUsedParamsDetails(n),m):F}if(a){const F=Array.isArray(R),z=F?[]:{},Z=F?v:y;for(const re in R)if(Object.prototype.hasOwnProperty.call(R,re)){const le=`${Z}${a}${re}`;S&&!b?z[re]=this.translate(le,{...n,defaultValue:zg(T)?T[re]:void 0,joinArrays:!1,ns:c}):z[re]=this.translate(le,{...n,joinArrays:!1,ns:c}),z[re]===le&&(z[re]=R[re])}b=z}}else if(j&&Pt(w)&&Array.isArray(b))b=b.join(w),b&&(b=this.extendTranslation(b,e,n,r));else{let F=!1,z=!1;!this.isValidLookup(b)&&S&&(F=!0,b=T),this.isValidLookup(b)||(z=!0,b=o);const re=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&z?void 0:b,le=S&&T!==b&&this.options.updateMissing;if(z||F||le){if(this.logger.log(le?"updateKey":"missingKey",f,l,o,le?T:b),a){const te=this.resolve(o,{...n,keySeparator:!1});te&&te.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let ee=[];const pe=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&pe&&pe[0])for(let te=0;te<pe.length;te++)ee.push(pe[te]);else this.options.saveMissingTo==="all"?ee=this.languageUtils.toResolveHierarchy(n.lng||this.language):ee.push(n.lng||this.language);const ue=(te,_,q)=>{const Y=S&&q!==b?q:re;this.options.missingKeyHandler?this.options.missingKeyHandler(te,l,_,Y,le,n):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(te,l,_,Y,le,n),this.emit("missingKey",te,l,_,b)};this.options.saveMissing&&(this.options.saveMissingPlurals&&C?ee.forEach(te=>{const _=this.pluralResolver.getSuffixes(te,n);P&&n[`defaultValue${this.options.pluralSeparator}zero`]&&_.indexOf(`${this.options.pluralSeparator}zero`)<0&&_.push(`${this.options.pluralSeparator}zero`),_.forEach(q=>{ue([te],o+q,n[`defaultValue${q}`]||T)})}):ue(ee,o,T))}b=this.extendTranslation(b,e,n,m,r),z&&b===o&&this.options.appendNamespaceToMissingKey&&(b=`${l}${d}${o}`),(z||F)&&this.options.parseMissingKeyHandler&&(b=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}${d}${o}`:o,F?b:void 0,n))}return i?(m.res=b,m.usedParams=this.getUsedParamsDetails(n),m):b}extendTranslation(e,t,r,n,i){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||n.usedLng,n.usedNS,n.usedKey,{resolved:n});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const c=Pt(e)&&(r?.interpolation?.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let l;if(c){const f=e.match(this.interpolator.nestingRegexp);l=f&&f.length}let d=r.replace&&!Pt(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(d={...this.options.interpolation.defaultVariables,...d}),e=this.interpolator.interpolate(e,d,r.lng||this.language||n.usedLng,r),c){const f=e.match(this.interpolator.nestingRegexp),p=f&&f.length;l<p&&(r.nest=!1)}!r.lng&&n&&n.res&&(r.lng=this.language||n.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...f)=>i?.[0]===f[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${f[0]} in key: ${t[0]}`),null):this.translate(...f,t),r)),r.interpolation&&this.interpolator.reset()}const a=r.postProcess||this.options.postProcess,o=Pt(a)?[a]:a;return e!=null&&o?.length&&r.applyPostProcessor!==!1&&(e=Bx.handle(o,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...n,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,t={}){let r,n,i,a,o;return Pt(e)&&(e=[e]),e.forEach(c=>{if(this.isValidLookup(r))return;const l=this.extractFromKey(c,t),d=l.key;n=d;let f=l.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const p=t.count!==void 0&&!Pt(t.count),m=p&&!t.ordinal&&t.count===0,b=t.context!==void 0&&(Pt(t.context)||typeof t.context=="number")&&t.context!=="",y=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);f.forEach(v=>{this.isValidLookup(r)||(o=v,!Bg[`${y[0]}-${v}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(o)&&(Bg[`${y[0]}-${v}`]=!0,this.logger.warn(`key "${n}" for languages "${y.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),y.forEach(N=>{if(this.isValidLookup(r))return;a=N;const w=[d];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(w,d,N,v,t);else{let C;p&&(C=this.pluralResolver.getSuffix(N,t.count,t));const S=`${this.options.pluralSeparator}zero`,A=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(p&&(t.ordinal&&C.indexOf(A)===0&&w.push(d+C.replace(A,this.options.pluralSeparator)),w.push(d+C),m&&w.push(d+S)),b){const U=`${d}${this.options.contextSeparator||"_"}${t.context}`;w.push(U),p&&(t.ordinal&&C.indexOf(A)===0&&w.push(U+C.replace(A,this.options.pluralSeparator)),w.push(U+C),m&&w.push(U+S))}}let j;for(;j=w.pop();)this.isValidLookup(r)||(i=j,r=this.getResource(N,v,j,t))}))})}),{res:r,usedKey:n,exactUsedKey:i,usedLng:a,usedNS:o}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,r,n={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,t,r,n):this.resourceStore.getResource(e,t,r,n)}getUsedParamsDetails(e={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!Pt(e.replace);let n=r?e.replace:e;if(r&&typeof e.count<"u"&&(n.count=e.count),this.options.interpolation.defaultVariables&&(n={...this.options.interpolation.defaultVariables,...n}),!r){n={...n};for(const i of t)delete n[i]}return n}static hasDefaultValue(e){const t="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t===r.substring(0,t.length)&&e[r]!==void 0)return!0;return!1}}class $g{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Yn.create("languageUtils")}getScriptPartFromCode(e){if(e=gl(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=gl(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(Pt(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(r=>{if(t)return;const n=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(n))&&(t=n)}),!t&&this.options.supportedLngs&&e.forEach(r=>{if(t)return;const n=this.getScriptPartFromCode(r);if(this.isSupportedCode(n))return t=n;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return t=i;t=this.options.supportedLngs.find(a=>{if(a===i)return a;if(!(a.indexOf("-")<0&&i.indexOf("-")<0)&&(a.indexOf("-")>0&&i.indexOf("-")<0&&a.substring(0,a.indexOf("-"))===i||a.indexOf(i)===0&&i.length>1))return a})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),Pt(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}toResolveHierarchy(e,t){const r=this.getFallbackCodes((t===!1?[]:t)||this.options.fallbackLng||[],e),n=[],i=a=>{a&&(this.isSupportedCode(a)?n.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return Pt(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(e))):Pt(e)&&i(this.formatLanguageCode(e)),r.forEach(a=>{n.indexOf(a)<0&&i(this.formatLanguageCode(a))}),n}}const Wg={zero:0,one:1,two:2,few:3,many:4,other:5},qg={select:s=>s===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class W6{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=Yn.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){const r=gl(e==="dev"?"en":e),n=t.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:r,type:n});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let a;try{a=new Intl.PluralRules(r,{type:n})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),qg;if(!e.match(/-|_/))return qg;const c=this.languageUtils.getLanguagePartFromCode(e);a=this.getRule(c,t)}return this.pluralRulesCache[i]=a,a}needsPlural(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),r?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,t,r={}){return this.getSuffixes(e,r).map(n=>`${t}${n}`)}getSuffixes(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),r?r.resolvedOptions().pluralCategories.sort((n,i)=>Wg[n]-Wg[i]).map(n=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${n}`):[]}getSuffix(e,t,r={}){const n=this.getRule(e,r);return n?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${n.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,r))}}const Hg=(s,e,t,r=".",n=!0)=>{let i=M6(s,e,t);return!i&&n&&Pt(t)&&(i=Uf(s,t,r),i===void 0&&(i=Uf(e,t,r))),i},_m=s=>s.replace(/\$/g,"$$$$");class q6{constructor(e={}){this.logger=Yn.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(t=>t),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:r,useRawValueToEscape:n,prefix:i,prefixEscaped:a,suffix:o,suffixEscaped:c,formatSeparator:l,unescapeSuffix:d,unescapePrefix:f,nestingPrefix:p,nestingPrefixEscaped:m,nestingSuffix:b,nestingSuffixEscaped:y,nestingOptionsSeparator:v,maxReplaces:N,alwaysFormat:w}=e.interpolation;this.escape=t!==void 0?t:I6,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=n!==void 0?n:!1,this.prefix=i?So(i):a||"{{",this.suffix=o?So(o):c||"}}",this.formatSeparator=l||",",this.unescapePrefix=d?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=p?So(p):m||So("$t("),this.nestingSuffix=b?So(b):y||So(")"),this.nestingOptionsSeparator=v||",",this.maxReplaces=N||1e3,this.alwaysFormat=w!==void 0?w:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,r)=>t?.source===r?(t.lastIndex=0,t):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,t,r,n){let i,a,o;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},l=m=>{if(m.indexOf(this.formatSeparator)<0){const N=Hg(t,c,m,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(N,void 0,r,{...n,...t,interpolationkey:m}):N}const b=m.split(this.formatSeparator),y=b.shift().trim(),v=b.join(this.formatSeparator).trim();return this.format(Hg(t,c,y,this.options.keySeparator,this.options.ignoreJSONStructure),v,r,{...n,...t,interpolationkey:y})};this.resetRegExp();const d=n?.missingInterpolationHandler||this.options.missingInterpolationHandler,f=n?.interpolation?.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:m=>_m(m)},{regex:this.regexp,safeValue:m=>this.escapeValue?_m(this.escape(m)):_m(m)}].forEach(m=>{for(o=0;i=m.regex.exec(e);){const b=i[1].trim();if(a=l(b),a===void 0)if(typeof d=="function"){const v=d(e,i,n);a=Pt(v)?v:""}else if(n&&Object.prototype.hasOwnProperty.call(n,b))a="";else if(f){a=i[0];continue}else this.logger.warn(`missed to pass in variable ${b} for interpolating ${e}`),a="";else!Pt(a)&&!this.useRawValueToEscape&&(a=Vg(a));const y=m.safeValue(a);if(e=e.replace(i[0],y),f?(m.regex.lastIndex+=a.length,m.regex.lastIndex-=i[0].length):m.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),e}nest(e,t,r={}){let n,i,a;const o=(c,l)=>{const d=this.nestingOptionsSeparator;if(c.indexOf(d)<0)return c;const f=c.split(new RegExp(`${d}[ ]*{`));let p=`{${f[1]}`;c=f[0],p=this.interpolate(p,a);const m=p.match(/'/g),b=p.match(/"/g);((m?.length??0)%2===0&&!b||b.length%2!==0)&&(p=p.replace(/'/g,'"'));try{a=JSON.parse(p),l&&(a={...l,...a})}catch(y){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,y),`${c}${d}${p}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,c};for(;n=this.nestingRegexp.exec(e);){let c=[];a={...r},a=a.replace&&!Pt(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;const l=/{.*}/.test(n[1])?n[1].lastIndexOf("}")+1:n[1].indexOf(this.formatSeparator);if(l!==-1&&(c=n[1].slice(l).split(this.formatSeparator).map(d=>d.trim()).filter(Boolean),n[1]=n[1].slice(0,l)),i=t(o.call(this,n[1].trim(),a),a),i&&n[0]===e&&!Pt(i))return i;Pt(i)||(i=Vg(i)),i||(this.logger.warn(`missed to resolve ${n[1]} for nesting ${e}`),i=""),c.length&&(i=c.reduce((d,f)=>this.format(d,f,r.lng,{...r,interpolationkey:n[1].trim()}),i.trim())),e=e.replace(n[0],i),this.regexp.lastIndex=0}return e}}const H6=s=>{let e=s.toLowerCase().trim();const t={};if(s.indexOf("(")>-1){const r=s.split("(");e=r[0].toLowerCase().trim();const n=r[1].substring(0,r[1].length-1);e==="currency"&&n.indexOf(":")<0?t.currency||(t.currency=n.trim()):e==="relativetime"&&n.indexOf(":")<0?t.range||(t.range=n.trim()):n.split(";").forEach(a=>{if(a){const[o,...c]=a.split(":"),l=c.join(":").trim().replace(/^'+|'+$/g,""),d=o.trim();t[d]||(t[d]=l),l==="false"&&(t[d]=!1),l==="true"&&(t[d]=!0),isNaN(l)||(t[d]=parseInt(l,10))}})}return{formatName:e,formatOptions:t}},Yg=s=>{const e={};return(t,r,n)=>{let i=n;n&&n.interpolationkey&&n.formatParams&&n.formatParams[n.interpolationkey]&&n[n.interpolationkey]&&(i={...i,[n.interpolationkey]:void 0});const a=r+JSON.stringify(i);let o=e[a];return o||(o=s(gl(r),n),e[a]=o),o(t)}},Y6=s=>(e,t,r)=>s(gl(t),r)(e);class G6{constructor(e={}){this.logger=Yn.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const r=t.cacheInBuiltFormats?Yg:Y6;this.formats={number:r((n,i)=>{const a=new Intl.NumberFormat(n,{...i});return o=>a.format(o)}),currency:r((n,i)=>{const a=new Intl.NumberFormat(n,{...i,style:"currency"});return o=>a.format(o)}),datetime:r((n,i)=>{const a=new Intl.DateTimeFormat(n,{...i});return o=>a.format(o)}),relativetime:r((n,i)=>{const a=new Intl.RelativeTimeFormat(n,{...i});return o=>a.format(o,i.range||"day")}),list:r((n,i)=>{const a=new Intl.ListFormat(n,{...i});return o=>a.format(o)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=Yg(t)}format(e,t,r,n={}){const i=t.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(o=>o.indexOf(")")>-1)){const o=i.findIndex(c=>c.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,o)].join(this.formatSeparator)}return i.reduce((o,c)=>{const{formatName:l,formatOptions:d}=H6(c);if(this.formats[l]){let f=o;try{const p=n?.formatParams?.[n.interpolationkey]||{},m=p.locale||p.lng||n.locale||n.lng||r;f=this.formats[l](o,m,{...d,...n,...p})}catch(p){this.logger.warn(p)}return f}else this.logger.warn(`there was no format function for ${l}`);return o},e)}}const K6=(s,e)=>{s.pending[e]!==void 0&&(delete s.pending[e],s.pendingCount--)};class X6 extends Ed{constructor(e,t,r,n={}){super(),this.backend=e,this.store=t,this.services=r,this.languageUtils=r.languageUtils,this.options=n,this.logger=Yn.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=n.maxParallelReads||10,this.readingCalls=0,this.maxRetries=n.maxRetries>=0?n.maxRetries:5,this.retryTimeout=n.retryTimeout>=1?n.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(r,n.backend,n)}queueLoad(e,t,r,n){const i={},a={},o={},c={};return e.forEach(l=>{let d=!0;t.forEach(f=>{const p=`${l}|${f}`;!r.reload&&this.store.hasResourceBundle(l,f)?this.state[p]=2:this.state[p]<0||(this.state[p]===1?a[p]===void 0&&(a[p]=!0):(this.state[p]=1,d=!1,a[p]===void 0&&(a[p]=!0),i[p]===void 0&&(i[p]=!0),c[f]===void 0&&(c[f]=!0)))}),d||(o[l]=!0)}),(Object.keys(i).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:n}),{toLoad:Object.keys(i),pending:Object.keys(a),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(c)}}loaded(e,t,r){const n=e.split("|"),i=n[0],a=n[1];t&&this.emit("failedLoading",i,a,t),!t&&r&&this.store.addResourceBundle(i,a,r,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&r&&(this.state[e]=0);const o={};this.queue.forEach(c=>{U6(c.loaded,[i],a),K6(c,e),t&&c.errors.push(t),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(l=>{o[l]||(o[l]={});const d=c.loaded[l];d.length&&d.forEach(f=>{o[l][f]===void 0&&(o[l][f]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(c=>!c.done)}read(e,t,r,n=0,i=this.retryTimeout,a){if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:r,tried:n,wait:i,callback:a});return}this.readingCalls++;const o=(l,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(l&&d&&n<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,r,n+1,i*2,a)},i);return}a(l,d)},c=this.backend[r].bind(this.backend);if(c.length===2){try{const l=c(e,t);l&&typeof l.then=="function"?l.then(d=>o(null,d)).catch(o):o(null,l)}catch(l){o(l)}return}return c(e,t,o)}prepareLoading(e,t,r={},n){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),n&&n();Pt(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Pt(t)&&(t=[t]);const i=this.queueLoad(e,t,r,n);if(!i.toLoad.length)return i.pending.length||n(),null;i.toLoad.forEach(a=>{this.loadOne(a)})}load(e,t,r){this.prepareLoading(e,t,{},r)}reload(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}loadOne(e,t=""){const r=e.split("|"),n=r[0],i=r[1];this.read(n,i,"read",void 0,void 0,(a,o)=>{a&&this.logger.warn(`${t}loading namespace ${i} for language ${n} failed`,a),!a&&o&&this.logger.log(`${t}loaded namespace ${i} for language ${n}`,o),this.loaded(e,a,o)})}saveMissing(e,t,r,n,i,a={},o=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${r}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend?.create){const c={...a,isUpdate:i},l=this.backend.create.bind(this.backend);if(l.length<6)try{let d;l.length===5?d=l(e,t,r,n,c):d=l(e,t,r,n),d&&typeof d.then=="function"?d.then(f=>o(null,f)).catch(o):o(null,d)}catch(d){o(d)}else l(e,t,r,n,o,c)}!e||!e[0]||this.store.addResource(e[0],t,r,n)}}}const Gg=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:s=>{let e={};if(typeof s[1]=="object"&&(e=s[1]),Pt(s[1])&&(e.defaultValue=s[1]),Pt(s[2])&&(e.tDescription=s[2]),typeof s[2]=="object"||typeof s[3]=="object"){const t=s[3]||s[2];Object.keys(t).forEach(r=>{e[r]=t[r]})}return e},interpolation:{escapeValue:!0,format:s=>s,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Kg=s=>(Pt(s.ns)&&(s.ns=[s.ns]),Pt(s.fallbackLng)&&(s.fallbackLng=[s.fallbackLng]),Pt(s.fallbackNS)&&(s.fallbackNS=[s.fallbackNS]),s.supportedLngs?.indexOf?.("cimode")<0&&(s.supportedLngs=s.supportedLngs.concat(["cimode"])),typeof s.initImmediate=="boolean"&&(s.initAsync=s.initImmediate),s),wu=()=>{},J6=s=>{Object.getOwnPropertyNames(Object.getPrototypeOf(s)).forEach(t=>{typeof s[t]=="function"&&(s[t]=s[t].bind(s))})};class bl extends Ed{constructor(e={},t){if(super(),this.options=Kg(e),this.services={},this.logger=Yn,this.modules={external:[]},J6(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,typeof e=="function"&&(t=e,e={}),e.defaultNS==null&&e.ns&&(Pt(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=Gg();this.options={...r,...this.options,...Kg(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const n=l=>l?typeof l=="function"?new l:l:null;if(!this.options.isClone){this.modules.logger?Yn.init(n(this.modules.logger),this.options):Yn.init(null,this.options);let l;this.modules.formatter?l=this.modules.formatter:l=G6;const d=new $g(this.options);this.store=new Fg(this.options.resources,this.options);const f=this.services;f.logger=Yn,f.resourceStore=this.store,f.languageUtils=d,f.pluralResolver=new W6(d,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),l&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(f.formatter=n(l),f.formatter.init&&f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new q6(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new X6(n(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",(m,...b)=>{this.emit(m,...b)}),this.modules.languageDetector&&(f.languageDetector=n(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=n(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new ad(this.services,this.options),this.translator.on("*",(m,...b)=>{this.emit(m,...b)}),this.modules.external.forEach(m=>{m.init&&m.init(this)})}if(this.format=this.options.interpolation.format,t||(t=wu),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const l=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);l.length>0&&l[0]!=="dev"&&(this.options.lng=l[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(l=>{this[l]=(...d)=>this.store[l](...d)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(l=>{this[l]=(...d)=>(this.store[l](...d),this)});const o=Lc(),c=()=>{const l=(d,f)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),o.resolve(f),t(d,f)};if(this.languages&&!this.isInitialized)return l(null,this.t.bind(this));this.changeLanguage(this.options.lng,l)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),o}loadResources(e,t=wu){let r=t;const n=Pt(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(n?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const i=[],a=o=>{if(!o||o==="cimode")return;this.services.languageUtils.toResolveHierarchy(o).forEach(l=>{l!=="cimode"&&i.indexOf(l)<0&&i.push(l)})};n?a(n):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>a(c)),this.options.preload?.forEach?.(o=>a(o)),this.services.backendConnector.load(i,this.options.ns,o=>{!o&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(o)})}else r(null)}reloadResources(e,t,r){const n=Lc();return typeof e=="function"&&(r=e,e=void 0),typeof t=="function"&&(r=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),r||(r=wu),this.services.backendConnector.reload(e,t,i=>{n.resolve(),r(i)}),n}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Bx.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let t=0;t<this.languages.length;t++){const r=this.languages[t];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;const r=Lc();this.emit("languageChanging",e);const n=o=>{this.language=o,this.languages=this.services.languageUtils.toResolveHierarchy(o),this.resolvedLanguage=void 0,this.setResolvedLanguage(o)},i=(o,c)=>{c?this.isLanguageChangingTo===e&&(n(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,r.resolve((...l)=>this.t(...l)),t&&t(o,(...l)=>this.t(...l))},a=o=>{!e&&!o&&this.services.languageDetector&&(o=[]);const c=Pt(o)?o:o&&o[0],l=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(Pt(o)?[o]:o);l&&(this.language||n(l),this.translator.language||this.translator.changeLanguage(l),this.services.languageDetector?.cacheUserLanguage?.(l)),this.loadResources(l,d=>{i(d,l)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),r}getFixedT(e,t,r){const n=(i,a,...o)=>{let c;typeof a!="object"?c=this.options.overloadTranslationOptionHandler([i,a].concat(o)):c={...a},c.lng=c.lng||n.lng,c.lngs=c.lngs||n.lngs,c.ns=c.ns||n.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||r||n.keyPrefix);const l=this.options.keySeparator||".";let d;return c.keyPrefix&&Array.isArray(i)?d=i.map(f=>(typeof f=="function"&&(f=Mf(f,{...this.options,...a})),`${c.keyPrefix}${l}${f}`)):(typeof i=="function"&&(i=Mf(i,{...this.options,...a})),d=c.keyPrefix?`${c.keyPrefix}${l}${i}`:i),this.t(d,c)};return Pt(e)?n.lng=e:n.lngs=e,n.ns=t,n.keyPrefix=r,n}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=t.lng||this.resolvedLanguage||this.languages[0],n=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const a=(o,c)=>{const l=this.services.backendConnector.state[`${o}|${c}`];return l===-1||l===0||l===2};if(t.precheck){const o=t.precheck(this,a);if(o!==void 0)return o}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(r,e)&&(!n||a(i,e)))}loadNamespaces(e,t){const r=Lc();return this.options.ns?(Pt(e)&&(e=[e]),e.forEach(n=>{this.options.ns.indexOf(n)<0&&this.options.ns.push(n)}),this.loadResources(n=>{r.resolve(),t&&t(n)}),r):(t&&t(),Promise.resolve())}loadLanguages(e,t){const r=Lc();Pt(e)&&(e=[e]);const n=this.options.preload||[],i=e.filter(a=>n.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return i.length?(this.options.preload=n.concat(i),this.loadResources(a=>{r.resolve(),t&&t(a)}),r):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const n=new Intl.Locale(e);if(n&&n.getTextInfo){const i=n.getTextInfo();if(i&&i.direction)return i.direction}}catch{}const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services?.languageUtils||new $g(Gg());return e.toLowerCase().indexOf("-latn")>1?"ltr":t.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){return new bl(e,t)}cloneInstance(e={},t=wu){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const n={...this.options,...e,isClone:!0},i=new bl(n);if((e.debug!==void 0||e.prefix!==void 0)&&(i.logger=i.logger.clone(e)),["store","services","language"].forEach(o=>{i[o]=this[o]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},r){const o=Object.keys(this.store.data).reduce((c,l)=>(c[l]={...this.store.data[l]},c[l]=Object.keys(c[l]).reduce((d,f)=>(d[f]={...c[l][f]},d),c[l]),c),{});i.store=new Fg(o,n),i.services.resourceStore=i.store}return i.translator=new ad(i.services,n),i.translator.on("*",(o,...c)=>{i.emit(o,...c)}),i.init(n,t),i.translator.options=n,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const _r=bl.createInstance();_r.createInstance=bl.createInstance;_r.createInstance;_r.dir;_r.init;_r.loadResources;_r.reloadResources;_r.use;_r.changeLanguage;_r.getFixedT;_r.t;_r.exists;_r.setDefaultNamespace;_r.hasLoadedNamespace;_r.loadNamespaces;_r.loadLanguages;const{slice:Z6,forEach:Q6}=[];function eA(s){return Q6.call(Z6.call(arguments,1),e=>{if(e)for(const t in e)s[t]===void 0&&(s[t]=e[t])}),s}function tA(s){return typeof s!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(t=>t.test(s))}const Xg=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,sA=function(s,e){const r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},n=encodeURIComponent(e);let i=`${s}=${n}`;if(r.maxAge>0){const a=r.maxAge-0;if(Number.isNaN(a))throw new Error("maxAge should be a Number");i+=`; Max-Age=${Math.floor(a)}`}if(r.domain){if(!Xg.test(r.domain))throw new TypeError("option domain is invalid");i+=`; Domain=${r.domain}`}if(r.path){if(!Xg.test(r.path))throw new TypeError("option path is invalid");i+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");i+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(i+="; HttpOnly"),r.secure&&(i+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(i+="; Partitioned"),i},Jg={create(s,e,t,r){let n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};t&&(n.expires=new Date,n.expires.setTime(n.expires.getTime()+t*60*1e3)),r&&(n.domain=r),document.cookie=sA(s,e,n)},read(s){const e=`${s}=`,t=document.cookie.split(";");for(let r=0;r<t.length;r++){let n=t[r];for(;n.charAt(0)===" ";)n=n.substring(1,n.length);if(n.indexOf(e)===0)return n.substring(e.length,n.length)}return null},remove(s,e){this.create(s,"",-1,e)}};var rA={name:"cookie",lookup(s){let{lookupCookie:e}=s;if(e&&typeof document<"u")return Jg.read(e)||void 0},cacheUserLanguage(s,e){let{lookupCookie:t,cookieMinutes:r,cookieDomain:n,cookieOptions:i}=e;t&&typeof document<"u"&&Jg.create(t,s,r,n,i)}},nA={name:"querystring",lookup(s){let{lookupQuerystring:e}=s,t;if(typeof window<"u"){let{search:r}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(r=window.location.hash.substring(window.location.hash.indexOf("?")));const i=r.substring(1).split("&");for(let a=0;a<i.length;a++){const o=i[a].indexOf("=");o>0&&i[a].substring(0,o)===e&&(t=i[a].substring(o+1))}}return t}},iA={name:"hash",lookup(s){let{lookupHash:e,lookupFromHashIndex:t}=s,r;if(typeof window<"u"){const{hash:n}=window.location;if(n&&n.length>2){const i=n.substring(1);if(e){const a=i.split("&");for(let o=0;o<a.length;o++){const c=a[o].indexOf("=");c>0&&a[o].substring(0,c)===e&&(r=a[o].substring(c+1))}}if(r)return r;if(!r&&t>-1){const a=n.match(/\/([a-zA-Z-]*)/g);return Array.isArray(a)?a[typeof t=="number"?t:0]?.replace("/",""):void 0}}}return r}};let Ao=null;const Zg=()=>{if(Ao!==null)return Ao;try{if(Ao=typeof window<"u"&&window.localStorage!==null,!Ao)return!1;const s="i18next.translate.boo";window.localStorage.setItem(s,"foo"),window.localStorage.removeItem(s)}catch{Ao=!1}return Ao};var aA={name:"localStorage",lookup(s){let{lookupLocalStorage:e}=s;if(e&&Zg())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(s,e){let{lookupLocalStorage:t}=e;t&&Zg()&&window.localStorage.setItem(t,s)}};let _o=null;const Qg=()=>{if(_o!==null)return _o;try{if(_o=typeof window<"u"&&window.sessionStorage!==null,!_o)return!1;const s="i18next.translate.boo";window.sessionStorage.setItem(s,"foo"),window.sessionStorage.removeItem(s)}catch{_o=!1}return _o};var oA={name:"sessionStorage",lookup(s){let{lookupSessionStorage:e}=s;if(e&&Qg())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(s,e){let{lookupSessionStorage:t}=e;t&&Qg()&&window.sessionStorage.setItem(t,s)}},cA={name:"navigator",lookup(s){const e=[];if(typeof navigator<"u"){const{languages:t,userLanguage:r,language:n}=navigator;if(t)for(let i=0;i<t.length;i++)e.push(t[i]);r&&e.push(r),n&&e.push(n)}return e.length>0?e:void 0}},lA={name:"htmlTag",lookup(s){let{htmlTag:e}=s,t;const r=e||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(t=r.getAttribute("lang")),t}},uA={name:"path",lookup(s){let{lookupFromPathIndex:e}=s;if(typeof window>"u")return;const t=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(t)?t[typeof e=="number"?e:0]?.replace("/",""):void 0}},dA={name:"subdomain",lookup(s){let{lookupFromSubdomainIndex:e}=s;const t=typeof e=="number"?e+1:1,r=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(r)return r[t]}};let $x=!1;try{document.cookie,$x=!0}catch{}const Wx=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];$x||Wx.splice(1,1);const mA=()=>({order:Wx,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:s=>s});class qx{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=eA(t,this.options||{},mA()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=n=>n.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(rA),this.addDetector(nA),this.addDetector(aA),this.addDetector(oA),this.addDetector(cA),this.addDetector(lA),this.addDetector(uA),this.addDetector(dA),this.addDetector(iA)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,t=[];return e.forEach(r=>{if(this.detectors[r]){let n=this.detectors[r].lookup(this.options);n&&typeof n=="string"&&(n=[n]),n&&(t=t.concat(n))}}),t=t.filter(r=>r!=null&&!tA(r)).map(r=>this.options.convertDetectedLanguage(r)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(e,this.options)}))}}qx.type="languageDetector";const fA={save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",loading:"Loading...",error:"Error",success:"Success",yes:"Yes",no:"No",close:"Close",back:"Back",next:"Next",previous:"Previous",export:"Export",import:"Import",print:"Print"},hA={overview:"Overview",comparisons:"Comparisons",heatmap:"Body Heatmap",treatment:"Treatment Timeline",clinical:"Clinical Export"},pA={level:"Pain Level",location:"Location",locations:"Locations",symptoms:"Symptoms",intensity:"Intensity",average:"Average Pain",current:"Current Pain",trend:"Pain Trend",assessment:"Pain Assessment"},gA={title:"Pain Analytics",noData:"No data available",totalEntries:"Total Entries",dateRange:"Date Range",summary:"Summary",details:"Details"},bA={settings:"Accessibility Settings",theme:"Visual Theme",themes:{light:"Light Theme",dark:"Dark Theme",highContrast:"High Contrast"},reducedMotion:"Reduced Motion",enabled:"Enabled",disabled:"Disabled",keyboardTips:"Keyboard Navigation Tips"},yA={common:fA,navigation:hA,pain:pA,analytics:gA,export:{clinical:"Clinical Data Export",visitSummary:"Visit Summary",formats:{standard:"Standard Clinical Export",detailed:"Detailed Comprehensive Export",summary:"Executive Summary Export"}},accessibility:bA},xA={save:"Enregistrer",cancel:"Annuler",delete:"Supprimer",edit:"Modifier",loading:"Chargement...",error:"Erreur",success:"SuccÃ¨s",yes:"Oui",no:"Non",close:"Fermer",back:"Retour",next:"Suivant",previous:"PrÃ©cÃ©dent",export:"Exporter",import:"Importer",print:"Imprimer"},vA={overview:"AperÃ§u",comparisons:"Comparaisons",heatmap:"Carte thermique corporelle",treatment:"Chronologie des traitements",clinical:"Exportation clinique"},NA={level:"Niveau de douleur",location:"Emplacement",locations:"Emplacements",symptoms:"SymptÃ´mes",intensity:"IntensitÃ©",average:"Douleur moyenne",current:"Douleur actuelle",trend:"Tendance de la douleur",assessment:"Ã‰valuation de la douleur"},kA={title:"Analyses de la douleur",noData:"Aucune donnÃ©e disponible",totalEntries:"Total des entrÃ©es",dateRange:"Plage de dates",summary:"RÃ©sumÃ©",details:"DÃ©tails"},wA={settings:"ParamÃ¨tres d'accessibilitÃ©",theme:"ThÃ¨me visuel",themes:{light:"ThÃ¨me clair",dark:"ThÃ¨me sombre",highContrast:"Contraste Ã©levÃ©"},reducedMotion:"Mouvement rÃ©duit",enabled:"ActivÃ©",disabled:"DÃ©sactivÃ©",keyboardTips:"Conseils de navigation au clavier"},DA={common:xA,navigation:vA,pain:NA,analytics:kA,export:{clinical:"Exportation de donnÃ©es cliniques",visitSummary:"RÃ©sumÃ© de visite",formats:{standard:"Exportation clinique standard",detailed:"Exportation complÃ¨te dÃ©taillÃ©e",summary:"Exportation de rÃ©sumÃ© exÃ©cutif"}},accessibility:wA},PA={save:"Guardar",cancel:"Cancelar",delete:"Eliminar",edit:"Editar",loading:"Cargando...",error:"Error",success:"Ã‰xito",yes:"SÃ­",no:"No",close:"Cerrar",back:"AtrÃ¡s",next:"Siguiente",previous:"Anterior",export:"Exportar",import:"Importar",print:"Imprimir"},CA={overview:"Resumen",comparisons:"Comparaciones",heatmap:"Mapa de calor corporal",treatment:"CronologÃ­a de tratamiento",clinical:"ExportaciÃ³n clÃ­nica"},jA={level:"Nivel de dolor",location:"UbicaciÃ³n",locations:"Ubicaciones",symptoms:"SÃ­ntomas",intensity:"Intensidad",average:"Dolor promedio",current:"Dolor actual",trend:"Tendencia del dolor",assessment:"EvaluaciÃ³n del dolor"},EA={title:"AnÃ¡lisis del dolor",noData:"No hay datos disponibles",totalEntries:"Total de entradas",dateRange:"Rango de fechas",summary:"Resumen",details:"Detalles"},SA={settings:"ConfiguraciÃ³n de accesibilidad",theme:"Tema visual",themes:{light:"Tema claro",dark:"Tema oscuro",highContrast:"Alto contraste"},reducedMotion:"Movimiento reducido",enabled:"Habilitado",disabled:"Deshabilitado",keyboardTips:"Consejos de navegaciÃ³n por teclado"},AA={common:PA,navigation:CA,pain:jA,analytics:EA,export:{clinical:"ExportaciÃ³n de datos clÃ­nicos",visitSummary:"Resumen de visita",formats:{standard:"ExportaciÃ³n clÃ­nica estÃ¡ndar",detailed:"ExportaciÃ³n detallada completa",summary:"ExportaciÃ³n de resumen ejecutivo"}},accessibility:SA},_A={en:{translation:yA},fr:{translation:DA},es:{translation:AA}};_r.use(qx).use(d6).init({resources:_A,fallbackLng:"en",debug:!0,interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator","htmlTag"],caches:["localStorage"]},react:{useSuspense:!1}});const LA={BASE_URL:"/pain-tracker/",DEV:!0,MODE:"production",PROD:!1,SSR:!1,VITE_USER_NODE_ENV:"development"};class Oo{static instance;installPromptEvent=null;isInstalled=!1;swRegistration=null;isInitialized=!1;capabilities={serviceWorker:!1,pushNotifications:!1,backgroundSync:!1,persistentStorage:!1,installPrompt:!1,fullscreen:!1};constructor(){document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>this.init()):this.init()}static getInstance(){return Oo.instance||(Oo.instance=new Oo),Oo.instance}async init(){this.isInitialized||(console.log("PWA: Initializing PWA Manager"),this.checkInstallStatus(),this.setupInstallPromptListener(),await this.detectCapabilities(),await this.registerServiceWorker(),await this.initializeOfflineStorage(),this.setupOnlineOfflineListeners(),this.setupPerformanceMonitoring(),this.isInitialized=!0,this.dispatchCustomEvent("pwa-initialized",{capabilities:this.capabilities}))}async detectCapabilities(){this.capabilities.serviceWorker="serviceWorker"in navigator,this.capabilities.pushNotifications="Notification"in window&&"PushManager"in window,this.capabilities.backgroundSync="serviceWorker"in navigator&&"sync"in window.ServiceWorkerRegistration.prototype,this.capabilities.installPrompt="BeforeInstallPromptEvent"in window,this.capabilities.fullscreen="requestFullscreen"in document.documentElement,"storage"in navigator&&"persist"in navigator.storage&&(this.capabilities.persistentStorage=await navigator.storage.persist())}getCapabilities(){return{...this.capabilities}}async initializeOfflineStorage(){try{const{offlineStorage:e}=await qs(async()=>{const{offlineStorage:t}=await import("./offline-storage-CQ7mII8k.js");return{offlineStorage:t}},[]);if(await e.init(),console.log("PWA: Offline storage initialized"),"storage"in navigator&&"persist"in navigator.storage){const t=await navigator.storage.persist();console.log("PWA: Persistent storage:",t?"granted":"denied"),t&&this.dispatchCustomEvent("pwa-persistent-storage-granted")}}catch(e){console.error("PWA: Failed to initialize offline storage:",e),this.dispatchCustomEvent("pwa-storage-error",{error:e})}}async registerServiceWorker(){if(!this.capabilities.serviceWorker){console.warn("PWA: Service Workers not supported");return}try{const e="/pain-tracker/",t=`${e}sw.js`.replace(/\/+/g,"/");this.swRegistration=await navigator.serviceWorker.register(t,{scope:e,updateViaCache:"none"}),console.log("PWA: Service Worker registered successfully",this.swRegistration),this.swRegistration.addEventListener("updatefound",()=>{const r=this.swRegistration?.installing;r&&r.addEventListener("statechange",()=>{r.state==="installed"&&(navigator.serviceWorker.controller?this.notifyUpdate():this.notifyInstalled())})}),navigator.serviceWorker.addEventListener("message",r=>{this.handleServiceWorkerMessage(r)}),this.capabilities.backgroundSync&&this.setupBackgroundSync(),this.monitorServiceWorkerPerformance()}catch(e){console.error("PWA: Service Worker registration failed:",e),this.dispatchCustomEvent("pwa-sw-registration-failed",{error:e})}}async __test_registerSW(){this.swRegistration||!this.capabilities.serviceWorker||await this.registerServiceWorker()}handleServiceWorkerMessage(e){const{data:t}=e;switch(t.type){case"SW_UPDATE_AVAILABLE":this.dispatchCustomEvent("pwa-update-available");break;case"SW_OFFLINE_FALLBACK":this.dispatchCustomEvent("pwa-offline-fallback",{url:t.url});break;case"SW_CACHE_UPDATED":this.dispatchCustomEvent("pwa-cache-updated",{cacheName:t.cacheName});break;case"SW_SYNC_COMPLETED":this.dispatchCustomEvent("pwa-sync-completed",{stats:t.stats});break}}monitorServiceWorkerPerformance(){if(!this.swRegistration)return;let e=0,t=0;navigator.serviceWorker.addEventListener("message",r=>{r.data.type==="CACHE_HIT"?e++:r.data.type==="CACHE_MISS"&&t++}),setInterval(()=>{const r=e+t;if(r>0){const n=e/r*100;this.dispatchCustomEvent("pwa-cache-performance",{hitRatio:Number(Qi(n,2)),totalRequests:r}),e=0,t=0}},6e4)}setupInstallPromptListener(){window.addEventListener("beforeinstallprompt",e=>{e.preventDefault(),this.installPromptEvent=e,console.log("PWA: Install prompt available"),this.dispatchCustomEvent("pwa-install-available")}),window.addEventListener("appinstalled",()=>{this.isInstalled=!0,this.installPromptEvent=null,console.log("PWA: App installed successfully"),this.dispatchCustomEvent("pwa-installed")})}async showInstallPrompt(){if(!this.installPromptEvent)return!1;try{return await this.installPromptEvent.prompt(),(await this.installPromptEvent.userChoice).outcome==="accepted"?(console.log("PWA: User accepted install prompt"),!0):(console.log("PWA: User dismissed install prompt"),!1)}catch(e){return console.error("PWA: Error showing install prompt:",e),!1}}isInstallPromptAvailable(){return this.installPromptEvent!==null}checkInstallStatus(){window.matchMedia("(display-mode: standalone)").matches&&(this.isInstalled=!0),window.navigator.standalone&&(this.isInstalled=!0)}isAppInstalled(){return this.isInstalled}setupOnlineOfflineListeners(){window.addEventListener("online",async()=>{console.log("PWA: Back online"),await this.handleOnlineStatus(!0),this.dispatchCustomEvent("pwa-online")}),window.addEventListener("offline",()=>{console.log("PWA: Gone offline"),this.handleOnlineStatus(!1),this.dispatchCustomEvent("pwa-offline")}),this.monitorConnectionQuality()}async handleOnlineStatus(e){if(e)try{const{backgroundSync:t}=await qs(async()=>{const{backgroundSync:n}=await import("./background-sync-LM2uXb9P.js");return{backgroundSync:n}},__vite__mapDeps([6,7,2,1,3])),r=t;if(typeof r.forceSync=="function"?await r.forceSync():typeof r.forcSync=="function"&&await r.forcSync(),this.swRegistration?.active&&this.swRegistration.active.postMessage({type:"ONLINE"}),"sync"in this.swRegistration)try{await this.swRegistration.sync.register("pain-tracker-sync")}catch(n){console.error("PWA: Background sync registration failed:",n)}}catch(t){console.error("PWA: Failed to sync data when coming online:",t)}}monitorConnectionQuality(){if("connection"in navigator){const e=navigator.connection,t=()=>{e&&this.dispatchCustomEvent("pwa-connection-change",{effectiveType:e.effectiveType,downlink:e.downlink,rtt:e.rtt,saveData:e.saveData})};e&&typeof e.addEventListener=="function"&&e.addEventListener("change",t),t()}this.startConnectionQualityTests()}startConnectionQualityTests(){setInterval(async()=>{if(!navigator.onLine)return;const e=performance.now();try{const r="/pain-tracker/manifest.json".replace(/\/+/g,"/");await fetch(r,{mode:"cors",cache:"no-cache"});const i=performance.now()-e;this.dispatchCustomEvent("pwa-connection-test",{latency:i,quality:i<100?"good":i<500?"moderate":"poor"})}catch{this.dispatchCustomEvent("pwa-connection-test",{latency:-1,quality:"offline"})}},3e4)}setupPerformanceMonitoring(){"performance"in window&&(window.addEventListener("load",()=>{setTimeout(()=>{const t=performance.getEntriesByType("navigation")[0];this.dispatchCustomEvent("pwa-performance-metrics",{loadTime:t.loadEventEnd-t.fetchStart,domContentLoaded:t.domContentLoadedEventEnd-t.fetchStart,firstPaint:this.getFirstPaint(),cacheHitRatio:this.getCacheHitRatio()})},0)}),new PerformanceObserver(t=>{const n=t.getEntries().filter(i=>i.duration>1e3);n.length>0&&this.dispatchCustomEvent("pwa-slow-resources",{resources:n.map(i=>{const a=i;return{name:i.name,duration:i.duration,size:a.transferSize||0}})})}).observe({type:"resource",buffered:!0}))}getFirstPaint(){const t=performance.getEntriesByType("paint").find(r=>r.name==="first-paint");return t?t.startTime:0}getCacheHitRatio(){const e=Ps.get("pwa-cache-hit-ratio");return parseFloat(e||"0")}isOnline(){return navigator.onLine}async requestNotificationPermission(){return"Notification"in window?Notification.permission==="default"?await Notification.requestPermission():Notification.permission:(console.warn("PWA: This browser does not support notifications"),"denied")}async subscribeToPushNotifications(){if(!this.swRegistration)return console.error("PWA: Service Worker not registered"),null;try{if(await this.requestNotificationPermission()!=="granted")return console.warn("PWA: Notification permission not granted"),null;const t=LA?.VITE_VAPID_PUBLIC_KEY;if(!t)return console.error("PWA: VAPID public key not found"),null;const r=await this.swRegistration.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:this.urlBase64ToUint8Array(t).buffer});return console.log("PWA: Push subscription created:",r),r}catch(e){return console.error("PWA: Failed to subscribe to push notifications:",e),null}}async scheduleNotification(e,t,r){!("Notification"in window)||await this.requestNotificationPermission()!=="granted"||setTimeout(()=>{const i="/pain-tracker/";new Notification(e,{body:t,icon:`${i}icons/icon-192x192.png`.replace(/\/+/g,"/"),badge:`${i}icons/badge-72x72.png`.replace(/\/+/g,"/"),tag:"pain-tracker-reminder",requireInteraction:!0})},r)}setupBackgroundSync(){this.swRegistration&&"sync"in this.swRegistration?console.log("PWA: Background sync is supported"):console.log("PWA: Background sync is not supported")}notifyUpdate(){this.dispatchCustomEvent("pwa-update-available")}notifyInstalled(){this.dispatchCustomEvent("pwa-content-cached")}async updateApp(){if(this.swRegistration){const e=this.swRegistration;e.waiting&&(e.waiting.postMessage({type:"SKIP_WAITING"}),window.location.reload())}}dispatchCustomEvent(e,t){const r=new CustomEvent(e,{detail:t});window.dispatchEvent(r)}urlBase64ToUint8Array(e){const t="=".repeat((4-e.length%4)%4),r=(e+t).replace(/-/g,"+").replace(/_/g,"/"),n=window.atob(r),i=new Uint8Array(n.length);for(let a=0;a<n.length;++a)i[a]=n.charCodeAt(a);return i}async clearCaches(){if("caches"in window){const e=await caches.keys();await Promise.all(e.map(t=>caches.delete(t))),console.log("PWA: All caches cleared")}}async getCacheSize(){if(!("storage"in navigator&&"estimate"in navigator.storage))return 0;try{return(await navigator.storage.estimate()).usage||0}catch(e){return console.error("PWA: Failed to get cache size:",e),0}}async exportOfflineData(){try{const{offlineStorage:e}=await qs(async()=>{const{offlineStorage:n}=await import("./offline-storage-CQ7mII8k.js");return{offlineStorage:n}},[]),t=await e.exportData();return{entries:Ps.safeJSON("painEntries",[]),settings:Ps.safeJSON("pain-tracker-settings",{}),timestamp:new Date().toISOString(),syncQueue:t.syncQueue}}catch(e){throw console.error("PWA: Failed to export offline data:",e),e}}async importOfflineData(e){try{if(e.entries&&Ps.set("painEntries",e.entries),e.settings&&Ps.set("pain-tracker-settings",e.settings),e.syncQueue){const{offlineStorage:t}=await qs(async()=>{const{offlineStorage:r}=await import("./offline-storage-CQ7mII8k.js");return{offlineStorage:r}},[]);for(const r of e.syncQueue){const n=r;await t.addToSyncQueue({url:n.url,method:n.method,headers:n.headers||{},body:typeof n.body=="string"?n.body:JSON.stringify(n.body||{}),priority:n.priority||"medium",type:n.type||"sync"})}}console.log("PWA: Data imported successfully"),this.dispatchCustomEvent("pwa-data-imported")}catch(t){throw console.error("PWA: Failed to import offline data:",t),t}}async enableHealthDataSync(){try{return"storage"in navigator&&"persist"in navigator.storage&&!await navigator.storage.persist()?(console.warn("PWA: Persistent storage not granted for health data"),!1):this.swRegistration&&"sync"in this.swRegistration?(await this.swRegistration.sync.register("health-data-sync"),console.log("PWA: Health data background sync enabled"),!0):!1}catch(e){return console.error("PWA: Failed to enable health data sync:",e),!1}}async scheduleHealthReminder(e,t,r){if(!("Notification"in window)){console.warn("PWA: Notifications not supported");return}if(await this.requestNotificationPermission()!=="granted"){console.warn("PWA: Notification permission not granted");return}const i=new Date,a=r.getTime()-i.getTime();if(a<=0){this.showNotification(e,t);return}setTimeout(()=>{this.showNotification(e,t)},a),console.log(`PWA: Health reminder scheduled for ${r.toLocaleString()}`)}showNotification(e,t){const r="/pain-tracker/";new Notification(e,{body:t,icon:`${r}icons/icon-192x192.png`.replace(/\/+/g,"/"),badge:`${r}icons/badge-72x72.png`.replace(/\/+/g,"/"),tag:"health-reminder",requireInteraction:!0,data:{url:`${r}?reminder=true`.replace(/\/+/g,"/"),timestamp:new Date().toISOString()}})}async getDiagnostics(){const{offlineStorage:e}=await qs(async()=>{const{offlineStorage:a}=await import("./offline-storage-CQ7mII8k.js");return{offlineStorage:a}},[]),{backgroundSync:t}=await qs(async()=>{const{backgroundSync:a}=await import("./background-sync-LM2uXb9P.js");return{backgroundSync:a}},__vite__mapDeps([6,7,2,1,3])),r=await e.getStorageUsage(),n=await t.getPendingItemsCount(),i=Ps.get("last-sync-time");return{isInstalled:this.isInstalled,hasServiceWorker:!!this.swRegistration,isOnline:navigator.onLine,storageUsage:r,capabilities:this.capabilities,pendingSyncItems:n,lastSync:i}}async clearPWAData(){try{await this.clearCaches();const{offlineStorage:e}=await qs(async()=>{const{offlineStorage:t}=await import("./offline-storage-CQ7mII8k.js");return{offlineStorage:t}},[]);await e.clearAllData(),Ps.keys().forEach(t=>Ps.remove(t)),console.log("PWA: All PWA data cleared"),this.dispatchCustomEvent("pwa-data-cleared")}catch(e){throw console.error("PWA: Failed to clear PWA data:",e),e}}async resetServiceWorker(){try{if("serviceWorker"in navigator){const e=await navigator.serviceWorker.getRegistrations();await Promise.all(e.map(t=>t.unregister())),console.log("PWA: All service workers unregistered")}await this.clearCaches(),await this.clearPWAData(),console.log("PWA: Service worker completely reset"),this.dispatchCustomEvent("pwa-service-worker-reset")}catch(e){throw console.error("PWA: Failed to reset service worker:",e),e}}async forceRefresh(){try{await this.clearCaches(),window.location.reload()}catch(e){console.error("PWA: Failed to force refresh:",e),window.location.reload()}}async checkForUpdates(){if(!this.swRegistration)return!1;try{return await this.swRegistration.update(),!!this.swRegistration.waiting}catch(e){return console.error("PWA: Failed to check for updates:",e),!1}}}const Fa=Oo.getInstance();function TA(){const[s,e]=$.useState(!1),[t,r]=$.useState(!1);$.useEffect(()=>{const a=()=>{Fa.isAppInstalled()||e(!0)},o=()=>{e(!1),r(!1)};return Fa.isInstallPromptAvailable()&&!Fa.isAppInstalled()&&e(!0),window.addEventListener("pwa-install-available",a),window.addEventListener("pwa-installed",o),()=>{window.removeEventListener("pwa-install-available",a),window.removeEventListener("pwa-installed",o)}},[]);const n=async()=>{r(!0);try{await Fa.showInstallPrompt()||r(!1)}catch(a){console.error("Failed to install PWA:",a),r(!1)}},i=()=>{e(!1),sessionStorage.setItem("pwa-install-dismissed","true")};return sessionStorage.getItem("pwa-install-dismissed")||!s?null:u.jsxDEV(un,{className:"fixed bottom-4 left-4 z-50 shadow-lg border-primary max-w-sm w-[min(92%,420px)]",role:"dialog","aria-label":"Install Pain Tracker",children:u.jsxDEV(Kn,{className:"p-4",children:[u.jsxDEV("div",{className:"flex items-start space-x-3",children:[u.jsxDEV("div",{className:"flex-shrink-0",children:u.jsxDEV("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:u.jsxDEV(pw,{className:"h-6 w-6 text-primary"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:74,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:73,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:72,columnNumber:11},this),u.jsxDEV("div",{className:"flex-1 min-w-0",children:[u.jsxDEV("h3",{className:"text-sm font-semibold text-foreground",children:"Install Pain Tracker"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:79,columnNumber:13},this),u.jsxDEV("p",{className:"text-xs text-muted-foreground mt-1",children:"Add to your home screen for quick access and offline use"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:82,columnNumber:13},this),u.jsxDEV("div",{className:"flex items-center space-x-2 mt-3",children:[u.jsxDEV(pr,{size:"sm",onClick:n,disabled:t,className:"flex items-center space-x-1",children:[u.jsxDEV(Ja,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:93,columnNumber:17},this),u.jsxDEV("span",{children:t?"Installing...":"Install"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:94,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:87,columnNumber:15},this),u.jsxDEV(pr,{variant:"ghost",size:"sm",onClick:i,className:"text-muted-foreground",children:u.jsxDEV(Pi,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:103,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:97,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:86,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:78,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:71,columnNumber:9},this),u.jsxDEV("div",{className:"mt-4 pt-3 border-t border-muted",children:u.jsxDEV("div",{className:"text-xs text-muted-foreground space-y-1",children:[u.jsxDEV("div",{className:"flex items-center space-x-2",children:[u.jsxDEV("div",{className:"w-1 h-1 bg-green-500 rounded-full"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:113,columnNumber:15},this),u.jsxDEV("span",{children:"Works offline"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:114,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:112,columnNumber:13},this),u.jsxDEV("div",{className:"flex items-center space-x-2",children:[u.jsxDEV("div",{className:"w-1 h-1 bg-blue-500 rounded-full"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:117,columnNumber:15},this),u.jsxDEV("span",{children:"Fast app-like experience"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:118,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:116,columnNumber:13},this),u.jsxDEV("div",{className:"flex items-center space-x-2",children:[u.jsxDEV("div",{className:"w-1 h-1 bg-purple-500 rounded-full"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:121,columnNumber:15},this),u.jsxDEV("span",{children:"Reminder notifications"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:122,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:120,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:111,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:110,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:70,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:65,columnNumber:5},this)}function UA(){const[s,e]=$.useState({isOnline:navigator.onLine,pendingSync:0,isSyncing:!1});return $.useEffect(()=>{const t=async()=>{try{const{backgroundSync:o}=await qs(async()=>{const{backgroundSync:d}=await import("./background-sync-LM2uXb9P.js");return{backgroundSync:d}},__vite__mapDeps([6,7,2,1,3])),c=await o.getPendingItemsCount(),{isSyncing:l}=o.getSyncStatus();e(d=>({...d,pendingSync:c,isSyncing:l}))}catch{e(o=>({...o,pendingSync:0,isSyncing:!1}))}},r=()=>{e(o=>({...o,isOnline:!0})),t()},n=()=>e(o=>({...o,isOnline:!1})),i=()=>t();window.addEventListener("online",r),window.addEventListener("offline",n),window.addEventListener("background-sync-sync-completed",i),window.addEventListener("background-sync-sync-started",i),t();const a=setInterval(t,3e4);return()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n),window.removeEventListener("background-sync-sync-completed",i),window.removeEventListener("background-sync-sync-started",i),clearInterval(a)}},[]),s.isOnline&&s.pendingSync===0&&!s.isSyncing?null:u.jsxDEV("div",{className:"fixed bottom-4 right-4 z-50",children:u.jsxDEV("div",{className:"bg-white rounded-lg border shadow-lg border-l-4 border-l-blue-500 p-3 max-w-xs",children:[u.jsxDEV("div",{className:"flex items-center space-x-2",children:[!s.isOnline&&u.jsxDEV("div",{className:"flex items-center space-x-1",children:[u.jsxDEV("div",{className:"w-2 h-2 bg-red-500 rounded-full"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAStatusIndicator.tsx",lineNumber:82,columnNumber:15},this),u.jsxDEV("span",{className:"text-sm font-medium text-red-700",children:"Offline"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAStatusIndicator.tsx",lineNumber:83,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAStatusIndicator.tsx",lineNumber:81,columnNumber:13},this),s.isSyncing&&u.jsxDEV("div",{className:"flex items-center space-x-1",children:[u.jsxDEV("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAStatusIndicator.tsx",lineNumber:88,columnNumber:15},this),u.jsxDEV("span",{className:"text-sm font-medium text-blue-700",children:"Syncing..."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAStatusIndicator.tsx",lineNumber:89,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAStatusIndicator.tsx",lineNumber:87,columnNumber:13},this),s.pendingSync>0&&!s.isSyncing&&u.jsxDEV("div",{className:"flex items-center space-x-1",children:[u.jsxDEV("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAStatusIndicator.tsx",lineNumber:94,columnNumber:15},this),u.jsxDEV("span",{className:"text-sm font-medium text-yellow-700",children:[s.pendingSync," pending"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAStatusIndicator.tsx",lineNumber:95,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAStatusIndicator.tsx",lineNumber:93,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAStatusIndicator.tsx",lineNumber:79,columnNumber:9},this),!s.isOnline&&u.jsxDEV("p",{className:"text-xs text-gray-600 mt-1",children:"Your data is saved locally and will sync when you're back online"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAStatusIndicator.tsx",lineNumber:102,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAStatusIndicator.tsx",lineNumber:78,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAStatusIndicator.tsx",lineNumber:77,columnNumber:5},this)}const Lm={title:"Beta Software Notice",message:"You're running a beta version of Pain Tracker. Please backup your data regularly. This build is intended for testing and feedback. Report issues at the repository issues page.",supportUrl:"https://github.com/CrisisCore-Systems/pain-tracker/issues"},Tm="pain-tracker:beta-dismissed";function MA(){const[s,e]=$.useState(!1);$.useEffect(()=>{try{const r=Ps.get(Tm);e(r!=="true")}catch{e(!0)}},[]);const t=$.useCallback(()=>{try{Ps.set(Tm,"true")}catch{try{localStorage.setItem(Tm,"1")}catch{}}e(!1)},[]);return $.useEffect(()=>{if(!s)return;const r=n=>{n.key==="Escape"&&t()};return window.addEventListener("keydown",r),()=>window.removeEventListener("keydown",r)},[s,t]),s?u.jsxDEV("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-[60] max-w-3xl w-full px-4 animate-in fade-in slide-in-from-top-4 duration-300",children:u.jsxDEV("div",{className:"bg-yellow-50 border-2 border-yellow-300 text-yellow-900 rounded-lg p-4 shadow-lg flex items-start justify-between",children:[u.jsxDEV("div",{className:"flex-1",children:[u.jsxDEV("h3",{className:"font-semibold text-base",children:Lm.title},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/BetaWarning.tsx",lineNumber:50,columnNumber:11},this),u.jsxDEV("p",{className:"text-sm mt-1",children:Lm.message},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/BetaWarning.tsx",lineNumber:51,columnNumber:11},this),u.jsxDEV("a",{className:"text-xs text-yellow-700 underline mt-2 inline-block hover:text-yellow-800",href:Lm.supportUrl,target:"_blank",rel:"noreferrer",children:"Report an issue or give feedback"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/BetaWarning.tsx",lineNumber:52,columnNumber:11},this),u.jsxDEV("div",{className:"text-xs text-yellow-600 mt-2 opacity-70",children:["Press ",u.jsxDEV("kbd",{className:"px-1.5 py-0.5 bg-yellow-100 rounded border border-yellow-300",children:"Esc"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/BetaWarning.tsx",lineNumber:56,columnNumber:19},this)," to dismiss"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/BetaWarning.tsx",lineNumber:55,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/BetaWarning.tsx",lineNumber:49,columnNumber:9},this),u.jsxDEV("div",{className:"ml-4 flex items-start gap-2",children:[u.jsxDEV("button",{"aria-label":"Dismiss beta notice",onClick:t,className:"text-yellow-600 hover:text-yellow-800 p-1 rounded hover:bg-yellow-100 transition-colors",title:"Close (Esc)",children:u.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/BetaWarning.tsx",lineNumber:67,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/BetaWarning.tsx",lineNumber:66,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/BetaWarning.tsx",lineNumber:60,columnNumber:11},this),u.jsxDEV("button",{"aria-label":"Dismiss and don't show again",onClick:t,className:"text-sm bg-yellow-600 text-white px-3 py-1.5 rounded-md hover:bg-yellow-700 transition-colors shadow-sm",children:"Got it"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/BetaWarning.tsx",lineNumber:70,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/BetaWarning.tsx",lineNumber:59,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/BetaWarning.tsx",lineNumber:48,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/BetaWarning.tsx",lineNumber:47,columnNumber:5},this):null}const Du="pain-tracker:notification-consent";function VA(){const[s,e]=$.useState(()=>{try{return localStorage.getItem(Du)}catch{return null}}),{bottomLeft:t}=Ah();$.useEffect(()=>{s||t.info("Get gentle notifications?","We can notify you about important pain pattern alerts and medication reminders. You can change this later in Settings.",{label:"Allow",onClick:r},{onDismiss:()=>{localStorage.setItem(Du,"dismissed"),e("dismissed")}})},[s,t]);async function r(){try{const n=await Notification.requestPermission();localStorage.setItem(Du,n),e(n)}catch{localStorage.setItem(Du,"denied"),e("denied")}}return null}const Pu="pain-tracker:analytics-consent";function IA(){const[s,e]=$.useState(()=>{try{return localStorage.getItem(Pu)}catch{return null}}),{bottomLeft:t}=Ah(),r=async()=>{try{localStorage.setItem(Pu,"granted"),e("granted"),await Bo.requestConsent()&&t.success("Thank you!","Your anonymous usage data will help us improve Pain Tracker for everyone.")}catch{localStorage.setItem(Pu,"error"),e("error")}};return $.useEffect(()=>{if(!s){const n=setTimeout(()=>{t.info("Help improve Pain Tracker?","We'd like to collect anonymous usage data to improve the app. Your pain data stays private and local. No personal information is collected.",{label:"Allow",onClick:r},{onDismiss:()=>{localStorage.setItem(Pu,"declined"),e("declined"),Bo.updatePrivacyConfig({enableAnalytics:!1})}})},2e3);return()=>clearTimeout(n)}},[s,t,r]),null}let Ia=null,Cu=null;async function zc(){return Ia&&typeof Ia.crypto_pwhash=="function"?Ia:(Ia&&(console.warn("[sodium] Clearing invalid cached instance"),Ia=null,Cu=null),Cu||(Cu=(async()=>{console.log("[sodium] Starting initialization (SUMO version)...");const s=await qs(()=>import("./libsodium-wrappers-DhqTdZPT.js").then(t=>t.l),__vite__mapDeps([8,2]));console.log("[sodium] Module type:",typeof s),console.log("[sodium] Module.default type:",typeof s.default);const e=s.default||s;if(console.log("[sodium] Waiting for ready..."),await e.ready,console.log("[sodium] Library initialized successfully"),console.log("[sodium] crypto_pwhash type:",typeof e.crypto_pwhash),console.log("[sodium] crypto_pwhash_str type:",typeof e.crypto_pwhash_str),console.log("[sodium] crypto_pwhash_SALTBYTES:",e.crypto_pwhash_SALTBYTES),typeof e.crypto_pwhash!="function")throw new Error("[sodium] crypto_pwhash function not available even in SUMO version!");return Ia=e,e})()),Cu)}function RA(){return Ia}const Tc="vault:metadata",OA="3.0.0",Fn=1;function FA(s){if(s==null)throw new TypeError("encryptString: message is null/undefined");if(s instanceof Uint8Array)return s;if(typeof Buffer<"u"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(s))return new Uint8Array(s.buffer,s.byteOffset,s.byteLength);if(ArrayBuffer.isView(s)){const t=s;return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}if(s instanceof ArrayBuffer)return new Uint8Array(s);const e=new TextEncoder;return typeof s=="string"?e.encode(s):e.encode(JSON.stringify(s))}async function eb(){await zc()}function BA(s){try{const e=JSON.parse(s);return typeof e=="object"&&e?.v==="xchacha20-poly1305"&&typeof e?.c=="string"&&typeof e?.n=="string"}catch{return!1}}class zA{status={state:"uninitialized",metadata:null,sodiumReady:!1};key=null;listeners=new Set;initialized=!1;async initialize(){if(this.initialized)return this.status;try{await zc(),this.status.sodiumReady=!0}catch(t){return this.logEvent("error","Failed to initialize libsodium",{error:t instanceof Error?t.message:"unknown"}),this.status.state="error",this.status}const e=this.loadMetadata();return e?this.status={state:"locked",metadata:e,sodiumReady:!0}:this.status={state:"uninitialized",metadata:null,sodiumReady:!0},this.initialized=!0,this.emit(),this.status}onChange(e){return this.listeners.add(e),e(this.status),()=>{this.listeners.delete(e)}}getStatus(){return this.status}async setupPassphrase(e){if(!e||e.length<12)throw new Error("Passphrase must be at least 12 characters.");await eb();const t=await zc();console.log("[VaultService] Sodium instance retrieved:",{sodiumType:typeof t,hasCryptoPwhash:typeof t.crypto_pwhash,hasCryptoPwhashStr:typeof t.crypto_pwhash_str,saltBytes:t.crypto_pwhash_SALTBYTES});const r=t.crypto_pwhash_SALTBYTES,n=Number.isInteger(r)&&r>0?r:16;n!==r&&this.logEvent("warning","Using fallback salt length",{configuredSaltBytes:r,saltBytes:n});const i=t.randombytes_buf(n),a=t.crypto_pwhash_OPSLIMIT_MODERATE,o=t.crypto_pwhash_MEMLIMIT_MODERATE,c=t.crypto_aead_xchacha20poly1305_ietf_KEYBYTES;console.log("[VaultService] Creating vault with:",{passphraseType:typeof e,passphraseLength:e?.length,keyLength:c,opslimit:a,memlimit:o,saltLength:i.length});const l=t.crypto_pwhash(c,e,i,a,o,t.crypto_pwhash_ALG_ARGON2ID13);console.log("[VaultService] Key derived, creating verification hash...");const d=t.crypto_pwhash_str(e,a,o);console.log("[VaultService] Verification hash created:",d?.length);const f={version:OA,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),derivation:{algorithm:"argon2id",salt:t.to_base64(i,Fn),opslimit:a,memlimit:o,keyLength:c},verification:{algorithm:"argon2id",hash:d},cipher:{algorithm:"xchacha20-poly1305",nonceLength:t.crypto_aead_xchacha20poly1305_ietf_NPUBBYTES},migrations:{}};if(!Ps.set(Tc,f).success)throw new Error("Failed to persist vault metadata.");this.key=l,this.status={state:"unlocked",metadata:f,sodiumReady:!0},this.applyGlobalHooks(),await this.migrateLegacyStorage(),this.logEvent("info","Vault passphrase initialized"),this.emit()}async unlock(e){if(!e)throw new Error("Passphrase is required.");await this.initialize(),await eb();const{metadata:t}=this.status;if(!t)throw new Error("Vault not configured.");const r=await zc();let n=!1;try{n=r.crypto_pwhash_str_verify(t.verification.hash,e)}catch(o){throw this.logEvent("error",`Passphrase verification error: ${o}`),new Error("Passphrase verification failed.")}if(!n)throw this.logEvent("warning","Vault unlock attempt failed"),new Error("Incorrect passphrase.");const i=r.from_base64(t.derivation.salt,Fn);(!(i instanceof Uint8Array)||i.length<=0)&&this.logEvent("error","Derived salt invalid",{actual:i?.length});const a=r.crypto_pwhash(t.derivation.keyLength,e,i,t.derivation.opslimit,t.derivation.memlimit,r.crypto_pwhash_ALG_ARGON2ID13);this.key=a,this.status={...this.status,state:"unlocked"},this.applyGlobalHooks(),await this.migrateLegacyStorage(),this.logEvent("info","Vault unlocked"),this.emit()}lock(){this.key&&zc().then(e=>{e.memzero(this.key)}).catch(()=>{}),this.key=null,delete globalThis.__secureStorageEncrypt,delete globalThis.__secureStorageDecrypt,this.status.state!=="uninitialized"&&(this.status={...this.status,state:"locked"},this.emit()),this.logEvent("info","Vault locked")}isUnlocked(){return this.status.state==="unlocked"&&!!this.key}encryptString(e){if(!this.key)throw new Error("encryptString: key not set");if(!this.status.sodiumReady)throw new Error("encryptString: libsodium not ready");const t=this.assertSodium(),r=this.key;if(!(r instanceof Uint8Array)||r.length!==t.crypto_aead_xchacha20poly1305_ietf_KEYBYTES)throw new Error("encryptString: invalid key type/length");const n=FA(e),i=t.crypto_aead_xchacha20poly1305_ietf_NPUBBYTES;if(!Number.isInteger(i)||i<=0)throw new Error("encryptString: invalid nonce length constant");const a=t.randombytes_buf(i),o=ArrayBuffer.isView(n)?new Uint8Array(n.buffer,n.byteOffset,n.byteLength):n,c=t.crypto_aead_xchacha20poly1305_ietf_encrypt(o,null,null,a,r);return JSON.stringify({v:"xchacha20-poly1305",n:t.to_base64(a,Fn),c:t.to_base64(c,Fn)})}decryptString(e){if(!this.key)throw new Error("decryptString: key not set");if(!this.status.sodiumReady)throw new Error("decryptString: libsodium not ready");const t=this.assertSodium();try{const r=JSON.parse(e);if(r?.v!=="xchacha20-poly1305")return e;const n=this.key,i=t.from_base64(r.n,Fn),a=t.from_base64(r.c,Fn),o=t.crypto_aead_xchacha20poly1305_ietf_decrypt(null,a,null,i,n);return t.to_string(o)}catch{return e}}encryptBytes(e){if(!this.key)throw new Error("Vault is locked.");const t=this.assertSodium(),r=t.crypto_aead_xchacha20poly1305_ietf_NPUBBYTES;if(!Number.isInteger(r)||r<=0)throw new Error("encryptBytes: invalid nonce length constant");const n=t.randombytes_buf(r),i=t.crypto_aead_xchacha20poly1305_ietf_encrypt(e,null,null,n,this.key);return{nonce:t.to_base64(n,Fn),cipher:t.to_base64(i,Fn)}}decryptBytes(e){if(!this.key)throw new Error("Vault is locked.");const t=this.assertSodium(),r=t.from_base64(e.nonce,Fn),n=t.from_base64(e.cipher,Fn);return t.crypto_aead_xchacha20poly1305_ietf_decrypt(null,n,null,r,this.key)}clearAll(){Ps.remove(Tc),this.lock(),this.status={state:"uninitialized",metadata:null,sodiumReady:this.status.sodiumReady},this.emit()}emit(){for(const e of this.listeners)e(this.status)}loadMetadata(){try{const e=Ps.get(Tc);return e||null}catch{return null}}async migrateLegacyStorage(){if(!this.key||!this.status.metadata)return;let e=0,t=0;for(let r=0;r<localStorage.length;r++){const n=localStorage.key(r);if(!n||!n.startsWith("pt:")||n===`pt:${Tc}`)continue;const i=localStorage.getItem(n);if(typeof i!="string"||i.length===0){t+=1;continue}if(!BA(i))try{const a=this.encryptString(i);localStorage.setItem(n,a),e+=1}catch(a){t+=1,this.logEvent("warning","Failed to migrate legacy secureStorage entry",{key:n,error:a instanceof Error?a.message:"unknown"})}}if(e>0||t>0){const r={...this.status.metadata,migrations:{...this.status.metadata?.migrations,legacyCompletedAt:new Date().toISOString()},updatedAt:new Date().toISOString()};Ps.set(Tc,r).success||this.logEvent("warning","Failed to update vault metadata after migration"),this.status={...this.status,metadata:r},this.logEvent("info","Legacy storage re-encrypted",{reencrypted:e,skipped:t})}}applyGlobalHooks(){this.key&&(globalThis.__secureStorageEncrypt=e=>this.encryptString(e),globalThis.__secureStorageDecrypt=e=>this.decryptString(e))}assertSodium(){const e=RA();if(!e)throw new Error("libsodium not ready");return e}logEvent(e,t,r){try{Rr.logSecurityEvent({type:"vault",level:e,message:t,metadata:r,timestamp:new Date})}catch{}}}const Ba=new zA;function $A(s){return Ba.onChange(()=>s())}function tb(){return Ba.getStatus()}function WA(){const s=$.useSyncExternalStore($A,tb,tb);return $.useEffect(()=>{Ba.initialize()},[]),s}function qA(){return{status:WA(),setupPassphrase:e=>Ba.setupPassphrase(e),unlock:e=>Ba.unlock(e),lock:()=>Ba.lock(),clearAll:()=>Ba.clearAll()}}const ju=12,sb=({children:s})=>{const{status:e,setupPassphrase:t,unlock:r,lock:n,clearAll:i}=qA(),[a,o]=$.useState(""),[c,l]=$.useState(""),[d,f]=$.useState(null),[p,m]=$.useState(!1),b=$.useRef(null),[y,v]=$.useState(!1);$.useEffect(()=>{(e.state==="uninitialized"||e.state==="locked")&&setTimeout(()=>{b.current?.focus()},50)},[e.state]);const N=()=>{o(""),l(""),f(null)},w=async P=>{if(P.preventDefault(),!p){if(a!==c){f("Passphrases must match.");return}if(a.length<ju){f(`Passphrase must be at least ${ju} characters long.`);return}m(!0),f(null);try{await t(a),N()}catch(T){f(T instanceof Error?T.message:"Unable to initialize vault.")}finally{m(!1)}}},j=async P=>{if(P.preventDefault(),!p){if(!a){f("Please enter your secure passphrase.");return}m(!0),f(null);try{await r(a),N()}catch(T){f(T instanceof Error?T.message:"Unable to unlock vault.")}finally{m(!1)}}},C=async()=>{window.confirm("Resetting the secure vault will permanently remove all locally stored entries and settings. This action cannot be undone. Do you want to continue?")&&(i(),n(),N())},S=()=>u.jsxDEV("form",{onSubmit:w,className:"space-y-6","aria-labelledby":"vault-setup-title",children:[u.jsxDEV("div",{children:[u.jsxDEV("h2",{id:"vault-setup-title",className:"text-2xl font-semibold text-gray-900",children:"Create a secure passphrase"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:91,columnNumber:9},void 0),u.jsxDEV("p",{className:"mt-2 text-sm text-gray-600",children:"Choose a gentle yet strong passphrase that you will remember. It protects your pain entries and personal notes on this device. For security, your passphrase is never stored anywhere."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:94,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:90,columnNumber:7},void 0),u.jsxDEV("div",{className:"space-y-4",children:[u.jsxDEV("label",{className:"block",htmlFor:"vault-passphrase",children:[u.jsxDEV("span",{className:"text-sm font-medium text-gray-700",children:"Passphrase"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:101,columnNumber:11},void 0),u.jsxDEV("input",{id:"vault-passphrase",ref:b,type:y?"text":"password",value:a,onChange:P=>o(P.target.value),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500",minLength:ju,"aria-describedby":"vault-passphrase-help",autoComplete:"new-password",required:!0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:102,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:100,columnNumber:9},void 0),u.jsxDEV("p",{id:"vault-passphrase-help",className:"text-xs text-gray-500",children:["Use at least ",ju," characters. Short sentences or unique phrases are often easiest to recall."]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:115,columnNumber:9},void 0),u.jsxDEV("label",{className:"block",htmlFor:"vault-passphrase-confirm",children:[u.jsxDEV("span",{className:"text-sm font-medium text-gray-700",children:"Confirm passphrase"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:120,columnNumber:11},void 0),u.jsxDEV("input",{id:"vault-passphrase-confirm",type:y?"text":"password",value:c,onChange:P=>l(P.target.value),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500",autoComplete:"new-password",required:!0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:121,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:119,columnNumber:9},void 0),u.jsxDEV("button",{type:"button",onClick:()=>v(P=>!P),className:"text-sm text-indigo-600 hover:text-indigo-500 focus:outline-none",children:y?"Hide passphrase":"Show passphrase"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:132,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:99,columnNumber:7},void 0),d&&u.jsxDEV("div",{role:"alert",className:"rounded-md bg-red-50 p-3 text-sm text-red-700 border border-red-100",children:d},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:142,columnNumber:9},void 0),u.jsxDEV("div",{className:"flex flex-col space-y-3 sm:flex-row sm:space-y-0 sm:space-x-3",children:[u.jsxDEV("button",{type:"submit",className:"inline-flex items-center justify-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-60",disabled:p,children:p?"Securing...":"Create secure vault"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:148,columnNumber:9},void 0),u.jsxDEV("button",{type:"button",onClick:N,className:"inline-flex items-center justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:"Clear fields"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:155,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:147,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:89,columnNumber:5},void 0),A=()=>u.jsxDEV("form",{onSubmit:j,className:"space-y-6","aria-labelledby":"vault-unlock-title",children:[u.jsxDEV("div",{className:"flex items-start justify-between",children:[u.jsxDEV("div",{children:[u.jsxDEV("h2",{id:"vault-unlock-title",className:"text-2xl font-semibold text-gray-900",children:"Unlock secure vault"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:170,columnNumber:11},void 0),u.jsxDEV("p",{className:"mt-2 text-sm text-gray-600",children:"Enter your trusted passphrase to access encrypted pain entries and preferences."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:173,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:169,columnNumber:9},void 0),u.jsxDEV("button",{type:"button",onClick:C,className:"text-sm text-red-600 hover:text-red-500 focus:outline-none",children:"Reset vault"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:177,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:168,columnNumber:7},void 0),u.jsxDEV("div",{className:"space-y-4",children:[u.jsxDEV("label",{className:"block",htmlFor:"vault-passphrase-unlock",children:[u.jsxDEV("span",{className:"text-sm font-medium text-gray-700",children:"Passphrase"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:188,columnNumber:11},void 0),u.jsxDEV("input",{id:"vault-passphrase-unlock",ref:b,type:y?"text":"password",value:a,onChange:P=>o(P.target.value),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500",autoComplete:"current-password",required:!0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:189,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:187,columnNumber:9},void 0),u.jsxDEV("button",{type:"button",onClick:()=>v(P=>!P),className:"text-sm text-indigo-600 hover:text-indigo-500 focus:outline-none",children:y?"Hide passphrase":"Show passphrase"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:200,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:186,columnNumber:7},void 0),d&&u.jsxDEV("div",{role:"alert",className:"rounded-md bg-yellow-50 p-3 text-sm text-yellow-800 border border-yellow-100",children:d},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:210,columnNumber:9},void 0),u.jsxDEV("div",{className:"flex flex-col space-y-3 sm:flex-row sm:space-y-0 sm:space-x-3",children:[u.jsxDEV("button",{type:"submit",className:"inline-flex items-center justify-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-60",disabled:p,children:p?"Unlocking...":"Unlock vault"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:216,columnNumber:9},void 0),u.jsxDEV("button",{type:"button",onClick:()=>{N(),setTimeout(()=>b.current?.focus(),50)},className:"inline-flex items-center justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:"Try again"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:223,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:215,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:167,columnNumber:5},void 0),U=()=>e.sodiumReady?e.state==="unlocked"?u.jsxDEV(u.Fragment,{children:s},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:248,columnNumber:14},void 0):u.jsxDEV("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/80 px-4",role:"dialog","aria-modal":"true","aria-labelledby":"vault-dialog-title",children:u.jsxDEV("div",{className:"w-full max-w-lg rounded-xl bg-white p-6 shadow-2xl focus:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500",children:[u.jsxDEV("div",{className:"flex items-center justify-between mb-6",children:[u.jsxDEV("div",{children:[u.jsxDEV("h1",{id:"vault-dialog-title",className:"text-3xl font-semibold text-gray-900",children:"Secure vault"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:256,columnNumber:15},void 0),u.jsxDEV("p",{className:"mt-1 text-sm text-gray-600",children:"End-to-end encrypted storage protects your story and wellbeing."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:257,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:255,columnNumber:13},void 0),u.jsxDEV("span",{"aria-hidden":"true",className:"inline-flex h-10 w-10 items-center justify-center rounded-full bg-indigo-50 text-indigo-600 text-lg font-semibold",children:"ðŸ”’"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:259,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:254,columnNumber:11},void 0),u.jsxDEV("div",{children:e.state==="uninitialized"?S():A()},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:263,columnNumber:11},void 0),u.jsxDEV("p",{className:"mt-6 text-xs text-gray-500",children:"Tip: If you ever need to safely reset the vault, choose â€œReset vaultâ€. This keeps your account secure but removes local data from this device."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:266,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:253,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:252,columnNumber:7},void 0):u.jsxDEV("div",{className:"text-center",children:[u.jsxDEV("p",{className:"text-lg font-medium text-gray-900",children:"Preparing secure vaultâ€¦"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:241,columnNumber:11},void 0),u.jsxDEV("p",{className:"mt-2 text-sm text-gray-600",children:"Loading privacy protections. Thank you for your patience."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:242,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:240,columnNumber:9},void 0);return u.jsxDEV(u.Fragment,{children:e.state==="unlocked"?s:U()},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:275,columnNumber:5},void 0)};var Um={exports:{}},Mm={exports:{}},rs={},rb;function HA(){if(rb)return rs;rb=1;return(function(){var s=typeof Symbol=="function"&&Symbol.for,e=s?Symbol.for("react.element"):60103,t=s?Symbol.for("react.portal"):60106,r=s?Symbol.for("react.fragment"):60107,n=s?Symbol.for("react.strict_mode"):60108,i=s?Symbol.for("react.profiler"):60114,a=s?Symbol.for("react.provider"):60109,o=s?Symbol.for("react.context"):60110,c=s?Symbol.for("react.async_mode"):60111,l=s?Symbol.for("react.concurrent_mode"):60111,d=s?Symbol.for("react.forward_ref"):60112,f=s?Symbol.for("react.suspense"):60113,p=s?Symbol.for("react.suspense_list"):60120,m=s?Symbol.for("react.memo"):60115,b=s?Symbol.for("react.lazy"):60116,y=s?Symbol.for("react.block"):60121,v=s?Symbol.for("react.fundamental"):60117,N=s?Symbol.for("react.responder"):60118,w=s?Symbol.for("react.scope"):60119;function j(xe){return typeof xe=="string"||typeof xe=="function"||xe===r||xe===l||xe===i||xe===n||xe===f||xe===p||typeof xe=="object"&&xe!==null&&(xe.$$typeof===b||xe.$$typeof===m||xe.$$typeof===a||xe.$$typeof===o||xe.$$typeof===d||xe.$$typeof===v||xe.$$typeof===N||xe.$$typeof===w||xe.$$typeof===y)}function C(xe){if(typeof xe=="object"&&xe!==null){var Ie=xe.$$typeof;switch(Ie){case e:var we=xe.type;switch(we){case c:case l:case r:case i:case n:case f:return we;default:var W=we&&we.$$typeof;switch(W){case o:case d:case b:case m:case a:return W;default:return Ie}}case t:return Ie}}}var S=c,A=l,U=o,P=a,T=e,R=d,E=r,L=b,F=m,z=t,Z=i,re=n,le=f,ee=!1;function pe(xe){return ee||(ee=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),ue(xe)||C(xe)===c}function ue(xe){return C(xe)===l}function te(xe){return C(xe)===o}function _(xe){return C(xe)===a}function q(xe){return typeof xe=="object"&&xe!==null&&xe.$$typeof===e}function Y(xe){return C(xe)===d}function se(xe){return C(xe)===r}function ne(xe){return C(xe)===b}function ae(xe){return C(xe)===m}function he(xe){return C(xe)===t}function me(xe){return C(xe)===i}function ge(xe){return C(xe)===n}function Pe(xe){return C(xe)===f}rs.AsyncMode=S,rs.ConcurrentMode=A,rs.ContextConsumer=U,rs.ContextProvider=P,rs.Element=T,rs.ForwardRef=R,rs.Fragment=E,rs.Lazy=L,rs.Memo=F,rs.Portal=z,rs.Profiler=Z,rs.StrictMode=re,rs.Suspense=le,rs.isAsyncMode=pe,rs.isConcurrentMode=ue,rs.isContextConsumer=te,rs.isContextProvider=_,rs.isElement=q,rs.isForwardRef=Y,rs.isFragment=se,rs.isLazy=ne,rs.isMemo=ae,rs.isPortal=he,rs.isProfiler=me,rs.isStrictMode=ge,rs.isSuspense=Pe,rs.isValidElementType=j,rs.typeOf=C})(),rs}var nb;function Hx(){return nb||(nb=1,Mm.exports=HA()),Mm.exports}var Vm,ib;function YA(){if(ib)return Vm;ib=1;var s=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable;function r(i){if(i==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(i)}function n(){try{if(!Object.assign)return!1;var i=new String("abc");if(i[5]="de",Object.getOwnPropertyNames(i)[0]==="5")return!1;for(var a={},o=0;o<10;o++)a["_"+String.fromCharCode(o)]=o;var c=Object.getOwnPropertyNames(a).map(function(d){return a[d]});if(c.join("")!=="0123456789")return!1;var l={};return"abcdefghijklmnopqrst".split("").forEach(function(d){l[d]=d}),Object.keys(Object.assign({},l)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return Vm=n()?Object.assign:function(i,a){for(var o,c=r(i),l,d=1;d<arguments.length;d++){o=Object(arguments[d]);for(var f in o)e.call(o,f)&&(c[f]=o[f]);if(s){l=s(o);for(var p=0;p<l.length;p++)t.call(o,l[p])&&(c[l[p]]=o[l[p]])}}return c},Vm}var Im,ab;function Yx(){if(ab)return Im;ab=1;var s="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Im=s,Im}var Rm,ob;function Gx(){return ob||(ob=1,Rm=Function.call.bind(Object.prototype.hasOwnProperty)),Rm}var Om,cb;function GA(){if(cb)return Om;cb=1;var s=function(){};{var e=Yx(),t={},r=Gx();s=function(i){var a="Warning: "+i;typeof console<"u"&&console.error(a);try{throw new Error(a)}catch{}}}function n(i,a,o,c,l){for(var d in i)if(r(i,d)){var f;try{if(typeof i[d]!="function"){var p=Error((c||"React class")+": "+o+" type `"+d+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof i[d]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw p.name="Invariant Violation",p}f=i[d](a,d,c,o,null,e)}catch(b){f=b}if(f&&!(f instanceof Error)&&s((c||"React class")+": type specification of "+o+" `"+d+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof f+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),f instanceof Error&&!(f.message in t)){t[f.message]=!0;var m=l?l():"";s("Failed "+o+" type: "+f.message+(m??""))}}}return n.resetWarningCache=function(){t={}},Om=n,Om}var Fm,lb;function KA(){if(lb)return Fm;lb=1;var s=Hx(),e=YA(),t=Yx(),r=Gx(),n=GA(),i=function(){};i=function(o){var c="Warning: "+o;typeof console<"u"&&console.error(c);try{throw new Error(c)}catch{}};function a(){return null}return Fm=function(o,c){var l=typeof Symbol=="function"&&Symbol.iterator,d="@@iterator";function f(ue){var te=ue&&(l&&ue[l]||ue[d]);if(typeof te=="function")return te}var p="<<anonymous>>",m={array:N("array"),bigint:N("bigint"),bool:N("boolean"),func:N("function"),number:N("number"),object:N("object"),string:N("string"),symbol:N("symbol"),any:w(),arrayOf:j,element:C(),elementType:S(),instanceOf:A,node:R(),objectOf:P,oneOf:U,oneOfType:T,shape:L,exact:F};function b(ue,te){return ue===te?ue!==0||1/ue===1/te:ue!==ue&&te!==te}function y(ue,te){this.message=ue,this.data=te&&typeof te=="object"?te:{},this.stack=""}y.prototype=Error.prototype;function v(ue){var te={},_=0;function q(se,ne,ae,he,me,ge,Pe){if(he=he||p,ge=ge||ae,Pe!==t){if(c){var xe=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw xe.name="Invariant Violation",xe}else if(typeof console<"u"){var Ie=he+":"+ae;!te[Ie]&&_<3&&(i("You are manually calling a React.PropTypes validation function for the `"+ge+"` prop on `"+he+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),te[Ie]=!0,_++)}}return ne[ae]==null?se?ne[ae]===null?new y("The "+me+" `"+ge+"` is marked as required "+("in `"+he+"`, but its value is `null`.")):new y("The "+me+" `"+ge+"` is marked as required in "+("`"+he+"`, but its value is `undefined`.")):null:ue(ne,ae,he,me,ge)}var Y=q.bind(null,!1);return Y.isRequired=q.bind(null,!0),Y}function N(ue){function te(_,q,Y,se,ne,ae){var he=_[q],me=re(he);if(me!==ue){var ge=le(he);return new y("Invalid "+se+" `"+ne+"` of type "+("`"+ge+"` supplied to `"+Y+"`, expected ")+("`"+ue+"`."),{expectedType:ue})}return null}return v(te)}function w(){return v(a)}function j(ue){function te(_,q,Y,se,ne){if(typeof ue!="function")return new y("Property `"+ne+"` of component `"+Y+"` has invalid PropType notation inside arrayOf.");var ae=_[q];if(!Array.isArray(ae)){var he=re(ae);return new y("Invalid "+se+" `"+ne+"` of type "+("`"+he+"` supplied to `"+Y+"`, expected an array."))}for(var me=0;me<ae.length;me++){var ge=ue(ae,me,Y,se,ne+"["+me+"]",t);if(ge instanceof Error)return ge}return null}return v(te)}function C(){function ue(te,_,q,Y,se){var ne=te[_];if(!o(ne)){var ae=re(ne);return new y("Invalid "+Y+" `"+se+"` of type "+("`"+ae+"` supplied to `"+q+"`, expected a single ReactElement."))}return null}return v(ue)}function S(){function ue(te,_,q,Y,se){var ne=te[_];if(!s.isValidElementType(ne)){var ae=re(ne);return new y("Invalid "+Y+" `"+se+"` of type "+("`"+ae+"` supplied to `"+q+"`, expected a single ReactElement type."))}return null}return v(ue)}function A(ue){function te(_,q,Y,se,ne){if(!(_[q]instanceof ue)){var ae=ue.name||p,he=pe(_[q]);return new y("Invalid "+se+" `"+ne+"` of type "+("`"+he+"` supplied to `"+Y+"`, expected ")+("instance of `"+ae+"`."))}return null}return v(te)}function U(ue){if(!Array.isArray(ue))return arguments.length>1?i("Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z])."):i("Invalid argument supplied to oneOf, expected an array."),a;function te(_,q,Y,se,ne){for(var ae=_[q],he=0;he<ue.length;he++)if(b(ae,ue[he]))return null;var me=JSON.stringify(ue,function(Pe,xe){var Ie=le(xe);return Ie==="symbol"?String(xe):xe});return new y("Invalid "+se+" `"+ne+"` of value `"+String(ae)+"` "+("supplied to `"+Y+"`, expected one of "+me+"."))}return v(te)}function P(ue){function te(_,q,Y,se,ne){if(typeof ue!="function")return new y("Property `"+ne+"` of component `"+Y+"` has invalid PropType notation inside objectOf.");var ae=_[q],he=re(ae);if(he!=="object")return new y("Invalid "+se+" `"+ne+"` of type "+("`"+he+"` supplied to `"+Y+"`, expected an object."));for(var me in ae)if(r(ae,me)){var ge=ue(ae,me,Y,se,ne+"."+me,t);if(ge instanceof Error)return ge}return null}return v(te)}function T(ue){if(!Array.isArray(ue))return i("Invalid argument supplied to oneOfType, expected an instance of array."),a;for(var te=0;te<ue.length;te++){var _=ue[te];if(typeof _!="function")return i("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+ee(_)+" at index "+te+"."),a}function q(Y,se,ne,ae,he){for(var me=[],ge=0;ge<ue.length;ge++){var Pe=ue[ge],xe=Pe(Y,se,ne,ae,he,t);if(xe==null)return null;xe.data&&r(xe.data,"expectedType")&&me.push(xe.data.expectedType)}var Ie=me.length>0?", expected one of type ["+me.join(", ")+"]":"";return new y("Invalid "+ae+" `"+he+"` supplied to "+("`"+ne+"`"+Ie+"."))}return v(q)}function R(){function ue(te,_,q,Y,se){return z(te[_])?null:new y("Invalid "+Y+" `"+se+"` supplied to "+("`"+q+"`, expected a ReactNode."))}return v(ue)}function E(ue,te,_,q,Y){return new y((ue||"React class")+": "+te+" type `"+_+"."+q+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+Y+"`.")}function L(ue){function te(_,q,Y,se,ne){var ae=_[q],he=re(ae);if(he!=="object")return new y("Invalid "+se+" `"+ne+"` of type `"+he+"` "+("supplied to `"+Y+"`, expected `object`."));for(var me in ue){var ge=ue[me];if(typeof ge!="function")return E(Y,se,ne,me,le(ge));var Pe=ge(ae,me,Y,se,ne+"."+me,t);if(Pe)return Pe}return null}return v(te)}function F(ue){function te(_,q,Y,se,ne){var ae=_[q],he=re(ae);if(he!=="object")return new y("Invalid "+se+" `"+ne+"` of type `"+he+"` "+("supplied to `"+Y+"`, expected `object`."));var me=e({},_[q],ue);for(var ge in me){var Pe=ue[ge];if(r(ue,ge)&&typeof Pe!="function")return E(Y,se,ne,ge,le(Pe));if(!Pe)return new y("Invalid "+se+" `"+ne+"` key `"+ge+"` supplied to `"+Y+"`.\nBad object: "+JSON.stringify(_[q],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(ue),null,"  "));var xe=Pe(ae,ge,Y,se,ne+"."+ge,t);if(xe)return xe}return null}return v(te)}function z(ue){switch(typeof ue){case"number":case"string":case"undefined":return!0;case"boolean":return!ue;case"object":if(Array.isArray(ue))return ue.every(z);if(ue===null||o(ue))return!0;var te=f(ue);if(te){var _=te.call(ue),q;if(te!==ue.entries){for(;!(q=_.next()).done;)if(!z(q.value))return!1}else for(;!(q=_.next()).done;){var Y=q.value;if(Y&&!z(Y[1]))return!1}}else return!1;return!0;default:return!1}}function Z(ue,te){return ue==="symbol"?!0:te?te["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&te instanceof Symbol:!1}function re(ue){var te=typeof ue;return Array.isArray(ue)?"array":ue instanceof RegExp?"object":Z(te,ue)?"symbol":te}function le(ue){if(typeof ue>"u"||ue===null)return""+ue;var te=re(ue);if(te==="object"){if(ue instanceof Date)return"date";if(ue instanceof RegExp)return"regexp"}return te}function ee(ue){var te=le(ue);switch(te){case"array":case"object":return"an "+te;case"boolean":case"date":case"regexp":return"a "+te;default:return te}}function pe(ue){return!ue.constructor||!ue.constructor.name?p:ue.constructor.name}return m.checkPropTypes=n,m.resetWarningCache=n.resetWarningCache,m.PropTypes=m,m},Fm}var ub;function XA(){if(ub)return Um.exports;ub=1;{var s=Hx(),e=!0;Um.exports=KA()(s.isElement,e)}return Um.exports}var Kx=["input","select","textarea","a[href]","button","[tabindex]:not(slot)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],od=Kx.join(","),Xx=typeof Element>"u",io=Xx?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Vf=!Xx&&Element.prototype.getRootNode?function(s){return s.getRootNode()}:function(s){return s.ownerDocument},Jx=function(e,t,r){var n=Array.prototype.slice.apply(e.querySelectorAll(od));return t&&io.call(e,od)&&n.unshift(e),n=n.filter(r),n},Zx=function s(e,t,r){for(var n=[],i=Array.from(e);i.length;){var a=i.shift();if(a.tagName==="SLOT"){var o=a.assignedElements(),c=o.length?o:a.children,l=s(c,!0,r);r.flatten?n.push.apply(n,l):n.push({scope:a,candidates:l})}else{var d=io.call(a,od);d&&r.filter(a)&&(t||!e.includes(a))&&n.push(a);var f=a.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(a),p=!r.shadowRootFilter||r.shadowRootFilter(a);if(f&&p){var m=s(f===!0?a.children:f.children,!0,r);r.flatten?n.push.apply(n,m):n.push({scope:a,candidates:m})}else i.unshift.apply(i,a.children)}}return n},Qx=function(e,t){return e.tabIndex<0&&(t||/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||e.isContentEditable)&&isNaN(parseInt(e.getAttribute("tabindex"),10))?0:e.tabIndex},JA=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},ev=function(e){return e.tagName==="INPUT"},ZA=function(e){return ev(e)&&e.type==="hidden"},QA=function(e){var t=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return t},e_=function(e,t){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===t)return e[r]},t_=function(e){if(!e.name)return!0;var t=e.form||Vf(e),r=function(o){return t.querySelectorAll('input[type="radio"][name="'+o+'"]')},n;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")n=r(window.CSS.escape(e.name));else try{n=r(e.name)}catch(a){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",a.message),!1}var i=e_(n,e.form);return!i||i===e},s_=function(e){return ev(e)&&e.type==="radio"},r_=function(e){return s_(e)&&!t_(e)},db=function(e){var t=e.getBoundingClientRect(),r=t.width,n=t.height;return r===0&&n===0},n_=function(e,t){var r=t.displayCheck,n=t.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var i=io.call(e,"details>summary:first-of-type"),a=i?e.parentElement:e;if(io.call(a,"details:not([open]) *"))return!0;var o=Vf(e).host,c=o?.ownerDocument.contains(o)||e.ownerDocument.contains(e);if(!r||r==="full"){if(typeof n=="function"){for(var l=e;e;){var d=e.parentElement,f=Vf(e);if(d&&!d.shadowRoot&&n(d)===!0)return db(e);e.assignedSlot?e=e.assignedSlot:!d&&f!==e.ownerDocument?e=f.host:e=d}e=l}if(c)return!e.getClientRects().length}else if(r==="non-zero-area")return db(e);return!1},i_=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(t.tagName==="FIELDSET"&&t.disabled){for(var r=0;r<t.children.length;r++){var n=t.children.item(r);if(n.tagName==="LEGEND")return io.call(t,"fieldset[disabled] *")?!0:!n.contains(e)}return!0}t=t.parentElement}return!1},cd=function(e,t){return!(t.disabled||ZA(t)||n_(t,e)||QA(t)||i_(t))},If=function(e,t){return!(r_(t)||Qx(t)<0||!cd(e,t))},a_=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},o_=function s(e){var t=[],r=[];return e.forEach(function(n,i){var a=!!n.scope,o=a?n.scope:n,c=Qx(o,a),l=a?s(n.candidates):o;c===0?a?t.push.apply(t,l):t.push(o):r.push({documentOrder:i,tabIndex:c,item:n,isScope:a,content:l})}),r.sort(JA).reduce(function(n,i){return i.isScope?n.push.apply(n,i.content):n.push(i.content),n},[]).concat(t)},tv=function(e,t){t=t||{};var r;return t.getShadowRoot?r=Zx([e],t.includeContainer,{filter:If.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:a_}):r=Jx(e,t.includeContainer,If.bind(null,t)),o_(r)},sv=function(e,t){t=t||{};var r;return t.getShadowRoot?r=Zx([e],t.includeContainer,{filter:cd.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):r=Jx(e,t.includeContainer,cd.bind(null,t)),r},$c=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return io.call(e,od)===!1?!1:If(t,e)},c_=Kx.concat("iframe").join(","),qu=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return io.call(e,c_)===!1?!1:cd(t,e)};const l_=Object.freeze(Object.defineProperty({__proto__:null,focusable:sv,isFocusable:qu,isTabbable:$c,tabbable:tv},Symbol.toStringTag,{value:"Module"}));function mb(s,e){var t=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),t.push.apply(t,r)}return t}function fb(s){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?mb(Object(t),!0).forEach(function(r){u_(s,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(t)):mb(Object(t)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(t,r))})}return s}function u_(s,e,t){return e in s?Object.defineProperty(s,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):s[e]=t,s}var hb=(function(){var s=[];return{activateTrap:function(t){if(s.length>0){var r=s[s.length-1];r!==t&&r.pause()}var n=s.indexOf(t);n===-1||s.splice(n,1),s.push(t)},deactivateTrap:function(t){var r=s.indexOf(t);r!==-1&&s.splice(r,1),s.length>0&&s[s.length-1].unpause()}}})(),d_=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},m_=function(e){return e.key==="Escape"||e.key==="Esc"||e.keyCode===27},f_=function(e){return e.key==="Tab"||e.keyCode===9},pb=function(e){return setTimeout(e,0)},gb=function(e,t){var r=-1;return e.every(function(n,i){return t(n)?(r=i,!1):!0}),r},Uc=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return typeof e=="function"?e.apply(void 0,r):e},Eu=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},h_=function(e,t){var r=t?.document||document,n=fb({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0},t),i={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0},a,o=function(A,U,P){return A&&A[U]!==void 0?A[U]:n[P||U]},c=function(A){return i.containerGroups.findIndex(function(U){var P=U.container,T=U.tabbableNodes;return P.contains(A)||T.find(function(R){return R===A})})},l=function(A){var U=n[A];if(typeof U=="function"){for(var P=arguments.length,T=new Array(P>1?P-1:0),R=1;R<P;R++)T[R-1]=arguments[R];U=U.apply(void 0,T)}if(U===!0&&(U=void 0),!U){if(U===void 0||U===!1)return U;throw new Error("`".concat(A,"` was specified but was not a node, or did not return a node"))}var E=U;if(typeof U=="string"&&(E=r.querySelector(U),!E))throw new Error("`".concat(A,"` as selector refers to no known node"));return E},d=function(){var A=l("initialFocus");if(A===!1)return!1;if(A===void 0)if(c(r.activeElement)>=0)A=r.activeElement;else{var U=i.tabbableGroups[0],P=U&&U.firstTabbableNode;A=P||l("fallbackFocus")}if(!A)throw new Error("Your focus-trap needs to have at least one focusable element");return A},f=function(){if(i.containerGroups=i.containers.map(function(A){var U=tv(A,n.tabbableOptions),P=sv(A,n.tabbableOptions);return{container:A,tabbableNodes:U,focusableNodes:P,firstTabbableNode:U.length>0?U[0]:null,lastTabbableNode:U.length>0?U[U.length-1]:null,nextTabbableNode:function(R){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,L=P.findIndex(function(F){return F===R});if(!(L<0))return E?P.slice(L+1).find(function(F){return $c(F,n.tabbableOptions)}):P.slice(0,L).reverse().find(function(F){return $c(F,n.tabbableOptions)})}}}),i.tabbableGroups=i.containerGroups.filter(function(A){return A.tabbableNodes.length>0}),i.tabbableGroups.length<=0&&!l("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")},p=function S(A){if(A!==!1&&A!==r.activeElement){if(!A||!A.focus){S(d());return}A.focus({preventScroll:!!n.preventScroll}),i.mostRecentlyFocusedNode=A,d_(A)&&A.select()}},m=function(A){var U=l("setReturnFocus",A);return U||(U===!1?!1:A)},b=function(A){var U=Eu(A);if(!(c(U)>=0)){if(Uc(n.clickOutsideDeactivates,A)){a.deactivate({returnFocus:n.returnFocusOnDeactivate&&!qu(U,n.tabbableOptions)});return}Uc(n.allowOutsideClick,A)||A.preventDefault()}},y=function(A){var U=Eu(A),P=c(U)>=0;P||U instanceof Document?P&&(i.mostRecentlyFocusedNode=U):(A.stopImmediatePropagation(),p(i.mostRecentlyFocusedNode||d()))},v=function(A){var U=Eu(A);f();var P=null;if(i.tabbableGroups.length>0){var T=c(U),R=T>=0?i.containerGroups[T]:void 0;if(T<0)A.shiftKey?P=i.tabbableGroups[i.tabbableGroups.length-1].lastTabbableNode:P=i.tabbableGroups[0].firstTabbableNode;else if(A.shiftKey){var E=gb(i.tabbableGroups,function(le){var ee=le.firstTabbableNode;return U===ee});if(E<0&&(R.container===U||qu(U,n.tabbableOptions)&&!$c(U,n.tabbableOptions)&&!R.nextTabbableNode(U,!1))&&(E=T),E>=0){var L=E===0?i.tabbableGroups.length-1:E-1,F=i.tabbableGroups[L];P=F.lastTabbableNode}}else{var z=gb(i.tabbableGroups,function(le){var ee=le.lastTabbableNode;return U===ee});if(z<0&&(R.container===U||qu(U,n.tabbableOptions)&&!$c(U,n.tabbableOptions)&&!R.nextTabbableNode(U))&&(z=T),z>=0){var Z=z===i.tabbableGroups.length-1?0:z+1,re=i.tabbableGroups[Z];P=re.firstTabbableNode}}}else P=l("fallbackFocus");P&&(A.preventDefault(),p(P))},N=function(A){if(m_(A)&&Uc(n.escapeDeactivates,A)!==!1){A.preventDefault(),a.deactivate();return}if(f_(A)){v(A);return}},w=function(A){var U=Eu(A);c(U)>=0||Uc(n.clickOutsideDeactivates,A)||Uc(n.allowOutsideClick,A)||(A.preventDefault(),A.stopImmediatePropagation())},j=function(){if(i.active)return hb.activateTrap(a),i.delayInitialFocusTimer=n.delayInitialFocus?pb(function(){p(d())}):p(d()),r.addEventListener("focusin",y,!0),r.addEventListener("mousedown",b,{capture:!0,passive:!1}),r.addEventListener("touchstart",b,{capture:!0,passive:!1}),r.addEventListener("click",w,{capture:!0,passive:!1}),r.addEventListener("keydown",N,{capture:!0,passive:!1}),a},C=function(){if(i.active)return r.removeEventListener("focusin",y,!0),r.removeEventListener("mousedown",b,!0),r.removeEventListener("touchstart",b,!0),r.removeEventListener("click",w,!0),r.removeEventListener("keydown",N,!0),a};return a={get active(){return i.active},get paused(){return i.paused},activate:function(A){if(i.active)return this;var U=o(A,"onActivate"),P=o(A,"onPostActivate"),T=o(A,"checkCanFocusTrap");T||f(),i.active=!0,i.paused=!1,i.nodeFocusedBeforeActivation=r.activeElement,U&&U();var R=function(){T&&f(),j(),P&&P()};return T?(T(i.containers.concat()).then(R,R),this):(R(),this)},deactivate:function(A){if(!i.active)return this;var U=fb({onDeactivate:n.onDeactivate,onPostDeactivate:n.onPostDeactivate,checkCanReturnFocus:n.checkCanReturnFocus},A);clearTimeout(i.delayInitialFocusTimer),i.delayInitialFocusTimer=void 0,C(),i.active=!1,i.paused=!1,hb.deactivateTrap(a);var P=o(U,"onDeactivate"),T=o(U,"onPostDeactivate"),R=o(U,"checkCanReturnFocus"),E=o(U,"returnFocus","returnFocusOnDeactivate");P&&P();var L=function(){pb(function(){E&&p(m(i.nodeFocusedBeforeActivation)),T&&T()})};return E&&R?(R(m(i.nodeFocusedBeforeActivation)).then(L,L),this):(L(),this)},pause:function(){return i.paused||!i.active?this:(i.paused=!0,C(),this)},unpause:function(){return!i.paused||!i.active?this:(i.paused=!1,f(),j(),this)},updateContainerElements:function(A){var U=[].concat(A).filter(Boolean);return i.containers=U.map(function(P){return typeof P=="string"?r.querySelector(P):P}),i.active&&f(),this}},a.updateContainerElements(e),a};const p_=Object.freeze(Object.defineProperty({__proto__:null,createFocusTrap:h_},Symbol.toStringTag,{value:"Module"})),g_=My(p_),b_=My(l_);var Bm,bb;function y_(){if(bb)return Bm;bb=1;function s(C){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},s(C)}function e(C,S){if(!(C instanceof S))throw new TypeError("Cannot call a class as a function")}function t(C,S){for(var A=0;A<S.length;A++){var U=S[A];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(C,U.key,U)}}function r(C,S,A){return S&&t(C.prototype,S),Object.defineProperty(C,"prototype",{writable:!1}),C}function n(C,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(S&&S.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),Object.defineProperty(C,"prototype",{writable:!1}),S&&i(C,S)}function i(C,S){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(U,P){return U.__proto__=P,U},i(C,S)}function a(C){var S=l();return function(){var U=d(C),P;if(S){var T=d(this).constructor;P=Reflect.construct(U,arguments,T)}else P=U.apply(this,arguments);return o(this,P)}}function o(C,S){if(S&&(s(S)==="object"||typeof S=="function"))return S;if(S!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c(C)}function c(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}function l(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function d(C){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(A){return A.__proto__||Object.getPrototypeOf(A)},d(C)}function f(C,S,A){return S in C?Object.defineProperty(C,S,{value:A,enumerable:!0,configurable:!0,writable:!0}):C[S]=A,C}var p=Ty(),m=XA(),b=g_,y=b.createFocusTrap,v=b_,N=v.isFocusable,w=(function(C){n(A,C);var S=a(A);function A(U){var P;e(this,A),P=S.call(this,U),f(c(P),"getNodeForOption",function(E){var L,F=(L=this.internalOptions[E])!==null&&L!==void 0?L:this.originalOptions[E];if(typeof F=="function"){for(var z=arguments.length,Z=new Array(z>1?z-1:0),re=1;re<z;re++)Z[re-1]=arguments[re];F=F.apply(void 0,Z)}if(F===!0&&(F=void 0),!F){if(F===void 0||F===!1)return F;throw new Error("`".concat(E,"` was specified but was not a node, or did not return a node"))}var le=F;if(typeof F=="string"){var ee;if(le=(ee=this.getDocument())===null||ee===void 0?void 0:ee.querySelector(F),!le)throw new Error("`".concat(E,"` as selector refers to no known node"))}return le}),P.handleDeactivate=P.handleDeactivate.bind(c(P)),P.handlePostDeactivate=P.handlePostDeactivate.bind(c(P)),P.handleClickOutsideDeactivates=P.handleClickOutsideDeactivates.bind(c(P)),P.internalOptions={returnFocusOnDeactivate:!1,checkCanReturnFocus:null,onDeactivate:P.handleDeactivate,onPostDeactivate:P.handlePostDeactivate,clickOutsideDeactivates:P.handleClickOutsideDeactivates},P.originalOptions={returnFocusOnDeactivate:!0,onDeactivate:null,onPostDeactivate:null,checkCanReturnFocus:null,clickOutsideDeactivates:!1};var T=U.focusTrapOptions;for(var R in T)if(Object.prototype.hasOwnProperty.call(T,R)){if(R==="returnFocusOnDeactivate"||R==="onDeactivate"||R==="onPostDeactivate"||R==="checkCanReturnFocus"||R==="clickOutsideDeactivates"){P.originalOptions[R]=T[R];continue}P.internalOptions[R]=T[R]}return P.outsideClick=null,P.focusTrapElements=U.containerElements||[],P.updatePreviousElement(),P}return r(A,[{key:"getDocument",value:function(){return this.props.focusTrapOptions.document||(typeof document<"u"?document:void 0)}},{key:"getReturnFocusNode",value:function(){var P=this.getNodeForOption("setReturnFocus",this.previouslyFocusedElement);return P||(P===!1?!1:this.previouslyFocusedElement)}},{key:"updatePreviousElement",value:function(){var P=this.getDocument();P&&(this.previouslyFocusedElement=P.activeElement)}},{key:"deactivateTrap",value:function(){!this.focusTrap||!this.focusTrap.active||this.focusTrap.deactivate({returnFocus:!1,checkCanReturnFocus:null,onDeactivate:this.originalOptions.onDeactivate})}},{key:"handleClickOutsideDeactivates",value:function(P){var T=typeof this.originalOptions.clickOutsideDeactivates=="function"?this.originalOptions.clickOutsideDeactivates.call(null,P):this.originalOptions.clickOutsideDeactivates;return T&&(this.outsideClick={target:P.target,allowDeactivation:T}),T}},{key:"handleDeactivate",value:function(){this.originalOptions.onDeactivate&&this.originalOptions.onDeactivate.call(null),this.deactivateTrap()}},{key:"handlePostDeactivate",value:function(){var P=this,T=function(){var E=P.getReturnFocusNode(),L=!!(P.originalOptions.returnFocusOnDeactivate&&E!==null&&E!==void 0&&E.focus&&(!P.outsideClick||P.outsideClick.allowDeactivation&&!N(P.outsideClick.target,P.internalOptions.tabbableOptions))),F=P.internalOptions.preventScroll,z=F===void 0?!1:F;L&&E.focus({preventScroll:z}),P.originalOptions.onPostDeactivate&&P.originalOptions.onPostDeactivate.call(null),P.outsideClick=null};this.originalOptions.checkCanReturnFocus?this.originalOptions.checkCanReturnFocus.call(null,this.getReturnFocusNode()).then(T,T):T()}},{key:"setupFocusTrap",value:function(){if(this.focusTrap)this.props.active&&!this.focusTrap.active&&(this.focusTrap.activate(),this.props.paused&&this.focusTrap.pause());else{var P=this.focusTrapElements.some(Boolean);P&&(this.focusTrap=this.props._createFocusTrap(this.focusTrapElements,this.internalOptions),this.props.active&&this.focusTrap.activate(),this.props.paused&&this.focusTrap.pause())}}},{key:"componentDidMount",value:function(){this.props.active&&this.setupFocusTrap()}},{key:"componentDidUpdate",value:function(P){if(this.focusTrap){P.containerElements!==this.props.containerElements&&this.focusTrap.updateContainerElements(this.props.containerElements);var T=!P.active&&this.props.active,R=P.active&&!this.props.active,E=!P.paused&&this.props.paused,L=P.paused&&!this.props.paused;if(T&&(this.updatePreviousElement(),this.focusTrap.activate()),R){this.deactivateTrap();return}E&&this.focusTrap.pause(),L&&this.focusTrap.unpause()}else P.containerElements!==this.props.containerElements&&(this.focusTrapElements=this.props.containerElements),this.props.active&&(this.updatePreviousElement(),this.setupFocusTrap())}},{key:"componentWillUnmount",value:function(){this.deactivateTrap()}},{key:"render",value:function(){var P=this,T=this.props.children?p.Children.only(this.props.children):void 0;if(T){if(T.type&&T.type===p.Fragment)throw new Error("A focus-trap cannot use a Fragment as its child container. Try replacing it with a <div> element.");var R=function(F){var z=P.props.containerElements;T&&(typeof T.ref=="function"?T.ref(F):T.ref&&(T.ref.current=F)),P.focusTrapElements=z||[F]},E=p.cloneElement(T,{ref:R});return E}return null}}]),A})(p.Component),j=typeof Element>"u"?Function:Element;return w.propTypes={active:m.bool,paused:m.bool,focusTrapOptions:m.shape({document:m.object,onActivate:m.func,onPostActivate:m.func,checkCanFocusTrap:m.func,onDeactivate:m.func,onPostDeactivate:m.func,checkCanReturnFocus:m.func,initialFocus:m.oneOfType([m.instanceOf(j),m.string,m.bool,m.func]),fallbackFocus:m.oneOfType([m.instanceOf(j),m.string,m.func]),escapeDeactivates:m.oneOfType([m.bool,m.func]),clickOutsideDeactivates:m.oneOfType([m.bool,m.func]),returnFocusOnDeactivate:m.bool,setReturnFocus:m.oneOfType([m.instanceOf(j),m.string,m.bool,m.func]),allowOutsideClick:m.oneOfType([m.bool,m.func]),preventScroll:m.bool,tabbableOptions:m.shape({displayCheck:m.oneOf(["full","non-zero-area","none"]),getShadowRoot:m.oneOfType([m.bool,m.func])})}),containerElements:m.arrayOf(m.instanceOf(j)),children:m.oneOfType([m.element,m.instanceOf(j)])},w.defaultProps={active:!0,paused:!1,focusTrapOptions:{},_createFocusTrap:y},Bm=w,Bm}y_();const rv="pain-tracker:alerts-log";function x_(){try{const s=localStorage.getItem(rv);return s?JSON.parse(s):[]}catch{return[]}}function v_(s){try{const e=x_();e.unshift(s),localStorage.setItem(rv,JSON.stringify(e.slice(0,50))),window.dispatchEvent(new Event("alerts-log-updated"))}catch{}}const N_=(s,e)=>{for(let t=1;t<s.length;t++)if(s[t]-s[t-1]>=e)return t;return-1},k_=(s,e,t)=>{for(let r=e;r<s.length;r++){const n=s.slice(r-e,r).reduce((i,a)=>i+a,0)/e;if(s[r]-n>=t)return r}return-1},w_=(s,e)=>{const t=s.reduce((n,i)=>n+i,0)/s.length,r=Math.sqrt(s.reduce((n,i)=>n+Math.pow(i-t,2),0)/s.length);for(let n=0;n<s.length;n++)if(Math.abs(s[n]-t)/r>=e)return n;return-1},D_="pain-tracker:alerts-settings",P_="pain-tracker:notification-consent";function C_(s){const e=$.useRef(new Set);$.useEffect(()=>{try{const t=localStorage.getItem(D_),r=t?JSON.parse(t):{threshold:3},n=localStorage.getItem(P_),i=s.map(c=>c.pain),a=[c=>N_(c,r.threshold),c=>k_(c,3,1),c=>w_(c,2)];let o=-1;for(const c of a){const l=c(i);if(l>=0){o=l;break}}if(o>=0&&!e.current.has(o)){e.current.add(o);const c=`Sudden pain increase to ${i[o]} (entry ${o+1})`;try{v_({id:`${Date.now()}-${Math.random().toString(36).slice(2,7)}`,time:new Date().toISOString(),message:c}),window.dispatchEvent(new Event("alerts-log-updated"))}catch{}n==="granted"&&typeof Notification<"u"?new Notification("Pain pattern detected",{body:c}):console.debug("Pattern alert suppressed (no consent)")}}catch(t){console.debug("usePatternAlerts: error",t)}},[s])}function j_(){const[s,e]=$.useState(navigator.onLine);return $.useEffect(()=>{const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t),window.addEventListener("offline",r),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}},[]),s?null:u.jsxDEV("div",{className:"bg-orange-500 text-white px-4 py-2",children:u.jsxDEV("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[u.jsxDEV("div",{className:"flex items-center space-x-2",children:[u.jsxDEV(b5,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/OfflineIndicator.tsx",lineNumber:92,columnNumber:11},this),u.jsxDEV("div",{children:[u.jsxDEV("p",{className:"font-medium",children:"You're currently offline"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/OfflineIndicator.tsx",lineNumber:94,columnNumber:13},this),u.jsxDEV("p",{className:"text-xs opacity-90",children:"Your data is saved locally and will sync when you're back online"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/OfflineIndicator.tsx",lineNumber:95,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/OfflineIndicator.tsx",lineNumber:93,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/OfflineIndicator.tsx",lineNumber:91,columnNumber:9},this),u.jsxDEV("button",{onClick:()=>window.location.reload(),className:"flex items-center space-x-1 px-3 py-1 bg-white/20 hover:bg-white/30 rounded-md transition-colors",children:[u.jsxDEV(cw,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/OfflineIndicator.tsx",lineNumber:105,columnNumber:11},this),u.jsxDEV("span",{className:"text-xs",children:"Retry"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/OfflineIndicator.tsx",lineNumber:106,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/OfflineIndicator.tsx",lineNumber:101,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/OfflineIndicator.tsx",lineNumber:90,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/OfflineIndicator.tsx",lineNumber:89,columnNumber:5},this)}function E_({size:s=24,className:e="",color:t=Mt.colors.primary[500]}){return u.jsxDEV("svg",{width:s,height:s,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:[u.jsxDEV("circle",{cx:"24",cy:"24",r:"22",fill:t},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLogo.tsx",lineNumber:154,columnNumber:7},this),u.jsxDEV("rect",{x:"19",y:"10",width:"10",height:"28",rx:"3",fill:"white"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLogo.tsx",lineNumber:157,columnNumber:7},this),u.jsxDEV("rect",{x:"10",y:"19",width:"28",height:"10",rx:"3",fill:"white"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLogo.tsx",lineNumber:158,columnNumber:7},this),u.jsxDEV("path",{d:"M8 32 Q12 26 16 32 T24 28 Q28 24 32 28 T40 30",stroke:Mt.colors.secondary[500],strokeWidth:"4",fill:"none",strokeLinecap:"round"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLogo.tsx",lineNumber:161,columnNumber:7},this),u.jsxDEV("circle",{cx:"36",cy:"12",r:"3",fill:Mt.colors.accent[500]},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLogo.tsx",lineNumber:170,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLogo.tsx",lineNumber:145,columnNumber:5},this)}function S_({message:s="Loading Pain Tracker Pro...",progress:e,showProgress:t=!1,className:r=""}){const[n,i]=$.useState(0);return $.useEffect(()=>{if(e!==void 0){const a=setTimeout(()=>{i(e)},100);return()=>clearTimeout(a)}},[e]),u.jsxDEV("div",{className:`min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-green-50 ${r}`,children:u.jsxDEV("div",{className:"text-center space-y-8",children:[u.jsxDEV("div",{className:"relative",children:[u.jsxDEV("div",{className:"animate-pulse",children:u.jsxDEV(E_,{size:96,className:"mx-auto"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:34,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:33,columnNumber:11},this),u.jsxDEV("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsxDEV("div",{className:"w-24 h-24 rounded-full border-4 border-blue-200 animate-ping opacity-75"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:39,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:38,columnNumber:11},this),u.jsxDEV("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsxDEV("div",{className:"w-32 h-32 rounded-full border-2 border-green-200 animate-ping opacity-50 animation-delay-150"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:42,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:41,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:32,columnNumber:9},this),u.jsxDEV("div",{className:"space-y-2",children:[u.jsxDEV("h1",{className:"text-3xl font-bold text-slate-900",children:["Pain Tracker",u.jsxDEV("span",{className:"inline-flex items-center ml-2 px-2 py-1 rounded-full text-xs bg-gradient-to-r from-purple-600 to-blue-600 text-white font-semibold",children:"PRO"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:50,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:48,columnNumber:11},this),u.jsxDEV("p",{className:"text-slate-600 font-medium",children:"AI-Powered Pain Management"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:54,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:47,columnNumber:9},this),u.jsxDEV("div",{className:"space-y-4",children:[u.jsxDEV("p",{className:"text-slate-700 font-medium",children:s},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:59,columnNumber:11},this),t&&u.jsxDEV("div",{className:"w-64 mx-auto",children:[u.jsxDEV("div",{className:"flex justify-between text-sm text-slate-600 mb-2",children:[u.jsxDEV("span",{children:"Loading..."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:65,columnNumber:17},this),u.jsxDEV("span",{children:[Math.round(n),"%"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:66,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:64,columnNumber:15},this),u.jsxDEV("div",{className:"w-full bg-slate-200 rounded-full h-2 overflow-hidden",children:u.jsxDEV("div",{className:"h-full bg-gradient-to-r from-blue-500 to-green-500 rounded-full transition-all duration-500 ease-out",style:{width:`${n}%`}},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:69,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:68,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:63,columnNumber:13},this),!t&&u.jsxDEV("div",{className:"flex items-center justify-center space-x-2",children:[u.jsxDEV("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:80,columnNumber:15},this),u.jsxDEV("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-bounce animation-delay-100"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:81,columnNumber:15},this),u.jsxDEV("div",{className:"w-2 h-2 bg-purple-500 rounded-full animate-bounce animation-delay-200"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:82,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:79,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:58,columnNumber:9},this),u.jsxDEV("div",{className:"grid grid-cols-3 gap-4 text-xs text-slate-600 max-w-md mx-auto",children:[u.jsxDEV("div",{className:"text-center space-y-1",children:[u.jsxDEV("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mx-auto",children:u.jsxDEV("svg",{className:"w-4 h-4 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsxDEV("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:92,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:91,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:90,columnNumber:13},this),u.jsxDEV("span",{children:"FHIR Compliant"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:95,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:89,columnNumber:11},this),u.jsxDEV("div",{className:"text-center space-y-1",children:[u.jsxDEV("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:u.jsxDEV("svg",{className:"w-4 h-4 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsxDEV("path",{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3z"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:100,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:99,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:98,columnNumber:13},this),u.jsxDEV("span",{children:"AI Analytics"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:103,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:97,columnNumber:11},this),u.jsxDEV("div",{className:"text-center space-y-1",children:[u.jsxDEV("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center mx-auto",children:u.jsxDEV("svg",{className:"w-4 h-4 text-purple-600",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsxDEV("path",{d:"M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:108,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:107,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:106,columnNumber:13},this),u.jsxDEV("span",{children:"Offline Ready"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:111,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:105,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:88,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:30,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:29,columnNumber:5},this)}const A_=`
.animation-delay-100 {
  animation-delay: 0.1s;
}
.animation-delay-150 {
  animation-delay: 0.15s;
}
.animation-delay-200 {
  animation-delay: 0.2s;
}
`;if(typeof document<"u"){const s=document.createElement("style");s.textContent=A_,document.head.appendChild(s)}function __(){const{context:s,forceState:e,preferences:t,updatePreferences:r}=Sh(),[n,i]=$.useState(!1),a=$.useCallback(()=>{i(c=>!c)},[]);if($.useEffect(()=>{const c=l=>{const d=l.target,f=d.tagName==="INPUT"||d.tagName==="TEXTAREA"||d.isContentEditable;if(l.key==="t"&&(l.ctrlKey||l.metaKey))l.preventDefault(),a();else if(l.key==="Escape"&&n)i(!1);else if(n&&!f&&["1","2","3","4"].includes(l.key)){const p=["stable","rising","flare","recovery"],m=parseInt(l.key)-1;p[m]&&e(p[m])}};return window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c)},[n,a,e]),!n)return u.jsxDEV("button",{onClick:a,className:"fixed bottom-24 right-4 z-50 px-3 py-2 bg-purple-600/90 hover:bg-purple-500 text-white text-xs rounded-lg shadow-lg hover:shadow-xl transition-all hover:scale-105 backdrop-blur-sm","aria-label":"Show tone state tester (Ctrl+T)",title:"Tone Tester (Ctrl+T)",children:"ðŸŽ­ Tone Tester"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:66,columnNumber:7},this);const o=[{state:"stable",emoji:"ðŸ˜Œ",description:"Brief, upbeat, professional-warm",key:"1"},{state:"rising",emoji:"ðŸ˜Ÿ",description:"Steady, specific, encouraging",key:"2"},{state:"flare",emoji:"ðŸ˜£",description:"Short lines, imperative, slow cadence",key:"3"},{state:"recovery",emoji:"ðŸ™‚",description:"Warm, factual, no cheerleading",key:"4"}];return u.jsxDEV("div",{className:"fixed bottom-4 left-4 z-50 bg-gray-900 text-white p-4 rounded-lg shadow-2xl max-w-md max-h-[85vh] overflow-y-auto border-2 border-purple-600 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[u.jsxDEV("div",{className:"flex items-center justify-between mb-3 sticky top-0 bg-gray-900 pb-2 border-b border-gray-700 z-10",children:[u.jsxDEV("h3",{className:"text-sm font-bold text-purple-400",children:"ðŸŽ­ Tone State Tester"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:87,columnNumber:9},this),u.jsxDEV("button",{onClick:()=>i(!1),className:"text-gray-400 hover:text-white text-xl leading-none px-2 py-1 rounded hover:bg-gray-800 transition-colors","aria-label":"Minimize tone state tester (Esc)",title:"Minimize (Esc)",children:"Ã—"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:88,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:86,columnNumber:7},this),u.jsxDEV("div",{className:"mb-3 p-2 bg-purple-900/30 rounded border border-purple-700/50 text-xs text-purple-300",children:[u.jsxDEV("div",{className:"font-bold mb-1",children:"âŒ¨ï¸ Shortcuts:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:100,columnNumber:9},this),u.jsxDEV("div",{className:"space-y-0.5 text-purple-200",children:[u.jsxDEV("div",{children:[u.jsxDEV("kbd",{className:"px-1 py-0.5 bg-gray-800 rounded text-xs",children:"Ctrl+T"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:102,columnNumber:16},this)," Toggle panel"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:102,columnNumber:11},this),u.jsxDEV("div",{children:[u.jsxDEV("kbd",{className:"px-1 py-0.5 bg-gray-800 rounded text-xs",children:"Esc"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:103,columnNumber:16},this)," Minimize"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:103,columnNumber:11},this),u.jsxDEV("div",{children:[u.jsxDEV("kbd",{className:"px-1 py-0.5 bg-gray-800 rounded text-xs",children:"1-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:104,columnNumber:16},this)," Force states"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:104,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:101,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:99,columnNumber:7},this),u.jsxDEV("div",{className:"mb-3 p-2 bg-gray-800 rounded border border-gray-700",children:[u.jsxDEV("div",{className:"text-xs text-gray-400 mb-1",children:"Current State:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:110,columnNumber:9},this),u.jsxDEV("div",{className:"text-sm font-mono font-bold text-purple-300",children:s.state.toUpperCase()},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:111,columnNumber:9},this),s.painTrend&&u.jsxDEV("div",{className:"text-xs text-gray-400 mt-1",children:["Pain: ",s.painTrend.current.toFixed(1)," (",s.painTrend.direction==="up"?"â†‘":s.painTrend.direction==="down"?"â†“":"â†’",")"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:113,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:109,columnNumber:7},this),u.jsxDEV("div",{className:"space-y-2 mb-3",children:[u.jsxDEV("div",{className:"text-xs text-gray-400 mb-2",children:"Force State:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:121,columnNumber:9},this),o.map(({state:c,emoji:l,description:d,key:f})=>u.jsxDEV("button",{onClick:()=>e(c),className:`w-full px-3 py-2 text-left text-xs rounded transition-all ${s.state===c?"bg-purple-600 text-white shadow-md":"bg-gray-800 hover:bg-gray-700 text-gray-300"}`,children:[u.jsxDEV("div",{className:"flex items-center justify-between",children:[u.jsxDEV("div",{children:[u.jsxDEV("span",{className:"mr-2",children:l},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:134,columnNumber:17},this),u.jsxDEV("span",{className:"font-bold",children:c},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:135,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:133,columnNumber:15},this),u.jsxDEV("kbd",{className:"px-1.5 py-0.5 bg-gray-700 rounded text-xs",children:f},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:137,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:132,columnNumber:13},this),u.jsxDEV("div",{className:"text-xs opacity-70 mt-1",children:d},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:139,columnNumber:13},this)]},c,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:123,columnNumber:11},this))]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:120,columnNumber:7},this),u.jsxDEV("div",{className:"border-t border-gray-700 pt-3 space-y-2",children:[u.jsxDEV("div",{className:"text-xs text-gray-400 mb-2",children:"Preferences:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:146,columnNumber:9},this),u.jsxDEV("label",{className:"flex items-center justify-between text-xs cursor-pointer hover:bg-gray-800 p-1 rounded transition-colors",children:[u.jsxDEV("span",{children:"Warmth"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:149,columnNumber:11},this),u.jsxDEV("select",{value:t.warmth,onChange:c=>r({warmth:Number(c.target.value)}),className:"bg-gray-800 border border-gray-700 rounded px-2 py-1 text-xs hover:border-purple-600 transition-colors",children:[u.jsxDEV("option",{value:"0",children:"Neutral"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:155,columnNumber:13},this),u.jsxDEV("option",{value:"1",children:"Warm"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:156,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:150,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:148,columnNumber:9},this),u.jsxDEV("label",{className:"flex items-center justify-between text-xs cursor-pointer hover:bg-gray-800 p-1 rounded transition-colors",children:[u.jsxDEV("span",{children:"Coach Intensity"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:161,columnNumber:11},this),u.jsxDEV("select",{value:t.coachIntensity,onChange:c=>r({coachIntensity:Number(c.target.value)}),className:"bg-gray-800 border border-gray-700 rounded px-2 py-1 text-xs hover:border-purple-600 transition-colors",children:[u.jsxDEV("option",{value:"0",children:"Minimal"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:167,columnNumber:13},this),u.jsxDEV("option",{value:"1",children:"Guided"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:168,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:162,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:160,columnNumber:9},this),u.jsxDEV("label",{className:"flex items-center justify-between text-xs cursor-pointer hover:bg-gray-800 p-1 rounded transition-colors",children:[u.jsxDEV("span",{children:"Medical Terms"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:173,columnNumber:11},this),u.jsxDEV("input",{type:"checkbox",checked:t.medicalTerms,onChange:c=>r({medicalTerms:c.target.checked}),className:"bg-gray-800 border border-gray-700 rounded"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:174,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:172,columnNumber:9},this),u.jsxDEV("label",{className:"flex items-center justify-between text-xs cursor-pointer hover:bg-gray-800 p-1 rounded transition-colors",children:[u.jsxDEV("span",{children:"Allow Lightness"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:183,columnNumber:11},this),u.jsxDEV("input",{type:"checkbox",checked:t.allowLightness,onChange:c=>r({allowLightness:c.target.checked}),className:"bg-gray-800 border border-gray-700 rounded"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:184,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:182,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:145,columnNumber:7},this),u.jsxDEV("div",{className:"border-t border-gray-700 pt-3 mt-3",children:u.jsxDEV("div",{className:"text-xs text-gray-400 space-y-1",children:[u.jsxDEV("div",{className:"font-bold mb-1",children:"Test Areas:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:196,columnNumber:11},this),u.jsxDEV("div",{children:"â€¢ QuickLogStepper: Pain slider, locations, notes"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:197,columnNumber:11},this),u.jsxDEV("div",{children:"â€¢ PanicMode: Greeting, breathing, crisis text"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:198,columnNumber:11},this),u.jsxDEV("div",{children:"â€¢ Dashboard: Empty states, insights"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:199,columnNumber:11},this),u.jsxDEV("div",{children:"â€¢ Analytics: Progress summaries"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:200,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:195,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:194,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:85,columnNumber:5},this)}function os(s){"@babel/helpers - typeof";return os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},os(s)}var _n=Uint8Array,ln=Uint16Array,Lh=Int32Array,Th=new _n([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Uh=new _n([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),yb=new _n([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),nv=function(s,e){for(var t=new ln(31),r=0;r<31;++r)t[r]=e+=1<<s[r-1];for(var n=new Lh(t[30]),r=1;r<30;++r)for(var i=t[r];i<t[r+1];++i)n[i]=i-t[r]<<5|r;return{b:t,r:n}},iv=nv(Th,2),L_=iv.b,Rf=iv.r;L_[28]=258,Rf[258]=28;var T_=nv(Uh,0),xb=T_.r,Of=new ln(32768);for(var vs=0;vs<32768;++vs){var Hi=(vs&43690)>>1|(vs&21845)<<1;Hi=(Hi&52428)>>2|(Hi&13107)<<2,Hi=(Hi&61680)>>4|(Hi&3855)<<4,Of[vs]=((Hi&65280)>>8|(Hi&255)<<8)>>1}var Jc=(function(s,e,t){for(var r=s.length,n=0,i=new ln(e);n<r;++n)s[n]&&++i[s[n]-1];var a=new ln(e);for(n=1;n<e;++n)a[n]=a[n-1]+i[n-1]<<1;var o;if(t){o=new ln(1<<e);var c=15-e;for(n=0;n<r;++n)if(s[n])for(var l=n<<4|s[n],d=e-s[n],f=a[s[n]-1]++<<d,p=f|(1<<d)-1;f<=p;++f)o[Of[f]>>c]=l}else for(o=new ln(r),n=0;n<r;++n)s[n]&&(o[n]=Of[a[s[n]-1]++]>>15-s[n]);return o}),ao=new _n(288);for(var vs=0;vs<144;++vs)ao[vs]=8;for(var vs=144;vs<256;++vs)ao[vs]=9;for(var vs=256;vs<280;++vs)ao[vs]=7;for(var vs=280;vs<288;++vs)ao[vs]=8;var ld=new _n(32);for(var vs=0;vs<32;++vs)ld[vs]=5;var U_=Jc(ao,9,0),M_=Jc(ld,5,0),av=function(s){return(s+7)/8|0},V_=function(s,e,t){return(t==null||t>s.length)&&(t=s.length),new _n(s.subarray(e,t))},fi=function(s,e,t){t<<=e&7;var r=e/8|0;s[r]|=t,s[r+1]|=t>>8},Mc=function(s,e,t){t<<=e&7;var r=e/8|0;s[r]|=t,s[r+1]|=t>>8,s[r+2]|=t>>16},zm=function(s,e){for(var t=[],r=0;r<s.length;++r)s[r]&&t.push({s:r,f:s[r]});var n=t.length,i=t.slice();if(!n)return{t:cv,l:0};if(n==1){var a=new _n(t[0].s+1);return a[t[0].s]=1,{t:a,l:1}}t.sort(function(S,A){return S.f-A.f}),t.push({s:-1,f:25001});var o=t[0],c=t[1],l=0,d=1,f=2;for(t[0]={s:-1,f:o.f+c.f,l:o,r:c};d!=n-1;)o=t[t[l].f<t[f].f?l++:f++],c=t[l!=d&&t[l].f<t[f].f?l++:f++],t[d++]={s:-1,f:o.f+c.f,l:o,r:c};for(var p=i[0].s,r=1;r<n;++r)i[r].s>p&&(p=i[r].s);var m=new ln(p+1),b=Ff(t[d-1],m,0);if(b>e){var r=0,y=0,v=b-e,N=1<<v;for(i.sort(function(A,U){return m[U.s]-m[A.s]||A.f-U.f});r<n;++r){var w=i[r].s;if(m[w]>e)y+=N-(1<<b-m[w]),m[w]=e;else break}for(y>>=v;y>0;){var j=i[r].s;m[j]<e?y-=1<<e-m[j]++-1:++r}for(;r>=0&&y;--r){var C=i[r].s;m[C]==e&&(--m[C],++y)}b=e}return{t:new _n(m),l:b}},Ff=function(s,e,t){return s.s==-1?Math.max(Ff(s.l,e,t+1),Ff(s.r,e,t+1)):e[s.s]=t},vb=function(s){for(var e=s.length;e&&!s[--e];);for(var t=new ln(++e),r=0,n=s[0],i=1,a=function(c){t[r++]=c},o=1;o<=e;++o)if(s[o]==n&&o!=e)++i;else{if(!n&&i>2){for(;i>138;i-=138)a(32754);i>2&&(a(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(a(n),--i;i>6;i-=6)a(8304);i>2&&(a(i-3<<5|8208),i=0)}for(;i--;)a(n);i=1,n=s[o]}return{c:t.subarray(0,r),n:e}},Vc=function(s,e){for(var t=0,r=0;r<e.length;++r)t+=s[r]*e[r];return t},ov=function(s,e,t){var r=t.length,n=av(e+2);s[n]=r&255,s[n+1]=r>>8,s[n+2]=s[n]^255,s[n+3]=s[n+1]^255;for(var i=0;i<r;++i)s[n+i+4]=t[i];return(n+4+r)*8},Nb=function(s,e,t,r,n,i,a,o,c,l,d){fi(e,d++,t),++n[256];for(var f=zm(n,15),p=f.t,m=f.l,b=zm(i,15),y=b.t,v=b.l,N=vb(p),w=N.c,j=N.n,C=vb(y),S=C.c,A=C.n,U=new ln(19),P=0;P<w.length;++P)++U[w[P]&31];for(var P=0;P<S.length;++P)++U[S[P]&31];for(var T=zm(U,7),R=T.t,E=T.l,L=19;L>4&&!R[yb[L-1]];--L);var F=l+5<<3,z=Vc(n,ao)+Vc(i,ld)+a,Z=Vc(n,p)+Vc(i,y)+a+14+3*L+Vc(U,R)+2*U[16]+3*U[17]+7*U[18];if(c>=0&&F<=z&&F<=Z)return ov(e,d,s.subarray(c,c+l));var re,le,ee,pe;if(fi(e,d,1+(Z<z)),d+=2,Z<z){re=Jc(p,m,0),le=p,ee=Jc(y,v,0),pe=y;var ue=Jc(R,E,0);fi(e,d,j-257),fi(e,d+5,A-1),fi(e,d+10,L-4),d+=14;for(var P=0;P<L;++P)fi(e,d+3*P,R[yb[P]]);d+=3*L;for(var te=[w,S],_=0;_<2;++_)for(var q=te[_],P=0;P<q.length;++P){var Y=q[P]&31;fi(e,d,ue[Y]),d+=R[Y],Y>15&&(fi(e,d,q[P]>>5&127),d+=q[P]>>12)}}else re=U_,le=ao,ee=M_,pe=ld;for(var P=0;P<o;++P){var se=r[P];if(se>255){var Y=se>>18&31;Mc(e,d,re[Y+257]),d+=le[Y+257],Y>7&&(fi(e,d,se>>23&31),d+=Th[Y]);var ne=se&31;Mc(e,d,ee[ne]),d+=pe[ne],ne>3&&(Mc(e,d,se>>5&8191),d+=Uh[ne])}else Mc(e,d,re[se]),d+=le[se]}return Mc(e,d,re[256]),d+le[256]},I_=new Lh([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),cv=new _n(0),R_=function(s,e,t,r,n,i){var a=i.z||s.length,o=new _n(r+a+5*(1+Math.ceil(a/7e3))+n),c=o.subarray(r,o.length-n),l=i.l,d=(i.r||0)&7;if(e){d&&(c[0]=i.r>>3);for(var f=I_[e-1],p=f>>13,m=f&8191,b=(1<<t)-1,y=i.p||new ln(32768),v=i.h||new ln(b+1),N=Math.ceil(t/3),w=2*N,j=function(we){return(s[we]^s[we+1]<<N^s[we+2]<<w)&b},C=new Lh(25e3),S=new ln(288),A=new ln(32),U=0,P=0,T=i.i||0,R=0,E=i.w||0,L=0;T+2<a;++T){var F=j(T),z=T&32767,Z=v[F];if(y[z]=Z,v[F]=z,E<=T){var re=a-T;if((U>7e3||R>24576)&&(re>423||!l)){d=Nb(s,c,0,C,S,A,P,R,L,T-L,d),R=U=P=0,L=T;for(var le=0;le<286;++le)S[le]=0;for(var le=0;le<30;++le)A[le]=0}var ee=2,pe=0,ue=m,te=z-Z&32767;if(re>2&&F==j(T-te))for(var _=Math.min(p,re)-1,q=Math.min(32767,T),Y=Math.min(258,re);te<=q&&--ue&&z!=Z;){if(s[T+ee]==s[T+ee-te]){for(var se=0;se<Y&&s[T+se]==s[T+se-te];++se);if(se>ee){if(ee=se,pe=te,se>_)break;for(var ne=Math.min(te,se-2),ae=0,le=0;le<ne;++le){var he=T-te+le&32767,me=y[he],ge=he-me&32767;ge>ae&&(ae=ge,Z=he)}}}z=Z,Z=y[z],te+=z-Z&32767}if(pe){C[R++]=268435456|Rf[ee]<<18|xb[pe];var Pe=Rf[ee]&31,xe=xb[pe]&31;P+=Th[Pe]+Uh[xe],++S[257+Pe],++A[xe],E=T+ee,++U}else C[R++]=s[T],++S[s[T]]}}for(T=Math.max(T,E);T<a;++T)C[R++]=s[T],++S[s[T]];d=Nb(s,c,l,C,S,A,P,R,L,T-L,d),l||(i.r=d&7|c[d/8|0]<<3,d-=7,i.h=v,i.p=y,i.i=T,i.w=E)}else{for(var T=i.w||0;T<a+l;T+=65535){var Ie=T+65535;Ie>=a&&(c[d/8|0]=l,Ie=a),d=ov(c,d+1,s.subarray(T,Ie))}i.i=a}return V_(o,0,r+av(d)+n)},lv=function(){var s=1,e=0;return{p:function(t){for(var r=s,n=e,i=t.length|0,a=0;a!=i;){for(var o=Math.min(a+2655,i);a<o;++a)n+=r+=t[a];r=(r&65535)+15*(r>>16),n=(n&65535)+15*(n>>16)}s=r,e=n},d:function(){return s%=65521,e%=65521,(s&255)<<24|(s&65280)<<8|(e&255)<<8|e>>8}}},O_=function(s,e,t,r,n){if(!n&&(n={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),a=new _n(i.length+s.length);a.set(i),a.set(s,i.length),s=a,n.w=i.length}return R_(s,e.level==null?6:e.level,e.mem==null?n.l?Math.ceil(Math.max(8,Math.min(13,Math.log(s.length)))*1.5):20:12+e.mem,t,r,n)},uv=function(s,e,t){for(;t;++e)s[e]=t,t>>>=8},F_=function(s,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(s[0]=120,s[1]=r<<6|(e.dictionary&&32),s[1]|=31-(s[0]<<8|s[1])%31,e.dictionary){var n=lv();n.p(e.dictionary),uv(s,2,n.d())}};function Bf(s,e){e||(e={});var t=lv();t.p(s);var r=O_(s,e,e.dictionary?6:2,4);return F_(r,e),uv(r,r.length-4,t.d()),r}var B_=typeof TextDecoder<"u"&&new TextDecoder,z_=0;try{B_.decode(cv,{stream:!0}),z_=1}catch{}function $_(s){if(Array.isArray(s))return s}function W_(s,e){var t=s==null?null:typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(t!=null){var r,n,i,a,o=[],c=!0,l=!1;try{if(i=(t=t.call(s)).next,e!==0)for(;!(c=(r=i.call(t)).done)&&(o.push(r.value),o.length!==e);c=!0);}catch(d){l=!0,n=d}finally{try{if(!c&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(l)throw n}}return o}}function kb(s,e){(e==null||e>s.length)&&(e=s.length);for(var t=0,r=Array(e);t<e;t++)r[t]=s[t];return r}function q_(s,e){if(s){if(typeof s=="string")return kb(s,e);var t={}.toString.call(s).slice(8,-1);return t==="Object"&&s.constructor&&(t=s.constructor.name),t==="Map"||t==="Set"?Array.from(s):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?kb(s,e):void 0}}function H_(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wb(s,e){return $_(s)||W_(s,e)||q_(s,e)||H_()}function Db(s,e="utf8"){return new TextDecoder(e).decode(s)}const Y_=new TextEncoder;function G_(s){return Y_.encode(s)}const K_=1024*8,X_=(()=>{const s=new Uint8Array(4),e=new Uint32Array(s.buffer);return!((e[0]=1)&s[0])})(),$m={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Mh{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=K_,t={}){let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const n=t.offset?t.offset>>>0:0,i=e.byteLength-n;let a=n;(ArrayBuffer.isView(e)||e instanceof Mh)&&(e.byteLength!==e.buffer.byteLength&&(a=e.byteOffset+n),e=e.buffer),r?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=e,this.length=i,this.byteLength=i,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,i),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,n=new Uint8Array(r);n.set(new Uint8Array(this.buffer)),this.buffer=n.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const r=$m[t].BYTES_PER_ELEMENT*e,n=this.byteOffset+this.offset,i=this.buffer.slice(n,n+r);if(this.littleEndian===X_&&t!=="uint8"&&t!=="int8"){const o=new Uint8Array(this.buffer.slice(n,n+r));o.reverse();const c=new $m[t](o.buffer);return this.offset+=r,c.reverse(),c}const a=new $m[t](i);return this.offset+=r,a}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let r=0;r<e;r++)t+=this.readChar();return t}readUtf8(e=1){return Db(this.readBytes(e))}decodeText(e=1,t="utf8"){return Db(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(G_(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function tc(s){let e=s.length;for(;--e>=0;)s[e]=0}const J_=3,Z_=258,dv=29,Q_=256,eL=Q_+1+dv,mv=30,tL=512,sL=new Array((eL+2)*2);tc(sL);const rL=new Array(mv*2);tc(rL);const nL=new Array(tL);tc(nL);const iL=new Array(Z_-J_+1);tc(iL);const aL=new Array(dv);tc(aL);const oL=new Array(mv);tc(oL);const cL=(s,e,t,r)=>{let n=s&65535|0,i=s>>>16&65535|0,a=0;for(;t!==0;){a=t>2e3?2e3:t,t-=a;do n=n+e[r++]|0,i=i+n|0;while(--a);n%=65521,i%=65521}return n|i<<16|0};var zf=cL;const lL=()=>{let s,e=[];for(var t=0;t<256;t++){s=t;for(var r=0;r<8;r++)s=s&1?3988292384^s>>>1:s>>>1;e[t]=s}return e},uL=new Uint32Array(lL()),dL=(s,e,t,r)=>{const n=uL,i=r+t;s^=-1;for(let a=r;a<i;a++)s=s>>>8^n[(s^e[a])&255];return s^-1};var Bn=dL,$f={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},fv={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const mL=(s,e)=>Object.prototype.hasOwnProperty.call(s,e);var fL=function(s){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const r in t)mL(t,r)&&(s[r]=t[r])}}return s},hL=s=>{let e=0;for(let r=0,n=s.length;r<n;r++)e+=s[r].length;const t=new Uint8Array(e);for(let r=0,n=0,i=s.length;r<i;r++){let a=s[r];t.set(a,n),n+=a.length}return t},hv={assign:fL,flattenChunks:hL};let pv=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{pv=!1}const yl=new Uint8Array(256);for(let s=0;s<256;s++)yl[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;yl[254]=yl[254]=1;var pL=s=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(s);let e,t,r,n,i,a=s.length,o=0;for(n=0;n<a;n++)t=s.charCodeAt(n),(t&64512)===55296&&n+1<a&&(r=s.charCodeAt(n+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),n++)),o+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(o),i=0,n=0;i<o;n++)t=s.charCodeAt(n),(t&64512)===55296&&n+1<a&&(r=s.charCodeAt(n+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),n++)),t<128?e[i++]=t:t<2048?(e[i++]=192|t>>>6,e[i++]=128|t&63):t<65536?(e[i++]=224|t>>>12,e[i++]=128|t>>>6&63,e[i++]=128|t&63):(e[i++]=240|t>>>18,e[i++]=128|t>>>12&63,e[i++]=128|t>>>6&63,e[i++]=128|t&63);return e};const gL=(s,e)=>{if(e<65534&&s.subarray&&pv)return String.fromCharCode.apply(null,s.length===e?s:s.subarray(0,e));let t="";for(let r=0;r<e;r++)t+=String.fromCharCode(s[r]);return t};var bL=(s,e)=>{const t=e||s.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(s.subarray(0,e));let r,n;const i=new Array(t*2);for(n=0,r=0;r<t;){let a=s[r++];if(a<128){i[n++]=a;continue}let o=yl[a];if(o>4){i[n++]=65533,r+=o-1;continue}for(a&=o===2?31:o===3?15:7;o>1&&r<t;)a=a<<6|s[r++]&63,o--;if(o>1){i[n++]=65533;continue}a<65536?i[n++]=a:(a-=65536,i[n++]=55296|a>>10&1023,i[n++]=56320|a&1023)}return gL(i,n)},yL=(s,e)=>{e=e||s.length,e>s.length&&(e=s.length);let t=e-1;for(;t>=0&&(s[t]&192)===128;)t--;return t<0||t===0?e:t+yl[s[t]]>e?t:e},Wf={string2buf:pL,buf2string:bL,utf8border:yL};function xL(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var vL=xL;const Su=16209,NL=16191;var kL=function(e,t){let r,n,i,a,o,c,l,d,f,p,m,b,y,v,N,w,j,C,S,A,U,P,T,R;const E=e.state;r=e.next_in,T=e.input,n=r+(e.avail_in-5),i=e.next_out,R=e.output,a=i-(t-e.avail_out),o=i+(e.avail_out-257),c=E.dmax,l=E.wsize,d=E.whave,f=E.wnext,p=E.window,m=E.hold,b=E.bits,y=E.lencode,v=E.distcode,N=(1<<E.lenbits)-1,w=(1<<E.distbits)-1;e:do{b<15&&(m+=T[r++]<<b,b+=8,m+=T[r++]<<b,b+=8),j=y[m&N];t:for(;;){if(C=j>>>24,m>>>=C,b-=C,C=j>>>16&255,C===0)R[i++]=j&65535;else if(C&16){S=j&65535,C&=15,C&&(b<C&&(m+=T[r++]<<b,b+=8),S+=m&(1<<C)-1,m>>>=C,b-=C),b<15&&(m+=T[r++]<<b,b+=8,m+=T[r++]<<b,b+=8),j=v[m&w];s:for(;;){if(C=j>>>24,m>>>=C,b-=C,C=j>>>16&255,C&16){if(A=j&65535,C&=15,b<C&&(m+=T[r++]<<b,b+=8,b<C&&(m+=T[r++]<<b,b+=8)),A+=m&(1<<C)-1,A>c){e.msg="invalid distance too far back",E.mode=Su;break e}if(m>>>=C,b-=C,C=i-a,A>C){if(C=A-C,C>d&&E.sane){e.msg="invalid distance too far back",E.mode=Su;break e}if(U=0,P=p,f===0){if(U+=l-C,C<S){S-=C;do R[i++]=p[U++];while(--C);U=i-A,P=R}}else if(f<C){if(U+=l+f-C,C-=f,C<S){S-=C;do R[i++]=p[U++];while(--C);if(U=0,f<S){C=f,S-=C;do R[i++]=p[U++];while(--C);U=i-A,P=R}}}else if(U+=f-C,C<S){S-=C;do R[i++]=p[U++];while(--C);U=i-A,P=R}for(;S>2;)R[i++]=P[U++],R[i++]=P[U++],R[i++]=P[U++],S-=3;S&&(R[i++]=P[U++],S>1&&(R[i++]=P[U++]))}else{U=i-A;do R[i++]=R[U++],R[i++]=R[U++],R[i++]=R[U++],S-=3;while(S>2);S&&(R[i++]=R[U++],S>1&&(R[i++]=R[U++]))}}else if((C&64)===0){j=v[(j&65535)+(m&(1<<C)-1)];continue s}else{e.msg="invalid distance code",E.mode=Su;break e}break}}else if((C&64)===0){j=y[(j&65535)+(m&(1<<C)-1)];continue t}else if(C&32){E.mode=NL;break e}else{e.msg="invalid literal/length code",E.mode=Su;break e}break}}while(r<n&&i<o);S=b>>3,r-=S,b-=S<<3,m&=(1<<b)-1,e.next_in=r,e.next_out=i,e.avail_in=r<n?5+(n-r):5-(r-n),e.avail_out=i<o?257+(o-i):257-(i-o),E.hold=m,E.bits=b};const Lo=15,Pb=852,Cb=592,jb=0,Wm=1,Eb=2,wL=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),DL=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),PL=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),CL=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),jL=(s,e,t,r,n,i,a,o)=>{const c=o.bits;let l=0,d=0,f=0,p=0,m=0,b=0,y=0,v=0,N=0,w=0,j,C,S,A,U,P=null,T;const R=new Uint16Array(Lo+1),E=new Uint16Array(Lo+1);let L=null,F,z,Z;for(l=0;l<=Lo;l++)R[l]=0;for(d=0;d<r;d++)R[e[t+d]]++;for(m=c,p=Lo;p>=1&&R[p]===0;p--);if(m>p&&(m=p),p===0)return n[i++]=1<<24|64<<16|0,n[i++]=1<<24|64<<16|0,o.bits=1,0;for(f=1;f<p&&R[f]===0;f++);for(m<f&&(m=f),v=1,l=1;l<=Lo;l++)if(v<<=1,v-=R[l],v<0)return-1;if(v>0&&(s===jb||p!==1))return-1;for(E[1]=0,l=1;l<Lo;l++)E[l+1]=E[l]+R[l];for(d=0;d<r;d++)e[t+d]!==0&&(a[E[e[t+d]]++]=d);if(s===jb?(P=L=a,T=20):s===Wm?(P=wL,L=DL,T=257):(P=PL,L=CL,T=0),w=0,d=0,l=f,U=i,b=m,y=0,S=-1,N=1<<m,A=N-1,s===Wm&&N>Pb||s===Eb&&N>Cb)return 1;for(;;){F=l-y,a[d]+1<T?(z=0,Z=a[d]):a[d]>=T?(z=L[a[d]-T],Z=P[a[d]-T]):(z=96,Z=0),j=1<<l-y,C=1<<b,f=C;do C-=j,n[U+(w>>y)+C]=F<<24|z<<16|Z|0;while(C!==0);for(j=1<<l-1;w&j;)j>>=1;if(j!==0?(w&=j-1,w+=j):w=0,d++,--R[l]===0){if(l===p)break;l=e[t+a[d]]}if(l>m&&(w&A)!==S){for(y===0&&(y=m),U+=f,b=l-y,v=1<<b;b+y<p&&(v-=R[b+y],!(v<=0));)b++,v<<=1;if(N+=1<<b,s===Wm&&N>Pb||s===Eb&&N>Cb)return 1;S=w&A,n[S]=m<<24|b<<16|U-i|0}}return w!==0&&(n[U+w]=l-y<<24|64<<16|0),o.bits=m,0};var Zc=jL;const EL=0,gv=1,bv=2,{Z_FINISH:Sb,Z_BLOCK:SL,Z_TREES:Au,Z_OK:oo,Z_STREAM_END:AL,Z_NEED_DICT:_L,Z_STREAM_ERROR:Nn,Z_DATA_ERROR:yv,Z_MEM_ERROR:xv,Z_BUF_ERROR:LL,Z_DEFLATED:Ab}=fv,Sd=16180,_b=16181,Lb=16182,Tb=16183,Ub=16184,Mb=16185,Vb=16186,Ib=16187,Rb=16188,Ob=16189,ud=16190,hi=16191,qm=16192,Fb=16193,Hm=16194,Bb=16195,zb=16196,$b=16197,Wb=16198,_u=16199,Lu=16200,qb=16201,Hb=16202,Yb=16203,Gb=16204,Kb=16205,Ym=16206,Xb=16207,Jb=16208,Ds=16209,vv=16210,Nv=16211,TL=852,UL=592,ML=15,VL=ML,Zb=s=>(s>>>24&255)+(s>>>8&65280)+((s&65280)<<8)+((s&255)<<24);function IL(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const uo=s=>{if(!s)return 1;const e=s.state;return!e||e.strm!==s||e.mode<Sd||e.mode>Nv?1:0},kv=s=>{if(uo(s))return Nn;const e=s.state;return s.total_in=s.total_out=e.total=0,s.msg="",e.wrap&&(s.adler=e.wrap&1),e.mode=Sd,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(TL),e.distcode=e.distdyn=new Int32Array(UL),e.sane=1,e.back=-1,oo},wv=s=>{if(uo(s))return Nn;const e=s.state;return e.wsize=0,e.whave=0,e.wnext=0,kv(s)},Dv=(s,e)=>{let t;if(uo(s))return Nn;const r=s.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Nn:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=t,r.wbits=e,wv(s))},Pv=(s,e)=>{if(!s)return Nn;const t=new IL;s.state=t,t.strm=s,t.window=null,t.mode=Sd;const r=Dv(s,e);return r!==oo&&(s.state=null),r},RL=s=>Pv(s,VL);let Qb=!0,Gm,Km;const OL=s=>{if(Qb){Gm=new Int32Array(512),Km=new Int32Array(32);let e=0;for(;e<144;)s.lens[e++]=8;for(;e<256;)s.lens[e++]=9;for(;e<280;)s.lens[e++]=7;for(;e<288;)s.lens[e++]=8;for(Zc(gv,s.lens,0,288,Gm,0,s.work,{bits:9}),e=0;e<32;)s.lens[e++]=5;Zc(bv,s.lens,0,32,Km,0,s.work,{bits:5}),Qb=!1}s.lencode=Gm,s.lenbits=9,s.distcode=Km,s.distbits=5},Cv=(s,e,t,r)=>{let n;const i=s.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),r>=i.wsize?(i.window.set(e.subarray(t-i.wsize,t),0),i.wnext=0,i.whave=i.wsize):(n=i.wsize-i.wnext,n>r&&(n=r),i.window.set(e.subarray(t-r,t-r+n),i.wnext),r-=n,r?(i.window.set(e.subarray(t-r,t),0),i.wnext=r,i.whave=i.wsize):(i.wnext+=n,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=n))),0},FL=(s,e)=>{let t,r,n,i,a,o,c,l,d,f,p,m,b,y,v=0,N,w,j,C,S,A,U,P;const T=new Uint8Array(4);let R,E;const L=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(uo(s)||!s.output||!s.input&&s.avail_in!==0)return Nn;t=s.state,t.mode===hi&&(t.mode=qm),a=s.next_out,n=s.output,c=s.avail_out,i=s.next_in,r=s.input,o=s.avail_in,l=t.hold,d=t.bits,f=o,p=c,P=oo;e:for(;;)switch(t.mode){case Sd:if(t.wrap===0){t.mode=qm;break}for(;d<16;){if(o===0)break e;o--,l+=r[i++]<<d,d+=8}if(t.wrap&2&&l===35615){t.wbits===0&&(t.wbits=15),t.check=0,T[0]=l&255,T[1]=l>>>8&255,t.check=Bn(t.check,T,2,0),l=0,d=0,t.mode=_b;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((l&255)<<8)+(l>>8))%31){s.msg="incorrect header check",t.mode=Ds;break}if((l&15)!==Ab){s.msg="unknown compression method",t.mode=Ds;break}if(l>>>=4,d-=4,U=(l&15)+8,t.wbits===0&&(t.wbits=U),U>15||U>t.wbits){s.msg="invalid window size",t.mode=Ds;break}t.dmax=1<<t.wbits,t.flags=0,s.adler=t.check=1,t.mode=l&512?Ob:hi,l=0,d=0;break;case _b:for(;d<16;){if(o===0)break e;o--,l+=r[i++]<<d,d+=8}if(t.flags=l,(t.flags&255)!==Ab){s.msg="unknown compression method",t.mode=Ds;break}if(t.flags&57344){s.msg="unknown header flags set",t.mode=Ds;break}t.head&&(t.head.text=l>>8&1),t.flags&512&&t.wrap&4&&(T[0]=l&255,T[1]=l>>>8&255,t.check=Bn(t.check,T,2,0)),l=0,d=0,t.mode=Lb;case Lb:for(;d<32;){if(o===0)break e;o--,l+=r[i++]<<d,d+=8}t.head&&(t.head.time=l),t.flags&512&&t.wrap&4&&(T[0]=l&255,T[1]=l>>>8&255,T[2]=l>>>16&255,T[3]=l>>>24&255,t.check=Bn(t.check,T,4,0)),l=0,d=0,t.mode=Tb;case Tb:for(;d<16;){if(o===0)break e;o--,l+=r[i++]<<d,d+=8}t.head&&(t.head.xflags=l&255,t.head.os=l>>8),t.flags&512&&t.wrap&4&&(T[0]=l&255,T[1]=l>>>8&255,t.check=Bn(t.check,T,2,0)),l=0,d=0,t.mode=Ub;case Ub:if(t.flags&1024){for(;d<16;){if(o===0)break e;o--,l+=r[i++]<<d,d+=8}t.length=l,t.head&&(t.head.extra_len=l),t.flags&512&&t.wrap&4&&(T[0]=l&255,T[1]=l>>>8&255,t.check=Bn(t.check,T,2,0)),l=0,d=0}else t.head&&(t.head.extra=null);t.mode=Mb;case Mb:if(t.flags&1024&&(m=t.length,m>o&&(m=o),m&&(t.head&&(U=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(i,i+m),U)),t.flags&512&&t.wrap&4&&(t.check=Bn(t.check,r,m,i)),o-=m,i+=m,t.length-=m),t.length))break e;t.length=0,t.mode=Vb;case Vb:if(t.flags&2048){if(o===0)break e;m=0;do U=r[i+m++],t.head&&U&&t.length<65536&&(t.head.name+=String.fromCharCode(U));while(U&&m<o);if(t.flags&512&&t.wrap&4&&(t.check=Bn(t.check,r,m,i)),o-=m,i+=m,U)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=Ib;case Ib:if(t.flags&4096){if(o===0)break e;m=0;do U=r[i+m++],t.head&&U&&t.length<65536&&(t.head.comment+=String.fromCharCode(U));while(U&&m<o);if(t.flags&512&&t.wrap&4&&(t.check=Bn(t.check,r,m,i)),o-=m,i+=m,U)break e}else t.head&&(t.head.comment=null);t.mode=Rb;case Rb:if(t.flags&512){for(;d<16;){if(o===0)break e;o--,l+=r[i++]<<d,d+=8}if(t.wrap&4&&l!==(t.check&65535)){s.msg="header crc mismatch",t.mode=Ds;break}l=0,d=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),s.adler=t.check=0,t.mode=hi;break;case Ob:for(;d<32;){if(o===0)break e;o--,l+=r[i++]<<d,d+=8}s.adler=t.check=Zb(l),l=0,d=0,t.mode=ud;case ud:if(t.havedict===0)return s.next_out=a,s.avail_out=c,s.next_in=i,s.avail_in=o,t.hold=l,t.bits=d,_L;s.adler=t.check=1,t.mode=hi;case hi:if(e===SL||e===Au)break e;case qm:if(t.last){l>>>=d&7,d-=d&7,t.mode=Ym;break}for(;d<3;){if(o===0)break e;o--,l+=r[i++]<<d,d+=8}switch(t.last=l&1,l>>>=1,d-=1,l&3){case 0:t.mode=Fb;break;case 1:if(OL(t),t.mode=_u,e===Au){l>>>=2,d-=2;break e}break;case 2:t.mode=zb;break;case 3:s.msg="invalid block type",t.mode=Ds}l>>>=2,d-=2;break;case Fb:for(l>>>=d&7,d-=d&7;d<32;){if(o===0)break e;o--,l+=r[i++]<<d,d+=8}if((l&65535)!==(l>>>16^65535)){s.msg="invalid stored block lengths",t.mode=Ds;break}if(t.length=l&65535,l=0,d=0,t.mode=Hm,e===Au)break e;case Hm:t.mode=Bb;case Bb:if(m=t.length,m){if(m>o&&(m=o),m>c&&(m=c),m===0)break e;n.set(r.subarray(i,i+m),a),o-=m,i+=m,c-=m,a+=m,t.length-=m;break}t.mode=hi;break;case zb:for(;d<14;){if(o===0)break e;o--,l+=r[i++]<<d,d+=8}if(t.nlen=(l&31)+257,l>>>=5,d-=5,t.ndist=(l&31)+1,l>>>=5,d-=5,t.ncode=(l&15)+4,l>>>=4,d-=4,t.nlen>286||t.ndist>30){s.msg="too many length or distance symbols",t.mode=Ds;break}t.have=0,t.mode=$b;case $b:for(;t.have<t.ncode;){for(;d<3;){if(o===0)break e;o--,l+=r[i++]<<d,d+=8}t.lens[L[t.have++]]=l&7,l>>>=3,d-=3}for(;t.have<19;)t.lens[L[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,R={bits:t.lenbits},P=Zc(EL,t.lens,0,19,t.lencode,0,t.work,R),t.lenbits=R.bits,P){s.msg="invalid code lengths set",t.mode=Ds;break}t.have=0,t.mode=Wb;case Wb:for(;t.have<t.nlen+t.ndist;){for(;v=t.lencode[l&(1<<t.lenbits)-1],N=v>>>24,w=v>>>16&255,j=v&65535,!(N<=d);){if(o===0)break e;o--,l+=r[i++]<<d,d+=8}if(j<16)l>>>=N,d-=N,t.lens[t.have++]=j;else{if(j===16){for(E=N+2;d<E;){if(o===0)break e;o--,l+=r[i++]<<d,d+=8}if(l>>>=N,d-=N,t.have===0){s.msg="invalid bit length repeat",t.mode=Ds;break}U=t.lens[t.have-1],m=3+(l&3),l>>>=2,d-=2}else if(j===17){for(E=N+3;d<E;){if(o===0)break e;o--,l+=r[i++]<<d,d+=8}l>>>=N,d-=N,U=0,m=3+(l&7),l>>>=3,d-=3}else{for(E=N+7;d<E;){if(o===0)break e;o--,l+=r[i++]<<d,d+=8}l>>>=N,d-=N,U=0,m=11+(l&127),l>>>=7,d-=7}if(t.have+m>t.nlen+t.ndist){s.msg="invalid bit length repeat",t.mode=Ds;break}for(;m--;)t.lens[t.have++]=U}}if(t.mode===Ds)break;if(t.lens[256]===0){s.msg="invalid code -- missing end-of-block",t.mode=Ds;break}if(t.lenbits=9,R={bits:t.lenbits},P=Zc(gv,t.lens,0,t.nlen,t.lencode,0,t.work,R),t.lenbits=R.bits,P){s.msg="invalid literal/lengths set",t.mode=Ds;break}if(t.distbits=6,t.distcode=t.distdyn,R={bits:t.distbits},P=Zc(bv,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,R),t.distbits=R.bits,P){s.msg="invalid distances set",t.mode=Ds;break}if(t.mode=_u,e===Au)break e;case _u:t.mode=Lu;case Lu:if(o>=6&&c>=258){s.next_out=a,s.avail_out=c,s.next_in=i,s.avail_in=o,t.hold=l,t.bits=d,kL(s,p),a=s.next_out,n=s.output,c=s.avail_out,i=s.next_in,r=s.input,o=s.avail_in,l=t.hold,d=t.bits,t.mode===hi&&(t.back=-1);break}for(t.back=0;v=t.lencode[l&(1<<t.lenbits)-1],N=v>>>24,w=v>>>16&255,j=v&65535,!(N<=d);){if(o===0)break e;o--,l+=r[i++]<<d,d+=8}if(w&&(w&240)===0){for(C=N,S=w,A=j;v=t.lencode[A+((l&(1<<C+S)-1)>>C)],N=v>>>24,w=v>>>16&255,j=v&65535,!(C+N<=d);){if(o===0)break e;o--,l+=r[i++]<<d,d+=8}l>>>=C,d-=C,t.back+=C}if(l>>>=N,d-=N,t.back+=N,t.length=j,w===0){t.mode=Kb;break}if(w&32){t.back=-1,t.mode=hi;break}if(w&64){s.msg="invalid literal/length code",t.mode=Ds;break}t.extra=w&15,t.mode=qb;case qb:if(t.extra){for(E=t.extra;d<E;){if(o===0)break e;o--,l+=r[i++]<<d,d+=8}t.length+=l&(1<<t.extra)-1,l>>>=t.extra,d-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=Hb;case Hb:for(;v=t.distcode[l&(1<<t.distbits)-1],N=v>>>24,w=v>>>16&255,j=v&65535,!(N<=d);){if(o===0)break e;o--,l+=r[i++]<<d,d+=8}if((w&240)===0){for(C=N,S=w,A=j;v=t.distcode[A+((l&(1<<C+S)-1)>>C)],N=v>>>24,w=v>>>16&255,j=v&65535,!(C+N<=d);){if(o===0)break e;o--,l+=r[i++]<<d,d+=8}l>>>=C,d-=C,t.back+=C}if(l>>>=N,d-=N,t.back+=N,w&64){s.msg="invalid distance code",t.mode=Ds;break}t.offset=j,t.extra=w&15,t.mode=Yb;case Yb:if(t.extra){for(E=t.extra;d<E;){if(o===0)break e;o--,l+=r[i++]<<d,d+=8}t.offset+=l&(1<<t.extra)-1,l>>>=t.extra,d-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){s.msg="invalid distance too far back",t.mode=Ds;break}t.mode=Gb;case Gb:if(c===0)break e;if(m=p-c,t.offset>m){if(m=t.offset-m,m>t.whave&&t.sane){s.msg="invalid distance too far back",t.mode=Ds;break}m>t.wnext?(m-=t.wnext,b=t.wsize-m):b=t.wnext-m,m>t.length&&(m=t.length),y=t.window}else y=n,b=a-t.offset,m=t.length;m>c&&(m=c),c-=m,t.length-=m;do n[a++]=y[b++];while(--m);t.length===0&&(t.mode=Lu);break;case Kb:if(c===0)break e;n[a++]=t.length,c--,t.mode=Lu;break;case Ym:if(t.wrap){for(;d<32;){if(o===0)break e;o--,l|=r[i++]<<d,d+=8}if(p-=c,s.total_out+=p,t.total+=p,t.wrap&4&&p&&(s.adler=t.check=t.flags?Bn(t.check,n,p,a-p):zf(t.check,n,p,a-p)),p=c,t.wrap&4&&(t.flags?l:Zb(l))!==t.check){s.msg="incorrect data check",t.mode=Ds;break}l=0,d=0}t.mode=Xb;case Xb:if(t.wrap&&t.flags){for(;d<32;){if(o===0)break e;o--,l+=r[i++]<<d,d+=8}if(t.wrap&4&&l!==(t.total&4294967295)){s.msg="incorrect length check",t.mode=Ds;break}l=0,d=0}t.mode=Jb;case Jb:P=AL;break e;case Ds:P=yv;break e;case vv:return xv;case Nv:default:return Nn}return s.next_out=a,s.avail_out=c,s.next_in=i,s.avail_in=o,t.hold=l,t.bits=d,(t.wsize||p!==s.avail_out&&t.mode<Ds&&(t.mode<Ym||e!==Sb))&&Cv(s,s.output,s.next_out,p-s.avail_out),f-=s.avail_in,p-=s.avail_out,s.total_in+=f,s.total_out+=p,t.total+=p,t.wrap&4&&p&&(s.adler=t.check=t.flags?Bn(t.check,n,p,s.next_out-p):zf(t.check,n,p,s.next_out-p)),s.data_type=t.bits+(t.last?64:0)+(t.mode===hi?128:0)+(t.mode===_u||t.mode===Hm?256:0),(f===0&&p===0||e===Sb)&&P===oo&&(P=LL),P},BL=s=>{if(uo(s))return Nn;let e=s.state;return e.window&&(e.window=null),s.state=null,oo},zL=(s,e)=>{if(uo(s))return Nn;const t=s.state;return(t.wrap&2)===0?Nn:(t.head=e,e.done=!1,oo)},$L=(s,e)=>{const t=e.length;let r,n,i;return uo(s)||(r=s.state,r.wrap!==0&&r.mode!==ud)?Nn:r.mode===ud&&(n=1,n=zf(n,e,t,0),n!==r.check)?yv:(i=Cv(s,e,t,t),i?(r.mode=vv,xv):(r.havedict=1,oo))};var WL=wv,qL=Dv,HL=kv,YL=RL,GL=Pv,KL=FL,XL=BL,JL=zL,ZL=$L,QL="pako inflate (from Nodeca project)",xi={inflateReset:WL,inflateReset2:qL,inflateResetKeep:HL,inflateInit:YL,inflateInit2:GL,inflate:KL,inflateEnd:XL,inflateGetHeader:JL,inflateSetDictionary:ZL,inflateInfo:QL};function e8(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var t8=e8;const jv=Object.prototype.toString,{Z_NO_FLUSH:s8,Z_FINISH:r8,Z_OK:xl,Z_STREAM_END:Xm,Z_NEED_DICT:Jm,Z_STREAM_ERROR:n8,Z_DATA_ERROR:ey,Z_MEM_ERROR:i8}=fv;function Cl(s){this.options=hv.assign({chunkSize:1024*64,windowBits:15,to:""},s||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(s&&s.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new vL,this.strm.avail_out=0;let t=xi.inflateInit2(this.strm,e.windowBits);if(t!==xl)throw new Error($f[t]);if(this.header=new t8,xi.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Wf.string2buf(e.dictionary):jv.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=xi.inflateSetDictionary(this.strm,e.dictionary),t!==xl)))throw new Error($f[t])}Cl.prototype.push=function(s,e){const t=this.strm,r=this.options.chunkSize,n=this.options.dictionary;let i,a,o;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?r8:s8,jv.call(s)==="[object ArrayBuffer]"?t.input=new Uint8Array(s):t.input=s,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),i=xi.inflate(t,a),i===Jm&&n&&(i=xi.inflateSetDictionary(t,n),i===xl?i=xi.inflate(t,a):i===ey&&(i=Jm));t.avail_in>0&&i===Xm&&t.state.wrap>0&&s[t.next_in]!==0;)xi.inflateReset(t),i=xi.inflate(t,a);switch(i){case n8:case ey:case Jm:case i8:return this.onEnd(i),this.ended=!0,!1}if(o=t.avail_out,t.next_out&&(t.avail_out===0||i===Xm))if(this.options.to==="string"){let c=Wf.utf8border(t.output,t.next_out),l=t.next_out-c,d=Wf.buf2string(t.output,c);t.next_out=l,t.avail_out=r-l,l&&t.output.set(t.output.subarray(c,c+l),0),this.onData(d)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(i===xl&&o===0)){if(i===Xm)return i=xi.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Cl.prototype.onData=function(s){this.chunks.push(s)};Cl.prototype.onEnd=function(s){s===xl&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=hv.flattenChunks(this.chunks)),this.chunks=[],this.err=s,this.msg=this.strm.msg};function a8(s,e){const t=new Cl(e);if(t.push(s),t.err)throw t.msg||$f[t.err];return t.result}var o8=Cl,c8=a8,l8={Inflate:o8,inflate:c8};const{Inflate:u8,inflate:d8}=l8;var ty=u8,m8=d8;const Ev=[];for(let s=0;s<256;s++){let e=s;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;Ev[s]=e}const sy=4294967295;function f8(s,e,t){let r=s;for(let n=0;n<t;n++)r=Ev[(r^e[n])&255]^r>>>8;return r}function h8(s,e){return(f8(sy,s,e)^sy)>>>0}function ry(s,e,t){const r=s.readUint32(),n=h8(new Uint8Array(s.buffer,s.byteOffset+s.offset-e-4,e),e);if(n!==r)throw new Error(`CRC mismatch for chunk ${t}. Expected ${r}, found ${n}`)}function Sv(s,e,t){for(let r=0;r<t;r++)e[r]=s[r]}function Av(s,e,t,r){let n=0;for(;n<r;n++)e[n]=s[n];for(;n<t;n++)e[n]=s[n]+e[n-r]&255}function _v(s,e,t,r){let n=0;if(t.length===0)for(;n<r;n++)e[n]=s[n];else for(;n<r;n++)e[n]=s[n]+t[n]&255}function Lv(s,e,t,r,n){let i=0;if(t.length===0){for(;i<n;i++)e[i]=s[i];for(;i<r;i++)e[i]=s[i]+(e[i-n]>>1)&255}else{for(;i<n;i++)e[i]=s[i]+(t[i]>>1)&255;for(;i<r;i++)e[i]=s[i]+(e[i-n]+t[i]>>1)&255}}function Tv(s,e,t,r,n){let i=0;if(t.length===0){for(;i<n;i++)e[i]=s[i];for(;i<r;i++)e[i]=s[i]+e[i-n]&255}else{for(;i<n;i++)e[i]=s[i]+t[i]&255;for(;i<r;i++)e[i]=s[i]+p8(e[i-n],t[i],t[i-n])&255}}function p8(s,e,t){const r=s+e-t,n=Math.abs(r-s),i=Math.abs(r-e),a=Math.abs(r-t);return n<=i&&n<=a?s:i<=a?e:t}function g8(s,e,t,r,n,i){switch(s){case 0:Sv(e,t,n);break;case 1:Av(e,t,n,i);break;case 2:_v(e,t,r,n);break;case 3:Lv(e,t,r,n,i);break;case 4:Tv(e,t,r,n,i);break;default:throw new Error(`Unsupported filter: ${s}`)}}const b8=new Uint16Array([255]),y8=new Uint8Array(b8.buffer),x8=y8[0]===255;function v8(s){const{data:e,width:t,height:r,channels:n,depth:i}=s,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(i/8)*n,c=new Uint8Array(r*t*o);let l=0;for(let d=0;d<7;d++){const f=a[d],p=Math.ceil((t-f.x)/f.xStep),m=Math.ceil((r-f.y)/f.yStep);if(p<=0||m<=0)continue;const b=p*o,y=new Uint8Array(b);for(let v=0;v<m;v++){const N=e[l++],w=e.subarray(l,l+b);l+=b;const j=new Uint8Array(b);g8(N,w,j,y,b,o),y.set(j);for(let C=0;C<p;C++){const S=f.x+C*f.xStep,A=f.y+v*f.yStep;if(!(S>=t||A>=r))for(let U=0;U<o;U++)c[(A*t+S)*o+U]=j[C*o+U]}}}if(i===16){const d=new Uint16Array(c.buffer);if(x8)for(let f=0;f<d.length;f++)d[f]=N8(d[f]);return d}else return c}function N8(s){return(s&255)<<8|s>>8&255}const k8=new Uint16Array([255]),w8=new Uint8Array(k8.buffer),D8=w8[0]===255,P8=new Uint8Array(0);function ny(s){const{data:e,width:t,height:r,channels:n,depth:i}=s,a=Math.ceil(i/8)*n,o=Math.ceil(i/8*n*t),c=new Uint8Array(r*o);let l=P8,d=0,f,p;for(let m=0;m<r;m++){switch(f=e.subarray(d+1,d+1+o),p=c.subarray(m*o,(m+1)*o),e[d]){case 0:Sv(f,p,o);break;case 1:Av(f,p,o,a);break;case 2:_v(f,p,l,o);break;case 3:Lv(f,p,l,o,a);break;case 4:Tv(f,p,l,o,a);break;default:throw new Error(`Unsupported filter: ${e[d]}`)}l=p,d+=o+1}if(i===16){const m=new Uint16Array(c.buffer);if(D8)for(let b=0;b<m.length;b++)m[b]=C8(m[b]);return m}else return c}function C8(s){return(s&255)<<8|s>>8&255}const Hu=Uint8Array.of(137,80,78,71,13,10,26,10);function iy(s){if(!j8(s.readBytes(Hu.length)))throw new Error("wrong PNG signature")}function j8(s){if(s.length<Hu.length)return!1;for(let e=0;e<Hu.length;e++)if(s[e]!==Hu[e])return!1;return!0}const E8="tEXt",S8=0,Uv=new TextDecoder("latin1");function A8(s){if(L8(s),s.length===0||s.length>79)throw new Error("keyword length must be between 1 and 79")}const _8=/^[\u0000-\u00FF]*$/;function L8(s){if(!_8.test(s))throw new Error("invalid latin1 text")}function T8(s,e,t){const r=Mv(e);s[r]=U8(e,t-r.length-1)}function Mv(s){for(s.mark();s.readByte()!==S8;);const e=s.offset;s.reset();const t=Uv.decode(s.readBytes(e-s.offset-1));return s.skip(1),A8(t),t}function U8(s,e){return Uv.decode(s.readBytes(e))}const on={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Zm={UNKNOWN:-1,DEFLATE:0},ay={UNKNOWN:-1,ADAPTIVE:0},Qm={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Tu={NONE:0,BACKGROUND:1,PREVIOUS:2},ef={SOURCE:0,OVER:1};class M8 extends Mh{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:r=!1}=t;this._checkCrc=r,this._inflator=new ty,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Zm.UNKNOWN,this._filterMethod=ay.UNKNOWN,this._interlaceMethod=Qm.UNKNOWN,this._colorType=on.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(iy(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(iy(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const r=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case E8:T8(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?ry(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const r=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=r+e;break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?ry(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=V8(this.readUint8());const t=this.readUint8();this._colorType=t;let r;switch(t){case on.GREYSCALE:r=1;break;case on.TRUECOLOUR:r=3;break;case on.INDEXED_COLOUR:r=1;break;case on.GREYSCALE_ALPHA:r=2;break;case on.TRUECOLOUR_ALPHA:r=4;break;case on.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==Zm.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const r=[];this._palette=r;for(let n=0;n<t;n++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,r=this.offset+this.byteOffset;if(r+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case on.GREYSCALE:case on.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case on.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const r=this.readByte();this._palette[t].push(r)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case on.UNKNOWN:case on.GREYSCALE_ALPHA:case on.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=Mv(this),r=this.readUint8();if(r!==Zm.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const n=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:m8(n)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:t,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=ny({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)t.data=r.data;else{const n=this._apng.frames.at(e-1);this.disposeFrame(r,n,t),this.addFrameDataToCanvas(t,r)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,r){switch(e.disposeOp){case Tu.NONE:break;case Tu.BACKGROUND:for(let n=0;n<this._png.height;n++)for(let i=0;i<this._png.width;i++){const a=(n*e.width+i)*this._png.channels;for(let o=0;o<this._png.channels;o++)r.data[a+o]=0}break;case Tu.PREVIOUS:r.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const r=1<<this._png.depth,n=(i,a)=>{const o=((i+t.yOffset)*this._png.width+t.xOffset+a)*this._png.channels,c=(i*t.width+a)*this._png.channels;return{index:o,frameIndex:c}};switch(t.blendOp){case ef.SOURCE:for(let i=0;i<t.height;i++)for(let a=0;a<t.width;a++){const{index:o,frameIndex:c}=n(i,a);for(let l=0;l<this._png.channels;l++)e.data[o+l]=t.data[c+l]}break;case ef.OVER:for(let i=0;i<t.height;i++)for(let a=0;a<t.width;a++){const{index:o,frameIndex:c}=n(i,a);for(let l=0;l<this._png.channels;l++){const d=t.data[c+this._png.channels-1]/r,f=l%(this._png.channels-1)===0?1:t.data[c+l],p=Math.floor(d*f+(1-d)*e.data[o+l]);e.data[o+l]+=p}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==ay.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Qm.NO_INTERLACE)this._png.data=ny({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Qm.ADAM7)this._png.data=v8({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Tu.NONE,blendOp:ef.SOURCE,data:e}),this._inflator=new ty,this._writingDataChunks=!1}}function V8(s){if(s!==1&&s!==2&&s!==4&&s!==8&&s!==16)throw new Error(`invalid bit depth: ${s}`);return s}var oy;(function(s){s[s.UNKNOWN=0]="UNKNOWN",s[s.METRE=1]="METRE"})(oy||(oy={}));function I8(s,e){return new M8(s,e).decode()}var kt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function tf(){kt.console&&typeof kt.console.log=="function"&&kt.console.log.apply(kt.console,arguments)}var ms={log:tf,warn:function(s){kt.console&&(typeof kt.console.warn=="function"?kt.console.warn.apply(kt.console,arguments):tf.call(null,arguments))},error:function(s){kt.console&&(typeof kt.console.error=="function"?kt.console.error.apply(kt.console,arguments):tf(s))}};function sf(s,e,t){var r=new XMLHttpRequest;r.open("GET",s),r.responseType="blob",r.onload=function(){Ra(r.response,e,t)},r.onerror=function(){ms.error("could not download file")},r.send()}function cy(s){var e=new XMLHttpRequest;e.open("HEAD",s,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Uu(s){try{s.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),s.dispatchEvent(e)}}var Ra=kt.saveAs||((typeof window>"u"?"undefined":os(window))!=="object"||window!==kt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(s,e,t){var r=kt.URL||kt.webkitURL,n=document.createElement("a");e=e||s.name||"download",n.download=e,n.rel="noopener",typeof s=="string"?(n.href=s,n.origin!==location.origin?cy(n.href)?sf(s,e,t):Uu(n,n.target="_blank"):Uu(n)):(n.href=r.createObjectURL(s),setTimeout(function(){r.revokeObjectURL(n.href)},4e4),setTimeout(function(){Uu(n)},0))}:"msSaveOrOpenBlob"in navigator?function(s,e,t){if(e=e||s.name||"download",typeof s=="string")if(cy(s))sf(s,e,t);else{var r=document.createElement("a");r.href=s,r.target="_blank",setTimeout(function(){Uu(r)})}else navigator.msSaveOrOpenBlob((function(n,i){return i===void 0?i={autoBom:!1}:os(i)!=="object"&&(ms.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(n.type)?new Blob(["\uFEFF",n],{type:n.type}):n})(s,t),e)}:function(s,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof s=="string")return sf(s,e,t);var n=s.type==="application/octet-stream",i=/constructor/i.test(kt.HTMLElement)||kt.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||n&&i)&&(typeof FileReader>"u"?"undefined":os(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var d=o.result;d=a?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=d:location=d,r=null},o.readAsDataURL(s)}else{var c=kt.URL||kt.webkitURL,l=c.createObjectURL(s);r?r.location=l:location.href=l,r=null,setTimeout(function(){c.revokeObjectURL(l)},4e4)}});function Vv(s){var e;s=s||"",this.ok=!1,s.charAt(0)=="#"&&(s=s.substr(1,6)),s={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[s=(s=s.replace(/ /g,"")).toLowerCase()]||s;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],r=0;r<t.length;r++){var n=t[r].re,i=t[r].process,a=n.exec(s);a&&(e=i(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),c=this.g.toString(16),l=this.b.toString(16);return o.length==1&&(o="0"+o),c.length==1&&(c="0"+c),l.length==1&&(l="0"+l),"#"+o+c+l}}var Yu=kt.atob.bind(kt),ly=kt.btoa.bind(kt);function rf(s,e){var t=s[0],r=s[1],n=s[2],i=s[3];t=wr(t,r,n,i,e[0],7,-680876936),i=wr(i,t,r,n,e[1],12,-389564586),n=wr(n,i,t,r,e[2],17,606105819),r=wr(r,n,i,t,e[3],22,-1044525330),t=wr(t,r,n,i,e[4],7,-176418897),i=wr(i,t,r,n,e[5],12,1200080426),n=wr(n,i,t,r,e[6],17,-1473231341),r=wr(r,n,i,t,e[7],22,-45705983),t=wr(t,r,n,i,e[8],7,1770035416),i=wr(i,t,r,n,e[9],12,-1958414417),n=wr(n,i,t,r,e[10],17,-42063),r=wr(r,n,i,t,e[11],22,-1990404162),t=wr(t,r,n,i,e[12],7,1804603682),i=wr(i,t,r,n,e[13],12,-40341101),n=wr(n,i,t,r,e[14],17,-1502002290),t=Dr(t,r=wr(r,n,i,t,e[15],22,1236535329),n,i,e[1],5,-165796510),i=Dr(i,t,r,n,e[6],9,-1069501632),n=Dr(n,i,t,r,e[11],14,643717713),r=Dr(r,n,i,t,e[0],20,-373897302),t=Dr(t,r,n,i,e[5],5,-701558691),i=Dr(i,t,r,n,e[10],9,38016083),n=Dr(n,i,t,r,e[15],14,-660478335),r=Dr(r,n,i,t,e[4],20,-405537848),t=Dr(t,r,n,i,e[9],5,568446438),i=Dr(i,t,r,n,e[14],9,-1019803690),n=Dr(n,i,t,r,e[3],14,-187363961),r=Dr(r,n,i,t,e[8],20,1163531501),t=Dr(t,r,n,i,e[13],5,-1444681467),i=Dr(i,t,r,n,e[2],9,-51403784),n=Dr(n,i,t,r,e[7],14,1735328473),t=Pr(t,r=Dr(r,n,i,t,e[12],20,-1926607734),n,i,e[5],4,-378558),i=Pr(i,t,r,n,e[8],11,-2022574463),n=Pr(n,i,t,r,e[11],16,1839030562),r=Pr(r,n,i,t,e[14],23,-35309556),t=Pr(t,r,n,i,e[1],4,-1530992060),i=Pr(i,t,r,n,e[4],11,1272893353),n=Pr(n,i,t,r,e[7],16,-155497632),r=Pr(r,n,i,t,e[10],23,-1094730640),t=Pr(t,r,n,i,e[13],4,681279174),i=Pr(i,t,r,n,e[0],11,-358537222),n=Pr(n,i,t,r,e[3],16,-722521979),r=Pr(r,n,i,t,e[6],23,76029189),t=Pr(t,r,n,i,e[9],4,-640364487),i=Pr(i,t,r,n,e[12],11,-421815835),n=Pr(n,i,t,r,e[15],16,530742520),t=Cr(t,r=Pr(r,n,i,t,e[2],23,-995338651),n,i,e[0],6,-198630844),i=Cr(i,t,r,n,e[7],10,1126891415),n=Cr(n,i,t,r,e[14],15,-1416354905),r=Cr(r,n,i,t,e[5],21,-57434055),t=Cr(t,r,n,i,e[12],6,1700485571),i=Cr(i,t,r,n,e[3],10,-1894986606),n=Cr(n,i,t,r,e[10],15,-1051523),r=Cr(r,n,i,t,e[1],21,-2054922799),t=Cr(t,r,n,i,e[8],6,1873313359),i=Cr(i,t,r,n,e[15],10,-30611744),n=Cr(n,i,t,r,e[6],15,-1560198380),r=Cr(r,n,i,t,e[13],21,1309151649),t=Cr(t,r,n,i,e[4],6,-145523070),i=Cr(i,t,r,n,e[11],10,-1120210379),n=Cr(n,i,t,r,e[2],15,718787259),r=Cr(r,n,i,t,e[9],21,-343485551),s[0]=Zi(t,s[0]),s[1]=Zi(r,s[1]),s[2]=Zi(n,s[2]),s[3]=Zi(i,s[3])}function Ad(s,e,t,r,n,i){return e=Zi(Zi(e,s),Zi(r,i)),Zi(e<<n|e>>>32-n,t)}function wr(s,e,t,r,n,i,a){return Ad(e&t|~e&r,s,e,n,i,a)}function Dr(s,e,t,r,n,i,a){return Ad(e&r|t&~r,s,e,n,i,a)}function Pr(s,e,t,r,n,i,a){return Ad(e^t^r,s,e,n,i,a)}function Cr(s,e,t,r,n,i,a){return Ad(t^(e|~r),s,e,n,i,a)}function Iv(s){var e,t=s.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=s.length;e+=64)rf(r,R8(s.substring(e-64,e)));s=s.substring(e-64);var n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<s.length;e++)n[e>>2]|=s.charCodeAt(e)<<(e%4<<3);if(n[e>>2]|=128<<(e%4<<3),e>55)for(rf(r,n),e=0;e<16;e++)n[e]=0;return n[14]=8*t,rf(r,n),r}function R8(s){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=s.charCodeAt(e)+(s.charCodeAt(e+1)<<8)+(s.charCodeAt(e+2)<<16)+(s.charCodeAt(e+3)<<24);return t}var uy="0123456789abcdef".split("");function O8(s){for(var e="",t=0;t<4;t++)e+=uy[s>>8*t+4&15]+uy[s>>8*t&15];return e}function F8(s){return String.fromCharCode(255&s,(65280&s)>>8,(16711680&s)>>16,(4278190080&s)>>24)}function qf(s){return Iv(s).map(F8).join("")}var B8=(function(s){for(var e=0;e<s.length;e++)s[e]=O8(s[e]);return s.join("")})(Iv("hello"))!="5d41402abc4b2a76b9719d911017c592";function Zi(s,e){if(B8){var t=(65535&s)+(65535&e);return(s>>16)+(e>>16)+(t>>16)<<16|65535&t}return s+e&4294967295}function Hf(s,e){var t,r,n,i;if(s!==t){for(var a=(n=s,i=1+(256/s.length|0),new Array(i+1).join(n)),o=[],c=0;c<256;c++)o[c]=c;var l=0;for(c=0;c<256;c++){var d=o[c];l=(l+d+a.charCodeAt(c))%256,o[c]=o[l],o[l]=d}t=s,r=o}else o=r;var f=e.length,p=0,m=0,b="";for(c=0;c<f;c++)m=(m+(d=o[p=(p+1)%256]))%256,o[p]=o[m],o[m]=d,a=o[(o[p]+o[m])%256],b+=String.fromCharCode(e.charCodeAt(c)^a);return b}var dy={print:4,modify:8,copy:16,"annot-forms":32};function Io(s,e,t,r){this.v=1,this.r=2;var n=192;s.forEach(function(o){if(dy.perm!==void 0)throw new Error("Invalid permission: "+o);n+=dy[o]}),this.padding="(Â¿N^NuÂŠAd\0NVÃ¿Ãº\b..\0Â¶Ãh>Â€/\fÂ©Ã¾dSiz";var i=(e+this.padding).substr(0,32),a=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,a),this.P=-(1+(255^n)),this.encryptionKey=qf(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Hf(this.encryptionKey,this.padding)}function Ro(s){if(/[^\u0000-\u00ff]/.test(s))throw new Error("Invalid PDF Name Object: "+s+", Only accept ASCII characters.");for(var e="",t=s.length,r=0;r<t;r++){var n=s.charCodeAt(r);e+=n<33||n===35||n===37||n===40||n===41||n===47||n===60||n===62||n===91||n===93||n===123||n===125||n>126?"#"+("0"+n.toString(16)).slice(-2):s[r]}return e}function my(s){if(os(s)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,n){if(n=n||!1,typeof t!="string"||typeof r!="function"||typeof n!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var i=Math.random().toString(35);return e[t][i]=[r,!!n],i},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),n=[];for(var i in e[t]){var a=e[t][i];try{a[0].apply(s,r)}catch(o){kt.console&&ms.error("jsPDF PubSub Error",o.message,o)}a[1]&&n.push(i)}n.length&&n.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function vl(s){if(!(this instanceof vl))return new vl(s);var e="opacity,stroke-opacity".split(",");for(var t in s)s.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=s[t]);this.id="",this.objectNumber=-1}function Rv(s,e){this.gState=s,this.matrix=e,this.id="",this.objectNumber=-1}function Gi(s,e,t,r,n){if(!(this instanceof Gi))return new Gi(s,e,t,r,n);this.type=s==="axial"?2:3,this.coords=e,this.colors=t,Rv.call(this,r,n)}function za(s,e,t,r,n){if(!(this instanceof za))return new za(s,e,t,r,n);this.boundingBox=s,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,Rv.call(this,r,n)}function rt(s){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],n=arguments[2],i=arguments[3],a=[],o=1,c=16,l="S",d=null;os(s=s||{})==="object"&&(t=s.orientation,r=s.unit||r,n=s.format||n,i=s.compress||s.compressPdf||i,(d=s.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),o=typeof s.userUnit=="number"?Math.abs(s.userUnit):1,s.precision!==void 0&&(e=s.precision),s.floatPrecision!==void 0&&(c=s.floatPrecision),l=s.defaultPathOperation||"S"),a=s.filters||(i===!0?["FlateEncode"]:a),r=r||"mm",t=(""+(t||"P")).toLowerCase();var f=s.putOnlyUsedFonts||!1,p={},m={internal:{},__private__:{}};m.__private__.PubSub=my;var b="1.3",y=m.__private__.getPdfVersion=function(){return b};m.__private__.setPdfVersion=function(x){b=x};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return v};var N=m.__private__.getPageFormat=function(x){return v[x]};n=n||"a4";var w="compat",j="advanced",C=w;function S(){this.saveGraphicsState(),W(new ct(dt,0,0,-dt,0,ya()*dt).toString()+" cm"),this.setFontSize(this.getFontSize()/dt),l="n",C=j}function A(){this.restoreGraphicsState(),l="S",C=w}var U=m.__private__.combineFontStyleAndFontWeight=function(x,M){if(x=="bold"&&M=="normal"||x=="bold"&&M==400||x=="normal"&&M=="italic"||x=="bold"&&M=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return M&&(x=M==400||M==="normal"?x==="italic"?"italic":"normal":M!=700&&M!=="bold"||x!=="normal"?(M==700?"bold":M)+""+x:"bold"),x};m.advancedAPI=function(x){var M=C===w;return M&&S.call(this),typeof x!="function"||(x(this),M&&A.call(this)),this},m.compatAPI=function(x){var M=C===j;return M&&A.call(this),typeof x!="function"||(x(this),M&&S.call(this)),this},m.isAdvancedAPI=function(){return C===j};var P,T=function(x){if(C!==j)throw new Error(x+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},R=m.roundToPrecision=m.__private__.roundToPrecision=function(x,M){var Q=e||M;if(isNaN(x)||isNaN(Q))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return x.toFixed(Q).replace(/0+$/,"")};P=m.hpf=m.__private__.hpf=typeof c=="number"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return R(x,c)}:c==="smart"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return R(x,x>-1&&x<1?16:5)}:function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return R(x,16)};var E=m.f2=m.__private__.f2=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f2");return R(x,2)},L=m.__private__.f3=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f3");return R(x,3)},F=m.scale=m.__private__.scale=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.scale");return C===w?x*dt:C===j?x:void 0},z=function(x){return F((function(M){return C===w?ya()-M:C===j?M:void 0})(x))};m.__private__.setPrecision=m.setPrecision=function(x){typeof parseInt(x,10)=="number"&&(e=parseInt(x,10))};var Z,re="00000000000000000000000000000000",le=m.__private__.getFileId=function(){return re},ee=m.__private__.setFileId=function(x){return re=x!==void 0&&/^[a-fA-F0-9]{32}$/.test(x)?x.toUpperCase():re.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(As=new Io(d.userPermissions,d.userPassword,d.ownerPassword,re)),re};m.setFileId=function(x){return ee(x),this},m.getFileId=function(){return le()};var pe=m.__private__.convertDateToPDFDate=function(x){var M=x.getTimezoneOffset(),Q=M<0?"+":"-",ce=Math.floor(Math.abs(M/60)),be=Math.abs(M%60),Ee=[Q,Y(ce),"'",Y(be),"'"].join("");return["D:",x.getFullYear(),Y(x.getMonth()+1),Y(x.getDate()),Y(x.getHours()),Y(x.getMinutes()),Y(x.getSeconds()),Ee].join("")},ue=m.__private__.convertPDFDateToDate=function(x){var M=parseInt(x.substr(2,4),10),Q=parseInt(x.substr(6,2),10)-1,ce=parseInt(x.substr(8,2),10),be=parseInt(x.substr(10,2),10),Ee=parseInt(x.substr(12,2),10),Te=parseInt(x.substr(14,2),10);return new Date(M,Q,ce,be,Ee,Te,0)},te=m.__private__.setCreationDate=function(x){var M;if(x===void 0&&(x=new Date),x instanceof Date)M=pe(x);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(x))throw new Error("Invalid argument passed to jsPDF.setCreationDate");M=x}return Z=M},_=m.__private__.getCreationDate=function(x){var M=Z;return x==="jsDate"&&(M=ue(Z)),M};m.setCreationDate=function(x){return te(x),this},m.getCreationDate=function(x){return _(x)};var q,Y=m.__private__.padd2=function(x){return("0"+parseInt(x)).slice(-2)},se=m.__private__.padd2Hex=function(x){return("00"+(x=x.toString())).substr(x.length)},ne=0,ae=[],he=[],me=0,ge=[],Pe=[],xe=!1,Ie=he;m.__private__.setCustomOutputDestination=function(x){xe=!0,Ie=x};var we=function(x){xe||(Ie=x)};m.__private__.resetCustomOutputDestination=function(){xe=!1,Ie=he};var W=m.__private__.out=function(x){return x=x.toString(),me+=x.length+1,Ie.push(x),Ie},De=m.__private__.write=function(x){return W(arguments.length===1?x.toString():Array.prototype.join.call(arguments," "))},st=m.__private__.getArrayBuffer=function(x){for(var M=x.length,Q=new ArrayBuffer(M),ce=new Uint8Array(Q);M--;)ce[M]=x.charCodeAt(M);return Q},Ye=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return Ye};var _e=s.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(x){return _e=C===j?x/dt:x,this};var Be,Ve=m.__private__.getFontSize=m.getFontSize=function(){return C===w?_e:_e*dt},ut=s.R2L||!1;m.__private__.setR2L=m.setR2L=function(x){return ut=x,this},m.__private__.getR2L=m.getR2L=function(){return ut};var it,Wt=m.__private__.setZoomMode=function(x){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(x))Be=x;else if(isNaN(x)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(x)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+x+'" is not recognized.');Be=x}else Be=parseInt(x,10)};m.__private__.getZoomMode=function(){return Be};var gt,bt=m.__private__.setPageMode=function(x){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(x)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+x+'" is not recognized.');it=x};m.__private__.getPageMode=function(){return it};var Rt=m.__private__.setLayoutMode=function(x){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(x)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+x+'" is not recognized.');gt=x};m.__private__.getLayoutMode=function(){return gt},m.__private__.setDisplayMode=m.setDisplayMode=function(x,M,Q){return Wt(x),Rt(M),bt(Q),this};var vt={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(x){if(Object.keys(vt).indexOf(x)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return vt[x]},m.__private__.getDocumentProperties=function(){return vt},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(x){for(var M in vt)vt.hasOwnProperty(M)&&x[M]&&(vt[M]=x[M]);return this},m.__private__.setDocumentProperty=function(x,M){if(Object.keys(vt).indexOf(x)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return vt[x]=M};var Qe,dt,Ge,Jt,qt,Ze={},Nt={},es=[],lt={},At={},ht={},fs={},ns=null,Gt=0,mt=[],Ht=new my(m),kn=s.hotfixes||[],Os={},Or={},Lr=[],ct=function x(M,Q,ce,be,Ee,Te){if(!(this instanceof x))return new x(M,Q,ce,be,Ee,Te);isNaN(M)&&(M=1),isNaN(Q)&&(Q=0),isNaN(ce)&&(ce=0),isNaN(be)&&(be=1),isNaN(Ee)&&(Ee=0),isNaN(Te)&&(Te=0),this._matrix=[M,Q,ce,be,Ee,Te]};Object.defineProperty(ct.prototype,"sx",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(ct.prototype,"shy",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(ct.prototype,"shx",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(ct.prototype,"sy",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(ct.prototype,"tx",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(ct.prototype,"ty",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(ct.prototype,"a",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(ct.prototype,"b",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(ct.prototype,"c",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(ct.prototype,"d",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(ct.prototype,"e",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(ct.prototype,"f",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(ct.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ct.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ct.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ct.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ct.prototype.join=function(x){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(P).join(x)},ct.prototype.multiply=function(x){var M=x.sx*this.sx+x.shy*this.shx,Q=x.sx*this.shy+x.shy*this.sy,ce=x.shx*this.sx+x.sy*this.shx,be=x.shx*this.shy+x.sy*this.sy,Ee=x.tx*this.sx+x.ty*this.shx+this.tx,Te=x.tx*this.shy+x.ty*this.sy+this.ty;return new ct(M,Q,ce,be,Ee,Te)},ct.prototype.decompose=function(){var x=this.sx,M=this.shy,Q=this.shx,ce=this.sy,be=this.tx,Ee=this.ty,Te=Math.sqrt(x*x+M*M),Je=(x/=Te)*Q+(M/=Te)*ce;Q-=x*Je,ce-=M*Je;var nt=Math.sqrt(Q*Q+ce*ce);return Je/=nt,x*(ce/=nt)<M*(Q/=nt)&&(x=-x,M=-M,Je=-Je,Te=-Te),{scale:new ct(Te,0,0,nt,0,0),translate:new ct(1,0,0,1,be,Ee),rotate:new ct(x,M,-M,x,0,0),skew:new ct(1,0,Je,1,0,0)}},ct.prototype.toString=function(x){return this.join(" ")},ct.prototype.inversed=function(){var x=this.sx,M=this.shy,Q=this.shx,ce=this.sy,be=this.tx,Ee=this.ty,Te=1/(x*ce-M*Q),Je=ce*Te,nt=-M*Te,Dt=-Q*Te,jt=x*Te;return new ct(Je,nt,Dt,jt,-Je*be-Dt*Ee,-nt*be-jt*Ee)},ct.prototype.applyToPoint=function(x){var M=x.x*this.sx+x.y*this.shx+this.tx,Q=x.x*this.shy+x.y*this.sy+this.ty;return new ga(M,Q)},ct.prototype.applyToRectangle=function(x){var M=this.applyToPoint(x),Q=this.applyToPoint(new ga(x.x+x.w,x.y+x.h));return new oc(M.x,M.y,Q.x-M.x,Q.y-M.y)},ct.prototype.clone=function(){var x=this.sx,M=this.shy,Q=this.shx,ce=this.sy,be=this.tx,Ee=this.ty;return new ct(x,M,Q,ce,be,Ee)},m.Matrix=ct;var Xr=m.matrixMult=function(x,M){return M.multiply(x)},gr=new ct(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=gr;var ur=function(x,M){if(!At[x]){var Q=(M instanceof Gi?"Sh":"P")+(Object.keys(lt).length+1).toString(10);M.id=Q,At[x]=Q,lt[Q]=M,Ht.publish("addPattern",M)}};m.ShadingPattern=Gi,m.TilingPattern=za,m.addShadingPattern=function(x,M){return T("addShadingPattern()"),ur(x,M),this},m.beginTilingPattern=function(x){T("beginTilingPattern()"),cc(x.boundingBox[0],x.boundingBox[1],x.boundingBox[2]-x.boundingBox[0],x.boundingBox[3]-x.boundingBox[1],x.matrix)},m.endTilingPattern=function(x,M){T("endTilingPattern()"),M.stream=Pe[q].join(`
`),ur(x,M),Ht.publish("endTilingPattern",M),Lr.pop().restore()};var br,cs=m.__private__.newObject=function(){var x=ie();return Ae(x,!0),x},ie=m.__private__.newObjectDeferred=function(){return ne++,ae[ne]=function(){return me},ne},Ae=function(x,M){return M=typeof M=="boolean"&&M,ae[x]=me,M&&W(x+" 0 obj"),x},Re=m.__private__.newAdditionalObject=function(){var x={objId:ie(),content:""};return ge.push(x),x},ot=ie(),wt=ie(),_t=m.__private__.decodeColorString=function(x){var M=x.split(" ");if(M.length!==2||M[1]!=="g"&&M[1]!=="G")M.length!==5||M[4]!=="k"&&M[4]!=="K"||(M=[(1-M[0])*(1-M[3]),(1-M[1])*(1-M[3]),(1-M[2])*(1-M[3]),"r"]);else{var Q=parseFloat(M[0]);M=[Q,Q,Q,"r"]}for(var ce="#",be=0;be<3;be++)ce+=("0"+Math.floor(255*parseFloat(M[be])).toString(16)).slice(-2);return ce},pt=m.__private__.encodeColorString=function(x){var M;typeof x=="string"&&(x={ch1:x});var Q=x.ch1,ce=x.ch2,be=x.ch3,Ee=x.ch4,Te=x.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Q=="string"&&Q.charAt(0)!=="#"){var Je=new Vv(Q);if(Je.ok)Q=Je.toHex();else if(!/^\d*\.?\d*$/.test(Q))throw new Error('Invalid color "'+Q+'" passed to jsPDF.encodeColorString.')}if(typeof Q=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Q)&&(Q="#"+Q[1]+Q[1]+Q[2]+Q[2]+Q[3]+Q[3]),typeof Q=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Q)){var nt=parseInt(Q.substr(1),16);Q=nt>>16&255,ce=nt>>8&255,be=255&nt}if(ce===void 0||Ee===void 0&&Q===ce&&ce===be)M=typeof Q=="string"?Q+" "+Te[0]:x.precision===2?E(Q/255)+" "+Te[0]:L(Q/255)+" "+Te[0];else if(Ee===void 0||os(Ee)==="object"){if(Ee&&!isNaN(Ee.a)&&Ee.a===0)return["1.","1.","1.",Te[1]].join(" ");M=typeof Q=="string"?[Q,ce,be,Te[1]].join(" "):x.precision===2?[E(Q/255),E(ce/255),E(be/255),Te[1]].join(" "):[L(Q/255),L(ce/255),L(be/255),Te[1]].join(" ")}else M=typeof Q=="string"?[Q,ce,be,Ee,Te[2]].join(" "):x.precision===2?[E(Q),E(ce),E(be),E(Ee),Te[2]].join(" "):[L(Q),L(ce),L(be),L(Ee),Te[2]].join(" ");return M},ft=m.__private__.getFilters=function(){return a},Zt=m.__private__.putStream=function(x){var M=(x=x||{}).data||"",Q=x.filters||ft(),ce=x.alreadyAppliedFilters||[],be=x.addLength1||!1,Ee=M.length,Te=x.objectId,Je=function(Qs){return Qs};if(d!==null&&Te===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(Je=As.encryptor(Te,0));var nt={};Q===!0&&(Q=["FlateEncode"]);var Dt=x.additionalKeyValues||[],jt=(nt=rt.API.processDataByFilters!==void 0?rt.API.processDataByFilters(M,Q):{data:M,reverseChain:[]}).reverseChain+(Array.isArray(ce)?ce.join(" "):ce.toString());if(nt.data.length!==0&&(Dt.push({key:"Length",value:nt.data.length}),be===!0&&Dt.push({key:"Length1",value:Ee})),jt.length!=0)if(jt.split("/").length-1==1)Dt.push({key:"Filter",value:jt});else{Dt.push({key:"Filter",value:"["+jt+"]"});for(var ts=0;ts<Dt.length;ts+=1)if(Dt[ts].key==="DecodeParms"){for(var _s=[],Xs=0;Xs<nt.reverseChain.split("/").length-1;Xs+=1)_s.push("null");_s.push(Dt[ts].value),Dt[ts].value="["+_s.join(" ")+"]"}}W("<<");for(var ps=0;ps<Dt.length;ps++)W("/"+Dt[ps].key+" "+Dt[ps].value);W(">>"),nt.data.length!==0&&(W("stream"),W(Je(nt.data)),W("endstream"))},Ot=m.__private__.putPage=function(x){var M=x.number,Q=x.data,ce=x.objId,be=x.contentsObjId;Ae(ce,!0),W("<</Type /Page"),W("/Parent "+x.rootDictionaryObjId+" 0 R"),W("/Resources "+x.resourceDictionaryObjId+" 0 R"),W("/MediaBox ["+parseFloat(P(x.mediaBox.bottomLeftX))+" "+parseFloat(P(x.mediaBox.bottomLeftY))+" "+P(x.mediaBox.topRightX)+" "+P(x.mediaBox.topRightY)+"]"),x.cropBox!==null&&W("/CropBox ["+P(x.cropBox.bottomLeftX)+" "+P(x.cropBox.bottomLeftY)+" "+P(x.cropBox.topRightX)+" "+P(x.cropBox.topRightY)+"]"),x.bleedBox!==null&&W("/BleedBox ["+P(x.bleedBox.bottomLeftX)+" "+P(x.bleedBox.bottomLeftY)+" "+P(x.bleedBox.topRightX)+" "+P(x.bleedBox.topRightY)+"]"),x.trimBox!==null&&W("/TrimBox ["+P(x.trimBox.bottomLeftX)+" "+P(x.trimBox.bottomLeftY)+" "+P(x.trimBox.topRightX)+" "+P(x.trimBox.topRightY)+"]"),x.artBox!==null&&W("/ArtBox ["+P(x.artBox.bottomLeftX)+" "+P(x.artBox.bottomLeftY)+" "+P(x.artBox.topRightX)+" "+P(x.artBox.topRightY)+"]"),typeof x.userUnit=="number"&&x.userUnit!==1&&W("/UserUnit "+x.userUnit),Ht.publish("putPage",{objId:ce,pageContext:mt[M],pageNumber:M,page:Q}),W("/Contents "+be+" 0 R"),W(">>"),W("endobj");var Ee=Q.join(`
`);return C===j&&(Ee+=`
Q`),Ae(be,!0),Zt({data:Ee,filters:ft(),objectId:be}),W("endobj"),ce},Ft=m.__private__.putPages=function(){var x,M,Q=[];for(x=1;x<=Gt;x++)mt[x].objId=ie(),mt[x].contentsObjId=ie();for(x=1;x<=Gt;x++)Q.push(Ot({number:x,data:Pe[x],objId:mt[x].objId,contentsObjId:mt[x].contentsObjId,mediaBox:mt[x].mediaBox,cropBox:mt[x].cropBox,bleedBox:mt[x].bleedBox,trimBox:mt[x].trimBox,artBox:mt[x].artBox,userUnit:mt[x].userUnit,rootDictionaryObjId:ot,resourceDictionaryObjId:wt}));Ae(ot,!0),W("<</Type /Pages");var ce="/Kids [";for(M=0;M<Gt;M++)ce+=Q[M]+" 0 R ";W(ce+"]"),W("/Count "+Gt),W(">>"),W("endobj"),Ht.publish("postPutPages")},hs=function(x){Ht.publish("putFont",{font:x,out:W,newObject:cs,putStream:Zt}),x.isAlreadyPutted!==!0&&(x.objectNumber=cs(),W("<<"),W("/Type /Font"),W("/BaseFont /"+Ro(x.postScriptName)),W("/Subtype /Type1"),typeof x.encoding=="string"&&W("/Encoding /"+x.encoding),W("/FirstChar 32"),W("/LastChar 255"),W(">>"),W("endobj"))},or=function(x){x.objectNumber=cs();var M=[];M.push({key:"Type",value:"/XObject"}),M.push({key:"Subtype",value:"/Form"}),M.push({key:"BBox",value:"["+[P(x.x),P(x.y),P(x.x+x.width),P(x.y+x.height)].join(" ")+"]"}),M.push({key:"Matrix",value:"["+x.matrix.toString()+"]"});var Q=x.pages[1].join(`
`);Zt({data:Q,additionalKeyValues:M,objectId:x.objectNumber}),W("endobj")},cr=function(x,M){M||(M=21);var Q=cs(),ce=(function(Te,Je){var nt,Dt=[],jt=1/(Je-1);for(nt=0;nt<1;nt+=jt)Dt.push(nt);if(Dt.push(1),Te[0].offset!=0){var ts={offset:0,color:Te[0].color};Te.unshift(ts)}if(Te[Te.length-1].offset!=1){var _s={offset:1,color:Te[Te.length-1].color};Te.push(_s)}for(var Xs="",ps=0,Qs=0;Qs<Dt.length;Qs++){for(nt=Dt[Qs];nt>Te[ps+1].offset;)ps++;var Js=Te[ps].offset,dr=(nt-Js)/(Te[ps+1].offset-Js),fn=Te[ps].color,zr=Te[ps+1].color;Xs+=se(Math.round((1-dr)*fn[0]+dr*zr[0]).toString(16))+se(Math.round((1-dr)*fn[1]+dr*zr[1]).toString(16))+se(Math.round((1-dr)*fn[2]+dr*zr[2]).toString(16))}return Xs.trim()})(x.colors,M),be=[];be.push({key:"FunctionType",value:"0"}),be.push({key:"Domain",value:"[0.0 1.0]"}),be.push({key:"Size",value:"["+M+"]"}),be.push({key:"BitsPerSample",value:"8"}),be.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),be.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Zt({data:ce,additionalKeyValues:be,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Q}),W("endobj"),x.objectNumber=cs(),W("<< /ShadingType "+x.type),W("/ColorSpace /DeviceRGB");var Ee="/Coords ["+P(parseFloat(x.coords[0]))+" "+P(parseFloat(x.coords[1]))+" ";x.type===2?Ee+=P(parseFloat(x.coords[2]))+" "+P(parseFloat(x.coords[3])):Ee+=P(parseFloat(x.coords[2]))+" "+P(parseFloat(x.coords[3]))+" "+P(parseFloat(x.coords[4]))+" "+P(parseFloat(x.coords[5])),W(Ee+="]"),x.matrix&&W("/Matrix ["+x.matrix.toString()+"]"),W("/Function "+Q+" 0 R"),W("/Extend [true true]"),W(">>"),W("endobj")},Ss=function(x,M){var Q=ie(),ce=cs();M.push({resourcesOid:Q,objectOid:ce}),x.objectNumber=ce;var be=[];be.push({key:"Type",value:"/Pattern"}),be.push({key:"PatternType",value:"1"}),be.push({key:"PaintType",value:"1"}),be.push({key:"TilingType",value:"1"}),be.push({key:"BBox",value:"["+x.boundingBox.map(P).join(" ")+"]"}),be.push({key:"XStep",value:P(x.xStep)}),be.push({key:"YStep",value:P(x.yStep)}),be.push({key:"Resources",value:Q+" 0 R"}),x.matrix&&be.push({key:"Matrix",value:"["+x.matrix.toString()+"]"}),Zt({data:x.stream,additionalKeyValues:be,objectId:x.objectNumber}),W("endobj")},Qn=function(x){for(var M in x.objectNumber=cs(),W("<<"),x)switch(M){case"opacity":W("/ca "+E(x[M]));break;case"stroke-opacity":W("/CA "+E(x[M]))}W(">>"),W("endobj")},dn=function(x){Ae(x.resourcesOid,!0),W("<<"),W("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var M in W("/Font <<"),Ze)Ze.hasOwnProperty(M)&&(f===!1||f===!0&&p.hasOwnProperty(M))&&W("/"+M+" "+Ze[M].objectNumber+" 0 R");W(">>")})(),(function(){if(Object.keys(lt).length>0){for(var M in W("/Shading <<"),lt)lt.hasOwnProperty(M)&&lt[M]instanceof Gi&&lt[M].objectNumber>=0&&W("/"+M+" "+lt[M].objectNumber+" 0 R");Ht.publish("putShadingPatternDict"),W(">>")}})(),(function(M){if(Object.keys(lt).length>0){for(var Q in W("/Pattern <<"),lt)lt.hasOwnProperty(Q)&&lt[Q]instanceof m.TilingPattern&&lt[Q].objectNumber>=0&&lt[Q].objectNumber<M&&W("/"+Q+" "+lt[Q].objectNumber+" 0 R");Ht.publish("putTilingPatternDict"),W(">>")}})(x.objectOid),(function(){if(Object.keys(ht).length>0){var M;for(M in W("/ExtGState <<"),ht)ht.hasOwnProperty(M)&&ht[M].objectNumber>=0&&W("/"+M+" "+ht[M].objectNumber+" 0 R");Ht.publish("putGStateDict"),W(">>")}})(),(function(){for(var M in W("/XObject <<"),Os)Os.hasOwnProperty(M)&&Os[M].objectNumber>=0&&W("/"+M+" "+Os[M].objectNumber+" 0 R");Ht.publish("putXobjectDict"),W(">>")})(),W(">>"),W("endobj")},Zs=function(x){Nt[x.fontName]=Nt[x.fontName]||{},Nt[x.fontName][x.fontStyle]=x.id},wn=function(x,M,Q,ce,be){var Ee={id:"F"+(Object.keys(Ze).length+1).toString(10),postScriptName:x,fontName:M,fontStyle:Q,encoding:ce,isStandardFont:be||!1,metadata:{}};return Ht.publish("addFont",{font:Ee,instance:this}),Ze[Ee.id]=Ee,Zs(Ee),Ee.id},Fs=m.__private__.pdfEscape=m.pdfEscape=function(x,M){return(function(Q,ce){var be,Ee,Te,Je,nt,Dt,jt,ts,_s;if(Te=(ce=ce||{}).sourceEncoding||"Unicode",nt=ce.outputEncoding,(ce.autoencode||nt)&&Ze[Qe].metadata&&Ze[Qe].metadata[Te]&&Ze[Qe].metadata[Te].encoding&&(Je=Ze[Qe].metadata[Te].encoding,!nt&&Ze[Qe].encoding&&(nt=Ze[Qe].encoding),!nt&&Je.codePages&&(nt=Je.codePages[0]),typeof nt=="string"&&(nt=Je[nt]),nt)){for(jt=!1,Dt=[],be=0,Ee=Q.length;be<Ee;be++)(ts=nt[Q.charCodeAt(be)])?Dt.push(String.fromCharCode(ts)):Dt.push(Q[be]),Dt[be].charCodeAt(0)>>8&&(jt=!0);Q=Dt.join("")}for(be=Q.length;jt===void 0&&be!==0;)Q.charCodeAt(be-1)>>8&&(jt=!0),be--;if(!jt)return Q;for(Dt=ce.noBOM?[]:[254,255],be=0,Ee=Q.length;be<Ee;be++){if((_s=(ts=Q.charCodeAt(be))>>8)>>8)throw new Error("Character at position "+be+" of string '"+Q+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Dt.push(_s),Dt.push(ts-(_s<<8))}return String.fromCharCode.apply(void 0,Dt)})(x,M).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Tr=m.__private__.beginPage=function(x){Pe[++Gt]=[],mt[Gt]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(x[0]),topRightY:Number(x[1])}},Fr(Gt),we(Pe[q])},Mn=function(x,M){var Q,ce,be;switch(t=M||t,typeof x=="string"&&(Q=N(x.toLowerCase()),Array.isArray(Q)&&(ce=Q[0],be=Q[1])),Array.isArray(x)&&(ce=x[0]*dt,be=x[1]*dt),isNaN(ce)&&(ce=n[0],be=n[1]),(ce>14400||be>14400)&&(ms.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ce=Math.min(14400,ce),be=Math.min(14400,be)),n=[ce,be],t.substr(0,1)){case"l":be>ce&&(n=[be,ce]);break;case"p":ce>be&&(n=[be,ce])}Tr(n),_d(rc),W(ho),ic!==0&&W(ic+" J"),ac!==0&&W(ac+" j"),Ht.publish("addPage",{pageNumber:Gt})},yr=function(x){x>0&&x<=Gt&&(Pe.splice(x,1),mt.splice(x,1),Gt--,q>Gt&&(q=Gt),this.setPage(q))},Fr=function(x){x>0&&x<=Gt&&(q=x)},ua=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return Pe.length-1},da=function(x,M,Q){var ce,be=void 0;return Q=Q||{},x=x!==void 0?x:Ze[Qe].fontName,M=M!==void 0?M:Ze[Qe].fontStyle,ce=x.toLowerCase(),Nt[ce]!==void 0&&Nt[ce][M]!==void 0?be=Nt[ce][M]:Nt[x]!==void 0&&Nt[x][M]!==void 0?be=Nt[x][M]:Q.disableWarning===!1&&ms.warn("Unable to look up font label for font '"+x+"', '"+M+"'. Refer to getFontList() for available fonts."),be||Q.noFallback||(be=Nt.times[M])==null&&(be=Nt.times.normal),be},Dn=m.__private__.putInfo=function(){var x=cs(),M=function(ce){return ce};for(var Q in d!==null&&(M=As.encryptor(x,0)),W("<<"),W("/Producer ("+Fs(M("jsPDF "+rt.version))+")"),vt)vt.hasOwnProperty(Q)&&vt[Q]&&W("/"+Q.substr(0,1).toUpperCase()+Q.substr(1)+" ("+Fs(M(vt[Q]))+")");W("/CreationDate ("+Fs(M(Z))+")"),W(">>"),W("endobj")},Ur=m.__private__.putCatalog=function(x){var M=(x=x||{}).rootDictionaryObjId||ot;switch(cs(),W("<<"),W("/Type /Catalog"),W("/Pages "+M+" 0 R"),Be||(Be="fullwidth"),Be){case"fullwidth":W("/OpenAction [3 0 R /FitH null]");break;case"fullheight":W("/OpenAction [3 0 R /FitV null]");break;case"fullpage":W("/OpenAction [3 0 R /Fit]");break;case"original":W("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Q=""+Be;Q.substr(Q.length-1)==="%"&&(Be=parseInt(Be)/100),typeof Be=="number"&&W("/OpenAction [3 0 R /XYZ null null "+E(Be)+"]")}switch(gt||(gt="continuous"),gt){case"continuous":W("/PageLayout /OneColumn");break;case"single":W("/PageLayout /SinglePage");break;case"two":case"twoleft":W("/PageLayout /TwoColumnLeft");break;case"tworight":W("/PageLayout /TwoColumnRight")}it&&W("/PageMode /"+it),Ht.publish("putCatalog"),W(">>"),W("endobj")},bs=m.__private__.putTrailer=function(){W("trailer"),W("<<"),W("/Size "+(ne+1)),W("/Root "+ne+" 0 R"),W("/Info "+(ne-1)+" 0 R"),d!==null&&W("/Encrypt "+As.oid+" 0 R"),W("/ID [ <"+re+"> <"+re+"> ]"),W(">>")},ji=m.__private__.putHeader=function(){W("%PDF-"+b),W("%ÂºÃŸÂ¬Ã ")},Ei=m.__private__.putXRef=function(){var x="0000000000";W("xref"),W("0 "+(ne+1)),W("0000000000 65535 f ");for(var M=1;M<=ne;M++)typeof ae[M]=="function"?W((x+ae[M]()).slice(-10)+" 00000 n "):ae[M]!==void 0?W((x+ae[M]).slice(-10)+" 00000 n "):W("0000000000 00000 n ")},Jr=m.__private__.buildDocument=function(){var x;ne=0,me=0,he=[],ae=[],ge=[],ot=ie(),wt=ie(),we(he),Ht.publish("buildDocument"),ji(),Ft(),(function(){Ht.publish("putAdditionalObjects");for(var Q=0;Q<ge.length;Q++){var ce=ge[Q];Ae(ce.objId,!0),W(ce.content),W("endobj")}Ht.publish("postPutAdditionalObjects")})(),x=[],(function(){for(var Q in Ze)Ze.hasOwnProperty(Q)&&(f===!1||f===!0&&p.hasOwnProperty(Q))&&hs(Ze[Q])})(),(function(){var Q;for(Q in ht)ht.hasOwnProperty(Q)&&Qn(ht[Q])})(),(function(){for(var Q in Os)Os.hasOwnProperty(Q)&&or(Os[Q])})(),(function(Q){var ce;for(ce in lt)lt.hasOwnProperty(ce)&&(lt[ce]instanceof Gi?cr(lt[ce]):lt[ce]instanceof za&&Ss(lt[ce],Q))})(x),Ht.publish("putResources"),x.forEach(dn),dn({resourcesOid:wt,objectOid:Number.MAX_SAFE_INTEGER}),Ht.publish("postPutResources"),d!==null&&(As.oid=cs(),W("<<"),W("/Filter /Standard"),W("/V "+As.v),W("/R "+As.r),W("/U <"+As.toHexString(As.U)+">"),W("/O <"+As.toHexString(As.O)+">"),W("/P "+As.P),W(">>"),W("endobj")),Dn(),Ur();var M=me;return Ei(),bs(),W("startxref"),W(""+M),W("%%EOF"),we(Pe[q]),he.join(`
`)},Pn=m.__private__.getBlob=function(x){return new Blob([st(x)],{type:"application/pdf"})},xr=m.output=m.__private__.output=(br=function(x,M){switch(typeof(M=M||{})=="string"?M={filename:M}:M.filename=M.filename||"generated.pdf",x){case void 0:return Jr();case"save":m.save(M.filename);break;case"arraybuffer":return st(Jr());case"blob":return Pn(Jr());case"bloburi":case"bloburl":if(kt.URL!==void 0&&typeof kt.URL.createObjectURL=="function")return kt.URL&&kt.URL.createObjectURL(Pn(Jr()))||void 0;ms.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Q="",ce=Jr();try{Q=ly(ce)}catch{Q=ly(unescape(encodeURIComponent(ce)))}return"data:application/pdf;filename="+M.filename+";base64,"+Q;case"pdfobjectnewwindow":if(Object.prototype.toString.call(kt)==="[object Window]"){var be="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ee=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';M.pdfObjectUrl&&(be=M.pdfObjectUrl,Ee="");var Te='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+be+'"'+Ee+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(M)+");<\/script></body></html>",Je=kt.open();return Je!==null&&Je.document.write(Te),Je}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(kt)==="[object Window]"){var nt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(M.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+M.filename+'" width="500px" height="400px" /></body></html>',Dt=kt.open();if(Dt!==null){Dt.document.write(nt);var jt=this;Dt.document.documentElement.querySelector("#pdfViewer").onload=function(){Dt.document.title=M.filename,Dt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(jt.output("bloburl"))}}return Dt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(kt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ts='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",M)+'"></iframe></body></html>',_s=kt.open();if(_s!==null&&(_s.document.write(ts),_s.document.title=M.filename),_s||typeof safari>"u")return _s;break;case"datauri":case"dataurl":return kt.document.location.href=this.output("datauristring",M);default:return null}},br.foo=function(){try{return br.apply(this,arguments)}catch(Q){var x=Q.stack||"";~x.indexOf(" at ")&&(x=x.split(" at ")[1]);var M="Error in function "+x.split(`
`)[0].split("<")[0]+": "+Q.message;if(!kt.console)throw new Error(M);kt.console.error(M,Q),kt.alert&&alert(M)}},br.foo.bar=br,br.foo),vr=function(x){return Array.isArray(kn)===!0&&kn.indexOf(x)>-1};switch(r){case"pt":dt=1;break;case"mm":dt=72/25.4;break;case"cm":dt=72/2.54;break;case"in":dt=72;break;case"px":dt=vr("px_scaling")==1?.75:96/72;break;case"pc":case"em":dt=12;break;case"ex":dt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);dt=r}var As=null;te(),ee();var Si=m.__private__.getPageInfo=m.getPageInfo=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:mt[x].objId,pageNumber:x,pageContext:mt[x]}},ma=m.__private__.getPageInfoByObjId=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var M in mt)if(mt[M].objId===x)break;return Si(M)},fo=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:mt[q].objId,pageNumber:q,pageContext:mt[q]}};m.addPage=function(){return Mn.apply(this,arguments),this},m.setPage=function(){return Fr.apply(this,arguments),we.call(this,Pe[q]),this},m.insertPage=function(x){return this.addPage(),this.movePage(q,x),this},m.movePage=function(x,M){var Q,ce;if(x>M){Q=Pe[x],ce=mt[x];for(var be=x;be>M;be--)Pe[be]=Pe[be-1],mt[be]=mt[be-1];Pe[M]=Q,mt[M]=ce,this.setPage(M)}else if(x<M){Q=Pe[x],ce=mt[x];for(var Ee=x;Ee<M;Ee++)Pe[Ee]=Pe[Ee+1],mt[Ee]=mt[Ee+1];Pe[M]=Q,mt[M]=ce,this.setPage(M)}return this},m.deletePage=function(){return yr.apply(this,arguments),this},m.__private__.text=m.text=function(x,M,Q,ce,be){var Ee,Te,Je,nt,Dt,jt,ts,_s,Xs,ps=(ce=ce||{}).scope||this;if(typeof x=="number"&&typeof M=="number"&&(typeof Q=="string"||Array.isArray(Q))){var Qs=Q;Q=M,M=x,x=Qs}if(arguments[3]instanceof ct==0?(Je=arguments[4],nt=arguments[5],os(ts=arguments[3])==="object"&&ts!==null||(typeof Je=="string"&&(nt=Je,Je=null),typeof ts=="string"&&(nt=ts,ts=null),typeof ts=="number"&&(Je=ts,ts=null),ce={flags:ts,angle:Je,align:nt})):(T("The transform parameter of text() with a Matrix value"),Xs=be),isNaN(M)||isNaN(Q)||x==null)throw new Error("Invalid arguments passed to jsPDF.text");if(x.length===0)return ps;var Js,dr="",fn=typeof ce.lineHeightFactor=="number"?ce.lineHeightFactor:fa,zr=ps.internal.scaleFactor;function Ll(ss){return ss=ss.split("	").join(Array(ce.TabLen||9).join(" ")),Fs(ss,ts)}function yo(ss){for(var ls,zs=ss.concat(),er=[],ai=zs.length;ai--;)typeof(ls=zs.shift())=="string"?er.push(ls):Array.isArray(ss)&&(ls.length===1||ls[1]===void 0&&ls[2]===void 0)?er.push(ls[0]):er.push([ls[0],ls[1],ls[2]]);return er}function xa(ss,ls){var zs;if(typeof ss=="string")zs=ls(ss)[0];else if(Array.isArray(ss)){for(var er,ai,yc=ss.concat(),No=[],Ml=yc.length;Ml--;)typeof(er=yc.shift())=="string"?No.push(ls(er)[0]):Array.isArray(er)&&typeof er[0]=="string"&&(ai=ls(er[0],er[1],er[2]),No.push([ai[0],ai[1],ai[2]]));zs=No}return zs}var Ai=!1,va=!0;if(typeof x=="string")Ai=!0;else if(Array.isArray(x)){var Na=x.concat();Te=[];for(var ka,Nr=Na.length;Nr--;)(typeof(ka=Na.shift())!="string"||Array.isArray(ka)&&typeof ka[0]!="string")&&(va=!1);Ai=va}if(Ai===!1)throw new Error('Type of text must be string or Array. "'+x+'" is not recognized.');typeof x=="string"&&(x=x.match(/[\r?\n]/)?x.split(/\r\n|\r|\n/g):[x]);var wa=_e/ps.internal.scaleFactor,Da=wa*(fn-1);switch(ce.baseline){case"bottom":Q-=Da;break;case"top":Q+=wa-Da;break;case"hanging":Q+=wa-2*Da;break;case"middle":Q+=wa/2-Da}if((jt=ce.maxWidth||0)>0&&(typeof x=="string"?x=ps.splitTextToSize(x,jt):Object.prototype.toString.call(x)==="[object Array]"&&(x=x.reduce(function(ss,ls){return ss.concat(ps.splitTextToSize(ls,jt))},[]))),Ee={text:x,x:M,y:Q,options:ce,mutex:{pdfEscape:Fs,activeFontKey:Qe,fonts:Ze,activeFontSize:_e}},Ht.publish("preProcessText",Ee),x=Ee.text,Je=(ce=Ee.options).angle,Xs instanceof ct==0&&Je&&typeof Je=="number"){Je*=Math.PI/180,ce.rotationDirection===0&&(Je=-Je),C===j&&(Je=-Je);var lc=Math.cos(Je),uc=Math.sin(Je);Xs=new ct(lc,uc,-uc,lc,0,0)}else Je&&Je instanceof ct&&(Xs=Je);C!==j||Xs||(Xs=gr),(Dt=ce.charSpace||go)!==void 0&&(dr+=P(F(Dt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(_s=ce.horizontalScale)!==void 0&&(dr+=P(100*_s)+` Tz
`),ce.lang;var Ts=-1,ni=ce.renderingMode!==void 0?ce.renderingMode:ce.stroke,xo=ps.internal.getCurrentPageInfo().pageContext;switch(ni){case 0:case!1:case"fill":Ts=0;break;case 1:case!0:case"stroke":Ts=1;break;case 2:case"fillThenStroke":Ts=2;break;case 3:case"invisible":Ts=3;break;case 4:case"fillAndAddForClipping":Ts=4;break;case 5:case"strokeAndAddPathForClipping":Ts=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ts=6;break;case 7:case"addToPathForClipping":Ts=7}var Tl=xo.usedRenderingMode!==void 0?xo.usedRenderingMode:-1;Ts!==-1?dr+=Ts+` Tr
`:Tl!==-1&&(dr+=`0 Tr
`),Ts!==-1&&(xo.usedRenderingMode=Ts),nt=ce.align||"left";var hn,Pa=_e*fn,dc=ps.internal.pageSize.getWidth(),mc=Ze[Qe];Dt=ce.charSpace||go,jt=ce.maxWidth||0,ts=Object.assign({autoencode:!0,noBOM:!0},ce.flags);var _i=[],Ca=function(ss){return ps.getStringUnitWidth(ss,{font:mc,charSpace:Dt,fontSize:_e,doKerning:!1})*_e/zr};if(Object.prototype.toString.call(x)==="[object Array]"){var Zr;Te=yo(x),nt!=="left"&&(hn=Te.map(Ca));var Qr,Li=0;if(nt==="right"){M-=hn[0],x=[],Nr=Te.length;for(var ii=0;ii<Nr;ii++)ii===0?(Qr=ei(M),Zr=ti(Q)):(Qr=F(Li-hn[ii]),Zr=-Pa),x.push([Te[ii],Qr,Zr]),Li=hn[ii]}else if(nt==="center"){M-=hn[0]/2,x=[],Nr=Te.length;for(var Ti=0;Ti<Nr;Ti++)Ti===0?(Qr=ei(M),Zr=ti(Q)):(Qr=F((Li-hn[Ti])/2),Zr=-Pa),x.push([Te[Ti],Qr,Zr]),Li=hn[Ti]}else if(nt==="left"){x=[],Nr=Te.length;for(var fc=0;fc<Nr;fc++)x.push(Te[fc])}else if(nt==="justify"&&mc.encoding==="Identity-H"){x=[],Nr=Te.length,jt=jt!==0?jt:dc;for(var vo=0,Bs=0;Bs<Nr;Bs++)if(Zr=Bs===0?ti(Q):-Pa,Qr=Bs===0?ei(M):vo,Bs<Nr-1){var Ul=F((jt-hn[Bs])/(Te[Bs].split(" ").length-1)),Vn=Te[Bs].split(" ");x.push([Vn[0]+" ",Qr,Zr]),vo=0;for(var In=1;In<Vn.length;In++){var hc=(Ca(Vn[In-1]+" "+Vn[In])-Ca(Vn[In]))*zr+Ul;In==Vn.length-1?x.push([Vn[In],hc,0]):x.push([Vn[In]+" ",hc,0]),vo-=hc}}else x.push([Te[Bs],Qr,Zr]);x.push(["",vo,0])}else{if(nt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(x=[],Nr=Te.length,jt=jt!==0?jt:dc,Bs=0;Bs<Nr;Bs++){Zr=Bs===0?ti(Q):-Pa,Qr=Bs===0?ei(M):0;var pc=Te[Bs].split(" ").length-1,gc=pc>0?(jt-hn[Bs])/pc:0;Bs<Nr-1?_i.push(P(F(gc))):_i.push(0),x.push([Te[Bs],Qr,Zr])}}}(typeof ce.R2L=="boolean"?ce.R2L:ut)===!0&&(x=xa(x,function(ss,ls,zs){return[ss.split("").reverse().join(""),ls,zs]})),Ee={text:x,x:M,y:Q,options:ce,mutex:{pdfEscape:Fs,activeFontKey:Qe,fonts:Ze,activeFontSize:_e}},Ht.publish("postProcessText",Ee),x=Ee.text,Js=Ee.mutex.isHex||!1;var bc=Ze[Qe].encoding;bc!=="WinAnsiEncoding"&&bc!=="StandardEncoding"||(x=xa(x,function(ss,ls,zs){return[Ll(ss),ls,zs]})),Te=yo(x),x=[];for(var Ui,Mi,Vi,ja=Array.isArray(Te[0])?1:0,Ii="",Ea=function(ss,ls,zs){var er="";return zs instanceof ct?(zs=typeof ce.angle=="number"?Xr(zs,new ct(1,0,0,1,ss,ls)):Xr(new ct(1,0,0,1,ss,ls),zs),C===j&&(zs=Xr(new ct(1,0,0,-1,0,0),zs)),er=zs.join(" ")+` Tm
`):er=P(ss)+" "+P(ls)+` Td
`,er},pn=0;pn<Te.length;pn++){switch(Ii="",ja){case 1:Vi=(Js?"<":"(")+Te[pn][0]+(Js?">":")"),Ui=parseFloat(Te[pn][1]),Mi=parseFloat(Te[pn][2]);break;case 0:Vi=(Js?"<":"(")+Te[pn]+(Js?">":")"),Ui=ei(M),Mi=ti(Q)}_i!==void 0&&_i[pn]!==void 0&&(Ii=_i[pn]+` Tw
`),pn===0?x.push(Ii+Ea(Ui,Mi,Xs)+Vi):ja===0?x.push(Ii+Vi):ja===1&&x.push(Ii+Ea(Ui,Mi,Xs)+Vi)}x=ja===0?x.join(` Tj
T* `):x.join(` Tj
`),x+=` Tj
`;var Rn=`BT
/`;return Rn+=Qe+" "+_e+` Tf
`,Rn+=P(_e*fn)+` TL
`,Rn+=ha+`
`,Rn+=dr,Rn+=x,W(Rn+="ET"),p[Qe]=!0,ps};var sc=m.__private__.clip=m.clip=function(x){return W(x==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return sc("evenodd")},m.__private__.discardPath=m.discardPath=function(){return W("n"),this};var mn=m.__private__.isValidStyle=function(x){var M=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(x)!==-1&&(M=!0),M};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(x){return mn(x)&&(l=x),this};var O=m.__private__.getStyle=m.getStyle=function(x){var M=l;switch(x){case"D":case"S":M="S";break;case"F":M="f";break;case"FD":case"DF":M="B";break;case"f":case"f*":case"B":case"B*":M=x}return M},K=m.close=function(){return W("h"),this};m.stroke=function(){return W("S"),this},m.fill=function(x){return oe("f",x),this},m.fillEvenOdd=function(x){return oe("f*",x),this},m.fillStroke=function(x){return oe("B",x),this},m.fillStrokeEvenOdd=function(x){return oe("B*",x),this};var oe=function(x,M){os(M)==="object"?ze(M,x):W(x)},ke=function(x){x===null||C===j&&x===void 0||(x=O(x),W(x))};function Ue(x,M,Q,ce,be){var Ee=new za(M||this.boundingBox,Q||this.xStep,ce||this.yStep,this.gState,be||this.matrix);Ee.stream=this.stream;var Te=x+"$$"+this.cloneIndex+++"$$";return ur(Te,Ee),Ee}var ze=function(x,M){var Q=At[x.key],ce=lt[Q];if(ce instanceof Gi)W("q"),W(Lt(M)),ce.gState&&m.setGState(ce.gState),W(x.matrix.toString()+" cm"),W("/"+Q+" sh"),W("Q");else if(ce instanceof za){var be=new ct(1,0,0,-1,0,ya());x.matrix&&(be=be.multiply(x.matrix||gr),Q=Ue.call(ce,x.key,x.boundingBox,x.xStep,x.yStep,be).id),W("q"),W("/Pattern cs"),W("/"+Q+" scn"),ce.gState&&m.setGState(ce.gState),W(M),W("Q")}},Lt=function(x){switch(x){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},ks=m.moveTo=function(x,M){return W(P(F(x))+" "+P(z(M))+" m"),this},ys=m.lineTo=function(x,M){return W(P(F(x))+" "+P(z(M))+" l"),this},ws=m.curveTo=function(x,M,Q,ce,be,Ee){return W([P(F(x)),P(z(M)),P(F(Q)),P(z(ce)),P(F(be)),P(z(Ee)),"c"].join(" ")),this};m.__private__.line=m.line=function(x,M,Q,ce,be){if(isNaN(x)||isNaN(M)||isNaN(Q)||isNaN(ce)||!mn(be))throw new Error("Invalid arguments passed to jsPDF.line");return C===w?this.lines([[Q-x,ce-M]],x,M,[1,1],be||"S"):this.lines([[Q-x,ce-M]],x,M,[1,1]).stroke()},m.__private__.lines=m.lines=function(x,M,Q,ce,be,Ee){var Te,Je,nt,Dt,jt,ts,_s,Xs,ps,Qs,Js,dr;if(typeof x=="number"&&(dr=Q,Q=M,M=x,x=dr),ce=ce||[1,1],Ee=Ee||!1,isNaN(M)||isNaN(Q)||!Array.isArray(x)||!Array.isArray(ce)||!mn(be)||typeof Ee!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ks(M,Q),Te=ce[0],Je=ce[1],Dt=x.length,Qs=M,Js=Q,nt=0;nt<Dt;nt++)(jt=x[nt]).length===2?(Qs=jt[0]*Te+Qs,Js=jt[1]*Je+Js,ys(Qs,Js)):(ts=jt[0]*Te+Qs,_s=jt[1]*Je+Js,Xs=jt[2]*Te+Qs,ps=jt[3]*Je+Js,Qs=jt[4]*Te+Qs,Js=jt[5]*Je+Js,ws(ts,_s,Xs,ps,Qs,Js));return Ee&&K(),ke(be),this},m.path=function(x){for(var M=0;M<x.length;M++){var Q=x[M],ce=Q.c;switch(Q.op){case"m":ks(ce[0],ce[1]);break;case"l":ys(ce[0],ce[1]);break;case"c":ws.apply(this,ce);break;case"h":K()}}return this},m.__private__.rect=m.rect=function(x,M,Q,ce,be){if(isNaN(x)||isNaN(M)||isNaN(Q)||isNaN(ce)||!mn(be))throw new Error("Invalid arguments passed to jsPDF.rect");return C===w&&(ce=-ce),W([P(F(x)),P(z(M)),P(F(Q)),P(F(ce)),"re"].join(" ")),ke(be),this},m.__private__.triangle=m.triangle=function(x,M,Q,ce,be,Ee,Te){if(isNaN(x)||isNaN(M)||isNaN(Q)||isNaN(ce)||isNaN(be)||isNaN(Ee)||!mn(Te))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Q-x,ce-M],[be-Q,Ee-ce],[x-be,M-Ee]],x,M,[1,1],Te,!0),this},m.__private__.roundedRect=m.roundedRect=function(x,M,Q,ce,be,Ee,Te){if(isNaN(x)||isNaN(M)||isNaN(Q)||isNaN(ce)||isNaN(be)||isNaN(Ee)||!mn(Te))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Je=4/3*(Math.SQRT2-1);return be=Math.min(be,.5*Q),Ee=Math.min(Ee,.5*ce),this.lines([[Q-2*be,0],[be*Je,0,be,Ee-Ee*Je,be,Ee],[0,ce-2*Ee],[0,Ee*Je,-be*Je,Ee,-be,Ee],[2*be-Q,0],[-be*Je,0,-be,-Ee*Je,-be,-Ee],[0,2*Ee-ce],[0,-Ee*Je,be*Je,-Ee,be,-Ee]],x+be,M,[1,1],Te,!0),this},m.__private__.ellipse=m.ellipse=function(x,M,Q,ce,be){if(isNaN(x)||isNaN(M)||isNaN(Q)||isNaN(ce)||!mn(be))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ee=4/3*(Math.SQRT2-1)*Q,Te=4/3*(Math.SQRT2-1)*ce;return ks(x+Q,M),ws(x+Q,M-Te,x+Ee,M-ce,x,M-ce),ws(x-Ee,M-ce,x-Q,M-Te,x-Q,M),ws(x-Q,M+Te,x-Ee,M+ce,x,M+ce),ws(x+Ee,M+ce,x+Q,M+Te,x+Q,M),ke(be),this},m.__private__.circle=m.circle=function(x,M,Q,ce){if(isNaN(x)||isNaN(M)||isNaN(Q)||!mn(ce))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(x,M,Q,Q,ce)},m.setFont=function(x,M,Q){return Q&&(M=U(M,Q)),Qe=da(x,M,{disableWarning:!1}),this};var Br=m.__private__.getFont=m.getFont=function(){return Ze[da.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var x,M,Q={};for(x in Nt)if(Nt.hasOwnProperty(x))for(M in Q[x]=[],Nt[x])Nt[x].hasOwnProperty(M)&&Q[x].push(M);return Q},m.addFont=function(x,M,Q,ce,be){var Ee=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ee.indexOf(arguments[3])!==-1?be=arguments[3]:arguments[3]&&Ee.indexOf(arguments[3])==-1&&(Q=U(Q,ce)),wn.call(this,x,M,Q,be=be||"Identity-H")};var fa,rc=s.lineWidth||.200025,Ct=m.__private__.getLineWidth=m.getLineWidth=function(){return rc},_d=m.__private__.setLineWidth=m.setLineWidth=function(x){return rc=x,W(P(F(x))+" w"),this};m.__private__.setLineDash=rt.API.setLineDash=rt.API.setLineDashPattern=function(x,M){if(x=x||[],M=M||0,isNaN(M)||!Array.isArray(x))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return x=x.map(function(Q){return P(F(Q))}).join(" "),M=P(F(M)),W("["+x+"] "+M+" d"),this};var Ld=m.__private__.getLineHeight=m.getLineHeight=function(){return _e*fa};m.__private__.getLineHeight=m.getLineHeight=function(){return _e*fa};var Td=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(x){return typeof(x=x||1.15)=="number"&&(fa=x),this},Ud=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return fa};Td(s.lineHeight);var ei=m.__private__.getHorizontalCoordinate=function(x){return F(x)},ti=m.__private__.getVerticalCoordinate=function(x){return C===j?x:mt[q].mediaBox.topRightY-mt[q].mediaBox.bottomLeftY-F(x)},Md=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(x){return P(ei(x))},Vd=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(x){return P(ti(x))},ho=s.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return _t(ho)},m.__private__.setStrokeColor=m.setDrawColor=function(x,M,Q,ce){return ho=pt({ch1:x,ch2:M,ch3:Q,ch4:ce,pdfColorType:"draw",precision:2}),W(ho),this};var nc=s.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return _t(nc)},m.__private__.setFillColor=m.setFillColor=function(x,M,Q,ce){return nc=pt({ch1:x,ch2:M,ch3:Q,ch4:ce,pdfColorType:"fill",precision:2}),W(nc),this};var ha=s.textColor||"0 g",po=m.__private__.getTextColor=m.getTextColor=function(){return _t(ha)};m.__private__.setTextColor=m.setTextColor=function(x,M,Q,ce){return ha=pt({ch1:x,ch2:M,ch3:Q,ch4:ce,pdfColorType:"text",precision:3}),this};var go=s.charSpace,Id=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(go||0)};m.__private__.setCharSpace=m.setCharSpace=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return go=x,this};var ic=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(x){var M=m.CapJoinStyles[x];if(M===void 0)throw new Error("Line cap style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ic=M,W(M+" J"),this};var ac=0;m.__private__.setLineJoin=m.setLineJoin=function(x){var M=m.CapJoinStyles[x];if(M===void 0)throw new Error("Line join style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ac=M,W(M+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(x){if(x=x||0,isNaN(x))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return W(P(F(x))+" M"),this},m.GState=vl,m.setGState=function(x){(x=typeof x=="string"?ht[fs[x]]:pa(null,x)).equals(ns)||(W("/"+x.id+" gs"),ns=x)};var pa=function(x,M){if(!x||!fs[x]){var Q=!1;for(var ce in ht)if(ht.hasOwnProperty(ce)&&ht[ce].equals(M)){Q=!0;break}if(Q)M=ht[ce];else{var be="GS"+(Object.keys(ht).length+1).toString(10);ht[be]=M,M.id=be}return x&&(fs[x]=M.id),Ht.publish("addGState",M),M}};m.addGState=function(x,M){return pa(x,M),this},m.saveGraphicsState=function(){return W("q"),es.push({key:Qe,size:_e,color:ha}),this},m.restoreGraphicsState=function(){W("Q");var x=es.pop();return Qe=x.key,_e=x.size,ha=x.color,ns=null,this},m.setCurrentTransformationMatrix=function(x){return W(x.toString()+" cm"),this},m.comment=function(x){return W("#"+x),this};var ga=function(x,M){var Q=x||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Q},set:function(Ee){isNaN(Ee)||(Q=parseFloat(Ee))}});var ce=M||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ce},set:function(Ee){isNaN(Ee)||(ce=parseFloat(Ee))}});var be="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return be},set:function(Ee){be=Ee.toString()}}),this},oc=function(x,M,Q,ce){ga.call(this,x,M),this.type="rect";var be=Q||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return be},set:function(Te){isNaN(Te)||(be=parseFloat(Te))}});var Ee=ce||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ee},set:function(Te){isNaN(Te)||(Ee=parseFloat(Te))}}),this},bo=function(){this.page=Gt,this.currentPage=q,this.pages=Pe.slice(0),this.pagesContext=mt.slice(0),this.x=Ge,this.y=Jt,this.matrix=qt,this.width=jl(q),this.height=si(q),this.outputDestination=Ie,this.id="",this.objectNumber=-1};bo.prototype.restore=function(){Gt=this.page,q=this.currentPage,mt=this.pagesContext,Pe=this.pages,Ge=this.x,Jt=this.y,qt=this.matrix,El(q,this.width),ri(q,this.height),Ie=this.outputDestination};var cc=function(x,M,Q,ce,be){Lr.push(new bo),Gt=q=0,Pe=[],Ge=x,Jt=M,qt=be,Tr([Q,ce])};for(var ba in m.beginFormObject=function(x,M,Q,ce,be){return cc(x,M,Q,ce,be),this},m.endFormObject=function(x){return(function(M){if(Or[M])Lr.pop().restore();else{var Q=new bo,ce="Xo"+(Object.keys(Os).length+1).toString(10);Q.id=ce,Or[M]=ce,Os[ce]=Q,Ht.publish("addFormObject",Q),Lr.pop().restore()}})(x),this},m.doFormObject=function(x,M){var Q=Os[Or[x]];return W("q"),W(M.toString()+" cm"),W("/"+Q.id+" Do"),W("Q"),this},m.getFormObject=function(x){var M=Os[Or[x]];return{x:M.x,y:M.y,width:M.width,height:M.height,matrix:M.matrix}},m.save=function(x,M){return x=x||"generated.pdf",(M=M||{}).returnPromise=M.returnPromise||!1,M.returnPromise===!1?(Ra(Pn(Jr()),x),typeof Ra.unload=="function"&&kt.setTimeout&&setTimeout(Ra.unload,911),this):new Promise(function(Q,ce){try{var be=Ra(Pn(Jr()),x);typeof Ra.unload=="function"&&kt.setTimeout&&setTimeout(Ra.unload,911),Q(be)}catch(Ee){ce(Ee.message)}})},rt.API)rt.API.hasOwnProperty(ba)&&(ba==="events"&&rt.API.events.length?(function(x,M){var Q,ce,be;for(be=M.length-1;be!==-1;be--)Q=M[be][0],ce=M[be][1],x.subscribe.apply(x,[Q].concat(typeof ce=="function"?[ce]:ce))})(Ht,rt.API.events):m[ba]=rt.API[ba]);function jl(x){return mt[x].mediaBox.topRightX-mt[x].mediaBox.bottomLeftX}function El(x,M){mt[x].mediaBox.topRightX=M+mt[x].mediaBox.bottomLeftX}function si(x){return mt[x].mediaBox.topRightY-mt[x].mediaBox.bottomLeftY}function ri(x,M){mt[x].mediaBox.topRightY=M+mt[x].mediaBox.bottomLeftY}var Sl=m.getPageWidth=function(x){return jl(x=x||q)/dt},Al=m.setPageWidth=function(x,M){El(x,M*dt)},ya=m.getPageHeight=function(x){return si(x=x||q)/dt},_l=m.setPageHeight=function(x,M){ri(x,M*dt)};return m.internal={pdfEscape:Fs,getStyle:O,getFont:Br,getFontSize:Ve,getCharSpace:Id,getTextColor:po,getLineHeight:Ld,getLineHeightFactor:Ud,getLineWidth:Ct,write:De,getHorizontalCoordinate:ei,getVerticalCoordinate:ti,getCoordinateString:Md,getVerticalCoordinateString:Vd,collections:{},newObject:cs,newAdditionalObject:Re,newObjectDeferred:ie,newObjectDeferredBegin:Ae,getFilters:ft,putStream:Zt,events:Ht,scaleFactor:dt,pageSize:{getWidth:function(){return Sl(q)},setWidth:function(x){Al(q,x)},getHeight:function(){return ya(q)},setHeight:function(x){_l(q,x)}},encryptionOptions:d,encryption:As,getEncryptor:function(x){return d!==null?As.encryptor(x,0):function(M){return M}},output:xr,getNumberOfPages:ua,pages:Pe,out:W,f2:E,f3:L,getPageInfo:Si,getPageInfoByObjId:ma,getCurrentPageInfo:fo,getPDFVersion:y,Point:ga,Rectangle:oc,Matrix:ct,hasHotfix:vr},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return Sl(q)},set:function(x){Al(q,x)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return ya(q)},set:function(x){_l(q,x)},enumerable:!0,configurable:!0}),(function(x){for(var M=0,Q=Ye.length;M<Q;M++){var ce=wn.call(this,x[M][0],x[M][1],x[M][2],Ye[M][3],!0);f===!1&&(p[ce]=!0);var be=x[M][0].split("-");Zs({id:ce,fontName:be[0],fontStyle:be[1]||""})}Ht.publish("addFonts",{fonts:Ze,dictionary:Nt})}).call(m,Ye),Qe="F1",Mn(n,t),Ht.publish("initialized"),m}Io.prototype.lsbFirstWord=function(s){return String.fromCharCode(255&s,s>>8&255,s>>16&255,s>>24&255)},Io.prototype.toHexString=function(s){return s.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Io.prototype.hexToBytes=function(s){for(var e=[],t=0;t<s.length;t+=2)e.push(String.fromCharCode(parseInt(s.substr(t,2),16)));return e.join("")},Io.prototype.processOwnerPassword=function(s,e){return Hf(qf(e).substr(0,5),s)},Io.prototype.encryptor=function(s,e){var t=qf(this.encryptionKey+String.fromCharCode(255&s,s>>8&255,s>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return Hf(t,r)}},vl.prototype.equals=function(s){var e,t="id,objectNumber,equals";if(!s||os(s)!==os(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!s.hasOwnProperty(e)||this[e]!==s[e])return!1;r++}for(e in s)s.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},rt.API={events:[]},rt.version="3.0.3";var Vs=rt.API,Vh=1,mo=function(s){return s.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},To=function(s){return s.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Et=function(s){return s.toFixed(2)},Yi=function(s){return s.toFixed(5)};Vs.__acroform__={};var Kr=function(s,e){s.prototype=Object.create(e.prototype),s.prototype.constructor=s},fy=function(s){return s*Vh},$n=function(s){var e=new Fv,t=He.internal.getHeight(s)||0,r=He.internal.getWidth(s)||0;return e.BBox=[0,0,Number(Et(r)),Number(Et(t))],e},z8=Vs.__acroform__.setBit=function(s,e){if(s=s||0,e=e||0,isNaN(s)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return s|1<<e},$8=Vs.__acroform__.clearBit=function(s,e){if(s=s||0,e=e||0,isNaN(s)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return s&~(1<<e)},W8=Vs.__acroform__.getBit=function(s,e){if(isNaN(s)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return s&1<<e?1:0},Hs=Vs.__acroform__.getBitForPdf=function(s,e){if(isNaN(s)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return W8(s,e-1)},Ys=Vs.__acroform__.setBitForPdf=function(s,e){if(isNaN(s)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return z8(s,e-1)},Gs=Vs.__acroform__.clearBitForPdf=function(s,e){if(isNaN(s)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return $8(s,e-1)},q8=Vs.__acroform__.calculateCoordinates=function(s,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,n=s[0],i=s[1],a=s[2],o=s[3],c={};return c.lowerLeft_X=t(n)||0,c.lowerLeft_Y=r(i+o)||0,c.upperRight_X=t(n+a)||0,c.upperRight_Y=r(i)||0,[Number(Et(c.lowerLeft_X)),Number(Et(c.lowerLeft_Y)),Number(Et(c.upperRight_X)),Number(Et(c.upperRight_Y))]},H8=function(s){if(s.appearanceStreamContent)return s.appearanceStreamContent;if(s.V||s.DV){var e=[],t=s._V||s.DV,r=Yf(s,t),n=s.scope.internal.getFont(s.fontName,s.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(s.scope.__private__.encodeColorString(s.color)),e.push("/"+n+" "+Et(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=$n(s);return i.scope=s.scope,i.stream=e.join(`
`),i}},Yf=function(s,e){var t=s.fontSize===0?s.maxFontSize:s.fontSize,r={text:"",fontSize:""},n=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");n=s.multiline?n.map(function(E){return E.split(`
`)}):n.map(function(E){return[E]});var i=t,a=He.internal.getHeight(s)||0;a=a<0?-a:a;var o=He.internal.getWidth(s)||0;o=o<0?-o:o;var c=function(E,L,F){if(E+1<n.length){var z=L+" "+n[E+1][0];return Mu(z,s,F).width<=o-4}return!1};i++;e:for(;i>0;){e="",i--;var l,d,f=Mu("3",s,i).height,p=s.multiline?a-i:(a-f)/2,m=p+=2,b=0,y=0,v=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+Mu(e,s,i=12).width+", FieldWidth:"+o+`
`;break}for(var N="",w=0,j=0;j<n.length;j++)if(n.hasOwnProperty(j)){var C=!1;if(n[j].length!==1&&v!==n[j].length-1){if((f+2)*(w+2)+2>a)continue e;N+=n[j][v],C=!0,y=j,j--}else{N=(N+=n[j][v]+" ").substr(N.length-1)==" "?N.substr(0,N.length-1):N;var S=parseInt(j),A=c(S,N,i),U=j>=n.length-1;if(A&&!U){N+=" ",v=0;continue}if(A||U){if(U)y=S;else if(s.multiline&&(f+2)*(w+2)+2>a)continue e}else{if(!s.multiline||(f+2)*(w+2)+2>a)continue e;y=S}}for(var P="",T=b;T<=y;T++){var R=n[T];if(s.multiline){if(T===y){P+=R[v]+" ",v=(v+1)%R.length;continue}if(T===b){P+=R[R.length-1]+" ";continue}}P+=R[0]+" "}switch(P=P.substr(P.length-1)==" "?P.substr(0,P.length-1):P,d=Mu(P,s,i).width,s.textAlign){case"right":l=o-d-2;break;case"center":l=(o-d)/2;break;default:l=2}e+=Et(l)+" "+Et(m)+` Td
`,e+="("+mo(P)+`) Tj
`,e+=-Et(l)+` 0 Td
`,m=-(i+2),d=0,b=C?y:y+1,w++,N=""}break}return r.text=e,r.fontSize=i,r},Mu=function(s,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),n=e.scope.getStringUnitWidth(s,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:n}},Y8={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},G8=function(s,e){var t={type:"reference",object:s};e.internal.getPageInfo(s.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(s.page).pageContext.annotations.push(t)},K8=function(s,e){if(e.scope=s,s.internal!==void 0&&(s.internal.acroformPlugin===void 0||s.internal.acroformPlugin.isInitialized===!1)){if(Tn.FieldNum=0,s.internal.acroformPlugin=JSON.parse(JSON.stringify(Y8)),s.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Vh=s.internal.scaleFactor,s.internal.acroformPlugin.acroFormDictionaryRoot=new Bv,s.internal.acroformPlugin.acroFormDictionaryRoot.scope=s,s.internal.acroformPlugin.acroFormDictionaryRoot._eventID=s.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(s)}),s.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in r)if(r.hasOwnProperty(n)){var i=r[n];i.objId=void 0,i.hasAnnotation&&G8(i,t)}})(s)}),s.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(s)}),s.internal.events.subscribe("postPutPages",function(t){(function(r,n){var i=!r;for(var a in r||(n.internal.newObjectDeferredBegin(n.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),n.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||n.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(a)){var o=r[a],c=[],l=o.Rect;if(o.Rect&&(o.Rect=q8(o.Rect,n)),n.internal.newObjectDeferredBegin(o.objId,!0),o.DA=He.createDefaultAppearanceStream(o),os(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(c=o.getKeyValueListForStream()),o.Rect=l,o.hasAppearanceStream&&!o.appearanceStreamContent){var d=H8(o);c.push({key:"AP",value:"<</N "+d+">>"}),n.internal.acroformPlugin.xForms.push(d)}if(o.appearanceStreamContent){var f="";for(var p in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(p)){var m=o.appearanceStreamContent[p];if(f+="/"+p+" ",f+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var a in m)if(m.hasOwnProperty(a)){var b=m[a];typeof b=="function"&&(b=b.call(n,o)),f+="/"+a+" "+b+" ",n.internal.acroformPlugin.xForms.indexOf(b)>=0||n.internal.acroformPlugin.xForms.push(b)}}else typeof(b=m)=="function"&&(b=b.call(n,o)),f+="/"+a+" "+b,n.internal.acroformPlugin.xForms.indexOf(b)>=0||n.internal.acroformPlugin.xForms.push(b);f+=">>"}c.push({key:"AP",value:`<<
`+f+">>"})}n.internal.putStream({additionalKeyValues:c,objectId:o.objId}),n.internal.out("endobj")}i&&(function(y,v){for(var N in y)if(y.hasOwnProperty(N)){var w=N,j=y[N];v.internal.newObjectDeferredBegin(j.objId,!0),os(j)==="object"&&typeof j.putStream=="function"&&j.putStream(),delete y[w]}})(n.internal.acroformPlugin.xForms,n)})(t,s)}),s.internal.acroformPlugin.isInitialized=!0}},Ov=Vs.__acroform__.arrayToPdfArray=function(s,e,t){var r=function(a){return a};if(Array.isArray(s)){for(var n="[",i=0;i<s.length;i++)switch(i!==0&&(n+=" "),os(s[i])){case"boolean":case"number":case"object":n+=s[i].toString();break;case"string":s[i].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),n+="("+mo(r(s[i].toString()))+")"):n+=s[i].toString()}return n+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},nf=function(s,e,t){var r=function(n){return n};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(s=s||"").toString(),"("+mo(r(s))+")"},Gn=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(s){this._objId=s}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Gn.prototype.toString=function(){return this.objId+" 0 R"},Gn.prototype.putStream=function(){var s=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:s,objectId:this.objId}),this.scope.internal.out("endobj")},Gn.prototype.getKeyValueListForStream=function(){var s=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],n=this[r];n&&(Array.isArray(n)?s.push({key:r,value:Ov(n,this.objId,this.scope)}):n instanceof Gn?(n.scope=this.scope,s.push({key:r,value:n.objId+" 0 R"})):typeof n!="function"&&s.push({key:r,value:n}))}return s};var Fv=function(){Gn.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var s,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){s=t.trim()},get:function(){return s||null}})};Kr(Fv,Gn);var Bv=function(){Gn.call(this);var s,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(s){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+mo(t(s))+")"}},set:function(t){s=t}})};Kr(Bv,Gn);var Tn=function s(){Gn.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(N){if(isNaN(N))throw new Error('Invalid value "'+N+'" for attribute F supplied.');e=N}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Hs(e,3)},set:function(N){N?this.F=Ys(e,3):this.F=Gs(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(N){if(isNaN(N))throw new Error('Invalid value "'+N+'" for attribute Ff supplied.');t=N}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(N){r=N!==void 0?N:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(N){r[0]=N}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(N){r[1]=N}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(N){r[2]=N}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(N){r[3]=N}});var n="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return n},set:function(N){switch(N){case"/Btn":case"/Tx":case"/Ch":case"/Sig":n=N;break;default:throw new Error('Invalid value "'+N+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof dd)return;i="FieldObject"+s.FieldNum++}var N=function(w){return w};return this.scope&&(N=this.scope.internal.getEncryptor(this.objId)),"("+mo(N(i))+")"},set:function(N){i=N.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(N){i=N}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(N){a=N}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(N){o=N}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(N){c=N}});var l=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return l===void 0?50/Vh:l},set:function(N){l=N}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(N){d=N}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof dd||this instanceof ta))return nf(f,this.objId,this.scope)},set:function(N){N=N.toString(),f=N}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof ir==0?nf(p,this.objId,this.scope):p},set:function(N){N=N.toString(),p=this instanceof ir==0?N.substr(0,1)==="("?To(N.substr(1,N.length-2)):To(N):N}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ir==1?To(p.substr(1,p.length-1)):p},set:function(N){N=N.toString(),p=this instanceof ir==1?"/"+N:N}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(N){this.V=N}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof ir==0?nf(m,this.objId,this.scope):m},set:function(N){N=N.toString(),m=this instanceof ir==0?N.substr(0,1)==="("?To(N.substr(1,N.length-2)):To(N):N}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ir==1?To(m.substr(1,m.length-1)):m},set:function(N){N=N.toString(),m=this instanceof ir==1?"/"+N:N}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var b,y=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return y},set:function(N){N=!!N,y=N}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(b)return b},set:function(N){b=N}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Hs(this.Ff,1)},set:function(N){N?this.Ff=Ys(this.Ff,1):this.Ff=Gs(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Hs(this.Ff,2)},set:function(N){N?this.Ff=Ys(this.Ff,2):this.Ff=Gs(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Hs(this.Ff,3)},set:function(N){N?this.Ff=Ys(this.Ff,3):this.Ff=Gs(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(N){if([0,1,2].indexOf(N)===-1)throw new Error('Invalid value "'+N+'" for attribute Q supplied.');v=N}}),Object.defineProperty(this,"textAlign",{get:function(){var N;switch(v){case 0:default:N="left";break;case 1:N="center";break;case 2:N="right"}return N},configurable:!0,enumerable:!0,set:function(N){switch(N){case"right":case 2:v=2;break;case"center":case 1:v=1;break;default:v=0}}})};Kr(Tn,Gn);var Ya=function(){Tn.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var s=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return s},set:function(t){s=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return s},set:function(t){s=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Ov(e,this.objId,this.scope)},set:function(t){var r,n;n=[],typeof(r=t)=="string"&&(n=(function(i,a,o){o||(o=1);for(var c,l=[];c=a.exec(i);)l.push(c[o]);return l})(r,/\((.*?)\)/g)),e=n}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Hs(this.Ff,18)},set:function(t){t?this.Ff=Ys(this.Ff,18):this.Ff=Gs(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Hs(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Ys(this.Ff,19):this.Ff=Gs(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Hs(this.Ff,20)},set:function(t){t?(this.Ff=Ys(this.Ff,20),e.sort()):this.Ff=Gs(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Hs(this.Ff,22)},set:function(t){t?this.Ff=Ys(this.Ff,22):this.Ff=Gs(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Hs(this.Ff,23)},set:function(t){t?this.Ff=Ys(this.Ff,23):this.Ff=Gs(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Hs(this.Ff,27)},set:function(t){t?this.Ff=Ys(this.Ff,27):this.Ff=Gs(this.Ff,27)}}),this.hasAppearanceStream=!1};Kr(Ya,Tn);var Ga=function(){Ya.call(this),this.fontName="helvetica",this.combo=!1};Kr(Ga,Ya);var Ka=function(){Ga.call(this),this.combo=!0};Kr(Ka,Ga);var Qc=function(){Ka.call(this),this.edit=!0};Kr(Qc,Ka);var ir=function(){Tn.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Hs(this.Ff,15)},set:function(t){t?this.Ff=Ys(this.Ff,15):this.Ff=Gs(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Hs(this.Ff,16)},set:function(t){t?this.Ff=Ys(this.Ff,16):this.Ff=Gs(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Hs(this.Ff,17)},set:function(t){t?this.Ff=Ys(this.Ff,17):this.Ff=Gs(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Hs(this.Ff,26)},set:function(t){t?this.Ff=Ys(this.Ff,26):this.Ff=Gs(this.Ff,26)}});var s,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(i){return i};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,n=[];for(r in n.push("<<"),e)n.push("/"+r+" ("+mo(t(e[r]))+")");return n.push(">>"),n.join(`
`)}},set:function(t){os(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return s},set:function(t){s=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return s.substr(1,s.length-1)},set:function(t){s="/"+t}})};Kr(ir,Tn);var el=function(){ir.call(this),this.pushButton=!0};Kr(el,ir);var Xa=function(){ir.call(this),this.radio=!0,this.pushButton=!1;var s=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return s},set:function(e){s=e!==void 0?e:[]}})};Kr(Xa,ir);var dd=function(){var s,e;Tn.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return s},set:function(n){s=n}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(n){e=n}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(o){return o};this.scope&&(n=this.scope.internal.getEncryptor(this.objId));var i,a=[];for(i in a.push("<<"),r)a.push("/"+i+" ("+mo(n(r[i]))+")");return a.push(">>"),a.join(`
`)},set:function(n){os(n)==="object"&&(r=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(n){typeof n=="string"&&(r.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=He.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Kr(dd,Tn),Xa.prototype.setAppearance=function(s){if(!("createAppearanceStream"in s)||!("getCA"in s))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=s.createAppearanceStream(t.optionName),t.caption=s.getCA()}},Xa.prototype.createOption=function(s){var e=new dd;return e.Parent=this,e.optionName=s,this.Kids.push(e),X8.call(this.scope,e),e};var tl=function(){ir.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=He.CheckBox.createAppearanceStream()};Kr(tl,ir);var ta=function(){Tn.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Hs(this.Ff,13)},set:function(e){e?this.Ff=Ys(this.Ff,13):this.Ff=Gs(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Hs(this.Ff,21)},set:function(e){e?this.Ff=Ys(this.Ff,21):this.Ff=Gs(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Hs(this.Ff,23)},set:function(e){e?this.Ff=Ys(this.Ff,23):this.Ff=Gs(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Hs(this.Ff,24)},set:function(e){e?this.Ff=Ys(this.Ff,24):this.Ff=Gs(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Hs(this.Ff,25)},set:function(e){e?this.Ff=Ys(this.Ff,25):this.Ff=Gs(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Hs(this.Ff,26)},set:function(e){e?this.Ff=Ys(this.Ff,26):this.Ff=Gs(this.Ff,26)}});var s=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return s},set:function(e){s=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return s},set:function(e){Number.isInteger(e)&&(s=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Kr(ta,Tn);var sl=function(){ta.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Hs(this.Ff,14)},set:function(s){s?this.Ff=Ys(this.Ff,14):this.Ff=Gs(this.Ff,14)}}),this.password=!0};Kr(sl,ta);var He={CheckBox:{createAppearanceStream:function(){return{N:{On:He.CheckBox.YesNormal},D:{On:He.CheckBox.YesPushDown,Off:He.CheckBox.OffPushDown}}},YesPushDown:function(s){var e=$n(s);e.scope=s.scope;var t=[],r=s.scope.internal.getFont(s.fontName,s.fontStyle).id,n=s.scope.__private__.encodeColorString(s.color),i=Yf(s,s.caption);return t.push("0.749023 g"),t.push("0 0 "+Et(He.internal.getWidth(s))+" "+Et(He.internal.getHeight(s))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+Et(i.fontSize)+" Tf "+n),t.push("BT"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(s){var e=$n(s);e.scope=s.scope;var t=s.scope.internal.getFont(s.fontName,s.fontStyle).id,r=s.scope.__private__.encodeColorString(s.color),n=[],i=He.internal.getHeight(s),a=He.internal.getWidth(s),o=Yf(s,s.caption);return n.push("1 g"),n.push("0 0 "+Et(a)+" "+Et(i)+" re"),n.push("f"),n.push("q"),n.push("0 0 1 rg"),n.push("0 0 "+Et(a-1)+" "+Et(i-1)+" re"),n.push("W"),n.push("n"),n.push("0 g"),n.push("BT"),n.push("/"+t+" "+Et(o.fontSize)+" Tf "+r),n.push(o.text),n.push("ET"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(s){var e=$n(s);e.scope=s.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Et(He.internal.getWidth(s))+" "+Et(He.internal.getHeight(s))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(s){var e={D:{Off:He.RadioButton.Circle.OffPushDown},N:{}};return e.N[s]=He.RadioButton.Circle.YesNormal,e.D[s]=He.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(s){var e=$n(s);e.scope=s.scope;var t=[],r=He.internal.getWidth(s)<=He.internal.getHeight(s)?He.internal.getWidth(s)/4:He.internal.getHeight(s)/4;r=Number((.9*r).toFixed(5));var n=He.internal.Bezier_C,i=Number((r*n).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Yi(He.internal.getWidth(s)/2)+" "+Yi(He.internal.getHeight(s)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+i+" "+i+" "+r+" 0 "+r+" c"),t.push("-"+i+" "+r+" -"+r+" "+i+" -"+r+" 0 c"),t.push("-"+r+" -"+i+" -"+i+" -"+r+" 0 -"+r+" c"),t.push(i+" -"+r+" "+r+" -"+i+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(s){var e=$n(s);e.scope=s.scope;var t=[],r=He.internal.getWidth(s)<=He.internal.getHeight(s)?He.internal.getWidth(s)/4:He.internal.getHeight(s)/4;r=Number((.9*r).toFixed(5));var n=Number((2*r).toFixed(5)),i=Number((n*He.internal.Bezier_C).toFixed(5)),a=Number((r*He.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Yi(He.internal.getWidth(s)/2)+" "+Yi(He.internal.getHeight(s)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),t.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),t.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),t.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Yi(He.internal.getWidth(s)/2)+" "+Yi(He.internal.getHeight(s)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),t.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),t.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),t.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(s){var e=$n(s);e.scope=s.scope;var t=[],r=He.internal.getWidth(s)<=He.internal.getHeight(s)?He.internal.getWidth(s)/4:He.internal.getHeight(s)/4;r=Number((.9*r).toFixed(5));var n=Number((2*r).toFixed(5)),i=Number((n*He.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Yi(He.internal.getWidth(s)/2)+" "+Yi(He.internal.getHeight(s)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),t.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),t.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),t.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(s){var e={D:{Off:He.RadioButton.Cross.OffPushDown},N:{}};return e.N[s]=He.RadioButton.Cross.YesNormal,e.D[s]=He.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(s){var e=$n(s);e.scope=s.scope;var t=[],r=He.internal.calculateCross(s);return t.push("q"),t.push("1 1 "+Et(He.internal.getWidth(s)-2)+" "+Et(He.internal.getHeight(s)-2)+" re"),t.push("W"),t.push("n"),t.push(Et(r.x1.x)+" "+Et(r.x1.y)+" m"),t.push(Et(r.x2.x)+" "+Et(r.x2.y)+" l"),t.push(Et(r.x4.x)+" "+Et(r.x4.y)+" m"),t.push(Et(r.x3.x)+" "+Et(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(s){var e=$n(s);e.scope=s.scope;var t=He.internal.calculateCross(s),r=[];return r.push("0.749023 g"),r.push("0 0 "+Et(He.internal.getWidth(s))+" "+Et(He.internal.getHeight(s))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Et(He.internal.getWidth(s)-2)+" "+Et(He.internal.getHeight(s)-2)+" re"),r.push("W"),r.push("n"),r.push(Et(t.x1.x)+" "+Et(t.x1.y)+" m"),r.push(Et(t.x2.x)+" "+Et(t.x2.y)+" l"),r.push(Et(t.x4.x)+" "+Et(t.x4.y)+" m"),r.push(Et(t.x3.x)+" "+Et(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(s){var e=$n(s);e.scope=s.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Et(He.internal.getWidth(s))+" "+Et(He.internal.getHeight(s))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(s){var e=s.scope.internal.getFont(s.fontName,s.fontStyle).id,t=s.scope.__private__.encodeColorString(s.color);return"/"+e+" "+s.fontSize+" Tf "+t}};He.internal={Bezier_C:.551915024494,calculateCross:function(s){var e=He.internal.getWidth(s),t=He.internal.getHeight(s),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},He.internal.getWidth=function(s){var e=0;return os(s)==="object"&&(e=fy(s.Rect[2])),e},He.internal.getHeight=function(s){var e=0;return os(s)==="object"&&(e=fy(s.Rect[3])),e};var X8=Vs.addField=function(s){if(K8(this,s),!(s instanceof Tn))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=s).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),s.page=s.scope.internal.getCurrentPageInfo().pageNumber,this};Vs.AcroFormChoiceField=Ya,Vs.AcroFormListBox=Ga,Vs.AcroFormComboBox=Ka,Vs.AcroFormEditBox=Qc,Vs.AcroFormButton=ir,Vs.AcroFormPushButton=el,Vs.AcroFormRadioButton=Xa,Vs.AcroFormCheckBox=tl,Vs.AcroFormTextField=ta,Vs.AcroFormPasswordField=sl,Vs.AcroFormAppearance=He,Vs.AcroForm={ChoiceField:Ya,ListBox:Ga,ComboBox:Ka,EditBox:Qc,Button:ir,PushButton:el,RadioButton:Xa,CheckBox:tl,TextField:ta,PasswordField:sl,Appearance:He},rt.AcroForm={ChoiceField:Ya,ListBox:Ga,ComboBox:Ka,EditBox:Qc,Button:ir,PushButton:el,RadioButton:Xa,CheckBox:tl,TextField:ta,PasswordField:sl,Appearance:He};var J8=rt.AcroForm;function zv(s){return s.reduce(function(e,t,r){return e[t]=r,e},{})}(function(s){var e="addImage_";s.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=s.__addimage__.getImageFileTypeByImageData=function(E,L){var F,z,Z,re,le,ee=t;if((L=L||t)==="RGBA"||E.data!==void 0&&E.data instanceof Uint8ClampedArray&&"height"in E&&"width"in E)return"RGBA";if(A(E))for(le in r)for(Z=r[le],F=0;F<Z.length;F+=1){for(re=!0,z=0;z<Z[F].length;z+=1)if(Z[F][z]!==void 0&&Z[F][z]!==E[z]){re=!1;break}if(re===!0){ee=le;break}}else for(le in r)for(Z=r[le],F=0;F<Z.length;F+=1){for(re=!0,z=0;z<Z[F].length;z+=1)if(Z[F][z]!==void 0&&Z[F][z]!==E.charCodeAt(z)){re=!1;break}if(re===!0){ee=le;break}}return ee===t&&L!==t&&(ee=L),ee},i=function E(L){for(var F=this.internal.write,z=this.internal.putStream,Z=(0,this.internal.getFilters)();Z.indexOf("FlateEncode")!==-1;)Z.splice(Z.indexOf("FlateEncode"),1);L.objectId=this.internal.newObject();var re=[];if(re.push({key:"Type",value:"/XObject"}),re.push({key:"Subtype",value:"/Image"}),re.push({key:"Width",value:L.width}),re.push({key:"Height",value:L.height}),L.colorSpace===N.INDEXED?re.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(L.palette.length/3-1)+" "+("sMask"in L&&L.sMask!==void 0?L.objectId+2:L.objectId+1)+" 0 R]"}):(re.push({key:"ColorSpace",value:"/"+L.colorSpace}),L.colorSpace===N.DEVICE_CMYK&&re.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),re.push({key:"BitsPerComponent",value:L.bitsPerComponent}),"decodeParameters"in L&&L.decodeParameters!==void 0&&re.push({key:"DecodeParms",value:"<<"+L.decodeParameters+">>"}),"transparency"in L&&Array.isArray(L.transparency)&&L.transparency.length>0){for(var le="",ee=0,pe=L.transparency.length;ee<pe;ee++)le+=L.transparency[ee]+" "+L.transparency[ee]+" ";re.push({key:"Mask",value:"["+le+"]"})}L.sMask!==void 0&&re.push({key:"SMask",value:L.objectId+1+" 0 R"});var ue=L.filter!==void 0?["/"+L.filter]:void 0;if(z({data:L.data,additionalKeyValues:re,alreadyAppliedFilters:ue,objectId:L.objectId}),F("endobj"),"sMask"in L&&L.sMask!==void 0){var te,_=(te=L.sMaskBitsPerComponent)!==null&&te!==void 0?te:L.bitsPerComponent,q={width:L.width,height:L.height,colorSpace:"DeviceGray",bitsPerComponent:_,data:L.sMask};"filter"in L&&(q.decodeParameters="/Predictor ".concat(L.predictor," /Colors 1 /BitsPerComponent ").concat(_," /Columns ").concat(L.width),q.filter=L.filter),E.call(this,q)}if(L.colorSpace===N.INDEXED){var Y=this.internal.newObject();z({data:P(new Uint8Array(L.palette)),objectId:Y}),F("endobj")}},a=function(){var E=this.internal.collections[e+"images"];for(var L in E)i.call(this,E[L])},o=function(){var E,L=this.internal.collections[e+"images"],F=this.internal.write;for(var z in L)F("/I"+(E=L[z]).index,E.objectId,"0","R")},c=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var E=this.internal.collections[e+"images"];return c.call(this),E},d=function(){return Object.keys(this.internal.collections[e+"images"]).length},f=function(E){return typeof s["process"+E.toUpperCase()]=="function"},p=function(E){return os(E)==="object"&&E.nodeType===1},m=function(E,L){if(E.nodeName==="IMG"&&E.hasAttribute("src")){var F=""+E.getAttribute("src");if(F.indexOf("data:image/")===0)return Yu(unescape(F).split("base64,").pop());var z=s.loadFile(F,!0);if(z!==void 0)return z}if(E.nodeName==="CANVAS"){if(E.width===0||E.height===0)throw new Error("Given canvas must have data. Canvas width: "+E.width+", height: "+E.height);var Z;switch(L){case"PNG":Z="image/png";break;case"WEBP":Z="image/webp";break;default:Z="image/jpeg"}return Yu(E.toDataURL(Z,1).split("base64,").pop())}},b=function(E){var L=this.internal.collections[e+"images"];if(L){for(var F in L)if(E===L[F].alias)return L[F]}},y=function(E,L,F){return E||L||(E=-96,L=-96),E<0&&(E=-1*F.width*72/E/this.internal.scaleFactor),L<0&&(L=-1*F.height*72/L/this.internal.scaleFactor),E===0&&(E=L*F.width/F.height),L===0&&(L=E*F.height/F.width),[E,L]},v=function(E,L,F,z,Z,re){var le=y.call(this,F,z,Z),ee=this.internal.getCoordinateString,pe=this.internal.getVerticalCoordinateString,ue=l.call(this);if(F=le[0],z=le[1],ue[Z.index]=Z,re){re*=Math.PI/180;var te=Math.cos(re),_=Math.sin(re),q=function(se){return se.toFixed(4)},Y=[q(te),q(_),q(-1*_),q(te),0,0,"cm"]}this.internal.write("q"),re?(this.internal.write([1,"0","0",1,ee(E),pe(L+z),"cm"].join(" ")),this.internal.write(Y.join(" ")),this.internal.write([ee(F),"0","0",ee(z),"0","0","cm"].join(" "))):this.internal.write([ee(F),"0","0",ee(z),ee(E),pe(L+z),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Z.index+" Do"),this.internal.write("Q")},N=s.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};s.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=s.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},j=s.__addimage__.sHashCode=function(E){var L,F,z=0;if(typeof E=="string")for(F=E.length,L=0;L<F;L++)z=(z<<5)-z+E.charCodeAt(L),z|=0;else if(A(E))for(F=E.byteLength/2,L=0;L<F;L++)z=(z<<5)-z+E[L],z|=0;return z},C=s.__addimage__.validateStringAsBase64=function(E){(E=E||"").toString().trim();var L=!0;return E.length===0&&(L=!1),E.length%4!=0&&(L=!1),/^[A-Za-z0-9+/]+$/.test(E.substr(0,E.length-2))===!1&&(L=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(E.substr(-2))===!1&&(L=!1),L},S=s.__addimage__.extractImageFromDataUrl=function(E){if(E==null||!(E=E.trim()).startsWith("data:"))return null;var L=E.indexOf(",");return L<0?null:E.substring(0,L).trim().endsWith("base64")?E.substring(L+1):null};s.__addimage__.isArrayBuffer=function(E){return E instanceof ArrayBuffer};var A=s.__addimage__.isArrayBufferView=function(E){return E instanceof Int8Array||E instanceof Uint8Array||E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array},U=s.__addimage__.binaryStringToUint8Array=function(E){for(var L=E.length,F=new Uint8Array(L),z=0;z<L;z++)F[z]=E.charCodeAt(z);return F},P=s.__addimage__.arrayBufferToBinaryString=function(E){for(var L="",F=A(E)?E:new Uint8Array(E),z=0;z<F.length;z+=8192)L+=String.fromCharCode.apply(null,F.subarray(z,z+8192));return L};s.addImage=function(){var E,L,F,z,Z,re,le,ee,pe;if(typeof arguments[1]=="number"?(L=t,F=arguments[1],z=arguments[2],Z=arguments[3],re=arguments[4],le=arguments[5],ee=arguments[6],pe=arguments[7]):(L=arguments[1],F=arguments[2],z=arguments[3],Z=arguments[4],re=arguments[5],le=arguments[6],ee=arguments[7],pe=arguments[8]),os(E=arguments[0])==="object"&&!p(E)&&"imageData"in E){var ue=E;E=ue.imageData,L=ue.format||L||t,F=ue.x||F||0,z=ue.y||z||0,Z=ue.w||ue.width||Z,re=ue.h||ue.height||re,le=ue.alias||le,ee=ue.compression||ee,pe=ue.rotation||ue.angle||pe}var te=this.internal.getFilters();if(ee===void 0&&te.indexOf("FlateEncode")!==-1&&(ee="SLOW"),isNaN(F)||isNaN(z))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var _=T.call(this,E,L,le,ee);return v.call(this,F,z,Z,re,_,pe),this};var T=function(E,L,F,z){var Z,re,le;if(typeof E=="string"&&n(E)===t){E=unescape(E);var ee=R(E,!1);(ee!==""||(ee=s.loadFile(E,!0))!==void 0)&&(E=ee)}if(p(E)&&(E=m(E,L)),L=n(E,L),!f(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(((le=F)==null||le.length===0)&&(F=(function(pe){return typeof pe=="string"||A(pe)?j(pe):A(pe.data)?j(pe.data):null})(E)),(Z=b.call(this,F))||(E instanceof Uint8Array||L==="RGBA"||(re=E,E=U(E)),Z=this["process"+L.toUpperCase()](E,d.call(this),F,(function(pe){return pe&&typeof pe=="string"&&(pe=pe.toUpperCase()),pe in s.image_compression?pe:w.NONE})(z),re)),!Z)throw new Error("An unknown error occurred whilst processing the image.");return Z},R=s.__addimage__.convertBase64ToBinaryString=function(E,L){L=typeof L!="boolean"||L;var F,z="";if(typeof E=="string"){var Z;F=(Z=S(E))!==null&&Z!==void 0?Z:E;try{z=Yu(F)}catch(re){if(L)throw C(F)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+re.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return z};s.getImageProperties=function(E){var L,F,z="";if(p(E)&&(E=m(E)),typeof E=="string"&&n(E)===t&&((z=R(E,!1))===""&&(z=s.loadFile(E)||""),E=z),F=n(E),!f(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(E instanceof Uint8Array||(E=U(E)),!(L=this["process"+F.toUpperCase()](E)))throw new Error("An unknown error occurred whilst processing the image");return L.fileType=F,L}})(rt.API),(function(s){var e=function(t){if(t!==void 0&&t!="")return!0};rt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),s.events.push(["putPage",function(t){for(var r,n,i,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(t.objId),l=t.pageContext.annotations,d=!1,f=0;f<l.length&&!d;f++)switch((r=l[f]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var p=0;p<l.length;p++){r=l[p];var m=this.internal.pdfEscape,b=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var y=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),N=this.internal.getEncryptor(y.objId),w=r.title||"Note";i="<</Type /Annot /Subtype /Text "+(n="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y)+"] ")+"/Contents ("+m(N(r.contents))+")",i+=" /Popup "+v.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+m(N(w))+") >>",y.content=i;var j=y.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(n="/Rect ["+a(r.bounds.x+30)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w+30)+" "+o(r.bounds.y)+"] ")+" /Parent "+j,r.open&&(i+=" /Open true"),i+=" >>",v.content=i,this.internal.write(y.objId,"0 R",v.objId,"0 R");break;case"freetext":n="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y+r.bounds.h)+"] ";var C=r.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+n+"/Contents ("+m(b(r.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+C+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(r.options.name){var S=this.annotations._nameMap[r.options.name];r.options.pageNumber=S.page,r.options.top=S.y}else r.options.top||(r.options.top=0);if(n="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",i="",r.options.url)i="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /A <</S /URI /URI ("+m(b(r.options.url))+") >>";else if(r.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,i+=" /FitV "+r.options.left+"]";break;default:var A=o(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),i+=" /XYZ "+r.options.left+" "+A+" "+r.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),s.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},s.link=function(t,r,n,i,a){var o=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:c(t),y:l(r),w:c(t+n),h:l(r+i)},options:a,type:"link"})},s.textWithLink=function(t,r,n,i){var a,o,c=this.getTextWidth(t),l=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){o=i.maxWidth;var d=this.splitTextToSize(t,o).length;a=Math.ceil(l*d)}else o=c,a=l;return this.text(t,r,n,i),n+=.2*l,i.align==="center"&&(r-=c/2),i.align==="right"&&(r-=c),this.link(r,n-l,o,a,i),c},s.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}})(rt.API),(function(s){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},n=[1570,1571,1573,1575];s.__arabicParser__={};var i=s.__arabicParser__.isInArabicSubstitutionA=function(y){return e[y.charCodeAt(0)]!==void 0},a=s.__arabicParser__.isArabicLetter=function(y){return typeof y=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(y)},o=s.__arabicParser__.isArabicEndLetter=function(y){return a(y)&&i(y)&&e[y.charCodeAt(0)].length<=2},c=s.__arabicParser__.isArabicAlfLetter=function(y){return a(y)&&n.indexOf(y.charCodeAt(0))>=0};s.__arabicParser__.arabicLetterHasIsolatedForm=function(y){return a(y)&&i(y)&&e[y.charCodeAt(0)].length>=1};var l=s.__arabicParser__.arabicLetterHasFinalForm=function(y){return a(y)&&i(y)&&e[y.charCodeAt(0)].length>=2};s.__arabicParser__.arabicLetterHasInitialForm=function(y){return a(y)&&i(y)&&e[y.charCodeAt(0)].length>=3};var d=s.__arabicParser__.arabicLetterHasMedialForm=function(y){return a(y)&&i(y)&&e[y.charCodeAt(0)].length==4},f=s.__arabicParser__.resolveLigatures=function(y){var v=0,N=t,w="",j=0;for(v=0;v<y.length;v+=1)N[y.charCodeAt(v)]!==void 0?(j++,typeof(N=N[y.charCodeAt(v)])=="number"&&(w+=String.fromCharCode(N),N=t,j=0),v===y.length-1&&(N=t,w+=y.charAt(v-(j-1)),v-=j-1,j=0)):(N=t,w+=y.charAt(v-j),v-=j,j=0);return w};s.__arabicParser__.isArabicDiacritic=function(y){return y!==void 0&&r[y.charCodeAt(0)]!==void 0};var p=s.__arabicParser__.getCorrectForm=function(y,v,N){return a(y)?i(y)===!1?-1:!l(y)||!a(v)&&!a(N)||!a(N)&&o(v)||o(y)&&!a(v)||o(y)&&c(v)||o(y)&&o(v)?0:d(y)&&a(v)&&!o(v)&&a(N)&&l(N)?3:o(y)||!a(N)?1:2:-1},m=function(y){var v=0,N=0,w=0,j="",C="",S="",A=(y=y||"").split("\\s+"),U=[];for(v=0;v<A.length;v+=1){for(U.push(""),N=0;N<A[v].length;N+=1)j=A[v][N],C=A[v][N-1],S=A[v][N+1],a(j)?(w=p(j,C,S),U[v]+=w!==-1?String.fromCharCode(e[j.charCodeAt(0)][w]):j):U[v]+=j;U[v]=f(U[v])}return U.join(" ")},b=s.__arabicParser__.processArabic=s.processArabic=function(){var y,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,N=[];if(Array.isArray(v)){var w=0;for(N=[],w=0;w<v.length;w+=1)Array.isArray(v[w])?N.push([m(v[w][0]),v[w][1],v[w][2]]):N.push([m(v[w])]);y=N}else y=m(v);return typeof arguments[0]=="string"?y:(arguments[0].text=y,arguments[0])};s.events.push(["preProcessText",b])})(rt.API),rt.API.autoPrint=function(s){var e;return(s=s||{}).variant=s.variant||"non-conform",s.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(s){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(o){t=o}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(o){i=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var n;if((t=t||"2d")!=="2d")return null;for(n in r)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=r[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},s.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(rt.API),(function(s){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),n.call(this))},n=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(y){c=y}});var l=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return l},set:function(y){l=y}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(y){d=y}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(y){f=y}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(y){p=y}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(y){m=y}});var b=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return b},set:function(y){b=y}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},s.setHeaderFunction=function(c){return r.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},s.getTextDimensions=function(c,l){r.call(this);var d=(l=l||{}).fontSize||this.getFontSize(),f=l.font||this.getFont(),p=l.scaleFactor||this.internal.scaleFactor,m=0,b=0,y=0,v=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var N=l.maxWidth;N>0?typeof c=="string"?c=this.splitTextToSize(c,N):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(j,C){return j.concat(v.splitTextToSize(C,N))},[])):c=Array.isArray(c)?c:[c];for(var w=0;w<c.length;w++)m<(y=this.getStringUnitWidth(c[w],{font:f})*d)&&(m=y);return m!==0&&(b=c.length),{w:m/=p,h:Math.max((b*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/p,0)}},s.cellAddPage=function(){r.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=s.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var l=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,p=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return l.lineNumber!==void 0&&(l.lineNumber===c.lineNumber?(c.x=(l.x||0)+(l.width||0),c.y=l.y||0):l.y+l.height+c.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=f.top,m&&p&&(this.printHeaderRow(c.lineNumber,!0),c.y+=p[0].height)):c.y=l.y+l.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,t===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};s.table=function(c,l,d,f,p){if(r.call(this),!d)throw new Error("No data for PDF table.");var m,b,y,v,N=[],w=[],j=[],C={},S={},A=[],U=[],P=(p=p||{}).autoSize||!1,T=p.printHeaders!==!1,R=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,E=p.margins||Object.assign({width:this.getPageWidth()},e),L=typeof p.padding=="number"?p.padding:3,F=p.headerBackgroundColor||"#c8c8c8",z=p.headerTextColor||"#000";if(n.call(this),this.internal.__cell__.printHeaders=T,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=R,this.internal.__cell__.padding=L,this.internal.__cell__.headerBackgroundColor=F,this.internal.__cell__.headerTextColor=z,this.setFontSize(R),f==null)w=N=Object.keys(d[0]),j=N.map(function(){return"left"});else if(Array.isArray(f)&&os(f[0])==="object")for(N=f.map(function(ue){return ue.name}),w=f.map(function(ue){return ue.prompt||ue.name||""}),j=f.map(function(ue){return ue.align||"left"}),m=0;m<f.length;m+=1)S[f[m].name]=.7499990551181103*f[m].width;else Array.isArray(f)&&typeof f[0]=="string"&&(w=N=f,j=N.map(function(){return"left"}));if(P||Array.isArray(f)&&typeof f[0]=="string")for(m=0;m<N.length;m+=1){for(C[v=N[m]]=d.map(function(ue){return ue[v]}),this.setFont(void 0,"bold"),A.push(this.getTextDimensions(w[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),b=C[v],this.setFont(void 0,"normal"),y=0;y<b.length;y+=1)A.push(this.getTextDimensions(b[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);S[v]=Math.max.apply(null,A)+L+L,A=[]}if(T){var Z={};for(m=0;m<N.length;m+=1)Z[N[m]]={},Z[N[m]].text=w[m],Z[N[m]].align=j[m];var re=o.call(this,Z,S);U=N.map(function(ue){return new i(c,l,S[ue],re,Z[ue].text,void 0,Z[ue].align)}),this.setTableHeaderRow(U),this.printHeaderRow(1,!1)}var le=f.reduce(function(ue,te){return ue[te.name]=te.align,ue},{});for(m=0;m<d.length;m+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:m,data:d[m]},this);var ee=o.call(this,d[m],S);for(y=0;y<N.length;y+=1){var pe=d[m][N[y]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:m,col:y,data:pe},this),a.call(this,new i(c,l,S[N[y]],ee,pe,m+2,le[N[y]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=l,this};var o=function(c,l){var d=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(c).map(function(m){var b=c[m];return this.splitTextToSize(b.hasOwnProperty("text")?b.text:b,l[m]-d-d)},this).map(function(m){return this.getLineHeightFactor()*m.length*f/p+d+d},this).reduce(function(m,b){return Math.max(m,b)},0)};s.setTableHeaderRow=function(c){r.call(this),this.internal.__cell__.tableHeaderRow=c},s.printHeaderRow=function(c,l){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){d=this.internal.__cell__.tableHeaderRow[m].clone(),l&&(d.y=this.internal.__cell__.margins.top||0,p.push(d)),d.lineNumber=c;var b=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,d),this.setTextColor(b)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),t=!1}})(rt.API);var $v={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Wv=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Gf=zv(Wv),qv=[100,200,300,400,500,600,700,800,900],Z8=zv(qv);function af(s){var e=s.family.replace(/"|'/g,"").toLowerCase(),t=(function(i){return $v[i=i||"normal"]?i:"normal"})(s.style),r=(function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400})(s.weight),n=(function(i){return typeof Gf[i=i||"normal"]=="number"?i:"normal"})(s.stretch);return{family:e,style:t,weight:r,stretch:n,src:s.src||[],ref:s.ref||{name:e,style:[n,t,r].join(" ")}}}function hy(s,e,t,r){var n;for(n=t;n>=0&&n<e.length;n+=r)if(s[e[n]])return s[e[n]];for(n=t;n>=0&&n<e.length;n-=r)if(s[e[n]])return s[e[n]]}var Q8={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},py={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function gy(s){return[s.stretch,s.style,s.weight,s.family].join(" ")}function by(s){return s.trimLeft()}function e7(s,e){for(var t=0;t<s.length;){if(s.charAt(t)===e)return[s.substring(0,t),s.substring(t+1)];t+=1}return null}function t7(s){var e=s.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],s.substring(e[0].length)]}var Vu,yy,xy,Uo,Iu,vy,Ny,ky,of=["times"];function wy(s,e,t,r,n){var i=4,a=Py;switch(n){case rt.API.image_compression.FAST:i=1,a=Dy;break;case rt.API.image_compression.MEDIUM:i=6,a=Cy;break;case rt.API.image_compression.SLOW:i=9,a=jy}s=(function(c,l,d,f){for(var p,m=c.length/l,b=new Uint8Array(c.length+m),y=[s7,Dy,Py,Cy,jy],v=0;v<m;v+=1){var N=v*l,w=c.subarray(N,N+l);if(f)b.set(f(w,d,p),N+v);else{for(var j=y.length,C=[],S=0;S<j;S+=1)C[S]=y[S](w,d,p);var A=n7(C.concat());b.set(C[A],N+v)}p=w}return b})(s,e,Math.ceil(t*r/8),a);var o=Bf(s,{level:i});return rt.API.__addimage__.arrayBufferToBinaryString(o)}function s7(s){var e=Array.apply([],s);return e.unshift(0),e}function Dy(s,e){var t=s.length,r=[];r[0]=1;for(var n=0;n<t;n+=1){var i=s[n-e]||0;r[n+1]=s[n]-i+256&255}return r}function Py(s,e,t){var r=s.length,n=[];n[0]=2;for(var i=0;i<r;i+=1){var a=t&&t[i]||0;n[i+1]=s[i]-a+256&255}return n}function Cy(s,e,t){var r=s.length,n=[];n[0]=3;for(var i=0;i<r;i+=1){var a=s[i-e]||0,o=t&&t[i]||0;n[i+1]=s[i]+256-(a+o>>>1)&255}return n}function jy(s,e,t){var r=s.length,n=[];n[0]=4;for(var i=0;i<r;i+=1){var a=r7(s[i-e]||0,t&&t[i]||0,t&&t[i-e]||0);n[i+1]=s[i]-a+256&255}return n}function r7(s,e,t){if(s===e&&e===t)return s;var r=Math.abs(e-t),n=Math.abs(s-t),i=Math.abs(s+e-t-t);return r<=n&&r<=i?s:n<=i?e:t}function n7(s){var e=s.map(function(t){return t.reduce(function(r,n){return r+Math.abs(n)},0)});return e.indexOf(Math.min.apply(null,e))}function cf(s,e,t){var r=e*t,n=Math.floor(r/8),i=16-(r-8*n+t),a=(1<<t)-1;return Hv(s,n)>>i&a}function Ey(s,e,t,r){var n=t*r,i=Math.floor(n/8),a=16-(n-8*i+r),o=(1<<r)-1,c=(e&o)<<a;(function(l,d,f){if(d+1<l.byteLength)l.setUint16(d,f,!1);else{var p=f>>8&255;l.setUint8(d,p)}})(s,i,Hv(s,i)&~(o<<a)&65535|c)}function Hv(s,e){return e+1<s.byteLength?s.getUint16(e,!1):s.getUint8(e)<<8}function i7(s){var e=0;if(s[e++]!==71||s[e++]!==73||s[e++]!==70||s[e++]!==56||(s[e++]+1&253)!=56||s[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=s[e++]|s[e++]<<8,r=s[e++]|s[e++]<<8,n=s[e++],i=n>>7,a=1<<1+(7&n);s[e++],s[e++];var o=null,c=null;i&&(o=e,c=a,e+=3*a);var l=!0,d=[],f=0,p=null,m=0,b=null;for(this.width=t,this.height=r;l&&e<s.length;)switch(s[e++]){case 33:switch(s[e++]){case 255:if(s[e]!==11||s[e+1]==78&&s[e+2]==69&&s[e+3]==84&&s[e+4]==83&&s[e+5]==67&&s[e+6]==65&&s[e+7]==80&&s[e+8]==69&&s[e+9]==50&&s[e+10]==46&&s[e+11]==48&&s[e+12]==3&&s[e+13]==1&&s[e+16]==0)e+=14,b=s[e++]|s[e++]<<8,e++;else for(e+=12;;){if(!((E=s[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}break;case 249:if(s[e++]!==4||s[e+4]!==0)throw new Error("Invalid graphics extension block.");var y=s[e++];f=s[e++]|s[e++]<<8,p=s[e++],1&y||(p=null),m=y>>2&7,e++;break;case 254:for(;;){if(!((E=s[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}break;default:throw new Error("Unknown graphic control label: 0x"+s[e-1].toString(16))}break;case 44:var v=s[e++]|s[e++]<<8,N=s[e++]|s[e++]<<8,w=s[e++]|s[e++]<<8,j=s[e++]|s[e++]<<8,C=s[e++],S=C>>6&1,A=1<<1+(7&C),U=o,P=c,T=!1;C>>7&&(T=!0,U=e,P=A,e+=3*A);var R=e;for(e++;;){var E;if(!((E=s[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}d.push({x:v,y:N,width:w,height:j,has_local_palette:T,palette_offset:U,palette_size:P,data_offset:R,data_length:e-R,transparent_index:p,interlaced:!!S,delay:f,disposal:m});break;case 59:l=!1;break;default:throw new Error("Unknown gif block: 0x"+s[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return b},this.frameInfo=function(L){if(L<0||L>=d.length)throw new Error("Frame index out of range.");return d[L]},this.decodeAndBlitFrameBGRA=function(L,F){var z=this.frameInfo(L),Z=z.width*z.height,re=new Uint8Array(Z);Sy(s,z.data_offset,re,Z);var le=z.palette_offset,ee=z.transparent_index;ee===null&&(ee=256);var pe=z.width,ue=t-pe,te=pe,_=4*(z.y*t+z.x),q=4*((z.y+z.height)*t+z.x),Y=_,se=4*ue;z.interlaced===!0&&(se+=4*t*7);for(var ne=8,ae=0,he=re.length;ae<he;++ae){var me=re[ae];if(te===0&&(te=pe,(Y+=se)>=q&&(se=4*ue+4*t*(ne-1),Y=_+(pe+ue)*(ne<<1),ne>>=1)),me===ee)Y+=4;else{var ge=s[le+3*me],Pe=s[le+3*me+1],xe=s[le+3*me+2];F[Y++]=xe,F[Y++]=Pe,F[Y++]=ge,F[Y++]=255}--te}},this.decodeAndBlitFrameRGBA=function(L,F){var z=this.frameInfo(L),Z=z.width*z.height,re=new Uint8Array(Z);Sy(s,z.data_offset,re,Z);var le=z.palette_offset,ee=z.transparent_index;ee===null&&(ee=256);var pe=z.width,ue=t-pe,te=pe,_=4*(z.y*t+z.x),q=4*((z.y+z.height)*t+z.x),Y=_,se=4*ue;z.interlaced===!0&&(se+=4*t*7);for(var ne=8,ae=0,he=re.length;ae<he;++ae){var me=re[ae];if(te===0&&(te=pe,(Y+=se)>=q&&(se=4*ue+4*t*(ne-1),Y=_+(pe+ue)*(ne<<1),ne>>=1)),me===ee)Y+=4;else{var ge=s[le+3*me],Pe=s[le+3*me+1],xe=s[le+3*me+2];F[Y++]=ge,F[Y++]=Pe,F[Y++]=xe,F[Y++]=255}--te}}}function Sy(s,e,t,r){for(var n=s[e++],i=1<<n,a=i+1,o=a+1,c=n+1,l=(1<<c)-1,d=0,f=0,p=0,m=s[e++],b=new Int32Array(4096),y=null;;){for(;d<16&&m!==0;)f|=s[e++]<<d,d+=8,m===1?m=s[e++]:--m;if(d<c)break;var v=f&l;if(f>>=c,d-=c,v!==i){if(v===a)break;for(var N=v<o?v:y,w=0,j=N;j>i;)j=b[j]>>8,++w;var C=j;if(p+w+(N!==v?1:0)>r)return void ms.log("Warning, gif stream longer than expected.");t[p++]=C;var S=p+=w;for(N!==v&&(t[p++]=C),j=N;w--;)j=b[j],t[--S]=255&j,j>>=8;y!==null&&o<4096&&(b[o++]=y<<8|C,o>=l+1&&c<12&&(++c,l=l<<1|1)),y=v}else o=a+1,l=(1<<(c=n+1))-1,y=null}return p!==r&&ms.log("Warning, gif stream shorter than expected."),t}function lf(s){var e,t,r,n,i,a=Math.floor,o=new Array(64),c=new Array(64),l=new Array(64),d=new Array(64),f=new Array(65535),p=new Array(65535),m=new Array(64),b=new Array(64),y=[],v=0,N=7,w=new Array(64),j=new Array(64),C=new Array(64),S=new Array(256),A=new Array(2048),U=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],P=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],R=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],L=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],F=[0,1,2,3,4,5,6,7,8,9,10,11],z=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Z=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function re(_,q){for(var Y=0,se=0,ne=new Array,ae=1;ae<=16;ae++){for(var he=1;he<=_[ae];he++)ne[q[se]]=[],ne[q[se]][0]=Y,ne[q[se]][1]=ae,se++,Y++;Y*=2}return ne}function le(_){for(var q=_[0],Y=_[1]-1;Y>=0;)q&1<<Y&&(v|=1<<N),Y--,--N<0&&(v==255?(ee(255),ee(0)):ee(v),N=7,v=0)}function ee(_){y.push(_)}function pe(_){ee(_>>8&255),ee(255&_)}function ue(_,q,Y,se,ne){for(var ae,he=ne[0],me=ne[240],ge=(function(_e,Be){var Ve,ut,it,Wt,gt,bt,Rt,vt,Qe,dt,Ge=0;for(Qe=0;Qe<8;++Qe){Ve=_e[Ge],ut=_e[Ge+1],it=_e[Ge+2],Wt=_e[Ge+3],gt=_e[Ge+4],bt=_e[Ge+5],Rt=_e[Ge+6];var Jt=Ve+(vt=_e[Ge+7]),qt=Ve-vt,Ze=ut+Rt,Nt=ut-Rt,es=it+bt,lt=it-bt,At=Wt+gt,ht=Wt-gt,fs=Jt+At,ns=Jt-At,Gt=Ze+es,mt=Ze-es;_e[Ge]=fs+Gt,_e[Ge+4]=fs-Gt;var Ht=.707106781*(mt+ns);_e[Ge+2]=ns+Ht,_e[Ge+6]=ns-Ht;var kn=.382683433*((fs=ht+lt)-(mt=Nt+qt)),Os=.5411961*fs+kn,Or=1.306562965*mt+kn,Lr=.707106781*(Gt=lt+Nt),ct=qt+Lr,Xr=qt-Lr;_e[Ge+5]=Xr+Os,_e[Ge+3]=Xr-Os,_e[Ge+1]=ct+Or,_e[Ge+7]=ct-Or,Ge+=8}for(Ge=0,Qe=0;Qe<8;++Qe){Ve=_e[Ge],ut=_e[Ge+8],it=_e[Ge+16],Wt=_e[Ge+24],gt=_e[Ge+32],bt=_e[Ge+40],Rt=_e[Ge+48];var gr=Ve+(vt=_e[Ge+56]),ur=Ve-vt,br=ut+Rt,cs=ut-Rt,ie=it+bt,Ae=it-bt,Re=Wt+gt,ot=Wt-gt,wt=gr+Re,_t=gr-Re,pt=br+ie,ft=br-ie;_e[Ge]=wt+pt,_e[Ge+32]=wt-pt;var Zt=.707106781*(ft+_t);_e[Ge+16]=_t+Zt,_e[Ge+48]=_t-Zt;var Ot=.382683433*((wt=ot+Ae)-(ft=cs+ur)),Ft=.5411961*wt+Ot,hs=1.306562965*ft+Ot,or=.707106781*(pt=Ae+cs),cr=ur+or,Ss=ur-or;_e[Ge+40]=Ss+Ft,_e[Ge+24]=Ss-Ft,_e[Ge+8]=cr+hs,_e[Ge+56]=cr-hs,Ge++}for(Qe=0;Qe<64;++Qe)dt=_e[Qe]*Be[Qe],m[Qe]=dt>0?dt+.5|0:dt-.5|0;return m})(_,q),Pe=0;Pe<64;++Pe)b[U[Pe]]=ge[Pe];var xe=b[0]-Y;Y=b[0],xe==0?le(se[0]):(le(se[p[ae=32767+xe]]),le(f[ae]));for(var Ie=63;Ie>0&&b[Ie]==0;)Ie--;if(Ie==0)return le(he),Y;for(var we,W=1;W<=Ie;){for(var De=W;b[W]==0&&W<=Ie;)++W;var st=W-De;if(st>=16){we=st>>4;for(var Ye=1;Ye<=we;++Ye)le(me);st&=15}ae=32767+b[W],le(ne[(st<<4)+p[ae]]),le(f[ae]),W++}return Ie!=63&&le(he),Y}function te(_){_=Math.min(Math.max(_,1),100),i!=_&&((function(q){for(var Y=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],se=0;se<64;se++){var ne=a((Y[se]*q+50)/100);ne=Math.min(Math.max(ne,1),255),o[U[se]]=ne}for(var ae=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],he=0;he<64;he++){var me=a((ae[he]*q+50)/100);me=Math.min(Math.max(me,1),255),c[U[he]]=me}for(var ge=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Pe=0,xe=0;xe<8;xe++)for(var Ie=0;Ie<8;Ie++)l[Pe]=1/(o[U[Pe]]*ge[xe]*ge[Ie]*8),d[Pe]=1/(c[U[Pe]]*ge[xe]*ge[Ie]*8),Pe++})(_<50?Math.floor(5e3/_):Math.floor(200-2*_)),i=_)}this.encode=function(_,q){q&&te(q),y=new Array,v=0,N=7,pe(65496),pe(65504),pe(16),ee(74),ee(70),ee(73),ee(70),ee(0),ee(1),ee(1),ee(0),pe(1),pe(1),ee(0),ee(0),(function(){pe(65499),pe(132),ee(0);for(var ut=0;ut<64;ut++)ee(o[ut]);ee(1);for(var it=0;it<64;it++)ee(c[it])})(),(function(ut,it){pe(65472),pe(17),ee(8),pe(it),pe(ut),ee(3),ee(1),ee(17),ee(0),ee(2),ee(17),ee(1),ee(3),ee(17),ee(1)})(_.width,_.height),(function(){pe(65476),pe(418),ee(0);for(var ut=0;ut<16;ut++)ee(P[ut+1]);for(var it=0;it<=11;it++)ee(T[it]);ee(16);for(var Wt=0;Wt<16;Wt++)ee(R[Wt+1]);for(var gt=0;gt<=161;gt++)ee(E[gt]);ee(1);for(var bt=0;bt<16;bt++)ee(L[bt+1]);for(var Rt=0;Rt<=11;Rt++)ee(F[Rt]);ee(17);for(var vt=0;vt<16;vt++)ee(z[vt+1]);for(var Qe=0;Qe<=161;Qe++)ee(Z[Qe])})(),pe(65498),pe(12),ee(3),ee(1),ee(0),ee(2),ee(17),ee(3),ee(17),ee(0),ee(63),ee(0);var Y=0,se=0,ne=0;v=0,N=7,this.encode.displayName="_encode_";for(var ae,he,me,ge,Pe,xe,Ie,we,W,De=_.data,st=_.width,Ye=_.height,_e=4*st,Be=0;Be<Ye;){for(ae=0;ae<_e;){for(Pe=_e*Be+ae,Ie=-1,we=0,W=0;W<64;W++)xe=Pe+(we=W>>3)*_e+(Ie=4*(7&W)),Be+we>=Ye&&(xe-=_e*(Be+1+we-Ye)),ae+Ie>=_e&&(xe-=ae+Ie-_e+4),he=De[xe++],me=De[xe++],ge=De[xe++],w[W]=(A[he]+A[me+256|0]+A[ge+512|0]>>16)-128,j[W]=(A[he+768|0]+A[me+1024|0]+A[ge+1280|0]>>16)-128,C[W]=(A[he+1280|0]+A[me+1536|0]+A[ge+1792|0]>>16)-128;Y=ue(w,l,Y,e,r),se=ue(j,d,se,t,n),ne=ue(C,d,ne,t,n),ae+=32}Be+=8}if(N>=0){var Ve=[];Ve[1]=N+1,Ve[0]=(1<<N+1)-1,le(Ve)}return pe(65497),new Uint8Array(y)},s=s||50,(function(){for(var _=String.fromCharCode,q=0;q<256;q++)S[q]=_(q)})(),e=re(P,T),t=re(L,F),r=re(R,E),n=re(z,Z),(function(){for(var _=1,q=2,Y=1;Y<=15;Y++){for(var se=_;se<q;se++)p[32767+se]=Y,f[32767+se]=[],f[32767+se][1]=Y,f[32767+se][0]=se;for(var ne=-(q-1);ne<=-_;ne++)p[32767+ne]=Y,f[32767+ne]=[],f[32767+ne][1]=Y,f[32767+ne][0]=q-1+ne;_<<=1,q<<=1}})(),(function(){for(var _=0;_<256;_++)A[_]=19595*_,A[_+256|0]=38470*_,A[_+512|0]=7471*_+32768,A[_+768|0]=-11059*_,A[_+1024|0]=-21709*_,A[_+1280|0]=32768*_+8421375,A[_+1536|0]=-27439*_,A[_+1792|0]=-5329*_})(),te(s)}function Sn(s,e){if(this.pos=0,this.buffer=s,this.datav=new DataView(s.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Ay(s){function e(T){if(!T)throw Error("assert :P")}function t(T,R,E){for(var L=0;4>L;L++)if(T[R+L]!=E.charCodeAt(L))return!0;return!1}function r(T,R,E,L,F){for(var z=0;z<F;z++)T[R+z]=E[L+z]}function n(T,R,E,L){for(var F=0;F<L;F++)T[R+F]=E}function i(T){return new Int32Array(T)}function a(T,R){for(var E=[],L=0;L<T;L++)E.push(new R);return E}function o(T,R){var E=[];return(function L(F,z,Z){for(var re=Z[z],le=0;le<re&&(F.push(Z.length>z+1?[]:new R),!(Z.length<z+1));le++)L(F[le],z+1,Z)})(E,0,T),E}var c=function(){var T=this;function R(h,g){for(var k=1<<g-1>>>0;h&k;)k>>>=1;return k?(h&k-1)+k:h}function E(h,g,k,D,V){e(!(D%k));do h[g+(D-=k)]=V;while(0<D)}function L(h,g,k,D,V){if(e(2328>=V),512>=V)var I=i(512);else if((I=i(V))==null)return 0;return(function(B,H,G,X,de,Ne){var J,fe,ye=H,Ce=1<<G,ve=i(16),je=i(16);for(e(de!=0),e(X!=null),e(B!=null),e(0<G),fe=0;fe<de;++fe){if(15<X[fe])return 0;++ve[X[fe]]}if(ve[0]==de)return 0;for(je[1]=0,J=1;15>J;++J){if(ve[J]>1<<J)return 0;je[J+1]=je[J]+ve[J]}for(fe=0;fe<de;++fe)J=X[fe],0<X[fe]&&(Ne[je[J]++]=fe);if(je[15]==1)return(X=new F).g=0,X.value=Ne[0],E(B,ye,1,Ce,X),Ce;var Se,Me=-1,Le=Ce-1,at=0,qe=1,Tt=1,et=1<<G;for(fe=0,J=1,de=2;J<=G;++J,de<<=1){if(qe+=Tt<<=1,0>(Tt-=ve[J]))return 0;for(;0<ve[J];--ve[J])(X=new F).g=J,X.value=Ne[fe++],E(B,ye+at,de,et,X),at=R(at,J)}for(J=G+1,de=2;15>=J;++J,de<<=1){if(qe+=Tt<<=1,0>(Tt-=ve[J]))return 0;for(;0<ve[J];--ve[J]){if(X=new F,(at&Le)!=Me){for(ye+=et,Se=1<<(Me=J)-G;15>Me&&!(0>=(Se-=ve[Me]));)++Me,Se<<=1;Ce+=et=1<<(Se=Me-G),B[H+(Me=at&Le)].g=Se+G,B[H+Me].value=ye-H-Me}X.g=J-G,X.value=Ne[fe++],E(B,ye+(at>>G),de,et,X),at=R(at,J)}}return qe!=2*je[15]-1?0:Ce})(h,g,k,D,V,I)}function F(){this.value=this.g=0}function z(){this.value=this.g=0}function Z(){this.G=a(5,F),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Ca,z)}function re(h,g,k,D){e(h!=null),e(g!=null),e(2147483648>D),h.Ca=254,h.I=0,h.b=-8,h.Ka=0,h.oa=g,h.pa=k,h.Jd=g,h.Yc=k+D,h.Zc=4<=D?k+D-4+1:k,he(h)}function le(h,g){for(var k=0;0<g--;)k|=ge(h,128)<<g;return k}function ee(h,g){var k=le(h,g);return me(h)?-k:k}function pe(h,g,k,D){var V,I=0;for(e(h!=null),e(g!=null),e(4294967288>D),h.Sb=D,h.Ra=0,h.u=0,h.h=0,4<D&&(D=4),V=0;V<D;++V)I+=g[k+V]<<8*V;h.Ra=I,h.bb=D,h.oa=g,h.pa=k}function ue(h){for(;8<=h.u&&h.bb<h.Sb;)h.Ra>>>=8,h.Ra+=h.oa[h.pa+h.bb]<<Li-8>>>0,++h.bb,h.u-=8;se(h)&&(h.h=1,h.u=0)}function te(h,g){if(e(0<=g),!h.h&&g<=Qr){var k=Y(h)&Zr[g];return h.u+=g,ue(h),k}return h.h=1,h.u=0}function _(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function q(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Y(h){return h.Ra>>>(h.u&Li-1)>>>0}function se(h){return e(h.bb<=h.Sb),h.h||h.bb==h.Sb&&h.u>Li}function ne(h,g){h.u=g,h.h=se(h)}function ae(h){h.u>=ii&&(e(h.u>=ii),ue(h))}function he(h){e(h!=null&&h.oa!=null),h.pa<h.Zc?(h.I=(h.oa[h.pa++]|h.I<<8)>>>0,h.b+=8):(e(h!=null&&h.oa!=null),h.pa<h.Yc?(h.b+=8,h.I=h.oa[h.pa++]|h.I<<8):h.Ka?h.b=0:(h.I<<=8,h.b+=8,h.Ka=1))}function me(h){return le(h,1)}function ge(h,g){var k=h.Ca;0>h.b&&he(h);var D=h.b,V=k*g>>>8,I=(h.I>>>D>V)+0;for(I?(k-=V,h.I-=V+1<<D>>>0):k=V+1,D=k,V=0;256<=D;)V+=8,D>>=8;return D=7^V+Ti[D],h.b-=D,h.Ca=(k<<D)-1,I}function Pe(h,g,k){h[g+0]=k>>24&255,h[g+1]=k>>16&255,h[g+2]=k>>8&255,h[g+3]=255&k}function xe(h,g){return h[g+0]|h[g+1]<<8}function Ie(h,g){return xe(h,g)|h[g+2]<<16}function we(h,g){return xe(h,g)|xe(h,g+2)<<16}function W(h,g){var k=1<<g;return e(h!=null),e(0<g),h.X=i(k),h.X==null?0:(h.Mb=32-g,h.Xa=g,1)}function De(h,g){e(h!=null),e(g!=null),e(h.Xa==g.Xa),r(g.X,0,h.X,0,1<<g.Xa)}function st(){this.X=[],this.Xa=this.Mb=0}function Ye(h,g,k,D){e(k!=null),e(D!=null);var V=k[0],I=D[0];return V==0&&(V=(h*I+g/2)/g),I==0&&(I=(g*V+h/2)/h),0>=V||0>=I?0:(k[0]=V,D[0]=I,1)}function _e(h,g){return h+(1<<g)-1>>>g}function Be(h,g){return((4278255360&h)+(4278255360&g)>>>0&4278255360)+((16711935&h)+(16711935&g)>>>0&16711935)>>>0}function Ve(h,g){T[g]=function(k,D,V,I,B,H,G){var X;for(X=0;X<B;++X){var de=T[h](H[G+X-1],V,I+X);H[G+X]=Be(k[D+X],de)}}}function ut(){this.ud=this.hd=this.jd=0}function it(h,g){return((4278124286&(h^g))>>>1)+(h&g)>>>0}function Wt(h){return 0<=h&&256>h?h:0>h?0:255<h?255:void 0}function gt(h,g){return Wt(h+(h-g+.5>>1))}function bt(h,g,k){return Math.abs(g-k)-Math.abs(h-k)}function Rt(h,g,k,D,V,I,B){for(D=I[B-1],k=0;k<V;++k)I[B+k]=D=Be(h[g+k],D)}function vt(h,g,k,D,V){var I;for(I=0;I<k;++I){var B=h[g+I],H=B>>8&255,G=16711935&(G=(G=16711935&B)+((H<<16)+H));D[V+I]=(4278255360&B)+G>>>0}}function Qe(h,g){g.jd=255&h,g.hd=h>>8&255,g.ud=h>>16&255}function dt(h,g,k,D,V,I){var B;for(B=0;B<D;++B){var H=g[k+B],G=H>>>8,X=H,de=255&(de=(de=H>>>16)+((h.jd<<24>>24)*(G<<24>>24)>>>5));X=255&(X=(X+=(h.hd<<24>>24)*(G<<24>>24)>>>5)+((h.ud<<24>>24)*(de<<24>>24)>>>5)),V[I+B]=(4278255360&H)+(de<<16)+X}}function Ge(h,g,k,D,V){T[g]=function(I,B,H,G,X,de,Ne,J,fe){for(G=Ne;G<J;++G)for(Ne=0;Ne<fe;++Ne)X[de++]=V(H[D(I[B++])])},T[h]=function(I,B,H,G,X,de,Ne){var J=8>>I.b,fe=I.Ea,ye=I.K[0],Ce=I.w;if(8>J)for(I=(1<<I.b)-1,Ce=(1<<J)-1;B<H;++B){var ve,je=0;for(ve=0;ve<fe;++ve)ve&I||(je=D(G[X++])),de[Ne++]=V(ye[je&Ce]),je>>=J}else T["VP8LMapColor"+k](G,X,ye,Ce,de,Ne,B,H,fe)}}function Jt(h,g,k,D,V){for(k=g+k;g<k;){var I=h[g++];D[V++]=I>>16&255,D[V++]=I>>8&255,D[V++]=255&I}}function qt(h,g,k,D,V){for(k=g+k;g<k;){var I=h[g++];D[V++]=I>>16&255,D[V++]=I>>8&255,D[V++]=255&I,D[V++]=I>>24&255}}function Ze(h,g,k,D,V){for(k=g+k;g<k;){var I=(B=h[g++])>>16&240|B>>12&15,B=240&B|B>>28&15;D[V++]=I,D[V++]=B}}function Nt(h,g,k,D,V){for(k=g+k;g<k;){var I=(B=h[g++])>>16&248|B>>13&7,B=B>>5&224|B>>3&31;D[V++]=I,D[V++]=B}}function es(h,g,k,D,V){for(k=g+k;g<k;){var I=h[g++];D[V++]=255&I,D[V++]=I>>8&255,D[V++]=I>>16&255}}function lt(h,g,k,D,V,I){if(I==0)for(k=g+k;g<k;)Pe(D,((I=h[g++])[0]>>24|I[1]>>8&65280|I[2]<<8&16711680|I[3]<<24)>>>0),V+=32;else r(D,V,h,g,k)}function At(h,g){T[g][0]=T[h+"0"],T[g][1]=T[h+"1"],T[g][2]=T[h+"2"],T[g][3]=T[h+"3"],T[g][4]=T[h+"4"],T[g][5]=T[h+"5"],T[g][6]=T[h+"6"],T[g][7]=T[h+"7"],T[g][8]=T[h+"8"],T[g][9]=T[h+"9"],T[g][10]=T[h+"10"],T[g][11]=T[h+"11"],T[g][12]=T[h+"12"],T[g][13]=T[h+"13"],T[g][14]=T[h+"0"],T[g][15]=T[h+"0"]}function ht(h){return h==Fd||h==Bd||h==Bl||h==zd}function fs(){this.eb=[],this.size=this.A=this.fb=0}function ns(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Gt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new fs,this.f.kb=new ns,this.sd=null}function mt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ht(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function kn(h){return alert("todo:WebPSamplerProcessPlane"),h.T}function Os(h,g){var k=h.T,D=g.ba.f.RGBA,V=D.eb,I=D.fb+h.ka*D.A,B=bn[g.ba.S],H=h.y,G=h.O,X=h.f,de=h.N,Ne=h.ea,J=h.W,fe=g.cc,ye=g.dc,Ce=g.Mc,ve=g.Nc,je=h.ka,Se=h.ka+h.T,Me=h.U,Le=Me+1>>1;for(je==0?B(H,G,null,null,X,de,Ne,J,X,de,Ne,J,V,I,null,null,Me):(B(g.ec,g.fc,H,G,fe,ye,Ce,ve,X,de,Ne,J,V,I-D.A,V,I,Me),++k);je+2<Se;je+=2)fe=X,ye=de,Ce=Ne,ve=J,de+=h.Rc,J+=h.Rc,I+=2*D.A,B(H,(G+=2*h.fa)-h.fa,H,G,fe,ye,Ce,ve,X,de,Ne,J,V,I-D.A,V,I,Me);return G+=h.fa,h.j+Se<h.o?(r(g.ec,g.fc,H,G,Me),r(g.cc,g.dc,X,de,Le),r(g.Mc,g.Nc,Ne,J,Le),k--):1&Se||B(H,G,null,null,X,de,Ne,J,X,de,Ne,J,V,I+D.A,null,null,Me),k}function Or(h,g,k){var D=h.F,V=[h.J];if(D!=null){var I=h.U,B=g.ba.S,H=B==Fl||B==Bl;g=g.ba.f.RGBA;var G=[0],X=h.ka;G[0]=h.T,h.Kb&&(X==0?--G[0]:(--X,V[0]-=h.width),h.j+h.ka+h.T==h.o&&(G[0]=h.o-h.j-X));var de=g.eb;X=g.fb+X*g.A,h=qh(D,V[0],h.width,I,G,de,X+(H?0:3),g.A),e(k==G),h&&ht(B)&&xc(de,X,H,I,G,g.A)}return 0}function Lr(h){var g=h.ma,k=g.ba.S,D=11>k,V=k==Rl||k==Ol||k==Fl||k==Od||k==12||ht(k);if(g.memory=null,g.Ib=null,g.Jb=null,g.Nd=null,!dc(g.Oa,h,V?11:12))return 0;if(V&&ht(k)&&Ll(),h.da)alert("todo:use_scaling");else{if(D){if(g.Ib=kn,h.Kb){if(k=h.U+1>>1,g.memory=i(h.U+2*k),g.memory==null)return 0;g.ec=g.memory,g.fc=0,g.cc=g.ec,g.dc=g.fc+h.U,g.Mc=g.cc,g.Nc=g.dc+k,g.Ib=Os,Ll()}}else alert("todo:EmitYUV");V&&(g.Jb=Or,D&&fn())}if(D&&!op){for(h=0;256>h;++h)xN[h]=89858*(h-128)+$l>>zl,kN[h]=-22014*(h-128)+$l,NN[h]=-45773*(h-128),vN[h]=113618*(h-128)+$l>>zl;for(h=Nc;h<qd;++h)g=76283*(h-16)+$l>>zl,wN[h-Nc]=Ts(g,255),DN[h-Nc]=Ts(g+8>>4,15);op=1}return 1}function ct(h){var g=h.ma,k=h.U,D=h.T;return e(!(1&h.ka)),0>=k||0>=D?0:(k=g.Ib(h,g),g.Jb!=null&&g.Jb(h,g,k),g.Dc+=k,1)}function Xr(h){h.ma.memory=null}function gr(h,g,k,D){return te(h,8)!=47?0:(g[0]=te(h,14)+1,k[0]=te(h,14)+1,D[0]=te(h,1),te(h,3)!=0?0:!h.h)}function ur(h,g){if(4>h)return h+1;var k=h-2>>1;return(2+(1&h)<<k)+te(g,k)+1}function br(h,g){return 120<g?g-120:1<=(k=((k=iN[g-1])>>4)*h+(8-(15&k)))?k:1;var k}function cs(h,g,k){var D=Y(k),V=h[g+=255&D].g-8;return 0<V&&(ne(k,k.u+8),D=Y(k),g+=h[g].value,g+=D&(1<<V)-1),ne(k,k.u+h[g].g),h[g].value}function ie(h,g,k){return k.g+=h.g,k.value+=h.value<<g>>>0,e(8>=k.g),h.g}function Ae(h,g,k){var D=h.xc;return e((g=D==0?0:h.vc[h.md*(k>>D)+(g>>D)])<h.Wb),h.Ya[g]}function Re(h,g,k,D){var V=h.ab,I=h.c*g,B=h.C;g=B+g;var H=k,G=D;for(D=h.Ta,k=h.Ua;0<V--;){var X=h.gc[V],de=B,Ne=g,J=H,fe=G,ye=(G=D,H=k,X.Ea);switch(e(de<Ne),e(Ne<=X.nc),X.hc){case 2:Bs(J,fe,(Ne-de)*ye,G,H);break;case 0:var Ce=de,ve=Ne,je=G,Se=H,Me=(et=X).Ea;Ce==0&&(fc(J,fe,null,null,1,je,Se),Rt(J,fe+1,0,0,Me-1,je,Se+1),fe+=Me,Se+=Me,++Ce);for(var Le=1<<et.b,at=Le-1,qe=_e(Me,et.b),Tt=et.K,et=et.w+(Ce>>et.b)*qe;Ce<ve;){var Yt=Tt,tr=et,Ut=1;for(vo(J,fe,je,Se-Me,1,je,Se);Ut<Me;){var tt=(Ut&~at)+Le;tt>Me&&(tt=Me),(0,pc[Yt[tr++]>>8&15])(J,fe+ +Ut,je,Se+Ut-Me,tt-Ut,je,Se+Ut),Ut=tt}fe+=Me,Se+=Me,++Ce&at||(et+=qe)}Ne!=X.nc&&r(G,H-ye,G,H+(Ne-de-1)*ye,ye);break;case 1:for(ye=J,ve=fe,Me=(J=X.Ea)-(Se=J&~(je=(fe=1<<X.b)-1)),Ce=_e(J,X.b),Le=X.K,X=X.w+(de>>X.b)*Ce;de<Ne;){for(at=Le,qe=X,Tt=new ut,et=ve+Se,Yt=ve+J;ve<et;)Qe(at[qe++],Tt),gc(Tt,ye,ve,fe,G,H),ve+=fe,H+=fe;ve<Yt&&(Qe(at[qe++],Tt),gc(Tt,ye,ve,Me,G,H),ve+=Me,H+=Me),++de&je||(X+=Ce)}break;case 3:if(J==G&&fe==H&&0<X.b){for(ve=G,J=ye=H+(Ne-de)*ye-(Se=(Ne-de)*_e(X.Ea,X.b)),fe=G,je=H,Ce=[],Se=(Me=Se)-1;0<=Se;--Se)Ce[Se]=fe[je+Se];for(Se=Me-1;0<=Se;--Se)ve[J+Se]=Ce[Se];Ul(X,de,Ne,G,ye,G,H)}else Ul(X,de,Ne,J,fe,G,H)}H=D,G=k}G!=k&&r(D,k,H,G,I)}function ot(h,g){var k=h.V,D=h.Ba+h.c*h.C,V=g-h.C;if(e(g<=h.l.o),e(16>=V),0<V){var I=h.l,B=h.Ta,H=h.Ua,G=I.width;if(Re(h,V,k,D),V=H=[H],e((k=h.C)<(D=g)),e(I.v<I.va),D>I.o&&(D=I.o),k<I.j){var X=I.j-k;k=I.j,V[0]+=X*G}if(k>=D?k=0:(V[0]+=4*I.v,I.ka=k-I.j,I.U=I.va-I.v,I.T=D-k,k=1),k){if(H=H[0],11>(k=h.ca).S){var de=k.f.RGBA,Ne=(D=k.S,V=I.U,I=I.T,X=de.eb,de.A),J=I;for(de=de.fb+h.Ma*de.A;0<J--;){var fe=B,ye=H,Ce=V,ve=X,je=de;switch(D){case Il:bc(fe,ye,Ce,ve,je);break;case Rl:Ui(fe,ye,Ce,ve,je);break;case Fd:Ui(fe,ye,Ce,ve,je),xc(ve,je,0,Ce,1,0);break;case Zh:ja(fe,ye,Ce,ve,je);break;case Ol:lt(fe,ye,Ce,ve,je,1);break;case Bd:lt(fe,ye,Ce,ve,je,1),xc(ve,je,0,Ce,1,0);break;case Fl:lt(fe,ye,Ce,ve,je,0);break;case Bl:lt(fe,ye,Ce,ve,je,0),xc(ve,je,1,Ce,1,0);break;case Od:Mi(fe,ye,Ce,ve,je);break;case zd:Mi(fe,ye,Ce,ve,je),Wh(ve,je,Ce,1,0);break;case Qh:Vi(fe,ye,Ce,ve,je);break;default:e(0)}H+=G,de+=Ne}h.Ma+=I}else alert("todo:EmitRescaledRowsYUVA");e(h.Ma<=k.height)}}h.C=g,e(h.C<=h.i)}function wt(h){var g;if(0<h.ua)return 0;for(g=0;g<h.Wb;++g){var k=h.Ya[g].G,D=h.Ya[g].H;if(0<k[1][D[1]+0].g||0<k[2][D[2]+0].g||0<k[3][D[3]+0].g)return 0}return 1}function _t(h,g,k,D,V,I){if(h.Z!=0){var B=h.qd,H=h.rd;for(e(Oi[h.Z]!=null);g<k;++g)Oi[h.Z](B,H,D,V,D,V,I),B=D,H=V,V+=I;h.qd=B,h.rd=H}}function pt(h,g){var k=h.l.ma,D=k.Z==0||k.Z==1?h.l.j:h.C;if(D=h.C<D?D:h.C,e(g<=h.l.o),g>D){var V=h.l.width,I=k.ca,B=k.tb+V*D,H=h.V,G=h.Ba+h.c*D,X=h.gc;e(h.ab==1),e(X[0].hc==3),In(X[0],D,g,H,G,I,B),_t(k,D,g,I,B,V)}h.C=h.Ma=g}function ft(h,g,k,D,V,I,B){var H=h.$/D,G=h.$%D,X=h.m,de=h.s,Ne=k+h.$,J=Ne;V=k+D*V;var fe=k+D*I,ye=280+de.ua,Ce=h.Pb?H:16777216,ve=0<de.ua?de.Wa:null,je=de.wc,Se=Ne<fe?Ae(de,G,H):null;e(h.C<I),e(fe<=V);var Me=!1;e:for(;;){for(;Me||Ne<fe;){var Le=0;if(H>=Ce){var at=Ne-k;e((Ce=h).Pb),Ce.wd=Ce.m,Ce.xd=at,0<Ce.s.ua&&De(Ce.s.Wa,Ce.s.vb),Ce=H+oN}if(G&je||(Se=Ae(de,G,H)),e(Se!=null),Se.Qb&&(g[Ne]=Se.qb,Me=!0),!Me)if(ae(X),Se.jc){Le=X,at=g;var qe=Ne,Tt=Se.pd[Y(Le)&Ca-1];e(Se.jc),256>Tt.g?(ne(Le,Le.u+Tt.g),at[qe]=Tt.value,Le=0):(ne(Le,Le.u+Tt.g-256),e(256<=Tt.value),Le=Tt.value),Le==0&&(Me=!0)}else Le=cs(Se.G[0],Se.H[0],X);if(X.h)break;if(Me||256>Le){if(!Me)if(Se.nd)g[Ne]=(Se.qb|Le<<8)>>>0;else{if(ae(X),Me=cs(Se.G[1],Se.H[1],X),ae(X),at=cs(Se.G[2],Se.H[2],X),qe=cs(Se.G[3],Se.H[3],X),X.h)break;g[Ne]=(qe<<24|Me<<16|Le<<8|at)>>>0}if(Me=!1,++Ne,++G>=D&&(G=0,++H,B!=null&&H<=I&&!(H%16)&&B(h,H),ve!=null))for(;J<Ne;)Le=g[J++],ve.X[(506832829*Le&4294967295)>>>ve.Mb]=Le}else if(280>Le){if(Le=ur(Le-256,X),at=cs(Se.G[4],Se.H[4],X),ae(X),at=br(D,at=ur(at,X)),X.h)break;if(Ne-k<at||V-Ne<Le)break e;for(qe=0;qe<Le;++qe)g[Ne+qe]=g[Ne+qe-at];for(Ne+=Le,G+=Le;G>=D;)G-=D,++H,B!=null&&H<=I&&!(H%16)&&B(h,H);if(e(Ne<=V),G&je&&(Se=Ae(de,G,H)),ve!=null)for(;J<Ne;)Le=g[J++],ve.X[(506832829*Le&4294967295)>>>ve.Mb]=Le}else{if(!(Le<ye))break e;for(Me=Le-280,e(ve!=null);J<Ne;)Le=g[J++],ve.X[(506832829*Le&4294967295)>>>ve.Mb]=Le;Le=Ne,e(!(Me>>>(at=ve).Xa)),g[Le]=at.X[Me],Me=!0}Me||e(X.h==se(X))}if(h.Pb&&X.h&&Ne<V)e(h.m.h),h.a=5,h.m=h.wd,h.$=h.xd,0<h.s.ua&&De(h.s.vb,h.s.Wa);else{if(X.h)break e;B?.(h,H>I?I:H),h.a=0,h.$=Ne-k}return 1}return h.a=3,0}function Zt(h){e(h!=null),h.vc=null,h.yc=null,h.Ya=null;var g=h.Wa;g!=null&&(g.X=null),h.vb=null,e(h!=null)}function Ot(){var h=new nt;return h==null?null:(h.a=0,h.xb=sp,At("Predictor","VP8LPredictors"),At("Predictor","VP8LPredictors_C"),At("PredictorAdd","VP8LPredictorsAdd"),At("PredictorAdd","VP8LPredictorsAdd_C"),Bs=vt,gc=dt,bc=Jt,Ui=qt,Mi=Ze,Vi=Nt,ja=es,T.VP8LMapColor32b=Vn,T.VP8LMapColor8b=hc,h)}function Ft(h,g,k,D,V){var I=1,B=[h],H=[g],G=D.m,X=D.s,de=null,Ne=0;e:for(;;){if(k)for(;I&&te(G,1);){var J=B,fe=H,ye=D,Ce=1,ve=ye.m,je=ye.gc[ye.ab],Se=te(ve,2);if(ye.Oc&1<<Se)I=0;else{switch(ye.Oc|=1<<Se,je.hc=Se,je.Ea=J[0],je.nc=fe[0],je.K=[null],++ye.ab,e(4>=ye.ab),Se){case 0:case 1:je.b=te(ve,3)+2,Ce=Ft(_e(je.Ea,je.b),_e(je.nc,je.b),0,ye,je.K),je.K=je.K[0];break;case 3:var Me,Le=te(ve,8)+1,at=16<Le?0:4<Le?1:2<Le?2:3;if(J[0]=_e(je.Ea,at),je.b=at,Me=Ce=Ft(Le,1,0,ye,je.K)){var qe,Tt=Le,et=je,Yt=1<<(8>>et.b),tr=i(Yt);if(tr==null)Me=0;else{var Ut=et.K[0],tt=et.w;for(tr[0]=et.K[0][0],qe=1;qe<1*Tt;++qe)tr[qe]=Be(Ut[tt+qe],tr[qe-1]);for(;qe<4*Yt;++qe)tr[qe]=0;et.K[0]=null,et.K[0]=tr,Me=1}}Ce=Me;break;case 2:break;default:e(0)}I=Ce}}if(B=B[0],H=H[0],I&&te(G,1)&&!(I=1<=(Ne=te(G,4))&&11>=Ne)){D.a=3;break e}var Oe;if(Oe=I)t:{var $s,St,Kt,xs=D,mr=B,Mr=H,Us=Ne,kr=k,Vr=xs.m,sr=xs.s,Xt=[null],is=1,Ms=0,as=aN[Us];s:for(;;){if(kr&&te(Vr,1)){var fr=te(Vr,3)+2,jn=_e(mr,fr),Ws=_e(Mr,fr),$r=jn*Ws;if(!Ft(jn,Ws,0,xs,Xt))break s;for(Xt=Xt[0],sr.xc=fr,$s=0;$s<$r;++$s){var us=Xt[$s]>>8&65535;Xt[$s]=us,us>=is&&(is=us+1)}}if(Vr.h)break s;for(St=0;5>St;++St){var rr=ep[St];!St&&0<Us&&(rr+=1<<Us),Ms<rr&&(Ms=rr)}var tn=a(is*as,F),Ir=is,sn=a(Ir,Z);if(sn==null)var rn=null;else e(65536>=Ir),rn=sn;var Wr=i(Ms);if(rn==null||Wr==null||tn==null){xs.a=1;break s}var nn=tn;for($s=Kt=0;$s<is;++$s){var gs=rn[$s],an=gs.G,En=gs.H,Sa=0,ci=1,hr=0;for(St=0;5>St;++St){rr=ep[St],an[St]=nn,En[St]=Kt,!St&&0<Us&&(rr+=1<<Us);n:{var ql,Hd=rr,Hl=xs,kc=Wr,jN=nn,EN=Kt,Yd=0,Fi=Hl.m,SN=te(Fi,1);if(n(kc,0,0,Hd),SN){var AN=te(Fi,1)+1,_N=te(Fi,1),up=te(Fi,_N==0?1:8);kc[up]=1,AN==2&&(kc[up=te(Fi,8)]=1);var Yl=1}else{var dp=i(19),mp=te(Fi,4)+4;if(19<mp){Hl.a=3;var Gl=0;break n}for(ql=0;ql<mp;++ql)dp[nN[ql]]=te(Fi,3);var Gd=void 0,wc=void 0,fp=Hl,LN=dp,Kl=Hd,hp=kc,Kd=0,Bi=fp.m,pp=8,gp=a(128,F);r:for(;L(gp,0,7,LN,19);){if(te(Bi,1)){var TN=2+2*te(Bi,3);if((Gd=2+te(Bi,TN))>Kl)break r}else Gd=Kl;for(wc=0;wc<Kl&&Gd--;){ae(Bi);var bp=gp[0+(127&Y(Bi))];ne(Bi,Bi.u+bp.g);var ko=bp.value;if(16>ko)hp[wc++]=ko,ko!=0&&(pp=ko);else{var UN=ko==16,yp=ko-16,MN=sN[yp],xp=te(Bi,tN[yp])+MN;if(wc+xp>Kl)break r;for(var VN=UN?pp:0;0<xp--;)hp[wc++]=VN}}Kd=1;break r}Kd||(fp.a=3),Yl=Kd}(Yl=Yl&&!Fi.h)&&(Yd=L(jN,EN,8,kc,Hd)),Yl&&Yd!=0?Gl=Yd:(Hl.a=3,Gl=0)}if(Gl==0)break s;if(ci&&rN[St]==1&&(ci=nn[Kt].g==0),Sa+=nn[Kt].g,Kt+=Gl,3>=St){var Dc,Xd=Wr[0];for(Dc=1;Dc<rr;++Dc)Wr[Dc]>Xd&&(Xd=Wr[Dc]);hr+=Xd}}if(gs.nd=ci,gs.Qb=0,ci&&(gs.qb=(an[3][En[3]+0].value<<24|an[1][En[1]+0].value<<16|an[2][En[2]+0].value)>>>0,Sa==0&&256>an[0][En[0]+0].value&&(gs.Qb=1,gs.qb+=an[0][En[0]+0].value<<8)),gs.jc=!gs.Qb&&6>hr,gs.jc){var Xl,li=gs;for(Xl=0;Xl<Ca;++Xl){var zi=Xl,$i=li.pd[zi],Jl=li.G[0][li.H[0]+zi];256<=Jl.value?($i.g=Jl.g+256,$i.value=Jl.value):($i.g=0,$i.value=0,zi>>=ie(Jl,8,$i),zi>>=ie(li.G[1][li.H[1]+zi],16,$i),zi>>=ie(li.G[2][li.H[2]+zi],0,$i),ie(li.G[3][li.H[3]+zi],24,$i))}}}sr.vc=Xt,sr.Wb=is,sr.Ya=rn,sr.yc=tn,Oe=1;break t}Oe=0}if(!(I=Oe)){D.a=3;break e}if(0<Ne){if(X.ua=1<<Ne,!W(X.Wa,Ne)){D.a=1,I=0;break e}}else X.ua=0;var Jd=D,vp=B,IN=H,Zd=Jd.s,Qd=Zd.xc;if(Jd.c=vp,Jd.i=IN,Zd.md=_e(vp,Qd),Zd.wc=Qd==0?-1:(1<<Qd)-1,k){D.xb=hN;break e}if((de=i(B*H))==null){D.a=1,I=0;break e}I=(I=ft(D,de,0,B,H,H,null))&&!G.h;break e}return I?(V!=null?V[0]=de:(e(de==null),e(k)),D.$=0,k||Zt(X)):Zt(X),I}function hs(h,g){var k=h.c*h.i,D=k+g+16*g;return e(h.c<=g),h.V=i(D),h.V==null?(h.Ta=null,h.Ua=0,h.a=1,0):(h.Ta=h.V,h.Ua=h.Ba+k+g,1)}function or(h,g){var k=h.C,D=g-k,V=h.V,I=h.Ba+h.c*k;for(e(g<=h.l.o);0<D;){var B=16<D?16:D,H=h.l.ma,G=h.l.width,X=G*B,de=H.ca,Ne=H.tb+G*k,J=h.Ta,fe=h.Ua;Re(h,B,V,I),Hh(J,fe,de,Ne,X),_t(H,k,k+B,de,Ne,G),D-=B,V+=B*h.c,k+=B}e(k==g),h.C=h.Ma=g}function cr(){this.ub=this.yd=this.td=this.Rb=0}function Ss(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Qn(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function dn(){this.Yb=(function(){var h=[];return(function g(k,D,V){for(var I=V[D],B=0;B<I&&(k.push(V.length>D+1?[]:0),!(V.length<D+1));B++)g(k[B],D+1,V)})(h,0,[3,11]),h})()}function Zs(){this.jb=i(3),this.Wc=o([4,8],dn),this.Xc=o([4,17],dn)}function wn(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Fs(){this.ld=this.La=this.dd=this.tc=0}function Tr(){this.Na=this.la=0}function Mn(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function yr(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Fr(){this.uc=this.M=this.Nb=0,this.wa=Array(new Fs),this.Y=0,this.ya=Array(new yr),this.aa=0,this.l=new Dn}function ua(){this.y=i(16),this.f=i(8),this.ea=i(8)}function da(){this.cb=this.a=0,this.sc="",this.m=new _,this.Od=new cr,this.Kc=new Ss,this.ed=new wn,this.Qa=new Qn,this.Ic=this.$c=this.Aa=0,this.D=new Fr,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,_),this.ia=0,this.pb=a(4,Mn),this.Pa=new Zs,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ua),this.Hd=0,this.rb=Array(new Tr),this.sb=0,this.wa=Array(new Fs),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new yr),this.L=this.aa=0,this.gd=o([4,2],Fs),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Dn(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ur(){var h=new da;return h!=null&&(h.a=0,h.sc="OK",h.cb=0,h.Xb=0,vc||(vc=Jr)),h}function bs(h,g,k){return h.a==0&&(h.a=g,h.sc=k,h.cb=0),0}function ji(h,g,k){return 3<=k&&h[g+0]==157&&h[g+1]==1&&h[g+2]==42}function Ei(h,g){if(h==null)return 0;if(h.a=0,h.sc="OK",g==null)return bs(h,2,"null VP8Io passed to VP8GetHeaders()");var k=g.data,D=g.w,V=g.ha;if(4>V)return bs(h,7,"Truncated header.");var I=k[D+0]|k[D+1]<<8|k[D+2]<<16,B=h.Od;if(B.Rb=!(1&I),B.td=I>>1&7,B.yd=I>>4&1,B.ub=I>>5,3<B.td)return bs(h,3,"Incorrect keyframe parameters.");if(!B.yd)return bs(h,4,"Frame not displayable.");D+=3,V-=3;var H=h.Kc;if(B.Rb){if(7>V)return bs(h,7,"cannot parse picture header");if(!ji(k,D,V))return bs(h,3,"Bad code word");H.c=16383&(k[D+4]<<8|k[D+3]),H.Td=k[D+4]>>6,H.i=16383&(k[D+6]<<8|k[D+5]),H.Ud=k[D+6]>>6,D+=7,V-=7,h.za=H.c+15>>4,h.Ub=H.i+15>>4,g.width=H.c,g.height=H.i,g.Da=0,g.j=0,g.v=0,g.va=g.width,g.o=g.height,g.da=0,g.ib=g.width,g.hb=g.height,g.U=g.width,g.T=g.height,n((I=h.Pa).jb,0,255,I.jb.length),e((I=h.Qa)!=null),I.Cb=0,I.Bb=0,I.Fb=1,n(I.Zb,0,0,I.Zb.length),n(I.Lb,0,0,I.Lb)}if(B.ub>V)return bs(h,7,"bad partition length");re(I=h.m,k,D,B.ub),D+=B.ub,V-=B.ub,B.Rb&&(H.Ld=me(I),H.Kd=me(I)),H=h.Qa;var G,X=h.Pa;if(e(I!=null),e(H!=null),H.Cb=me(I),H.Cb){if(H.Bb=me(I),me(I)){for(H.Fb=me(I),G=0;4>G;++G)H.Zb[G]=me(I)?ee(I,7):0;for(G=0;4>G;++G)H.Lb[G]=me(I)?ee(I,6):0}if(H.Bb)for(G=0;3>G;++G)X.jb[G]=me(I)?le(I,8):255}else H.Bb=0;if(I.Ka)return bs(h,3,"cannot parse segment header");if((H=h.ed).zd=me(I),H.Tb=le(I,6),H.wb=le(I,3),H.Pc=me(I),H.Pc&&me(I)){for(X=0;4>X;++X)me(I)&&(H.vd[X]=ee(I,6));for(X=0;4>X;++X)me(I)&&(H.od[X]=ee(I,6))}if(h.L=H.Tb==0?0:H.zd?1:2,I.Ka)return bs(h,3,"cannot parse filter header");var de=V;if(V=G=D,D=G+de,H=de,h.Xb=(1<<le(h.m,2))-1,de<3*(X=h.Xb))k=7;else{for(G+=3*X,H-=3*X,de=0;de<X;++de){var Ne=k[V+0]|k[V+1]<<8|k[V+2]<<16;Ne>H&&(Ne=H),re(h.Jc[+de],k,G,Ne),G+=Ne,H-=Ne,V+=3}re(h.Jc[+X],k,G,H),k=G<D?0:5}if(k!=0)return bs(h,k,"cannot parse partitions");for(k=le(G=h.m,7),V=me(G)?ee(G,4):0,D=me(G)?ee(G,4):0,H=me(G)?ee(G,4):0,X=me(G)?ee(G,4):0,G=me(G)?ee(G,4):0,de=h.Qa,Ne=0;4>Ne;++Ne){if(de.Cb){var J=de.Zb[Ne];de.Fb||(J+=k)}else{if(0<Ne){h.pb[Ne]=h.pb[0];continue}J=k}var fe=h.pb[Ne];fe.Sc[0]=$d[Ts(J+V,127)],fe.Sc[1]=Wd[Ts(J+0,127)],fe.Eb[0]=2*$d[Ts(J+D,127)],fe.Eb[1]=101581*Wd[Ts(J+H,127)]>>16,8>fe.Eb[1]&&(fe.Eb[1]=8),fe.Qc[0]=$d[Ts(J+X,117)],fe.Qc[1]=Wd[Ts(J+G,127)],fe.lc=J+G}if(!B.Rb)return bs(h,4,"Not a key frame.");for(me(I),B=h.Pa,k=0;4>k;++k){for(V=0;8>V;++V)for(D=0;3>D;++D)for(H=0;11>H;++H)X=ge(I,mN[k][V][D][H])?le(I,8):uN[k][V][D][H],B.Wc[k][V].Yb[D][H]=X;for(V=0;17>V;++V)B.Xc[k][V]=B.Wc[k][fN[V]]}return h.kc=me(I),h.kc&&(h.Bd=le(I,8)),h.cb=1}function Jr(h,g,k,D,V,I,B){var H=g[V].Yb[k];for(k=0;16>V;++V){if(!ge(h,H[k+0]))return V;for(;!ge(h,H[k+1]);)if(H=g[++V].Yb[0],k=0,V==16)return 16;var G=g[V+1].Yb;if(ge(h,H[k+2])){var X=h,de=0;if(ge(X,(J=H)[(Ne=k)+3]))if(ge(X,J[Ne+6])){for(H=0,Ne=2*(de=ge(X,J[Ne+8]))+(J=ge(X,J[Ne+9+de])),de=0,J=cN[Ne];J[H];++H)de+=de+ge(X,J[H]);de+=3+(8<<Ne)}else ge(X,J[Ne+7])?(de=7+2*ge(X,165),de+=ge(X,145)):de=5+ge(X,159);else de=ge(X,J[Ne+4])?3+ge(X,J[Ne+5]):2;H=G[2]}else de=1,H=G[1];G=B+lN[V],0>(X=h).b&&he(X);var Ne,J=X.b,fe=(Ne=X.Ca>>1)-(X.I>>J)>>31;--X.b,X.Ca+=fe,X.Ca|=1,X.I-=(Ne+1&fe)<<J,I[G]=((de^fe)-fe)*D[(0<V)+0]}return 16}function Pn(h){var g=h.rb[h.sb-1];g.la=0,g.Na=0,n(h.zc,0,0,h.zc.length),h.ja=0}function xr(h,g,k,D,V){V=h[g+k+32*D]+(V>>3),h[g+k+32*D]=-256&V?0>V?0:255:V}function vr(h,g,k,D,V,I){xr(h,g,0,k,D+V),xr(h,g,1,k,D+I),xr(h,g,2,k,D-I),xr(h,g,3,k,D-V)}function As(h){return(20091*h>>16)+h}function Si(h,g,k,D){var V,I=0,B=i(16);for(V=0;4>V;++V){var H=h[g+0]+h[g+8],G=h[g+0]-h[g+8],X=(35468*h[g+4]>>16)-As(h[g+12]),de=As(h[g+4])+(35468*h[g+12]>>16);B[I+0]=H+de,B[I+1]=G+X,B[I+2]=G-X,B[I+3]=H-de,I+=4,g++}for(V=I=0;4>V;++V)H=(h=B[I+0]+4)+B[I+8],G=h-B[I+8],X=(35468*B[I+4]>>16)-As(B[I+12]),xr(k,D,0,0,H+(de=As(B[I+4])+(35468*B[I+12]>>16))),xr(k,D,1,0,G+X),xr(k,D,2,0,G-X),xr(k,D,3,0,H-de),I++,D+=32}function ma(h,g,k,D){var V=h[g+0]+4,I=35468*h[g+4]>>16,B=As(h[g+4]),H=35468*h[g+1]>>16;vr(k,D,0,V+B,h=As(h[g+1]),H),vr(k,D,1,V+I,h,H),vr(k,D,2,V-I,h,H),vr(k,D,3,V-B,h,H)}function fo(h,g,k,D,V){Si(h,g,k,D),V&&Si(h,g+16,k,D+4)}function sc(h,g,k,D){Ea(h,g+0,k,D,1),Ea(h,g+32,k,D+128,1)}function mn(h,g,k,D){var V;for(h=h[g+0]+4,V=0;4>V;++V)for(g=0;4>g;++g)xr(k,D,g,V,h)}function O(h,g,k,D){h[g+0]&&ss(h,g+0,k,D),h[g+16]&&ss(h,g+16,k,D+4),h[g+32]&&ss(h,g+32,k,D+128),h[g+48]&&ss(h,g+48,k,D+128+4)}function K(h,g,k,D){var V,I=i(16);for(V=0;4>V;++V){var B=h[g+0+V]+h[g+12+V],H=h[g+4+V]+h[g+8+V],G=h[g+4+V]-h[g+8+V],X=h[g+0+V]-h[g+12+V];I[0+V]=B+H,I[8+V]=B-H,I[4+V]=X+G,I[12+V]=X-G}for(V=0;4>V;++V)B=(h=I[0+4*V]+3)+I[3+4*V],H=I[1+4*V]+I[2+4*V],G=I[1+4*V]-I[2+4*V],X=h-I[3+4*V],k[D+0]=B+H>>3,k[D+16]=X+G>>3,k[D+32]=B-H>>3,k[D+48]=X-G>>3,D+=64}function oe(h,g,k){var D,V=g-32,I=en,B=255-h[V-1];for(D=0;D<k;++D){var H,G=I,X=B+h[g-1];for(H=0;H<k;++H)h[g+H]=G[X+h[V+H]];g+=32}}function ke(h,g){oe(h,g,4)}function Ue(h,g){oe(h,g,8)}function ze(h,g){oe(h,g,16)}function Lt(h,g){var k;for(k=0;16>k;++k)r(h,g+32*k,h,g-32,16)}function ks(h,g){var k;for(k=16;0<k;--k)n(h,g,h[g-1],16),g+=32}function ys(h,g,k){var D;for(D=0;16>D;++D)n(g,k+32*D,h,16)}function ws(h,g){var k,D=16;for(k=0;16>k;++k)D+=h[g-1+32*k]+h[g+k-32];ys(D>>5,h,g)}function Br(h,g){var k,D=8;for(k=0;16>k;++k)D+=h[g-1+32*k];ys(D>>4,h,g)}function fa(h,g){var k,D=8;for(k=0;16>k;++k)D+=h[g+k-32];ys(D>>4,h,g)}function rc(h,g){ys(128,h,g)}function Ct(h,g,k){return h+2*g+k+2>>2}function _d(h,g){var k,D=g-32;for(D=new Uint8Array([Ct(h[D-1],h[D+0],h[D+1]),Ct(h[D+0],h[D+1],h[D+2]),Ct(h[D+1],h[D+2],h[D+3]),Ct(h[D+2],h[D+3],h[D+4])]),k=0;4>k;++k)r(h,g+32*k,D,0,D.length)}function Ld(h,g){var k=h[g-1],D=h[g-1+32],V=h[g-1+64],I=h[g-1+96];Pe(h,g+0,16843009*Ct(h[g-1-32],k,D)),Pe(h,g+32,16843009*Ct(k,D,V)),Pe(h,g+64,16843009*Ct(D,V,I)),Pe(h,g+96,16843009*Ct(V,I,I))}function Td(h,g){var k,D=4;for(k=0;4>k;++k)D+=h[g+k-32]+h[g-1+32*k];for(D>>=3,k=0;4>k;++k)n(h,g+32*k,D,4)}function Ud(h,g){var k=h[g-1+0],D=h[g-1+32],V=h[g-1+64],I=h[g-1-32],B=h[g+0-32],H=h[g+1-32],G=h[g+2-32],X=h[g+3-32];h[g+0+96]=Ct(D,V,h[g-1+96]),h[g+1+96]=h[g+0+64]=Ct(k,D,V),h[g+2+96]=h[g+1+64]=h[g+0+32]=Ct(I,k,D),h[g+3+96]=h[g+2+64]=h[g+1+32]=h[g+0+0]=Ct(B,I,k),h[g+3+64]=h[g+2+32]=h[g+1+0]=Ct(H,B,I),h[g+3+32]=h[g+2+0]=Ct(G,H,B),h[g+3+0]=Ct(X,G,H)}function ei(h,g){var k=h[g+1-32],D=h[g+2-32],V=h[g+3-32],I=h[g+4-32],B=h[g+5-32],H=h[g+6-32],G=h[g+7-32];h[g+0+0]=Ct(h[g+0-32],k,D),h[g+1+0]=h[g+0+32]=Ct(k,D,V),h[g+2+0]=h[g+1+32]=h[g+0+64]=Ct(D,V,I),h[g+3+0]=h[g+2+32]=h[g+1+64]=h[g+0+96]=Ct(V,I,B),h[g+3+32]=h[g+2+64]=h[g+1+96]=Ct(I,B,H),h[g+3+64]=h[g+2+96]=Ct(B,H,G),h[g+3+96]=Ct(H,G,G)}function ti(h,g){var k=h[g-1+0],D=h[g-1+32],V=h[g-1+64],I=h[g-1-32],B=h[g+0-32],H=h[g+1-32],G=h[g+2-32],X=h[g+3-32];h[g+0+0]=h[g+1+64]=I+B+1>>1,h[g+1+0]=h[g+2+64]=B+H+1>>1,h[g+2+0]=h[g+3+64]=H+G+1>>1,h[g+3+0]=G+X+1>>1,h[g+0+96]=Ct(V,D,k),h[g+0+64]=Ct(D,k,I),h[g+0+32]=h[g+1+96]=Ct(k,I,B),h[g+1+32]=h[g+2+96]=Ct(I,B,H),h[g+2+32]=h[g+3+96]=Ct(B,H,G),h[g+3+32]=Ct(H,G,X)}function Md(h,g){var k=h[g+0-32],D=h[g+1-32],V=h[g+2-32],I=h[g+3-32],B=h[g+4-32],H=h[g+5-32],G=h[g+6-32],X=h[g+7-32];h[g+0+0]=k+D+1>>1,h[g+1+0]=h[g+0+64]=D+V+1>>1,h[g+2+0]=h[g+1+64]=V+I+1>>1,h[g+3+0]=h[g+2+64]=I+B+1>>1,h[g+0+32]=Ct(k,D,V),h[g+1+32]=h[g+0+96]=Ct(D,V,I),h[g+2+32]=h[g+1+96]=Ct(V,I,B),h[g+3+32]=h[g+2+96]=Ct(I,B,H),h[g+3+64]=Ct(B,H,G),h[g+3+96]=Ct(H,G,X)}function Vd(h,g){var k=h[g-1+0],D=h[g-1+32],V=h[g-1+64],I=h[g-1+96];h[g+0+0]=k+D+1>>1,h[g+2+0]=h[g+0+32]=D+V+1>>1,h[g+2+32]=h[g+0+64]=V+I+1>>1,h[g+1+0]=Ct(k,D,V),h[g+3+0]=h[g+1+32]=Ct(D,V,I),h[g+3+32]=h[g+1+64]=Ct(V,I,I),h[g+3+64]=h[g+2+64]=h[g+0+96]=h[g+1+96]=h[g+2+96]=h[g+3+96]=I}function ho(h,g){var k=h[g-1+0],D=h[g-1+32],V=h[g-1+64],I=h[g-1+96],B=h[g-1-32],H=h[g+0-32],G=h[g+1-32],X=h[g+2-32];h[g+0+0]=h[g+2+32]=k+B+1>>1,h[g+0+32]=h[g+2+64]=D+k+1>>1,h[g+0+64]=h[g+2+96]=V+D+1>>1,h[g+0+96]=I+V+1>>1,h[g+3+0]=Ct(H,G,X),h[g+2+0]=Ct(B,H,G),h[g+1+0]=h[g+3+32]=Ct(k,B,H),h[g+1+32]=h[g+3+64]=Ct(D,k,B),h[g+1+64]=h[g+3+96]=Ct(V,D,k),h[g+1+96]=Ct(I,V,D)}function nc(h,g){var k;for(k=0;8>k;++k)r(h,g+32*k,h,g-32,8)}function ha(h,g){var k;for(k=0;8>k;++k)n(h,g,h[g-1],8),g+=32}function po(h,g,k){var D;for(D=0;8>D;++D)n(g,k+32*D,h,8)}function go(h,g){var k,D=8;for(k=0;8>k;++k)D+=h[g+k-32]+h[g-1+32*k];po(D>>4,h,g)}function Id(h,g){var k,D=4;for(k=0;8>k;++k)D+=h[g+k-32];po(D>>3,h,g)}function ic(h,g){var k,D=4;for(k=0;8>k;++k)D+=h[g-1+32*k];po(D>>3,h,g)}function ac(h,g){po(128,h,g)}function pa(h,g,k){var D=h[g-k],V=h[g+0],I=3*(V-D)+Rd[1020+h[g-2*k]-h[g+k]],B=Vl[112+(I+4>>3)];h[g-k]=en[255+D+Vl[112+(I+3>>3)]],h[g+0]=en[255+V-B]}function ga(h,g,k,D){var V=h[g+0],I=h[g+k];return gn[255+h[g-2*k]-h[g-k]]>D||gn[255+I-V]>D}function oc(h,g,k,D){return 4*gn[255+h[g-k]-h[g+0]]+gn[255+h[g-2*k]-h[g+k]]<=D}function bo(h,g,k,D,V){var I=h[g-3*k],B=h[g-2*k],H=h[g-k],G=h[g+0],X=h[g+k],de=h[g+2*k],Ne=h[g+3*k];return 4*gn[255+H-G]+gn[255+B-X]>D?0:gn[255+h[g-4*k]-I]<=V&&gn[255+I-B]<=V&&gn[255+B-H]<=V&&gn[255+Ne-de]<=V&&gn[255+de-X]<=V&&gn[255+X-G]<=V}function cc(h,g,k,D){var V=2*D+1;for(D=0;16>D;++D)oc(h,g+D,k,V)&&pa(h,g+D,k)}function ba(h,g,k,D){var V=2*D+1;for(D=0;16>D;++D)oc(h,g+D*k,1,V)&&pa(h,g+D*k,1)}function jl(h,g,k,D){var V;for(V=3;0<V;--V)cc(h,g+=4*k,k,D)}function El(h,g,k,D){var V;for(V=3;0<V;--V)ba(h,g+=4,k,D)}function si(h,g,k,D,V,I,B,H){for(I=2*I+1;0<V--;){if(bo(h,g,k,I,B))if(ga(h,g,k,H))pa(h,g,k);else{var G=h,X=g,de=k,Ne=G[X-2*de],J=G[X-de],fe=G[X+0],ye=G[X+de],Ce=G[X+2*de],ve=27*(Se=Rd[1020+3*(fe-J)+Rd[1020+Ne-ye]])+63>>7,je=18*Se+63>>7,Se=9*Se+63>>7;G[X-3*de]=en[255+G[X-3*de]+Se],G[X-2*de]=en[255+Ne+je],G[X-de]=en[255+J+ve],G[X+0]=en[255+fe-ve],G[X+de]=en[255+ye-je],G[X+2*de]=en[255+Ce-Se]}g+=D}}function ri(h,g,k,D,V,I,B,H){for(I=2*I+1;0<V--;){if(bo(h,g,k,I,B))if(ga(h,g,k,H))pa(h,g,k);else{var G=h,X=g,de=k,Ne=G[X-de],J=G[X+0],fe=G[X+de],ye=Vl[112+(4+(Ce=3*(J-Ne))>>3)],Ce=Vl[112+(Ce+3>>3)],ve=ye+1>>1;G[X-2*de]=en[255+G[X-2*de]+ve],G[X-de]=en[255+Ne+Ce],G[X+0]=en[255+J-ye],G[X+de]=en[255+fe-ve]}g+=D}}function Sl(h,g,k,D,V,I){si(h,g,k,1,16,D,V,I)}function Al(h,g,k,D,V,I){si(h,g,1,k,16,D,V,I)}function ya(h,g,k,D,V,I){var B;for(B=3;0<B;--B)ri(h,g+=4*k,k,1,16,D,V,I)}function _l(h,g,k,D,V,I){var B;for(B=3;0<B;--B)ri(h,g+=4,1,k,16,D,V,I)}function x(h,g,k,D,V,I,B,H){si(h,g,V,1,8,I,B,H),si(k,D,V,1,8,I,B,H)}function M(h,g,k,D,V,I,B,H){si(h,g,1,V,8,I,B,H),si(k,D,1,V,8,I,B,H)}function Q(h,g,k,D,V,I,B,H){ri(h,g+4*V,V,1,8,I,B,H),ri(k,D+4*V,V,1,8,I,B,H)}function ce(h,g,k,D,V,I,B,H){ri(h,g+4,1,V,8,I,B,H),ri(k,D+4,1,V,8,I,B,H)}function be(){this.ba=new Gt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ht,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ee(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Te(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Je(){this.ua=0,this.Wa=new st,this.vb=new st,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Z,this.yc=new F}function nt(){this.xb=this.a=0,this.l=new Dn,this.ca=new Gt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new q,this.Pb=0,this.wd=new q,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Je,this.ab=0,this.gc=a(4,Te),this.Oc=0}function Dt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Dn,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function jt(h,g,k,D,V,I,B){for(h=h==null?0:h[g+0],g=0;g<B;++g)V[I+g]=h+k[D+g]&255,h=V[I+g]}function ts(h,g,k,D,V,I,B){var H;if(h==null)jt(null,null,k,D,V,I,B);else for(H=0;H<B;++H)V[I+H]=h[g+H]+k[D+H]&255}function _s(h,g,k,D,V,I,B){if(h==null)jt(null,null,k,D,V,I,B);else{var H,G=h[g+0],X=G,de=G;for(H=0;H<B;++H)X=de+(G=h[g+H])-X,de=k[D+H]+(-256&X?0>X?0:255:X)&255,X=G,V[I+H]=de}}function Xs(h,g,k,D){var V=g.width,I=g.o;if(e(h!=null&&g!=null),0>k||0>=D||k+D>I)return null;if(!h.Cc){if(h.ga==null){var B;if(h.ga=new Dt,(B=h.ga==null)||(B=g.width*g.o,e(h.Gb.length==0),h.Gb=i(B),h.Uc=0,h.Gb==null?B=0:(h.mb=h.Gb,h.nb=h.Uc,h.rc=null,B=1),B=!B),!B){B=h.ga;var H=h.Fa,G=h.P,X=h.qc,de=h.mb,Ne=h.nb,J=G+1,fe=X-1,ye=B.l;if(e(H!=null&&de!=null&&g!=null),Oi[0]=null,Oi[1]=jt,Oi[2]=ts,Oi[3]=_s,B.ca=de,B.tb=Ne,B.c=g.width,B.i=g.height,e(0<B.c&&0<B.i),1>=X)g=0;else if(B.$a=3&H[G+0],B.Z=H[G+0]>>2&3,B.Lc=H[G+0]>>4&3,G=H[G+0]>>6&3,0>B.$a||1<B.$a||4<=B.Z||1<B.Lc||G)g=0;else if(ye.put=ct,ye.ac=Lr,ye.bc=Xr,ye.ma=B,ye.width=g.width,ye.height=g.height,ye.Da=g.Da,ye.v=g.v,ye.va=g.va,ye.j=g.j,ye.o=g.o,B.$a)e:{e(B.$a==1),g=Ot();t:for(;;){if(g==null){g=0;break e}if(e(B!=null),B.mc=g,g.c=B.c,g.i=B.i,g.l=B.l,g.l.ma=B,g.l.width=B.c,g.l.height=B.i,g.a=0,pe(g.m,H,J,fe),!Ft(B.c,B.i,1,g,null)||(g.ab==1&&g.gc[0].hc==3&&wt(g.s)?(B.ic=1,H=g.c*g.i,g.Ta=null,g.Ua=0,g.V=i(H),g.Ba=0,g.V==null?(g.a=1,g=0):g=1):(B.ic=0,g=hs(g,B.c)),!g))break t;g=1;break e}B.mc=null,g=0}else g=fe>=B.c*B.i;B=!g}if(B)return null;h.ga.Lc!=1?h.Ga=0:D=I-k}e(h.ga!=null),e(k+D<=I);e:{if(g=(H=h.ga).c,I=H.l.o,H.$a==0){if(J=h.rc,fe=h.Vc,ye=h.Fa,G=h.P+1+k*g,X=h.mb,de=h.nb+k*g,e(G<=h.P+h.qc),H.Z!=0)for(e(Oi[H.Z]!=null),B=0;B<D;++B)Oi[H.Z](J,fe,ye,G,X,de,g),J=X,fe=de,de+=g,G+=g;else for(B=0;B<D;++B)r(X,de,ye,G,g),J=X,fe=de,de+=g,G+=g;h.rc=J,h.Vc=fe}else{if(e(H.mc!=null),g=k+D,e((B=H.mc)!=null),e(g<=B.i),B.C>=g)g=1;else if(H.ic||fn(),H.ic){H=B.V,J=B.Ba,fe=B.c;var Ce=B.i,ve=(ye=1,G=B.$/fe,X=B.$%fe,de=B.m,Ne=B.s,B.$),je=fe*Ce,Se=fe*g,Me=Ne.wc,Le=ve<Se?Ae(Ne,X,G):null;e(ve<=je),e(g<=Ce),e(wt(Ne));t:for(;;){for(;!de.h&&ve<Se;){if(X&Me||(Le=Ae(Ne,X,G)),e(Le!=null),ae(de),256>(Ce=cs(Le.G[0],Le.H[0],de)))H[J+ve]=Ce,++ve,++X>=fe&&(X=0,++G<=g&&!(G%16)&&pt(B,G));else{if(!(280>Ce)){ye=0;break t}Ce=ur(Ce-256,de);var at,qe=cs(Le.G[4],Le.H[4],de);if(ae(de),!(ve>=(qe=br(fe,qe=ur(qe,de)))&&je-ve>=Ce)){ye=0;break t}for(at=0;at<Ce;++at)H[J+ve+at]=H[J+ve+at-qe];for(ve+=Ce,X+=Ce;X>=fe;)X-=fe,++G<=g&&!(G%16)&&pt(B,G);ve<Se&&X&Me&&(Le=Ae(Ne,X,G))}e(de.h==se(de))}pt(B,G>g?g:G);break t}!ye||de.h&&ve<je?(ye=0,B.a=de.h?5:3):B.$=ve,g=ye}else g=ft(B,B.V,B.Ba,B.c,B.i,g,or);if(!g){D=0;break e}}k+D>=I&&(h.Cc=1),D=1}if(!D)return null;if(h.Cc&&((D=h.ga)!=null&&(D.mc=null),h.ga=null,0<h.Ga))return alert("todo:WebPDequantizeLevels"),null}return h.nb+k*V}function ps(h,g,k,D,V,I){for(;0<V--;){var B,H=h,G=g+(k?1:0),X=h,de=g+(k?0:3);for(B=0;B<D;++B){var Ne=X[de+4*B];Ne!=255&&(Ne*=32897,H[G+4*B+0]=H[G+4*B+0]*Ne>>23,H[G+4*B+1]=H[G+4*B+1]*Ne>>23,H[G+4*B+2]=H[G+4*B+2]*Ne>>23)}g+=I}}function Qs(h,g,k,D,V){for(;0<D--;){var I;for(I=0;I<k;++I){var B=h[g+2*I+0],H=15&(X=h[g+2*I+1]),G=4369*H,X=(240&X|X>>4)*G>>16;h[g+2*I+0]=(240&B|B>>4)*G>>16&240|(15&B|B<<4)*G>>16>>4&15,h[g+2*I+1]=240&X|H}g+=V}}function Js(h,g,k,D,V,I,B,H){var G,X,de=255;for(X=0;X<V;++X){for(G=0;G<D;++G){var Ne=h[g+G];I[B+4*G]=Ne,de&=Ne}g+=k,B+=H}return de!=255}function dr(h,g,k,D,V){var I;for(I=0;I<V;++I)k[D+I]=h[g+I]>>8}function fn(){xc=ps,Wh=Qs,qh=Js,Hh=dr}function zr(h,g,k){T[h]=function(D,V,I,B,H,G,X,de,Ne,J,fe,ye,Ce,ve,je,Se,Me){var Le,at=Me-1>>1,qe=H[G+0]|X[de+0]<<16,Tt=Ne[J+0]|fe[ye+0]<<16;e(D!=null);var et=3*qe+Tt+131074>>2;for(g(D[V+0],255&et,et>>16,Ce,ve),I!=null&&(et=3*Tt+qe+131074>>2,g(I[B+0],255&et,et>>16,je,Se)),Le=1;Le<=at;++Le){var Yt=H[G+Le]|X[de+Le]<<16,tr=Ne[J+Le]|fe[ye+Le]<<16,Ut=qe+Yt+Tt+tr+524296,tt=Ut+2*(Yt+Tt)>>3;et=tt+qe>>1,qe=(Ut=Ut+2*(qe+tr)>>3)+Yt>>1,g(D[V+2*Le-1],255&et,et>>16,Ce,ve+(2*Le-1)*k),g(D[V+2*Le-0],255&qe,qe>>16,Ce,ve+(2*Le-0)*k),I!=null&&(et=Ut+Tt>>1,qe=tt+tr>>1,g(I[B+2*Le-1],255&et,et>>16,je,Se+(2*Le-1)*k),g(I[B+2*Le+0],255&qe,qe>>16,je,Se+(2*Le+0)*k)),qe=Yt,Tt=tr}1&Me||(et=3*qe+Tt+131074>>2,g(D[V+Me-1],255&et,et>>16,Ce,ve+(Me-1)*k),I!=null&&(et=3*Tt+qe+131074>>2,g(I[B+Me-1],255&et,et>>16,je,Se+(Me-1)*k)))}}function Ll(){bn[Il]=pN,bn[Rl]=rp,bn[Zh]=gN,bn[Ol]=np,bn[Fl]=ip,bn[Od]=ap,bn[Qh]=bN,bn[Fd]=rp,bn[Bd]=np,bn[Bl]=ip,bn[zd]=ap}function yo(h){return h&-16384?0>h?0:255:h>>yN}function xa(h,g){return yo((19077*h>>8)+(26149*g>>8)-14234)}function Ai(h,g,k){return yo((19077*h>>8)-(6419*g>>8)-(13320*k>>8)+8708)}function va(h,g){return yo((19077*h>>8)+(33050*g>>8)-17685)}function Na(h,g,k,D,V){D[V+0]=xa(h,k),D[V+1]=Ai(h,g,k),D[V+2]=va(h,g)}function ka(h,g,k,D,V){D[V+0]=va(h,g),D[V+1]=Ai(h,g,k),D[V+2]=xa(h,k)}function Nr(h,g,k,D,V){var I=Ai(h,g,k);g=I<<3&224|va(h,g)>>3,D[V+0]=248&xa(h,k)|I>>5,D[V+1]=g}function wa(h,g,k,D,V){var I=240&va(h,g)|15;D[V+0]=240&xa(h,k)|Ai(h,g,k)>>4,D[V+1]=I}function Da(h,g,k,D,V){D[V+0]=255,Na(h,g,k,D,V+1)}function lc(h,g,k,D,V){ka(h,g,k,D,V),D[V+3]=255}function uc(h,g,k,D,V){Na(h,g,k,D,V),D[V+3]=255}function Ts(h,g){return 0>h?0:h>g?g:h}function ni(h,g,k){T[h]=function(D,V,I,B,H,G,X,de,Ne){for(var J=de+(-2&Ne)*k;de!=J;)g(D[V+0],I[B+0],H[G+0],X,de),g(D[V+1],I[B+0],H[G+0],X,de+k),V+=2,++B,++G,de+=2*k;1&Ne&&g(D[V+0],I[B+0],H[G+0],X,de)}}function xo(h,g,k){return k==0?h==0?g==0?6:5:g==0?4:0:k}function Tl(h,g,k,D,V){switch(h>>>30){case 3:Ea(g,k,D,V,0);break;case 2:pn(g,k,D,V);break;case 1:ss(g,k,D,V)}}function hn(h,g){var k,D,V=g.M,I=g.Nb,B=h.oc,H=h.pc+40,G=h.oc,X=h.pc+584,de=h.oc,Ne=h.pc+600;for(k=0;16>k;++k)B[H+32*k-1]=129;for(k=0;8>k;++k)G[X+32*k-1]=129,de[Ne+32*k-1]=129;for(0<V?B[H-1-32]=G[X-1-32]=de[Ne-1-32]=129:(n(B,H-32-1,127,21),n(G,X-32-1,127,9),n(de,Ne-32-1,127,9)),D=0;D<h.za;++D){var J=g.ya[g.aa+D];if(0<D){for(k=-1;16>k;++k)r(B,H+32*k-4,B,H+32*k+12,4);for(k=-1;8>k;++k)r(G,X+32*k-4,G,X+32*k+4,4),r(de,Ne+32*k-4,de,Ne+32*k+4,4)}var fe=h.Gd,ye=h.Hd+D,Ce=J.ad,ve=J.Hc;if(0<V&&(r(B,H-32,fe[ye].y,0,16),r(G,X-32,fe[ye].f,0,8),r(de,Ne-32,fe[ye].ea,0,8)),J.Za){var je=B,Se=H-32+16;for(0<V&&(D>=h.za-1?n(je,Se,fe[ye].y[15],4):r(je,Se,fe[ye+1].y,0,4)),k=0;4>k;k++)je[Se+128+k]=je[Se+256+k]=je[Se+384+k]=je[Se+0+k];for(k=0;16>k;++k,ve<<=2)je=B,Se=H+cp[k],Cn[J.Ob[k]](je,Se),Tl(ve,Ce,16*+k,je,Se)}else if(je=xo(D,V,J.Ob[0]),Ri[je](B,H),ve!=0)for(k=0;16>k;++k,ve<<=2)Tl(ve,Ce,16*+k,B,H+cp[k]);for(k=J.Gc,je=xo(D,V,J.Dd),oi[je](G,X),oi[je](de,Ne),ve=Ce,je=G,Se=X,255&(J=0|k)&&(170&J?Rn(ve,256,je,Se):ls(ve,256,je,Se)),J=de,ve=Ne,255&(k>>=8)&&(170&k?Rn(Ce,320,J,ve):ls(Ce,320,J,ve)),V<h.Ub-1&&(r(fe[ye].y,0,B,H+480,16),r(fe[ye].f,0,G,X+224,8),r(fe[ye].ea,0,de,Ne+224,8)),k=8*I*h.B,fe=h.sa,ye=h.ta+16*D+16*I*h.R,Ce=h.qa,J=h.ra+8*D+k,ve=h.Ha,je=h.Ia+8*D+k,k=0;16>k;++k)r(fe,ye+k*h.R,B,H+32*k,16);for(k=0;8>k;++k)r(Ce,J+k*h.B,G,X+32*k,8),r(ve,je+k*h.B,de,Ne+32*k,8)}}function Pa(h,g,k,D,V,I,B,H,G){var X=[0],de=[0],Ne=0,J=G!=null?G.kd:0,fe=G??new Ee;if(h==null||12>k)return 7;fe.data=h,fe.w=g,fe.ha=k,g=[g],k=[k],fe.gb=[fe.gb];e:{var ye=g,Ce=k,ve=fe.gb;if(e(h!=null),e(Ce!=null),e(ve!=null),ve[0]=0,12<=Ce[0]&&!t(h,ye[0],"RIFF")){if(t(h,ye[0]+8,"WEBP")){ve=3;break e}var je=we(h,ye[0]+4);if(12>je||4294967286<je){ve=3;break e}if(J&&je>Ce[0]-8){ve=7;break e}ve[0]=je,ye[0]+=12,Ce[0]-=12}ve=0}if(ve!=0)return ve;for(je=0<fe.gb[0],k=k[0];;){e:{var Se=h;Ce=g,ve=k;var Me=X,Le=de,at=ye=[0];if((et=Ne=[Ne])[0]=0,8>ve[0])ve=7;else{if(!t(Se,Ce[0],"VP8X")){if(we(Se,Ce[0]+4)!=10){ve=3;break e}if(18>ve[0]){ve=7;break e}var qe=we(Se,Ce[0]+8),Tt=1+Ie(Se,Ce[0]+12);if(2147483648<=Tt*(Se=1+Ie(Se,Ce[0]+15))){ve=3;break e}at!=null&&(at[0]=qe),Me!=null&&(Me[0]=Tt),Le!=null&&(Le[0]=Se),Ce[0]+=18,ve[0]-=18,et[0]=1}ve=0}}if(Ne=Ne[0],ye=ye[0],ve!=0)return ve;if(Ce=!!(2&ye),!je&&Ne)return 3;if(I!=null&&(I[0]=!!(16&ye)),B!=null&&(B[0]=Ce),H!=null&&(H[0]=0),B=X[0],ye=de[0],Ne&&Ce&&G==null){ve=0;break}if(4>k){ve=7;break}if(je&&Ne||!je&&!Ne&&!t(h,g[0],"ALPH")){k=[k],fe.na=[fe.na],fe.P=[fe.P],fe.Sa=[fe.Sa];e:{qe=h,ve=g,je=k;var et=fe.gb;Me=fe.na,Le=fe.P,at=fe.Sa,Tt=22,e(qe!=null),e(je!=null),Se=ve[0];var Yt=je[0];for(e(Me!=null),e(at!=null),Me[0]=null,Le[0]=null,at[0]=0;;){if(ve[0]=Se,je[0]=Yt,8>Yt){ve=7;break e}var tr=we(qe,Se+4);if(4294967286<tr){ve=3;break e}var Ut=8+tr+1&-2;if(Tt+=Ut,0<et&&Tt>et){ve=3;break e}if(!t(qe,Se,"VP8 ")||!t(qe,Se,"VP8L")){ve=0;break e}if(Yt[0]<Ut){ve=7;break e}t(qe,Se,"ALPH")||(Me[0]=qe,Le[0]=Se+8,at[0]=tr),Se+=Ut,Yt-=Ut}}if(k=k[0],fe.na=fe.na[0],fe.P=fe.P[0],fe.Sa=fe.Sa[0],ve!=0)break}k=[k],fe.Ja=[fe.Ja],fe.xa=[fe.xa];e:if(et=h,ve=g,je=k,Me=fe.gb[0],Le=fe.Ja,at=fe.xa,qe=ve[0],Se=!t(et,qe,"VP8 "),Tt=!t(et,qe,"VP8L"),e(et!=null),e(je!=null),e(Le!=null),e(at!=null),8>je[0])ve=7;else{if(Se||Tt){if(et=we(et,qe+4),12<=Me&&et>Me-12){ve=3;break e}if(J&&et>je[0]-8){ve=7;break e}Le[0]=et,ve[0]+=8,je[0]-=8,at[0]=Tt}else at[0]=5<=je[0]&&et[qe+0]==47&&!(et[qe+4]>>5),Le[0]=je[0];ve=0}if(k=k[0],fe.Ja=fe.Ja[0],fe.xa=fe.xa[0],g=g[0],ve!=0)break;if(4294967286<fe.Ja)return 3;if(H==null||Ce||(H[0]=fe.xa?2:1),B=[B],ye=[ye],fe.xa){if(5>k){ve=7;break}H=B,J=ye,Ce=I,h==null||5>k?h=0:5<=k&&h[g+0]==47&&!(h[g+4]>>5)?(je=[0],et=[0],Me=[0],pe(Le=new q,h,g,k),gr(Le,je,et,Me)?(H!=null&&(H[0]=je[0]),J!=null&&(J[0]=et[0]),Ce!=null&&(Ce[0]=Me[0]),h=1):h=0):h=0}else{if(10>k){ve=7;break}H=ye,h==null||10>k||!ji(h,g+3,k-3)?h=0:(J=h[g+0]|h[g+1]<<8|h[g+2]<<16,Ce=16383&(h[g+7]<<8|h[g+6]),h=16383&(h[g+9]<<8|h[g+8]),1&J||3<(J>>1&7)||!(J>>4&1)||J>>5>=fe.Ja||!Ce||!h?h=0:(B&&(B[0]=Ce),H&&(H[0]=h),h=1))}if(!h||(B=B[0],ye=ye[0],Ne&&(X[0]!=B||de[0]!=ye)))return 3;G!=null&&(G[0]=fe,G.offset=g-G.w,e(4294967286>g-G.w),e(G.offset==G.ha-k));break}return ve==0||ve==7&&Ne&&G==null?(I!=null&&(I[0]|=fe.na!=null&&0<fe.na.length),D!=null&&(D[0]=B),V!=null&&(V[0]=ye),0):ve}function dc(h,g,k){var D=g.width,V=g.height,I=0,B=0,H=D,G=V;if(g.Da=h!=null&&0<h.Da,g.Da&&(H=h.cd,G=h.bd,I=h.v,B=h.j,11>k||(I&=-2,B&=-2),0>I||0>B||0>=H||0>=G||I+H>D||B+G>V))return 0;if(g.v=I,g.j=B,g.va=I+H,g.o=B+G,g.U=H,g.T=G,g.da=h!=null&&0<h.da,g.da){if(!Ye(H,G,k=[h.ib],I=[h.hb]))return 0;g.ib=k[0],g.hb=I[0]}return g.ob=h!=null&&h.ob,g.Kb=h==null||!h.Sd,g.da&&(g.ob=g.ib<3*D/4&&g.hb<3*V/4,g.Kb=0),1}function mc(h){if(h==null)return 2;if(11>h.S){var g=h.f.RGBA;g.fb+=(h.height-1)*g.A,g.A=-g.A}else g=h.f.kb,h=h.height,g.O+=(h-1)*g.fa,g.fa=-g.fa,g.N+=(h-1>>1)*g.Ab,g.Ab=-g.Ab,g.W+=(h-1>>1)*g.Db,g.Db=-g.Db,g.F!=null&&(g.J+=(h-1)*g.lb,g.lb=-g.lb);return 0}function _i(h,g,k,D){if(D==null||0>=h||0>=g)return 2;if(k!=null){if(k.Da){var V=k.cd,I=k.bd,B=-2&k.v,H=-2&k.j;if(0>B||0>H||0>=V||0>=I||B+V>h||H+I>g)return 2;h=V,g=I}if(k.da){if(!Ye(h,g,V=[k.ib],I=[k.hb]))return 2;h=V[0],g=I[0]}}D.width=h,D.height=g;e:{var G=D.width,X=D.height;if(h=D.S,0>=G||0>=X||!(h>=Il&&13>h))h=2;else{if(0>=D.Rd&&D.sd==null){B=I=V=g=0;var de=(H=G*lp[h])*X;if(11>h||(I=(X+1)/2*(g=(G+1)/2),h==12&&(B=(V=G)*X)),(X=i(de+2*I+B))==null){h=1;break e}D.sd=X,11>h?((G=D.f.RGBA).eb=X,G.fb=0,G.A=H,G.size=de):((G=D.f.kb).y=X,G.O=0,G.fa=H,G.Fd=de,G.f=X,G.N=0+de,G.Ab=g,G.Cd=I,G.ea=X,G.W=0+de+I,G.Db=g,G.Ed=I,h==12&&(G.F=X,G.J=0+de+2*I),G.Tc=B,G.lb=V)}if(g=1,V=D.S,I=D.width,B=D.height,V>=Il&&13>V)if(11>V)h=D.f.RGBA,g&=(H=Math.abs(h.A))*(B-1)+I<=h.size,g&=H>=I*lp[V],g&=h.eb!=null;else{h=D.f.kb,H=(I+1)/2,de=(B+1)/2,G=Math.abs(h.fa),X=Math.abs(h.Ab);var Ne=Math.abs(h.Db),J=Math.abs(h.lb),fe=J*(B-1)+I;g&=G*(B-1)+I<=h.Fd,g&=X*(de-1)+H<=h.Cd,g=(g&=Ne*(de-1)+H<=h.Ed)&G>=I&X>=H&Ne>=H,g&=h.y!=null,g&=h.f!=null,g&=h.ea!=null,V==12&&(g&=J>=I,g&=fe<=h.Tc,g&=h.F!=null)}else g=0;h=g?0:2}}return h!=0||k!=null&&k.fd&&(h=mc(D)),h}var Ca=64,Zr=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Qr=24,Li=32,ii=8,Ti=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ve("Predictor0","PredictorAdd0"),T.Predictor0=function(){return 4278190080},T.Predictor1=function(h){return h},T.Predictor2=function(h,g,k){return g[k+0]},T.Predictor3=function(h,g,k){return g[k+1]},T.Predictor4=function(h,g,k){return g[k-1]},T.Predictor5=function(h,g,k){return it(it(h,g[k+1]),g[k+0])},T.Predictor6=function(h,g,k){return it(h,g[k-1])},T.Predictor7=function(h,g,k){return it(h,g[k+0])},T.Predictor8=function(h,g,k){return it(g[k-1],g[k+0])},T.Predictor9=function(h,g,k){return it(g[k+0],g[k+1])},T.Predictor10=function(h,g,k){return it(it(h,g[k-1]),it(g[k+0],g[k+1]))},T.Predictor11=function(h,g,k){var D=g[k+0];return 0>=bt(D>>24&255,h>>24&255,(g=g[k-1])>>24&255)+bt(D>>16&255,h>>16&255,g>>16&255)+bt(D>>8&255,h>>8&255,g>>8&255)+bt(255&D,255&h,255&g)?D:h},T.Predictor12=function(h,g,k){var D=g[k+0];return(Wt((h>>24&255)+(D>>24&255)-((g=g[k-1])>>24&255))<<24|Wt((h>>16&255)+(D>>16&255)-(g>>16&255))<<16|Wt((h>>8&255)+(D>>8&255)-(g>>8&255))<<8|Wt((255&h)+(255&D)-(255&g)))>>>0},T.Predictor13=function(h,g,k){var D=g[k-1];return(gt((h=it(h,g[k+0]))>>24&255,D>>24&255)<<24|gt(h>>16&255,D>>16&255)<<16|gt(h>>8&255,D>>8&255)<<8|gt(255&h,255&D))>>>0};var fc=T.PredictorAdd0;T.PredictorAdd1=Rt,Ve("Predictor2","PredictorAdd2"),Ve("Predictor3","PredictorAdd3"),Ve("Predictor4","PredictorAdd4"),Ve("Predictor5","PredictorAdd5"),Ve("Predictor6","PredictorAdd6"),Ve("Predictor7","PredictorAdd7"),Ve("Predictor8","PredictorAdd8"),Ve("Predictor9","PredictorAdd9"),Ve("Predictor10","PredictorAdd10"),Ve("Predictor11","PredictorAdd11"),Ve("Predictor12","PredictorAdd12"),Ve("Predictor13","PredictorAdd13");var vo=T.PredictorAdd2;Ge("ColorIndexInverseTransform","MapARGB","32b",function(h){return h>>8&255},function(h){return h}),Ge("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(h){return h},function(h){return h>>8&255});var Bs,Ul=T.ColorIndexInverseTransform,Vn=T.MapARGB,In=T.VP8LColorIndexInverseTransformAlpha,hc=T.MapAlpha,pc=T.VP8LPredictorsAdd=[];pc.length=16,(T.VP8LPredictors=[]).length=16,(T.VP8LPredictorsAdd_C=[]).length=16,(T.VP8LPredictors_C=[]).length=16;var gc,bc,Ui,Mi,Vi,ja,Ii,Ea,pn,Rn,ss,ls,zs,er,ai,yc,No,Ml,Rh,Oh,Fh,Bh,zh,$h,xc,Wh,qh,Hh,Yh=i(511),Gh=i(2041),Kh=i(225),Xh=i(767),Jh=0,Rd=Gh,Vl=Kh,en=Xh,gn=Yh,Il=0,Rl=1,Zh=2,Ol=3,Fl=4,Od=5,Qh=6,Fd=7,Bd=8,Bl=9,zd=10,tN=[2,3,7],sN=[3,3,11],ep=[280,256,256,256,40],rN=[0,1,1,1,0],nN=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],iN=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],aN=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],oN=8,$d=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Wd=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],vc=null,cN=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],lN=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],tp=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],uN=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],dN=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],mN=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],fN=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ri=[],Cn=[],oi=[],hN=1,sp=2,Oi=[],bn=[];zr("UpsampleRgbLinePair",Na,3),zr("UpsampleBgrLinePair",ka,3),zr("UpsampleRgbaLinePair",uc,4),zr("UpsampleBgraLinePair",lc,4),zr("UpsampleArgbLinePair",Da,4),zr("UpsampleRgba4444LinePair",wa,2),zr("UpsampleRgb565LinePair",Nr,2);var pN=T.UpsampleRgbLinePair,gN=T.UpsampleBgrLinePair,rp=T.UpsampleRgbaLinePair,np=T.UpsampleBgraLinePair,ip=T.UpsampleArgbLinePair,ap=T.UpsampleRgba4444LinePair,bN=T.UpsampleRgb565LinePair,zl=16,$l=1<<zl-1,Nc=-227,qd=482,yN=6,op=0,xN=i(256),vN=i(256),NN=i(256),kN=i(256),wN=i(qd-Nc),DN=i(qd-Nc);ni("YuvToRgbRow",Na,3),ni("YuvToBgrRow",ka,3),ni("YuvToRgbaRow",uc,4),ni("YuvToBgraRow",lc,4),ni("YuvToArgbRow",Da,4),ni("YuvToRgba4444Row",wa,2),ni("YuvToRgb565Row",Nr,2);var cp=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Wl=[0,2,8],PN=[8,7,6,4,4,2,2,2,1,1,1,1],CN=1;this.WebPDecodeRGBA=function(h,g,k,D,V){var I=Rl,B=new be,H=new Gt;B.ba=H,H.S=I,H.width=[H.width],H.height=[H.height];var G=H.width,X=H.height,de=new mt;if(de==null||h==null)var Ne=2;else e(de!=null),Ne=Pa(h,g,k,de.width,de.height,de.Pd,de.Qd,de.format,null);if(Ne!=0?G=0:(G!=null&&(G[0]=de.width[0]),X!=null&&(X[0]=de.height[0]),G=1),G){H.width=H.width[0],H.height=H.height[0],D!=null&&(D[0]=H.width),V!=null&&(V[0]=H.height);e:{if(D=new Dn,(V=new Ee).data=h,V.w=g,V.ha=k,V.kd=1,g=[0],e(V!=null),((h=Pa(V.data,V.w,V.ha,null,null,null,g,null,V))==0||h==7)&&g[0]&&(h=4),(g=h)==0){if(e(B!=null),D.data=V.data,D.w=V.w+V.offset,D.ha=V.ha-V.offset,D.put=ct,D.ac=Lr,D.bc=Xr,D.ma=B,V.xa){if((h=Ot())==null){B=1;break e}if((function(J,fe){var ye=[0],Ce=[0],ve=[0];t:for(;;){if(J==null)return 0;if(fe==null)return J.a=2,0;if(J.l=fe,J.a=0,pe(J.m,fe.data,fe.w,fe.ha),!gr(J.m,ye,Ce,ve)){J.a=3;break t}if(J.xb=sp,fe.width=ye[0],fe.height=Ce[0],!Ft(ye[0],Ce[0],1,J,null))break t;return 1}return e(J.a!=0),0})(h,D)){if(D=(g=_i(D.width,D.height,B.Oa,B.ba))==0){t:{D=h;s:for(;;){if(D==null){D=0;break t}if(e(D.s.yc!=null),e(D.s.Ya!=null),e(0<D.s.Wb),e((k=D.l)!=null),e((V=k.ma)!=null),D.xb!=0){if(D.ca=V.ba,D.tb=V.tb,e(D.ca!=null),!dc(V.Oa,k,Ol)){D.a=2;break s}if(!hs(D,k.width)||k.da)break s;if((k.da||ht(D.ca.S))&&fn(),11>D.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),D.ca.f.kb.F!=null&&fn()),D.Pb&&0<D.s.ua&&D.s.vb.X==null&&!W(D.s.vb,D.s.Wa.Xa)){D.a=1;break s}D.xb=0}if(!ft(D,D.V,D.Ba,D.c,D.i,k.o,ot))break s;V.Dc=D.Ma,D=1;break t}e(D.a!=0),D=0}D=!D}D&&(g=h.a)}else g=h.a}else{if((h=new Ur)==null){B=1;break e}if(h.Fa=V.na,h.P=V.P,h.qc=V.Sa,Ei(h,D)){if((g=_i(D.width,D.height,B.Oa,B.ba))==0){if(h.Aa=0,k=B.Oa,e((V=h)!=null),k!=null){if(0<(G=0>(G=k.Md)?0:100<G?255:255*G/100)){for(X=de=0;4>X;++X)12>(Ne=V.pb[X]).lc&&(Ne.ia=G*PN[0>Ne.lc?0:Ne.lc]>>3),de|=Ne.ia;de&&(alert("todo:VP8InitRandom"),V.ia=1)}V.Ga=k.Id,100<V.Ga?V.Ga=100:0>V.Ga&&(V.Ga=0)}(function(J,fe){if(J==null)return 0;if(fe==null)return bs(J,2,"NULL VP8Io parameter in VP8Decode().");if(!J.cb&&!Ei(J,fe))return 0;if(e(J.cb),fe.ac==null||fe.ac(fe)){fe.ob&&(J.L=0);var ye=Wl[J.L];if(J.L==2?(J.yb=0,J.zb=0):(J.yb=fe.v-ye>>4,J.zb=fe.j-ye>>4,0>J.yb&&(J.yb=0),0>J.zb&&(J.zb=0)),J.Va=fe.o+15+ye>>4,J.Hb=fe.va+15+ye>>4,J.Hb>J.za&&(J.Hb=J.za),J.Va>J.Ub&&(J.Va=J.Ub),0<J.L){var Ce=J.ed;for(ye=0;4>ye;++ye){var ve;if(J.Qa.Cb){var je=J.Qa.Lb[ye];J.Qa.Fb||(je+=Ce.Tb)}else je=Ce.Tb;for(ve=0;1>=ve;++ve){var Se=J.gd[ye][ve],Me=je;if(Ce.Pc&&(Me+=Ce.vd[0],ve&&(Me+=Ce.od[0])),0<(Me=0>Me?0:63<Me?63:Me)){var Le=Me;0<Ce.wb&&(Le=4<Ce.wb?Le>>2:Le>>1)>9-Ce.wb&&(Le=9-Ce.wb),1>Le&&(Le=1),Se.dd=Le,Se.tc=2*Me+Le,Se.ld=40<=Me?2:15<=Me?1:0}else Se.tc=0;Se.La=ve}}}ye=0}else bs(J,6,"Frame setup failed"),ye=J.a;if(ye=ye==0){if(ye){J.$c=0,0<J.Aa||(J.Ic=CN);t:{ye=J.Ic,Ce=4*(Le=J.za);var at=32*Le,qe=Le+1,Tt=0<J.L?Le*(0<J.Aa?2:1):0,et=(J.Aa==2?2:1)*Le;if((Se=Ce+832+(ve=3*(16*ye+Wl[J.L])/2*at)+(je=J.Fa!=null&&0<J.Fa.length?J.Kc.c*J.Kc.i:0))!=Se)ye=0;else{if(Se>J.Vb){if(J.Vb=0,J.Ec=i(Se),J.Fc=0,J.Ec==null){ye=bs(J,1,"no memory during frame initialization.");break t}J.Vb=Se}Se=J.Ec,Me=J.Fc,J.Ac=Se,J.Bc=Me,Me+=Ce,J.Gd=a(at,ua),J.Hd=0,J.rb=a(qe+1,Tr),J.sb=1,J.wa=Tt?a(Tt,Fs):null,J.Y=0,J.D.Nb=0,J.D.wa=J.wa,J.D.Y=J.Y,0<J.Aa&&(J.D.Y+=Le),e(!0),J.oc=Se,J.pc=Me,Me+=832,J.ya=a(et,yr),J.aa=0,J.D.ya=J.ya,J.D.aa=J.aa,J.Aa==2&&(J.D.aa+=Le),J.R=16*Le,J.B=8*Le,Le=(at=Wl[J.L])*J.R,at=at/2*J.B,J.sa=Se,J.ta=Me+Le,J.qa=J.sa,J.ra=J.ta+16*ye*J.R+at,J.Ha=J.qa,J.Ia=J.ra+8*ye*J.B+at,J.$c=0,Me+=ve,J.mb=je?Se:null,J.nb=je?Me:null,e(Me+je<=J.Fc+J.Vb),Pn(J),n(J.Ac,J.Bc,0,Ce),ye=1}}if(ye){if(fe.ka=0,fe.y=J.sa,fe.O=J.ta,fe.f=J.qa,fe.N=J.ra,fe.ea=J.Ha,fe.Vd=J.Ia,fe.fa=J.R,fe.Rc=J.B,fe.F=null,fe.J=0,!Jh){for(ye=-255;255>=ye;++ye)Yh[255+ye]=0>ye?-ye:ye;for(ye=-1020;1020>=ye;++ye)Gh[1020+ye]=-128>ye?-128:127<ye?127:ye;for(ye=-112;112>=ye;++ye)Kh[112+ye]=-16>ye?-16:15<ye?15:ye;for(ye=-255;510>=ye;++ye)Xh[255+ye]=0>ye?0:255<ye?255:ye;Jh=1}Ii=K,Ea=fo,Rn=sc,ss=mn,ls=O,pn=ma,zs=Sl,er=Al,ai=x,yc=M,No=ya,Ml=_l,Rh=Q,Oh=ce,Fh=cc,Bh=ba,zh=jl,$h=El,Cn[0]=Td,Cn[1]=ke,Cn[2]=_d,Cn[3]=Ld,Cn[4]=Ud,Cn[5]=ti,Cn[6]=ei,Cn[7]=Md,Cn[8]=ho,Cn[9]=Vd,Ri[0]=ws,Ri[1]=ze,Ri[2]=Lt,Ri[3]=ks,Ri[4]=Br,Ri[5]=fa,Ri[6]=rc,oi[0]=go,oi[1]=Ue,oi[2]=nc,oi[3]=ha,oi[4]=ic,oi[5]=Id,oi[6]=ac,ye=1}else ye=0}ye&&(ye=(function(Yt,tr){for(Yt.M=0;Yt.M<Yt.Va;++Yt.M){var Ut,tt=Yt.Jc[Yt.M&Yt.Xb],Oe=Yt.m,$s=Yt;for(Ut=0;Ut<$s.za;++Ut){var St=Oe,Kt=$s,xs=Kt.Ac,mr=Kt.Bc+4*Ut,Mr=Kt.zc,Us=Kt.ya[Kt.aa+Ut];if(Kt.Qa.Bb?Us.$b=ge(St,Kt.Pa.jb[0])?2+ge(St,Kt.Pa.jb[2]):ge(St,Kt.Pa.jb[1]):Us.$b=0,Kt.kc&&(Us.Ad=ge(St,Kt.Bd)),Us.Za=!ge(St,145)+0,Us.Za){var kr=Us.Ob,Vr=0;for(Kt=0;4>Kt;++Kt){var sr,Xt=Mr[0+Kt];for(sr=0;4>sr;++sr){Xt=dN[xs[mr+sr]][Xt];for(var is=tp[ge(St,Xt[0])];0<is;)is=tp[2*is+ge(St,Xt[is])];Xt=-is,xs[mr+sr]=Xt}r(kr,Vr,xs,mr,4),Vr+=4,Mr[0+Kt]=Xt}}else Xt=ge(St,156)?ge(St,128)?1:3:ge(St,163)?2:0,Us.Ob[0]=Xt,n(xs,mr,Xt,4),n(Mr,0,Xt,4);Us.Dd=ge(St,142)?ge(St,114)?ge(St,183)?1:3:2:0}if($s.m.Ka)return bs(Yt,7,"Premature end-of-partition0 encountered.");for(;Yt.ja<Yt.za;++Yt.ja){if($s=tt,St=(Oe=Yt).rb[Oe.sb-1],xs=Oe.rb[Oe.sb+Oe.ja],Ut=Oe.ya[Oe.aa+Oe.ja],mr=Oe.kc?Ut.Ad:0)St.la=xs.la=0,Ut.Za||(St.Na=xs.Na=0),Ut.Hc=0,Ut.Gc=0,Ut.ia=0;else{var Ms,as;if(St=xs,xs=$s,mr=Oe.Pa.Xc,Mr=Oe.ya[Oe.aa+Oe.ja],Us=Oe.pb[Mr.$b],Kt=Mr.ad,kr=0,Vr=Oe.rb[Oe.sb-1],Xt=sr=0,n(Kt,kr,0,384),Mr.Za)var fr=0,jn=mr[3];else{is=i(16);var Ws=St.Na+Vr.Na;if(Ws=vc(xs,mr[1],Ws,Us.Eb,0,is,0),St.Na=Vr.Na=(0<Ws)+0,1<Ws)Ii(is,0,Kt,kr);else{var $r=is[0]+3>>3;for(is=0;256>is;is+=16)Kt[kr+is]=$r}fr=1,jn=mr[0]}var us=15&St.la,rr=15&Vr.la;for(is=0;4>is;++is){var tn=1&rr;for($r=as=0;4>$r;++$r)us=us>>1|(tn=(Ws=vc(xs,jn,Ws=tn+(1&us),Us.Sc,fr,Kt,kr))>fr)<<7,as=as<<2|(3<Ws?3:1<Ws?2:Kt[kr+0]!=0),kr+=16;us>>=4,rr=rr>>1|tn<<7,sr=(sr<<8|as)>>>0}for(jn=us,fr=rr>>4,Ms=0;4>Ms;Ms+=2){for(as=0,us=St.la>>4+Ms,rr=Vr.la>>4+Ms,is=0;2>is;++is){for(tn=1&rr,$r=0;2>$r;++$r)Ws=tn+(1&us),us=us>>1|(tn=0<(Ws=vc(xs,mr[2],Ws,Us.Qc,0,Kt,kr)))<<3,as=as<<2|(3<Ws?3:1<Ws?2:Kt[kr+0]!=0),kr+=16;us>>=2,rr=rr>>1|tn<<5}Xt|=as<<4*Ms,jn|=us<<4<<Ms,fr|=(240&rr)<<Ms}St.la=jn,Vr.la=fr,Mr.Hc=sr,Mr.Gc=Xt,Mr.ia=43690&Xt?0:Us.ia,mr=!(sr|Xt)}if(0<Oe.L&&(Oe.wa[Oe.Y+Oe.ja]=Oe.gd[Ut.$b][Ut.Za],Oe.wa[Oe.Y+Oe.ja].La|=!mr),$s.Ka)return bs(Yt,7,"Premature end-of-file encountered.")}if(Pn(Yt),Oe=tr,$s=1,Ut=(tt=Yt).D,St=0<tt.L&&tt.M>=tt.zb&&tt.M<=tt.Va,tt.Aa==0)t:{if(Ut.M=tt.M,Ut.uc=St,hn(tt,Ut),$s=1,Ut=(as=tt.D).Nb,St=(Xt=Wl[tt.L])*tt.R,xs=Xt/2*tt.B,is=16*Ut*tt.R,$r=8*Ut*tt.B,mr=tt.sa,Mr=tt.ta-St+is,Us=tt.qa,Kt=tt.ra-xs+$r,kr=tt.Ha,Vr=tt.Ia-xs+$r,rr=(us=as.M)==0,sr=us>=tt.Va-1,tt.Aa==2&&hn(tt,as),as.uc)for(tn=(Ws=tt).D.M,e(Ws.D.uc),as=Ws.yb;as<Ws.Hb;++as){fr=as,jn=tn;var Ir=(sn=(hr=Ws).D).Nb;Ms=hr.R;var sn=sn.wa[sn.Y+fr],rn=hr.sa,Wr=hr.ta+16*Ir*Ms+16*fr,nn=sn.dd,gs=sn.tc;if(gs!=0)if(e(3<=gs),hr.L==1)0<fr&&Bh(rn,Wr,Ms,gs+4),sn.La&&$h(rn,Wr,Ms,gs),0<jn&&Fh(rn,Wr,Ms,gs+4),sn.La&&zh(rn,Wr,Ms,gs);else{var an=hr.B,En=hr.qa,Sa=hr.ra+8*Ir*an+8*fr,ci=hr.Ha,hr=hr.Ia+8*Ir*an+8*fr;Ir=sn.ld,0<fr&&(er(rn,Wr,Ms,gs+4,nn,Ir),yc(En,Sa,ci,hr,an,gs+4,nn,Ir)),sn.La&&(Ml(rn,Wr,Ms,gs,nn,Ir),Oh(En,Sa,ci,hr,an,gs,nn,Ir)),0<jn&&(zs(rn,Wr,Ms,gs+4,nn,Ir),ai(En,Sa,ci,hr,an,gs+4,nn,Ir)),sn.La&&(No(rn,Wr,Ms,gs,nn,Ir),Rh(En,Sa,ci,hr,an,gs,nn,Ir))}}if(tt.ia&&alert("todo:DitherRow"),Oe.put!=null){if(as=16*us,us=16*(us+1),rr?(Oe.y=tt.sa,Oe.O=tt.ta+is,Oe.f=tt.qa,Oe.N=tt.ra+$r,Oe.ea=tt.Ha,Oe.W=tt.Ia+$r):(as-=Xt,Oe.y=mr,Oe.O=Mr,Oe.f=Us,Oe.N=Kt,Oe.ea=kr,Oe.W=Vr),sr||(us-=Xt),us>Oe.o&&(us=Oe.o),Oe.F=null,Oe.J=null,tt.Fa!=null&&0<tt.Fa.length&&as<us&&(Oe.J=Xs(tt,Oe,as,us-as),Oe.F=tt.mb,Oe.F==null&&Oe.F.length==0)){$s=bs(tt,3,"Could not decode alpha data.");break t}as<Oe.j&&(Xt=Oe.j-as,as=Oe.j,e(!(1&Xt)),Oe.O+=tt.R*Xt,Oe.N+=tt.B*(Xt>>1),Oe.W+=tt.B*(Xt>>1),Oe.F!=null&&(Oe.J+=Oe.width*Xt)),as<us&&(Oe.O+=Oe.v,Oe.N+=Oe.v>>1,Oe.W+=Oe.v>>1,Oe.F!=null&&(Oe.J+=Oe.v),Oe.ka=as-Oe.j,Oe.U=Oe.va-Oe.v,Oe.T=us-as,$s=Oe.put(Oe))}Ut+1!=tt.Ic||sr||(r(tt.sa,tt.ta-St,mr,Mr+16*tt.R,St),r(tt.qa,tt.ra-xs,Us,Kt+8*tt.B,xs),r(tt.Ha,tt.Ia-xs,kr,Vr+8*tt.B,xs))}if(!$s)return bs(Yt,6,"Output aborted.")}return 1})(J,fe)),fe.bc!=null&&fe.bc(fe),ye&=1}return ye?(J.cb=0,ye):0})(h,D)||(g=h.a)}}else g=h.a}g==0&&B.Oa!=null&&B.Oa.fd&&(g=mc(B.ba))}B=g}I=B!=0?null:11>I?H.f.RGBA.eb:H.f.kb.y}else I=null;return I};var lp=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function l(T,R){for(var E="",L=0;L<4;L++)E+=String.fromCharCode(T[R++]);return E}function d(T,R){return T[R+0]|T[R+1]<<8}function f(T,R){return(T[R+0]|T[R+1]<<8|T[R+2]<<16)>>>0}function p(T,R){return(T[R+0]|T[R+1]<<8|T[R+2]<<16|T[R+3]<<24)>>>0}new c;var m=[0],b=[0],y=[],v=new c,N=s,w=(function(T,R){var E={},L=0,F=!1,z=0,Z=0;if(E.frames=[],!(function(_,q){for(var Y=0;Y<4;Y++)if(_[q+Y]!="RIFF".charCodeAt(Y))return!0;return!1})(T,R)){for(p(T,R+=4),R+=8;R<T.length;){var re=l(T,R),le=p(T,R+=4);R+=4;var ee=le+(1&le);switch(re){case"VP8 ":case"VP8L":E.frames[L]===void 0&&(E.frames[L]={}),(te=E.frames[L]).src_off=F?Z:R-8,te.src_size=z+le+8,L++,F&&(F=!1,z=0,Z=0);break;case"VP8X":(te=E.header={}).feature_flags=T[R];var pe=R+4;te.canvas_width=1+f(T,pe),pe+=3,te.canvas_height=1+f(T,pe),pe+=3;break;case"ALPH":F=!0,z=ee+8,Z=R-8;break;case"ANIM":(te=E.header).bgcolor=p(T,R),pe=R+4,te.loop_count=d(T,pe),pe+=2;break;case"ANMF":var ue,te;(te=E.frames[L]={}).offset_x=2*f(T,R),R+=3,te.offset_y=2*f(T,R),R+=3,te.width=1+f(T,R),R+=3,te.height=1+f(T,R),R+=3,te.duration=f(T,R),R+=3,ue=T[R++],te.dispose=1&ue,te.blend=ue>>1&1}re!="ANMF"&&(R+=ee)}return E}})(N,0);w.response=N,w.rgbaoutput=!0,w.dataurl=!1;var j=w.header?w.header:null,C=w.frames?w.frames:null;if(j){j.loop_counter=j.loop_count,m=[j.canvas_height],b=[j.canvas_width];for(var S=0;S<C.length&&C[S].blend!=0;S++);}var A=C[0],U=v.WebPDecodeRGBA(N,A.src_off,A.src_size,b,m);A.rgba=U,A.imgwidth=b[0],A.imgheight=m[0];for(var P=0;P<b[0]*m[0]*4;P++)y[P]=U[P];return this.width=b,this.height=m,this.data=y,this}(function(s){var e,t,r,n,i,a,o,c,l,d=function(_){return _=_||{},this.isStrokeTransparent=_.isStrokeTransparent||!1,this.strokeOpacity=_.strokeOpacity||1,this.strokeStyle=_.strokeStyle||"#000000",this.fillStyle=_.fillStyle||"#000000",this.isFillTransparent=_.isFillTransparent||!1,this.fillOpacity=_.fillOpacity||1,this.font=_.font||"10px sans-serif",this.textBaseline=_.textBaseline||"alphabetic",this.textAlign=_.textAlign||"left",this.lineWidth=_.lineWidth||1,this.lineJoin=_.lineJoin||"miter",this.lineCap=_.lineCap||"butt",this.path=_.path||[],this.transform=_.transform!==void 0?_.transform.clone():new c,this.globalCompositeOperation=_.globalCompositeOperation||"normal",this.globalAlpha=_.globalAlpha||1,this.clip_path=_.clip_path||[],this.currentPoint=_.currentPoint||new a,this.miterLimit=_.miterLimit||10,this.lastPoint=_.lastPoint||new a,this.lineDashOffset=_.lineDashOffset||0,this.lineDash=_.lineDash||[],this.margin=_.margin||[0,0,0,0],this.prevPageLastElemOffset=_.prevPageLastElemOffset||0,this.ignoreClearRect=typeof _.ignoreClearRect!="boolean"||_.ignoreClearRect,this};s.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,n=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,c=this.internal.Matrix,l=new d}]);var f=function(_){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var q=_;Object.defineProperty(this,"pdf",{get:function(){return q}});var Y=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Y},set:function(we){Y=!!we}});var se=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return se},set:function(we){se=!!we}});var ne=0;Object.defineProperty(this,"posX",{get:function(){return ne},set:function(we){isNaN(we)||(ne=we)}});var ae=0;Object.defineProperty(this,"posY",{get:function(){return ae},set:function(we){isNaN(we)||(ae=we)}}),Object.defineProperty(this,"margin",{get:function(){return l.margin},set:function(we){var W;typeof we=="number"?W=[we,we,we,we]:((W=new Array(4))[0]=we[0],W[1]=we.length>=2?we[1]:W[0],W[2]=we.length>=3?we[2]:W[0],W[3]=we.length>=4?we[3]:W[1]),l.margin=W}});var he=!1;Object.defineProperty(this,"autoPaging",{get:function(){return he},set:function(we){he=we}});var me=0;Object.defineProperty(this,"lastBreak",{get:function(){return me},set:function(we){me=we}});var ge=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ge},set:function(we){ge=we}}),Object.defineProperty(this,"ctx",{get:function(){return l},set:function(we){we instanceof d&&(l=we)}}),Object.defineProperty(this,"path",{get:function(){return l.path},set:function(we){l.path=we}});var Pe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Pe},set:function(we){Pe=we}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(we){var W;W=p(we),this.ctx.fillStyle=W.style,this.ctx.isFillTransparent=W.a===0,this.ctx.fillOpacity=W.a,this.pdf.setFillColor(W.r,W.g,W.b,{a:W.a}),this.pdf.setTextColor(W.r,W.g,W.b,{a:W.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(we){var W=p(we);this.ctx.strokeStyle=W.style,this.ctx.isStrokeTransparent=W.a===0,this.ctx.strokeOpacity=W.a,W.a===0?this.pdf.setDrawColor(255,255,255):(W.a,this.pdf.setDrawColor(W.r,W.g,W.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(we){["butt","round","square"].indexOf(we)!==-1&&(this.ctx.lineCap=we,this.pdf.setLineCap(we))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(we){isNaN(we)||(this.ctx.lineWidth=we,this.pdf.setLineWidth(we))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(we){["bevel","round","miter"].indexOf(we)!==-1&&(this.ctx.lineJoin=we,this.pdf.setLineJoin(we))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(we){isNaN(we)||(this.ctx.miterLimit=we,this.pdf.setMiterLimit(we))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(we){this.ctx.textBaseline=we}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(we){["right","end","center","left","start"].indexOf(we)!==-1&&(this.ctx.textAlign=we)}});var xe=null,Ie=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ie},set:function(we){xe=null,Ie=we}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(we){var W;if(this.ctx.font=we,(W=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(we))!==null){var De=W[1];W[2];var st=W[3],Ye=W[4];W[5];var _e=W[6],Be=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ye)[2];Ye=Math.floor(Be==="px"?parseFloat(Ye)*this.pdf.internal.scaleFactor:Be==="em"?parseFloat(Ye)*this.pdf.getFontSize():parseFloat(Ye)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ye);var Ve=(function(dt){var Ge,Jt,qt=[],Ze=dt.trim();if(Ze==="")return of;if(Ze in py)return[py[Ze]];for(;Ze!=="";){switch(Jt=null,Ge=(Ze=by(Ze)).charAt(0)){case'"':case"'":Jt=e7(Ze.substring(1),Ge);break;default:Jt=t7(Ze)}if(Jt===null||(qt.push(Jt[0]),(Ze=by(Jt[1]))!==""&&Ze.charAt(0)!==","))return of;Ze=Ze.replace(/^,/,"")}return qt})(_e);if(this.fontFaces){var ut=(function(dt,Ge){if(xe===null){var Jt=(function(qt){var Ze=[];return Object.keys(qt).forEach(function(Nt){qt[Nt].forEach(function(es){var lt=null;switch(es){case"bold":lt={family:Nt,weight:"bold"};break;case"italic":lt={family:Nt,style:"italic"};break;case"bolditalic":lt={family:Nt,weight:"bold",style:"italic"};break;case"":case"normal":lt={family:Nt}}lt!==null&&(lt.ref={name:Nt,style:es},Ze.push(lt))})}),Ze})(dt.getFontList());xe=(function(qt){for(var Ze={},Nt=0;Nt<qt.length;++Nt){var es=af(qt[Nt]),lt=es.family,At=es.stretch,ht=es.style,fs=es.weight;Ze[lt]=Ze[lt]||{},Ze[lt][At]=Ze[lt][At]||{},Ze[lt][At][ht]=Ze[lt][At][ht]||{},Ze[lt][At][ht][fs]=es}return Ze})(Jt.concat(Ge))}return xe})(this.pdf,this.fontFaces),it=Ve.map(function(dt){return{family:dt,stretch:"normal",weight:st,style:De}}),Wt=(function(dt,Ge,Jt){for(var qt=(Jt=Jt||{}).defaultFontFamily||"times",Ze=Object.assign({},Q8,Jt.genericFontFamilies||{}),Nt=null,es=null,lt=0;lt<Ge.length;++lt)if(Ze[(Nt=af(Ge[lt])).family]&&(Nt.family=Ze[Nt.family]),dt.hasOwnProperty(Nt.family)){es=dt[Nt.family];break}if(!(es=es||dt[qt]))throw new Error("Could not find a font-family for the rule '"+gy(Nt)+"' and default family '"+qt+"'.");if(es=(function(At,ht){if(ht[At])return ht[At];var fs=Gf[At],ns=fs<=Gf.normal?-1:1,Gt=hy(ht,Wv,fs,ns);if(!Gt)throw new Error("Could not find a matching font-stretch value for "+At);return Gt})(Nt.stretch,es),es=(function(At,ht){if(ht[At])return ht[At];for(var fs=$v[At],ns=0;ns<fs.length;++ns)if(ht[fs[ns]])return ht[fs[ns]];throw new Error("Could not find a matching font-style for "+At)})(Nt.style,es),!(es=(function(At,ht){if(ht[At])return ht[At];if(At===400&&ht[500])return ht[500];if(At===500&&ht[400])return ht[400];var fs=Z8[At],ns=hy(ht,qv,fs,At<400?-1:1);if(!ns)throw new Error("Could not find a matching font-weight for value "+At);return ns})(Nt.weight,es)))throw new Error("Failed to resolve a font for the rule '"+gy(Nt)+"'.");return es})(ut,it);this.pdf.setFont(Wt.ref.name,Wt.ref.style)}else{var gt="";(st==="bold"||parseInt(st,10)>=700||De==="bold")&&(gt="bold"),De==="italic"&&(gt+="italic"),gt.length===0&&(gt="normal");for(var bt="",Rt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},vt=0;vt<Ve.length;vt++){if(this.pdf.internal.getFont(Ve[vt],gt,{noFallback:!0,disableWarning:!0})!==void 0){bt=Ve[vt];break}if(gt==="bolditalic"&&this.pdf.internal.getFont(Ve[vt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)bt=Ve[vt],gt="bold";else if(this.pdf.internal.getFont(Ve[vt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){bt=Ve[vt],gt="normal";break}}if(bt===""){for(var Qe=0;Qe<Ve.length;Qe++)if(Rt[Ve[Qe]]){bt=Rt[Ve[Qe]];break}}bt=bt===""?"Times":bt,this.pdf.setFont(bt,gt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(we){this.ctx.globalCompositeOperation=we}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(we){this.ctx.globalAlpha=we}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(we){this.ctx.lineDashOffset=we,te.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(we){this.ctx.lineDash=we,te.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(we){this.ctx.ignoreClearRect=!!we}})};f.prototype.setLineDash=function(_){this.lineDash=_},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){C.call(this,"fill",!1)},f.prototype.stroke=function(){C.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(_,q){if(isNaN(_)||isNaN(q))throw ms.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Y=this.ctx.transform.applyToPoint(new a(_,q));this.path.push({type:"mt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new a(_,q)},f.prototype.closePath=function(){var _=new a(0,0),q=0;for(q=this.path.length-1;q!==-1;q--)if(this.path[q].type==="begin"&&os(this.path[q+1])==="object"&&typeof this.path[q+1].x=="number"){_=new a(this.path[q+1].x,this.path[q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(_.x,_.y)},f.prototype.lineTo=function(_,q){if(isNaN(_)||isNaN(q))throw ms.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Y=this.ctx.transform.applyToPoint(new a(_,q));this.path.push({type:"lt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new a(Y.x,Y.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),C.call(this,null,!0)},f.prototype.quadraticCurveTo=function(_,q,Y,se){if(isNaN(Y)||isNaN(se)||isNaN(_)||isNaN(q))throw ms.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ne=this.ctx.transform.applyToPoint(new a(Y,se)),ae=this.ctx.transform.applyToPoint(new a(_,q));this.path.push({type:"qct",x1:ae.x,y1:ae.y,x:ne.x,y:ne.y}),this.ctx.lastPoint=new a(ne.x,ne.y)},f.prototype.bezierCurveTo=function(_,q,Y,se,ne,ae){if(isNaN(ne)||isNaN(ae)||isNaN(_)||isNaN(q)||isNaN(Y)||isNaN(se))throw ms.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var he=this.ctx.transform.applyToPoint(new a(ne,ae)),me=this.ctx.transform.applyToPoint(new a(_,q)),ge=this.ctx.transform.applyToPoint(new a(Y,se));this.path.push({type:"bct",x1:me.x,y1:me.y,x2:ge.x,y2:ge.y,x:he.x,y:he.y}),this.ctx.lastPoint=new a(he.x,he.y)},f.prototype.arc=function(_,q,Y,se,ne,ae){if(isNaN(_)||isNaN(q)||isNaN(Y)||isNaN(se)||isNaN(ne))throw ms.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ae=!!ae,!this.ctx.transform.isIdentity){var he=this.ctx.transform.applyToPoint(new a(_,q));_=he.x,q=he.y;var me=this.ctx.transform.applyToPoint(new a(0,Y)),ge=this.ctx.transform.applyToPoint(new a(0,0));Y=Math.sqrt(Math.pow(me.x-ge.x,2)+Math.pow(me.y-ge.y,2))}Math.abs(ne-se)>=2*Math.PI&&(se=0,ne=2*Math.PI),this.path.push({type:"arc",x:_,y:q,radius:Y,startAngle:se,endAngle:ne,counterclockwise:ae})},f.prototype.arcTo=function(_,q,Y,se,ne){throw new Error("arcTo not implemented.")},f.prototype.rect=function(_,q,Y,se){if(isNaN(_)||isNaN(q)||isNaN(Y)||isNaN(se))throw ms.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(_,q),this.lineTo(_+Y,q),this.lineTo(_+Y,q+se),this.lineTo(_,q+se),this.lineTo(_,q),this.lineTo(_+Y,q),this.lineTo(_,q)},f.prototype.fillRect=function(_,q,Y,se){if(isNaN(_)||isNaN(q)||isNaN(Y)||isNaN(se))throw ms.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var ne={};this.lineCap!=="butt"&&(ne.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ne.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(_,q,Y,se),this.fill(),ne.hasOwnProperty("lineCap")&&(this.lineCap=ne.lineCap),ne.hasOwnProperty("lineJoin")&&(this.lineJoin=ne.lineJoin)}},f.prototype.strokeRect=function(_,q,Y,se){if(isNaN(_)||isNaN(q)||isNaN(Y)||isNaN(se))throw ms.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");b.call(this)||(this.beginPath(),this.rect(_,q,Y,se),this.stroke())},f.prototype.clearRect=function(_,q,Y,se){if(isNaN(_)||isNaN(q)||isNaN(Y)||isNaN(se))throw ms.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(_,q,Y,se))},f.prototype.save=function(_){_=typeof _!="boolean"||_;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("q");if(this.pdf.setPage(q),_){this.ctx.fontSize=this.pdf.internal.getFontSize();var se=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=se}},f.prototype.restore=function(_){_=typeof _!="boolean"||_;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("Q");this.pdf.setPage(q),_&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(_){var q,Y,se,ne;if(_.isCanvasGradient===!0&&(_=_.getColor()),!_)return{r:0,g:0,b:0,a:0,style:_};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(_))q=0,Y=0,se=0,ne=0;else{var ae=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(_);if(ae!==null)q=parseInt(ae[1]),Y=parseInt(ae[2]),se=parseInt(ae[3]),ne=1;else if((ae=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(_))!==null)q=parseInt(ae[1]),Y=parseInt(ae[2]),se=parseInt(ae[3]),ne=parseFloat(ae[4]);else{if(ne=1,typeof _=="string"&&_.charAt(0)!=="#"){var he=new Vv(_);_=he.ok?he.toHex():"#000000"}_.length===4?(q=_.substring(1,2),q+=q,Y=_.substring(2,3),Y+=Y,se=_.substring(3,4),se+=se):(q=_.substring(1,3),Y=_.substring(3,5),se=_.substring(5,7)),q=parseInt(q,16),Y=parseInt(Y,16),se=parseInt(se,16)}}return{r:q,g:Y,b:se,a:ne,style:_}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},b=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(_,q,Y,se){if(isNaN(q)||isNaN(Y)||typeof _!="string")throw ms.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(se=isNaN(se)?void 0:se,!m.call(this)){var ne=ee(this.ctx.transform.rotation),ae=this.ctx.transform.scaleX;L.call(this,{text:_,x:q,y:Y,scale:ae,angle:ne,align:this.textAlign,maxWidth:se})}},f.prototype.strokeText=function(_,q,Y,se){if(isNaN(q)||isNaN(Y)||typeof _!="string")throw ms.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!b.call(this)){se=isNaN(se)?void 0:se;var ne=ee(this.ctx.transform.rotation),ae=this.ctx.transform.scaleX;L.call(this,{text:_,x:q,y:Y,scale:ae,renderingMode:"stroke",angle:ne,align:this.textAlign,maxWidth:se})}},f.prototype.measureText=function(_){if(typeof _!="string")throw ms.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var q=this.pdf,Y=this.pdf.internal.scaleFactor,se=q.internal.getFontSize(),ne=q.getStringUnitWidth(_)*se/q.internal.scaleFactor;return new function(ae){var he=(ae=ae||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return he}}),this}({width:ne*=Math.round(96*Y/72*1e4)/1e4})},f.prototype.scale=function(_,q){if(isNaN(_)||isNaN(q))throw ms.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Y=new c(_,0,0,q,0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},f.prototype.rotate=function(_){if(isNaN(_))throw ms.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var q=new c(Math.cos(_),Math.sin(_),-Math.sin(_),Math.cos(_),0,0);this.ctx.transform=this.ctx.transform.multiply(q)},f.prototype.translate=function(_,q){if(isNaN(_)||isNaN(q))throw ms.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Y=new c(1,0,0,1,_,q);this.ctx.transform=this.ctx.transform.multiply(Y)},f.prototype.transform=function(_,q,Y,se,ne,ae){if(isNaN(_)||isNaN(q)||isNaN(Y)||isNaN(se)||isNaN(ne)||isNaN(ae))throw ms.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var he=new c(_,q,Y,se,ne,ae);this.ctx.transform=this.ctx.transform.multiply(he)},f.prototype.setTransform=function(_,q,Y,se,ne,ae){_=isNaN(_)?1:_,q=isNaN(q)?0:q,Y=isNaN(Y)?0:Y,se=isNaN(se)?1:se,ne=isNaN(ne)?0:ne,ae=isNaN(ae)?0:ae,this.ctx.transform=new c(_,q,Y,se,ne,ae)};var y=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(_,q,Y,se,ne,ae,he,me,ge){var Pe=this.pdf.getImageProperties(_),xe=1,Ie=1,we=1,W=1;se!==void 0&&me!==void 0&&(we=me/se,W=ge/ne,xe=Pe.width/se*me/se,Ie=Pe.height/ne*ge/ne),ae===void 0&&(ae=q,he=Y,q=0,Y=0),se!==void 0&&me===void 0&&(me=se,ge=ne),se===void 0&&me===void 0&&(me=Pe.width,ge=Pe.height);for(var De,st=this.ctx.transform.decompose(),Ye=ee(st.rotate.shx),_e=new c,Be=(_e=(_e=(_e=_e.multiply(st.translate)).multiply(st.skew)).multiply(st.scale)).applyToRectangle(new o(ae-q*we,he-Y*W,se*xe,ne*Ie)),Ve=v.call(this,Be),ut=[],it=0;it<Ve.length;it+=1)ut.indexOf(Ve[it])===-1&&ut.push(Ve[it]);if(j(ut),this.autoPaging)for(var Wt=ut[0],gt=ut[ut.length-1],bt=Wt;bt<gt+1;bt++){this.pdf.setPage(bt);var Rt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],vt=bt===1?this.posY+this.margin[0]:this.margin[0],Qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],dt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ge=bt===1?0:Qe+(bt-2)*dt;if(this.ctx.clip_path.length!==0){var Jt=this.path;De=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(De,this.posX+this.margin[3],-Ge+vt+this.ctx.prevPageLastElemOffset),S.call(this,"fill",!0),this.path=Jt}var qt=JSON.parse(JSON.stringify(Be));qt=w([qt],this.posX+this.margin[3],-Ge+vt+this.ctx.prevPageLastElemOffset)[0];var Ze=(bt>Wt||bt<gt)&&y.call(this);Ze&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Rt,dt,null).clip().discardPath()),this.pdf.addImage(_,"JPEG",qt.x,qt.y,qt.w,qt.h,null,null,Ye),Ze&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(_,"JPEG",Be.x,Be.y,Be.w,Be.h,null,null,Ye)};var v=function(_,q,Y){var se=[];q=q||this.pdf.internal.pageSize.width,Y=Y||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ne=this.posY+this.ctx.prevPageLastElemOffset;switch(_.type){default:case"mt":case"lt":se.push(Math.floor((_.y+ne)/Y)+1);break;case"arc":se.push(Math.floor((_.y+ne-_.radius)/Y)+1),se.push(Math.floor((_.y+ne+_.radius)/Y)+1);break;case"qct":var ae=pe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,_.x1,_.y1,_.x,_.y);se.push(Math.floor((ae.y+ne)/Y)+1),se.push(Math.floor((ae.y+ae.h+ne)/Y)+1);break;case"bct":var he=ue(this.ctx.lastPoint.x,this.ctx.lastPoint.y,_.x1,_.y1,_.x2,_.y2,_.x,_.y);se.push(Math.floor((he.y+ne)/Y)+1),se.push(Math.floor((he.y+he.h+ne)/Y)+1);break;case"rect":se.push(Math.floor((_.y+ne)/Y)+1),se.push(Math.floor((_.y+_.h+ne)/Y)+1)}for(var me=0;me<se.length;me+=1)for(;this.pdf.internal.getNumberOfPages()<se[me];)N.call(this);return se},N=function(){var _=this.fillStyle,q=this.strokeStyle,Y=this.font,se=this.lineCap,ne=this.lineWidth,ae=this.lineJoin;this.pdf.addPage(),this.fillStyle=_,this.strokeStyle=q,this.font=Y,this.lineCap=se,this.lineWidth=ne,this.lineJoin=ae},w=function(_,q,Y){for(var se=0;se<_.length;se++)switch(_[se].type){case"bct":_[se].x2+=q,_[se].y2+=Y;case"qct":_[se].x1+=q,_[se].y1+=Y;default:_[se].x+=q,_[se].y+=Y}return _},j=function(_){return _.sort(function(q,Y){return q-Y})},C=function(_,q){for(var Y,se,ne=this.fillStyle,ae=this.strokeStyle,he=this.lineCap,me=this.lineWidth,ge=Math.abs(me*this.ctx.transform.scaleX),Pe=this.lineJoin,xe=JSON.parse(JSON.stringify(this.path)),Ie=JSON.parse(JSON.stringify(this.path)),we=[],W=0;W<Ie.length;W++)if(Ie[W].x!==void 0)for(var De=v.call(this,Ie[W]),st=0;st<De.length;st+=1)we.indexOf(De[st])===-1&&we.push(De[st]);for(var Ye=0;Ye<we.length;Ye++)for(;this.pdf.internal.getNumberOfPages()<we[Ye];)N.call(this);if(j(we),this.autoPaging)for(var _e=we[0],Be=we[we.length-1],Ve=_e;Ve<Be+1;Ve++){this.pdf.setPage(Ve),this.fillStyle=ne,this.strokeStyle=ae,this.lineCap=he,this.lineWidth=ge,this.lineJoin=Pe;var ut=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],it=Ve===1?this.posY+this.margin[0]:this.margin[0],Wt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],gt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],bt=Ve===1?0:Wt+(Ve-2)*gt;if(this.ctx.clip_path.length!==0){var Rt=this.path;Y=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(Y,this.posX+this.margin[3],-bt+it+this.ctx.prevPageLastElemOffset),S.call(this,_,!0),this.path=Rt}if(se=JSON.parse(JSON.stringify(xe)),this.path=w(se,this.posX+this.margin[3],-bt+it+this.ctx.prevPageLastElemOffset),q===!1||Ve===0){var vt=(Ve>_e||Ve<Be)&&y.call(this);vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ut,gt,null).clip().discardPath()),S.call(this,_,q),vt&&this.pdf.restoreGraphicsState()}this.lineWidth=me}else this.lineWidth=ge,S.call(this,_,q),this.lineWidth=me;this.path=xe},S=function(_,q){if((_!=="stroke"||q||!b.call(this))&&(_==="stroke"||q||!m.call(this))){for(var Y,se,ne=[],ae=this.path,he=0;he<ae.length;he++){var me=ae[he];switch(me.type){case"begin":ne.push({begin:!0});break;case"close":ne.push({close:!0});break;case"mt":ne.push({start:me,deltas:[],abs:[]});break;case"lt":var ge=ne.length;if(ae[he-1]&&!isNaN(ae[he-1].x)&&(Y=[me.x-ae[he-1].x,me.y-ae[he-1].y],ge>0)){for(;ge>=0;ge--)if(ne[ge-1].close!==!0&&ne[ge-1].begin!==!0){ne[ge-1].deltas.push(Y),ne[ge-1].abs.push(me);break}}break;case"bct":Y=[me.x1-ae[he-1].x,me.y1-ae[he-1].y,me.x2-ae[he-1].x,me.y2-ae[he-1].y,me.x-ae[he-1].x,me.y-ae[he-1].y],ne[ne.length-1].deltas.push(Y);break;case"qct":var Pe=ae[he-1].x+2/3*(me.x1-ae[he-1].x),xe=ae[he-1].y+2/3*(me.y1-ae[he-1].y),Ie=me.x+2/3*(me.x1-me.x),we=me.y+2/3*(me.y1-me.y),W=me.x,De=me.y;Y=[Pe-ae[he-1].x,xe-ae[he-1].y,Ie-ae[he-1].x,we-ae[he-1].y,W-ae[he-1].x,De-ae[he-1].y],ne[ne.length-1].deltas.push(Y);break;case"arc":ne.push({deltas:[],abs:[],arc:!0}),Array.isArray(ne[ne.length-1].abs)&&ne[ne.length-1].abs.push(me)}}se=q?null:_==="stroke"?"stroke":"fill";for(var st=!1,Ye=0;Ye<ne.length;Ye++)if(ne[Ye].arc)for(var _e=ne[Ye].abs,Be=0;Be<_e.length;Be++){var Ve=_e[Be];Ve.type==="arc"?P.call(this,Ve.x,Ve.y,Ve.radius,Ve.startAngle,Ve.endAngle,Ve.counterclockwise,void 0,q,!st):F.call(this,Ve.x,Ve.y),st=!0}else if(ne[Ye].close===!0)this.pdf.internal.out("h"),st=!1;else if(ne[Ye].begin!==!0){var ut=ne[Ye].start.x,it=ne[Ye].start.y;z.call(this,ne[Ye].deltas,ut,it),st=!0}se&&T.call(this,se),q&&R.call(this)}},A=function(_){var q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Y=q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return _-Y;case"top":return _+q-Y;case"hanging":return _+q-2*Y;case"middle":return _+q/2-Y;default:return _}},U=function(_){return _+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var _=function(){};return _.colorStops=[],_.addColorStop=function(q,Y){this.colorStops.push([q,Y])},_.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},_.isCanvasGradient=!0,_},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var P=function(_,q,Y,se,ne,ae,he,me,ge){for(var Pe=re.call(this,Y,se,ne,ae),xe=0;xe<Pe.length;xe++){var Ie=Pe[xe];xe===0&&(ge?E.call(this,Ie.x1+_,Ie.y1+q):F.call(this,Ie.x1+_,Ie.y1+q)),Z.call(this,_,q,Ie.x2,Ie.y2,Ie.x3,Ie.y3,Ie.x4,Ie.y4)}me?R.call(this):T.call(this,he)},T=function(_){switch(_){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},R=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(_,q){this.pdf.internal.out(t(_)+" "+r(q)+" m")},L=function(_){var q;switch(_.align){case"right":case"end":q="right";break;case"center":q="center";break;default:q="left"}var Y=this.pdf.getTextDimensions(_.text),se=A.call(this,_.y),ne=U.call(this,se)-Y.h,ae=this.ctx.transform.applyToPoint(new a(_.x,se)),he=this.ctx.transform.decompose(),me=new c;me=(me=(me=me.multiply(he.translate)).multiply(he.skew)).multiply(he.scale);for(var ge,Pe,xe,Ie=this.ctx.transform.applyToRectangle(new o(_.x,se,Y.w,Y.h)),we=me.applyToRectangle(new o(_.x,ne,Y.w,Y.h)),W=v.call(this,we),De=[],st=0;st<W.length;st+=1)De.indexOf(W[st])===-1&&De.push(W[st]);if(j(De),this.autoPaging)for(var Ye=De[0],_e=De[De.length-1],Be=Ye;Be<_e+1;Be++){this.pdf.setPage(Be);var Ve=Be===1?this.posY+this.margin[0]:this.margin[0],ut=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],it=this.pdf.internal.pageSize.height-this.margin[2],Wt=it-this.margin[0],gt=this.pdf.internal.pageSize.width-this.margin[1],bt=gt-this.margin[3],Rt=Be===1?0:ut+(Be-2)*Wt;if(this.ctx.clip_path.length!==0){var vt=this.path;ge=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(ge,this.posX+this.margin[3],-1*Rt+Ve),S.call(this,"fill",!0),this.path=vt}var Qe=w([JSON.parse(JSON.stringify(we))],this.posX+this.margin[3],-Rt+Ve+this.ctx.prevPageLastElemOffset)[0];_.scale>=.01&&(Pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Pe*_.scale),xe=this.lineWidth,this.lineWidth=xe*_.scale);var dt=this.autoPaging!=="text";if(dt||Qe.y+Qe.h<=it){if(dt||Qe.y>=Ve&&Qe.x<=gt){var Ge=dt?_.text:this.pdf.splitTextToSize(_.text,_.maxWidth||gt-Qe.x)[0],Jt=w([JSON.parse(JSON.stringify(Ie))],this.posX+this.margin[3],-Rt+Ve+this.ctx.prevPageLastElemOffset)[0],qt=dt&&(Be>Ye||Be<_e)&&y.call(this);qt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],bt,Wt,null).clip().discardPath()),this.pdf.text(Ge,Jt.x,Jt.y,{angle:_.angle,align:q,renderingMode:_.renderingMode}),qt&&this.pdf.restoreGraphicsState()}}else Qe.y<it&&(this.ctx.prevPageLastElemOffset+=it-Qe.y);_.scale>=.01&&(this.pdf.setFontSize(Pe),this.lineWidth=xe)}else _.scale>=.01&&(Pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Pe*_.scale),xe=this.lineWidth,this.lineWidth=xe*_.scale),this.pdf.text(_.text,ae.x+this.posX,ae.y+this.posY,{angle:_.angle,align:q,renderingMode:_.renderingMode,maxWidth:_.maxWidth}),_.scale>=.01&&(this.pdf.setFontSize(Pe),this.lineWidth=xe)},F=function(_,q,Y,se){Y=Y||0,se=se||0,this.pdf.internal.out(t(_+Y)+" "+r(q+se)+" l")},z=function(_,q,Y){return this.pdf.lines(_,q,Y,null,null)},Z=function(_,q,Y,se,ne,ae,he,me){this.pdf.internal.out([e(n(Y+_)),e(i(se+q)),e(n(ne+_)),e(i(ae+q)),e(n(he+_)),e(i(me+q)),"c"].join(" "))},re=function(_,q,Y,se){for(var ne=2*Math.PI,ae=Math.PI/2;q>Y;)q-=ne;var he=Math.abs(Y-q);he<ne&&se&&(he=ne-he);for(var me=[],ge=se?-1:1,Pe=q;he>1e-5;){var xe=Pe+ge*Math.min(he,ae);me.push(le.call(this,_,Pe,xe)),he-=Math.abs(xe-Pe),Pe=xe}return me},le=function(_,q,Y){var se=(Y-q)/2,ne=_*Math.cos(se),ae=_*Math.sin(se),he=ne,me=-ae,ge=he*he+me*me,Pe=ge+he*ne+me*ae,xe=4/3*(Math.sqrt(2*ge*Pe)-Pe)/(he*ae-me*ne),Ie=he-xe*me,we=me+xe*he,W=Ie,De=-we,st=se+q,Ye=Math.cos(st),_e=Math.sin(st);return{x1:_*Math.cos(q),y1:_*Math.sin(q),x2:Ie*Ye-we*_e,y2:Ie*_e+we*Ye,x3:W*Ye-De*_e,y3:W*_e+De*Ye,x4:_*Math.cos(Y),y4:_*Math.sin(Y)}},ee=function(_){return 180*_/Math.PI},pe=function(_,q,Y,se,ne,ae){var he=_+.5*(Y-_),me=q+.5*(se-q),ge=ne+.5*(Y-ne),Pe=ae+.5*(se-ae),xe=Math.min(_,ne,he,ge),Ie=Math.max(_,ne,he,ge),we=Math.min(q,ae,me,Pe),W=Math.max(q,ae,me,Pe);return new o(xe,we,Ie-xe,W-we)},ue=function(_,q,Y,se,ne,ae,he,me){var ge,Pe,xe,Ie,we,W,De,st,Ye,_e,Be,Ve,ut,it,Wt=Y-_,gt=se-q,bt=ne-Y,Rt=ae-se,vt=he-ne,Qe=me-ae;for(Pe=0;Pe<41;Pe++)Ye=(De=(xe=_+(ge=Pe/40)*Wt)+ge*((we=Y+ge*bt)-xe))+ge*(we+ge*(ne+ge*vt-we)-De),_e=(st=(Ie=q+ge*gt)+ge*((W=se+ge*Rt)-Ie))+ge*(W+ge*(ae+ge*Qe-W)-st),Pe==0?(Be=Ye,Ve=_e,ut=Ye,it=_e):(Be=Math.min(Be,Ye),Ve=Math.min(Ve,_e),ut=Math.max(ut,Ye),it=Math.max(it,_e));return new o(Math.round(Be),Math.round(Ve),Math.round(ut-Be),Math.round(it-Ve))},te=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var _,q,Y=(_=this.ctx.lineDash,q=this.ctx.lineDashOffset,JSON.stringify({lineDash:_,lineDashOffset:q}));this.prevLineDash!==Y&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Y)}}})(rt.API),(function(s){var e=function(a){var o,c,l,d,f,p,m,b,y,v;for(c=[],l=0,d=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;d>l;l+=4)(f=(a.charCodeAt(l)<<24)+(a.charCodeAt(l+1)<<16)+(a.charCodeAt(l+2)<<8)+a.charCodeAt(l+3))!==0?(p=(f=((f=((f=((f=(f-(v=f%85))/85)-(y=f%85))/85)-(b=f%85))/85)-(m=f%85))/85)%85,c.push(p+33,m+33,b+33,y+33,v+33)):c.push(122);return(function(N,w){for(var j=w;j>0;j--)N.pop()})(c,o.length),String.fromCharCode.apply(String,c)+"~>"},t=function(a){var o,c,l,d,f,p=String,m="length",b=255,y="charCodeAt",v="slice",N="replace";for(a[v](-2),a=a[v](0,-2)[N](/\s/g,"")[N]("z","!!!!!"),l=[],d=0,f=(a+=o="uuuuu"[v](a[m]%5||5))[m];f>d;d+=5)c=52200625*(a[y](d)-33)+614125*(a[y](d+1)-33)+7225*(a[y](d+2)-33)+85*(a[y](d+3)-33)+(a[y](d+4)-33),l.push(b&c>>24,b&c>>16,b&c>>8,b&c);return(function(w,j){for(var C=j;C>0;C--)w.pop()})(l,o[m]),p.fromCharCode.apply(p,l)},r=function(a){return a.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},n=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var c="",l=0;l<a.length;l+=2)c+=String.fromCharCode("0x"+(a[l]+a[l+1]));return c},i=function(a){for(var o=new Uint8Array(a.length),c=a.length;c--;)o[c]=a.charCodeAt(c);return(o=Bf(o)).reduce(function(l,d){return l+String.fromCharCode(d)},"")};s.processDataByFilters=function(a,o){var c=0,l=a||"",d=[];for(typeof(o=o||[])=="string"&&(o=[o]),c=0;c<o.length;c+=1)switch(o[c]){case"ASCII85Decode":case"/ASCII85Decode":l=t(l),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=n(l),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=r(l),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[c]+'" is not implemented')}return{data:l,reverseChain:d.reverse().join(" ")}}})(rt.API),(function(s){s.loadFile=function(e,t,r){return(function(n,i,a){i=i!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=(function(c,l,d){var f=new XMLHttpRequest,p=0,m=function(b){var y=b.length,v=[],N=String.fromCharCode;for(p=0;p<y;p+=1)v.push(N(255&b.charCodeAt(p)));return v.join("")};if(f.open("GET",c,!l),f.overrideMimeType("text/plain; charset=x-user-defined"),l===!1&&(f.onload=function(){f.status===200?d(m(this.responseText)):d(void 0)}),f.send(null),l&&f.status===200)return m(f.responseText)})(n,i,a)}catch{}return o})(e,t,r)},s.loadImageFile=s.loadFile})(rt.API),(function(s){function e(){return(kt.html2canvas?Promise.resolve(kt.html2canvas):qs(()=>import("./html2canvas.esm-Ge7aVWlp.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function t(){return(kt.DOMPurify?Promise.resolve(kt.DOMPurify):qs(()=>import("./purify.es-BkTlVNTa.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var c=os(o);return c==="undefined"?"undefined":c==="string"||o instanceof String?"string":c==="number"||o instanceof Number?"number":c==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":c==="object"?"object":"unknown"},n=function(o,c){var l=document.createElement(o);for(var d in c.className&&(l.className=c.className),c.innerHTML&&c.dompurify&&(l.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)l.style[d]=c.style[d];return l},i=function o(c,l){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),f=c.firstChild;f;f=f.nextSibling)l!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||d.appendChild(o(f,l));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d},a=function o(c){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),d=o.convert(Promise.resolve(),l);return(d=d.setProgress(1,o,1,[o])).set(c)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,c){return o.__proto__=c||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,c){return this.then(function(){switch(c=c||(function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(o),c){case"string":return this.then(t).then(function(l){return this.set({src:n("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=n("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=n("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(n("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(c){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,c(this.prop.container,l)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(c){var l=this.opt.jsPDF,d=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=d,d)for(var m=0;m<d.length;++m){var b=d[m],y=b.src.find(function(v){return v.format==="truetype"});y&&l.addFont(y.url,b.ref.name,b.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,l.context2d.save(!0),c(this.prop.container,p)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,c,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,c):this.outputPdf(o,c)},a.prototype.outputPdf=function(o,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,c)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(r(o)!=="object")return this;var c=Object.keys(o||{}).map(function(l){if(l in a.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(c)})},a.prototype.get=function(o,c){return this.then(function(){var l=o in a.template.prop?this.prop[o]:this.opt[o];return c?c(l):l})},a.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function c(l,d){return Math.floor(l*d/72*96)}return this.then(function(){(o=o||rt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:c(o.inner.width,o.k),height:c(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,c,l,d){return o!=null&&(this.progress.val=o),c!=null&&(this.progress.state=c),l!=null&&(this.progress.n=l),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,c,l,d){return this.setProgress(o?this.progress.val+o:null,c||null,l?this.progress.n+l:null,d?this.progress.stack.concat(d):null)},a.prototype.then=function(o,c){var l=this;return this.thenCore(o,c,function(d,f){return l.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(p){return l.updateProgress(null,d),p}).then(d,f).then(function(p){return l.updateProgress(1),p})})},a.prototype.thenCore=function(o,c,l){l=l||Promise.prototype.then;var d=this;o&&(o=o.bind(d)),c&&(c=c.bind(d));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:a.convert(Object.assign({},d),Promise.prototype),p=l.call(f,o,c);return a.convert(p,d.__proto__)},a.prototype.thenExternal=function(o,c){return Promise.prototype.then.call(this,o,c)},a.prototype.thenList=function(o){var c=this;return o.forEach(function(l){c=c.thenCore(l)}),c},a.prototype.catch=function(o){o&&(o=o.bind(this));var c=Promise.prototype.catch.call(this,o);return a.convert(c,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,rt.getPageSize=function(o,c,l){if(os(o)==="object"){var d=o;o=d.orientation,c=d.unit||c,l=d.format||l}c=c||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var f,p=(""+l).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+c}var b,y=0,v=0;if(m.hasOwnProperty(p))y=m[p][1]/f,v=m[p][0]/f;else try{y=l[1],v=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",v>y&&(b=v,v=y,y=b);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",y>v&&(b=v,v=y,y=b)}return{width:v,height:y,unit:c,k:f,orientation:o}},s.html=function(o,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(af):null;var l=new a(c);return c.worker?l:l.from(o).doCallback()}})(rt.API),rt.API.addJS=function(s){return xy=s,this.internal.events.subscribe("postPutResources",function(){Vu=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Vu+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),yy=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+xy+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Vu!==void 0&&yy!==void 0&&this.internal.out("/Names <</JavaScript "+Vu+" 0 R>>")}),this},(function(s){var e;s.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var n=t.outline.render().split(/\r\n/),i=0;i<n.length;i++){var a=n[i],o=r.exec(a);if(o!=null){var c=o[1];t.internal.newObjectDeferredBegin(c,!1)}t.internal.write(a)}if(this.outline.createNamedDestinations){var l=this.internal.pages.length,d=[];for(i=0;i<l;i++){var f=t.internal.newObject();d.push(f);var p=t.internal.getPageInfo(i+1);t.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var m=t.internal.newObject();for(t.internal.write("<< /Names [ "),i=0;i<d.length;i++)t.internal.write("(page_"+(i+1)+")"+d[i]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+m+" 0 R"),t.internal.write(">>","endobj")}}]),s.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),s.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,n,i){var a={title:n,options:i,children:[]};return r==null&&(r=this.root),r.children.push(a),a},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var n=0;n<r.children.length;n++)this.genIds_r(r.children[n])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<r.children.length;i++){var a=r.children[i];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(r)),i>0&&this.line("/Prev "+this.makeRef(r.children[i-1])),i<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[i+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var c=t.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var l=0;l<r.children.length;l++)this.renderItems(r.children[l])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,n){for(var i=0;i<n.children.length;i++)r.count++,this.count_r(r,n.children[i]);return r.count}}])})(rt.API),(function(s){var e=[192,193,194,195,196,197,198,199];s.processJPEG=function(t,r,n,i,a,o){var c,l=this.decode.DCT_DECODE,d=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=a||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,c=(function(f){for(var p,m=256*f.charCodeAt(4)+f.charCodeAt(5),b=f.length,y={width:0,height:0,numcomponents:1},v=4;v<b;v+=2){if(v+=m,e.indexOf(f.charCodeAt(v+1))!==-1){p=256*f.charCodeAt(v+5)+f.charCodeAt(v+6),y={width:256*f.charCodeAt(v+7)+f.charCodeAt(v+8),height:p,numcomponents:f.charCodeAt(v+9)};break}m=256*f.charCodeAt(v+2)+f.charCodeAt(v+3)}return y})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),c.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}d={data:t,width:c.width,height:c.height,colorSpace:o,bitsPerComponent:8,filter:l,index:r,alias:n}}return d}})(rt.API),rt.API.processPNG=function(s,e,t,r){if(this.__addimage__.isArrayBuffer(s)&&(s=new Uint8Array(s)),this.__addimage__.isArrayBufferView(s)){var n,i=I8(s,{checkCrc:!0}),a=i.width,o=i.height,c=i.channels,l=i.palette,d=i.depth;n=l&&c===1?(function(P){for(var T=P.width,R=P.height,E=P.data,L=P.palette,F=P.depth,z=!1,Z=[],re=[],le=void 0,ee=!1,pe=0,ue=0;ue<L.length;ue++){var te=wb(L[ue],4),_=te[0],q=te[1],Y=te[2],se=te[3];Z.push(_,q,Y),se!=null&&(se===0?(pe++,re.length<1&&re.push(ue)):se<255&&(ee=!0))}if(ee||pe>1){z=!0,re=void 0;var ne=T*R;le=new Uint8Array(ne);for(var ae=new DataView(E.buffer),he=0;he<ne;he++){var me=cf(ae,he,F),ge=wb(L[me],4)[3];le[he]=ge}}else pe===0&&(re=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:z?8:void 0,colorBytes:E,alphaBytes:le,needSMask:z,palette:Z,mask:re}})(i):c===2||c===4?(function(P){for(var T=P.data,R=P.width,E=P.height,L=P.channels,F=P.depth,z=L===2?"DeviceGray":"DeviceRGB",Z=L-1,re=R*E,le=Z,ee=re*le,pe=1*re,ue=Math.ceil(ee*F/8),te=Math.ceil(pe*F/8),_=new Uint8Array(ue),q=new Uint8Array(te),Y=new DataView(T.buffer),se=new DataView(_.buffer),ne=new DataView(q.buffer),ae=!1,he=0;he<re;he++){for(var me=he*L,ge=0;ge<le;ge++)Ey(se,cf(Y,me+ge,F),he*le+ge,F);var Pe=cf(Y,me+le,F);Pe<(1<<F)-1&&(ae=!0),Ey(ne,Pe,1*he,F)}return{colorSpace:z,colorsPerPixel:Z,sMaskBitsPerComponent:ae?F:void 0,colorBytes:_,alphaBytes:q,needSMask:ae}})(i):(function(P){var T=P.data,R=P.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:R,colorsPerPixel:R==="DeviceGray"?1:3,colorBytes:T instanceof Uint16Array?(function(E){for(var L=E.length,F=new Uint8Array(2*L),z=new DataView(F.buffer,F.byteOffset,F.byteLength),Z=0;Z<L;Z++)z.setUint16(2*Z,E[Z],!1);return F})(T):T,needSMask:!1}})(i);var f,p,m,b=n,y=b.colorSpace,v=b.colorsPerPixel,N=b.sMaskBitsPerComponent,w=b.colorBytes,j=b.alphaBytes,C=b.needSMask,S=b.palette,A=b.mask,U=null;return r!==rt.API.image_compression.NONE&&typeof Bf=="function"?(U=(function(P){var T;switch(P){case rt.API.image_compression.FAST:T=11;break;case rt.API.image_compression.MEDIUM:T=13;break;case rt.API.image_compression.SLOW:T=14;break;default:T=12}return T})(r),f=this.decode.FLATE_DECODE,p="/Predictor ".concat(U," /Colors ").concat(v," /BitsPerComponent ").concat(d," /Columns ").concat(a),s=wy(w,Math.ceil(a*v*d/8),v,d,r),C&&(m=wy(j,Math.ceil(a*N/8),1,N,r))):(f=void 0,p=void 0,s=w,C&&(m=j)),(this.__addimage__.isArrayBuffer(s)||this.__addimage__.isArrayBufferView(s))&&(s=this.__addimage__.arrayBufferToBinaryString(s)),(m&&this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),{alias:t,data:s,index:e,filter:f,decodeParameters:p,transparency:A,palette:S,sMask:m,predictor:U,width:a,height:o,bitsPerComponent:d,sMaskBitsPerComponent:N,colorSpace:y}}},(function(s){s.processGIF89A=function(e,t,r,n){var i=new i7(e),a=i.width,o=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var l={data:c,width:a,height:o},d=new lf(100).encode(l,100);return s.processJPEG.call(this,d,t,r,n)},s.processGIF87A=s.processGIF89A})(rt.API),Sn.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var s=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(s);for(var e=0;e<s;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:n,green:r,blue:t,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Sn.prototype.parseBGR=function(){this.pos=this.offset;try{var s="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[s]()}catch(t){ms.log("bit decode error:"+t)}},Sn.prototype.bit1=function(){var s,e=Math.ceil(this.width/8),t=e%4;for(s=this.height-1;s>=0;s--){for(var r=this.bottom_up?s:this.height-1-s,n=0;n<e;n++)for(var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*n*4,o=0;o<8&&8*n+o<this.width;o++){var c=this.palette[i>>7-o&1];this.data[a+4*o]=c.blue,this.data[a+4*o+1]=c.green,this.data[a+4*o+2]=c.red,this.data[a+4*o+3]=255}t!==0&&(this.pos+=4-t)}},Sn.prototype.bit4=function(){for(var s=Math.ceil(this.width/2),e=s%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<s;n++){var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*n*4,o=i>>4,c=15&i,l=this.palette[o];if(this.data[a]=l.blue,this.data[a+1]=l.green,this.data[a+2]=l.red,this.data[a+3]=255,2*n+1>=this.width)break;l=this.palette[c],this.data[a+4]=l.blue,this.data[a+4+1]=l.green,this.data[a+4+2]=l.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},Sn.prototype.bit8=function(){for(var s=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=t*this.width*4+4*r;if(n<this.palette.length){var a=this.palette[n];this.data[i]=a.red,this.data[i+1]=a.green,this.data[i+2]=a.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}s!==0&&(this.pos+=4-s)}},Sn.prototype.bit15=function(){for(var s=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(i&e)/e*255|0,o=(i>>5&e)/e*255|0,c=(i>>10&e)/e*255|0,l=i>>15?255:0,d=r*this.width*4+4*n;this.data[d]=c,this.data[d+1]=o,this.data[d+2]=a,this.data[d+3]=l}this.pos+=s}},Sn.prototype.bit16=function(){for(var s=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,c=(a>>5&t)/t*255|0,l=(a>>11)/e*255|0,d=n*this.width*4+4*i;this.data[d]=l,this.data[d+1]=c,this.data[d+2]=o,this.data[d+3]=255}this.pos+=s}},Sn.prototype.bit24=function(){for(var s=this.height-1;s>=0;s--){for(var e=this.bottom_up?s:this.height-1-s,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=i,this.data[a+1]=n,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},Sn.prototype.bit32=function(){for(var s=this.height-1;s>=0;s--)for(var e=this.bottom_up?s:this.height-1-s,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=i,this.data[o+1]=n,this.data[o+2]=r,this.data[o+3]=a}},Sn.prototype.getData=function(){return this.data},(function(s){s.processBMP=function(e,t,r,n){var i=new Sn(e,!1),a=i.width,o=i.height,c={data:i.getData(),width:a,height:o},l=new lf(100).encode(c,100);return s.processJPEG.call(this,l,t,r,n)}})(rt.API),Ay.prototype.getData=function(){return this.data},(function(s){s.processWEBP=function(e,t,r,n){var i=new Ay(e),a=i.width,o=i.height,c={data:i.getData(),width:a,height:o},l=new lf(100).encode(c,100);return s.processJPEG.call(this,l,t,r,n)}})(rt.API),rt.API.processRGBA=function(s,e,t){for(var r=s.data,n=r.length,i=new Uint8Array(n/4*3),a=new Uint8Array(n/4),o=0,c=0,l=0;l<n;l+=4){var d=r[l],f=r[l+1],p=r[l+2],m=r[l+3];i[o++]=d,i[o++]=f,i[o++]=p,a[c++]=m}var b=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:b,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:s.width,height:s.height}},rt.API.setLanguage=function(s){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[s]!==void 0&&(this.internal.languageSettings.languageCode=s,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Uo=rt.API,Iu=Uo.getCharWidthsArray=function(s,e){var t,r,n=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:n.metadata.Unicode.widths,c=o.fof?o.fof:1,l=e.kerning?e.kerning:n.metadata.Unicode.kerning,d=l.fof?l.fof:1,f=e.doKerning!==!1,p=0,m=s.length,b=0,y=o[0]||c,v=[];for(t=0;t<m;t++)r=s.charCodeAt(t),typeof n.metadata.widthOfString=="function"?v.push((n.metadata.widthOfGlyph(n.metadata.characterToGlyph(r))+a*(1e3/i)||0)/1e3):(p=f&&os(l[r])==="object"&&!isNaN(parseInt(l[r][b],10))?l[r][b]/d:0,v.push((o[r]||y)/c+p)),b=r;return v},vy=Uo.getStringUnitWidth=function(s,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),n=e.charSpace||this.internal.getCharSpace();return Uo.processArabic&&(s=Uo.processArabic(s)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(s,t,n)/t:Iu.apply(this,arguments).reduce(function(i,a){return i+a},0)},Ny=function(s,e,t,r){for(var n=[],i=0,a=s.length,o=0;i!==a&&o+e[i]<t;)o+=e[i],i++;n.push(s.slice(0,i));var c=i;for(o=0;i!==a;)o+e[i]>r&&(n.push(s.slice(c,i)),o=0,c=i),o+=e[i],i++;return c!==i&&n.push(s.slice(c,i)),n},ky=function(s,e,t){t||(t={});var r,n,i,a,o,c,l,d=[],f=[d],p=t.textIndent||0,m=0,b=0,y=s.split(" "),v=Iu.apply(this,[" ",t])[0];if(c=t.lineIndent===-1?y[0].length+2:t.lineIndent||0){var N=Array(c).join(" "),w=[];y.map(function(C){(C=C.split(/\s*\n/)).length>1?w=w.concat(C.map(function(S,A){return(A&&S.length?`
`:"")+S})):w.push(C[0])}),y=w,c=vy.apply(this,[N,t])}for(i=0,a=y.length;i<a;i++){var j=0;if(r=y[i],c&&r[0]==`
`&&(r=r.substr(1),j=1),p+m+(b=(n=Iu.apply(this,[r,t])).reduce(function(C,S){return C+S},0))>e||j){if(b>e){for(o=Ny.apply(this,[r,n,e-(p+m),e]),d.push(o.shift()),d=[o.pop()];o.length;)f.push([o.shift()]);b=n.slice(r.length-(d[0]?d[0].length:0)).reduce(function(C,S){return C+S},0)}else d=[r];f.push(d),p=b+c,m=v}else d.push(r),p+=m+b,m=v}return l=c?function(C,S){return(S?N:"")+C.join(" ")}:function(C){return C.join(" ")},f.map(l)},Uo.splitTextToSize=function(s,e,t){var r,n=(t=t||{}).fontSize||this.internal.getFontSize(),i=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var f=this.internal.getFont(d.fontName,d.fontStyle),p="Unicode";return f.metadata[p]?{widths:f.metadata[p].widths||{0:1},kerning:f.metadata[p].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(s)?s:String(s).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/n;i.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/n:0,i.lineIndent=t.lineIndent;var o,c,l=[];for(o=0,c=r.length;o<c;o++)l=l.concat(ky.apply(this,[r[o],a,i]));return l},(function(s){s.__fontmetrics__=s.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",r={},n={},i=0;i<16;i++)r[t[i]]=e[i],n[e[i]]=t[i];var a=function(p){return"0x"+parseInt(p,10).toString(16)},o=s.__fontmetrics__.compress=function(p){var m,b,y,v,N=["{"];for(var w in p){if(m=p[w],isNaN(parseInt(w,10))?b="'"+w+"'":(w=parseInt(w,10),b=(b=a(w).slice(2)).slice(0,-1)+n[b.slice(-1)]),typeof m=="number")m<0?(y=a(m).slice(3),v="-"):(y=a(m).slice(2),v=""),y=v+y.slice(0,-1)+n[y.slice(-1)];else{if(os(m)!=="object")throw new Error("Don't know what to do with value type "+os(m)+".");y=o(m)}N.push(b+y)}return N.push("}"),N.join("")},c=s.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,b,y,v,N={},w=1,j=N,C=[],S="",A="",U=p.length-1,P=1;P<U;P+=1)(v=p[P])=="'"?m?(y=m.join(""),m=void 0):m=[]:m?m.push(v):v=="{"?(C.push([j,y]),j={},y=void 0):v=="}"?((b=C.pop())[0][b[1]]=j,y=void 0,j=b[0]):v=="-"?w=-1:y===void 0?r.hasOwnProperty(v)?(S+=r[v],y=parseInt(S,16)*w,w=1,S=""):S+=v:r.hasOwnProperty(v)?(A+=r[v],j[y]=parseInt(A,16)*w,w=1,y=void 0,A=""):A+=v;return N},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},f={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};s.events.push(["addFont",function(p){var m=p.font,b=f.Unicode[m.postScriptName];b&&(m.metadata.Unicode={},m.metadata.Unicode.widths=b.widths,m.metadata.Unicode.kerning=b.kerning);var y=d.Unicode[m.postScriptName];y&&(m.metadata.Unicode.encoding=y,m.encoding=y.codePages[0])}])})(rt.API),(function(s){var e=function(t){for(var r=t.length,n=new Uint8Array(r),i=0;i<r;i++)n[i]=t.charCodeAt(i);return n};s.API.events.push(["addFont",function(t){var r=void 0,n=t.font,i=t.instance;if(!n.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");if(typeof(r=i.existsFileInVFS(n.postScriptName)===!1?i.loadFile(n.postScriptName):i.getFileFromVFS(n.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(Yu(o)),a.metadata=s.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(n,r)}}])})(rt),rt.API.addSvgAsImage=function(s,e,t,r,n,i,a,o){if(isNaN(e)||isNaN(t))throw ms.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(n))throw ms.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=r,c.height=n;var l=c.getContext("2d");l.fillStyle="#fff",l.fillRect(0,0,c.width,c.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(kt.canvg?Promise.resolve(kt.canvg):qs(()=>import("./index.es-DaLVRl2c.js"),__vite__mapDeps([9,2,1,3]))).catch(function(p){return Promise.reject(new Error("Could not load canvg: "+p))}).then(function(p){return p.default?p.default:p}).then(function(p){return p.fromString(l,s,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(d)}).then(function(){f.addImage(c.toDataURL("image/jpeg",1),e,t,r,n,a,o)})},rt.API.putTotalPages=function(s){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(s,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(s,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var n=0;n<this.internal.pages[r].length;n++)this.internal.pages[r][n]=this.internal.pages[r][n].replace(e,t);return this},rt.API.viewerPreferences=function(s,e){var t;s=s||{},e=e||!1;var r,n,i,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),c=[],l=0,d=0,f=0;function p(b,y){var v,N=!1;for(v=0;v<b.length;v+=1)b[v]===y&&(N=!0);return N}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,s==="reset"||e===!0){var m=o.length;for(f=0;f<m;f+=1)t[o[f]].value=t[o[f]].defaultValue,t[o[f]].explicitSet=!1}if(os(s)==="object"){for(n in s)if(i=s[n],p(o,n)&&i!==void 0){if(t[n].type==="boolean"&&typeof i=="boolean")t[n].value=i;else if(t[n].type==="name"&&p(t[n].valueSet,i))t[n].value=i;else if(t[n].type==="integer"&&Number.isInteger(i))t[n].value=i;else if(t[n].type==="array"){for(l=0;l<i.length;l+=1)if(r=!0,i[l].length===1&&typeof i[l][0]=="number")c.push(String(i[l]-1));else if(i[l].length>1){for(d=0;d<i[l].length;d+=1)typeof i[l][d]!="number"&&(r=!1);r===!0&&c.push([i[l][0]-1,i[l][1]-1].join(" "))}t[n].value="["+c.join(" ")+"]"}else t[n].value=t[n].defaultValue;t[n].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var b,y=[];for(b in t)t[b].explicitSet===!0&&(t[b].type==="name"?y.push("/"+b+" /"+t[b].value):y.push("/"+b+" "+t[b].value));y.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+y.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(s){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',n=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(r)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),l=i.length+a.length+o.length+n.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+l+" >>"),this.internal.write("stream"),this.internal.write(n+i+a+o+c),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};s.addMetadata=function(r,n){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:n||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(rt.API),(function(s){var e=s.API,t=e.pdfEscape16=function(i,a){for(var o,c=a.metadata.Unicode.widths,l=["","0","00","000","0000"],d=[""],f=0,p=i.length;f<p;++f){if(o=a.metadata.characterToGlyph(i.charCodeAt(f)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=i.charCodeAt(f),c.indexOf(o)==-1&&(c.push(o),c.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return d.join("");o=o.toString(16),d.push(l[4-o.length],o)}return d.join("")},r=function(i){var a,o,c,l,d,f,p;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],f=0,p=(o=Object.keys(i).sort(function(m,b){return m-b})).length;f<p;f++)a=o[f],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[a]!==void 0&&i[a]!==null&&typeof i[a].toString=="function"&&(l=("0000"+i[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),c.push("<"+a+"><"+l+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(a){var o=a.font,c=a.out,l=a.newObject,d=a.putStream;if(o.metadata instanceof s.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,p=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),m="",b=0;b<p.length;b++)m+=String.fromCharCode(p[b]);var y=l();d({data:m,addLength1:!0,objectId:y}),c("endobj");var v=l();d({data:r(o.metadata.toUnicode),addLength1:!0,objectId:v}),c("endobj");var N=l();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Ro(o.fontName)),c("/FontFile2 "+y+" 0 R"),c("/FontBBox "+s.API.PDFObject.convert(o.metadata.bbox)),c("/Flags "+o.metadata.flags),c("/StemV "+o.metadata.stemV),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c(">>"),c("endobj");var w=l();c("<<"),c("/Type /Font"),c("/BaseFont /"+Ro(o.fontName)),c("/FontDescriptor "+N+" 0 R"),c("/W "+s.API.PDFObject.convert(f)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+o.encoding+")"),c(">>"),c(">>"),c("endobj"),o.objectNumber=l(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+v+" 0 R"),c("/BaseFont /"+Ro(o.fontName)),c("/Encoding /"+o.encoding),c("/DescendantFonts ["+w+" 0 R]"),c(">>"),c("endobj"),o.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(a){var o=a.font,c=a.out,l=a.newObject,d=a.putStream;if(o.metadata instanceof s.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,p="",m=0;m<f.length;m++)p+=String.fromCharCode(f[m]);var b=l();d({data:p,addLength1:!0,objectId:b}),c("endobj");var y=l();d({data:r(o.metadata.toUnicode),addLength1:!0,objectId:y}),c("endobj");var v=l();c("<<"),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c("/StemV "+o.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+b+" 0 R"),c("/Flags 96"),c("/FontBBox "+s.API.PDFObject.convert(o.metadata.bbox)),c("/FontName /"+Ro(o.fontName)),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c(">>"),c("endobj"),o.objectNumber=l();for(var N=0;N<o.metadata.hmtx.widths.length;N++)o.metadata.hmtx.widths[N]=parseInt(o.metadata.hmtx.widths[N]*(1e3/o.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+y+" 0 R/BaseFont/"+Ro(o.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+s.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),c("endobj"),o.isAlreadyPutted=!0}})(i)}]);var n=function(i){var a,o=i.text||"",c=i.x,l=i.y,d=i.options||{},f=i.mutex||{},p=f.pdfEscape,m=f.activeFontKey,b=f.fonts,y=m,v="",N=0,w="",j=b[y].encoding;if(b[y].encoding!=="Identity-H")return{text:o,x:c,y:l,options:d,mutex:f};for(w=o,y=m,Array.isArray(o)&&(w=o[0]),N=0;N<w.length;N+=1)b[y].metadata.hasOwnProperty("cmap")&&(a=b[y].metadata.cmap.unicode.codeMap[w[N].charCodeAt(0)]),a||w[N].charCodeAt(0)<256&&b[y].metadata.hasOwnProperty("Unicode")?v+=w[N]:v+="";var C="";return parseInt(y.slice(1))<14||j==="WinAnsiEncoding"?C=p(v,y).split("").map(function(S){return S.charCodeAt(0).toString(16)}).join(""):j==="Identity-H"&&(C=t(v,b[y])),f.isHex=!0,{text:C,x:c,y:l,options:d,mutex:f}};e.events.push(["postProcessText",function(i){var a=i.text||"",o=[],c={text:a,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(a)){var l=0;for(l=0;l<a.length;l+=1)Array.isArray(a[l])&&a[l].length===3?o.push([n(Object.assign({},c,{text:a[l][0]})).text,a[l][1],a[l][2]]):o.push(n(Object.assign({},c,{text:a[l]})).text);i.text=o}else i.text=n(Object.assign({},c,{text:a})).text}])})(rt),(function(s){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};s.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},s.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},s.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(rt.API),(function(s){s.__bidiEngine__=s.prototype.__bidiEngine__=function(r){var n,i,a,o,c,l,d,f=e,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],b={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},y={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","Â«","Â»","Â«","â€¹","â€º","â€¹","â…","â†","â…","â½","â¾","â½","â‚","â‚Ž","â‚","â‰¤","â‰¥","â‰¤","âŒ©","âŒª","âŒ©","ï¹™","ï¹š","ï¹™","ï¹›","ï¹œ","ï¹›","ï¹","ï¹ž","ï¹","ï¹¤","ï¹¥","ï¹¤"],N=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,j=0;this.__bidiEngine__={};var C=function(E){var L=E.charCodeAt(),F=L>>8,z=y[F];return z!==void 0?f[256*z+(255&L)]:F===252||F===253?"AL":N.test(F)?"L":F===8?"R":"N"},S=function(E){for(var L,F=0;F<E.length;F++){if((L=C(E.charAt(F)))==="L")return!1;if(L==="R")return!0}return!1},A=function(E,L,F,z){var Z,re,le,ee,pe=L[z];switch(pe){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"N":case"AN":break;case"EN":w&&(pe="AN");break;case"AL":w=!0,pe="R";break;case"WS":case"BN":pe="N";break;case"CS":z<1||z+1>=L.length||(Z=F[z-1])!=="EN"&&Z!=="AN"||(re=L[z+1])!=="EN"&&re!=="AN"?pe="N":w&&(re="AN"),pe=re===Z?re:"N";break;case"ES":pe=(Z=z>0?F[z-1]:"B")==="EN"&&z+1<L.length&&L[z+1]==="EN"?"EN":"N";break;case"ET":if(z>0&&F[z-1]==="EN"){pe="EN";break}if(w){pe="N";break}for(le=z+1,ee=L.length;le<ee&&L[le]==="ET";)le++;pe=le<ee&&L[le]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(ee=L.length,le=z+1;le<ee&&L[le]==="NSM";)le++;if(le<ee){var ue=E[z],te=ue>=1425&&ue<=2303||ue===64286;if(Z=L[le],te&&(Z==="R"||Z==="AL")){pe="R";break}}}pe=z<1||(Z=L[z-1])==="B"?"N":F[z-1];break;case"B":w=!1,n=!0,pe=j;break;case"S":i=!0,pe="N"}return pe},U=function(E,L,F){var z=E.split("");return F&&P(z,F,{hiLevel:j}),z.reverse(),L&&L.reverse(),z.join("")},P=function(E,L,F){var z,Z,re,le,ee,pe=-1,ue=E.length,te=0,_=[],q=j?m:p,Y=[];for(w=!1,n=!1,i=!1,Z=0;Z<ue;Z++)Y[Z]=C(E[Z]);for(re=0;re<ue;re++){if(ee=te,_[re]=A(E,Y,_,re),z=240&(te=q[ee][b[_[re]]]),te&=15,L[re]=le=q[te][5],z>0)if(z===16){for(Z=pe;Z<re;Z++)L[Z]=1;pe=-1}else pe=-1;if(q[te][6])pe===-1&&(pe=re);else if(pe>-1){for(Z=pe;Z<re;Z++)L[Z]=le;pe=-1}Y[re]==="B"&&(L[re]=0),F.hiLevel|=le}i&&(function(se,ne,ae){for(var he=0;he<ae;he++)if(se[he]==="S"){ne[he]=j;for(var me=he-1;me>=0&&se[me]==="WS";me--)ne[me]=j}})(Y,L,ue)},T=function(E,L,F,z,Z){if(!(Z.hiLevel<E)){if(E===1&&j===1&&!n)return L.reverse(),void(F&&F.reverse());for(var re,le,ee,pe,ue=L.length,te=0;te<ue;){if(z[te]>=E){for(ee=te+1;ee<ue&&z[ee]>=E;)ee++;for(pe=te,le=ee-1;pe<le;pe++,le--)re=L[pe],L[pe]=L[le],L[le]=re,F&&(re=F[pe],F[pe]=F[le],F[le]=re);te=ee}te++}}},R=function(E,L,F){var z=E.split(""),Z={hiLevel:j};return F||(F=[]),P(z,F,Z),(function(re,le,ee){if(ee.hiLevel!==0&&d)for(var pe,ue=0;ue<re.length;ue++)le[ue]===1&&(pe=v.indexOf(re[ue]))>=0&&(re[ue]=v[pe+1])})(z,F,Z),T(2,z,L,F,Z),T(1,z,L,F,Z),z.join("")};return this.__bidiEngine__.doBidiReorder=function(E,L,F){if((function(Z,re){if(re)for(var le=0;le<Z.length;le++)re[le]=le;o===void 0&&(o=S(Z)),l===void 0&&(l=S(Z))})(E,L),a||!c||l)if(a&&c&&o^l)j=o?1:0,E=U(E,L,F);else if(!a&&c&&l)j=o?1:0,E=R(E,L,F),E=U(E,L);else if(!a||o||c||l){if(a&&!c&&o^l)E=U(E,L),o?(j=0,E=R(E,L,F)):(j=1,E=R(E,L,F),E=U(E,L));else if(a&&o&&!c&&l)j=1,E=R(E,L,F),E=U(E,L);else if(!a&&!c&&o^l){var z=d;o?(j=1,E=R(E,L,F),j=0,d=!1,E=R(E,L,F),d=z):(j=0,E=R(E,L,F),E=U(E,L),j=1,d=!1,E=R(E,L,F),d=z,E=U(E,L))}}else j=0,E=R(E,L,F);else j=o?1:0,E=R(E,L,F);return E},this.__bidiEngine__.setOptions=function(E){E&&(a=E.isInputVisual,c=E.isOutputVisual,o=E.isInputRtl,l=E.isOutputRtl,d=E.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new s.__bidiEngine__({isInputVisual:!0});s.API.events.push(["postProcessText",function(r){var n=r.text;r.x,r.y;var i=r.options||{};r.mutex,i.lang;var a=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,t.setOptions(i),Object.prototype.toString.call(n)==="[object Array]"){var o=0;for(a=[],o=0;o<n.length;o+=1)Object.prototype.toString.call(n[o])==="[object Array]"?a.push([t.doBidiReorder(n[o][0]),n[o][1],n[o][2]]):a.push([t.doBidiReorder(n[o])]);r.text=a}else r.text=t.doBidiReorder(n);t.setOptions({isInputVisual:!0})}])})(rt),rt.API.TTFFont=(function(){function s(e){var t;if(this.rawData=e,t=this.contents=new aa(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new v7(this),this.registerTTF()}return s.open=function(e){return new s(e)},s.prototype.parse=function(){return this.directory=new a7(this.contents),this.head=new c7(this),this.name=new f7(this),this.cmap=new Yv(this),this.toUnicode={},this.hhea=new l7(this),this.maxp=new h7(this),this.hmtx=new p7(this),this.post=new d7(this),this.os2=new u7(this),this.loca=new x7(this),this.glyf=new g7(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},s.prototype.registerTTF=function(){var e,t,r,n,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,c,l;for(l=[],a=0,o=(c=this.bbox).length;a<o;a++)e=c[a],l.push(Math.round(e*this.scaleFactor));return l}).call(this),this.stemV=0,this.post.exists?(r=255&(n=this.post.italic_angle),32768&(t=n>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},s.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},s.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},s.prototype.widthOfString=function(e,t,r){var n,i,a,o;for(a=0,i=0,o=(e=""+e).length;0<=o?i<o:i>o;i=0<=o?++i:--i)n=e.charCodeAt(i),a+=this.widthOfGlyph(this.characterToGlyph(n))+r*(1e3/t)||0;return a*(t/1e3)},s.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},s})();var Un,aa=(function(){function s(e){this.data=e??[],this.pos=0,this.length=this.data.length}return s.prototype.readByte=function(){return this.data[this.pos++]},s.prototype.writeByte=function(e){return this.data[this.pos++]=e},s.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},s.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},s.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},s.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},s.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},s.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},s.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},s.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},s.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},s.prototype.writeString=function(e){var t,r,n;for(n=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)n.push(this.writeByte(e.charCodeAt(t)));return n},s.prototype.readShort=function(){return this.readInt16()},s.prototype.writeShort=function(e){return this.writeInt16(e)},s.prototype.readLongLong=function(){var e,t,r,n,i,a,o,c;return e=this.readByte(),t=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^n)+16777216*(255^i)+65536*(255^a)+256*(255^o)+(255^c)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*n+16777216*i+65536*a+256*o+c},s.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},s.prototype.readInt=function(){return this.readInt32()},s.prototype.writeInt=function(e){return this.writeInt32(e)},s.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},s.prototype.write=function(e){var t,r,n,i;for(i=[],r=0,n=e.length;r<n;r++)t=e[r],i.push(this.writeByte(t));return i},s})(),a7=(function(){var s;function e(t){var r,n,i;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},n=0,i=this.tableCount;0<=i?n<i:n>i;n=0<=i?++n:--n)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,n,i,a,o,c,l,d,f,p,m,b,y;for(y in m=Object.keys(t).length,c=Math.log(2),f=16*Math.floor(Math.log(m)/c),a=Math.floor(f/c),d=16*m-f,(n=new aa).writeInt(this.scalarType),n.writeShort(m),n.writeShort(f),n.writeShort(a),n.writeShort(d),i=16*m,l=n.pos+i,o=null,b=[],t)for(p=t[y],n.writeString(y),n.writeInt(s(p)),n.writeInt(l),n.writeInt(p.length),b=b.concat(p),y==="head"&&(o=l),l+=p.length;l%4;)b.push(0),l++;return n.write(b),r=2981146554-s(n.data),n.pos=o+8,n.writeUInt32(r),n.data},s=function(t){var r,n,i,a;for(t=Gv.call(t);t.length%4;)t.push(0);for(i=new aa(t),n=0,r=0,a=t.length;r<a;r=r+=4)n+=i.readUInt32();return 4294967295&n},e})(),o7={}.hasOwnProperty,Zn=function(s,e){for(var t in e)o7.call(e,t)&&(s[t]=e[t]);function r(){this.constructor=s}return r.prototype=e.prototype,s.prototype=new r,s.__super__=e.prototype,s};Un=(function(){function s(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return s.prototype.parse=function(){},s.prototype.encode=function(){},s.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},s})();var c7=(function(){function s(){return s.__super__.constructor.apply(this,arguments)}return Zn(s,Un),s.prototype.tag="head",s.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},s.prototype.encode=function(e){var t;return(t=new aa).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},s})(),_y=(function(){function s(e,t){var r,n,i,a,o,c,l,d,f,p,m,b,y,v,N,w,j;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(m=e.readUInt16(),p=m/2,e.pos+=6,i=(function(){var C,S;for(S=[],c=C=0;0<=p?C<p:C>p;c=0<=p?++C:--C)S.push(e.readUInt16());return S})(),e.pos+=2,y=(function(){var C,S;for(S=[],c=C=0;0<=p?C<p:C>p;c=0<=p?++C:--C)S.push(e.readUInt16());return S})(),l=(function(){var C,S;for(S=[],c=C=0;0<=p?C<p:C>p;c=0<=p?++C:--C)S.push(e.readUInt16());return S})(),d=(function(){var C,S;for(S=[],c=C=0;0<=p?C<p:C>p;c=0<=p?++C:--C)S.push(e.readUInt16());return S})(),n=(this.length-e.pos+this.offset)/2,o=(function(){var C,S;for(S=[],c=C=0;0<=n?C<n:C>n;c=0<=n?++C:--C)S.push(e.readUInt16());return S})(),c=N=0,j=i.length;N<j;c=++N)for(v=i[c],r=w=b=y[c];b<=v?w<=v:w>=v;r=b<=v?++w:--w)d[c]===0?a=r+l[c]:(a=o[d[c]/2+(r-b)-(p-c)]||0)!==0&&(a+=l[c]),this.codeMap[r]=65535&a}e.pos=f}return s.encode=function(e,t){var r,n,i,a,o,c,l,d,f,p,m,b,y,v,N,w,j,C,S,A,U,P,T,R,E,L,F,z,Z,re,le,ee,pe,ue,te,_,q,Y,se,ne,ae,he,me,ge,Pe,xe;switch(z=new aa,a=Object.keys(e).sort(function(Ie,we){return Ie-we}),t){case"macroman":for(y=0,v=(function(){var Ie=[];for(b=0;b<256;++b)Ie.push(0);return Ie})(),w={0:0},i={},Z=0,pe=a.length;Z<pe;Z++)w[me=e[n=a[Z]]]==null&&(w[me]=++y),i[n]={old:e[n],new:w[e[n]]},v[n]=w[e[n]];return z.writeUInt16(1),z.writeUInt16(0),z.writeUInt32(12),z.writeUInt16(0),z.writeUInt16(262),z.writeUInt16(0),z.write(v),{charMap:i,subtable:z.data,maxGlyphID:y+1};case"unicode":for(L=[],f=[],j=0,w={},r={},N=l=null,re=0,ue=a.length;re<ue;re++)w[S=e[n=a[re]]]==null&&(w[S]=++j),r[n]={old:S,new:w[S]},o=w[S]-n,N!=null&&o===l||(N&&f.push(N),L.push(n),l=o),N=n;for(N&&f.push(N),f.push(65535),L.push(65535),R=2*(T=L.length),P=2*Math.pow(Math.log(T)/Math.LN2,2),p=Math.log(P/2)/Math.LN2,U=2*T-P,c=[],A=[],m=[],b=le=0,te=L.length;le<te;b=++le){if(E=L[b],d=f[b],E===65535){c.push(0),A.push(0);break}if(E-(F=r[E].new)>=32768)for(c.push(0),A.push(2*(m.length+T-b)),n=ee=E;E<=d?ee<=d:ee>=d;n=E<=d?++ee:--ee)m.push(r[n].new);else c.push(F-E),A.push(0)}for(z.writeUInt16(3),z.writeUInt16(1),z.writeUInt32(12),z.writeUInt16(4),z.writeUInt16(16+8*T+2*m.length),z.writeUInt16(0),z.writeUInt16(R),z.writeUInt16(P),z.writeUInt16(p),z.writeUInt16(U),ae=0,_=f.length;ae<_;ae++)n=f[ae],z.writeUInt16(n);for(z.writeUInt16(0),he=0,q=L.length;he<q;he++)n=L[he],z.writeUInt16(n);for(ge=0,Y=c.length;ge<Y;ge++)o=c[ge],z.writeUInt16(o);for(Pe=0,se=A.length;Pe<se;Pe++)C=A[Pe],z.writeUInt16(C);for(xe=0,ne=m.length;xe<ne;xe++)y=m[xe],z.writeUInt16(y);return{charMap:r,subtable:z.data,maxGlyphID:j+1}}},s})(),Yv=(function(){function s(){return s.__super__.constructor.apply(this,arguments)}return Zn(s,Un),s.prototype.tag="cmap",s.prototype.parse=function(e){var t,r,n;for(e.pos=this.offset,this.version=e.readUInt16(),n=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=n?r<n:r>n;r=0<=n?++r:--r)t=new _y(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},s.encode=function(e,t){var r,n;return t==null&&(t="macroman"),r=_y.encode(e,t),(n=new aa).writeUInt16(0),n.writeUInt16(1),r.table=n.data.concat(r.subtable),r},s})(),l7=(function(){function s(){return s.__super__.constructor.apply(this,arguments)}return Zn(s,Un),s.prototype.tag="hhea",s.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},s})(),u7=(function(){function s(){return s.__super__.constructor.apply(this,arguments)}return Zn(s,Un),s.prototype.tag="OS/2",s.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,r;for(r=[],t=0;t<10;++t)r.push(e.readByte());return r})(),this.charRange=(function(){var t,r;for(r=[],t=0;t<4;++t)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,r;for(r=[],t=0;t<2;t=++t)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},s})(),d7=(function(){function s(){return s.__super__.constructor.apply(this,arguments)}return Zn(s,Un),s.prototype.tag="post",s.prototype.parse=function(e){var t,r,n;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(r=e.readUInt16(),this.glyphNameIndex=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],n=[];e.pos<this.offset+this.length;)t=e.readByte(),n.push(this.names.push(e.readString(t)));return n;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var a,o,c;for(c=[],i=a=0,o=this.file.maxp.numGlyphs;0<=o?a<o:a>o;i=0<=o?++a:--a)c.push(e.readUInt32());return c}).call(this)}},s})(),m7=function(s,e){this.raw=s,this.length=s.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},f7=(function(){function s(){return s.__super__.constructor.apply(this,arguments)}return Zn(s,Un),s.prototype.tag="name",s.prototype.parse=function(e){var t,r,n,i,a,o,c,l,d,f,p;for(e.pos=this.offset,e.readShort(),t=e.readShort(),o=e.readShort(),r=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(c={},i=d=0,f=r.length;d<f;i=++d)n=r[i],e.pos=n.offset,l=e.readString(n.length),a=new m7(l,n),c[p=n.nameID]==null&&(c[p]=[]),c[n.nameID].push(a);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},s})(),h7=(function(){function s(){return s.__super__.constructor.apply(this,arguments)}return Zn(s,Un),s.prototype.tag="maxp",s.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},s})(),p7=(function(){function s(){return s.__super__.constructor.apply(this,arguments)}return Zn(s,Un),s.prototype.tag="hmtx",s.prototype.parse=function(e){var t,r,n,i,a,o,c;for(e.pos=this.offset,this.metrics=[],t=0,o=this.file.hhea.numberOfMetrics;0<=o?t<o:t>o;t=0<=o?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(n=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var l,d;for(d=[],t=l=0;0<=n?l<n:l>n;t=0<=n?++l:--l)d.push(e.readInt16());return d})(),this.widths=(function(){var l,d,f,p;for(p=[],l=0,d=(f=this.metrics).length;l<d;l++)i=f[l],p.push(i.advance);return p}).call(this),r=this.widths[this.widths.length-1],c=[],t=a=0;0<=n?a<n:a>n;t=0<=n?++a:--a)c.push(this.widths.push(r));return c},s.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},s})(),Gv=[].slice,g7=(function(){function s(){return s.__super__.constructor.apply(this,arguments)}return Zn(s,Un),s.prototype.tag="glyf",s.prototype.parse=function(){return this.cache={}},s.prototype.glyphFor=function(e){var t,r,n,i,a,o,c,l,d,f;return e in this.cache?this.cache[e]:(i=this.file.loca,t=this.file.contents,r=i.indexOf(e),(n=i.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+r,a=(o=new aa(t.read(n))).readShort(),l=o.readShort(),f=o.readShort(),c=o.readShort(),d=o.readShort(),this.cache[e]=a===-1?new y7(o,l,f,c,d):new b7(o,a,l,f,c,d),this.cache[e]))},s.prototype.encode=function(e,t,r){var n,i,a,o,c;for(a=[],i=[],o=0,c=t.length;o<c;o++)n=e[t[o]],i.push(a.length),n&&(a=a.concat(n.encode(r)));return i.push(a.length),{table:a,offsets:i}},s})(),b7=(function(){function s(e,t,r,n,i,a){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=a,this.compound=!1}return s.prototype.encode=function(){return this.raw.data},s})(),y7=(function(){function s(e,t,r,n,i){var a,o;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=n,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return s.prototype.encode=function(){var e,t,r;for(t=new aa(Gv.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},s})(),x7=(function(){function s(){return s.__super__.constructor.apply(this,arguments)}return Zn(s,Un),s.prototype.tag="loca",s.prototype.parse=function(e){var t,r;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var n,i;for(i=[],r=0,n=this.length;r<n;r+=2)i.push(2*e.readUInt16());return i}).call(this):(function(){var n,i;for(i=[],r=0,n=this.length;r<n;r+=4)i.push(e.readUInt32());return i}).call(this)},s.prototype.indexOf=function(e){return this.offsets[e]},s.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},s.prototype.encode=function(e,t){for(var r=new Uint32Array(this.offsets.length),n=0,i=0,a=0;a<r.length;++a)if(r[a]=n,i<t.length&&t[i]==a){++i,r[a]=n;var o=this.offsets[a],c=this.offsets[a+1]-o;c>0&&(n+=c)}for(var l=new Array(4*r.length),d=0;d<r.length;++d)l[4*d+3]=255&r[d],l[4*d+2]=(65280&r[d])>>8,l[4*d+1]=(16711680&r[d])>>16,l[4*d]=(4278190080&r[d])>>24;return l},s})(),v7=(function(){function s(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return s.prototype.generateCmap=function(){var e,t,r,n,i;for(t in n=this.font.cmap.tables[0].codeMap,e={},i=this.subset)r=i[t],e[t]=n[r];return e},s.prototype.glyphsFor=function(e){var t,r,n,i,a,o,c;for(n={},a=0,o=e.length;a<o;a++)n[i=e[a]]=this.font.glyf.glyphFor(i);for(i in t=[],n)(r=n[i])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(i in c=this.glyphsFor(t))r=c[i],n[i]=r;return n},s.prototype.encode=function(e,t){var r,n,i,a,o,c,l,d,f,p,m,b,y,v,N;for(n in r=Yv.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),m={0:0},N=r.charMap)m[(c=N[n]).old]=c.new;for(b in p=r.maxGlyphID,a)b in m||(m[b]=p++);return d=(function(w){var j,C;for(j in C={},w)C[w[j]]=j;return C})(m),f=Object.keys(d).sort(function(w,j){return w-j}),y=(function(){var w,j,C;for(C=[],w=0,j=f.length;w<j;w++)o=f[w],C.push(d[o]);return C})(),i=this.font.glyf.encode(a,y,m),l=this.font.loca.encode(i.offsets,y),v={cmap:this.font.cmap.raw(),glyf:i.table,loca:l,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},s})();rt.API.PDFObject=(function(){var s;function e(){}return s=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,n,i,a;if(Array.isArray(t))return"["+(function(){var o,c,l;for(l=[],o=0,c=t.length;o<c;o++)r=t[o],l.push(e.convert(r));return l})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+s(t.getUTCFullYear(),4)+s(t.getUTCMonth(),2)+s(t.getUTCDate(),2)+s(t.getUTCHours(),2)+s(t.getUTCMinutes(),2)+s(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(n in i=["<<"],t)a=t[n],i.push("/"+n+" "+e.convert(a));return i.push(">>"),i.join(`
`)}return""+t},e})();const K7=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:J8,AcroFormAppearance:He,AcroFormButton:ir,AcroFormCheckBox:tl,AcroFormChoiceField:Ya,AcroFormComboBox:Ka,AcroFormEditBox:Qc,AcroFormListBox:Ga,AcroFormPasswordField:sl,AcroFormPushButton:el,AcroFormRadioButton:Xa,AcroFormTextField:ta,GState:vl,ShadingPattern:Gi,TilingPattern:za,default:rt,jsPDF:rt},Symbol.toStringTag,{value:"Module"})),Kv=s=>{Bo.trackDataExport("csv").catch(()=>{});const e=["Date","Time","Pain Level","Locations","Symptoms","Limited Activities","Sleep Quality","Mood Impact","Missed Work Days","Notes"].join(","),t=s.map(r=>{const[n,i]=r.timestamp.split("T"),a=(i||"").slice(0,5);return[n,a,r.baselineData.pain,`"${r.baselineData.locations?.join("; ")||""}"`,`"${r.baselineData.symptoms?.join("; ")||""}"`,`"${r.functionalImpact?.limitedActivities?.join("; ")||""}"`,r.qualityOfLife?.sleepQuality||"",r.qualityOfLife?.moodImpact||"",r.workImpact?.missedWork||"",`"${r.notes?.replace(/"/g,'""')||""}"`].join(",")});return[e,...t].join("\\n")},Xv=s=>(Bo.trackDataExport("json").catch(()=>{}),JSON.stringify(s,null,2)),Jv=(s,e,t="text/plain;charset=utf-8")=>{if(typeof window>"u")return;let r;if(s.startsWith("data:")){const[a,o]=s.split(",");r=new Blob([atob(o)],{type:a.split(":")[1].split(";")[0]})}else r=new Blob([s],{type:t});const n=window.URL.createObjectURL(r),i=document.createElement("a");i.href=n,i.download=e,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(n)},Zv=s=>{Bo.trackDataExport("pdf").catch(()=>{});const e=new rt;e.setFontSize(20),e.text("Pain Tracking Report",20,30),e.setFontSize(12);const t=s.length>0?new Date(s[0].timestamp).toLocaleDateString():"N/A",r=s.length>0?new Date(s[s.length-1].timestamp).toLocaleDateString():"N/A";if(e.text(`Report Period: ${t} to ${r}`,20,45),e.text(`Total Entries: ${s.length}`,20,55),s.length>0){const a=s.reduce((l,d)=>l+d.baselineData.pain,0)/s.length;e.text(`Average Pain Level: ${Qi(a,1)}/10`,20,65);const o=Ly(s.flatMap(l=>l.baselineData.symptoms||[])),c=Ly(s.flatMap(l=>l.baselineData.locations||[]));e.text(`Most Common Symptoms: ${o.slice(0,3).join(", ")}`,20,75),e.text(`Most Common Locations: ${c.slice(0,3).join(", ")}`,20,85)}let n=105;e.setFontSize(14),e.text("Detailed Entries",20,n),n+=15,e.setFontSize(10),s.slice(0,20).forEach((a,o)=>{n>270&&(e.addPage(),n=30);const c=new Date(a.timestamp).toLocaleDateString(),l=new Date(a.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});if(e.text(`${o+1}. ${c} ${l} - Pain: ${a.baselineData.pain}/10`,20,n),n+=8,a.baselineData.symptoms&&a.baselineData.symptoms.length>0&&(e.text(`   Symptoms: ${a.baselineData.symptoms.join(", ")}`,25,n),n+=8),a.baselineData.locations&&a.baselineData.locations.length>0&&(e.text(`   Locations: ${a.baselineData.locations.join(", ")}`,25,n),n+=8),a.notes){const d=e.splitTextToSize(`   Notes: ${a.notes}`,150);e.text(d,25,n),n+=d.length*5+5}n+=5}),s.length>20&&e.text(`... and ${s.length-20} more entries`,20,n);const i=e.getNumberOfPages();for(let a=1;a<=i;a++)e.setPage(a),e.setFontSize(8),e.text(`Generated on ${new Date().toLocaleDateString()} - Page ${a} of ${i}`,20,285);return e.output("datauristring")},Ly=s=>{const e={};return s.forEach(t=>{e[t]=(e[t]||0)+1}),Object.entries(e).sort(([,t],[,r])=>r-t).map(([t])=>t)},N7=Object.freeze(Object.defineProperty({__proto__:null,downloadData:Jv,exportToCSV:Kv,exportToJSON:Xv,exportToPDF:Zv},Symbol.toStringTag,{value:"Module"}));function Qv({isOpen:s,onClose:e,entries:t,title:r="Export Pain Data"}){const[n,i]=$.useState("csv"),[a,o]=$.useState(!1),[c,l]=$.useState("idle"),[d,f]=$.useState({dateRange:{start:"",end:""},painLevelRange:{min:0,max:10},symptoms:[],locations:[],includeQualityOfLife:!0,includeWorkImpact:!0,includeMedications:!0,includeTreatments:!0}),p=$.useMemo(()=>{const j=new Set;return t.forEach(C=>{C.baselineData.symptoms&&C.baselineData.symptoms.forEach(S=>j.add(S))}),Array.from(j).sort()},[t]),m=$.useMemo(()=>{const j=new Set;return t.forEach(C=>{C.baselineData.locations&&C.baselineData.locations.forEach(S=>j.add(S))}),Array.from(j).sort()},[t]),b=$.useMemo(()=>t.filter(j=>{if(d.dateRange.start&&d.dateRange.end){const C=new Date(j.timestamp),S=new Date(d.dateRange.start),A=new Date(d.dateRange.end);if(C<S||C>A)return!1}return!(j.baselineData.pain<d.painLevelRange.min||j.baselineData.pain>d.painLevelRange.max||d.symptoms.length>0&&!d.symptoms.some(S=>j.baselineData.symptoms?.includes(S))||d.locations.length>0&&!d.locations.some(S=>j.baselineData.locations?.includes(S)))}),[t,d]),y=async()=>{if(b.length===0){l("error");return}o(!0),l("idle");try{let j,C;const S=new Date().toISOString().split("T")[0];switch(n){case"csv":j=Kv(b),C=`pain-data-${S}.csv`;break;case"json":j=Xv(b),C=`pain-data-${S}.json`;break;case"pdf":j=Zv(b),C=`pain-report-${S}.pdf`;break;default:throw new Error("Unsupported export format")}Jv(j,C),l("success"),setTimeout(()=>{e(),l("idle")},2e3)}catch(j){console.error("Export failed:",j),l("error")}finally{o(!1)}},v=[{id:"csv",label:"CSV (Spreadsheet)",description:"Compatible with Excel, Google Sheets",icon:n1,extension:".csv"},{id:"json",label:"JSON (Data)",description:"For developers and data analysis",icon:r1,extension:".json"},{id:"pdf",label:"PDF (Report)",description:"Formatted report for sharing",icon:al,extension:".pdf"}],N=(j,C)=>{f(S=>({...S,[j]:C}))},w=(j,C)=>{if(!Array.isArray(d[j]))return;const S=d[j],A=S.includes(C)?S.filter(U=>U!==C):[...S,C];N(j,A)};return u.jsxDEV(DD,{isOpen:s,onClose:e,size:"xl",children:u.jsxDEV("div",{className:"space-y-6",children:[u.jsxDEV("div",{className:"flex items-center justify-between",children:[u.jsxDEV("div",{className:"flex items-center space-x-3",children:[u.jsxDEV(Ja,{className:"h-6 w-6 text-primary"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:231,columnNumber:13},this),u.jsxDEV("div",{children:[u.jsxDEV("h2",{className:"text-xl font-semibold",children:r},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:233,columnNumber:15},this),u.jsxDEV("p",{className:"text-sm text-muted-foreground",children:["Export ",b.length," of ",t.length," entries"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:234,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:232,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:230,columnNumber:11},this),u.jsxDEV(pr,{variant:"ghost",size:"sm",onClick:e,children:u.jsxDEV(Pi,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:240,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:239,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:229,columnNumber:9},this),u.jsxDEV(un,{children:[u.jsxDEV(to,{children:u.jsxDEV(so,{className:"flex items-center space-x-2",children:[u.jsxDEV(al,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:248,columnNumber:15},this),u.jsxDEV("span",{children:"Export Format"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:249,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:247,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:246,columnNumber:11},this),u.jsxDEV(Kn,{children:u.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:v.map(j=>{const C=j.icon;return u.jsxDEV("button",{onClick:()=>i(j.id),className:$e("p-4 border rounded-lg text-left transition-all hover:shadow-md",n===j.id?"border-primary bg-primary/5 ring-2 ring-primary/20":"border-border hover:border-primary/50"),children:u.jsxDEV("div",{className:"flex items-start space-x-3",children:[u.jsxDEV(C,{className:"h-8 w-8 text-primary mt-1"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:268,columnNumber:23},this),u.jsxDEV("div",{children:[u.jsxDEV("h3",{className:"font-medium",children:j.label},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:270,columnNumber:25},this),u.jsxDEV("p",{className:"text-sm text-muted-foreground mt-1",children:j.description},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:271,columnNumber:25},this),u.jsxDEV("p",{className:"text-xs text-muted-foreground mt-2",children:j.extension},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:274,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:269,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:267,columnNumber:21},this)},j.id,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:257,columnNumber:19},this)})},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:253,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:252,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:245,columnNumber:9},this),u.jsxDEV(un,{children:[u.jsxDEV(to,{children:u.jsxDEV(so,{className:"flex items-center space-x-2",children:[u.jsxDEV(i1,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:290,columnNumber:15},this),u.jsxDEV("span",{children:"Filters"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:291,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:289,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:288,columnNumber:11},this),u.jsxDEV(Kn,{className:"space-y-6",children:[u.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxDEV("div",{children:[u.jsxDEV("label",{className:"block text-sm font-medium mb-2",children:"Start Date"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:298,columnNumber:17},this),u.jsxDEV("input",{type:"date",value:d.dateRange.start,onChange:j=>N("dateRange",{...d.dateRange,start:j.target.value}),className:"w-full px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-primary"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:299,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:297,columnNumber:15},this),u.jsxDEV("div",{children:[u.jsxDEV("label",{className:"block text-sm font-medium mb-2",children:"End Date"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:310,columnNumber:17},this),u.jsxDEV("input",{type:"date",value:d.dateRange.end,onChange:j=>N("dateRange",{...d.dateRange,end:j.target.value}),className:"w-full px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-primary"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:311,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:309,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:296,columnNumber:13},this),u.jsxDEV("div",{children:[u.jsxDEV("label",{className:"block text-sm font-medium mb-2",children:["Pain Level Range: ",d.painLevelRange.min," - ",d.painLevelRange.max]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:325,columnNumber:15},this),u.jsxDEV("div",{className:"flex items-center space-x-4",children:[u.jsxDEV("input",{type:"range",min:"0",max:"10",value:d.painLevelRange.min,onChange:j=>N("painLevelRange",{...d.painLevelRange,min:parseInt(j.target.value)}),className:"flex-1"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:329,columnNumber:17},this),u.jsxDEV("span",{className:"text-sm text-muted-foreground",children:"to"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:340,columnNumber:17},this),u.jsxDEV("input",{type:"range",min:"0",max:"10",value:d.painLevelRange.max,onChange:j=>N("painLevelRange",{...d.painLevelRange,max:parseInt(j.target.value)}),className:"flex-1"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:341,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:328,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:324,columnNumber:13},this),p.length>0&&u.jsxDEV("div",{children:[u.jsxDEV("label",{className:"block text-sm font-medium mb-2",children:"Symptoms"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:358,columnNumber:17},this),u.jsxDEV("div",{className:"flex flex-wrap gap-2",children:p.map(j=>u.jsxDEV("button",{onClick:()=>w("symptoms",j),className:$e("px-3 py-1 text-sm rounded-full border transition-colors",d.symptoms.includes(j)?"bg-primary text-primary-foreground border-primary":"bg-background text-foreground border-border hover:border-primary/50"),children:j},j,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:361,columnNumber:21},this))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:359,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:357,columnNumber:15},this),m.length>0&&u.jsxDEV("div",{children:[u.jsxDEV("label",{className:"block text-sm font-medium mb-2",children:"Locations"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:381,columnNumber:17},this),u.jsxDEV("div",{className:"flex flex-wrap gap-2",children:m.map(j=>u.jsxDEV("button",{onClick:()=>w("locations",j),className:$e("px-3 py-1 text-sm rounded-full border transition-colors",d.locations.includes(j)?"bg-primary text-primary-foreground border-primary":"bg-background text-foreground border-border hover:border-primary/50"),children:j},j,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:384,columnNumber:21},this))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:382,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:380,columnNumber:15},this),u.jsxDEV("div",{className:"space-y-3",children:[u.jsxDEV("label",{className:"block text-sm font-medium",children:"Include Data Types"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:403,columnNumber:15},this),u.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[{key:"includeQualityOfLife",label:"Quality of Life"},{key:"includeWorkImpact",label:"Work Impact"},{key:"includeMedications",label:"Medications"},{key:"includeTreatments",label:"Treatments"}].map(({key:j,label:C})=>u.jsxDEV("label",{className:"flex items-center space-x-2",children:[u.jsxDEV("input",{type:"checkbox",checked:d[j],onChange:S=>N(j,S.target.checked),className:"rounded border-border"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:412,columnNumber:21},this),u.jsxDEV("span",{className:"text-sm",children:C},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:418,columnNumber:21},this)]},j,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:411,columnNumber:19},this))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:404,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:402,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:294,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:287,columnNumber:9},this),c!=="idle"&&u.jsxDEV(un,{className:$e("border",c==="success"?"border-green-200 bg-green-50":"border-red-200 bg-red-50"),children:u.jsxDEV(Kn,{className:"pt-6",children:u.jsxDEV("div",{className:"flex items-center space-x-2",children:[c==="success"?u.jsxDEV(il,{className:"h-5 w-5 text-green-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:435,columnNumber:19},this):u.jsxDEV(nh,{className:"h-5 w-5 text-red-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:437,columnNumber:19},this),u.jsxDEV("p",{className:$e("text-sm",c==="success"?"text-green-800":"text-red-800"),children:c==="success"?`Successfully exported ${b.length} entries!`:b.length===0?"No entries match your filters. Please adjust your criteria.":"Export failed. Please try again."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:439,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:433,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:432,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:428,columnNumber:11},this),u.jsxDEV("div",{className:"flex items-center justify-between pt-4 border-t",children:[u.jsxDEV("div",{className:"text-sm text-muted-foreground",children:[b.length," entries will be exported"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:457,columnNumber:11},this),u.jsxDEV("div",{className:"flex space-x-3",children:[u.jsxDEV(pr,{variant:"outline",onClick:e,children:"Cancel"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:461,columnNumber:13},this),u.jsxDEV(pr,{onClick:y,disabled:a||b.length===0,className:"min-w-[120px]",children:a?u.jsxDEV(u.Fragment,{children:[u.jsxDEV("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current mr-2"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:471,columnNumber:19},this),"Exporting..."]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:470,columnNumber:17},this):u.jsxDEV(u.Fragment,{children:[u.jsxDEV(Ja,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:476,columnNumber:19},this),"Export ",n.toUpperCase()]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:475,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:464,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:460,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:456,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:227,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/export/DataExportModal.tsx",lineNumber:226,columnNumber:5},this)}const k7=Object.freeze(Object.defineProperty({__proto__:null,DataExportModal:Qv},Symbol.toStringTag,{value:"Module"})),w7=$.createContext(null);function D7(){const s=$.useContext(w7);if(!s)throw new Error("useCrisisMode must be used within a CrisisModeProvider");return s}const Ih={calm:{colors:{primary:"#10b981",secondary:"#06b6d4",background:"#f9fafb",text:"#374151",accent:"#8b5cf6",warning:"#f59e0b"},animation:{duration:300,intensity:"normal",enableTransitions:!0},layout:{spacing:"normal",density:"normal",buttonSize:"normal"},visual:{contrast:"normal",blur:0,brightness:1,saturation:1}},mild:{colors:{primary:"#3b82f6",secondary:"#06b6d4",background:"#f8fafc",text:"#1f2937",accent:"#6366f1",warning:"#f59e0b"},animation:{duration:200,intensity:"reduced",enableTransitions:!0},layout:{spacing:"relaxed",density:"normal",buttonSize:"large"},visual:{contrast:"normal",blur:0,brightness:1.1,saturation:.9}},moderate:{colors:{primary:"#f97316",secondary:"#eab308",background:"#fffbeb",text:"#92400e",accent:"#d97706",warning:"#dc2626"},animation:{duration:150,intensity:"reduced",enableTransitions:!0},layout:{spacing:"relaxed",density:"spacious",buttonSize:"large"},visual:{contrast:"high",blur:0,brightness:1.2,saturation:.8}},severe:{colors:{primary:"#dc2626",secondary:"#ea580c",background:"#fef2f2",text:"#7f1d1d",accent:"#b91c1c",warning:"#dc2626"},animation:{duration:100,intensity:"minimal",enableTransitions:!1},layout:{spacing:"relaxed",density:"spacious",buttonSize:"extra-large"},visual:{contrast:"high",blur:0,brightness:1.3,saturation:.7}},emergency:{colors:{primary:"#991b1b",secondary:"#dc2626",background:"#fef2f2",text:"#7f1d1d",accent:"#b91c1c",warning:"#dc2626"},animation:{duration:0,intensity:"minimal",enableTransitions:!1},layout:{spacing:"relaxed",density:"spacious",buttonSize:"extra-large"},visual:{contrast:"maximum",blur:0,brightness:1.4,saturation:.6}}};function Wc({children:s,onClick:e,variant:t="primary",disabled:r=!1,className:n="",size:i,urgency:a="low"}){const{crisisLevel:o}=jd(),c=Ih[o],l=i||c.layout.buttonSize,d={low:{animation:"none"},medium:{animation:o!=="emergency"?"pulse 2s infinite":"none"},high:{animation:o!=="emergency"?"pulse 1s infinite":"none"},critical:{animation:o!=="emergency"?"pulse 0.5s infinite":"none"}},f={backgroundColor:t==="emergency"?c.colors.warning:t==="secondary"?c.colors.secondary:c.colors.primary,color:"white",border:"none",borderRadius:"0.5rem",fontWeight:"600",cursor:r?"not-allowed":"pointer",opacity:r?.5:1,transition:c.animation.enableTransitions?`all ${c.animation.duration}ms ease-out`:"none",transform:"scale(1)",boxShadow:a==="critical"?"0 0 20px rgba(220, 38, 38, 0.5)":a==="high"?"0 0 15px rgba(245, 158, 11, 0.5)":"0 2px 4px rgba(0, 0, 0, 0.1)",...d[a],...l==="large"&&{padding:"1rem 2rem",fontSize:"1.125rem",minHeight:"3rem",minWidth:"8rem"},...l==="extra-large"&&{padding:"1.5rem 3rem",fontSize:"1.25rem",minHeight:"4rem",minWidth:"10rem"},...l==="normal"&&{padding:"0.75rem 1.5rem",fontSize:"1rem",minHeight:"2.5rem",minWidth:"6rem"}};return u.jsxDEV("button",{style:f,onClick:e,disabled:r,className:`stress-adaptive-button ${n}`,"data-urgency":a,"data-stress-level":o,onMouseEnter:p=>{!r&&c.animation.enableTransitions&&(p.currentTarget.style.transform="scale(1.05)")},onMouseLeave:p=>{!r&&c.animation.enableTransitions&&(p.currentTarget.style.transform="scale(1)")},children:s},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/StressResponsiveUI.tsx",lineNumber:295,columnNumber:5},this)}function Gu({children:s,level:e="body",emphasis:t="normal",className:r=""}){const{crisisLevel:n}=jd(),i=Ih[n],a=()=>{const l={heading:"1.5rem",subheading:"1.25rem",body:"1rem",caption:"0.875rem"},d=i.layout.density==="spacious"?1.2:i.layout.density==="compact"?.9:1;return`calc(${l[e]} * ${d})`},o={color:i.colors.text,fontSize:a(),fontWeight:t==="high"?"700":t==="medium"?"600":"400",lineHeight:i.layout.spacing==="relaxed"?"1.75":i.layout.spacing==="tight"?"1.4":"1.6",transition:i.animation.enableTransitions?`all ${i.animation.duration}ms ease-out`:"none"},c=e==="heading"?"h2":e==="subheading"?"h3":e==="caption"?"small":"p";return u.jsxDEV(c,{style:o,className:`stress-responsive-text ${r}`,"data-level":e,"data-emphasis":t,"data-stress-level":n,children:s},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/StressResponsiveUI.tsx",lineNumber:363,columnNumber:5},this)}function Ic({children:s,title:e,priority:t="low",className:r="",collapsible:n=!1,defaultExpanded:i=!0}){const[a,o]=$.useState(i),{crisisLevel:c}=jd(),l=Ih[c];$.useEffect(()=>{(t==="high"||t==="emergency")&&(c==="severe"||c==="emergency")&&o(!0)},[t,c]);const d=()=>{switch(t){case"emergency":return l.colors.warning;case"high":return l.colors.accent;case"medium":return l.colors.secondary;default:return l.colors.primary}},f={backgroundColor:l.colors.background,border:`2px solid ${d()}`,borderRadius:"0.75rem",padding:l.layout.spacing==="relaxed"?"1.5rem":l.layout.spacing==="tight"?"0.75rem":"1rem",boxShadow:t==="emergency"?`0 0 30px ${l.colors.warning}40`:t==="high"?`0 0 20px ${l.colors.accent}30`:"0 4px 6px rgba(0, 0, 0, 0.1)",transition:l.animation.enableTransitions?`all ${l.animation.duration}ms ease-out`:"none",animation:t==="emergency"&&c==="emergency"?"pulse 2s infinite":"none"};return u.jsxDEV("div",{className:`stress-responsive-card ${r}`,style:f,"data-priority":t,"data-stress-level":c,children:[e&&u.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[u.jsxDEV(Gu,{level:"subheading",emphasis:"medium",children:e},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/StressResponsiveUI.tsx",lineNumber:516,columnNumber:11},this),n&&u.jsxDEV(Wc,{onClick:()=>o(!a),size:"normal",className:"ml-2",children:a?"âˆ’":"+"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/StressResponsiveUI.tsx",lineNumber:520,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/StressResponsiveUI.tsx",lineNumber:515,columnNumber:9},this),(!n||a)&&u.jsxDEV("div",{className:"stress-card-content",children:s},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/StressResponsiveUI.tsx",lineNumber:531,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/StressResponsiveUI.tsx",lineNumber:508,columnNumber:5},this)}const Ru=[{id:"mild-stress",name:"Mild Stress Response",description:"Tests system response to mild stress indicators",duration:30,stressLevel:"mild",simulatedBehaviors:{rapidClicks:!1,erraticMovement:!0,longPauses:!1,frustrationIndicators:!1},expectedOutcomes:["UI slightly enlarges touch targets","Stress indicator appears","Subtle color adaptations"]},{id:"moderate-stress",name:"Moderate Stress Adaptation",description:"Tests adaptive UI for moderate stress levels",duration:45,stressLevel:"moderate",simulatedBehaviors:{rapidClicks:!0,erraticMovement:!0,longPauses:!0,frustrationIndicators:!0},expectedOutcomes:["Larger buttons and touch targets","Cognitive fog navigation activates","Color scheme adapts to warmer tones","Animation speeds reduce"]},{id:"severe-stress",name:"Severe Crisis Response",description:"Tests emergency mode activation and crisis features",duration:60,stressLevel:"severe",simulatedBehaviors:{rapidClicks:!0,erraticMovement:!0,longPauses:!0,frustrationIndicators:!0},expectedOutcomes:["Emergency mode interface appears","Multi-modal input system activates","Crisis alert banner shows","Simplified navigation enabled"]},{id:"emergency-crisis",name:"Emergency Crisis Mode",description:"Tests full emergency mode with all crisis features",duration:90,stressLevel:"emergency",simulatedBehaviors:{rapidClicks:!0,erraticMovement:!0,longPauses:!0,frustrationIndicators:!0},expectedOutcomes:["Full emergency interface active","All animations disabled","Maximum contrast enabled","Emergency contacts readily accessible","Voice commands working"]}];function P7(){const[s,e]=$.useState(!1),[t,r]=$.useState(null),[n,i]=$.useState(0),[a,o]=$.useState([]),[c,l]=$.useState(!1),{crisisLevel:d,resetCrisisDetection:f}=jd(),{isCrisisModeActive:p,crisisFeatures:m}=D7(),b=$.useRef(),y=$.useRef(null),v=$.useCallback(A=>{if(c){if(A.simulatedBehaviors.rapidClicks){const U=Math.floor(Math.random()*5)+3;for(let P=0;P<U;P++)setTimeout(()=>{document.dispatchEvent(new MouseEvent("click",{bubbles:!0}))},P*100)}if(A.simulatedBehaviors.erraticMovement){const U=Math.floor(Math.random()*10)+5;for(let P=0;P<U;P++)setTimeout(()=>{document.dispatchEvent(new MouseEvent("mousemove",{clientX:Math.random()*window.innerWidth,clientY:Math.random()*window.innerHeight,bubbles:!0}))},P*200)}A.simulatedBehaviors.longPauses&&setTimeout(()=>{},3e3),A.simulatedBehaviors.frustrationIndicators&&setTimeout(()=>{["Escape","Escape","Backspace"].forEach((U,P)=>{setTimeout(()=>{document.dispatchEvent(new KeyboardEvent("keydown",{key:U}))},P*100)})},1e3)}},[c]),N=$.useCallback(A=>{A.endTime=new Date;const U=[];let P=!0;const T=Ru.find(E=>E.id===A.scenarioId);T&&(d!==T.stressLevel&&(U.push(`Crisis level mismatch: expected ${T.stressLevel}, got ${d}`),P=!1),(T.stressLevel==="severe"||T.stressLevel==="emergency")&&(p||(U.push("Crisis mode should be active but is not"),P=!1)),T.stressLevel==="moderate"&&!m.cognitiveFogSupport&&(U.push("Cognitive fog support should be active"),P=!1),T.stressLevel==="severe"&&!m.emergencyMode&&(U.push("Emergency mode should be active"),P=!1),T.stressLevel==="emergency"&&!m.multiModalInput&&(U.push("Multi-modal input should be active"),P=!1));const R=A.endTime.getTime()-A.startTime.getTime();A.metrics={responseTime:R/1e3,adaptationSpeed:P?5:2,userExperience:P?U.length===0?"excellent":"good":"poor"},A.passed=P,A.issues=U,o(E=>[...E,A]),e(!1),r(null),i(0),l(!1)},[d,p,m]),w=$.useCallback(async A=>{e(!0),r(A),i(0),l(!0);const U={scenarioId:A.id,startTime:new Date,passed:!1,issues:[],metrics:{responseTime:0,adaptationSpeed:0,userExperience:"poor"}};y.current=U,f("resolved");const P=Date.now(),T=setInterval(()=>{const E=(Date.now()-P)/1e3,L=Math.min(E/A.duration*100,100);i(L),L>=100&&(clearInterval(T),N(U))},100),R=setInterval(()=>{v(A)},2e3);b.current=R,setTimeout(()=>{clearInterval(T),clearInterval(R),l(!1)},A.duration*1e3)},[v,f,N]),j=$.useCallback(()=>{b.current&&clearInterval(b.current),e(!1),r(null),i(0),l(!1),f("resolved")},[f]),C=$.useCallback(async()=>{for(const A of Ru)await new Promise(U=>{w(A);const P=()=>{s?setTimeout(P,1e3):U()};setTimeout(P,(A.duration+2)*1e3)}),await new Promise(U=>setTimeout(U,3e3))},[w,s]),S=$.useCallback(()=>{o([]),f("resolved")},[f]);return u.jsxDEV("div",{className:"crisis-testing-dashboard p-6 max-w-6xl mx-auto",children:[u.jsxDEV("div",{className:"mb-6",children:[u.jsxDEV("h1",{className:"text-2xl font-bold mb-2",children:"Crisis Feature Testing Dashboard"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:339,columnNumber:9},this),u.jsxDEV("p",{className:"text-gray-600",children:"Test and validate crisis-responsive features under simulated stress conditions"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:340,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:338,columnNumber:7},this),u.jsxDEV(Ic,{title:"Test Controls",className:"mb-6",children:u.jsxDEV("div",{className:"flex flex-wrap gap-3",children:[u.jsxDEV(Wc,{onClick:C,disabled:s,urgency:"medium",children:[u.jsxDEV(Rp,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:353,columnNumber:13},this),"Run All Tests"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:348,columnNumber:11},this),u.jsxDEV(Wc,{onClick:j,disabled:!s,urgency:"low",children:[u.jsxDEV(rw,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:362,columnNumber:13},this),"Stop Test"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:357,columnNumber:11},this),u.jsxDEV(Wc,{onClick:S,disabled:s,urgency:"low",children:[u.jsxDEV(o1,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:371,columnNumber:13},this),"Clear Results"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:366,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:347,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:346,columnNumber:7},this),s&&t&&u.jsxDEV(Ic,{title:"Current Test",priority:"high",className:"mb-6",children:u.jsxDEV("div",{className:"space-y-3",children:[u.jsxDEV("div",{children:[u.jsxDEV(Gu,{level:"subheading",emphasis:"medium",children:t.name},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:382,columnNumber:15},this),u.jsxDEV(Gu,{level:"body",children:t.description},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:385,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:381,columnNumber:13},this),u.jsxDEV("div",{children:[u.jsxDEV("div",{className:"flex justify-between items-center mb-2",children:[u.jsxDEV("span",{className:"text-sm font-medium",children:"Progress"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:392,columnNumber:17},this),u.jsxDEV("span",{className:"text-sm text-gray-600",children:[Math.round(n),"%"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:393,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:391,columnNumber:15},this),u.jsxDEV("div",{className:"w-full bg-gray-200 rounded-full h-2",children:u.jsxDEV("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${n}%`}},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:396,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:395,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:390,columnNumber:13},this),u.jsxDEV("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[u.jsxDEV("div",{children:[u.jsxDEV("strong",{children:"Target Stress Level:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:405,columnNumber:17},this)," ",t.stressLevel]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:404,columnNumber:15},this),u.jsxDEV("div",{children:[u.jsxDEV("strong",{children:"Current Level:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:408,columnNumber:17},this)," ",d]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:407,columnNumber:15},this),u.jsxDEV("div",{children:[u.jsxDEV("strong",{children:"Crisis Mode:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:411,columnNumber:17},this)," ",p?"Active":"Inactive"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:410,columnNumber:15},this),u.jsxDEV("div",{children:[u.jsxDEV("strong",{children:"Duration:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:414,columnNumber:17},this)," ",t.duration,"s"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:413,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:403,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:380,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:379,columnNumber:9},this),u.jsxDEV("div",{className:"grid md:grid-cols-2 gap-4 mb-6",children:Ru.map(A=>u.jsxDEV(Ic,{title:A.name,priority:A.stressLevel==="emergency"?"emergency":A.stressLevel==="severe"?"high":"medium",className:"h-full",children:u.jsxDEV("div",{className:"space-y-3",children:[u.jsxDEV(Gu,{level:"body",children:A.description},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:432,columnNumber:15},this),u.jsxDEV("div",{className:"text-sm space-y-1",children:[u.jsxDEV("div",{children:[u.jsxDEV("strong",{children:"Duration:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:437,columnNumber:22},this)," ",A.duration,"s"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:437,columnNumber:17},this),u.jsxDEV("div",{children:[u.jsxDEV("strong",{children:"Stress Level:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:438,columnNumber:22},this)," ",A.stressLevel]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:438,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:436,columnNumber:15},this),u.jsxDEV("div",{className:"text-sm",children:[u.jsxDEV("strong",{children:"Expected Outcomes:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:442,columnNumber:17},this),u.jsxDEV("ul",{className:"mt-1 ml-4 list-disc",children:A.expectedOutcomes.map((U,P)=>u.jsxDEV("li",{children:U},P,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:445,columnNumber:21},this))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:443,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:441,columnNumber:15},this),u.jsxDEV(Wc,{onClick:()=>w(A),disabled:s,size:"normal",urgency:"low",className:"w-full mt-3",children:[u.jsxDEV(Rp,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:457,columnNumber:17},this),"Run Test"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:450,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:431,columnNumber:13},this)},A.id,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:424,columnNumber:11},this))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:422,columnNumber:7},this),a.length>0&&u.jsxDEV(Ic,{title:"Test Results",className:"mb-6",children:u.jsxDEV("div",{className:"space-y-4",children:a.map((A,U)=>{const P=Ru.find(T=>T.id===A.scenarioId);return u.jsxDEV("div",{className:`p-4 rounded-lg border-2 ${A.passed?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:[u.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[u.jsxDEV("h3",{className:"font-medium flex items-center",children:[A.passed?u.jsxDEV(il,{className:"w-5 h-5 text-green-600 mr-2"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:483,columnNumber:25},this):u.jsxDEV(zo,{className:"w-5 h-5 text-red-600 mr-2"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:485,columnNumber:25},this),P?.name||A.scenarioId]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:481,columnNumber:21},this),u.jsxDEV("span",{className:`text-sm font-medium ${A.passed?"text-green-600":"text-red-600"}`,children:A.passed?"PASSED":"FAILED"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:489,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:480,columnNumber:19},this),u.jsxDEV("div",{className:"grid md:grid-cols-3 gap-4 text-sm",children:[u.jsxDEV("div",{children:[u.jsxDEV("strong",{children:"Response Time:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:498,columnNumber:23},this)," ",Qi(A.metrics.responseTime,1),"s"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:497,columnNumber:21},this),u.jsxDEV("div",{children:[u.jsxDEV("strong",{children:"Adaptation Speed:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:501,columnNumber:23},this)," ",A.metrics.adaptationSpeed,"/5"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:500,columnNumber:21},this),u.jsxDEV("div",{children:[u.jsxDEV("strong",{children:"User Experience:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:504,columnNumber:23},this)," ",A.metrics.userExperience]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:503,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:496,columnNumber:19},this),A.issues.length>0&&u.jsxDEV("div",{className:"mt-3",children:[u.jsxDEV("strong",{className:"text-red-600",children:"Issues Found:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:510,columnNumber:23},this),u.jsxDEV("ul",{className:"mt-1 ml-4 list-disc text-red-600",children:A.issues.map((T,R)=>u.jsxDEV("li",{children:T},R,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:513,columnNumber:27},this))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:511,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:509,columnNumber:21},this)]},U,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:472,columnNumber:17},this)})},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:468,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:467,columnNumber:9},this),u.jsxDEV(Ic,{title:"Testing Guidelines",priority:"low",children:u.jsxDEV("div",{className:"space-y-3 text-sm",children:[u.jsxDEV("div",{className:"flex items-start",children:[u.jsxDEV(vi,{className:"w-4 h-4 mt-0.5 mr-2 text-blue-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:529,columnNumber:13},this),u.jsxDEV("div",{children:[u.jsxDEV("strong",{children:"Automated Testing:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:531,columnNumber:15},this)," Tests simulate user behaviors associated with stress and crisis states"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:530,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:528,columnNumber:11},this),u.jsxDEV("div",{className:"flex items-start",children:[u.jsxDEV(vi,{className:"w-4 h-4 mt-0.5 mr-2 text-blue-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:535,columnNumber:13},this),u.jsxDEV("div",{children:[u.jsxDEV("strong",{children:"Manual Validation:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:537,columnNumber:15},this)," Observe UI changes, feature activation, and overall responsiveness"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:536,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:534,columnNumber:11},this),u.jsxDEV("div",{className:"flex items-start",children:[u.jsxDEV(vi,{className:"w-4 h-4 mt-0.5 mr-2 text-blue-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:541,columnNumber:13},this),u.jsxDEV("div",{children:[u.jsxDEV("strong",{children:"Expected Behavior:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:543,columnNumber:15},this)," System should adapt progressively as stress levels increase"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:542,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:540,columnNumber:11},this),u.jsxDEV("div",{className:"flex items-start",children:[u.jsxDEV(vi,{className:"w-4 h-4 mt-0.5 mr-2 text-blue-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:547,columnNumber:13},this),u.jsxDEV("div",{children:[u.jsxDEV("strong",{children:"Performance:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:549,columnNumber:15},this)," Adaptations should occur within 2-3 seconds of stress detection"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:548,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:546,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:527,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:526,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/CrisisTestingDashboard.tsx",lineNumber:337,columnNumber:5},this)}const eN=[{id:"1",timestamp:new Date().toISOString(),baselineData:{pain:7,locations:["lower-back","right-knee"],symptoms:["sharp","throbbing"]},notes:"Demo pain entry for screenshot purposes"}];function C7(){return u.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center p-8",children:u.jsxDEV(Qv,{isOpen:!0,onClose:()=>{},entries:eN,title:"Export to WorkSafe BC Forms"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:34,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:33,columnNumber:5},this)}function j7(){return u.jsxDEV("div",{className:"min-h-screen bg-white flex items-center justify-center p-8",children:u.jsxDEV("div",{className:"max-w-4xl w-full",children:[u.jsxDEV("h1",{className:"text-3xl font-bold text-center mb-8 text-gray-900",children:"Pinpoint Your Pain Locations"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:51,columnNumber:9},this),u.jsxDEV(Ox,{entries:eN,selectedRegions:["lower-back","right-knee"],onRegionSelect:()=>{},mode:"selection"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:54,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:50,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:49,columnNumber:5},this)}function E7(){return u.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center p-8",children:u.jsxDEV(un,{className:"max-w-2xl w-full shadow-2xl",children:[u.jsxDEV(to,{className:"bg-gradient-to-r from-green-600 to-blue-600 text-white",children:u.jsxDEV(so,{className:"text-2xl",children:"Privacy & Security"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:73,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:72,columnNumber:9},this),u.jsxDEV(Kn,{className:"p-8 space-y-6",children:[u.jsxDEV("div",{className:"flex items-start space-x-4 p-4 bg-green-50 rounded-lg border-2 border-green-200",children:[u.jsxDEV($a,{className:"w-8 h-8 text-green-600 mt-1"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:77,columnNumber:13},this),u.jsxDEV("div",{children:[u.jsxDEV("h3",{className:"font-semibold text-lg text-gray-900",children:"Local Storage Only"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:79,columnNumber:15},this),u.jsxDEV("p",{className:"text-gray-700 mt-2",children:"Your data is stored locally on your device using encrypted IndexedDB. We cannot access your information even if we wanted to."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:80,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:78,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:76,columnNumber:11},this),u.jsxDEV("div",{className:"flex items-start space-x-4 p-4 bg-blue-50 rounded-lg border-2 border-blue-200",children:[u.jsxDEV($a,{className:"w-8 h-8 text-blue-600 mt-1"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:88,columnNumber:13},this),u.jsxDEV("div",{children:[u.jsxDEV("h3",{className:"font-semibold text-lg text-gray-900",children:"AES-256 Encryption"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:90,columnNumber:15},this),u.jsxDEV("p",{className:"text-gray-700 mt-2",children:"All sensitive pain data is encrypted using military-grade AES-256 encryption before storage."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:91,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:89,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:87,columnNumber:11},this),u.jsxDEV("div",{className:"flex items-start space-x-4 p-4 bg-purple-50 rounded-lg border-2 border-purple-200",children:[u.jsxDEV($a,{className:"w-8 h-8 text-purple-600 mt-1"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:99,columnNumber:13},this),u.jsxDEV("div",{children:[u.jsxDEV("h3",{className:"font-semibold text-lg text-gray-900",children:"HIPAA Aligned"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:101,columnNumber:15},this),u.jsxDEV("p",{className:"text-gray-700 mt-2",children:"Built with HIPAA compliance in mind, including audit trails and data protection measures."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:102,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:100,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:98,columnNumber:11},this),u.jsxDEV("div",{className:"text-center pt-4 border-t",children:u.jsxDEV("p",{className:"text-sm text-gray-600",children:[u.jsxDEV("strong",{children:"Unlike cloud-based competitors,"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:111,columnNumber:15},this)," your medical data never leaves your device."]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:110,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:109,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:75,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:71,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:70,columnNumber:5},this)}function S7(){const s=[{icon:$a,title:"Privacy First",description:"Local-only storage",color:"green"},{icon:Jo,title:"One-Click Forms",description:"WorkSafe BC ready",color:"blue"},{icon:w5,title:"Free Forever",description:"No subscriptions",color:"purple"},{icon:Gr,title:"Clinical Grade",description:"Evidence-based",color:"red"}];return u.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-blue-600 to-purple-600 flex items-center justify-center p-8",children:u.jsxDEV("div",{className:"max-w-4xl w-full",children:[u.jsxDEV("h1",{className:"text-4xl font-bold text-center mb-12 text-white",children:"Why Pain Tracker?"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:155,columnNumber:9},this),u.jsxDEV("div",{className:"grid grid-cols-2 gap-6",children:s.map((e,t)=>{const r=e.icon;return u.jsxDEV(un,{className:"bg-white shadow-xl",children:u.jsxDEV(Kn,{className:"p-8 text-center",children:[u.jsxDEV("div",{className:`inline-flex items-center justify-center w-16 h-16 rounded-full bg-${e.color}-100 mb-4`,children:u.jsxDEV(r,{className:`w-8 h-8 text-${e.color}-600`},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:165,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:164,columnNumber:19},this),u.jsxDEV("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:e.title},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:167,columnNumber:19},this),u.jsxDEV("p",{className:"text-gray-600",children:e.description},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:170,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:163,columnNumber:17},this)},t,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:162,columnNumber:15},this)})},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:158,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:154,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:153,columnNumber:5},this)}function A7(){const s=[{feature:"Local Storage",us:!0,competitor1:!1,competitor2:!1},{feature:"WorkSafe BC Forms",us:!0,competitor1:!1,competitor2:!0},{feature:"Free Forever",us:!0,competitor1:!1,competitor2:!1},{feature:"Offline Mode",us:!0,competitor1:!0,competitor2:!1},{feature:"Trauma-Informed UI",us:!0,competitor1:!1,competitor2:!1},{feature:"No Subscription",us:!0,competitor1:!1,competitor2:!1}];return u.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-blue-900 flex items-center justify-center p-8",children:u.jsxDEV(un,{className:"max-w-4xl w-full shadow-2xl",children:[u.jsxDEV(to,{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:u.jsxDEV(so,{className:"text-3xl text-center",children:"Why Pay for Less?"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:198,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:197,columnNumber:9},this),u.jsxDEV(Kn,{className:"p-8",children:[u.jsxDEV("table",{className:"w-full",children:[u.jsxDEV("thead",{children:u.jsxDEV("tr",{className:"border-b-2 border-gray-300",children:[u.jsxDEV("th",{className:"text-left py-4 px-4 text-gray-900",children:"Feature"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:204,columnNumber:17},this),u.jsxDEV("th",{className:"text-center py-4 px-4 text-blue-600 font-bold",children:"Pain Tracker"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:205,columnNumber:17},this),u.jsxDEV("th",{className:"text-center py-4 px-4 text-gray-600",children:"Competitor A"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:206,columnNumber:17},this),u.jsxDEV("th",{className:"text-center py-4 px-4 text-gray-600",children:"Competitor B"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:207,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:203,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:202,columnNumber:13},this),u.jsxDEV("tbody",{children:s.map((e,t)=>u.jsxDEV("tr",{className:"border-b border-gray-200",children:[u.jsxDEV("td",{className:"py-4 px-4 text-gray-900",children:e.feature},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:213,columnNumber:19},this),u.jsxDEV("td",{className:"text-center py-4 px-4",children:e.us?u.jsxDEV("span",{className:"text-green-600 text-2xl",children:"âœ“"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:216,columnNumber:23},this):u.jsxDEV("span",{className:"text-red-400 text-2xl",children:"âœ—"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:218,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:214,columnNumber:19},this),u.jsxDEV("td",{className:"text-center py-4 px-4",children:e.competitor1?u.jsxDEV("span",{className:"text-green-600 text-2xl",children:"âœ“"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:223,columnNumber:23},this):u.jsxDEV("span",{className:"text-red-400 text-2xl",children:"âœ—"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:225,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:221,columnNumber:19},this),u.jsxDEV("td",{className:"text-center py-4 px-4",children:e.competitor2?u.jsxDEV("span",{className:"text-green-600 text-2xl",children:"âœ“"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:230,columnNumber:23},this):u.jsxDEV("span",{className:"text-red-400 text-2xl",children:"âœ—"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:232,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:228,columnNumber:19},this)]},t,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:212,columnNumber:17},this))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:210,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:201,columnNumber:11},this),u.jsxDEV("div",{className:"text-center mt-8",children:u.jsxDEV("p",{className:"text-2xl font-bold text-blue-600",children:"Get More for Free"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:240,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:239,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:200,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:196,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:195,columnNumber:5},this)}function _7(){return u.jsxDEV("div",{className:"min-h-screen bg-white",children:u.jsxDEV(P7,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:256,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:255,columnNumber:5},this)}function L7(){switch(window.location.hash){case"#demo-export":case"#demo-export-modal":return u.jsxDEV(C7,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:271,columnNumber:14},this);case"#demo-body-map":return u.jsxDEV(j7,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:273,columnNumber:14},this);case"#demo-settings":return u.jsxDEV(E7,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:275,columnNumber:14},this);case"#demo-comparison":return u.jsxDEV(A7,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:277,columnNumber:14},this);case"#demo-crisis":return u.jsxDEV(_7,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:279,columnNumber:14},this);case"#demo-benefits":return u.jsxDEV(S7,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/ScreenshotShowcase.tsx",lineNumber:281,columnNumber:14},this);default:return null}}const T7=()=>{const s=Zf();return u.jsxDEV("section",{className:"relative overflow-hidden bg-gradient-to-b from-primary/5 via-background to-background",children:[u.jsxDEV("div",{className:"container mx-auto px-4 py-16 md:py-24",children:u.jsxDEV("div",{className:"grid gap-12 lg:grid-cols-2 lg:gap-16 items-center",children:[u.jsxDEV("div",{className:"space-y-6 text-center lg:text-left",children:[u.jsxDEV("div",{className:"inline-flex items-center gap-2 rounded-full border border-primary/20 bg-primary/10 px-4 py-2 text-sm font-medium text-primary",children:[u.jsxDEV(Za,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:17,columnNumber:15},void 0),u.jsxDEV("span",{children:"100% Local & Private"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:18,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:16,columnNumber:13},void 0),u.jsxDEV("h1",{className:"text-4xl font-bold tracking-tight sm:text-5xl md:text-6xl",children:["Transform Chronic Pain"," ",u.jsxDEV("span",{className:"bg-gradient-to-r from-primary to-primary/60 bg-clip-text text-transparent",children:"Management"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:24,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:22,columnNumber:13},void 0),u.jsxDEV("p",{className:"text-lg text-muted-foreground md:text-xl max-w-2xl mx-auto lg:mx-0",children:"Clinical-grade pain tracking with empathy-driven design. Your data stays on your deviceâ€”secure, private, and always accessible."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:30,columnNumber:13},void 0),u.jsxDEV("div",{className:"flex flex-wrap gap-4 justify-center lg:justify-start text-sm text-muted-foreground",children:[u.jsxDEV("div",{className:"flex items-center gap-2",children:[u.jsxDEV(Xn,{className:"h-4 w-4 text-primary"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:37,columnNumber:17},void 0),u.jsxDEV("span",{children:"Advanced Analytics"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:38,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:36,columnNumber:15},void 0),u.jsxDEV("div",{className:"flex items-center gap-2",children:[u.jsxDEV(Za,{className:"h-4 w-4 text-primary"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:41,columnNumber:17},void 0),u.jsxDEV("span",{children:"Military-Grade Security"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:42,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:40,columnNumber:15},void 0),u.jsxDEV("div",{className:"flex items-center gap-2",children:[u.jsxDEV(Gr,{className:"h-4 w-4 text-primary"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:45,columnNumber:17},void 0),u.jsxDEV("span",{children:"Trauma-Informed"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:46,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:44,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:35,columnNumber:13},void 0),u.jsxDEV("div",{className:"flex flex-col sm:flex-row gap-4 justify-center lg:justify-start pt-4",children:[u.jsxDEV(pr,{size:"lg",onClick:()=>s("/start"),className:"text-lg px-8","aria-label":"Start tracking your pain for free",children:["Start Free",u.jsxDEV("span",{className:"ml-2",children:"â†’"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:59,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:52,columnNumber:15},void 0),u.jsxDEV(pr,{size:"lg",variant:"outline",onClick:()=>{document.getElementById("features")?.scrollIntoView({behavior:"smooth"})},className:"text-lg px-8",children:"See Features"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:61,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:51,columnNumber:13},void 0),u.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"No account required â€¢ No data collection â€¢ Works offline"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:74,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:14,columnNumber:11},void 0),u.jsxDEV("div",{className:"relative",children:u.jsxDEV("div",{className:"relative rounded-lg border-2 border-primary/20 bg-gradient-to-br from-primary/5 to-accent/5 p-8 shadow-2xl",children:[u.jsxDEV("div",{className:"aspect-video rounded-md bg-muted/50 flex items-center justify-center border border-border",children:u.jsxDEV("div",{className:"text-center space-y-2 p-4",children:[u.jsxDEV(Xn,{className:"h-12 w-12 mx-auto text-primary/50"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:85,columnNumber:19},void 0),u.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Dashboard Preview"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:86,columnNumber:19},void 0),u.jsxDEV("p",{className:"text-xs text-muted-foreground/70",children:"Screenshot coming soon"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:89,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:84,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:83,columnNumber:15},void 0),u.jsxDEV("div",{className:"absolute -top-4 -right-4 bg-primary text-primary-foreground rounded-full px-4 py-2 text-sm font-medium shadow-lg",children:"Open Source"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:96,columnNumber:15},void 0),u.jsxDEV("div",{className:"absolute -bottom-4 -left-4 bg-accent text-accent-foreground rounded-full px-4 py-2 text-sm font-medium shadow-lg",children:"WCAG 2.1 AA"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:99,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:82,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:80,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:12,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:11,columnNumber:7},void 0),u.jsxDEV("div",{className:"absolute top-0 right-0 w-96 h-96 bg-primary/10 rounded-full blur-3xl -z-10"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:108,columnNumber:7},void 0),u.jsxDEV("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-accent/10 rounded-full blur-3xl -z-10"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:109,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/Hero.tsx",lineNumber:10,columnNumber:5},void 0)},U7=[{icon:$a,title:"100% Local & Private",description:"Your pain data never leaves your device. No cloud uploads, no tracking, no data collection. Complete privacy guaranteed.",color:"text-green-600 dark:text-green-400",bgColor:"bg-green-100 dark:bg-green-900/20"},{icon:rh,title:"Clinical-Grade Analytics",description:"Advanced pattern recognition, trigger correlations, and WorkSafe BC reporting. Tools designed for patients and healthcare providers.",color:"text-blue-600 dark:text-blue-400",bgColor:"bg-blue-100 dark:bg-blue-900/20"},{icon:Gr,title:"Trauma-Informed Design",description:"Built with empathy for chronic pain sufferers. Gentle language, accessible interface, crisis support, and customizable sensitivity.",color:"text-rose-600 dark:text-rose-400",bgColor:"bg-rose-100 dark:bg-rose-900/20"},{icon:Pw,title:"Works Completely Offline",description:"Full functionality without internet. Progressive Web App technology ensures you can track pain anytime, anywhere.",color:"text-purple-600 dark:text-purple-400",bgColor:"bg-purple-100 dark:bg-purple-900/20"}],M7=()=>u.jsxDEV("section",{id:"features",className:"py-16 md:py-24 bg-muted/30",children:u.jsxDEV("div",{className:"container mx-auto px-4",children:[u.jsxDEV("div",{className:"text-center mb-12 max-w-3xl mx-auto",children:[u.jsxDEV("h2",{className:"text-3xl font-bold tracking-tight sm:text-4xl mb-4",children:"Why Choose Pain Tracker Pro?"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/BenefitsGrid.tsx",lineNumber:42,columnNumber:11},void 0),u.jsxDEV("p",{className:"text-lg text-muted-foreground",children:"Powerful features designed with your privacy, security, and well-being in mind."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/BenefitsGrid.tsx",lineNumber:45,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/BenefitsGrid.tsx",lineNumber:41,columnNumber:9},void 0),u.jsxDEV("div",{className:"grid gap-6 md:grid-cols-2 lg:gap-8 max-w-6xl mx-auto",children:U7.map(s=>{const e=s.icon;return u.jsxDEV(un,{className:"relative overflow-hidden border-2 hover:border-primary/50 transition-all duration-300 hover:shadow-lg",children:[u.jsxDEV(to,{className:"space-y-4",children:[u.jsxDEV("div",{className:`w-12 h-12 rounded-lg ${s.bgColor} flex items-center justify-center`,children:u.jsxDEV(e,{className:`h-6 w-6 ${s.color}`},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/BenefitsGrid.tsx",lineNumber:62,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/BenefitsGrid.tsx",lineNumber:61,columnNumber:19},void 0),u.jsxDEV(so,{className:"text-xl",children:s.title},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/BenefitsGrid.tsx",lineNumber:66,columnNumber:19},void 0),u.jsxDEV(k1,{className:"text-base leading-relaxed",children:s.description},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/BenefitsGrid.tsx",lineNumber:71,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/BenefitsGrid.tsx",lineNumber:59,columnNumber:17},void 0),u.jsxDEV("div",{className:`absolute top-0 right-0 w-32 h-32 ${s.bgColor} rounded-full blur-3xl opacity-20 -z-10`},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/BenefitsGrid.tsx",lineNumber:77,columnNumber:17},void 0)]},s.title,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/BenefitsGrid.tsx",lineNumber:55,columnNumber:15},void 0)})},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/BenefitsGrid.tsx",lineNumber:51,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/BenefitsGrid.tsx",lineNumber:39,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/BenefitsGrid.tsx",lineNumber:38,columnNumber:5},void 0),V7=[{icon:Za,title:"AES-256 Encryption",description:"Military-grade encryption"},{icon:$a,title:"HIPAA-Aligned",description:"Healthcare data standards"},{icon:s1,title:"Zero Tracking",description:"No analytics or cookies"},{icon:N5,title:"Open Source",description:"Auditable & transparent"},{icon:_5,title:"WCAG 2.1 AA",description:"Accessibility certified"},{icon:oh,title:"Community-Driven",description:"Built with patients"}],I7=()=>u.jsxDEV("section",{className:"py-12 md:py-16 border-y bg-card",children:u.jsxDEV("div",{className:"container mx-auto px-4",children:[u.jsxDEV("div",{className:"text-center mb-10",children:[u.jsxDEV("h2",{className:"text-2xl font-bold tracking-tight sm:text-3xl mb-2",children:"Security & Trust You Can Verify"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/TrustIndicators.tsx",lineNumber:43,columnNumber:11},void 0),u.jsxDEV("p",{className:"text-muted-foreground",children:"Your health data deserves the highest level of protection"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/TrustIndicators.tsx",lineNumber:46,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/TrustIndicators.tsx",lineNumber:42,columnNumber:9},void 0),u.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-6 max-w-6xl mx-auto",children:V7.map(s=>{const e=s.icon;return u.jsxDEV("div",{className:"flex flex-col items-center text-center space-y-2 p-4 rounded-lg hover:bg-accent/50 transition-colors",children:[u.jsxDEV("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:u.jsxDEV(e,{className:"h-6 w-6 text-primary"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/TrustIndicators.tsx",lineNumber:61,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/TrustIndicators.tsx",lineNumber:60,columnNumber:17},void 0),u.jsxDEV("h3",{className:"font-semibold text-sm",children:s.title},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/TrustIndicators.tsx",lineNumber:63,columnNumber:17},void 0),u.jsxDEV("p",{className:"text-xs text-muted-foreground",children:s.description},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/TrustIndicators.tsx",lineNumber:66,columnNumber:17},void 0)]},s.title,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/TrustIndicators.tsx",lineNumber:56,columnNumber:15},void 0)})},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/TrustIndicators.tsx",lineNumber:52,columnNumber:9},void 0),u.jsxDEV("div",{className:"mt-8 text-center",children:u.jsxDEV("p",{className:"text-sm text-muted-foreground max-w-2xl mx-auto",children:[u.jsxDEV("strong",{children:"Your data, your device."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/TrustIndicators.tsx",lineNumber:77,columnNumber:13},void 0)," We use local-first architecture with IndexedDB storage. No servers, no cloud, no third parties. ",u.jsxDEV("a",{href:"https://github.com/CrisisCore-Systems/pain-tracker",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"View source code â†’"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/TrustIndicators.tsx",lineNumber:78,columnNumber:53},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/TrustIndicators.tsx",lineNumber:76,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/TrustIndicators.tsx",lineNumber:75,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/TrustIndicators.tsx",lineNumber:40,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/TrustIndicators.tsx",lineNumber:39,columnNumber:5},void 0),R7=[{icon:Xn,title:"7-Step Pain Assessment",description:"Comprehensive tracking across 25+ anatomical locations with severity gradients."},{icon:Xo,title:"Pattern Recognition",description:"Advanced heuristic analysis detects pain trends, flares, and correlations."},{icon:S5,title:"WorkSafe BC Export",description:"Generate clinical reports for claims, healthcare providers, and legal documentation."},{icon:ah,title:"Medication Tracking",description:"Monitor dosages, side effects, and treatment effectiveness over time."},{icon:wl,title:"Quality of Life Metrics",description:"Track mood, sleep, and activity impact with correlation analysis."},{icon:ih,title:"Body Mapping",description:"Visual anatomical heatmaps show pain distribution and progression."}],O7=()=>u.jsxDEV("section",{className:"py-16 md:py-24 bg-background",children:u.jsxDEV("div",{className:"container mx-auto px-4",children:[u.jsxDEV("div",{className:"text-center mb-12 max-w-3xl mx-auto",children:[u.jsxDEV("h2",{className:"text-3xl font-bold tracking-tight sm:text-4xl mb-4",children:"Comprehensive Pain Management Tools"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/FeatureShowcase.tsx",lineNumber:43,columnNumber:11},void 0),u.jsxDEV("p",{className:"text-lg text-muted-foreground",children:"Everything you need to understand, track, and communicate your pain effectively."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/FeatureShowcase.tsx",lineNumber:46,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/FeatureShowcase.tsx",lineNumber:42,columnNumber:9},void 0),u.jsxDEV("div",{className:"grid gap-8 md:grid-cols-2 lg:grid-cols-3 max-w-6xl mx-auto",children:R7.map(s=>{const e=s.icon;return u.jsxDEV("div",{className:"flex gap-4 p-6 rounded-lg border bg-card hover:shadow-md transition-all duration-300",children:[u.jsxDEV("div",{className:"flex-shrink-0",children:u.jsxDEV("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:u.jsxDEV(e,{className:"h-5 w-5 text-primary"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/FeatureShowcase.tsx",lineNumber:63,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/FeatureShowcase.tsx",lineNumber:62,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/FeatureShowcase.tsx",lineNumber:61,columnNumber:17},void 0),u.jsxDEV("div",{className:"space-y-2",children:[u.jsxDEV("h3",{className:"font-semibold text-base",children:s.title},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/FeatureShowcase.tsx",lineNumber:69,columnNumber:19},void 0),u.jsxDEV("p",{className:"text-sm text-muted-foreground leading-relaxed",children:s.description},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/FeatureShowcase.tsx",lineNumber:72,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/FeatureShowcase.tsx",lineNumber:68,columnNumber:17},void 0)]},s.title,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/FeatureShowcase.tsx",lineNumber:56,columnNumber:15},void 0)})},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/FeatureShowcase.tsx",lineNumber:52,columnNumber:9},void 0),u.jsxDEV("div",{className:"mt-12 text-center",children:[u.jsxDEV("p",{className:"text-muted-foreground mb-4",children:"Ready to take control of your pain management?"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/FeatureShowcase.tsx",lineNumber:83,columnNumber:11},void 0),u.jsxDEV("a",{href:"/start",className:"inline-flex items-center gap-2 text-primary font-semibold hover:underline text-lg",children:["Get Started Now",u.jsxDEV("span",{children:"â†’"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/FeatureShowcase.tsx",lineNumber:91,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/FeatureShowcase.tsx",lineNumber:86,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/FeatureShowcase.tsx",lineNumber:82,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/FeatureShowcase.tsx",lineNumber:40,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/FeatureShowcase.tsx",lineNumber:39,columnNumber:5},void 0),F7=()=>{const s=new Date().getFullYear();return u.jsxDEV("footer",{className:"border-t bg-muted/30",children:u.jsxDEV("div",{className:"container mx-auto px-4 py-12",children:[u.jsxDEV("div",{className:"grid gap-8 md:grid-cols-3",children:[u.jsxDEV("div",{className:"space-y-4",children:[u.jsxDEV("div",{className:"flex items-center gap-2",children:[u.jsxDEV(Gr,{className:"h-6 w-6 text-primary"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:14,columnNumber:15},void 0),u.jsxDEV("span",{className:"font-bold text-lg",children:"Pain Tracker Pro"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:15,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:13,columnNumber:13},void 0),u.jsxDEV("p",{className:"text-sm text-muted-foreground max-w-xs",children:"Empowering chronic pain management through privacy-first technology and trauma-informed design."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:17,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:12,columnNumber:11},void 0),u.jsxDEV("div",{className:"space-y-4",children:[u.jsxDEV("h3",{className:"font-semibold text-sm",children:"Resources"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:24,columnNumber:13},void 0),u.jsxDEV("ul",{className:"space-y-2 text-sm",children:[u.jsxDEV("li",{children:u.jsxDEV("a",{href:"https://github.com/CrisisCore-Systems/pain-tracker",target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-primary transition-colors flex items-center gap-2",children:[u.jsxDEV(I5,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:33,columnNumber:19},void 0),"Source Code"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:27,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:26,columnNumber:15},void 0),u.jsxDEV("li",{children:u.jsxDEV("a",{href:"https://github.com/CrisisCore-Systems/pain-tracker/blob/main/README.md",target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-primary transition-colors",children:"Documentation"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:38,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:37,columnNumber:15},void 0),u.jsxDEV("li",{children:u.jsxDEV("a",{href:"https://github.com/CrisisCore-Systems/pain-tracker/blob/main/SECURITY.md",target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-primary transition-colors flex items-center gap-2",children:[u.jsxDEV(Za,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:54,columnNumber:19},void 0),"Security Policy"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:48,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:47,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:25,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:23,columnNumber:11},void 0),u.jsxDEV("div",{className:"space-y-4",children:[u.jsxDEV("h3",{className:"font-semibold text-sm",children:"Legal"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:63,columnNumber:13},void 0),u.jsxDEV("ul",{className:"space-y-2 text-sm",children:[u.jsxDEV("li",{children:u.jsxDEV("a",{href:"https://github.com/CrisisCore-Systems/pain-tracker/blob/main/LICENSE",target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-primary transition-colors",children:"MIT License"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:66,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:65,columnNumber:15},void 0),u.jsxDEV("li",{className:"text-muted-foreground",children:"No Privacy Policy neededâ€”we don't collect data"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:75,columnNumber:15},void 0),u.jsxDEV("li",{className:"text-muted-foreground",children:"No Terms of Serviceâ€”it's open source software"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:78,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:64,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:62,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:10,columnNumber:9},void 0),u.jsxDEV("div",{className:"mt-12 pt-8 border-t flex flex-col md:flex-row justify-between items-center gap-4 text-sm text-muted-foreground",children:[u.jsxDEV("p",{children:["Â© ",s," CrisisCore Systems. Released under MIT License."]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:87,columnNumber:11},void 0),u.jsxDEV("p",{className:"flex items-center gap-2",children:["Made with ",u.jsxDEV(Gr,{className:"h-4 w-4 text-red-500 fill-red-500"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:91,columnNumber:23},void 0)," for chronic pain survivors"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:90,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:86,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:9,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/landing/LandingFooter.tsx",lineNumber:8,columnNumber:5},void 0)},B7=()=>($.useEffect(()=>{document.title="Pain Tracker Pro - Clinical-Grade Pain Management";const s="Welcome to Pain Tracker Pro. A privacy-first chronic pain tracking application.",e=document.createElement("div");return e.setAttribute("role","status"),e.setAttribute("aria-live","polite"),e.className="sr-only",e.textContent=s,document.body.appendChild(e),()=>{document.body.removeChild(e),document.title="Pain Tracker Pro"}},[]),u.jsxDEV("div",{className:"min-h-screen bg-background",children:[u.jsxDEV("a",{href:"#main-content",className:"sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-50 focus:px-4 focus:py-2 focus:bg-primary focus:text-primary-foreground focus:rounded-md",children:"Skip to main content"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/LandingPage.tsx",lineNumber:27,columnNumber:7},void 0),u.jsxDEV("main",{id:"main-content",role:"main",children:[u.jsxDEV(T7,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/LandingPage.tsx",lineNumber:36,columnNumber:9},void 0),u.jsxDEV(M7,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/LandingPage.tsx",lineNumber:37,columnNumber:9},void 0),u.jsxDEV(I7,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/LandingPage.tsx",lineNumber:38,columnNumber:9},void 0),u.jsxDEV(O7,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/LandingPage.tsx",lineNumber:39,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/LandingPage.tsx",lineNumber:35,columnNumber:7},void 0),u.jsxDEV(F7,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/LandingPage.tsx",lineNumber:43,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/pages/LandingPage.tsx",lineNumber:25,columnNumber:5},void 0)),z7=()=>u.jsxDEV("div",{className:"min-h-screen flex items-center justify-center bg-background",children:u.jsxDEV("div",{className:"text-center p-8 bg-card rounded-lg border shadow-lg max-w-md mx-4",children:[u.jsxDEV("h2",{className:"text-2xl font-semibold text-destructive mb-4",children:"Something went wrong"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:40,columnNumber:9},void 0),u.jsxDEV("p",{className:"text-muted-foreground mb-6",children:"We encountered an unexpected error. Please try refreshing the page."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:41,columnNumber:9},void 0),u.jsxDEV("button",{onClick:()=>window.location.reload(),className:"bg-primary text-primary-foreground px-6 py-2 rounded-md hover:bg-primary/90 transition-colors",children:"Refresh Page"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:42,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:39,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:38,columnNumber:5},void 0),$7=()=>u.jsxDEV(S_,{message:"Loading Pain Tracker Pro..."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:55,columnNumber:5},void 0);function W7(){_6({enableValidation:!0,enableAutoLabeling:!0,announceRouteChanges:!0}),$.useEffect(()=>{Y4().catch(t=>{console.error("Failed to initialize tone engine:",t)})},[]),$.useEffect(()=>{Fa.isAppInstalled(),(async()=>{try{const{offlineStorage:r}=await qs(async()=>{const{offlineStorage:n}=await import("./offline-storage-CQ7mII8k.js");return{offlineStorage:n}},[]);await r.init();try{await qs(()=>import("./background-sync-LM2uXb9P.js"),__vite__mapDeps([6,7,2,1,3]))}catch{}await Fa.enableHealthDataSync()}catch{}})(),window.resetPWA=async()=>{try{await Fa.resetServiceWorker()}catch(r){console.error("PWA Reset failed:",r)}}},[]);const e=Ko(Fk).map(t=>({time:t.timestamp,pain:t.baselineData?.pain??0}));return C_(e),u.jsxDEV(ok,{children:u.jsxDEV(pD,{children:u.jsxDEV(j6,{children:u.jsxDEV(G4,{children:u.jsxDEV(m6,{children:u.jsxDEV(nS,{children:u.jsxDEV(R2,{children:[u.jsxDEV(Mo,{path:"/",element:u.jsxDEV(B7,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:129,columnNumber:44},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:129,columnNumber:19},this),u.jsxDEV(Mo,{path:"/demo/*",element:u.jsxDEV(L7,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:132,columnNumber:50},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:132,columnNumber:19},this),u.jsxDEV(Mo,{path:"/start",element:u.jsxDEV(sb,{children:u.jsxDEV(Ap,{to:"/app",replace:!0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:137,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:136,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:135,columnNumber:19},this),u.jsxDEV(Mo,{path:"/app",element:u.jsxDEV(sb,{children:u.jsxDEV("div",{className:"min-h-screen bg-background transition-colors",role:"application","aria-label":"Pain Tracker Pro Application",children:[u.jsxDEV(j_,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:145,columnNumber:25},this),u.jsxDEV(MA,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:146,columnNumber:25},this),u.jsxDEV(VA,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:147,columnNumber:25},this),u.jsxDEV(IA,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:148,columnNumber:25},this),u.jsxDEV(bk,{fallback:u.jsxDEV(z7,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:149,columnNumber:50},this),children:u.jsxDEV($.Suspense,{fallback:u.jsxDEV($7,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:150,columnNumber:47},this),children:u.jsxDEV(i6,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:151,columnNumber:29},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:150,columnNumber:27},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:149,columnNumber:25},this),u.jsxDEV(TA,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:154,columnNumber:25},this),u.jsxDEV(UA,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:155,columnNumber:25},this),u.jsxDEV(__,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:156,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:144,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:143,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:142,columnNumber:19},this),u.jsxDEV(Mo,{path:"*",element:u.jsxDEV(Ap,{to:"/",replace:!0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:162,columnNumber:44},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:162,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:127,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:126,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:125,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:124,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:123,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:122,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:121,columnNumber:5},this)}qN.createRoot(document.getElementById("root")).render(u.jsxDEV(It.StrictMode,{children:u.jsxDEV(W7,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/main.tsx",lineNumber:9,columnNumber:5},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/main.tsx",lineNumber:8,columnNumber:3},void 0));export{Xn as A,pr as B,pd as C,Ja as D,al as F,Gr as H,vi as I,$5 as L,Za as S,Xo as T,u1 as U,Pi as X,qs as _,Qa as a,un as b,We as c,Kn as d,u5 as e,to as f,so as g,e1 as h,zo as i,u as j,gS as k,os as l,K7 as m,Ps as s};
//# sourceMappingURL=index-h2s7xxye.js.map
