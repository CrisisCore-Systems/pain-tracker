const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BytI_QpU.js","assets/chart-vendor-B7B0FrSV.js","assets/react-vendor-Bn1aEwkj.js","assets/date-vendor-VbNwGsdS.js","assets/index-B7FZOeX1.js","assets/background-sync-Db6JzLVQ.js","assets/offline-storage-CQ7mII8k.js","assets/libsodium-wrappers-DhqTdZPT.js"])))=>i.map(i=>d[i]);
import{r as tu,a as hm,g as su,b as nu}from"./react-vendor-Bn1aEwkj.js";import{r as V,R as ge,p as pm,c as iu}from"./chart-vendor-B7B0FrSV.js";import{p as gm}from"./date-vendor-VbNwGsdS.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(i){if(i.ep)return;i.ep=!0;const r=t(i);fetch(i.href,r)}})();var Cr={exports:{}},ti={},fo;function bm(){if(fo)return ti;fo=1;return(function(){var s=tu(),e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.for("react.offscreen"),p=Symbol.iterator,g="@@iterator";function y(P){if(P===null||typeof P!="object")return null;var F=p&&P[p]||P[g];return typeof F=="function"?F:null}var k=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function D(P){{for(var F=arguments.length,K=new Array(F>1?F-1:0),le=1;le<F;le++)K[le-1]=arguments[le];j("error",P,K)}}function j(P,F,K){{var le=k.ReactDebugCurrentFrame,we=le.getStackAddendum();we!==""&&(F+="%s",K=K.concat([we]));var Ce=K.map(function(be){return String(be)});Ce.unshift("Warning: "+F),Function.prototype.apply.call(console[P],console,Ce)}}var S=!1,v=!1,N=!1,C=!1,w=!1,T;T=Symbol.for("react.module.reference");function _(P){return!!(typeof P=="string"||typeof P=="function"||P===n||P===r||w||P===i||P===l||P===u||C||P===h||S||v||N||typeof P=="object"&&P!==null&&(P.$$typeof===f||P.$$typeof===m||P.$$typeof===a||P.$$typeof===o||P.$$typeof===c||P.$$typeof===T||P.getModuleId!==void 0))}function L(P,F,K){var le=P.displayName;if(le)return le;var we=F.displayName||F.name||"";return we!==""?K+"("+we+")":K}function O(P){return P.displayName||"Context"}function M(P){if(P==null)return null;if(typeof P.tag=="number"&&D("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof P=="function")return P.displayName||P.name||null;if(typeof P=="string")return P;switch(P){case n:return"Fragment";case t:return"Portal";case r:return"Profiler";case i:return"StrictMode";case l:return"Suspense";case u:return"SuspenseList"}if(typeof P=="object")switch(P.$$typeof){case o:var F=P;return O(F)+".Consumer";case a:var K=P;return O(K._context)+".Provider";case c:return L(P,P.render,"ForwardRef");case m:var le=P.displayName||null;return le!==null?le:M(P.type)||"Memo";case f:{var we=P,Ce=we._payload,be=we._init;try{return M(be(Ce))}catch{return null}}}return null}var H=Object.assign,ne=0,q,se,z,ke,I,R,X;function G(){}G.__reactDisabledLog=!0;function Y(){{if(ne===0){q=console.log,se=console.info,z=console.warn,ke=console.error,I=console.group,R=console.groupCollapsed,X=console.groupEnd;var P={configurable:!0,enumerable:!0,value:G,writable:!0};Object.defineProperties(console,{info:P,log:P,warn:P,error:P,group:P,groupCollapsed:P,groupEnd:P})}ne++}}function oe(){{if(ne--,ne===0){var P={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:H({},P,{value:q}),info:H({},P,{value:se}),warn:H({},P,{value:z}),error:H({},P,{value:ke}),group:H({},P,{value:I}),groupCollapsed:H({},P,{value:R}),groupEnd:H({},P,{value:X})})}ne<0&&D("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var re=k.ReactCurrentDispatcher,$;function ce(P,F,K){{if($===void 0)try{throw Error()}catch(we){var le=we.stack.trim().match(/\n( *(at )?)/);$=le&&le[1]||""}return`
`+$+P}}var ie=!1,ae;{var _e=typeof WeakMap=="function"?WeakMap:Map;ae=new _e}function B(P,F){if(!P||ie)return"";{var K=ae.get(P);if(K!==void 0)return K}var le;ie=!0;var we=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var Ce;Ce=re.current,re.current=null,Y();try{if(F){var be=function(){throw Error()};if(Object.defineProperty(be.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(be,[])}catch(Ke){le=Ke}Reflect.construct(P,[],be)}else{try{be.call()}catch(Ke){le=Ke}P.call(be.prototype)}}else{try{throw Error()}catch(Ke){le=Ke}P()}}catch(Ke){if(Ke&&le&&typeof Ke.stack=="string"){for(var he=Ke.stack.split(`
`),Ue=le.stack.split(`
`),Pe=he.length-1,je=Ue.length-1;Pe>=1&&je>=0&&he[Pe]!==Ue[je];)je--;for(;Pe>=1&&je>=0;Pe--,je--)if(he[Pe]!==Ue[je]){if(Pe!==1||je!==1)do if(Pe--,je--,je<0||he[Pe]!==Ue[je]){var We=`
`+he[Pe].replace(" at new "," at ");return P.displayName&&We.includes("<anonymous>")&&(We=We.replace("<anonymous>",P.displayName)),typeof P=="function"&&ae.set(P,We),We}while(Pe>=1&&je>=0);break}}}finally{ie=!1,re.current=Ce,oe(),Error.prepareStackTrace=we}var ht=P?P.displayName||P.name:"",pt=ht?ce(ht):"";return typeof P=="function"&&ae.set(P,pt),pt}function Be(P,F,K){return B(P,!1)}function dt(P){var F=P.prototype;return!!(F&&F.isReactComponent)}function ct(P,F,K){if(P==null)return"";if(typeof P=="function")return B(P,dt(P));if(typeof P=="string")return ce(P);switch(P){case l:return ce("Suspense");case u:return ce("SuspenseList")}if(typeof P=="object")switch(P.$$typeof){case c:return Be(P.render);case m:return ct(P.type,F,K);case f:{var le=P,we=le._payload,Ce=le._init;try{return ct(Ce(we),F,K)}catch{}}}return""}var qe=Object.prototype.hasOwnProperty,xt={},Js=k.ReactDebugCurrentFrame;function is(P){if(P){var F=P._owner,K=ct(P.type,P._source,F?F.type:null);Js.setExtraStackFrame(K)}else Js.setExtraStackFrame(null)}function Es(P,F,K,le,we){{var Ce=Function.call.bind(qe);for(var be in P)if(Ce(P,be)){var he=void 0;try{if(typeof P[be]!="function"){var Ue=Error((le||"React class")+": "+K+" type `"+be+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof P[be]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw Ue.name="Invariant Violation",Ue}he=P[be](F,be,le,K,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(Pe){he=Pe}he&&!(he instanceof Error)&&(is(we),D("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",le||"React class",K,be,typeof he),is(null)),he instanceof Error&&!(he.message in xt)&&(xt[he.message]=!0,is(we),D("Failed %s type: %s",K,he.message),is(null))}}}var nt=Array.isArray;function Zs(P){return nt(P)}function ur(P){{var F=typeof Symbol=="function"&&Symbol.toStringTag,K=F&&P[Symbol.toStringTag]||P.constructor.name||"Object";return K}}function dr(P){try{return zn(P),!1}catch{return!0}}function zn(P){return""+P}function Bn(P){if(dr(P))return D("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",ur(P)),zn(P)}var Wt=k.ReactCurrentOwner,Wn={key:!0,ref:!0,__self:!0,__source:!0},en,tn,$t;$t={};function sn(P){if(qe.call(P,"ref")){var F=Object.getOwnPropertyDescriptor(P,"ref").get;if(F&&F.isReactWarning)return!1}return P.ref!==void 0}function mr(P){if(qe.call(P,"key")){var F=Object.getOwnPropertyDescriptor(P,"key").get;if(F&&F.isReactWarning)return!1}return P.key!==void 0}function fr(P,F){if(typeof P.ref=="string"&&Wt.current&&F&&Wt.current.stateNode!==F){var K=M(Wt.current.type);$t[K]||(D('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',M(Wt.current.type),P.ref),$t[K]=!0)}}function hr(P,F){{var K=function(){en||(en=!0,D("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",F))};K.isReactWarning=!0,Object.defineProperty(P,"key",{get:K,configurable:!0})}}function pr(P,F){{var K=function(){tn||(tn=!0,D("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",F))};K.isReactWarning=!0,Object.defineProperty(P,"ref",{get:K,configurable:!0})}}var gr=function(P,F,K,le,we,Ce,be){var he={$$typeof:e,type:P,key:F,ref:K,props:be,_owner:Ce};return he._store={},Object.defineProperty(he._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(he,"_self",{configurable:!1,enumerable:!1,writable:!1,value:le}),Object.defineProperty(he,"_source",{configurable:!1,enumerable:!1,writable:!1,value:we}),Object.freeze&&(Object.freeze(he.props),Object.freeze(he)),he};function Ps(P,F,K,le,we){{var Ce,be={},he=null,Ue=null;K!==void 0&&(Bn(K),he=""+K),mr(F)&&(Bn(F.key),he=""+F.key),sn(F)&&(Ue=F.ref,fr(F,we));for(Ce in F)qe.call(F,Ce)&&!Wn.hasOwnProperty(Ce)&&(be[Ce]=F[Ce]);if(P&&P.defaultProps){var Pe=P.defaultProps;for(Ce in Pe)be[Ce]===void 0&&(be[Ce]=Pe[Ce])}if(he||Ue){var je=typeof P=="function"?P.displayName||P.name||"Unknown":P;he&&hr(be,je),Ue&&pr(be,je)}return gr(P,he,Ue,we,le,Wt.current,be)}}var nn=k.ReactCurrentOwner,$n=k.ReactDebugCurrentFrame;function _t(P){if(P){var F=P._owner,K=ct(P.type,P._source,F?F.type:null);$n.setExtraStackFrame(K)}else $n.setExtraStackFrame(null)}var Ss;Ss=!1;function rs(P){return typeof P=="object"&&P!==null&&P.$$typeof===e}function Hn(){{if(nn.current){var P=M(nn.current.type);if(P)return`

Check the render method of \``+P+"`."}return""}}function br(P){{if(P!==void 0){var F=P.fileName.replace(/^.*[\\\/]/,""),K=P.lineNumber;return`

Check your code at `+F+":"+K+"."}return""}}var Yn={};function qn(P){{var F=Hn();if(!F){var K=typeof P=="string"?P:P.displayName||P.name;K&&(F=`

Check the top-level render call using <`+K+">.")}return F}}function Kn(P,F){{if(!P._store||P._store.validated||P.key!=null)return;P._store.validated=!0;var K=qn(F);if(Yn[K])return;Yn[K]=!0;var le="";P&&P._owner&&P._owner!==nn.current&&(le=" It was passed a child from "+M(P._owner.type)+"."),_t(P),D('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',K,le),_t(null)}}function Gn(P,F){{if(typeof P!="object")return;if(Zs(P))for(var K=0;K<P.length;K++){var le=P[K];rs(le)&&Kn(le,F)}else if(rs(P))P._store&&(P._store.validated=!0);else if(P){var we=y(P);if(typeof we=="function"&&we!==P.entries)for(var Ce=we.call(P),be;!(be=Ce.next()).done;)rs(be.value)&&Kn(be.value,F)}}}function yr(P){{var F=P.type;if(F==null||typeof F=="string")return;var K;if(typeof F=="function")K=F.propTypes;else if(typeof F=="object"&&(F.$$typeof===c||F.$$typeof===m))K=F.propTypes;else return;if(K){var le=M(F);Es(K,P.props,"prop",le,P)}else if(F.PropTypes!==void 0&&!Ss){Ss=!0;var we=M(F);D("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",we||"Unknown")}typeof F.getDefaultProps=="function"&&!F.getDefaultProps.isReactClassApproved&&D("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function js(P){{for(var F=Object.keys(P.props),K=0;K<F.length;K++){var le=F[K];if(le!=="children"&&le!=="key"){_t(P),D("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",le),_t(null);break}}P.ref!==null&&(_t(P),D("Invalid attribute `ref` supplied to `React.Fragment`."),_t(null))}}var Qn={};function xr(P,F,K,le,we,Ce){{var be=_(P);if(!be){var he="";(P===void 0||typeof P=="object"&&P!==null&&Object.keys(P).length===0)&&(he+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var Ue=br(we);Ue?he+=Ue:he+=Hn();var Pe;P===null?Pe="null":Zs(P)?Pe="array":P!==void 0&&P.$$typeof===e?(Pe="<"+(M(P.type)||"Unknown")+" />",he=" Did you accidentally export a JSX literal instead of a component?"):Pe=typeof P,D("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",Pe,he)}var je=Ps(P,F,K,we,Ce);if(je==null)return je;if(be){var We=F.children;if(We!==void 0)if(le)if(Zs(We)){for(var ht=0;ht<We.length;ht++)Gn(We[ht],P);Object.freeze&&Object.freeze(We)}else D("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else Gn(We,P)}if(qe.call(F,"key")){var pt=M(P),Ke=Object.keys(F).filter(function(it){return it!=="key"}),rn=Ke.length>0?"{key: someKey, "+Ke.join(": ..., ")+": ...}":"{key: someKey}";if(!Qn[pt+rn]){var _s=Ke.length>0?"{"+Ke.join(": ..., ")+": ...}":"{}";D(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,rn,pt,_s,pt),Qn[pt+rn]=!0}}return P===n?js(je):yr(je),je}}var Xn=xr;ti.Fragment=n,ti.jsxDEV=Xn})(),ti}var ho;function ym(){return ho||(ho=1,Cr.exports=bm()),Cr.exports}var d=ym(),si={},po;function xm(){if(po)return si;po=1;var s=hm();{var e=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;si.createRoot=function(t,n){e.usingClientEntryPoint=!0;try{return s.createRoot(t,n)}finally{e.usingClientEntryPoint=!1}},si.hydrateRoot=function(t,n,i){e.usingClientEntryPoint=!0;try{return s.hydrateRoot(t,n,i)}finally{e.usingClientEntryPoint=!1}}}return si}var vm=xm();const km=su(vm),Nm="modulepreload",wm=function(s){return"/pain-tracker/"+s},go={},st=function(e,t,n){let i=Promise.resolve();if(t&&t.length>0){let c=function(l){return Promise.all(l.map(u=>Promise.resolve(u).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=a?.nonce||a?.getAttribute("nonce");i=c(t.map(l=>{if(l=wm(l),l in go)return;go[l]=!0;const u=l.endsWith(".css"),m=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${m}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":Nm,u||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function r(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&r(o.reason);return e().catch(r)})};class Dm extends V.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("ErrorBoundary:",e,t)}render(){return this.state.hasError?this.props.fallback||d.jsxDEV("div",{className:"error-boundary",children:[d.jsxDEV("h2",{children:"Something went wrong"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/ErrorBoundary.tsx",lineNumber:31,columnNumber:11},this),d.jsxDEV("p",{children:"Please try refreshing the page"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/ErrorBoundary.tsx",lineNumber:32,columnNumber:11},this),d.jsxDEV("button",{onClick:()=>window.location.reload(),children:"Refresh"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/ErrorBoundary.tsx",lineNumber:33,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/ErrorBoundary.tsx",lineNumber:30,columnNumber:9},this):this.props.children}}const ru="pt",Cm=50*1024,bo=/^[a-z0-9:_-]+$/i;function Er(s,e){return`${e||ru}:${s}`}function Em(s){try{const e=typeof s=="string"?s:JSON.stringify(s),t=new Blob([e]).size;return{data:e,truncated:!1,bytes:t}}catch{return{data:'"__SERIALIZATION_ERROR__"',truncated:!1,bytes:28}}}const Ve={get(s,e){try{if(!bo.test(s))return null;const t=Er(s,e?.namespace),n=localStorage.getItem(t);if(n==null||n==='"__SERIALIZATION_ERROR__"')return null;try{let i=n;if(e?.encrypt){const r=e.decryptFn||globalThis.__secureStorageDecrypt;if(!r)return null;try{i=r(n)}catch{return null}}return JSON.parse(i)}catch{return n}}catch{return null}},set(s,e,t){if(!bo.test(s))return{success:!1,error:"INVALID_KEY"};const n=Er(s,t?.namespace);try{const{data:i,bytes:r}=Em(e),a=t?.maxValueSizeBytes??Cm;if(r>a)return{success:!1,error:"VALUE_TOO_LARGE",bytes:r};let o=i;if(t?.encrypt){const c=t.encryptFn||globalThis.__secureStorageEncrypt;if(!c)return{success:!1,error:"ENCRYPTION_UNAVAILABLE"};try{o=c(i)}catch{return{success:!1,error:"ENCRYPT_FAILED"}}}return localStorage.setItem(n,o),{success:!0,bytes:r}}catch(i){return{success:!1,error:i.message}}},remove(s,e){try{const t=Er(s,e?.namespace);return localStorage.removeItem(t),!0}catch{return!1}},safeJSON(s,e,t){const n=this.get(s,t);return n??e},keys(s){const e=`${s||ru}:`,t=[];for(let n=0;n<localStorage.length;n++){const i=localStorage.key(n);i&&i.startsWith(e)&&t.push(i.slice(e.length))}return t}},yo=s=>{let e;const t=new Set,n=(l,u)=>{const m=typeof l=="function"?l(e):l;if(!Object.is(m,e)){const f=e;e=u??(typeof m!="object"||m===null)?m:Object.assign({},e,m),t.forEach(h=>h(e,f))}},i=()=>e,o={setState:n,getState:i,getInitialState:()=>c,subscribe:l=>(t.add(l),()=>t.delete(l))},c=e=s(n,i,o);return o},Pm=(s=>s?yo(s):yo),Sm=s=>s;function jm(s,e=Sm){const t=ge.useSyncExternalStore(s.subscribe,ge.useCallback(()=>e(s.getState()),[s,e]),ge.useCallback(()=>e(s.getInitialState()),[s,e]));return ge.useDebugValue(t),t}const _m=s=>{const e=Pm(s),t=n=>jm(e,n);return Object.assign(t,e),t},Tm=(s=>_m);function Ia(s,e=1){return Number.isNaN(s)||s===1/0||s===-1/0?0 .toFixed(e):s.toFixed(e)}const xo={BASE_URL:"/pain-tracker/",DEV:!0,MODE:"production",PROD:!1,SSR:!1,VITE_USER_NODE_ENV:"development"},Sn=new Map,ni=s=>{const e=Sn.get(s);return e?Object.fromEntries(Object.entries(e.stores).map(([t,n])=>[t,n.getState()])):{}},Am=(s,e,t)=>{if(s===void 0)return{type:"untracked",connection:e.connect(t)};const n=Sn.get(t.name);if(n)return{type:"tracked",store:s,...n};const i={connection:e.connect(t),stores:{}};return Sn.set(t.name,i),{type:"tracked",store:s,...i}},Vm=(s,e)=>{if(e===void 0)return;const t=Sn.get(s);t&&(delete t.stores[e],Object.keys(t.stores).length===0&&Sn.delete(s))},Mm=s=>{var e,t;if(!s)return;const n=s.split(`
`),i=n.findIndex(a=>a.includes("api.setState"));if(i<0)return;const r=((e=n[i+1])==null?void 0:e.trim())||"";return(t=/.+ (.+) .+/.exec(r))==null?void 0:t[1]},Lm=(s,e={})=>(t,n,i)=>{const{enabled:r,anonymousActionType:a,store:o,...c}=e;let l;try{l=(r??(xo?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!l)return s(t,n,i);const{connection:u,...m}=Am(o,l,c);let f=!0;i.setState=((g,y,k)=>{const D=t(g,y);if(!f)return D;const j=k===void 0?{type:a||Mm(new Error().stack)||"anonymous"}:typeof k=="string"?{type:k}:k;return o===void 0?(u?.send(j,n()),D):(u?.send({...j,type:`${o}/${j.type}`},{...ni(c.name),[o]:i.getState()}),D)}),i.devtools={cleanup:()=>{u&&typeof u.unsubscribe=="function"&&u.unsubscribe(),Vm(c.name,o)}};const h=(...g)=>{const y=f;f=!1,t(...g),f=y},p=s(i.setState,n,i);if(m.type==="untracked"?u?.init(p):(m.stores[m.store]=i,u?.init(Object.fromEntries(Object.entries(m.stores).map(([g,y])=>[g,g===m.store?p:y.getState()])))),i.dispatchFromDevtools&&typeof i.dispatch=="function"){let g=!1;const y=i.dispatch;i.dispatch=(...k)=>{(xo?"production":void 0)!=="production"&&k[0].type==="__setState"&&!g&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),g=!0),y(...k)}}return u.subscribe(g=>{var y;switch(g.type){case"ACTION":if(typeof g.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return Pr(g.payload,k=>{if(k.type==="__setState"){if(o===void 0){h(k.state);return}Object.keys(k.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const D=k.state[o];if(D==null)return;JSON.stringify(i.getState())!==JSON.stringify(D)&&h(D);return}i.dispatchFromDevtools&&typeof i.dispatch=="function"&&i.dispatch(k)});case"DISPATCH":switch(g.payload.type){case"RESET":return h(p),o===void 0?u?.init(i.getState()):u?.init(ni(c.name));case"COMMIT":if(o===void 0){u?.init(i.getState());return}return u?.init(ni(c.name));case"ROLLBACK":return Pr(g.state,k=>{if(o===void 0){h(k),u?.init(i.getState());return}h(k[o]),u?.init(ni(c.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return Pr(g.state,k=>{if(o===void 0){h(k);return}JSON.stringify(i.getState())!==JSON.stringify(k[o])&&h(k[o])});case"IMPORT_STATE":{const{nextLiftedState:k}=g.payload,D=(y=k.computedStates.slice(-1)[0])==null?void 0:y.state;if(!D)return;h(o===void 0?D:D[o]),u?.send(null,k);return}case"PAUSE_RECORDING":return f=!f}return}}),p},Om=Lm,Pr=(s,e)=>{let t;try{t=JSON.parse(s)}catch(n){console.error("[zustand devtools middleware] Could not parse the received json",n)}t!==void 0&&e(t)},Im=s=>(e,t,n)=>{const i=n.subscribe;return n.subscribe=((a,o,c)=>{let l=a;if(o){const u=c?.equalityFn||Object.is;let m=a(n.getState());l=f=>{const h=a(f);if(!u(m,h)){const p=m;o(m=h,p)}},c?.fireImmediately&&o(m,m)}return i(l)}),s(e,t,n)},Rm=Im;function Um(s,e){let t;try{t=s()}catch{return}return{getItem:i=>{var r;const a=c=>c===null?null:JSON.parse(c,void 0),o=(r=t.getItem(i))!=null?r:null;return o instanceof Promise?o.then(a):a(o)},setItem:(i,r)=>t.setItem(i,JSON.stringify(r,void 0)),removeItem:i=>t.removeItem(i)}}const la=s=>e=>{try{const t=s(e);return t instanceof Promise?t:{then(n){return la(n)(t)},catch(n){return this}}}catch(t){return{then(n){return this},catch(n){return la(n)(t)}}}},Fm=(s,e)=>(t,n,i)=>{let r={storage:Um(()=>localStorage),partialize:g=>g,version:0,merge:(g,y)=>({...y,...g}),...e},a=!1;const o=new Set,c=new Set;let l=r.storage;if(!l)return s((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${r.name}', the given storage is currently unavailable.`),t(...g)},n,i);const u=()=>{const g=r.partialize({...n()});return l.setItem(r.name,{state:g,version:r.version})},m=i.setState;i.setState=(g,y)=>(m(g,y),u());const f=s((...g)=>(t(...g),u()),n,i);i.getInitialState=()=>f;let h;const p=()=>{var g,y;if(!l)return;a=!1,o.forEach(D=>{var j;return D((j=n())!=null?j:f)});const k=((y=r.onRehydrateStorage)==null?void 0:y.call(r,(g=n())!=null?g:f))||void 0;return la(l.getItem.bind(l))(r.name).then(D=>{if(D)if(typeof D.version=="number"&&D.version!==r.version){if(r.migrate){const j=r.migrate(D.state,D.version);return j instanceof Promise?j.then(S=>[!0,S]):[!0,j]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,D.state];return[!1,void 0]}).then(D=>{var j;const[S,v]=D;if(h=r.merge(v,(j=n())!=null?j:f),t(h,!0),S)return u()}).then(()=>{k?.(h,void 0),h=n(),a=!0,c.forEach(D=>D(h))}).catch(D=>{k?.(void 0,D)})};return i.persist={setOptions:g=>{r={...r,...g},g.storage&&(l=g.storage)},clearStorage:()=>{l?.removeItem(r.name)},getOptions:()=>r,rehydrate:()=>p(),hasHydrated:()=>a,onHydrate:g=>(o.add(g),()=>{o.delete(g)}),onFinishHydration:g=>(c.add(g),()=>{c.delete(g)})},r.skipHydration||p(),h||f},zm=Fm,Bm=s=>(e,t,n)=>(n.setState=(i,r,...a)=>{const o=typeof i=="function"?pm(i):i;return e(o,r,...a)},s(n.setState,t,n)),Wm=Bm;var Sr={};function As(s){if(typeof Buffer<"u")return Buffer.from(s).toString("base64");let e="";const t=new Uint8Array(s);for(let n=0;n<t.byteLength;n++)e+=String.fromCharCode(t[n]);return btoa(e)}function qt(s){if(typeof Buffer<"u")return Uint8Array.from(Buffer.from(s,"base64")).buffer;const e=atob(s),t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t.buffer}class $m{events=[];encryptionConfig;privacyConfig;sessionId;masterCryptoKey=null;masterHmacKey=null;constructor(e,t){this.encryptionConfig={algorithm:"AES",keySize:256,mode:"CBC",padding:"PKCS7",...e},this.privacyConfig={enableAnalytics:!0,dataRetentionDays:90,anonymizationLevel:"advanced",consentRequired:!0,minimumNoiseLevel:.1,...t},this.sessionId=this.generateSessionId(),this.initializeSecurity()}isTestEnv(){try{const e=(typeof process<"u"?Sr:void 0)||{};return!!(e&&(e.VITEST||e.NODE_ENV==="test"))}catch{return!1}}generateSessionId(){const e=new Uint8Array(16);return crypto.getRandomValues(e),Array.from(e).map(t=>t.toString(16).padStart(2,"0")).join("")}initializeSecurity(){this.logSecurityEvent({type:"audit",level:"info",message:"Security service initialized",metadata:{encryptionAlgorithm:this.encryptionConfig.algorithm,keySize:this.encryptionConfig.keySize,privacyLevel:this.privacyConfig.anonymizationLevel},timestamp:new Date,sessionId:this.sessionId})}async initializeMasterKey(e){try{const t=crypto.subtle,n=typeof process<"u"&&Sr&&Sr.VITEST?500:15e4;if(e){const i=crypto.getRandomValues(new Uint8Array(16)),r=new TextEncoder().encode(e),a=await t.importKey("raw",r,"PBKDF2",!1,["deriveBits","deriveKey"]);this.masterCryptoKey=await t.deriveKey({name:"PBKDF2",salt:i.buffer,iterations:n,hash:"SHA-256"},a,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"]);const o=await t.deriveBits({name:"PBKDF2",salt:i.buffer,iterations:n,hash:"SHA-256"},a,256);this.masterHmacKey=await t.importKey("raw",o,{name:"HMAC",hash:"SHA-256"},!1,["sign","verify"])}else this.masterCryptoKey=await crypto.subtle.generateKey({name:"AES-GCM",length:256},!1,["encrypt","decrypt"]),this.masterHmacKey=await crypto.subtle.generateKey({name:"HMAC",hash:"SHA-256"},!1,["sign","verify"]);this.logSecurityEvent({type:"encryption",level:"info",message:"Master key initialized",timestamp:new Date,sessionId:this.sessionId})}catch(t){throw this.logSecurityEvent({type:"encryption",level:"error",message:"Failed to initialize master key",metadata:{error:t instanceof Error?t.message:"Unknown error"},timestamp:new Date,sessionId:this.sessionId}),new Error("Failed to initialize encryption key")}}async encryptData(e,t){try{if(!this.masterCryptoKey||!this.masterHmacKey){if(this.isTestEnv())return JSON.stringify({v:"clear",payload:e});throw new Error("Encryption key not available")}const n=crypto.getRandomValues(new Uint8Array(12)),i=new TextEncoder().encode(e),r=await crypto.subtle.encrypt({name:"AES-GCM",iv:n},this.masterCryptoKey,i),a=As(r),o=await crypto.subtle.sign("HMAC",this.masterHmacKey,qt(a)),c=As(o),l=JSON.stringify({v:"1",cipher:a,iv:As(n.buffer),hmac:c});return this.logSecurityEvent({type:"encryption",level:"info",message:"Data encrypted successfully",metadata:{dataLength:e.length},timestamp:new Date,sessionId:this.sessionId}),l}catch(n){throw this.logSecurityEvent({type:"encryption",level:"error",message:"Data encryption failed",metadata:{error:n instanceof Error?n.message:"Unknown error"},timestamp:new Date,sessionId:this.sessionId}),n}}async decryptData(e,t){try{if(!this.masterCryptoKey||!this.masterHmacKey){if(this.isTestEnv())try{const l=JSON.parse(e);if(l&&l.v==="clear"&&typeof l.payload=="string")return l.payload}catch{}throw new Error("Decryption key not available")}let n;try{n=JSON.parse(e)}catch{throw new Error("Malformed encrypted payload")}if(n.v==="clear"&&typeof n.payload=="string")return n.payload;if(!n.cipher||!n.iv||!n.hmac)throw new Error("Encrypted payload missing fields");if(!await crypto.subtle.verify("HMAC",this.masterHmacKey,qt(n.hmac),qt(n.cipher)))throw new Error("Integrity check failed - HMAC mismatch");const r=new Uint8Array(qt(n.iv)),a=qt(n.cipher);let o;try{o=await crypto.subtle.decrypt({name:"AES-GCM",iv:r},this.masterCryptoKey,a)}catch{throw new Error("Decryption failed - invalid key or corrupted data")}const c=new TextDecoder().decode(new Uint8Array(o));return this.logSecurityEvent({type:"encryption",level:"info",message:"Data decrypted successfully",timestamp:new Date,sessionId:this.sessionId}),c}catch(n){throw this.logSecurityEvent({type:"encryption",level:"error",message:"Data decryption failed",metadata:{error:n instanceof Error?n.message:"Unknown error"},timestamp:new Date,sessionId:this.sessionId}),n}}createSecureStorage(){return{encrypt:async(e,t)=>this.encryptData(e,t),decrypt:async(e,t)=>this.decryptData(e,t),store:async(e,t,n=!0)=>{const i=JSON.stringify(t);if(n)if(this.masterCryptoKey){const r=await this.encryptData(i);localStorage.setItem(e,r)}else{if(!this.isTestEnv())throw new Error("Secure storage requires initialized master key");localStorage.setItem(e,i)}else{if(!this.isTestEnv())throw new Error("Storing plaintext sensitive data in localStorage is forbidden");localStorage.setItem(e,i)}this.logSecurityEvent({type:"data_access",level:"info",message:`Data stored: ${e}`,metadata:{encrypted:n,dataSize:i.length},timestamp:new Date,sessionId:this.sessionId})},retrieve:async(e,t=!0)=>{const n=localStorage.getItem(e);if(!n)return null;try{const i=t?await this.decryptData(n):n;return JSON.parse(i)}catch(i){return this.logSecurityEvent({type:"data_access",level:"error",message:`Failed to retrieve data: ${e}`,metadata:{error:i instanceof Error?i.message:"Unknown error"},timestamp:new Date,sessionId:this.sessionId}),null}},delete:async e=>{localStorage.removeItem(e),this.logSecurityEvent({type:"data_access",level:"info",message:`Data deleted: ${e}`,timestamp:new Date,sessionId:this.sessionId})},clear:async()=>{localStorage.clear(),this.logSecurityEvent({type:"data_access",level:"warning",message:"All local storage cleared",timestamp:new Date,sessionId:this.sessionId})}}}logSecurityEvent(e){this.events.push({...e,sessionId:e.sessionId||this.sessionId}),this.events.length>1e3&&(this.events=this.events.slice(-500)),!this.isTestEnv()&&(e.level==="critical"||e.level==="error")&&console.error(`[SECURITY ${e.level.toUpperCase()}]`,e.message,e.metadata)}async performSecurityAudit(){const e=[],t=[];this.masterCryptoKey||(e.push({id:"no-master-key",severity:"high",category:"encryption",title:"No Master Key Initialized",description:"Encryption is not properly configured",remediation:"Initialize master key using initializeMasterKey()",affectedComponents:["SecureStorage","DataEncryption"]}),t.push("Initialize encryption system with a strong master key"));const n=this.events.filter(u=>u.level==="error"||u.level==="critical").filter(u=>Date.now()-u.timestamp.getTime()<1440*60*1e3);n.length>0&&(e.push({id:"recent-security-errors",severity:"medium",category:"configuration",title:"Recent Security Errors Detected",description:`${n.length} security errors in the last 24 hours`,remediation:"Review security event logs and address recurring issues",affectedComponents:["SecurityMonitoring"]}),t.push("Review and address recent security errors"));const i="security-audit-test",r=this.createSecureStorage();try{await r.store(i,{test:!0},!0),await r.retrieve(i,!0),await r.delete(i)}catch(u){e.push({id:"storage-encryption-failure",severity:"high",category:"encryption",title:"Storage Encryption Test Failed",description:"Secure storage operations are not working correctly",remediation:"Debug encryption/decryption process and ensure proper key management",affectedComponents:["SecureStorage"]}),console.error("Storage encryption test failed:",u)}const a=e.filter(u=>u.severity==="critical").length,o=e.filter(u=>u.severity==="high").length,c=e.filter(u=>u.severity==="medium").length,l=Math.max(0,1-(a*.4+o*.3+c*.1));return this.logSecurityEvent({type:"audit",level:e.length===0?"info":"warning",message:`Security audit completed. Score: ${Ia(l*100,1)}%`,metadata:{totalIssues:e.length,criticalIssues:a,highIssues:o,mediumIssues:c,score:l},timestamp:new Date,sessionId:this.sessionId}),{passed:l>=.8&&a===0,score:l,issues:e,recommendations:t,lastAudit:new Date}}async wrapKey(e){if(!this.masterCryptoKey){if(this.isTestEnv())try{const i=await crypto.subtle.exportKey("raw",e);return JSON.stringify({wrapped:As(i),iv:null,format:"raw"})}catch{return JSON.stringify({wrapped:null,iv:null,format:"none"})}throw new Error("Master crypto key not initialized - cannot wrap key")}const t=crypto.getRandomValues(new Uint8Array(12)),n=await crypto.subtle.wrapKey("raw",e,this.masterCryptoKey,{name:"AES-GCM",iv:t});return JSON.stringify({wrapped:As(n),iv:As(t.buffer),format:"raw"})}async unwrapKey(e,t={name:"AES-GCM"},n=["encrypt","decrypt"]){try{const i=JSON.parse(e);if(!i||!i.wrapped)return null;if(i.format==="raw"&&(!i.iv||!this.masterCryptoKey)){if(this.isTestEnv()){const c=qt(i.wrapped);return await crypto.subtle.importKey("raw",c,t,!1,n)}throw new Error("Cannot unwrap key - master key missing")}const r=i.iv?qt(i.iv):null,a=qt(i.wrapped);if(!this.masterCryptoKey)throw new Error("Master crypto key not initialized");return await crypto.subtle.unwrapKey("raw",a,this.masterCryptoKey,{name:"AES-GCM",iv:r?new Uint8Array(r):new Uint8Array(12)},t,!1,n)}catch(i){if(this.logSecurityEvent({type:"encryption",level:"error",message:"Failed to unwrap key",metadata:{error:i instanceof Error?i.message:String(i)},timestamp:new Date,sessionId:this.sessionId}),this.isTestEnv())return null;throw i}}getSecurityEvents(e){let t=[...this.events];return e&&(e.type&&(t=t.filter(n=>n.type===e.type)),e.level&&(t=t.filter(n=>n.level===e.level)),e.since&&(t=t.filter(n=>n.timestamp>=e.since)),e.limit&&(t=t.slice(-e.limit))),t.sort((n,i)=>i.timestamp.getTime()-n.timestamp.getTime())}clearSecurityEvents(e){e?this.events=this.events.filter(t=>t.timestamp>=e):this.events=[],this.logSecurityEvent({type:"audit",level:"info",message:"Security events cleared",metadata:{olderThan:e?.toISOString()},timestamp:new Date,sessionId:this.sessionId})}getSecurityStatus(){const e=new Date(Date.now()-864e5),t=this.events.filter(r=>r.timestamp>=e),n=t.filter(r=>r.level==="error"||r.level==="critical"),i=this.events.filter(r=>r.type==="audit"&&r.message.includes("audit completed")).sort((r,a)=>a.timestamp.getTime()-r.timestamp.getTime())[0];return{encryptionEnabled:!!this.masterCryptoKey,masterKeyInitialized:!!this.masterCryptoKey,recentEvents:t.length,recentErrors:n.length,lastAudit:i?.timestamp||null}}}const tt=new $m;function Hm(s){let e;if(typeof s=="string"){if(!/^\d{4}-\d{2}-\d{2}T?/.test(s))return new Date(NaN);e=gm(s)}else e=s;return!(e instanceof Date)||Number.isNaN(e.getTime())?new Date(NaN):new Date(e.getFullYear(),e.getMonth(),e.getDate())}class vo{epsilon;budgetUsed=0;constructor(e=1){this.epsilon=e}addLaplaceNoise(e,t=1){if(this.budgetUsed>=this.epsilon)throw new Error("Privacy budget exhausted");const n=t/this.epsilon,i=this.generateLaplaceNoise(n);return this.budgetUsed+=this.epsilon*.1,Math.max(0,e+i)}generateLaplaceNoise(e){const t=Math.random()-.5;return-e*Math.sign(t)*Math.log(1-2*Math.abs(t))}getRemainingBudget(){return Math.max(0,this.epsilon-this.budgetUsed)}resetBudget(){this.budgetUsed=0}}class Ym{config;events=[];privacyEngine;userConsent=!1;sessionHash;constructor(e){this.config={enableAnalytics:!0,differentialPrivacyEnabled:!0,noiseLevel:1,dataRetentionDays:30,minimumAggregationSize:5,allowedMetrics:["pain_level","location","usage_time","validation_usage"],consentRequired:!0,...e},this.privacyEngine=new vo(this.config.noiseLevel),this.sessionHash=this.generateSessionHash(),this.initializeService()}generateSessionHash(){const e=`${Date.now()}-${Math.random()}-${navigator.userAgent}`;let t=0;for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);t=(t<<5)-t+i,t=t&t}return Math.abs(t).toString(36)}initializeService(){tt.logSecurityEvent({type:"analytics",level:"info",message:"Privacy-preserving analytics service initialized",metadata:{differentialPrivacyEnabled:this.config.differentialPrivacyEnabled,noiseLevel:this.config.noiseLevel,consentRequired:this.config.consentRequired},timestamp:new Date}),this.cleanOldEvents()}async requestConsent(){return this.config.consentRequired?(this.userConsent=!0,tt.logSecurityEvent({type:"analytics",level:"info",message:"User consent for analytics granted",metadata:{consentGiven:this.userConsent},timestamp:new Date}),this.userConsent):(this.userConsent=!0,!0)}revokeConsent(){this.userConsent=!1,tt.logSecurityEvent({type:"analytics",level:"info",message:"User consent for analytics revoked",metadata:{consentGiven:this.userConsent},timestamp:new Date})}hasConsent(){return this.userConsent||!this.config.consentRequired}async trackPainEntry(e){if(!this.shouldTrack())return;const t={painLevel:this.anonymizePainLevel(e.baselineData.pain),hasLocation:!!e.baselineData.locations&&e.baselineData.locations.length>0,hasDescription:!!e.notes&&e.notes.length>0,timeOfDay:new Date(e.timestamp).getHours(),dayOfWeek:new Date(e.timestamp).getDay()},n={eventType:"pain_logged",timestamp:new Date,metadata:t,sessionHash:this.sessionHash,isAnonymized:!0};this.addEvent(n),tt.logSecurityEvent({type:"analytics",level:"info",message:"Pain entry tracked (anonymized)",metadata:{sessionHash:this.sessionHash},timestamp:new Date})}async trackValidationUsage(e){if(!this.shouldTrack())return;const t={eventType:"validation_used",timestamp:new Date,metadata:{validationType:this.anonymizeString(e),timeOfDay:new Date().getHours()},sessionHash:this.sessionHash,isAnonymized:!0};this.addEvent(t)}async trackProgressView(e){if(!this.shouldTrack())return;const t={eventType:"progress_viewed",timestamp:new Date,metadata:{viewType:this.anonymizeString(e),timeOfDay:new Date().getHours()},sessionHash:this.sessionHash,isAnonymized:!0};this.addEvent(t)}async trackDataExport(e){if(!this.shouldTrack())return;const t={eventType:"export_performed",timestamp:new Date,metadata:{exportType:e,timeOfDay:new Date().getHours()},sessionHash:this.sessionHash,isAnonymized:!0};this.addEvent(t)}async generateInsights(){if(!this.shouldTrack()||this.events.length<this.config.minimumAggregationSize)return null;try{const e=this.events.filter(c=>c.eventType==="pain_logged"),t=this.events.filter(c=>c.eventType==="validation_used"),n=this.config.differentialPrivacyEnabled?this.privacyEngine.addLaplaceNoise(this.getUniqueSessionCount()):this.getUniqueSessionCount(),i=this.config.differentialPrivacyEnabled?this.privacyEngine.addLaplaceNoise(this.calculateAveragePainLevel(e)):this.calculateAveragePainLevel(e),r=this.getCommonPainLocations(),a={averageEntriesPerWeek:this.config.differentialPrivacyEnabled?this.privacyEngine.addLaplaceNoise(this.calculateWeeklyAverage(e)):this.calculateWeeklyAverage(e),peakUsageHours:this.getPeakUsageHours(this.events),validationUsageRate:this.config.differentialPrivacyEnabled?this.privacyEngine.addLaplaceNoise(t.length/Math.max(1,e.length)):t.length/Math.max(1,e.length)},o={totalUsers:Math.round(n),averagePainLevel:Number(Ia(i,1)),commonPainLocations:r,usagePatterns:a,privacyMetrics:{noiseAdded:this.config.differentialPrivacyEnabled?this.config.noiseLevel:0,dataPointsAggregated:this.events.length,privacyBudgetUsed:this.config.differentialPrivacyEnabled?this.privacyEngine.getRemainingBudget():0},generatedAt:new Date};return tt.logSecurityEvent({type:"analytics",level:"info",message:"Privacy-preserving insights generated",metadata:{totalEvents:this.events.length,uniqueSessions:this.getUniqueSessionCount(),privacyBudgetRemaining:this.privacyEngine.getRemainingBudget()},timestamp:new Date}),o}catch(e){return tt.logSecurityEvent({type:"analytics",level:"error",message:"Failed to generate insights",metadata:{error:e instanceof Error?e.message:"Unknown error"},timestamp:new Date}),null}}getPrivacyStatus(){return{analyticsEnabled:this.config.enableAnalytics,consentGiven:this.userConsent,differentialPrivacyEnabled:this.config.differentialPrivacyEnabled,eventsCollected:this.events.length,privacyBudgetRemaining:this.privacyEngine.getRemainingBudget(),dataRetentionDays:this.config.dataRetentionDays}}async clearAnalyticsData(){this.events=[],this.privacyEngine.resetBudget(),tt.logSecurityEvent({type:"analytics",level:"info",message:"Analytics data cleared",timestamp:new Date})}updatePrivacyConfig(e){this.config={...this.config,...e},e.noiseLevel&&(this.privacyEngine=new vo(e.noiseLevel)),tt.logSecurityEvent({type:"analytics",level:"info",message:"Privacy configuration updated",metadata:e,timestamp:new Date})}shouldTrack(){return this.config.enableAnalytics&&(!this.config.consentRequired||this.userConsent)}addEvent(e){this.events.push(e),this.cleanOldEvents()}cleanOldEvents(){const e=new Date;e.setDate(e.getDate()-this.config.dataRetentionDays);const t=this.events.length;this.events=this.events.filter(n=>n.timestamp>=e),this.events.length<t&&tt.logSecurityEvent({type:"analytics",level:"info",message:"Old analytics events cleaned",metadata:{removed:t-this.events.length},timestamp:new Date})}anonymizePainLevel(e){return Math.round(e/2)*2}anonymizeString(e){return e.toLowerCase().includes("validation")?"validation":e.toLowerCase().includes("progress")?"progress":e.toLowerCase().includes("export")?"export":"other"}getUniqueSessionCount(){return new Set(this.events.map(t=>t.sessionHash)).size}calculateAveragePainLevel(e){return e.length===0?0:e.reduce((n,i)=>{const r=i.metadata.painLevel;return n+(r||0)},0)/e.length}calculateWeeklyAverage(e){if(e.length===0)return 0;const t=new Date,n=new Date(Hm(t).getTime());n.setDate(n.getDate()-6);const i=e.filter(o=>(o.timestamp instanceof Date?o.timestamp:new Date(String(o.timestamp)))>=n);if(i.length===0)return 0;const a=i.reduce((o,c)=>{const l=c.metadata&&c.metadata.painLevel||0;return o+l},0)/i.length;return Math.max(0,Math.min(10,a))}getCommonPainLocations(){return[{location:"upper_body",frequency:Math.random()*50},{location:"lower_body",frequency:Math.random()*50},{location:"extremities",frequency:Math.random()*30}]}getPeakUsageHours(e){const t=new Array(24).fill(0);return e.forEach(n=>{const i=n.metadata.timeOfDay;i>=0&&i<24&&t[i]++}),t.map((n,i)=>({hour:i,count:n})).sort((n,i)=>i.count-n.count).slice(0,3).map(n=>n.hour)}}const ua=new Ym,Gi=Tm()(Om(zm(Rm(Wm(s=>({entries:[],moodEntries:[],emergencyData:null,activityLogs:[],ui:{showWCBReport:!1,showOnboarding:!1,showWalkthrough:!1,showEmpathyDashboard:!1,currentFormSection:0,reportPeriod:{start:new Date(Date.now()-720*60*60*1e3).toISOString().split("T")[0],end:new Date().toISOString().split("T")[0]}},isLoading:!1,error:null,addEntry:e=>{s(t=>{const n={id:Date.now(),timestamp:new Date().toISOString(),baselineData:{pain:e.baselineData?.pain||0,locations:e.baselineData?.locations||[],symptoms:e.baselineData?.symptoms||[]},functionalImpact:{limitedActivities:e.functionalImpact?.limitedActivities||[],assistanceNeeded:e.functionalImpact?.assistanceNeeded||[],mobilityAids:e.functionalImpact?.mobilityAids||[]},medications:{current:e.medications?.current||[],changes:e.medications?.changes||"",effectiveness:e.medications?.effectiveness||""},treatments:{recent:e.treatments?.recent||[],effectiveness:e.treatments?.effectiveness||"",planned:e.treatments?.planned||[]},qualityOfLife:{sleepQuality:e.qualityOfLife?.sleepQuality||0,moodImpact:e.qualityOfLife?.moodImpact||0,socialImpact:e.qualityOfLife?.socialImpact||[]},workImpact:{missedWork:e.workImpact?.missedWork||0,modifiedDuties:e.workImpact?.modifiedDuties||[],workLimitations:e.workImpact?.workLimitations||[]},comparison:{worseningSince:e.comparison?.worseningSince||"",newLimitations:e.comparison?.newLimitations||[]},notes:e.notes||""};t.entries.push(n),t.error=null,ua.trackPainEntry(n).catch(()=>{})})},updateEntry:(e,t)=>{s(n=>{const i=n.entries.findIndex(r=>r.id===e);i>=0&&(n.entries[i]={...n.entries[i],...t})})},deleteEntry:e=>{s(t=>{t.entries=t.entries.filter(n=>n.id!==e)})},addMoodEntry:e=>{s(t=>{const n={timestamp:new Date,mood:e.mood||5,energy:e.energy||5,anxiety:e.anxiety||5,stress:e.stress||5,hopefulness:e.hopefulness||5,selfEfficacy:e.selfEfficacy||5,emotionalClarity:e.emotionalClarity||5,emotionalRegulation:e.emotionalRegulation||5,context:e.context||"",triggers:e.triggers||[],copingStrategies:e.copingStrategies||[],socialSupport:e.socialSupport||"none",notes:e.notes||""};t.moodEntries.push(n),t.error=null})},updateMoodEntry:(e,t)=>{s(n=>{const i=n.moodEntries.findIndex(r=>r.timestamp.toISOString()===e);i>=0&&(n.moodEntries[i]={...n.moodEntries[i],...t})})},deleteMoodEntry:e=>{s(t=>{t.moodEntries=t.moodEntries.filter(n=>n.timestamp.toISOString()!==e)})},setShowWCBReport:e=>{s(t=>{t.ui.showWCBReport=e})},setShowOnboarding:e=>{s(t=>{t.ui.showOnboarding=e})},setShowWalkthrough:e=>{s(t=>{t.ui.showWalkthrough=e})},setShowEmpathyDashboard:e=>{s(t=>{t.ui.showEmpathyDashboard=e})},setCurrentFormSection:e=>{s(t=>{t.ui.currentFormSection=e})},setReportPeriod:e=>{s(t=>{t.ui.reportPeriod={...t.ui.reportPeriod,...e}})},updateEmergencyData:e=>{s(t=>{t.emergencyData=e})},addActivityLog:e=>{s(t=>{const n={id:Date.now(),...e};t.activityLogs.push(n)})},updateActivityLog:(e,t)=>{s(n=>{const i=n.activityLogs.findIndex(r=>r.id===e);i>=0&&(n.activityLogs[i]={...n.activityLogs[i],...t})})},setError:e=>{s(t=>{t.error=e})},setLoading:e=>{s(t=>{t.isLoading=e})},clearAllData:()=>{s(e=>{e.entries=[],e.moodEntries=[],e.activityLogs=[],e.emergencyData=null,e.error=null})},loadSampleData:()=>{st(async()=>{const{samplePainEntries:e}=await import("./sampleData-CQjumYEi.js");return{samplePainEntries:e}},[]).then(({samplePainEntries:e})=>{s(t=>{t.entries=e})})}}))),{name:"pain-tracker-storage",partialize:s=>({entries:s.entries,moodEntries:s.moodEntries,emergencyData:s.emergencyData,activityLogs:s.activityLogs})}),{name:"PainTracker Store"})),qm=s=>s.entries;const Km=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Gm=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),ko=s=>{const e=Gm(s);return e.charAt(0).toUpperCase()+e.slice(1)},au=(...s)=>s.filter((e,t,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===t).join(" ").trim(),Qm=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var Xm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Jm=V.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:i="",children:r,iconNode:a,...o},c)=>V.createElement("svg",{ref:c,...Xm,width:e,height:e,stroke:s,strokeWidth:n?Number(t)*24/Number(e):t,className:au("lucide",i),...!r&&!Qm(o)&&{"aria-hidden":"true"},...o},[...a.map(([l,u])=>V.createElement(l,u)),...Array.isArray(r)?r:[r]]));const fe=(s,e)=>{const t=V.forwardRef(({className:n,...i},r)=>V.createElement(Jm,{ref:r,iconNode:e,className:au(`lucide-${Km(ko(s))}`,`lucide-${s}`,n),...i}));return t.displayName=ko(s),t};const Zm=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Ra=fe("activity",Zm);const ef=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],tf=fe("bell",ef);const sf=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],nf=fe("brain",sf);const rf=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ua=fe("calendar",rf);const af=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],of=fe("chart-column",af);const cf=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]],lf=fe("chart-line",cf);const uf=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V9",key:"uvy0l4"}],["path",{d:"M19 21V3",key:"11j9sm"}]],df=fe("chart-no-axes-column-increasing",uf);const mf=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],No=fe("check",mf);const ff=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ou=fe("chevron-left",ff);const hf=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],pf=fe("chevron-right",hf);const gf=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],cu=fe("circle-alert",gf);const bf=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],yf=fe("circle-check-big",bf);const xf=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],vf=fe("circle-check",xf);const kf=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Nf=fe("circle-play",kf);const wf=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Df=fe("circle-question-mark",wf);const Cf=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Ef=fe("circle-x",Cf);const Pf=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Qi=fe("clock",Pf);const Sf=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]],jf=fe("cloud-off",Sf);const _f=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Tf=fe("download",_f);const Af=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Vf=fe("eye-off",Af);const Mf=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Lf=fe("eye",Mf);const Of=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],lu=fe("file-text",Of);const If=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],uu=fe("heart",If);const Rf=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Li=fe("info",Rf);const Uf=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Ff=fe("layout-dashboard",Uf);const zf=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Bf=fe("lightbulb",zf);const Wf=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],du=fe("loader-circle",Wf);const $f=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],mu=fe("map-pin",$f);const Hf=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Yf=fe("menu",Hf);const qf=[["path",{d:"M5 12h14",key:"1ays0h"}]],Kf=fe("minus",qf);const Gf=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Qf=fe("moon",Gf);const Xf=[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]],da=fe("pill",Xf);const Jf=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],jr=fe("plus",Jf);const Zf=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],eh=fe("refresh-cw",Zf);const th=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],sh=fe("settings",th);const nh=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ih=fe("shield",nh);const rh=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],ah=fe("smartphone",rh);const oh=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],fu=fe("sparkles",oh);const ch=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],lh=fe("sun",ch);const uh=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],dh=fe("table",uh);const mh=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],fh=fe("trending-down",mh);const hh=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Fa=fe("trending-up",hh);const ph=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],gh=fe("triangle-alert",ph);const bh=[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]],yh=fe("wind",bh);const xh=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],vs=fe("x",xh);const vh=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],hu=fe("zap",vh),za="-",kh=s=>{const e=wh(s),{conflictingClassGroups:t,conflictingClassGroupModifiers:n}=s;return{getClassGroupId:a=>{const o=a.split(za);return o[0]===""&&o.length!==1&&o.shift(),pu(o,e)||Nh(a)},getConflictingClassGroupIds:(a,o)=>{const c=t[a]||[];return o&&n[a]?[...c,...n[a]]:c}}},pu=(s,e)=>{if(s.length===0)return e.classGroupId;const t=s[0],n=e.nextPart.get(t),i=n?pu(s.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const r=s.join(za);return e.validators.find(({validator:a})=>a(r))?.classGroupId},wo=/^\[(.+)\]$/,Nh=s=>{if(wo.test(s)){const e=wo.exec(s)[1],t=e?.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},wh=s=>{const{theme:e,classGroups:t}=s,n={nextPart:new Map,validators:[]};for(const i in t)ma(t[i],n,i,e);return n},ma=(s,e,t,n)=>{s.forEach(i=>{if(typeof i=="string"){const r=i===""?e:Do(e,i);r.classGroupId=t;return}if(typeof i=="function"){if(Dh(i)){ma(i(n),e,t,n);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([r,a])=>{ma(a,Do(e,r),t,n)})})},Do=(s,e)=>{let t=s;return e.split(za).forEach(n=>{t.nextPart.has(n)||t.nextPart.set(n,{nextPart:new Map,validators:[]}),t=t.nextPart.get(n)}),t},Dh=s=>s.isThemeGetter,Ch=s=>{if(s<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,n=new Map;const i=(r,a)=>{t.set(r,a),e++,e>s&&(e=0,n=t,t=new Map)};return{get(r){let a=t.get(r);if(a!==void 0)return a;if((a=n.get(r))!==void 0)return i(r,a),a},set(r,a){t.has(r)?t.set(r,a):i(r,a)}}},fa="!",ha=":",Eh=ha.length,Ph=s=>{const{prefix:e,experimentalParseClassName:t}=s;let n=i=>{const r=[];let a=0,o=0,c=0,l;for(let p=0;p<i.length;p++){let g=i[p];if(a===0&&o===0){if(g===ha){r.push(i.slice(c,p)),c=p+Eh;continue}if(g==="/"){l=p;continue}}g==="["?a++:g==="]"?a--:g==="("?o++:g===")"&&o--}const u=r.length===0?i:i.substring(c),m=Sh(u),f=m!==u,h=l&&l>c?l-c:void 0;return{modifiers:r,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:h}};if(e){const i=e+ha,r=n;n=a=>a.startsWith(i)?r(a.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:a,maybePostfixModifierPosition:void 0}}if(t){const i=n;n=r=>t({className:r,parseClassName:i})}return n},Sh=s=>s.endsWith(fa)?s.substring(0,s.length-1):s.startsWith(fa)?s.substring(1):s,jh=s=>{const e=Object.fromEntries(s.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const i=[];let r=[];return n.forEach(a=>{a[0]==="["||e[a]?(i.push(...r.sort(),a),r=[]):r.push(a)}),i.push(...r.sort()),i}},_h=s=>({cache:Ch(s.cacheSize),parseClassName:Ph(s),sortModifiers:jh(s),...kh(s)}),Th=/\s+/,Ah=(s,e)=>{const{parseClassName:t,getClassGroupId:n,getConflictingClassGroupIds:i,sortModifiers:r}=e,a=[],o=s.trim().split(Th);let c="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{isExternal:m,modifiers:f,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:g}=t(u);if(m){c=u+(c.length>0?" "+c:c);continue}let y=!!g,k=n(y?p.substring(0,g):p);if(!k){if(!y){c=u+(c.length>0?" "+c:c);continue}if(k=n(p),!k){c=u+(c.length>0?" "+c:c);continue}y=!1}const D=r(f).join(":"),j=h?D+fa:D,S=j+k;if(a.includes(S))continue;a.push(S);const v=i(k,y);for(let N=0;N<v.length;++N){const C=v[N];a.push(j+C)}c=u+(c.length>0?" "+c:c)}return c};function Vh(){let s=0,e,t,n="";for(;s<arguments.length;)(e=arguments[s++])&&(t=gu(e))&&(n&&(n+=" "),n+=t);return n}const gu=s=>{if(typeof s=="string")return s;let e,t="";for(let n=0;n<s.length;n++)s[n]&&(e=gu(s[n]))&&(t&&(t+=" "),t+=e);return t};function Mh(s,...e){let t,n,i,r=a;function a(c){const l=e.reduce((u,m)=>m(u),s());return t=_h(l),n=t.cache.get,i=t.cache.set,r=o,o(c)}function o(c){const l=n(c);if(l)return l;const u=Ah(c,t);return i(c,u),u}return function(){return r(Vh.apply(null,arguments))}}const Fe=s=>{const e=t=>t[s]||[];return e.isThemeGetter=!0,e},bu=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,yu=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Lh=/^\d+\/\d+$/,Oh=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Ih=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Rh=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Uh=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Fh=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Vs=s=>Lh.test(s),pe=s=>!!s&&!Number.isNaN(Number(s)),Kt=s=>!!s&&Number.isInteger(Number(s)),_r=s=>s.endsWith("%")&&pe(s.slice(0,-1)),Vt=s=>Oh.test(s),zh=()=>!0,Bh=s=>Ih.test(s)&&!Rh.test(s),xu=()=>!1,Wh=s=>Uh.test(s),$h=s=>Fh.test(s),Hh=s=>!Z(s)&&!ee(s),Yh=s=>Ks(s,Nu,xu),Z=s=>bu.test(s),as=s=>Ks(s,wu,Bh),Tr=s=>Ks(s,Xh,pe),Co=s=>Ks(s,vu,xu),qh=s=>Ks(s,ku,$h),ii=s=>Ks(s,Du,Wh),ee=s=>yu.test(s),on=s=>Gs(s,wu),Kh=s=>Gs(s,Jh),Eo=s=>Gs(s,vu),Gh=s=>Gs(s,Nu),Qh=s=>Gs(s,ku),ri=s=>Gs(s,Du,!0),Ks=(s,e,t)=>{const n=bu.exec(s);return n?n[1]?e(n[1]):t(n[2]):!1},Gs=(s,e,t=!1)=>{const n=yu.exec(s);return n?n[1]?e(n[1]):t:!1},vu=s=>s==="position"||s==="percentage",ku=s=>s==="image"||s==="url",Nu=s=>s==="length"||s==="size"||s==="bg-size",wu=s=>s==="length",Xh=s=>s==="number",Jh=s=>s==="family-name",Du=s=>s==="shadow",Zh=()=>{const s=Fe("color"),e=Fe("font"),t=Fe("text"),n=Fe("font-weight"),i=Fe("tracking"),r=Fe("leading"),a=Fe("breakpoint"),o=Fe("container"),c=Fe("spacing"),l=Fe("radius"),u=Fe("shadow"),m=Fe("inset-shadow"),f=Fe("text-shadow"),h=Fe("drop-shadow"),p=Fe("blur"),g=Fe("perspective"),y=Fe("aspect"),k=Fe("ease"),D=Fe("animate"),j=()=>["auto","avoid","all","avoid-page","page","left","right","column"],S=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],v=()=>[...S(),ee,Z],N=()=>["auto","hidden","clip","visible","scroll"],C=()=>["auto","contain","none"],w=()=>[ee,Z,c],T=()=>[Vs,"full","auto",...w()],_=()=>[Kt,"none","subgrid",ee,Z],L=()=>["auto",{span:["full",Kt,ee,Z]},Kt,ee,Z],O=()=>[Kt,"auto",ee,Z],M=()=>["auto","min","max","fr",ee,Z],H=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ne=()=>["start","end","center","stretch","center-safe","end-safe"],q=()=>["auto",...w()],se=()=>[Vs,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...w()],z=()=>[s,ee,Z],ke=()=>[...S(),Eo,Co,{position:[ee,Z]}],I=()=>["no-repeat",{repeat:["","x","y","space","round"]}],R=()=>["auto","cover","contain",Gh,Yh,{size:[ee,Z]}],X=()=>[_r,on,as],G=()=>["","none","full",l,ee,Z],Y=()=>["",pe,on,as],oe=()=>["solid","dashed","dotted","double"],re=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],$=()=>[pe,_r,Eo,Co],ce=()=>["","none",p,ee,Z],ie=()=>["none",pe,ee,Z],ae=()=>["none",pe,ee,Z],_e=()=>[pe,ee,Z],B=()=>[Vs,"full",...w()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Vt],breakpoint:[Vt],color:[zh],container:[Vt],"drop-shadow":[Vt],ease:["in","out","in-out"],font:[Hh],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Vt],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Vt],shadow:[Vt],spacing:["px",pe],text:[Vt],"text-shadow":[Vt],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Vs,Z,ee,y]}],container:["container"],columns:[{columns:[pe,Z,ee,o]}],"break-after":[{"break-after":j()}],"break-before":[{"break-before":j()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:v()}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:T()}],"inset-x":[{"inset-x":T()}],"inset-y":[{"inset-y":T()}],start:[{start:T()}],end:[{end:T()}],top:[{top:T()}],right:[{right:T()}],bottom:[{bottom:T()}],left:[{left:T()}],visibility:["visible","invisible","collapse"],z:[{z:[Kt,"auto",ee,Z]}],basis:[{basis:[Vs,"full","auto",o,...w()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[pe,Vs,"auto","initial","none",Z]}],grow:[{grow:["",pe,ee,Z]}],shrink:[{shrink:["",pe,ee,Z]}],order:[{order:[Kt,"first","last","none",ee,Z]}],"grid-cols":[{"grid-cols":_()}],"col-start-end":[{col:L()}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":_()}],"row-start-end":[{row:L()}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":M()}],"auto-rows":[{"auto-rows":M()}],gap:[{gap:w()}],"gap-x":[{"gap-x":w()}],"gap-y":[{"gap-y":w()}],"justify-content":[{justify:[...H(),"normal"]}],"justify-items":[{"justify-items":[...ne(),"normal"]}],"justify-self":[{"justify-self":["auto",...ne()]}],"align-content":[{content:["normal",...H()]}],"align-items":[{items:[...ne(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ne(),{baseline:["","last"]}]}],"place-content":[{"place-content":H()}],"place-items":[{"place-items":[...ne(),"baseline"]}],"place-self":[{"place-self":["auto",...ne()]}],p:[{p:w()}],px:[{px:w()}],py:[{py:w()}],ps:[{ps:w()}],pe:[{pe:w()}],pt:[{pt:w()}],pr:[{pr:w()}],pb:[{pb:w()}],pl:[{pl:w()}],m:[{m:q()}],mx:[{mx:q()}],my:[{my:q()}],ms:[{ms:q()}],me:[{me:q()}],mt:[{mt:q()}],mr:[{mr:q()}],mb:[{mb:q()}],ml:[{ml:q()}],"space-x":[{"space-x":w()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":w()}],"space-y-reverse":["space-y-reverse"],size:[{size:se()}],w:[{w:[o,"screen",...se()]}],"min-w":[{"min-w":[o,"screen","none",...se()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[a]},...se()]}],h:[{h:["screen","lh",...se()]}],"min-h":[{"min-h":["screen","lh","none",...se()]}],"max-h":[{"max-h":["screen","lh",...se()]}],"font-size":[{text:["base",t,on,as]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,ee,Tr]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",_r,Z]}],"font-family":[{font:[Kh,Z,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,ee,Z]}],"line-clamp":[{"line-clamp":[pe,"none",ee,Tr]}],leading:[{leading:[r,...w()]}],"list-image":[{"list-image":["none",ee,Z]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ee,Z]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:z()}],"text-color":[{text:z()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...oe(),"wavy"]}],"text-decoration-thickness":[{decoration:[pe,"from-font","auto",ee,as]}],"text-decoration-color":[{decoration:z()}],"underline-offset":[{"underline-offset":[pe,"auto",ee,Z]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:w()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ee,Z]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ee,Z]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ke()}],"bg-repeat":[{bg:I()}],"bg-size":[{bg:R()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Kt,ee,Z],radial:["",ee,Z],conic:[Kt,ee,Z]},Qh,qh]}],"bg-color":[{bg:z()}],"gradient-from-pos":[{from:X()}],"gradient-via-pos":[{via:X()}],"gradient-to-pos":[{to:X()}],"gradient-from":[{from:z()}],"gradient-via":[{via:z()}],"gradient-to":[{to:z()}],rounded:[{rounded:G()}],"rounded-s":[{"rounded-s":G()}],"rounded-e":[{"rounded-e":G()}],"rounded-t":[{"rounded-t":G()}],"rounded-r":[{"rounded-r":G()}],"rounded-b":[{"rounded-b":G()}],"rounded-l":[{"rounded-l":G()}],"rounded-ss":[{"rounded-ss":G()}],"rounded-se":[{"rounded-se":G()}],"rounded-ee":[{"rounded-ee":G()}],"rounded-es":[{"rounded-es":G()}],"rounded-tl":[{"rounded-tl":G()}],"rounded-tr":[{"rounded-tr":G()}],"rounded-br":[{"rounded-br":G()}],"rounded-bl":[{"rounded-bl":G()}],"border-w":[{border:Y()}],"border-w-x":[{"border-x":Y()}],"border-w-y":[{"border-y":Y()}],"border-w-s":[{"border-s":Y()}],"border-w-e":[{"border-e":Y()}],"border-w-t":[{"border-t":Y()}],"border-w-r":[{"border-r":Y()}],"border-w-b":[{"border-b":Y()}],"border-w-l":[{"border-l":Y()}],"divide-x":[{"divide-x":Y()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Y()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...oe(),"hidden","none"]}],"divide-style":[{divide:[...oe(),"hidden","none"]}],"border-color":[{border:z()}],"border-color-x":[{"border-x":z()}],"border-color-y":[{"border-y":z()}],"border-color-s":[{"border-s":z()}],"border-color-e":[{"border-e":z()}],"border-color-t":[{"border-t":z()}],"border-color-r":[{"border-r":z()}],"border-color-b":[{"border-b":z()}],"border-color-l":[{"border-l":z()}],"divide-color":[{divide:z()}],"outline-style":[{outline:[...oe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[pe,ee,Z]}],"outline-w":[{outline:["",pe,on,as]}],"outline-color":[{outline:z()}],shadow:[{shadow:["","none",u,ri,ii]}],"shadow-color":[{shadow:z()}],"inset-shadow":[{"inset-shadow":["none",m,ri,ii]}],"inset-shadow-color":[{"inset-shadow":z()}],"ring-w":[{ring:Y()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:z()}],"ring-offset-w":[{"ring-offset":[pe,as]}],"ring-offset-color":[{"ring-offset":z()}],"inset-ring-w":[{"inset-ring":Y()}],"inset-ring-color":[{"inset-ring":z()}],"text-shadow":[{"text-shadow":["none",f,ri,ii]}],"text-shadow-color":[{"text-shadow":z()}],opacity:[{opacity:[pe,ee,Z]}],"mix-blend":[{"mix-blend":[...re(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":re()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[pe]}],"mask-image-linear-from-pos":[{"mask-linear-from":$()}],"mask-image-linear-to-pos":[{"mask-linear-to":$()}],"mask-image-linear-from-color":[{"mask-linear-from":z()}],"mask-image-linear-to-color":[{"mask-linear-to":z()}],"mask-image-t-from-pos":[{"mask-t-from":$()}],"mask-image-t-to-pos":[{"mask-t-to":$()}],"mask-image-t-from-color":[{"mask-t-from":z()}],"mask-image-t-to-color":[{"mask-t-to":z()}],"mask-image-r-from-pos":[{"mask-r-from":$()}],"mask-image-r-to-pos":[{"mask-r-to":$()}],"mask-image-r-from-color":[{"mask-r-from":z()}],"mask-image-r-to-color":[{"mask-r-to":z()}],"mask-image-b-from-pos":[{"mask-b-from":$()}],"mask-image-b-to-pos":[{"mask-b-to":$()}],"mask-image-b-from-color":[{"mask-b-from":z()}],"mask-image-b-to-color":[{"mask-b-to":z()}],"mask-image-l-from-pos":[{"mask-l-from":$()}],"mask-image-l-to-pos":[{"mask-l-to":$()}],"mask-image-l-from-color":[{"mask-l-from":z()}],"mask-image-l-to-color":[{"mask-l-to":z()}],"mask-image-x-from-pos":[{"mask-x-from":$()}],"mask-image-x-to-pos":[{"mask-x-to":$()}],"mask-image-x-from-color":[{"mask-x-from":z()}],"mask-image-x-to-color":[{"mask-x-to":z()}],"mask-image-y-from-pos":[{"mask-y-from":$()}],"mask-image-y-to-pos":[{"mask-y-to":$()}],"mask-image-y-from-color":[{"mask-y-from":z()}],"mask-image-y-to-color":[{"mask-y-to":z()}],"mask-image-radial":[{"mask-radial":[ee,Z]}],"mask-image-radial-from-pos":[{"mask-radial-from":$()}],"mask-image-radial-to-pos":[{"mask-radial-to":$()}],"mask-image-radial-from-color":[{"mask-radial-from":z()}],"mask-image-radial-to-color":[{"mask-radial-to":z()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":S()}],"mask-image-conic-pos":[{"mask-conic":[pe]}],"mask-image-conic-from-pos":[{"mask-conic-from":$()}],"mask-image-conic-to-pos":[{"mask-conic-to":$()}],"mask-image-conic-from-color":[{"mask-conic-from":z()}],"mask-image-conic-to-color":[{"mask-conic-to":z()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ke()}],"mask-repeat":[{mask:I()}],"mask-size":[{mask:R()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ee,Z]}],filter:[{filter:["","none",ee,Z]}],blur:[{blur:ce()}],brightness:[{brightness:[pe,ee,Z]}],contrast:[{contrast:[pe,ee,Z]}],"drop-shadow":[{"drop-shadow":["","none",h,ri,ii]}],"drop-shadow-color":[{"drop-shadow":z()}],grayscale:[{grayscale:["",pe,ee,Z]}],"hue-rotate":[{"hue-rotate":[pe,ee,Z]}],invert:[{invert:["",pe,ee,Z]}],saturate:[{saturate:[pe,ee,Z]}],sepia:[{sepia:["",pe,ee,Z]}],"backdrop-filter":[{"backdrop-filter":["","none",ee,Z]}],"backdrop-blur":[{"backdrop-blur":ce()}],"backdrop-brightness":[{"backdrop-brightness":[pe,ee,Z]}],"backdrop-contrast":[{"backdrop-contrast":[pe,ee,Z]}],"backdrop-grayscale":[{"backdrop-grayscale":["",pe,ee,Z]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[pe,ee,Z]}],"backdrop-invert":[{"backdrop-invert":["",pe,ee,Z]}],"backdrop-opacity":[{"backdrop-opacity":[pe,ee,Z]}],"backdrop-saturate":[{"backdrop-saturate":[pe,ee,Z]}],"backdrop-sepia":[{"backdrop-sepia":["",pe,ee,Z]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":w()}],"border-spacing-x":[{"border-spacing-x":w()}],"border-spacing-y":[{"border-spacing-y":w()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ee,Z]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[pe,"initial",ee,Z]}],ease:[{ease:["linear","initial",k,ee,Z]}],delay:[{delay:[pe,ee,Z]}],animate:[{animate:["none",D,ee,Z]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[g,ee,Z]}],"perspective-origin":[{"perspective-origin":v()}],rotate:[{rotate:ie()}],"rotate-x":[{"rotate-x":ie()}],"rotate-y":[{"rotate-y":ie()}],"rotate-z":[{"rotate-z":ie()}],scale:[{scale:ae()}],"scale-x":[{"scale-x":ae()}],"scale-y":[{"scale-y":ae()}],"scale-z":[{"scale-z":ae()}],"scale-3d":["scale-3d"],skew:[{skew:_e()}],"skew-x":[{"skew-x":_e()}],"skew-y":[{"skew-y":_e()}],transform:[{transform:[ee,Z,"","none","gpu","cpu"]}],"transform-origin":[{origin:v()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:B()}],"translate-x":[{"translate-x":B()}],"translate-y":[{"translate-y":B()}],"translate-z":[{"translate-z":B()}],"translate-none":["translate-none"],accent:[{accent:z()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:z()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ee,Z]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":w()}],"scroll-mx":[{"scroll-mx":w()}],"scroll-my":[{"scroll-my":w()}],"scroll-ms":[{"scroll-ms":w()}],"scroll-me":[{"scroll-me":w()}],"scroll-mt":[{"scroll-mt":w()}],"scroll-mr":[{"scroll-mr":w()}],"scroll-mb":[{"scroll-mb":w()}],"scroll-ml":[{"scroll-ml":w()}],"scroll-p":[{"scroll-p":w()}],"scroll-px":[{"scroll-px":w()}],"scroll-py":[{"scroll-py":w()}],"scroll-ps":[{"scroll-ps":w()}],"scroll-pe":[{"scroll-pe":w()}],"scroll-pt":[{"scroll-pt":w()}],"scroll-pr":[{"scroll-pr":w()}],"scroll-pb":[{"scroll-pb":w()}],"scroll-pl":[{"scroll-pl":w()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ee,Z]}],fill:[{fill:["none",...z()]}],"stroke-w":[{stroke:[pe,on,as,Tr]}],stroke:[{stroke:["none",...z()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},ep=Mh(Zh);function J(...s){return ep(iu(s))}const W={primary:{400:"#60a5fa",600:"#2563eb"},accent:{400:"#e879f9",600:"#c026d3"},neutral:{50:"#fafafa",100:"#f5f5f5",200:"#e5e5e5",300:"#d4d4d4",400:"#a3a3a3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717"},success:{50:"#f0fdf4",500:"#22c55e",700:"#15803d"},warning:{50:"#fffbeb",500:"#f59e0b",700:"#b45309"},error:{500:"#ef4444",700:"#b91c1c"},info:{50:"#ecfeff",500:"#06b6d4",700:"#0e7490"}},Po=s=>s==="high-contrast"?{background:"#000000",foreground:"#ffffff",card:"#000000",cardForeground:"#ffffff",popover:"#000000",popoverForeground:"#ffffff",primary:"#ffff00",primaryForeground:"#000000",secondary:"#ffffff",secondaryForeground:"#000000",muted:"#333333",mutedForeground:"#ffffff",accent:"#00ffff",accentForeground:"#000000",destructive:"#ff0000",destructiveForeground:"#ffffff",success:W.success[500],successForeground:W.success[50],warning:W.warning[500],warningForeground:W.warning[50],info:W.info[500],infoForeground:W.info[50],border:"#ffffff",input:"#ffffff",ring:"#ffff00"}:s==="colorblind"?{background:W.neutral[50],foreground:W.neutral[900],card:W.neutral[50],cardForeground:W.neutral[900],popover:W.neutral[50],popoverForeground:W.neutral[900],primary:W.neutral[800],primaryForeground:W.neutral[50],secondary:W.neutral[600],secondaryForeground:W.neutral[50],muted:W.neutral[100],mutedForeground:W.neutral[700],accent:W.neutral[500],accentForeground:W.neutral[50],destructive:W.neutral[900],destructiveForeground:W.neutral[50],success:W.success[500],successForeground:W.success[50],warning:W.warning[500],warningForeground:W.warning[50],info:W.info[500],infoForeground:W.info[50],border:W.neutral[300],input:W.neutral[200],ring:W.neutral[800]}:s==="dark"?{background:W.neutral[900],foreground:W.neutral[50],card:W.neutral[800],cardForeground:W.neutral[100],popover:W.neutral[800],popoverForeground:W.neutral[100],primary:W.primary[400],primaryForeground:W.neutral[900],secondary:W.neutral[700],secondaryForeground:W.neutral[100],muted:W.neutral[700],mutedForeground:W.neutral[400],accent:W.accent[400],accentForeground:W.neutral[900],destructive:W.error[500],destructiveForeground:"#ffffff",success:W.success[500],successForeground:W.success[50],warning:W.warning[500],warningForeground:W.warning[50],info:W.info[500],infoForeground:W.info[50],border:W.neutral[700],input:W.neutral[700],ring:W.primary[400]}:{background:W.neutral[50],foreground:W.neutral[900],card:W.neutral[50],cardForeground:W.neutral[900],popover:W.neutral[50],popoverForeground:W.neutral[900],primary:W.primary[600],primaryForeground:W.neutral[50],secondary:W.neutral[100],secondaryForeground:W.neutral[900],muted:W.neutral[100],mutedForeground:W.neutral[700],accent:W.accent[600],accentForeground:W.neutral[50],destructive:W.error[700],destructiveForeground:"#ffffff",success:W.success[700],successForeground:W.success[50],warning:W.warning[700],warningForeground:W.warning[50],info:W.info[700],infoForeground:W.info[50],border:W.neutral[200],input:W.neutral[200],ring:W.primary[600]},Ms=s=>typeof window<"u"?`/pain-tracker/${s}`.replace(/\/+/g,"/"):s.startsWith("/")?s:`/${s}`,te={colors:{primary:{500:"#0ea5e9",600:"#0284c7",700:"#0369a1"},secondary:{500:"#22c55e",700:"#15803d"},accent:{400:"#c084fc",500:"#a855f7",700:"#7c3aed"},pain:{none:"#10b981",mild:"#84cc16",moderate:"#eab308",severe:"#f59e0b",extreme:"#ef4444"},status:{success:"#22c55e",warning:"#f59e0b",error:"#ef4444",info:"#3b82f6"},neutral:{0:"#ffffff",500:"#64748b",600:"#475569"}},typography:{fonts:{sans:["Inter","-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","sans-serif"],mono:["Fira Code","Monaco","Consolas","Liberation Mono","Courier New","monospace"],display:["Cal Sans","Inter","system-ui","sans-serif"]}},logos:{primary:Ms("logos/pain-tracker-logo.svg"),wordmark:Ms("logos/pain-tracker-wordmark.svg"),icon:Ms("logos/pain-tracker-icon.svg"),iconWhite:Ms("logos/pain-tracker-icon-white.svg"),appIcon:Ms("icons/app-icon-512.png"),favicon:Ms("icons/favicon.ico")},visual:{borderRadius:{md:"0.5rem"},shadows:{sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)"}},motion:{duration:{fast:"150ms",normal:"300ms",slow:"500ms"},easing:{ease:"cubic-bezier(0.4, 0, 0.2, 1)"}}},ai={":root":{"--color-primary":te.colors.primary[500],"--color-primary-foreground":te.colors.neutral[0],"--color-secondary":te.colors.secondary[500],"--color-secondary-foreground":te.colors.neutral[0],"--color-accent":te.colors.accent[500],"--color-accent-foreground":te.colors.neutral[0],"--color-pain-none":te.colors.pain.none,"--color-pain-mild":te.colors.pain.mild,"--color-pain-moderate":te.colors.pain.moderate,"--color-pain-severe":te.colors.pain.severe,"--color-pain-extreme":te.colors.pain.extreme,"--font-sans":te.typography.fonts.sans.join(", "),"--font-mono":te.typography.fonts.mono.join(", "),"--font-display":te.typography.fonts.display.join(", "),"--radius":te.visual.borderRadius.md,"--shadow-sm":te.visual.shadows.sm,"--shadow-md":te.visual.shadows.md,"--shadow-lg":te.visual.shadows.lg,"--duration-fast":te.motion.duration.fast,"--duration-normal":te.motion.duration.normal,"--duration-slow":te.motion.duration.slow,"--easing":te.motion.easing.ease}},Cu=V.createContext(void 0),tp=()=>{const s=V.useContext(Cu);if(s===void 0)throw new Error("useTheme must be used within a ThemeProvider");return s},sp=({children:s,defaultMode:e="light"})=>{const[t,n]=V.useState(()=>{if(typeof window<"u")try{const m=Ve.get("pain-tracker-theme");if(m==="light"||m==="dark"||m==="high-contrast")return m;if(window.matchMedia&&window.matchMedia("(prefers-contrast: high)").matches)return"high-contrast";if(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches)return"dark"}catch(m){console.warn("Failed to access localStorage for theme preference:",m)}return e}),[i,r]=V.useState(()=>typeof window<"u"?window.matchMedia("(prefers-reduced-motion: reduce)").matches:!1),a=Po(t),o=V.useCallback(m=>{const f=Po(m),h=document.documentElement;Object.entries(f).forEach(([g,y])=>{h.style.setProperty(`--color-${g}`,y)});const p=g=>{if(!g)return"0 0 0";const y=g.replace("#","").trim();if(y.length!==6)return"0 0 0";const k=parseInt(y.substring(0,2),16),D=parseInt(y.substring(2,4),16),j=parseInt(y.substring(4,6),16);return`${k} ${D} ${j}`};h.style.setProperty("--chart-series-1",p(f.primary??te.colors.primary[500])),h.style.setProperty("--chart-series-2",p(f.secondary??te.colors.secondary[500])),h.style.setProperty("--chart-series-3",p(f.accent??te.colors.accent[500])),h.style.setProperty("--chart-series-4",p(f.warning??te.colors.status.warning)),h.style.setProperty("--chart-series-5",p(f.info??te.colors.status.info)),h.style.setProperty("--chart-series-6",p(f.destructive??te.colors.status.error)),h.style.setProperty("--color-pain-none",p(f.success??te.colors.pain.none)),h.style.setProperty("--color-pain-mild",p(f.success??te.colors.pain.mild)),h.style.setProperty("--color-pain-moderate",p(f.warning??te.colors.pain.moderate)),h.style.setProperty("--color-pain-severe",p(f.warning??te.colors.pain.severe)),h.style.setProperty("--color-pain-extreme",p(f.destructive??te.colors.pain.extreme)),h.setAttribute("data-theme",m)},[]),c=V.useCallback(m=>{n(m);try{Ve.set("pain-tracker-theme",m)}catch(f){console.warn("Failed to save theme preference to localStorage:",f)}o(m)},[o]),l=V.useCallback(()=>{c(t==="light"?"dark":t==="dark"?"high-contrast":"light")},[t,c]);V.useEffect(()=>{const m=[{query:"(prefers-color-scheme: dark)",handler:h=>{try{!Ve.get("pain-tracker-theme")&&t!=="high-contrast"&&c(h.matches?"dark":"light")}catch(p){console.warn("Failed to access localStorage for system theme detection:",p)}}},{query:"(prefers-contrast: high)",handler:h=>{try{!Ve.get("pain-tracker-theme")&&h.matches&&c("high-contrast")}catch(p){console.warn("Failed to handle high contrast preference:",p)}}},{query:"(prefers-reduced-motion: reduce)",handler:h=>{r(h.matches)}}],f=[];return m.forEach(({query:h,handler:p})=>{const g=window.matchMedia(h);g.addEventListener?(g.addEventListener("change",p),f.push(()=>g.removeEventListener("change",p))):(g.addListener(p),f.push(()=>g.removeListener(p)))}),()=>{f.forEach(h=>h())}},[t,c]),V.useEffect(()=>{o(t)},[t,o]);const u={mode:t,toggleMode:l,colors:a,setMode:c,isHighContrast:t==="high-contrast",hasReducedMotion:i};return d.jsxDEV(Cu.Provider,{value:u,children:s},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/ThemeProvider.tsx",lineNumber:197,columnNumber:5},void 0)},So=s=>typeof s=="boolean"?`${s}`:s===0?"0":s,jo=iu,Xi=(s,e)=>t=>{var n;if(e?.variants==null)return jo(s,t?.class,t?.className);const{variants:i,defaultVariants:r}=e,a=Object.keys(i).map(l=>{const u=t?.[l],m=r?.[l];if(u===null)return null;const f=So(u)||So(m);return i[l][f]}),o=t&&Object.entries(t).reduce((l,u)=>{let[m,f]=u;return f===void 0||(l[m]=f),l},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((l,u)=>{let{class:m,className:f,...h}=u;return Object.entries(h).every(p=>{let[g,y]=p;return Array.isArray(y)?y.includes({...r,...o}[g]):{...r,...o}[g]===y})?[...l,m,f]:l},[]);return jo(s,a,c,t?.class,t?.className)},np=Xi("inline-flex items-center justify-center rounded-lg text-sm font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background active:scale-[0.98] select-none touch-manipulation",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-sm hover:shadow-md active:bg-primary/80",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-sm hover:shadow-md active:bg-destructive/80",outline:"border border-input hover:bg-accent hover:text-accent-foreground shadow-sm hover:shadow-md active:bg-accent/80",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 shadow-sm hover:shadow-md active:bg-secondary/70",ghost:"hover:bg-accent hover:text-accent-foreground active:bg-accent/50",link:"underline-offset-4 hover:underline text-primary shadow-none hover:shadow-none active:text-primary/80",success:"bg-success text-success-foreground hover:bg-success/90 shadow-sm hover:shadow-md active:bg-success/80",warning:"bg-warning text-warning-foreground hover:bg-warning/90 shadow-sm hover:shadow-md active:bg-warning/80",gradient:"bg-gradient-to-r from-primary to-accent text-primary-foreground hover:from-primary/90 hover:to-accent/90 shadow-lg hover:shadow-xl active:from-primary/80 active:to-accent/80"},size:{xs:"h-8 px-2 text-xs rounded-md min-h-[32px] min-w-[32px]",sm:"h-9 px-3 text-xs rounded-md min-h-[36px] min-w-[36px]",default:"h-12 py-2 px-4 min-h-[44px] min-w-[44px]",lg:"h-12 px-6 text-base rounded-lg min-h-[48px] min-w-[48px]",xl:"h-16 px-8 text-lg rounded-xl min-h-[56px] min-w-[56px]",icon:"h-12 w-12 min-h-[44px] min-w-[44px]","icon-sm":"h-9 w-9 min-h-[36px] min-w-[36px]","icon-lg":"h-14 w-14 min-h-[48px] min-w-[48px]"},shape:{default:"",square:"rounded-none",pill:"rounded-full",circle:"rounded-full"}},defaultVariants:{variant:"default",size:"default",shape:"default"}}),yt=ge.forwardRef(({className:s,variant:e,size:t,shape:n,type:i="button",loading:r=!1,leftIcon:a,rightIcon:o,fullWidth:c=!1,hapticFeedback:l=!0,longPress:u=!1,onLongPress:m,longPressDelay:f=500,ripple:h=!0,disabled:p,onClick:g,onTouchStart:y,onTouchEnd:k,onMouseDown:D,onMouseUp:j,children:S,...v},N)=>{const C=p||r,w=ge.useRef(),[T,_]=ge.useState(!1),[L,O]=ge.useState(!1),[M,H]=ge.useState([]),ne=ge.useCallback(()=>{l&&"vibrate"in navigator&&navigator.vibrate(50)},[l]),q=ge.useCallback(R=>{C||(_(!0),y?.(R),u&&m&&(w.current=setTimeout(()=>{O(!0),ne(),m()},f)))},[C,u,m,f,y,ne]),se=ge.useCallback(R=>{_(!1),O(!1),k?.(R),w.current&&clearTimeout(w.current)},[k]),z=ge.useCallback(R=>{C||(_(!0),D?.(R),u&&m&&(w.current=setTimeout(()=>{O(!0),m()},f)))},[C,u,m,f,D]),ke=ge.useCallback(R=>{_(!1),O(!1),j?.(R),w.current&&clearTimeout(w.current)},[j]),I=ge.useCallback(R=>{if(!(C||L)){if(h){const X=R.currentTarget.getBoundingClientRect(),G=R.clientX-X.left,Y=R.clientY-X.top,oe=Date.now();H(re=>[...re,{x:G,y:Y,id:oe}]),setTimeout(()=>{H(re=>re.filter($=>$.id!==oe))},600)}ne(),g?.(R)}},[C,L,h,ne,g]);return ge.useEffect(()=>()=>{w.current&&clearTimeout(w.current)},[]),d.jsxDEV("button",{className:J(np({variant:e,size:t,shape:n,className:s}),c&&"w-full",r&&"cursor-wait",T&&"scale-95",L&&"ring-2 ring-primary ring-opacity-50",h&&"relative overflow-hidden","touch-manipulation select-none"),ref:N,type:i,disabled:C,"aria-disabled":C,"aria-pressed":T,onClick:I,onTouchStart:q,onTouchEnd:se,onMouseDown:z,onMouseUp:ke,...v,children:[h&&M.map(R=>d.jsxDEV("span",{className:"absolute bg-white/30 rounded-full pointer-events-none animate-ripple",style:{left:R.x,top:R.y,width:"20px",height:"20px",transform:"translate(-50%, -50%)"}},R.id,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Button.tsx",lineNumber:211,columnNumber:11},void 0)),r&&d.jsxDEV(du,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":"true"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Button.tsx",lineNumber:225,columnNumber:11},void 0),!r&&a&&d.jsxDEV("span",{className:"mr-2 flex-shrink-0","aria-hidden":"true",children:a},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Button.tsx",lineNumber:228,columnNumber:11},void 0),d.jsxDEV("span",{className:J("flex items-center justify-center",r&&"opacity-70"),children:S},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Button.tsx",lineNumber:232,columnNumber:9},void 0),!r&&o&&d.jsxDEV("span",{className:"ml-2 flex-shrink-0","aria-hidden":"true",children:o},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Button.tsx",lineNumber:239,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Button.tsx",lineNumber:187,columnNumber:7},void 0)});yt.displayName="Button";const ip=Xi("rounded-lg border bg-card text-card-foreground shadow-md transition-all duration-200",{variants:{variant:{default:"border-border",elevated:"shadow-2xl hover:shadow-2xl/80",outlined:"border-2 shadow-none",filled:"bg-muted/50 border-muted",ghost:"border-transparent shadow-none bg-transparent",gradient:"bg-gradient-to-br from-card to-muted/50 border-muted/50",accented:"border-2 border-primary/40 shadow-2xl hover:shadow-2xl/80"},padding:{none:"p-0",sm:"p-3",default:"p-6",lg:"p-8",xl:"p-10"},hover:{none:"",lift:"hover:-translate-y-1.5 hover:shadow-2xl/70",glow:"hover:shadow-2xl hover:shadow-primary/15",scale:"hover:scale-[1.02] hover:shadow-lg"}},defaultVariants:{variant:"default",padding:"default",hover:"none"}}),Qs=ge.forwardRef(({className:s,variant:e,padding:t,hover:n,...i},r)=>d.jsxDEV("div",{ref:r,className:J(ip({variant:e,padding:t,hover:n,className:s})),...i,children:["severity"in i&&i.severity?d.jsxDEV("div",{"aria-hidden":!0,className:J("absolute -top-2 -left-2 h-2 w-12 rounded-b-md"),style:{backgroundColor:i.severity==="low"?"rgb(var(--color-pain-none))":i.severity==="medium"?"rgb(var(--color-pain-mild))":i.severity==="high"?"rgb(var(--color-pain-severe))":"rgb(var(--color-pain-extreme))"}},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Card.tsx",lineNumber:59,columnNumber:9},void 0):null,i.children]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Card.tsx",lineNumber:56,columnNumber:5},void 0));Qs.displayName="Card";const rp=ge.forwardRef(({className:s,...e},t)=>d.jsxDEV("div",{ref:t,className:J("flex items-center justify-between space-x-3 pb-4",s),...e},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Card.tsx",lineNumber:82,columnNumber:5},void 0));rp.displayName="CardHeader";const ap=ge.forwardRef(({className:s,...e},t)=>d.jsxDEV("h2",{ref:t,className:J("text-2xl font-semibold leading-none tracking-tight",s),...e},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Card.tsx",lineNumber:93,columnNumber:5},void 0));ap.displayName="CardTitle";const op=ge.forwardRef(({className:s,...e},t)=>d.jsxDEV("p",{ref:t,className:J("text-sm text-muted-foreground",s),...e},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Card.tsx",lineNumber:104,columnNumber:5},void 0));op.displayName="CardDescription";const Ji=ge.forwardRef(({className:s,...e},t)=>d.jsxDEV("div",{ref:t,className:J("pt-0",s),...e},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Card.tsx",lineNumber:115,columnNumber:5},void 0));Ji.displayName="CardContent";const cp=ge.forwardRef(({className:s,...e},t)=>d.jsxDEV("div",{ref:t,className:J("flex items-center pt-4",s),...e},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Card.tsx",lineNumber:122,columnNumber:5},void 0));cp.displayName="CardFooter";const lp=ge.forwardRef(({className:s,...e},t)=>d.jsxDEV(Qs,{ref:t,className:J("cursor-pointer hover:shadow-md transition-shadow",s),...e},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Card.tsx",lineNumber:134,columnNumber:5},void 0));lp.displayName="CardAction";const up=ge.forwardRef(({className:s,children:e,...t},n)=>d.jsxDEV(Qs,{ref:n,variant:"elevated",className:J("text-center",s),...t,children:e},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Card.tsx",lineNumber:145,columnNumber:5},void 0));up.displayName="CardStats";const dp=ge.forwardRef(({className:s,type:e,label:t,error:n,helperText:i,startIcon:r,endIcon:a,fullWidth:o=!1,variant:c="default",mobileOptimized:l=!0,inputMode:u,autoComplete:m,autoCapitalize:f,autoCorrect:h,spellCheck:p,id:g,required:y,disabled:k,...D},j)=>{const[S,v]=ge.useState(!1),[N]=ge.useState(g||`input-${Math.random().toString(36).substr(2,9)}`),[C,w]=ge.useState(e);ge.useEffect(()=>{w(e==="password"&&S?"text":e)},[e,S]);const T=()=>{v(!S)},L=(()=>{if(!l)return{};const M={style:{fontSize:"16px"},"data-mobile-optimized":"true"};return u?M.inputMode=u:e==="number"?M.inputMode="decimal":e==="email"?M.inputMode="email":e==="tel"?M.inputMode="tel":e==="url"&&(M.inputMode="url"),m&&(M.autoComplete=m),f&&(M.autoCapitalize=f),h!==void 0&&(M.autoCorrect=h),p!==void 0&&(M.spellCheck=p),M})(),O=J("flex h-12 w-full rounded-md border border-gray-300 bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-offset-1 focus-visible:ring-blue-500 disabled:cursor-not-allowed disabled:opacity-50 transition-colors duration-200",c==="filled"&&"bg-muted/50 border-muted",c==="outlined"&&"border-2",n&&"border-red-500 focus:ring-red-500 focus-visible:ring-red-500",r&&"pl-12",(a||e==="password")&&"pr-12",o&&"w-full",l&&"mobile-keyboard-optimized touch-manipulation");return d.jsxDEV("div",{className:J("space-y-2",o&&"w-full",l&&"mobile-form-spacing"),children:[t&&d.jsxDEV("label",{htmlFor:N,className:J("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",n&&"text-destructive"),children:[t,y&&d.jsxDEV("span",{className:"text-destructive ml-1","aria-label":"required",children:"*"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Input.tsx",lineNumber:131,columnNumber:26},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Input.tsx",lineNumber:123,columnNumber:11},void 0),d.jsxDEV("div",{className:"relative",children:[r&&d.jsxDEV("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-muted-foreground z-10",children:r},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Input.tsx",lineNumber:137,columnNumber:13},void 0),d.jsxDEV("input",{id:N,type:C,className:J(O,s),ref:j,disabled:k,"aria-invalid":n?"true":"false","aria-describedby":n?`${N}-error`:i?`${N}-helper`:void 0,...L,...D},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Input.tsx",lineNumber:142,columnNumber:11},void 0),e==="password"&&d.jsxDEV("button",{type:"button",onClick:T,className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors z-10 min-h-[44px] min-w-[44px] flex items-center justify-center","aria-label":S?"Hide password":"Show password",tabIndex:-1,children:S?d.jsxDEV(Vf,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Input.tsx",lineNumber:167,columnNumber:17},void 0):d.jsxDEV(Lf,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Input.tsx",lineNumber:169,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Input.tsx",lineNumber:159,columnNumber:13},void 0),a&&e!=="password"&&d.jsxDEV("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground z-10",children:a},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Input.tsx",lineNumber:175,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Input.tsx",lineNumber:135,columnNumber:9},void 0),n&&d.jsxDEV("p",{id:`${N}-error`,className:"text-sm text-destructive",role:"alert","aria-live":"polite",children:n},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Input.tsx",lineNumber:182,columnNumber:11},void 0),i&&!n&&d.jsxDEV("p",{id:`${N}-helper`,className:"text-sm text-muted-foreground",children:i},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Input.tsx",lineNumber:193,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Input.tsx",lineNumber:121,columnNumber:7},void 0)});dp.displayName="Input";const mp=Xi("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-success text-success-foreground hover:bg-success/80",warning:"border-transparent bg-warning text-warning-foreground hover:bg-warning/80",info:"border-transparent bg-info text-info-foreground hover:bg-info/80"},size:{sm:"px-2 py-0.5 text-xs",default:"px-2.5 py-0.5 text-xs",lg:"px-3 py-1 text-sm"}},defaultVariants:{variant:"default",size:"default"}}),Pt=ge.forwardRef(({className:s,variant:e,size:t,removable:n=!1,onRemove:i,children:r,...a},o)=>d.jsxDEV("div",{ref:o,className:J(mp({variant:e,size:t}),s),...a,children:d.jsxDEV("span",{className:"flex items-center",children:[r,n&&i&&d.jsxDEV("button",{onClick:i,className:"ml-1 rounded-full hover:bg-black/10 p-0.5 -mr-1","aria-label":"Remove",children:d.jsxDEV(vs,{className:"h-3 w-3"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Badge.tsx",lineNumber:60,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Badge.tsx",lineNumber:55,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Badge.tsx",lineNumber:52,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Badge.tsx",lineNumber:47,columnNumber:7},void 0));Pt.displayName="Badge";const fp=Xi("animate-spin",{variants:{size:{xs:"h-3 w-3",sm:"h-4 w-4",default:"h-6 w-6",lg:"h-8 w-8",xl:"h-12 w-12"},variant:{default:"text-muted-foreground",primary:"text-primary",secondary:"text-secondary",destructive:"text-destructive",success:"text-success",warning:"text-warning"}},defaultVariants:{size:"default",variant:"default"}}),hp=ge.forwardRef(({className:s,size:e,variant:t,text:n,fullScreen:i=!1,overlay:r=!1,...a},o)=>{const c=d.jsxDEV("div",{ref:o,className:J("flex flex-col items-center justify-center gap-2",i&&"fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",r&&"absolute inset-0 z-10 bg-background/50 backdrop-blur-sm rounded-lg",s),...a,children:[d.jsxDEV(du,{className:J(fp({size:e,variant:t}))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Loading.tsx",lineNumber:67,columnNumber:9},void 0),n&&d.jsxDEV("p",{className:"text-sm text-muted-foreground animate-pulse",children:n},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Loading.tsx",lineNumber:69,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Loading.tsx",lineNumber:57,columnNumber:7},void 0);return i||r?c:d.jsxDEV("div",{className:"flex items-center justify-center p-4",children:c},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Loading.tsx",lineNumber:81,columnNumber:7},void 0)});hp.displayName="Loading";const pp=ge.forwardRef(({className:s,...e},t)=>d.jsxDEV("div",{ref:t,className:J("flex space-x-1",s),...e,children:[d.jsxDEV("div",{className:"w-2 h-2 bg-current rounded-full animate-bounce [animation-delay:-0.3s]"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Loading.tsx",lineNumber:96,columnNumber:7},void 0),d.jsxDEV("div",{className:"w-2 h-2 bg-current rounded-full animate-bounce [animation-delay:-0.15s]"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Loading.tsx",lineNumber:97,columnNumber:7},void 0),d.jsxDEV("div",{className:"w-2 h-2 bg-current rounded-full animate-bounce"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Loading.tsx",lineNumber:98,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Loading.tsx",lineNumber:91,columnNumber:5},void 0));pp.displayName="LoadingDots";const gp=ge.forwardRef(({className:s,lines:e=1,height:t="h-4",...n},i)=>d.jsxDEV("div",{ref:i,className:J("space-y-2",s),...n,children:Array.from({length:e}).map((r,a)=>d.jsxDEV("div",{className:J("bg-muted animate-pulse rounded",t,a===e-1&&e>1?"w-3/4":"w-full")},a,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Loading.tsx",lineNumber:111,columnNumber:9},void 0))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Loading.tsx",lineNumber:109,columnNumber:5},void 0));gp.displayName="LoadingSkeleton";V.createContext(void 0);function Un(s){return s+.5|0}const Gt=(s,e,t)=>Math.max(Math.min(s,t),e);function gn(s){return Gt(Un(s*2.55),0,255)}function Jt(s){return Gt(Un(s*255),0,255)}function Ut(s){return Gt(Un(s/2.55)/100,0,1)}function _o(s){return Gt(Un(s*100),0,100)}const mt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},pa=[..."0123456789ABCDEF"],bp=s=>pa[s&15],yp=s=>pa[(s&240)>>4]+pa[s&15],oi=s=>(s&240)>>4===(s&15),xp=s=>oi(s.r)&&oi(s.g)&&oi(s.b)&&oi(s.a);function vp(s){var e=s.length,t;return s[0]==="#"&&(e===4||e===5?t={r:255&mt[s[1]]*17,g:255&mt[s[2]]*17,b:255&mt[s[3]]*17,a:e===5?mt[s[4]]*17:255}:(e===7||e===9)&&(t={r:mt[s[1]]<<4|mt[s[2]],g:mt[s[3]]<<4|mt[s[4]],b:mt[s[5]]<<4|mt[s[6]],a:e===9?mt[s[7]]<<4|mt[s[8]]:255})),t}const kp=(s,e)=>s<255?e(s):"";function Np(s){var e=xp(s)?bp:yp;return s?"#"+e(s.r)+e(s.g)+e(s.b)+kp(s.a,e):void 0}const wp=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Eu(s,e,t){const n=e*Math.min(t,1-t),i=(r,a=(r+s/30)%12)=>t-n*Math.max(Math.min(a-3,9-a,1),-1);return[i(0),i(8),i(4)]}function Dp(s,e,t){const n=(i,r=(i+s/60)%6)=>t-t*e*Math.max(Math.min(r,4-r,1),0);return[n(5),n(3),n(1)]}function Cp(s,e,t){const n=Eu(s,1,.5);let i;for(e+t>1&&(i=1/(e+t),e*=i,t*=i),i=0;i<3;i++)n[i]*=1-e-t,n[i]+=e;return n}function Ep(s,e,t,n,i){return s===i?(e-t)/n+(e<t?6:0):e===i?(t-s)/n+2:(s-e)/n+4}function Ba(s){const t=s.r/255,n=s.g/255,i=s.b/255,r=Math.max(t,n,i),a=Math.min(t,n,i),o=(r+a)/2;let c,l,u;return r!==a&&(u=r-a,l=o>.5?u/(2-r-a):u/(r+a),c=Ep(t,n,i,u,r),c=c*60+.5),[c|0,l||0,o]}function Wa(s,e,t,n){return(Array.isArray(e)?s(e[0],e[1],e[2]):s(e,t,n)).map(Jt)}function $a(s,e,t){return Wa(Eu,s,e,t)}function Pp(s,e,t){return Wa(Cp,s,e,t)}function Sp(s,e,t){return Wa(Dp,s,e,t)}function Pu(s){return(s%360+360)%360}function jp(s){const e=wp.exec(s);let t=255,n;if(!e)return;e[5]!==n&&(t=e[6]?gn(+e[5]):Jt(+e[5]));const i=Pu(+e[2]),r=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?n=Pp(i,r,a):e[1]==="hsv"?n=Sp(i,r,a):n=$a(i,r,a),{r:n[0],g:n[1],b:n[2],a:t}}function _p(s,e){var t=Ba(s);t[0]=Pu(t[0]+e),t=$a(t),s.r=t[0],s.g=t[1],s.b=t[2]}function Tp(s){if(!s)return;const e=Ba(s),t=e[0],n=_o(e[1]),i=_o(e[2]);return s.a<255?`hsla(${t}, ${n}%, ${i}%, ${Ut(s.a)})`:`hsl(${t}, ${n}%, ${i}%)`}const To={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Ao={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Ap(){const s={},e=Object.keys(Ao),t=Object.keys(To);let n,i,r,a,o;for(n=0;n<e.length;n++){for(a=o=e[n],i=0;i<t.length;i++)r=t[i],o=o.replace(r,To[r]);r=parseInt(Ao[a],16),s[o]=[r>>16&255,r>>8&255,r&255]}return s}let ci;function Vp(s){ci||(ci=Ap(),ci.transparent=[0,0,0,0]);const e=ci[s.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Mp=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Lp(s){const e=Mp.exec(s);let t=255,n,i,r;if(e){if(e[7]!==n){const a=+e[7];t=e[8]?gn(a):Gt(a*255,0,255)}return n=+e[1],i=+e[3],r=+e[5],n=255&(e[2]?gn(n):Gt(n,0,255)),i=255&(e[4]?gn(i):Gt(i,0,255)),r=255&(e[6]?gn(r):Gt(r,0,255)),{r:n,g:i,b:r,a:t}}}function Op(s){return s&&(s.a<255?`rgba(${s.r}, ${s.g}, ${s.b}, ${Ut(s.a)})`:`rgb(${s.r}, ${s.g}, ${s.b})`)}const Ar=s=>s<=.0031308?s*12.92:Math.pow(s,1/2.4)*1.055-.055,Ls=s=>s<=.04045?s/12.92:Math.pow((s+.055)/1.055,2.4);function Ip(s,e,t){const n=Ls(Ut(s.r)),i=Ls(Ut(s.g)),r=Ls(Ut(s.b));return{r:Jt(Ar(n+t*(Ls(Ut(e.r))-n))),g:Jt(Ar(i+t*(Ls(Ut(e.g))-i))),b:Jt(Ar(r+t*(Ls(Ut(e.b))-r))),a:s.a+t*(e.a-s.a)}}function li(s,e,t){if(s){let n=Ba(s);n[e]=Math.max(0,Math.min(n[e]+n[e]*t,e===0?360:1)),n=$a(n),s.r=n[0],s.g=n[1],s.b=n[2]}}function Su(s,e){return s&&Object.assign(e||{},s)}function Vo(s){var e={r:0,g:0,b:0,a:255};return Array.isArray(s)?s.length>=3&&(e={r:s[0],g:s[1],b:s[2],a:255},s.length>3&&(e.a=Jt(s[3]))):(e=Su(s,{r:0,g:0,b:0,a:1}),e.a=Jt(e.a)),e}function Rp(s){return s.charAt(0)==="r"?Lp(s):jp(s)}class jn{constructor(e){if(e instanceof jn)return e;const t=typeof e;let n;t==="object"?n=Vo(e):t==="string"&&(n=vp(e)||Vp(e)||Rp(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=Su(this._rgb);return e&&(e.a=Ut(e.a)),e}set rgb(e){this._rgb=Vo(e)}rgbString(){return this._valid?Op(this._rgb):void 0}hexString(){return this._valid?Np(this._rgb):void 0}hslString(){return this._valid?Tp(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,i=e.rgb;let r;const a=t===r?.5:t,o=2*a-1,c=n.a-i.a,l=((o*c===-1?o:(o+c)/(1+o*c))+1)/2;r=1-l,n.r=255&l*n.r+r*i.r+.5,n.g=255&l*n.g+r*i.g+.5,n.b=255&l*n.b+r*i.b+.5,n.a=a*n.a+(1-a)*i.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=Ip(this._rgb,e._rgb,t)),this}clone(){return new jn(this.rgb)}alpha(e){return this._rgb.a=Jt(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=Un(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return li(this._rgb,2,e),this}darken(e){return li(this._rgb,2,-e),this}saturate(e){return li(this._rgb,1,e),this}desaturate(e){return li(this._rgb,1,-e),this}rotate(e){return _p(this._rgb,e),this}}function Mt(){}const Up=(()=>{let s=0;return()=>s++})();function ve(s){return s==null}function Me(s){if(Array.isArray&&Array.isArray(s))return!0;const e=Object.prototype.toString.call(s);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Ne(s){return s!==null&&Object.prototype.toString.call(s)==="[object Object]"}function Ie(s){return(typeof s=="number"||s instanceof Number)&&isFinite(+s)}function ut(s,e){return Ie(s)?s:e}function de(s,e){return typeof s>"u"?e:s}const Fp=(s,e)=>typeof s=="string"&&s.endsWith("%")?parseFloat(s)/100:+s/e,ju=(s,e)=>typeof s=="string"&&s.endsWith("%")?parseFloat(s)/100*e:+s;function ue(s,e,t){if(s&&typeof s.call=="function")return s.apply(t,e)}function xe(s,e,t,n){let i,r,a;if(Me(s))for(r=s.length,i=0;i<r;i++)e.call(t,s[i],i);else if(Ne(s))for(a=Object.keys(s),r=a.length,i=0;i<r;i++)e.call(t,s[a[i]],a[i])}function Oi(s,e){let t,n,i,r;if(!s||!e||s.length!==e.length)return!1;for(t=0,n=s.length;t<n;++t)if(i=s[t],r=e[t],i.datasetIndex!==r.datasetIndex||i.index!==r.index)return!1;return!0}function Ii(s){if(Me(s))return s.map(Ii);if(Ne(s)){const e=Object.create(null),t=Object.keys(s),n=t.length;let i=0;for(;i<n;++i)e[t[i]]=Ii(s[t[i]]);return e}return s}function _u(s){return["__proto__","prototype","constructor"].indexOf(s)===-1}function zp(s,e,t,n){if(!_u(s))return;const i=e[s],r=t[s];Ne(i)&&Ne(r)?_n(i,r,n):e[s]=Ii(r)}function _n(s,e,t){const n=Me(e)?e:[e],i=n.length;if(!Ne(s))return s;t=t||{};const r=t.merger||zp;let a;for(let o=0;o<i;++o){if(a=n[o],!Ne(a))continue;const c=Object.keys(a);for(let l=0,u=c.length;l<u;++l)r(c[l],s,a,t)}return s}function Nn(s,e){return _n(s,e,{merger:Bp})}function Bp(s,e,t){if(!_u(s))return;const n=e[s],i=t[s];Ne(n)&&Ne(i)?Nn(n,i):Object.prototype.hasOwnProperty.call(e,s)||(e[s]=Ii(i))}const Mo={"":s=>s,x:s=>s.x,y:s=>s.y};function Wp(s){const e=s.split("."),t=[];let n="";for(const i of e)n+=i,n.endsWith("\\")?n=n.slice(0,-1)+".":(t.push(n),n="");return t}function $p(s){const e=Wp(s);return t=>{for(const n of e){if(n==="")break;t=t&&t[n]}return t}}function Zt(s,e){return(Mo[e]||(Mo[e]=$p(e)))(s)}function Ha(s){return s.charAt(0).toUpperCase()+s.slice(1)}const Tn=s=>typeof s<"u",es=s=>typeof s=="function",Lo=(s,e)=>{if(s.size!==e.size)return!1;for(const t of s)if(!e.has(t))return!1;return!0};function Hp(s){return s.type==="mouseup"||s.type==="click"||s.type==="contextmenu"}const De=Math.PI,Te=2*De,Yp=Te+De,Ri=Number.POSITIVE_INFINITY,qp=De/180,Re=De/2,os=De/4,Oo=De*2/3,Qt=Math.log10,ft=Math.sign;function bs(s,e,t){return Math.abs(s-e)<t}function Io(s){const e=Math.round(s);s=bs(s,e,s/1e3)?e:s;const t=Math.pow(10,Math.floor(Qt(s))),n=s/t;return(n<=1?1:n<=2?2:n<=5?5:10)*t}function Kp(s){const e=[],t=Math.sqrt(s);let n;for(n=1;n<t;n++)s%n===0&&(e.push(n),e.push(s/n));return t===(t|0)&&e.push(t),e.sort((i,r)=>i-r).pop(),e}function Gp(s){return typeof s=="symbol"||typeof s=="object"&&s!==null&&!(Symbol.toPrimitive in s||"toString"in s||"valueOf"in s)}function Hs(s){return!Gp(s)&&!isNaN(parseFloat(s))&&isFinite(s)}function Qp(s,e){const t=Math.round(s);return t-e<=s&&t+e>=s}function Tu(s,e,t){let n,i,r;for(n=0,i=s.length;n<i;n++)r=s[n][t],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function bt(s){return s*(De/180)}function Ya(s){return s*(180/De)}function Ro(s){if(!Ie(s))return;let e=1,t=0;for(;Math.round(s*e)/e!==s;)e*=10,t++;return t}function Au(s,e){const t=e.x-s.x,n=e.y-s.y,i=Math.sqrt(t*t+n*n);let r=Math.atan2(n,t);return r<-.5*De&&(r+=Te),{angle:r,distance:i}}function ga(s,e){return Math.sqrt(Math.pow(e.x-s.x,2)+Math.pow(e.y-s.y,2))}function Xp(s,e){return(s-e+Yp)%Te-De}function Qe(s){return(s%Te+Te)%Te}function An(s,e,t,n){const i=Qe(s),r=Qe(e),a=Qe(t),o=Qe(r-i),c=Qe(a-i),l=Qe(i-r),u=Qe(i-a);return i===r||i===a||n&&r===a||o>c&&l<u}function He(s,e,t){return Math.max(e,Math.min(t,s))}function Jp(s){return He(s,-32768,32767)}function Ft(s,e,t,n=1e-6){return s>=Math.min(e,t)-n&&s<=Math.max(e,t)+n}function qa(s,e,t){t=t||(a=>s[a]<e);let n=s.length-1,i=0,r;for(;n-i>1;)r=i+n>>1,t(r)?i=r:n=r;return{lo:i,hi:n}}const zt=(s,e,t,n)=>qa(s,t,n?i=>{const r=s[i][e];return r<t||r===t&&s[i+1][e]===t}:i=>s[i][e]<t),Zp=(s,e,t)=>qa(s,t,n=>s[n][e]>=t);function eg(s,e,t){let n=0,i=s.length;for(;n<i&&s[n]<e;)n++;for(;i>n&&s[i-1]>t;)i--;return n>0||i<s.length?s.slice(n,i):s}const Vu=["push","pop","shift","splice","unshift"];function tg(s,e){if(s._chartjs){s._chartjs.listeners.push(e);return}Object.defineProperty(s,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Vu.forEach(t=>{const n="_onData"+Ha(t),i=s[t];Object.defineProperty(s,t,{configurable:!0,enumerable:!1,value(...r){const a=i.apply(this,r);return s._chartjs.listeners.forEach(o=>{typeof o[n]=="function"&&o[n](...r)}),a}})})}function Uo(s,e){const t=s._chartjs;if(!t)return;const n=t.listeners,i=n.indexOf(e);i!==-1&&n.splice(i,1),!(n.length>0)&&(Vu.forEach(r=>{delete s[r]}),delete s._chartjs)}function Mu(s){const e=new Set(s);return e.size===s.length?s:Array.from(e)}const Lu=(function(){return typeof window>"u"?function(s){return s()}:window.requestAnimationFrame})();function Ou(s,e){let t=[],n=!1;return function(...i){t=i,n||(n=!0,Lu.call(window,()=>{n=!1,s.apply(e,t)}))}}function sg(s,e){let t;return function(...n){return e?(clearTimeout(t),t=setTimeout(s,e,n)):s.apply(this,n),e}}const Ka=s=>s==="start"?"left":s==="end"?"right":"center",Ge=(s,e,t)=>s==="start"?e:s==="end"?t:(e+t)/2,ng=(s,e,t,n)=>s===(n?"left":"right")?t:s==="center"?(e+t)/2:e;function Iu(s,e,t){const n=e.length;let i=0,r=n;if(s._sorted){const{iScale:a,vScale:o,_parsed:c}=s,l=s.dataset&&s.dataset.options?s.dataset.options.spanGaps:null,u=a.axis,{min:m,max:f,minDefined:h,maxDefined:p}=a.getUserBounds();if(h){if(i=Math.min(zt(c,u,m).lo,t?n:zt(e,u,a.getPixelForValue(m)).lo),l){const g=c.slice(0,i+1).reverse().findIndex(y=>!ve(y[o.axis]));i-=Math.max(0,g)}i=He(i,0,n-1)}if(p){let g=Math.max(zt(c,a.axis,f,!0).hi+1,t?0:zt(e,u,a.getPixelForValue(f),!0).hi+1);if(l){const y=c.slice(g-1).findIndex(k=>!ve(k[o.axis]));g+=Math.max(0,y)}r=He(g,i,n)-i}else r=n-i}return{start:i,count:r}}function Ru(s){const{xScale:e,yScale:t,_scaleRanges:n}=s,i={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!n)return s._scaleRanges=i,!0;const r=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==t.min||n.ymax!==t.max;return Object.assign(n,i),r}const ui=s=>s===0||s===1,Fo=(s,e,t)=>-(Math.pow(2,10*(s-=1))*Math.sin((s-e)*Te/t)),zo=(s,e,t)=>Math.pow(2,-10*s)*Math.sin((s-e)*Te/t)+1,wn={linear:s=>s,easeInQuad:s=>s*s,easeOutQuad:s=>-s*(s-2),easeInOutQuad:s=>(s/=.5)<1?.5*s*s:-.5*(--s*(s-2)-1),easeInCubic:s=>s*s*s,easeOutCubic:s=>(s-=1)*s*s+1,easeInOutCubic:s=>(s/=.5)<1?.5*s*s*s:.5*((s-=2)*s*s+2),easeInQuart:s=>s*s*s*s,easeOutQuart:s=>-((s-=1)*s*s*s-1),easeInOutQuart:s=>(s/=.5)<1?.5*s*s*s*s:-.5*((s-=2)*s*s*s-2),easeInQuint:s=>s*s*s*s*s,easeOutQuint:s=>(s-=1)*s*s*s*s+1,easeInOutQuint:s=>(s/=.5)<1?.5*s*s*s*s*s:.5*((s-=2)*s*s*s*s+2),easeInSine:s=>-Math.cos(s*Re)+1,easeOutSine:s=>Math.sin(s*Re),easeInOutSine:s=>-.5*(Math.cos(De*s)-1),easeInExpo:s=>s===0?0:Math.pow(2,10*(s-1)),easeOutExpo:s=>s===1?1:-Math.pow(2,-10*s)+1,easeInOutExpo:s=>ui(s)?s:s<.5?.5*Math.pow(2,10*(s*2-1)):.5*(-Math.pow(2,-10*(s*2-1))+2),easeInCirc:s=>s>=1?s:-(Math.sqrt(1-s*s)-1),easeOutCirc:s=>Math.sqrt(1-(s-=1)*s),easeInOutCirc:s=>(s/=.5)<1?-.5*(Math.sqrt(1-s*s)-1):.5*(Math.sqrt(1-(s-=2)*s)+1),easeInElastic:s=>ui(s)?s:Fo(s,.075,.3),easeOutElastic:s=>ui(s)?s:zo(s,.075,.3),easeInOutElastic(s){return ui(s)?s:s<.5?.5*Fo(s*2,.1125,.45):.5+.5*zo(s*2-1,.1125,.45)},easeInBack(s){return s*s*((1.70158+1)*s-1.70158)},easeOutBack(s){return(s-=1)*s*((1.70158+1)*s+1.70158)+1},easeInOutBack(s){let e=1.70158;return(s/=.5)<1?.5*(s*s*(((e*=1.525)+1)*s-e)):.5*((s-=2)*s*(((e*=1.525)+1)*s+e)+2)},easeInBounce:s=>1-wn.easeOutBounce(1-s),easeOutBounce(s){return s<1/2.75?7.5625*s*s:s<2/2.75?7.5625*(s-=1.5/2.75)*s+.75:s<2.5/2.75?7.5625*(s-=2.25/2.75)*s+.9375:7.5625*(s-=2.625/2.75)*s+.984375},easeInOutBounce:s=>s<.5?wn.easeInBounce(s*2)*.5:wn.easeOutBounce(s*2-1)*.5+.5};function Ga(s){if(s&&typeof s=="object"){const e=s.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Bo(s){return Ga(s)?s:new jn(s)}function Vr(s){return Ga(s)?s:new jn(s).saturate(.5).darken(.1).hexString()}const ig=["x","y","borderWidth","radius","tension"],rg=["color","borderColor","backgroundColor"];function ag(s){s.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),s.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),s.set("animations",{colors:{type:"color",properties:rg},numbers:{type:"number",properties:ig}}),s.describe("animations",{_fallback:"animation"}),s.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function og(s){s.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Wo=new Map;function cg(s,e){e=e||{};const t=s+JSON.stringify(e);let n=Wo.get(t);return n||(n=new Intl.NumberFormat(s,e),Wo.set(t,n)),n}function Fn(s,e,t){return cg(e,t).format(s)}const Uu={values(s){return Me(s)?s:""+s},numeric(s,e,t){if(s===0)return"0";const n=this.chart.options.locale;let i,r=s;if(t.length>1){const l=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(l<1e-4||l>1e15)&&(i="scientific"),r=lg(s,t)}const a=Qt(Math.abs(r)),o=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),c={notation:i,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(c,this.options.ticks.format),Fn(s,n,c)},logarithmic(s,e,t){if(s===0)return"0";const n=t[e].significand||s/Math.pow(10,Math.floor(Qt(s)));return[1,2,3,5,10,15].includes(n)||e>.8*t.length?Uu.numeric.call(this,s,e,t):""}};function lg(s,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&s!==Math.floor(s)&&(t=s-Math.floor(s)),t}var Zi={formatters:Uu};function ug(s){s.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Zi.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),s.route("scale.ticks","color","","color"),s.route("scale.grid","color","","borderColor"),s.route("scale.border","color","","borderColor"),s.route("scale.title","color","","color"),s.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),s.describe("scales",{_fallback:"scale"}),s.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const ks=Object.create(null),ba=Object.create(null);function Dn(s,e){if(!e)return s;const t=e.split(".");for(let n=0,i=t.length;n<i;++n){const r=t[n];s=s[r]||(s[r]=Object.create(null))}return s}function Mr(s,e,t){return typeof e=="string"?_n(Dn(s,e),t):_n(Dn(s,""),e)}class dg{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,i)=>Vr(i.backgroundColor),this.hoverBorderColor=(n,i)=>Vr(i.borderColor),this.hoverColor=(n,i)=>Vr(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Mr(this,e,t)}get(e){return Dn(this,e)}describe(e,t){return Mr(ba,e,t)}override(e,t){return Mr(ks,e,t)}route(e,t,n,i){const r=Dn(this,e),a=Dn(this,n),o="_"+t;Object.defineProperties(r,{[o]:{value:r[t],writable:!0},[t]:{enumerable:!0,get(){const c=this[o],l=a[i];return Ne(c)?Object.assign({},l,c):de(c,l)},set(c){this[o]=c}}})}apply(e){e.forEach(t=>t(this))}}var Le=new dg({_scriptable:s=>!s.startsWith("on"),_indexable:s=>s!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[ag,og,ug]);function mg(s){return!s||ve(s.size)||ve(s.family)?null:(s.style?s.style+" ":"")+(s.weight?s.weight+" ":"")+s.size+"px "+s.family}function Ui(s,e,t,n,i){let r=e[i];return r||(r=e[i]=s.measureText(i).width,t.push(i)),r>n&&(n=r),n}function fg(s,e,t,n){n=n||{};let i=n.data=n.data||{},r=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(i=n.data={},r=n.garbageCollect=[],n.font=e),s.save(),s.font=e;let a=0;const o=t.length;let c,l,u,m,f;for(c=0;c<o;c++)if(m=t[c],m!=null&&!Me(m))a=Ui(s,i,r,a,m);else if(Me(m))for(l=0,u=m.length;l<u;l++)f=m[l],f!=null&&!Me(f)&&(a=Ui(s,i,r,a,f));s.restore();const h=r.length/2;if(h>t.length){for(c=0;c<h;c++)delete i[r[c]];r.splice(0,h)}return a}function cs(s,e,t){const n=s.currentDevicePixelRatio,i=t!==0?Math.max(t/2,.5):0;return Math.round((e-i)*n)/n+i}function $o(s,e){!e&&!s||(e=e||s.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,s.width,s.height),e.restore())}function ya(s,e,t,n){Fu(s,e,t,n,null)}function Fu(s,e,t,n,i){let r,a,o,c,l,u,m,f;const h=e.pointStyle,p=e.rotation,g=e.radius;let y=(p||0)*qp;if(h&&typeof h=="object"&&(r=h.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){s.save(),s.translate(t,n),s.rotate(y),s.drawImage(h,-h.width/2,-h.height/2,h.width,h.height),s.restore();return}if(!(isNaN(g)||g<=0)){switch(s.beginPath(),h){default:i?s.ellipse(t,n,i/2,g,0,0,Te):s.arc(t,n,g,0,Te),s.closePath();break;case"triangle":u=i?i/2:g,s.moveTo(t+Math.sin(y)*u,n-Math.cos(y)*g),y+=Oo,s.lineTo(t+Math.sin(y)*u,n-Math.cos(y)*g),y+=Oo,s.lineTo(t+Math.sin(y)*u,n-Math.cos(y)*g),s.closePath();break;case"rectRounded":l=g*.516,c=g-l,a=Math.cos(y+os)*c,m=Math.cos(y+os)*(i?i/2-l:c),o=Math.sin(y+os)*c,f=Math.sin(y+os)*(i?i/2-l:c),s.arc(t-m,n-o,l,y-De,y-Re),s.arc(t+f,n-a,l,y-Re,y),s.arc(t+m,n+o,l,y,y+Re),s.arc(t-f,n+a,l,y+Re,y+De),s.closePath();break;case"rect":if(!p){c=Math.SQRT1_2*g,u=i?i/2:c,s.rect(t-u,n-c,2*u,2*c);break}y+=os;case"rectRot":m=Math.cos(y)*(i?i/2:g),a=Math.cos(y)*g,o=Math.sin(y)*g,f=Math.sin(y)*(i?i/2:g),s.moveTo(t-m,n-o),s.lineTo(t+f,n-a),s.lineTo(t+m,n+o),s.lineTo(t-f,n+a),s.closePath();break;case"crossRot":y+=os;case"cross":m=Math.cos(y)*(i?i/2:g),a=Math.cos(y)*g,o=Math.sin(y)*g,f=Math.sin(y)*(i?i/2:g),s.moveTo(t-m,n-o),s.lineTo(t+m,n+o),s.moveTo(t+f,n-a),s.lineTo(t-f,n+a);break;case"star":m=Math.cos(y)*(i?i/2:g),a=Math.cos(y)*g,o=Math.sin(y)*g,f=Math.sin(y)*(i?i/2:g),s.moveTo(t-m,n-o),s.lineTo(t+m,n+o),s.moveTo(t+f,n-a),s.lineTo(t-f,n+a),y+=os,m=Math.cos(y)*(i?i/2:g),a=Math.cos(y)*g,o=Math.sin(y)*g,f=Math.sin(y)*(i?i/2:g),s.moveTo(t-m,n-o),s.lineTo(t+m,n+o),s.moveTo(t+f,n-a),s.lineTo(t-f,n+a);break;case"line":a=i?i/2:Math.cos(y)*g,o=Math.sin(y)*g,s.moveTo(t-a,n-o),s.lineTo(t+a,n+o);break;case"dash":s.moveTo(t,n),s.lineTo(t+Math.cos(y)*(i?i/2:g),n+Math.sin(y)*g);break;case!1:s.closePath();break}s.fill(),e.borderWidth>0&&s.stroke()}}function St(s,e,t){return t=t||.5,!e||s&&s.x>e.left-t&&s.x<e.right+t&&s.y>e.top-t&&s.y<e.bottom+t}function er(s,e){s.save(),s.beginPath(),s.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),s.clip()}function tr(s){s.restore()}function hg(s,e,t,n,i){if(!e)return s.lineTo(t.x,t.y);if(i==="middle"){const r=(e.x+t.x)/2;s.lineTo(r,e.y),s.lineTo(r,t.y)}else i==="after"!=!!n?s.lineTo(e.x,t.y):s.lineTo(t.x,e.y);s.lineTo(t.x,t.y)}function pg(s,e,t,n){if(!e)return s.lineTo(t.x,t.y);s.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?t.cp2x:t.cp1x,n?t.cp2y:t.cp1y,t.x,t.y)}function gg(s,e){e.translation&&s.translate(e.translation[0],e.translation[1]),ve(e.rotation)||s.rotate(e.rotation),e.color&&(s.fillStyle=e.color),e.textAlign&&(s.textAlign=e.textAlign),e.textBaseline&&(s.textBaseline=e.textBaseline)}function bg(s,e,t,n,i){if(i.strikethrough||i.underline){const r=s.measureText(n),a=e-r.actualBoundingBoxLeft,o=e+r.actualBoundingBoxRight,c=t-r.actualBoundingBoxAscent,l=t+r.actualBoundingBoxDescent,u=i.strikethrough?(c+l)/2:l;s.strokeStyle=s.fillStyle,s.beginPath(),s.lineWidth=i.decorationWidth||2,s.moveTo(a,u),s.lineTo(o,u),s.stroke()}}function yg(s,e){const t=s.fillStyle;s.fillStyle=e.color,s.fillRect(e.left,e.top,e.width,e.height),s.fillStyle=t}function Ns(s,e,t,n,i,r={}){const a=Me(e)?e:[e],o=r.strokeWidth>0&&r.strokeColor!=="";let c,l;for(s.save(),s.font=i.string,gg(s,r),c=0;c<a.length;++c)l=a[c],r.backdrop&&yg(s,r.backdrop),o&&(r.strokeColor&&(s.strokeStyle=r.strokeColor),ve(r.strokeWidth)||(s.lineWidth=r.strokeWidth),s.strokeText(l,t,n,r.maxWidth)),s.fillText(l,t,n,r.maxWidth),bg(s,t,n,l,r),n+=Number(i.lineHeight);s.restore()}function Vn(s,e){const{x:t,y:n,w:i,h:r,radius:a}=e;s.arc(t+a.topLeft,n+a.topLeft,a.topLeft,1.5*De,De,!0),s.lineTo(t,n+r-a.bottomLeft),s.arc(t+a.bottomLeft,n+r-a.bottomLeft,a.bottomLeft,De,Re,!0),s.lineTo(t+i-a.bottomRight,n+r),s.arc(t+i-a.bottomRight,n+r-a.bottomRight,a.bottomRight,Re,0,!0),s.lineTo(t+i,n+a.topRight),s.arc(t+i-a.topRight,n+a.topRight,a.topRight,0,-Re,!0),s.lineTo(t+a.topLeft,n)}const xg=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,vg=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function kg(s,e){const t=(""+s).match(xg);if(!t||t[1]==="normal")return e*1.2;switch(s=+t[2],t[3]){case"px":return s;case"%":s/=100;break}return e*s}const Ng=s=>+s||0;function Qa(s,e){const t={},n=Ne(e),i=n?Object.keys(e):e,r=Ne(s)?n?a=>de(s[a],s[e[a]]):a=>s[a]:()=>s;for(const a of i)t[a]=Ng(r(a));return t}function zu(s){return Qa(s,{top:"y",right:"x",bottom:"y",left:"x"})}function ys(s){return Qa(s,["topLeft","topRight","bottomLeft","bottomRight"])}function Je(s){const e=zu(s);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function ze(s,e){s=s||{},e=e||Le.font;let t=de(s.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let n=de(s.style,e.style);n&&!(""+n).match(vg)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const i={family:de(s.family,e.family),lineHeight:kg(de(s.lineHeight,e.lineHeight),t),size:t,style:n,weight:de(s.weight,e.weight),string:""};return i.string=mg(i),i}function bn(s,e,t,n){let i,r,a;for(i=0,r=s.length;i<r;++i)if(a=s[i],a!==void 0&&a!==void 0)return a}function wg(s,e,t){const{min:n,max:i}=s,r=ju(e,(i-n)/2),a=(o,c)=>t&&o===0?0:o+c;return{min:a(n,-Math.abs(r)),max:a(i,r)}}function ss(s,e){return Object.assign(Object.create(s),e)}function Xa(s,e=[""],t,n,i=()=>s[0]){const r=t||s;typeof n>"u"&&(n=Hu("_fallback",s));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:s,_rootScopes:r,_fallback:n,_getTarget:i,override:o=>Xa([o,...s],e,r,n)};return new Proxy(a,{deleteProperty(o,c){return delete o[c],delete o._keys,delete s[0][c],!0},get(o,c){return Wu(o,c,()=>Tg(c,e,s,o))},getOwnPropertyDescriptor(o,c){return Reflect.getOwnPropertyDescriptor(o._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(s[0])},has(o,c){return Yo(o).includes(c)},ownKeys(o){return Yo(o)},set(o,c,l){const u=o._storage||(o._storage=i());return o[c]=u[c]=l,delete o._keys,!0}})}function Ys(s,e,t,n){const i={_cacheable:!1,_proxy:s,_context:e,_subProxy:t,_stack:new Set,_descriptors:Bu(s,n),setContext:r=>Ys(s,r,t,n),override:r=>Ys(s.override(r),e,t,n)};return new Proxy(i,{deleteProperty(r,a){return delete r[a],delete s[a],!0},get(r,a,o){return Wu(r,a,()=>Cg(r,a,o))},getOwnPropertyDescriptor(r,a){return r._descriptors.allKeys?Reflect.has(s,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(s,a)},getPrototypeOf(){return Reflect.getPrototypeOf(s)},has(r,a){return Reflect.has(s,a)},ownKeys(){return Reflect.ownKeys(s)},set(r,a,o){return s[a]=o,delete r[a],!0}})}function Bu(s,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:n=e.indexable,_allKeys:i=e.allKeys}=s;return{allKeys:i,scriptable:t,indexable:n,isScriptable:es(t)?t:()=>t,isIndexable:es(n)?n:()=>n}}const Dg=(s,e)=>s?s+Ha(e):e,Ja=(s,e)=>Ne(e)&&s!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Wu(s,e,t){if(Object.prototype.hasOwnProperty.call(s,e)||e==="constructor")return s[e];const n=t();return s[e]=n,n}function Cg(s,e,t){const{_proxy:n,_context:i,_subProxy:r,_descriptors:a}=s;let o=n[e];return es(o)&&a.isScriptable(e)&&(o=Eg(e,o,s,t)),Me(o)&&o.length&&(o=Pg(e,o,s,a.isIndexable)),Ja(e,o)&&(o=Ys(o,i,r&&r[e],a)),o}function Eg(s,e,t,n){const{_proxy:i,_context:r,_subProxy:a,_stack:o}=t;if(o.has(s))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+s);o.add(s);let c=e(r,a||n);return o.delete(s),Ja(s,c)&&(c=Za(i._scopes,i,s,c)),c}function Pg(s,e,t,n){const{_proxy:i,_context:r,_subProxy:a,_descriptors:o}=t;if(typeof r.index<"u"&&n(s))return e[r.index%e.length];if(Ne(e[0])){const c=e,l=i._scopes.filter(u=>u!==c);e=[];for(const u of c){const m=Za(l,i,s,u);e.push(Ys(m,r,a&&a[s],o))}}return e}function $u(s,e,t){return es(s)?s(e,t):s}const Sg=(s,e)=>s===!0?e:typeof s=="string"?Zt(e,s):void 0;function jg(s,e,t,n,i){for(const r of e){const a=Sg(t,r);if(a){s.add(a);const o=$u(a._fallback,t,i);if(typeof o<"u"&&o!==t&&o!==n)return o}else if(a===!1&&typeof n<"u"&&t!==n)return null}return!1}function Za(s,e,t,n){const i=e._rootScopes,r=$u(e._fallback,t,n),a=[...s,...i],o=new Set;o.add(n);let c=Ho(o,a,t,r||t,n);return c===null||typeof r<"u"&&r!==t&&(c=Ho(o,a,r,c,n),c===null)?!1:Xa(Array.from(o),[""],i,r,()=>_g(e,t,n))}function Ho(s,e,t,n,i){for(;t;)t=jg(s,e,t,n,i);return t}function _g(s,e,t){const n=s._getTarget();e in n||(n[e]={});const i=n[e];return Me(i)&&Ne(t)?t:i||{}}function Tg(s,e,t,n){let i;for(const r of e)if(i=Hu(Dg(r,s),t),typeof i<"u")return Ja(s,i)?Za(t,n,s,i):i}function Hu(s,e){for(const t of e){if(!t)continue;const n=t[s];if(typeof n<"u")return n}}function Yo(s){let e=s._keys;return e||(e=s._keys=Ag(s._scopes)),e}function Ag(s){const e=new Set;for(const t of s)for(const n of Object.keys(t).filter(i=>!i.startsWith("_")))e.add(n);return Array.from(e)}function Yu(s,e,t,n){const{iScale:i}=s,{key:r="r"}=this._parsing,a=new Array(n);let o,c,l,u;for(o=0,c=n;o<c;++o)l=o+t,u=e[l],a[o]={r:i.parse(Zt(u,r),l)};return a}const Vg=Number.EPSILON||1e-14,qs=(s,e)=>e<s.length&&!s[e].skip&&s[e],qu=s=>s==="x"?"y":"x";function Mg(s,e,t,n){const i=s.skip?e:s,r=e,a=t.skip?e:t,o=ga(r,i),c=ga(a,r);let l=o/(o+c),u=c/(o+c);l=isNaN(l)?0:l,u=isNaN(u)?0:u;const m=n*l,f=n*u;return{previous:{x:r.x-m*(a.x-i.x),y:r.y-m*(a.y-i.y)},next:{x:r.x+f*(a.x-i.x),y:r.y+f*(a.y-i.y)}}}function Lg(s,e,t){const n=s.length;let i,r,a,o,c,l=qs(s,0);for(let u=0;u<n-1;++u)if(c=l,l=qs(s,u+1),!(!c||!l)){if(bs(e[u],0,Vg)){t[u]=t[u+1]=0;continue}i=t[u]/e[u],r=t[u+1]/e[u],o=Math.pow(i,2)+Math.pow(r,2),!(o<=9)&&(a=3/Math.sqrt(o),t[u]=i*a*e[u],t[u+1]=r*a*e[u])}}function Og(s,e,t="x"){const n=qu(t),i=s.length;let r,a,o,c=qs(s,0);for(let l=0;l<i;++l){if(a=o,o=c,c=qs(s,l+1),!o)continue;const u=o[t],m=o[n];a&&(r=(u-a[t])/3,o[`cp1${t}`]=u-r,o[`cp1${n}`]=m-r*e[l]),c&&(r=(c[t]-u)/3,o[`cp2${t}`]=u+r,o[`cp2${n}`]=m+r*e[l])}}function Ig(s,e="x"){const t=qu(e),n=s.length,i=Array(n).fill(0),r=Array(n);let a,o,c,l=qs(s,0);for(a=0;a<n;++a)if(o=c,c=l,l=qs(s,a+1),!!c){if(l){const u=l[e]-c[e];i[a]=u!==0?(l[t]-c[t])/u:0}r[a]=o?l?ft(i[a-1])!==ft(i[a])?0:(i[a-1]+i[a])/2:i[a-1]:i[a]}Lg(s,i,r),Og(s,r,e)}function di(s,e,t){return Math.max(Math.min(s,t),e)}function Rg(s,e){let t,n,i,r,a,o=St(s[0],e);for(t=0,n=s.length;t<n;++t)a=r,r=o,o=t<n-1&&St(s[t+1],e),r&&(i=s[t],a&&(i.cp1x=di(i.cp1x,e.left,e.right),i.cp1y=di(i.cp1y,e.top,e.bottom)),o&&(i.cp2x=di(i.cp2x,e.left,e.right),i.cp2y=di(i.cp2y,e.top,e.bottom)))}function Ug(s,e,t,n,i){let r,a,o,c;if(e.spanGaps&&(s=s.filter(l=>!l.skip)),e.cubicInterpolationMode==="monotone")Ig(s,i);else{let l=n?s[s.length-1]:s[0];for(r=0,a=s.length;r<a;++r)o=s[r],c=Mg(l,o,s[Math.min(r+1,a-(n?0:1))%a],e.tension),o.cp1x=c.previous.x,o.cp1y=c.previous.y,o.cp2x=c.next.x,o.cp2y=c.next.y,l=o}e.capBezierPoints&&Rg(s,t)}function eo(){return typeof window<"u"&&typeof document<"u"}function to(s){let e=s.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Fi(s,e,t){let n;return typeof s=="string"?(n=parseInt(s,10),s.indexOf("%")!==-1&&(n=n/100*e.parentNode[t])):n=s,n}const sr=s=>s.ownerDocument.defaultView.getComputedStyle(s,null);function Fg(s,e){return sr(s).getPropertyValue(e)}const zg=["top","right","bottom","left"];function xs(s,e,t){const n={};t=t?"-"+t:"";for(let i=0;i<4;i++){const r=zg[i];n[r]=parseFloat(s[e+"-"+r+t])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const Bg=(s,e,t)=>(s>0||e>0)&&(!t||!t.shadowRoot);function Wg(s,e){const t=s.touches,n=t&&t.length?t[0]:s,{offsetX:i,offsetY:r}=n;let a=!1,o,c;if(Bg(i,r,s.target))o=i,c=r;else{const l=e.getBoundingClientRect();o=n.clientX-l.left,c=n.clientY-l.top,a=!0}return{x:o,y:c,box:a}}function Et(s,e){if("native"in s)return s;const{canvas:t,currentDevicePixelRatio:n}=e,i=sr(t),r=i.boxSizing==="border-box",a=xs(i,"padding"),o=xs(i,"border","width"),{x:c,y:l,box:u}=Wg(s,t),m=a.left+(u&&o.left),f=a.top+(u&&o.top);let{width:h,height:p}=e;return r&&(h-=a.width+o.width,p-=a.height+o.height),{x:Math.round((c-m)/h*t.width/n),y:Math.round((l-f)/p*t.height/n)}}function $g(s,e,t){let n,i;if(e===void 0||t===void 0){const r=s&&to(s);if(!r)e=s.clientWidth,t=s.clientHeight;else{const a=r.getBoundingClientRect(),o=sr(r),c=xs(o,"border","width"),l=xs(o,"padding");e=a.width-l.width-c.width,t=a.height-l.height-c.height,n=Fi(o.maxWidth,r,"clientWidth"),i=Fi(o.maxHeight,r,"clientHeight")}}return{width:e,height:t,maxWidth:n||Ri,maxHeight:i||Ri}}const mi=s=>Math.round(s*10)/10;function Hg(s,e,t,n){const i=sr(s),r=xs(i,"margin"),a=Fi(i.maxWidth,s,"clientWidth")||Ri,o=Fi(i.maxHeight,s,"clientHeight")||Ri,c=$g(s,e,t);let{width:l,height:u}=c;if(i.boxSizing==="content-box"){const f=xs(i,"border","width"),h=xs(i,"padding");l-=h.width+f.width,u-=h.height+f.height}return l=Math.max(0,l-r.width),u=Math.max(0,n?l/n:u-r.height),l=mi(Math.min(l,a,c.maxWidth)),u=mi(Math.min(u,o,c.maxHeight)),l&&!u&&(u=mi(l/2)),(e!==void 0||t!==void 0)&&n&&c.height&&u>c.height&&(u=c.height,l=mi(Math.floor(u*n))),{width:l,height:u}}function qo(s,e,t){const n=e||1,i=Math.floor(s.height*n),r=Math.floor(s.width*n);s.height=Math.floor(s.height),s.width=Math.floor(s.width);const a=s.canvas;return a.style&&(t||!a.style.height&&!a.style.width)&&(a.style.height=`${s.height}px`,a.style.width=`${s.width}px`),s.currentDevicePixelRatio!==n||a.height!==i||a.width!==r?(s.currentDevicePixelRatio=n,a.height=i,a.width=r,s.ctx.setTransform(n,0,0,n,0,0),!0):!1}const Yg=(function(){let s=!1;try{const e={get passive(){return s=!0,!1}};eo()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return s})();function Ko(s,e){const t=Fg(s,e),n=t&&t.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function ds(s,e,t,n){return{x:s.x+t*(e.x-s.x),y:s.y+t*(e.y-s.y)}}function qg(s,e,t,n){return{x:s.x+t*(e.x-s.x),y:n==="middle"?t<.5?s.y:e.y:n==="after"?t<1?s.y:e.y:t>0?e.y:s.y}}function Kg(s,e,t,n){const i={x:s.cp2x,y:s.cp2y},r={x:e.cp1x,y:e.cp1y},a=ds(s,i,t),o=ds(i,r,t),c=ds(r,e,t),l=ds(a,o,t),u=ds(o,c,t);return ds(l,u,t)}const Gg=function(s,e){return{x(t){return s+s+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,n){return t-n},leftForLtr(t,n){return t-n}}},Qg=function(){return{x(s){return s},setWidth(s){},textAlign(s){return s},xPlus(s,e){return s+e},leftForLtr(s,e){return s}}};function Ws(s,e,t){return s?Gg(e,t):Qg()}function Ku(s,e){let t,n;(e==="ltr"||e==="rtl")&&(t=s.canvas.style,n=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),s.prevTextDirection=n)}function Gu(s,e){e!==void 0&&(delete s.prevTextDirection,s.canvas.style.setProperty("direction",e[0],e[1]))}function Qu(s){return s==="angle"?{between:An,compare:Xp,normalize:Qe}:{between:Ft,compare:(e,t)=>e-t,normalize:e=>e}}function Go({start:s,end:e,count:t,loop:n,style:i}){return{start:s%t,end:e%t,loop:n&&(e-s+1)%t===0,style:i}}function Xg(s,e,t){const{property:n,start:i,end:r}=t,{between:a,normalize:o}=Qu(n),c=e.length;let{start:l,end:u,loop:m}=s,f,h;if(m){for(l+=c,u+=c,f=0,h=c;f<h&&a(o(e[l%c][n]),i,r);++f)l--,u--;l%=c,u%=c}return u<l&&(u+=c),{start:l,end:u,loop:m,style:s.style}}function Xu(s,e,t){if(!t)return[s];const{property:n,start:i,end:r}=t,a=e.length,{compare:o,between:c,normalize:l}=Qu(n),{start:u,end:m,loop:f,style:h}=Xg(s,e,t),p=[];let g=!1,y=null,k,D,j;const S=()=>c(i,j,k)&&o(i,j)!==0,v=()=>o(r,k)===0||c(r,j,k),N=()=>g||S(),C=()=>!g||v();for(let w=u,T=u;w<=m;++w)D=e[w%a],!D.skip&&(k=l(D[n]),k!==j&&(g=c(k,i,r),y===null&&N()&&(y=o(k,i)===0?w:T),y!==null&&C()&&(p.push(Go({start:y,end:w,loop:f,count:a,style:h})),y=null),T=w,j=k));return y!==null&&p.push(Go({start:y,end:m,loop:f,count:a,style:h})),p}function Ju(s,e){const t=[],n=s.segments;for(let i=0;i<n.length;i++){const r=Xu(n[i],s.points,e);r.length&&t.push(...r)}return t}function Jg(s,e,t,n){let i=0,r=e-1;if(t&&!n)for(;i<e&&!s[i].skip;)i++;for(;i<e&&s[i].skip;)i++;for(i%=e,t&&(r+=i);r>i&&s[r%e].skip;)r--;return r%=e,{start:i,end:r}}function Zg(s,e,t,n){const i=s.length,r=[];let a=e,o=s[e],c;for(c=e+1;c<=t;++c){const l=s[c%i];l.skip||l.stop?o.skip||(n=!1,r.push({start:e%i,end:(c-1)%i,loop:n}),e=a=l.stop?c:null):(a=c,o.skip&&(e=c)),o=l}return a!==null&&r.push({start:e%i,end:a%i,loop:n}),r}function eb(s,e){const t=s.points,n=s.options.spanGaps,i=t.length;if(!i)return[];const r=!!s._loop,{start:a,end:o}=Jg(t,i,r,n);if(n===!0)return Qo(s,[{start:a,end:o,loop:r}],t,e);const c=o<a?o+i:o,l=!!s._fullLoop&&a===0&&o===i-1;return Qo(s,Zg(t,a,c,l),t,e)}function Qo(s,e,t,n){return!n||!n.setContext||!t?e:tb(s,e,t,n)}function tb(s,e,t,n){const i=s._chart.getContext(),r=Xo(s.options),{_datasetIndex:a,options:{spanGaps:o}}=s,c=t.length,l=[];let u=r,m=e[0].start,f=m;function h(p,g,y,k){const D=o?-1:1;if(p!==g){for(p+=c;t[p%c].skip;)p-=D;for(;t[g%c].skip;)g+=D;p%c!==g%c&&(l.push({start:p%c,end:g%c,loop:y,style:k}),u=k,m=g%c)}}for(const p of e){m=o?m:p.start;let g=t[m%c],y;for(f=m+1;f<=p.end;f++){const k=t[f%c];y=Xo(n.setContext(ss(i,{type:"segment",p0:g,p1:k,p0DataIndex:(f-1)%c,p1DataIndex:f%c,datasetIndex:a}))),sb(y,u)&&h(m,f-1,p.loop,u),g=k,u=y}m<f-1&&h(m,f-1,p.loop,u)}return l}function Xo(s){return{backgroundColor:s.backgroundColor,borderCapStyle:s.borderCapStyle,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderJoinStyle:s.borderJoinStyle,borderWidth:s.borderWidth,borderColor:s.borderColor}}function sb(s,e){if(!e)return!1;const t=[],n=function(i,r){return Ga(r)?(t.includes(r)||t.push(r),t.indexOf(r)):r};return JSON.stringify(s,n)!==JSON.stringify(e,n)}function fi(s,e,t){return s.options.clip?s[t]:e[t]}function nb(s,e){const{xScale:t,yScale:n}=s;return t&&n?{left:fi(t,e,"left"),right:fi(t,e,"right"),top:fi(n,e,"top"),bottom:fi(n,e,"bottom")}:e}function Zu(s,e){const t=e._clip;if(t.disabled)return!1;const n=nb(e,s.chartArea);return{left:t.left===!1?0:n.left-(t.left===!0?0:t.left),right:t.right===!1?s.width:n.right+(t.right===!0?0:t.right),top:t.top===!1?0:n.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?s.height:n.bottom+(t.bottom===!0?0:t.bottom)}}class ib{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,i){const r=t.listeners[i],a=t.duration;r.forEach(o=>o({chart:e,initial:t.initial,numSteps:a,currentStep:Math.min(n-t.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=Lu.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((n,i)=>{if(!n.running||!n.items.length)return;const r=n.items;let a=r.length-1,o=!1,c;for(;a>=0;--a)c=r[a],c._active?(c._total>n.duration&&(n.duration=c._total),c.tick(e),o=!0):(r[a]=r[r.length-1],r.pop());o&&(i.draw(),this._notify(i,n,e,"progress")),r.length||(n.running=!1,this._notify(i,n,e,"complete"),n.initial=!1),t+=r.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((n,i)=>Math.max(n,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Ot=new ib;const Jo="transparent",rb={boolean(s,e,t){return t>.5?e:s},color(s,e,t){const n=Bo(s||Jo),i=n.valid&&Bo(e||Jo);return i&&i.valid?i.mix(n,t).hexString():e},number(s,e,t){return s+(e-s)*t}};class ab{constructor(e,t,n,i){const r=t[n];i=bn([e.to,i,r,e.from]);const a=bn([e.from,r,i]);this._active=!0,this._fn=e.fn||rb[e.type||typeof a],this._easing=wn[e.easing]||wn.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=a,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const i=this._target[this._prop],r=n-this._start,a=this._duration-r;this._start=n,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=bn([e.to,t,i,e.from]),this._from=bn([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,i=this._prop,r=this._from,a=this._loop,o=this._to;let c;if(this._active=r!==o&&(a||t<n),!this._active){this._target[i]=o,this._notify(!0);return}if(t<0){this._target[i]=r;return}c=t/n%2,c=a&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[i]=this._fn(r,o,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,n)=>{e.push({res:t,rej:n})})}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][t]()}}class ed{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Ne(e))return;const t=Object.keys(Le.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const r=e[i];if(!Ne(r))return;const a={};for(const o of t)a[o]=r[o];(Me(r.properties)&&r.properties||[i]).forEach(o=>{(o===i||!n.has(o))&&n.set(o,a)})})}_animateOptions(e,t){const n=t.options,i=cb(e,n);if(!i)return[];const r=this._createAnimations(i,n);return n.$shared&&ob(e.options.$animations,n).then(()=>{e.options=n},()=>{}),r}_createAnimations(e,t){const n=this._properties,i=[],r=e.$animations||(e.$animations={}),a=Object.keys(t),o=Date.now();let c;for(c=a.length-1;c>=0;--c){const l=a[c];if(l.charAt(0)==="$")continue;if(l==="options"){i.push(...this._animateOptions(e,t));continue}const u=t[l];let m=r[l];const f=n.get(l);if(m)if(f&&m.active()){m.update(f,u,o);continue}else m.cancel();if(!f||!f.duration){e[l]=u;continue}r[l]=m=new ab(f,e,l,u),i.push(m)}return i}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const n=this._createAnimations(e,t);if(n.length)return Ot.add(this._chart,n),!0}}function ob(s,e){const t=[],n=Object.keys(e);for(let i=0;i<n.length;i++){const r=s[n[i]];r&&r.active()&&t.push(r.wait())}return Promise.all(t)}function cb(s,e){if(!e)return;let t=s.options;if(!t){s.options=e;return}return t.$shared&&(s.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function Zo(s,e){const t=s&&s.options||{},n=t.reverse,i=t.min===void 0?e:0,r=t.max===void 0?e:0;return{start:n?r:i,end:n?i:r}}function lb(s,e,t){if(t===!1)return!1;const n=Zo(s,t),i=Zo(e,t);return{top:i.end,right:n.end,bottom:i.start,left:n.start}}function ub(s){let e,t,n,i;return Ne(s)?(e=s.top,t=s.right,n=s.bottom,i=s.left):e=t=n=i=s,{top:e,right:t,bottom:n,left:i,disabled:s===!1}}function td(s,e){const t=[],n=s._getSortedDatasetMetas(e);let i,r;for(i=0,r=n.length;i<r;++i)t.push(n[i].index);return t}function ec(s,e,t,n={}){const i=s.keys,r=n.mode==="single";let a,o,c,l;if(e===null)return;let u=!1;for(a=0,o=i.length;a<o;++a){if(c=+i[a],c===t){if(u=!0,n.all)continue;break}l=s.values[c],Ie(l)&&(r||e===0||ft(e)===ft(l))&&(e+=l)}return!u&&!n.all?0:e}function db(s,e){const{iScale:t,vScale:n}=e,i=t.axis==="x"?"x":"y",r=n.axis==="x"?"x":"y",a=Object.keys(s),o=new Array(a.length);let c,l,u;for(c=0,l=a.length;c<l;++c)u=a[c],o[c]={[i]:u,[r]:s[u]};return o}function Lr(s,e){const t=s&&s.options.stacked;return t||t===void 0&&e.stack!==void 0}function mb(s,e,t){return`${s.id}.${e.id}.${t.stack||t.type}`}function fb(s){const{min:e,max:t,minDefined:n,maxDefined:i}=s.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:i?t:Number.POSITIVE_INFINITY}}function hb(s,e,t){const n=s[e]||(s[e]={});return n[t]||(n[t]={})}function tc(s,e,t,n){for(const i of e.getMatchingVisibleMetas(n).reverse()){const r=s[i.index];if(t&&r>0||!t&&r<0)return i.index}return null}function sc(s,e){const{chart:t,_cachedMeta:n}=s,i=t._stacks||(t._stacks={}),{iScale:r,vScale:a,index:o}=n,c=r.axis,l=a.axis,u=mb(r,a,n),m=e.length;let f;for(let h=0;h<m;++h){const p=e[h],{[c]:g,[l]:y}=p,k=p._stacks||(p._stacks={});f=k[l]=hb(i,u,g),f[o]=y,f._top=tc(f,a,!0,n.type),f._bottom=tc(f,a,!1,n.type);const D=f._visualValues||(f._visualValues={});D[o]=y}}function Or(s,e){const t=s.scales;return Object.keys(t).filter(n=>t[n].axis===e).shift()}function pb(s,e){return ss(s,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function gb(s,e,t){return ss(s,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function cn(s,e){const t=s.controller.index,n=s.vScale&&s.vScale.axis;if(n){e=e||s._parsed;for(const i of e){const r=i._stacks;if(!r||r[n]===void 0||r[n][t]===void 0)return;delete r[n][t],r[n]._visualValues!==void 0&&r[n]._visualValues[t]!==void 0&&delete r[n]._visualValues[t]}}}const Ir=s=>s==="reset"||s==="none",nc=(s,e)=>e?s:Object.assign({},s),bb=(s,e,t)=>s&&!e.hidden&&e._stacked&&{keys:td(t,!0),values:null};class ns{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Lr(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&cn(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),i=(m,f,h,p)=>m==="x"?f:m==="r"?p:h,r=t.xAxisID=de(n.xAxisID,Or(e,"x")),a=t.yAxisID=de(n.yAxisID,Or(e,"y")),o=t.rAxisID=de(n.rAxisID,Or(e,"r")),c=t.indexAxis,l=t.iAxisID=i(c,r,a,o),u=t.vAxisID=i(c,a,r,o);t.xScale=this.getScaleForId(r),t.yScale=this.getScaleForId(a),t.rScale=this.getScaleForId(o),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Uo(this._data,this),e._stacked&&cn(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(Ne(t)){const i=this._cachedMeta;this._data=db(t,i)}else if(n!==t){if(n){Uo(n,this);const i=this._cachedMeta;cn(i),i._parsed=[]}t&&Object.isExtensible(t)&&tg(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const r=t._stacked;t._stacked=Lr(t.vScale,t),t.stack!==n.stack&&(i=!0,cn(t),t.stack=n.stack),this._resyncElements(e),(i||r!==t._stacked)&&(sc(this,t._parsed),t._stacked=Lr(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:i}=this,{iScale:r,_stacked:a}=n,o=r.axis;let c=e===0&&t===i.length?!0:n._sorted,l=e>0&&n._parsed[e-1],u,m,f;if(this._parsing===!1)n._parsed=i,n._sorted=!0,f=i;else{Me(i[e])?f=this.parseArrayData(n,i,e,t):Ne(i[e])?f=this.parseObjectData(n,i,e,t):f=this.parsePrimitiveData(n,i,e,t);const h=()=>m[o]===null||l&&m[o]<l[o];for(u=0;u<t;++u)n._parsed[u+e]=m=f[u],c&&(h()&&(c=!1),l=m);n._sorted=c}a&&sc(this,f)}parsePrimitiveData(e,t,n,i){const{iScale:r,vScale:a}=e,o=r.axis,c=a.axis,l=r.getLabels(),u=r===a,m=new Array(i);let f,h,p;for(f=0,h=i;f<h;++f)p=f+n,m[f]={[o]:u||r.parse(l[p],p),[c]:a.parse(t[p],p)};return m}parseArrayData(e,t,n,i){const{xScale:r,yScale:a}=e,o=new Array(i);let c,l,u,m;for(c=0,l=i;c<l;++c)u=c+n,m=t[u],o[c]={x:r.parse(m[0],u),y:a.parse(m[1],u)};return o}parseObjectData(e,t,n,i){const{xScale:r,yScale:a}=e,{xAxisKey:o="x",yAxisKey:c="y"}=this._parsing,l=new Array(i);let u,m,f,h;for(u=0,m=i;u<m;++u)f=u+n,h=t[f],l[u]={x:r.parse(Zt(h,o),f),y:a.parse(Zt(h,c),f)};return l}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const i=this.chart,r=this._cachedMeta,a=t[e.axis],o={keys:td(i,!0),values:t._stacks[e.axis]._visualValues};return ec(o,a,r.index,{mode:n})}updateRangeFromParsed(e,t,n,i){const r=n[t.axis];let a=r===null?NaN:r;const o=i&&n._stacks[t.axis];i&&o&&(i.values=o,a=ec(i,r,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,t){const n=this._cachedMeta,i=n._parsed,r=n._sorted&&e===n.iScale,a=i.length,o=this._getOtherScale(e),c=bb(t,n,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:m}=fb(o);let f,h;function p(){h=i[f];const g=h[o.axis];return!Ie(h[e.axis])||u>g||m<g}for(f=0;f<a&&!(!p()&&(this.updateRangeFromParsed(l,e,h,c),r));++f);if(r){for(f=a-1;f>=0;--f)if(!p()){this.updateRangeFromParsed(l,e,h,c);break}}return l}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let i,r,a;for(i=0,r=t.length;i<r;++i)a=t[i][e.axis],Ie(a)&&n.push(a);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,i=t.vScale,r=this.getParsed(e);return{label:n?""+n.getLabelForValue(r[n.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=ub(de(this.options.clip,lb(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,i=n.data||[],r=t.chartArea,a=[],o=this._drawStart||0,c=this._drawCount||i.length-o,l=this.options.drawActiveElementsOnTop;let u;for(n.dataset&&n.dataset.draw(e,r,o,c),u=o;u<o+c;++u){const m=i[u];m.hidden||(m.active&&l?a.push(m):m.draw(e,r))}for(u=0;u<a.length;++u)a[u].draw(e,r)}getStyle(e,t){const n=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const i=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];r=a.$context||(a.$context=gb(this.getContext(),e,a)),r.parsed=this.getParsed(e),r.raw=i.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=pb(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!t,r.mode=n,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",n){const i=t==="active",r=this._cachedDataOpts,a=e+"-"+t,o=r[a],c=this.enableOptionSharing&&Tn(n);if(o)return nc(o,c);const l=this.chart.config,u=l.datasetElementScopeKeys(this._type,e),m=i?[`${e}Hover`,"hover",e,""]:[e,""],f=l.getOptionScopes(this.getDataset(),u),h=Object.keys(Le.elements[e]),p=()=>this.getContext(n,i,t),g=l.resolveNamedOptions(f,h,p,m);return g.$shared&&(g.$shared=c,r[a]=Object.freeze(nc(g,c))),g}_resolveAnimations(e,t,n){const i=this.chart,r=this._cachedDataOpts,a=`animation-${t}`,o=r[a];if(o)return o;let c;if(i.options.animation!==!1){const u=this.chart.config,m=u.datasetAnimationScopeKeys(this._type,t),f=u.getOptionScopes(this.getDataset(),m);c=u.createResolver(f,this.getContext(e,n,t))}const l=new ed(i,c&&c.animations);return c&&c._cacheable&&(r[a]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Ir(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),i=this._sharedOptions,r=this.getSharedOptions(n),a=this.includeOptions(t,r)||r!==i;return this.updateSharedOptions(r,t,n),{sharedOptions:r,includeOptions:a}}updateElement(e,t,n,i){Ir(i)?Object.assign(e,n):this._resolveAnimations(t,i).update(e,n)}updateSharedOptions(e,t,n){e&&!Ir(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,i){e.active=i;const r=this.getStyle(t,i);this._resolveAnimations(t,n,i).update(e,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[o,c,l]of this._syncList)this[o](c,l);this._syncList=[];const i=n.length,r=t.length,a=Math.min(r,i);a&&this.parse(0,a),r>i?this._insertElements(i,r-i,e):r<i&&this._removeElements(r,i-r)}_insertElements(e,t,n=!0){const i=this._cachedMeta,r=i.data,a=e+t;let o;const c=l=>{for(l.length+=t,o=l.length-1;o>=a;o--)l[o]=l[o-t]};for(c(r),o=e;o<a;++o)r[o]=new this.dataElementType;this._parsing&&c(i._parsed),this.parse(e,t),n&&this.updateElements(r,e,t,"reset")}updateElements(e,t,n,i){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(e,t);n._stacked&&cn(n,i)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,i]=e;this[t](n,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function yb(s,e){if(!s._cache.$bar){const t=s.getMatchingVisibleMetas(e);let n=[];for(let i=0,r=t.length;i<r;i++)n=n.concat(t[i].controller.getAllParsedValues(s));s._cache.$bar=Mu(n.sort((i,r)=>i-r))}return s._cache.$bar}function xb(s){const e=s.iScale,t=yb(e,s.type);let n=e._length,i,r,a,o;const c=()=>{a===32767||a===-32768||(Tn(o)&&(n=Math.min(n,Math.abs(a-o)||n)),o=a)};for(i=0,r=t.length;i<r;++i)a=e.getPixelForValue(t[i]),c();for(o=void 0,i=0,r=e.ticks.length;i<r;++i)a=e.getPixelForTick(i),c();return n}function vb(s,e,t,n){const i=t.barThickness;let r,a;return ve(i)?(r=e.min*t.categoryPercentage,a=t.barPercentage):(r=i*n,a=1),{chunk:r/n,ratio:a,start:e.pixels[s]-r/2}}function kb(s,e,t,n){const i=e.pixels,r=i[s];let a=s>0?i[s-1]:null,o=s<i.length-1?i[s+1]:null;const c=t.categoryPercentage;a===null&&(a=r-(o===null?e.end-e.start:o-r)),o===null&&(o=r+r-a);const l=r-(r-Math.min(a,o))/2*c;return{chunk:Math.abs(o-a)/2*c/n,ratio:t.barPercentage,start:l}}function Nb(s,e,t,n){const i=t.parse(s[0],n),r=t.parse(s[1],n),a=Math.min(i,r),o=Math.max(i,r);let c=a,l=o;Math.abs(a)>Math.abs(o)&&(c=o,l=a),e[t.axis]=l,e._custom={barStart:c,barEnd:l,start:i,end:r,min:a,max:o}}function sd(s,e,t,n){return Me(s)?Nb(s,e,t,n):e[t.axis]=t.parse(s,n),e}function ic(s,e,t,n){const i=s.iScale,r=s.vScale,a=i.getLabels(),o=i===r,c=[];let l,u,m,f;for(l=t,u=t+n;l<u;++l)f=e[l],m={},m[i.axis]=o||i.parse(a[l],l),c.push(sd(f,m,r,l));return c}function Rr(s){return s&&s.barStart!==void 0&&s.barEnd!==void 0}function wb(s,e,t){return s!==0?ft(s):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function Db(s){let e,t,n,i,r;return s.horizontal?(e=s.base>s.x,t="left",n="right"):(e=s.base<s.y,t="bottom",n="top"),e?(i="end",r="start"):(i="start",r="end"),{start:t,end:n,reverse:e,top:i,bottom:r}}function Cb(s,e,t,n){let i=e.borderSkipped;const r={};if(!i){s.borderSkipped=r;return}if(i===!0){s.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:o,reverse:c,top:l,bottom:u}=Db(s);i==="middle"&&t&&(s.enableBorderRadius=!0,(t._top||0)===n?i=l:(t._bottom||0)===n?i=u:(r[rc(u,a,o,c)]=!0,i=l)),r[rc(i,a,o,c)]=!0,s.borderSkipped=r}function rc(s,e,t,n){return n?(s=Eb(s,e,t),s=ac(s,t,e)):s=ac(s,e,t),s}function Eb(s,e,t){return s===e?t:s===t?e:s}function ac(s,e,t){return s==="start"?e:s==="end"?t:s}function Pb(s,{inflateAmount:e},t){s.inflateAmount=e==="auto"?t===1?.33:0:e}class nd extends ns{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,t,n,i){return ic(e,t,n,i)}parseArrayData(e,t,n,i){return ic(e,t,n,i)}parseObjectData(e,t,n,i){const{iScale:r,vScale:a}=e,{xAxisKey:o="x",yAxisKey:c="y"}=this._parsing,l=r.axis==="x"?o:c,u=a.axis==="x"?o:c,m=[];let f,h,p,g;for(f=n,h=n+i;f<h;++f)g=t[f],p={},p[r.axis]=r.parse(Zt(g,l),f),m.push(sd(Zt(g,u),p,a,f));return m}updateRangeFromParsed(e,t,n,i){super.updateRangeFromParsed(e,t,n,i);const r=n._custom;r&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:n,vScale:i}=t,r=this.getParsed(e),a=r._custom,o=Rr(a)?"["+a.start+", "+a.end+"]":""+i.getLabelForValue(r[i.axis]);return{label:""+n.getLabelForValue(r[n.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,n,i){const r=i==="reset",{index:a,_cachedMeta:{vScale:o}}=this,c=o.getBasePixel(),l=o.isHorizontal(),u=this._getRuler(),{sharedOptions:m,includeOptions:f}=this._getSharedOptions(t,i);for(let h=t;h<t+n;h++){const p=this.getParsed(h),g=r||ve(p[o.axis])?{base:c,head:c}:this._calculateBarValuePixels(h),y=this._calculateBarIndexPixels(h,u),k=(p._stacks||{})[o.axis],D={horizontal:l,base:g.base,enableBorderRadius:!k||Rr(p._custom)||a===k._top||a===k._bottom,x:l?g.head:y.center,y:l?y.center:g.head,height:l?y.size:Math.abs(g.size),width:l?Math.abs(g.size):y.size};f&&(D.options=m||this.resolveDataElementOptions(h,e[h].active?"active":i));const j=D.options||e[h].options;Cb(D,j,k,a),Pb(D,j,u.ratio),this.updateElement(e[h],h,D,i)}}_getStacks(e,t){const{iScale:n}=this._cachedMeta,i=n.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),r=n.options.stacked,a=[],o=this._cachedMeta.controller.getParsed(t),c=o&&o[n.axis],l=u=>{const m=u._parsed.find(h=>h[n.axis]===c),f=m&&m[u.vScale.axis];if(ve(f)||isNaN(f))return!0};for(const u of i)if(!(t!==void 0&&l(u))&&((r===!1||a.indexOf(u.stack)===-1||r===void 0&&u.stack===void 0)&&a.push(u.stack),u.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(n=>e[n].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)e[de(this.chart.options.indexAxis==="x"?n.xAxisID:n.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,n){const i=this._getStacks(e,n),r=t!==void 0?i.indexOf(t):-1;return r===-1?i.length-1:r}_getRuler(){const e=this.options,t=this._cachedMeta,n=t.iScale,i=[];let r,a;for(r=0,a=t.data.length;r<a;++r)i.push(n.getPixelForValue(this.getParsed(r)[n.axis],r));const o=e.barThickness;return{min:o||xb(t),pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:o?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:n,index:i},options:{base:r,minBarLength:a}}=this,o=r||0,c=this.getParsed(e),l=c._custom,u=Rr(l);let m=c[t.axis],f=0,h=n?this.applyStack(t,c,n):m,p,g;h!==m&&(f=h-m,h=m),u&&(m=l.barStart,h=l.barEnd-l.barStart,m!==0&&ft(m)!==ft(l.barEnd)&&(f=0),f+=m);const y=!ve(r)&&!u?r:f;let k=t.getPixelForValue(y);if(this.chart.getDataVisibility(e)?p=t.getPixelForValue(f+h):p=k,g=p-k,Math.abs(g)<a){g=wb(g,t,o)*a,m===o&&(k-=g/2);const D=t.getPixelForDecimal(0),j=t.getPixelForDecimal(1),S=Math.min(D,j),v=Math.max(D,j);k=Math.max(Math.min(k,v),S),p=k+g,n&&!u&&(c._stacks[t.axis]._visualValues[i]=t.getValueForPixel(p)-t.getValueForPixel(k))}if(k===t.getPixelForValue(o)){const D=ft(g)*t.getLineWidthForValue(o)/2;k+=D,g-=D}return{size:g,base:k,head:p,center:p+g/2}}_calculateBarIndexPixels(e,t){const n=t.scale,i=this.options,r=i.skipNull,a=de(i.maxBarThickness,1/0);let o,c;const l=this._getAxisCount();if(t.grouped){const u=r?this._getStackCount(e):t.stackCount,m=i.barThickness==="flex"?kb(e,t,i,u*l):vb(e,t,i,u*l),f=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,h=this._getAxis().indexOf(de(f,this.getFirstScaleIdForIndexAxis())),p=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0)+h;o=m.start+m.chunk*p+m.chunk/2,c=Math.min(a,m.chunk*m.ratio)}else o=n.getPixelForValue(this.getParsed(e)[n.axis],e),c=Math.min(a,t.min*t.ratio);return{base:o-c/2,head:o+c/2,center:o,size:c}}draw(){const e=this._cachedMeta,t=e.vScale,n=e.data,i=n.length;let r=0;for(;r<i;++r)this.getParsed(r)[t.axis]!==null&&!n[r].hidden&&n[r].draw(this._ctx)}}class Sb extends ns{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,n,i){const r=super.parsePrimitiveData(e,t,n,i);for(let a=0;a<r.length;a++)r[a]._custom=this.resolveDataElementOptions(a+n).radius;return r}parseArrayData(e,t,n,i){const r=super.parseArrayData(e,t,n,i);for(let a=0;a<r.length;a++){const o=t[n+a];r[a]._custom=de(o[2],this.resolveDataElementOptions(a+n).radius)}return r}parseObjectData(e,t,n,i){const r=super.parseObjectData(e,t,n,i);for(let a=0;a<r.length;a++){const o=t[n+a];r[a]._custom=de(o&&o.r&&+o.r,this.resolveDataElementOptions(a+n).radius)}return r}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:r}=t,a=this.getParsed(e),o=i.getLabelForValue(a.x),c=r.getLabelForValue(a.y),l=a._custom;return{label:n[e]||"",value:"("+o+", "+c+(l?", "+l:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,n,i){const r=i==="reset",{iScale:a,vScale:o}=this._cachedMeta,{sharedOptions:c,includeOptions:l}=this._getSharedOptions(t,i),u=a.axis,m=o.axis;for(let f=t;f<t+n;f++){const h=e[f],p=!r&&this.getParsed(f),g={},y=g[u]=r?a.getPixelForDecimal(.5):a.getPixelForValue(p[u]),k=g[m]=r?o.getBasePixel():o.getPixelForValue(p[m]);g.skip=isNaN(y)||isNaN(k),l&&(g.options=c||this.resolveDataElementOptions(f,h.active?"active":i),r&&(g.options.radius=0)),this.updateElement(h,f,g,i)}}resolveDataElementOptions(e,t){const n=this.getParsed(e);let i=super.resolveDataElementOptions(e,t);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const r=i.radius;return t!=="active"&&(i.radius=0),i.radius+=de(n&&n._custom,r),i}}function jb(s,e,t){let n=1,i=1,r=0,a=0;if(e<Te){const o=s,c=o+e,l=Math.cos(o),u=Math.sin(o),m=Math.cos(c),f=Math.sin(c),h=(j,S,v)=>An(j,o,c,!0)?1:Math.max(S,S*t,v,v*t),p=(j,S,v)=>An(j,o,c,!0)?-1:Math.min(S,S*t,v,v*t),g=h(0,l,m),y=h(Re,u,f),k=p(De,l,m),D=p(De+Re,u,f);n=(g-k)/2,i=(y-D)/2,r=-(g+k)/2,a=-(y+D)/2}return{ratioX:n,ratioY:i,offsetX:r,offsetY:a}}class nr extends ns{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:i}}=e.legend.options;return t.labels.map((r,a)=>{const c=e.getDatasetMeta(0).controller.getStyle(a);return{text:r,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:i,lineWidth:c.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const n=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=n;else{let r=c=>+n[c];if(Ne(n[e])){const{key:c="value"}=this._parsing;r=l=>+Zt(n[l],c)}let a,o;for(a=e,o=e+t;a<o;++a)i._parsed[a]=r(a)}}_getRotation(){return bt(this.options.rotation-90)}_getCircumference(){return bt(this.options.circumference)}_getRotationExtents(){let e=Te,t=-Te;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const i=this.chart.getDatasetMeta(n).controller,r=i._getRotation(),a=i._getCircumference();e=Math.min(e,r),t=Math.max(t,r+a)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:n}=t,i=this._cachedMeta,r=i.data,a=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,o=Math.max((Math.min(n.width,n.height)-a)/2,0),c=Math.min(Fp(this.options.cutout,o),1),l=this._getRingWeight(this.index),{circumference:u,rotation:m}=this._getRotationExtents(),{ratioX:f,ratioY:h,offsetX:p,offsetY:g}=jb(m,u,c),y=(n.width-a)/f,k=(n.height-a)/h,D=Math.max(Math.min(y,k)/2,0),j=ju(this.options.radius,D),S=Math.max(j*c,0),v=(j-S)/this._getVisibleDatasetWeightTotal();this.offsetX=p*j,this.offsetY=g*j,i.total=this.calculateTotal(),this.outerRadius=j-v*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-v*l,0),this.updateElements(r,0,r.length,e)}_circumference(e,t){const n=this.options,i=this._cachedMeta,r=this._getCircumference();return t&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*r/Te)}updateElements(e,t,n,i){const r=i==="reset",a=this.chart,o=a.chartArea,l=a.options.animation,u=(o.left+o.right)/2,m=(o.top+o.bottom)/2,f=r&&l.animateScale,h=f?0:this.innerRadius,p=f?0:this.outerRadius,{sharedOptions:g,includeOptions:y}=this._getSharedOptions(t,i);let k=this._getRotation(),D;for(D=0;D<t;++D)k+=this._circumference(D,r);for(D=t;D<t+n;++D){const j=this._circumference(D,r),S=e[D],v={x:u+this.offsetX,y:m+this.offsetY,startAngle:k,endAngle:k+j,circumference:j,outerRadius:p,innerRadius:h};y&&(v.options=g||this.resolveDataElementOptions(D,S.active?"active":i)),k+=j,this.updateElement(S,D,v,i)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let n=0,i;for(i=0;i<t.length;i++){const r=e._parsed[i];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(i)&&!t[i].hidden&&(n+=Math.abs(r))}return n}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?Te*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,i=n.data.labels||[],r=Fn(t._parsed[e],n.options.locale);return{label:i[e]||"",value:r}}getMaxBorderWidth(e){let t=0;const n=this.chart;let i,r,a,o,c;if(!e){for(i=0,r=n.data.datasets.length;i<r;++i)if(n.isDatasetVisible(i)){a=n.getDatasetMeta(i),e=a.data,o=a.controller;break}}if(!e)return 0;for(i=0,r=e.length;i<r;++i)c=o.resolveDataElementOptions(i),c.borderAlign!=="inner"&&(t=Math.max(t,c.borderWidth||0,c.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let n=0,i=e.length;n<i;++n){const r=this.resolveDataElementOptions(n);t=Math.max(t,r.offset||0,r.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}_getRingWeight(e){return Math.max(de(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class id extends ns{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:n,data:i=[],_dataset:r}=t,a=this.chart._animationsDisabled;let{start:o,count:c}=Iu(t,i,a);this._drawStart=o,this._drawCount=c,Ru(t)&&(o=0,c=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!r._decimated,n.points=i;const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(n,void 0,{animated:!a,options:l},e),this.updateElements(i,o,c,e)}updateElements(e,t,n,i){const r=i==="reset",{iScale:a,vScale:o,_stacked:c,_dataset:l}=this._cachedMeta,{sharedOptions:u,includeOptions:m}=this._getSharedOptions(t,i),f=a.axis,h=o.axis,{spanGaps:p,segment:g}=this.options,y=Hs(p)?p:Number.POSITIVE_INFINITY,k=this.chart._animationsDisabled||r||i==="none",D=t+n,j=e.length;let S=t>0&&this.getParsed(t-1);for(let v=0;v<j;++v){const N=e[v],C=k?N:{};if(v<t||v>=D){C.skip=!0;continue}const w=this.getParsed(v),T=ve(w[h]),_=C[f]=a.getPixelForValue(w[f],v),L=C[h]=r||T?o.getBasePixel():o.getPixelForValue(c?this.applyStack(o,w,c):w[h],v);C.skip=isNaN(_)||isNaN(L)||T,C.stop=v>0&&Math.abs(w[f]-S[f])>y,g&&(C.parsed=w,C.raw=l.data[v]),m&&(C.options=u||this.resolveDataElementOptions(v,N.active?"active":i)),k||this.updateElement(N,v,C,i),S=w}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,i=e.data||[];if(!i.length)return n;const r=i[0].size(this.resolveDataElementOptions(0)),a=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,r,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class rd extends ns{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:i}}=e.legend.options;return t.labels.map((r,a)=>{const c=e.getDatasetMeta(0).controller.getStyle(a);return{text:r,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:i,lineWidth:c.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,i=n.data.labels||[],r=Fn(t._parsed[e].r,n.options.locale);return{label:i[e]||"",value:r}}parseObjectData(e,t,n,i){return Yu.bind(this)(e,t,n,i)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((n,i)=>{const r=this.getParsed(i).r;!isNaN(r)&&this.chart.getDataVisibility(i)&&(r<t.min&&(t.min=r),r>t.max&&(t.max=r))}),t}_updateRadius(){const e=this.chart,t=e.chartArea,n=e.options,i=Math.min(t.right-t.left,t.bottom-t.top),r=Math.max(i/2,0),a=Math.max(n.cutoutPercentage?r/100*n.cutoutPercentage:1,0),o=(r-a)/e.getVisibleDatasetCount();this.outerRadius=r-o*this.index,this.innerRadius=this.outerRadius-o}updateElements(e,t,n,i){const r=i==="reset",a=this.chart,c=a.options.animation,l=this._cachedMeta.rScale,u=l.xCenter,m=l.yCenter,f=l.getIndexAngle(0)-.5*De;let h=f,p;const g=360/this.countVisibleElements();for(p=0;p<t;++p)h+=this._computeAngle(p,i,g);for(p=t;p<t+n;p++){const y=e[p];let k=h,D=h+this._computeAngle(p,i,g),j=a.getDataVisibility(p)?l.getDistanceFromCenterForValue(this.getParsed(p).r):0;h=D,r&&(c.animateScale&&(j=0),c.animateRotate&&(k=D=f));const S={x:u,y:m,innerRadius:0,outerRadius:j,startAngle:k,endAngle:D,options:this.resolveDataElementOptions(p,y.active?"active":i)};this.updateElement(y,p,S,i)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach((n,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&t++}),t}_computeAngle(e,t,n){return this.chart.getDataVisibility(e)?bt(this.resolveDataElementOptions(e,t).angle||n):0}}class _b extends nr{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class ad extends ns{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){const t=this._cachedMeta.vScale,n=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(n[t.axis])}}parseObjectData(e,t,n,i){return Yu.bind(this)(e,t,n,i)}update(e){const t=this._cachedMeta,n=t.dataset,i=t.data||[],r=t.iScale.getLabels();if(n.points=i,e!=="resize"){const a=this.resolveDatasetElementOptions(e);this.options.showLine||(a.borderWidth=0);const o={_loop:!0,_fullLoop:r.length===i.length,options:a};this.updateElement(n,void 0,o,e)}this.updateElements(i,0,i.length,e)}updateElements(e,t,n,i){const r=this._cachedMeta.rScale,a=i==="reset";for(let o=t;o<t+n;o++){const c=e[o],l=this.resolveDataElementOptions(o,c.active?"active":i),u=r.getPointPositionForValue(o,this.getParsed(o).r),m=a?r.xCenter:u.x,f=a?r.yCenter:u.y,h={x:m,y:f,angle:u.angle,skip:isNaN(m)||isNaN(f),options:l};this.updateElement(c,o,h,i)}}}class Tb extends ns{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:r}=t,a=this.getParsed(e),o=i.getLabelForValue(a.x),c=r.getLabelForValue(a.y);return{label:n[e]||"",value:"("+o+", "+c+")"}}update(e){const t=this._cachedMeta,{data:n=[]}=t,i=this.chart._animationsDisabled;let{start:r,count:a}=Iu(t,n,i);if(this._drawStart=r,this._drawCount=a,Ru(t)&&(r=0,a=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:o,_dataset:c}=t;o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!c._decimated,o.points=n;const l=this.resolveDatasetElementOptions(e);l.segment=this.options.segment,this.updateElement(o,void 0,{animated:!i,options:l},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(n,r,a,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,n,i){const r=i==="reset",{iScale:a,vScale:o,_stacked:c,_dataset:l}=this._cachedMeta,u=this.resolveDataElementOptions(t,i),m=this.getSharedOptions(u),f=this.includeOptions(i,m),h=a.axis,p=o.axis,{spanGaps:g,segment:y}=this.options,k=Hs(g)?g:Number.POSITIVE_INFINITY,D=this.chart._animationsDisabled||r||i==="none";let j=t>0&&this.getParsed(t-1);for(let S=t;S<t+n;++S){const v=e[S],N=this.getParsed(S),C=D?v:{},w=ve(N[p]),T=C[h]=a.getPixelForValue(N[h],S),_=C[p]=r||w?o.getBasePixel():o.getPixelForValue(c?this.applyStack(o,N,c):N[p],S);C.skip=isNaN(T)||isNaN(_)||w,C.stop=S>0&&Math.abs(N[h]-j[h])>k,y&&(C.parsed=N,C.raw=l.data[S]),f&&(C.options=m||this.resolveDataElementOptions(S,v.active?"active":i)),D||this.updateElement(v,S,C,i),j=N}this.updateSharedOptions(m,i,u)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let o=0;for(let c=t.length-1;c>=0;--c)o=Math.max(o,t[c].size(this.resolveDataElementOptions(c))/2);return o>0&&o}const n=e.dataset,i=n.options&&n.options.borderWidth||0;if(!t.length)return i;const r=t[0].size(this.resolveDataElementOptions(0)),a=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(i,r,a)/2}}var Ab=Object.freeze({__proto__:null,BarController:nd,BubbleController:Sb,DoughnutController:nr,LineController:id,PieController:_b,PolarAreaController:rd,RadarController:ad,ScatterController:Tb});function ls(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class so{static override(e){Object.assign(so.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return ls()}parse(){return ls()}format(){return ls()}add(){return ls()}diff(){return ls()}startOf(){return ls()}endOf(){return ls()}}var Vb={_date:so};function Mb(s,e,t,n){const{controller:i,data:r,_sorted:a}=s,o=i._cachedMeta.iScale,c=s.dataset&&s.dataset.options?s.dataset.options.spanGaps:null;if(o&&e===o.axis&&e!=="r"&&a&&r.length){const l=o._reversePixels?Zp:zt;if(n){if(i._sharedOptions){const u=r[0],m=typeof u.getRange=="function"&&u.getRange(e);if(m){const f=l(r,e,t-m),h=l(r,e,t+m);return{lo:f.lo,hi:h.hi}}}}else{const u=l(r,e,t);if(c){const{vScale:m}=i._cachedMeta,{_parsed:f}=s,h=f.slice(0,u.lo+1).reverse().findIndex(g=>!ve(g[m.axis]));u.lo-=Math.max(0,h);const p=f.slice(u.hi).findIndex(g=>!ve(g[m.axis]));u.hi+=Math.max(0,p)}return u}}return{lo:0,hi:r.length-1}}function ir(s,e,t,n,i){const r=s.getSortedVisibleDatasetMetas(),a=t[e];for(let o=0,c=r.length;o<c;++o){const{index:l,data:u}=r[o],{lo:m,hi:f}=Mb(r[o],e,a,i);for(let h=m;h<=f;++h){const p=u[h];p.skip||n(p,l,h)}}}function Lb(s){const e=s.indexOf("x")!==-1,t=s.indexOf("y")!==-1;return function(n,i){const r=e?Math.abs(n.x-i.x):0,a=t?Math.abs(n.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(a,2))}}function Ur(s,e,t,n,i){const r=[];return!i&&!s.isPointInArea(e)||ir(s,t,e,function(o,c,l){!i&&!St(o,s.chartArea,0)||o.inRange(e.x,e.y,n)&&r.push({element:o,datasetIndex:c,index:l})},!0),r}function Ob(s,e,t,n){let i=[];function r(a,o,c){const{startAngle:l,endAngle:u}=a.getProps(["startAngle","endAngle"],n),{angle:m}=Au(a,{x:e.x,y:e.y});An(m,l,u)&&i.push({element:a,datasetIndex:o,index:c})}return ir(s,t,e,r),i}function Ib(s,e,t,n,i,r){let a=[];const o=Lb(t);let c=Number.POSITIVE_INFINITY;function l(u,m,f){const h=u.inRange(e.x,e.y,i);if(n&&!h)return;const p=u.getCenterPoint(i);if(!(!!r||s.isPointInArea(p))&&!h)return;const y=o(e,p);y<c?(a=[{element:u,datasetIndex:m,index:f}],c=y):y===c&&a.push({element:u,datasetIndex:m,index:f})}return ir(s,t,e,l),a}function Fr(s,e,t,n,i,r){return!r&&!s.isPointInArea(e)?[]:t==="r"&&!n?Ob(s,e,t,i):Ib(s,e,t,n,i,r)}function oc(s,e,t,n,i){const r=[],a=t==="x"?"inXRange":"inYRange";let o=!1;return ir(s,t,e,(c,l,u)=>{c[a]&&c[a](e[t],i)&&(r.push({element:c,datasetIndex:l,index:u}),o=o||c.inRange(e.x,e.y,i))}),n&&!o?[]:r}var Rb={modes:{index(s,e,t,n){const i=Et(e,s),r=t.axis||"x",a=t.includeInvisible||!1,o=t.intersect?Ur(s,i,r,n,a):Fr(s,i,r,!1,n,a),c=[];return o.length?(s.getSortedVisibleDatasetMetas().forEach(l=>{const u=o[0].index,m=l.data[u];m&&!m.skip&&c.push({element:m,datasetIndex:l.index,index:u})}),c):[]},dataset(s,e,t,n){const i=Et(e,s),r=t.axis||"xy",a=t.includeInvisible||!1;let o=t.intersect?Ur(s,i,r,n,a):Fr(s,i,r,!1,n,a);if(o.length>0){const c=o[0].datasetIndex,l=s.getDatasetMeta(c).data;o=[];for(let u=0;u<l.length;++u)o.push({element:l[u],datasetIndex:c,index:u})}return o},point(s,e,t,n){const i=Et(e,s),r=t.axis||"xy",a=t.includeInvisible||!1;return Ur(s,i,r,n,a)},nearest(s,e,t,n){const i=Et(e,s),r=t.axis||"xy",a=t.includeInvisible||!1;return Fr(s,i,r,t.intersect,n,a)},x(s,e,t,n){const i=Et(e,s);return oc(s,i,"x",t.intersect,n)},y(s,e,t,n){const i=Et(e,s);return oc(s,i,"y",t.intersect,n)}}};const od=["left","top","right","bottom"];function ln(s,e){return s.filter(t=>t.pos===e)}function cc(s,e){return s.filter(t=>od.indexOf(t.pos)===-1&&t.box.axis===e)}function un(s,e){return s.sort((t,n)=>{const i=e?n:t,r=e?t:n;return i.weight===r.weight?i.index-r.index:i.weight-r.weight})}function Ub(s){const e=[];let t,n,i,r,a,o;for(t=0,n=(s||[]).length;t<n;++t)i=s[t],{position:r,options:{stack:a,stackWeight:o=1}}=i,e.push({index:t,box:i,pos:r,horizontal:i.isHorizontal(),weight:i.weight,stack:a&&r+a,stackWeight:o});return e}function Fb(s){const e={};for(const t of s){const{stack:n,pos:i,stackWeight:r}=t;if(!n||!od.includes(i))continue;const a=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=r}return e}function zb(s,e){const t=Fb(s),{vBoxMaxWidth:n,hBoxMaxHeight:i}=e;let r,a,o;for(r=0,a=s.length;r<a;++r){o=s[r];const{fullSize:c}=o.box,l=t[o.stack],u=l&&o.stackWeight/l.weight;o.horizontal?(o.width=u?u*n:c&&e.availableWidth,o.height=i):(o.width=n,o.height=u?u*i:c&&e.availableHeight)}return t}function Bb(s){const e=Ub(s),t=un(e.filter(l=>l.box.fullSize),!0),n=un(ln(e,"left"),!0),i=un(ln(e,"right")),r=un(ln(e,"top"),!0),a=un(ln(e,"bottom")),o=cc(e,"x"),c=cc(e,"y");return{fullSize:t,leftAndTop:n.concat(r),rightAndBottom:i.concat(c).concat(a).concat(o),chartArea:ln(e,"chartArea"),vertical:n.concat(i).concat(c),horizontal:r.concat(a).concat(o)}}function lc(s,e,t,n){return Math.max(s[t],e[t])+Math.max(s[n],e[n])}function cd(s,e){s.top=Math.max(s.top,e.top),s.left=Math.max(s.left,e.left),s.bottom=Math.max(s.bottom,e.bottom),s.right=Math.max(s.right,e.right)}function Wb(s,e,t,n){const{pos:i,box:r}=t,a=s.maxPadding;if(!Ne(i)){t.size&&(s[i]-=t.size);const m=n[t.stack]||{size:0,count:1};m.size=Math.max(m.size,t.horizontal?r.height:r.width),t.size=m.size/m.count,s[i]+=t.size}r.getPadding&&cd(a,r.getPadding());const o=Math.max(0,e.outerWidth-lc(a,s,"left","right")),c=Math.max(0,e.outerHeight-lc(a,s,"top","bottom")),l=o!==s.w,u=c!==s.h;return s.w=o,s.h=c,t.horizontal?{same:l,other:u}:{same:u,other:l}}function $b(s){const e=s.maxPadding;function t(n){const i=Math.max(e[n]-s[n],0);return s[n]+=i,i}s.y+=t("top"),s.x+=t("left"),t("right"),t("bottom")}function Hb(s,e){const t=e.maxPadding;function n(i){const r={left:0,top:0,right:0,bottom:0};return i.forEach(a=>{r[a]=Math.max(e[a],t[a])}),r}return n(s?["left","right"]:["top","bottom"])}function yn(s,e,t,n){const i=[];let r,a,o,c,l,u;for(r=0,a=s.length,l=0;r<a;++r){o=s[r],c=o.box,c.update(o.width||e.w,o.height||e.h,Hb(o.horizontal,e));const{same:m,other:f}=Wb(e,t,o,n);l|=m&&i.length,u=u||f,c.fullSize||i.push(o)}return l&&yn(i,e,t,n)||u}function hi(s,e,t,n,i){s.top=t,s.left=e,s.right=e+n,s.bottom=t+i,s.width=n,s.height=i}function uc(s,e,t,n){const i=t.padding;let{x:r,y:a}=e;for(const o of s){const c=o.box,l=n[o.stack]||{placed:0,weight:1},u=o.stackWeight/l.weight||1;if(o.horizontal){const m=e.w*u,f=l.size||c.height;Tn(l.start)&&(a=l.start),c.fullSize?hi(c,i.left,a,t.outerWidth-i.right-i.left,f):hi(c,e.left+l.placed,a,m,f),l.start=a,l.placed+=m,a=c.bottom}else{const m=e.h*u,f=l.size||c.width;Tn(l.start)&&(r=l.start),c.fullSize?hi(c,r,i.top,f,t.outerHeight-i.bottom-i.top):hi(c,r,e.top+l.placed,f,m),l.start=r,l.placed+=m,r=c.right}}e.x=r,e.y=a}var Xe={addBox(s,e){s.boxes||(s.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},s.boxes.push(e)},removeBox(s,e){const t=s.boxes?s.boxes.indexOf(e):-1;t!==-1&&s.boxes.splice(t,1)},configure(s,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(s,e,t,n){if(!s)return;const i=Je(s.options.layout.padding),r=Math.max(e-i.width,0),a=Math.max(t-i.height,0),o=Bb(s.boxes),c=o.vertical,l=o.horizontal;xe(s.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const u=c.reduce((g,y)=>y.box.options&&y.box.options.display===!1?g:g+1,0)||1,m=Object.freeze({outerWidth:e,outerHeight:t,padding:i,availableWidth:r,availableHeight:a,vBoxMaxWidth:r/2/u,hBoxMaxHeight:a/2}),f=Object.assign({},i);cd(f,Je(n));const h=Object.assign({maxPadding:f,w:r,h:a,x:i.left,y:i.top},i),p=zb(c.concat(l),m);yn(o.fullSize,h,m,p),yn(c,h,m,p),yn(l,h,m,p)&&yn(c,h,m,p),$b(h),uc(o.leftAndTop,h,m,p),h.x+=h.w,h.y+=h.h,uc(o.rightAndBottom,h,m,p),s.chartArea={left:h.left,top:h.top,right:h.left+h.w,bottom:h.top+h.h,height:h.h,width:h.w},xe(o.chartArea,g=>{const y=g.box;Object.assign(y,s.chartArea),y.update(h.w,h.h,{left:0,top:0,right:0,bottom:0})})}};class ld{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,i){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):n)}}isAttached(e){return!0}updateConfig(e){}}class Yb extends ld{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const _i="$chartjs",qb={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},dc=s=>s===null||s==="";function Kb(s,e){const t=s.style,n=s.getAttribute("height"),i=s.getAttribute("width");if(s[_i]={initial:{height:n,width:i,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",dc(i)){const r=Ko(s,"width");r!==void 0&&(s.width=r)}if(dc(n))if(s.style.height==="")s.height=s.width/(e||2);else{const r=Ko(s,"height");r!==void 0&&(s.height=r)}return s}const ud=Yg?{passive:!0}:!1;function Gb(s,e,t){s&&s.addEventListener(e,t,ud)}function Qb(s,e,t){s&&s.canvas&&s.canvas.removeEventListener(e,t,ud)}function Xb(s,e){const t=qb[s.type]||s.type,{x:n,y:i}=Et(s,e);return{type:t,chart:e,native:s,x:n!==void 0?n:null,y:i!==void 0?i:null}}function zi(s,e){for(const t of s)if(t===e||t.contains(e))return!0}function Jb(s,e,t){const n=s.canvas,i=new MutationObserver(r=>{let a=!1;for(const o of r)a=a||zi(o.addedNodes,n),a=a&&!zi(o.removedNodes,n);a&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}function Zb(s,e,t){const n=s.canvas,i=new MutationObserver(r=>{let a=!1;for(const o of r)a=a||zi(o.removedNodes,n),a=a&&!zi(o.addedNodes,n);a&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}const Mn=new Map;let mc=0;function dd(){const s=window.devicePixelRatio;s!==mc&&(mc=s,Mn.forEach((e,t)=>{t.currentDevicePixelRatio!==s&&e()}))}function ey(s,e){Mn.size||window.addEventListener("resize",dd),Mn.set(s,e)}function ty(s){Mn.delete(s),Mn.size||window.removeEventListener("resize",dd)}function sy(s,e,t){const n=s.canvas,i=n&&to(n);if(!i)return;const r=Ou((o,c)=>{const l=i.clientWidth;t(o,c),l<i.clientWidth&&t()},window),a=new ResizeObserver(o=>{const c=o[0],l=c.contentRect.width,u=c.contentRect.height;l===0&&u===0||r(l,u)});return a.observe(i),ey(s,r),a}function zr(s,e,t){t&&t.disconnect(),e==="resize"&&ty(s)}function ny(s,e,t){const n=s.canvas,i=Ou(r=>{s.ctx!==null&&t(Xb(r,s))},s);return Gb(n,e,i),i}class iy extends ld{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(Kb(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t[_i])return!1;const n=t[_i].initial;["height","width"].forEach(r=>{const a=n[r];ve(a)?t.removeAttribute(r):t.setAttribute(r,a)});const i=n.style||{};return Object.keys(i).forEach(r=>{t.style[r]=i[r]}),t.width=t.width,delete t[_i],!0}addEventListener(e,t,n){this.removeEventListener(e,t);const i=e.$proxies||(e.$proxies={}),a={attach:Jb,detach:Zb,resize:sy}[t]||ny;i[t]=a(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),i=n[t];if(!i)return;({attach:zr,detach:zr,resize:zr}[t]||Qb)(e,t,i),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,i){return Hg(e,t,n,i)}isAttached(e){const t=e&&to(e);return!!(t&&t.isConnected)}}function ry(s){return!eo()||typeof OffscreenCanvas<"u"&&s instanceof OffscreenCanvas?Yb:iy}let Bt=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return Hs(this.x)&&Hs(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const i={};return e.forEach(r=>{i[r]=n[r]&&n[r].active()?n[r]._to:this[r]}),i}};function ay(s,e){const t=s.options.ticks,n=oy(s),i=Math.min(t.maxTicksLimit||n,n),r=t.major.enabled?ly(e):[],a=r.length,o=r[0],c=r[a-1],l=[];if(a>i)return uy(e,l,r,a/i),l;const u=cy(r,e,i);if(a>0){let m,f;const h=a>1?Math.round((c-o)/(a-1)):null;for(pi(e,l,u,ve(h)?0:o-h,o),m=0,f=a-1;m<f;m++)pi(e,l,u,r[m],r[m+1]);return pi(e,l,u,c,ve(h)?e.length:c+h),l}return pi(e,l,u),l}function oy(s){const e=s.options.offset,t=s._tickSize(),n=s._length/t+(e?0:1),i=s._maxLength/t;return Math.floor(Math.min(n,i))}function cy(s,e,t){const n=dy(s),i=e.length/t;if(!n)return Math.max(i,1);const r=Kp(n);for(let a=0,o=r.length-1;a<o;a++){const c=r[a];if(c>i)return c}return Math.max(i,1)}function ly(s){const e=[];let t,n;for(t=0,n=s.length;t<n;t++)s[t].major&&e.push(t);return e}function uy(s,e,t,n){let i=0,r=t[0],a;for(n=Math.ceil(n),a=0;a<s.length;a++)a===r&&(e.push(s[a]),i++,r=t[i*n])}function pi(s,e,t,n,i){const r=de(n,0),a=Math.min(de(i,s.length),s.length);let o=0,c,l,u;for(t=Math.ceil(t),i&&(c=i-n,t=c/Math.floor(c/t)),u=r;u<0;)o++,u=Math.round(r+o*t);for(l=Math.max(r,0);l<a;l++)l===u&&(e.push(s[l]),o++,u=Math.round(r+o*t))}function dy(s){const e=s.length;let t,n;if(e<2)return!1;for(n=s[0],t=1;t<e;++t)if(s[t]-s[t-1]!==n)return!1;return n}const my=s=>s==="left"?"right":s==="right"?"left":s,fc=(s,e,t)=>e==="top"||e==="left"?s[e]+t:s[e]-t,hc=(s,e)=>Math.min(e||s,s);function pc(s,e){const t=[],n=s.length/e,i=s.length;let r=0;for(;r<i;r+=n)t.push(s[Math.floor(r)]);return t}function fy(s,e,t){const n=s.ticks.length,i=Math.min(e,n-1),r=s._startPixel,a=s._endPixel,o=1e-6;let c=s.getPixelForTick(i),l;if(!(t&&(n===1?l=Math.max(c-r,a-c):e===0?l=(s.getPixelForTick(1)-c)/2:l=(c-s.getPixelForTick(i-1))/2,c+=i<e?l:-l,c<r-o||c>a+o)))return c}function hy(s,e){xe(s,t=>{const n=t.gc,i=n.length/2;let r;if(i>e){for(r=0;r<i;++r)delete t.data[n[r]];n.splice(0,i)}})}function dn(s){return s.drawTicks?s.tickLength:0}function gc(s,e){if(!s.display)return 0;const t=ze(s.font,e),n=Je(s.padding);return(Me(s.text)?s.text.length:1)*t.lineHeight+n.height}function py(s,e){return ss(s,{scale:e,type:"scale"})}function gy(s,e,t){return ss(s,{tick:t,index:e,type:"tick"})}function by(s,e,t){let n=Ka(s);return(t&&e!=="right"||!t&&e==="right")&&(n=my(n)),n}function yy(s,e,t,n){const{top:i,left:r,bottom:a,right:o,chart:c}=s,{chartArea:l,scales:u}=c;let m=0,f,h,p;const g=a-i,y=o-r;if(s.isHorizontal()){if(h=Ge(n,r,o),Ne(t)){const k=Object.keys(t)[0],D=t[k];p=u[k].getPixelForValue(D)+g-e}else t==="center"?p=(l.bottom+l.top)/2+g-e:p=fc(s,t,e);f=o-r}else{if(Ne(t)){const k=Object.keys(t)[0],D=t[k];h=u[k].getPixelForValue(D)-y+e}else t==="center"?h=(l.left+l.right)/2-y+e:h=fc(s,t,e);p=Ge(n,a,i),m=t==="left"?-Re:Re}return{titleX:h,titleY:p,maxWidth:f,rotation:m}}class Ds extends Bt{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:i}=this;return e=ut(e,Number.POSITIVE_INFINITY),t=ut(t,Number.NEGATIVE_INFINITY),n=ut(n,Number.POSITIVE_INFINITY),i=ut(i,Number.NEGATIVE_INFINITY),{min:ut(e,n),max:ut(t,i),minDefined:Ie(e),maxDefined:Ie(t)}}getMinMax(e){let{min:t,max:n,minDefined:i,maxDefined:r}=this.getUserBounds(),a;if(i&&r)return{min:t,max:n};const o=this.getMatchingVisibleMetas();for(let c=0,l=o.length;c<l;++c)a=o[c].controller.getMinMax(this,e),i||(t=Math.min(t,a.min)),r||(n=Math.max(n,a.max));return t=r&&t>n?n:t,n=i&&t>n?t:n,{min:ut(t,ut(n,t)),max:ut(n,ut(t,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ue(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:i,grace:r,ticks:a}=this.options,o=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=wg(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=o<this.ticks.length;this._convertTicksToLabels(c?pc(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=ay(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,n;this.isHorizontal()?(t=this.left,n=this.right):(t=this.top,n=this.bottom,e=!e),this._startPixel=t,this._endPixel=n,this._reversePixels=e,this._length=n-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ue(this.options.afterUpdate,[this])}beforeSetDimensions(){ue(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ue(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),ue(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ue(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,i,r;for(n=0,i=e.length;n<i;n++)r=e[n],r.label=ue(t.callback,[r.value,n,e],this)}afterTickToLabelConversion(){ue(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ue(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=hc(this.ticks.length,e.ticks.maxTicksLimit),i=t.minRotation||0,r=t.maxRotation;let a=i,o,c,l;if(!this._isVisible()||!t.display||i>=r||n<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),m=u.widest.width,f=u.highest.height,h=He(this.chart.width-m,0,this.maxWidth);o=e.offset?this.maxWidth/n:h/(n-1),m+6>o&&(o=h/(n-(e.offset?.5:1)),c=this.maxHeight-dn(e.grid)-t.padding-gc(e.title,this.chart.options.font),l=Math.sqrt(m*m+f*f),a=Ya(Math.min(Math.asin(He((u.highest.height+6)/o,-1,1)),Math.asin(He(c/l,-1,1))-Math.asin(He(f/l,-1,1)))),a=Math.max(i,Math.min(r,a))),this.labelRotation=a}afterCalculateLabelRotation(){ue(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ue(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:i,grid:r}}=this,a=this._isVisible(),o=this.isHorizontal();if(a){const c=gc(i,t.options.font);if(o?(e.width=this.maxWidth,e.height=dn(r)+c):(e.height=this.maxHeight,e.width=dn(r)+c),n.display&&this.ticks.length){const{first:l,last:u,widest:m,highest:f}=this._getLabelSizes(),h=n.padding*2,p=bt(this.labelRotation),g=Math.cos(p),y=Math.sin(p);if(o){const k=n.mirror?0:y*m.width+g*f.height;e.height=Math.min(this.maxHeight,e.height+k+h)}else{const k=n.mirror?0:g*m.width+y*f.height;e.width=Math.min(this.maxWidth,e.width+k+h)}this._calculatePadding(l,u,y,g)}}this._handleMargins(),o?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,i){const{ticks:{align:r,padding:a},position:o}=this.options,c=this.labelRotation!==0,l=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,m=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,h=0;c?l?(f=i*e.width,h=n*t.height):(f=n*e.height,h=i*t.width):r==="start"?h=t.width:r==="end"?f=e.width:r!=="inner"&&(f=e.width/2,h=t.width/2),this.paddingLeft=Math.max((f-u+a)*this.width/(this.width-u),0),this.paddingRight=Math.max((h-m+a)*this.width/(this.width-m),0)}else{let u=t.height/2,m=e.height/2;r==="start"?(u=0,m=e.height):r==="end"&&(u=t.height,m=0),this.paddingTop=u+a,this.paddingBottom=m+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ue(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,n;for(t=0,n=e.length;t<n;t++)ve(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=pc(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,n){const{ctx:i,_longestTextCache:r}=this,a=[],o=[],c=Math.floor(t/hc(t,n));let l=0,u=0,m,f,h,p,g,y,k,D,j,S,v;for(m=0;m<t;m+=c){if(p=e[m].label,g=this._resolveTickFontOptions(m),i.font=y=g.string,k=r[y]=r[y]||{data:{},gc:[]},D=g.lineHeight,j=S=0,!ve(p)&&!Me(p))j=Ui(i,k.data,k.gc,j,p),S=D;else if(Me(p))for(f=0,h=p.length;f<h;++f)v=p[f],!ve(v)&&!Me(v)&&(j=Ui(i,k.data,k.gc,j,v),S+=D);a.push(j),o.push(S),l=Math.max(j,l),u=Math.max(S,u)}hy(r,t);const N=a.indexOf(l),C=o.indexOf(u),w=T=>({width:a[T]||0,height:o[T]||0});return{first:w(0),last:w(t-1),widest:w(N),highest:w(C),widths:a,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return Jp(this._alignToPixels?cs(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=gy(this.getContext(),e,n))}return this.$context||(this.$context=py(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=bt(this.labelRotation),n=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),r=this._getLabelSizes(),a=e.autoSkipPadding||0,o=r?r.widest.width+a:0,c=r?r.highest.height+a:0;return this.isHorizontal()?c*n>o*i?o/n:c/i:c*i<o*n?c/n:o/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,i=this.options,{grid:r,position:a,border:o}=i,c=r.offset,l=this.isHorizontal(),m=this.ticks.length+(c?1:0),f=dn(r),h=[],p=o.setContext(this.getContext()),g=p.display?p.width:0,y=g/2,k=function(q){return cs(n,q,g)};let D,j,S,v,N,C,w,T,_,L,O,M;if(a==="top")D=k(this.bottom),C=this.bottom-f,T=D-y,L=k(e.top)+y,M=e.bottom;else if(a==="bottom")D=k(this.top),L=e.top,M=k(e.bottom)-y,C=D+y,T=this.top+f;else if(a==="left")D=k(this.right),N=this.right-f,w=D-y,_=k(e.left)+y,O=e.right;else if(a==="right")D=k(this.left),_=e.left,O=k(e.right)-y,N=D+y,w=this.left+f;else if(t==="x"){if(a==="center")D=k((e.top+e.bottom)/2+.5);else if(Ne(a)){const q=Object.keys(a)[0],se=a[q];D=k(this.chart.scales[q].getPixelForValue(se))}L=e.top,M=e.bottom,C=D+y,T=C+f}else if(t==="y"){if(a==="center")D=k((e.left+e.right)/2);else if(Ne(a)){const q=Object.keys(a)[0],se=a[q];D=k(this.chart.scales[q].getPixelForValue(se))}N=D-y,w=N-f,_=e.left,O=e.right}const H=de(i.ticks.maxTicksLimit,m),ne=Math.max(1,Math.ceil(m/H));for(j=0;j<m;j+=ne){const q=this.getContext(j),se=r.setContext(q),z=o.setContext(q),ke=se.lineWidth,I=se.color,R=z.dash||[],X=z.dashOffset,G=se.tickWidth,Y=se.tickColor,oe=se.tickBorderDash||[],re=se.tickBorderDashOffset;S=fy(this,j,c),S!==void 0&&(v=cs(n,S,ke),l?N=w=_=O=v:C=T=L=M=v,h.push({tx1:N,ty1:C,tx2:w,ty2:T,x1:_,y1:L,x2:O,y2:M,width:ke,color:I,borderDash:R,borderDashOffset:X,tickWidth:G,tickColor:Y,tickBorderDash:oe,tickBorderDashOffset:re}))}return this._ticksLength=m,this._borderValue=D,h}_computeLabelItems(e){const t=this.axis,n=this.options,{position:i,ticks:r}=n,a=this.isHorizontal(),o=this.ticks,{align:c,crossAlign:l,padding:u,mirror:m}=r,f=dn(n.grid),h=f+u,p=m?-u:h,g=-bt(this.labelRotation),y=[];let k,D,j,S,v,N,C,w,T,_,L,O,M="middle";if(i==="top")N=this.bottom-p,C=this._getXAxisLabelAlignment();else if(i==="bottom")N=this.top+p,C=this._getXAxisLabelAlignment();else if(i==="left"){const ne=this._getYAxisLabelAlignment(f);C=ne.textAlign,v=ne.x}else if(i==="right"){const ne=this._getYAxisLabelAlignment(f);C=ne.textAlign,v=ne.x}else if(t==="x"){if(i==="center")N=(e.top+e.bottom)/2+h;else if(Ne(i)){const ne=Object.keys(i)[0],q=i[ne];N=this.chart.scales[ne].getPixelForValue(q)+h}C=this._getXAxisLabelAlignment()}else if(t==="y"){if(i==="center")v=(e.left+e.right)/2-h;else if(Ne(i)){const ne=Object.keys(i)[0],q=i[ne];v=this.chart.scales[ne].getPixelForValue(q)}C=this._getYAxisLabelAlignment(f).textAlign}t==="y"&&(c==="start"?M="top":c==="end"&&(M="bottom"));const H=this._getLabelSizes();for(k=0,D=o.length;k<D;++k){j=o[k],S=j.label;const ne=r.setContext(this.getContext(k));w=this.getPixelForTick(k)+r.labelOffset,T=this._resolveTickFontOptions(k),_=T.lineHeight,L=Me(S)?S.length:1;const q=L/2,se=ne.color,z=ne.textStrokeColor,ke=ne.textStrokeWidth;let I=C;a?(v=w,C==="inner"&&(k===D-1?I=this.options.reverse?"left":"right":k===0?I=this.options.reverse?"right":"left":I="center"),i==="top"?l==="near"||g!==0?O=-L*_+_/2:l==="center"?O=-H.highest.height/2-q*_+_:O=-H.highest.height+_/2:l==="near"||g!==0?O=_/2:l==="center"?O=H.highest.height/2-q*_:O=H.highest.height-L*_,m&&(O*=-1),g!==0&&!ne.showLabelBackdrop&&(v+=_/2*Math.sin(g))):(N=w,O=(1-L)*_/2);let R;if(ne.showLabelBackdrop){const X=Je(ne.backdropPadding),G=H.heights[k],Y=H.widths[k];let oe=O-X.top,re=0-X.left;switch(M){case"middle":oe-=G/2;break;case"bottom":oe-=G;break}switch(C){case"center":re-=Y/2;break;case"right":re-=Y;break;case"inner":k===D-1?re-=Y:k>0&&(re-=Y/2);break}R={left:re,top:oe,width:Y+X.width,height:G+X.height,color:ne.backdropColor}}y.push({label:S,font:T,textOffset:O,options:{rotation:g,color:se,strokeColor:z,strokeWidth:ke,textAlign:I,textBaseline:M,translation:[v,N],backdrop:R}})}return y}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-bt(this.labelRotation))return e==="top"?"left":"right";let i="center";return t.align==="start"?i="left":t.align==="end"?i="right":t.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:i,padding:r}}=this.options,a=this._getLabelSizes(),o=e+r,c=a.widest.width;let l,u;return t==="left"?i?(u=this.right+r,n==="near"?l="left":n==="center"?(l="center",u+=c/2):(l="right",u+=c)):(u=this.right-o,n==="near"?l="right":n==="center"?(l="center",u-=c/2):(l="left",u=this.left)):t==="right"?i?(u=this.left+r,n==="near"?l="right":n==="center"?(l="center",u-=c/2):(l="left",u-=c)):(u=this.left+o,n==="near"?l="left":n==="center"?(l="center",u+=c/2):(l="right",u=this.right)):l="right",{textAlign:l,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:i,width:r,height:a}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,i,r,a),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const i=this.ticks.findIndex(r=>r.value===e);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const t=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,a;const o=(c,l,u)=>{!u.width||!u.color||(n.save(),n.lineWidth=u.width,n.strokeStyle=u.color,n.setLineDash(u.borderDash||[]),n.lineDashOffset=u.borderDashOffset,n.beginPath(),n.moveTo(c.x,c.y),n.lineTo(l.x,l.y),n.stroke(),n.restore())};if(t.display)for(r=0,a=i.length;r<a;++r){const c=i[r];t.drawOnChartArea&&o({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),t.drawTicks&&o({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:n,grid:i}}=this,r=n.setContext(this.getContext()),a=n.display?r.width:0;if(!a)return;const o=i.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let l,u,m,f;this.isHorizontal()?(l=cs(e,this.left,a)-a/2,u=cs(e,this.right,o)+o/2,m=f=c):(m=cs(e,this.top,a)-a/2,f=cs(e,this.bottom,o)+o/2,l=u=c),t.save(),t.lineWidth=r.width,t.strokeStyle=r.color,t.beginPath(),t.moveTo(l,m),t.lineTo(u,f),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,i=this._computeLabelArea();i&&er(n,i);const r=this.getLabelItems(e);for(const a of r){const o=a.options,c=a.font,l=a.label,u=a.textOffset;Ns(n,l,0,u,c,o)}i&&tr(n)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:i}}=this;if(!n.display)return;const r=ze(n.font),a=Je(n.padding),o=n.align;let c=r.lineHeight/2;t==="bottom"||t==="center"||Ne(t)?(c+=a.bottom,Me(n.text)&&(c+=r.lineHeight*(n.text.length-1))):c+=a.top;const{titleX:l,titleY:u,maxWidth:m,rotation:f}=yy(this,c,t,o);Ns(e,n.text,0,0,r,{color:n.color,maxWidth:m,rotation:f,textAlign:by(o,t,i),textBaseline:"middle",translation:[l,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=de(e.grid&&e.grid.z,-1),i=de(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Ds.prototype.draw?[{z:t,draw:r=>{this.draw(r)}}]:[{z:n,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let r,a;for(r=0,a=t.length;r<a;++r){const o=t[r];o[n]===this.id&&(!e||o.type===e)&&i.push(o)}return i}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return ze(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class gi{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;ky(t)&&(n=this.register(t));const i=this.items,r=e.id,a=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in i||(i[r]=e,xy(e,a,n),this.override&&Le.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,i=this.scope;n in t&&delete t[n],i&&n in Le[i]&&(delete Le[i][n],this.override&&delete ks[n])}}function xy(s,e,t){const n=_n(Object.create(null),[t?Le.get(t):{},Le.get(e),s.defaults]);Le.set(e,n),s.defaultRoutes&&vy(e,s.defaultRoutes),s.descriptors&&Le.describe(e,s.descriptors)}function vy(s,e){Object.keys(e).forEach(t=>{const n=t.split("."),i=n.pop(),r=[s].concat(n).join("."),a=e[t].split("."),o=a.pop(),c=a.join(".");Le.route(r,i,c,o)})}function ky(s){return"id"in s&&"defaults"in s}class Ny{constructor(){this.controllers=new gi(ns,"datasets",!0),this.elements=new gi(Bt,"elements"),this.plugins=new gi(Object,"plugins"),this.scales=new gi(Ds,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,n){[...t].forEach(i=>{const r=n||this._getRegistryForType(i);n||r.isForType(i)||r===this.plugins&&i.id?this._exec(e,r,i):xe(i,a=>{const o=n||this._getRegistryForType(a);this._exec(e,o,a)})})}_exec(e,t,n){const i=Ha(e);ue(n["before"+i],[],n),t[e](n),ue(n["after"+i],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const i=t.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return i}}var Ct=new Ny;class wy{constructor(){this._init=[]}notify(e,t,n,i){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const r=i?this._descriptors(e).filter(i):this._descriptors(e),a=this._notify(r,e,t,n);return t==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,t,n,i){i=i||{};for(const r of e){const a=r.plugin,o=a[n],c=[t,i,r.options];if(ue(o,c,a)===!1&&i.cancelable)return!1}return!0}invalidate(){ve(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,i=de(n.options&&n.options.plugins,{}),r=Dy(n);return i===!1&&!t?[]:Ey(e,r,i,t)}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,i=(r,a)=>r.filter(o=>!a.some(c=>o.plugin.id===c.plugin.id));this._notify(i(t,n),e,"stop"),this._notify(i(n,t),e,"start")}}function Dy(s){const e={},t=[],n=Object.keys(Ct.plugins.items);for(let r=0;r<n.length;r++)t.push(Ct.getPlugin(n[r]));const i=s.plugins||[];for(let r=0;r<i.length;r++){const a=i[r];t.indexOf(a)===-1&&(t.push(a),e[a.id]=!0)}return{plugins:t,localIds:e}}function Cy(s,e){return!e&&s===!1?null:s===!0?{}:s}function Ey(s,{plugins:e,localIds:t},n,i){const r=[],a=s.getContext();for(const o of e){const c=o.id,l=Cy(n[c],i);l!==null&&r.push({plugin:o,options:Py(s.config,{plugin:o,local:t[c]},l,a)})}return r}function Py(s,{plugin:e,local:t},n,i){const r=s.pluginScopeKeys(e),a=s.getOptionScopes(n,r);return t&&e.defaults&&a.push(e.defaults),s.createResolver(a,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function xa(s,e){const t=Le.datasets[s]||{};return((e.datasets||{})[s]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function Sy(s,e){let t=s;return s==="_index_"?t=e:s==="_value_"&&(t=e==="x"?"y":"x"),t}function jy(s,e){return s===e?"_index_":"_value_"}function bc(s){if(s==="x"||s==="y"||s==="r")return s}function _y(s){if(s==="top"||s==="bottom")return"x";if(s==="left"||s==="right")return"y"}function va(s,...e){if(bc(s))return s;for(const t of e){const n=t.axis||_y(t.position)||s.length>1&&bc(s[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${s}' axis. Please provide 'axis' or 'position' option.`)}function yc(s,e,t){if(t[e+"AxisID"]===s)return{axis:e}}function Ty(s,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(n=>n.xAxisID===s||n.yAxisID===s);if(t.length)return yc(s,"x",t[0])||yc(s,"y",t[0])}return{}}function Ay(s,e){const t=ks[s.type]||{scales:{}},n=e.scales||{},i=xa(s.type,e),r=Object.create(null);return Object.keys(n).forEach(a=>{const o=n[a];if(!Ne(o))return console.error(`Invalid scale configuration for scale: ${a}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const c=va(a,o,Ty(a,s),Le.scales[o.type]),l=jy(c,i),u=t.scales||{};r[a]=Nn(Object.create(null),[{axis:c},o,u[c],u[l]])}),s.data.datasets.forEach(a=>{const o=a.type||s.type,c=a.indexAxis||xa(o,e),u=(ks[o]||{}).scales||{};Object.keys(u).forEach(m=>{const f=Sy(m,c),h=a[f+"AxisID"]||f;r[h]=r[h]||Object.create(null),Nn(r[h],[{axis:f},n[h],u[m]])})}),Object.keys(r).forEach(a=>{const o=r[a];Nn(o,[Le.scales[o.type],Le.scale])}),r}function md(s){const e=s.options||(s.options={});e.plugins=de(e.plugins,{}),e.scales=Ay(s,e)}function fd(s){return s=s||{},s.datasets=s.datasets||[],s.labels=s.labels||[],s}function Vy(s){return s=s||{},s.data=fd(s.data),md(s),s}const xc=new Map,hd=new Set;function bi(s,e){let t=xc.get(s);return t||(t=e(),xc.set(s,t),hd.add(t)),t}const mn=(s,e,t)=>{const n=Zt(e,t);n!==void 0&&s.add(n)};class My{constructor(e){this._config=Vy(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=fd(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),md(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return bi(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return bi(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return bi(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,n=this.type;return bi(`${n}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const n=this._scopeCache;let i=n.get(e);return(!i||t)&&(i=new Map,n.set(e,i)),i}getOptionScopes(e,t,n){const{options:i,type:r}=this,a=this._cachedScopes(e,n),o=a.get(t);if(o)return o;const c=new Set;t.forEach(u=>{e&&(c.add(e),u.forEach(m=>mn(c,e,m))),u.forEach(m=>mn(c,i,m)),u.forEach(m=>mn(c,ks[r]||{},m)),u.forEach(m=>mn(c,Le,m)),u.forEach(m=>mn(c,ba,m))});const l=Array.from(c);return l.length===0&&l.push(Object.create(null)),hd.has(t)&&a.set(t,l),l}chartOptionScopes(){const{options:e,type:t}=this;return[e,ks[t]||{},Le.datasets[t]||{},{type:t},Le,ba]}resolveNamedOptions(e,t,n,i=[""]){const r={$shared:!0},{resolver:a,subPrefixes:o}=vc(this._resolverCache,e,i);let c=a;if(Oy(a,t)){r.$shared=!1,n=es(n)?n():n;const l=this.createResolver(e,n,o);c=Ys(a,n,l)}for(const l of t)r[l]=c[l];return r}createResolver(e,t,n=[""],i){const{resolver:r}=vc(this._resolverCache,e,n);return Ne(t)?Ys(r,t,void 0,i):r}}function vc(s,e,t){let n=s.get(e);n||(n=new Map,s.set(e,n));const i=t.join();let r=n.get(i);return r||(r={resolver:Xa(e,t),subPrefixes:t.filter(o=>!o.toLowerCase().includes("hover"))},n.set(i,r)),r}const Ly=s=>Ne(s)&&Object.getOwnPropertyNames(s).some(e=>es(s[e]));function Oy(s,e){const{isScriptable:t,isIndexable:n}=Bu(s);for(const i of e){const r=t(i),a=n(i),o=(a||r)&&s[i];if(r&&(es(o)||Ly(o))||a&&Me(o))return!0}return!1}var Iy="4.5.0";const Ry=["top","bottom","left","right","chartArea"];function kc(s,e){return s==="top"||s==="bottom"||Ry.indexOf(s)===-1&&e==="x"}function Nc(s,e){return function(t,n){return t[s]===n[s]?t[e]-n[e]:t[s]-n[s]}}function wc(s){const e=s.chart,t=e.options.animation;e.notifyPlugins("afterRender"),ue(t&&t.onComplete,[s],e)}function Uy(s){const e=s.chart,t=e.options.animation;ue(t&&t.onProgress,[s],e)}function pd(s){return eo()&&typeof s=="string"?s=document.getElementById(s):s&&s.length&&(s=s[0]),s&&s.canvas&&(s=s.canvas),s}const Ti={},Dc=s=>{const e=pd(s);return Object.values(Ti).filter(t=>t.canvas===e).pop()};function Fy(s,e,t){const n=Object.keys(s);for(const i of n){const r=+i;if(r>=e){const a=s[i];delete s[i],(t>0||r>e)&&(s[r+t]=a)}}}function zy(s,e,t,n){return!t||s.type==="mouseout"?null:n?e:s}let $s=class{static defaults=Le;static instances=Ti;static overrides=ks;static registry=Ct;static version=Iy;static getChart=Dc;static register(...e){Ct.add(...e),Cc()}static unregister(...e){Ct.remove(...e),Cc()}constructor(e,t){const n=this.config=new My(t),i=pd(e),r=Dc(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const a=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||ry(i)),this.platform.updateConfig(n);const o=this.platform.acquireContext(i,a.aspectRatio),c=o&&o.canvas,l=c&&c.height,u=c&&c.width;if(this.id=Up(),this.ctx=o,this.canvas=c,this.width=u,this.height=l,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new wy,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=sg(m=>this.update(m),a.resizeDelay||0),this._dataChanges=[],Ti[this.id]=this,!o||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Ot.listen(this,"complete",wc),Ot.listen(this,"progress",Uy),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:i,_aspectRatio:r}=this;return ve(e)?t&&r?r:i?n/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Ct}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():qo(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return $o(this.canvas,this.ctx),this}stop(){return Ot.stop(this),this}resize(e,t){Ot.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,i=this.canvas,r=n.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(i,e,t,r),o=n.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,qo(this,o,!0)&&(this.notifyPlugins("resize",{size:a}),ue(n.onResize,[this,a],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};xe(t,(n,i)=>{n.id=i})}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,i=Object.keys(n).reduce((a,o)=>(a[o]=!1,a),{});let r=[];t&&(r=r.concat(Object.keys(t).map(a=>{const o=t[a],c=va(a,o),l=c==="r",u=c==="x";return{options:o,dposition:l?"chartArea":u?"bottom":"left",dtype:l?"radialLinear":u?"category":"linear"}}))),xe(r,a=>{const o=a.options,c=o.id,l=va(c,o),u=de(o.type,a.dtype);(o.position===void 0||kc(o.position,l)!==kc(a.dposition))&&(o.position=a.dposition),i[c]=!0;let m=null;if(c in n&&n[c].type===u)m=n[c];else{const f=Ct.getScale(u);m=new f({id:c,type:u,ctx:this.ctx,chart:this}),n[m.id]=m}m.init(o,e)}),xe(i,(a,o)=>{a||delete n[o]}),xe(n,a=>{Xe.configure(this,a,a.options),Xe.addBox(this,a)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort((i,r)=>i.index-r.index),n>t){for(let i=t;i<n;++i)this._destroyDatasetMeta(i);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(Nc("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((n,i)=>{t.filter(r=>r===n._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=t.length;n<i;n++){const r=t[n];let a=this.getDatasetMeta(n);const o=r.type||this.config.type;if(a.type&&a.type!==o&&(this._destroyDatasetMeta(n),a=this.getDatasetMeta(n)),a.type=o,a.indexAxis=r.indexAxis||xa(o,this.options),a.order=r.order||0,a.index=n,a.label=""+r.label,a.visible=this.isDatasetVisible(n),a.controller)a.controller.updateIndex(n),a.controller.linkScales();else{const c=Ct.getController(o),{datasetElementType:l,dataElementType:u}=Le.datasets[o];Object.assign(c,{dataElementType:Ct.getElement(u),datasetElementType:l&&Ct.getElement(l)}),a.controller=new c(this,n),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){xe(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let l=0,u=this.data.datasets.length;l<u;l++){const{controller:m}=this.getDatasetMeta(l),f=!i&&r.indexOf(m)===-1;m.buildOrUpdateElements(f),a=Math.max(+m.getMaxOverflow(),a)}a=this._minPadding=n.layout.autoPadding?a:0,this._updateLayout(a),i||xe(r,l=>{l.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Nc("z","_idx"));const{_active:o,_lastEvent:c}=this;c?this._eventHandler(c,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){xe(this.scales,e=>{Xe.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!Lo(t,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:r}of t){const a=n==="_removeElements"?-r:r;Fy(e,i,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=r=>new Set(e.filter(a=>a[0]===r).map((a,o)=>o+","+a.splice(1).join(","))),i=n(0);for(let r=1;r<t;r++)if(!Lo(i,n(r)))return;return Array.from(i).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Xe.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],xe(this.boxes,i=>{n&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,r)=>{i._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,n=this.data.datasets.length;t<n;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,es(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),i={meta:n,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(n.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ot.has(this)?this.attached&&!Ot.running(this)&&Ot.start(this):(this.draw(),wc({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let i,r;for(i=0,r=t.length;i<r;++i){const a=t[i];(!e||a.visible)&&n.push(a)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n={meta:e,index:e.index,cancelable:!0},i=Zu(this,e);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(i&&er(t,i),e.controller.draw(),i&&tr(t),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return St(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,i){const r=Rb.modes[t];return typeof r=="function"?r(this,e,n,i):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let i=n.filter(r=>r&&r._dataset===t).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=ss(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!t.hidden}setDatasetVisibility(e,t){const n=this.getDatasetMeta(e);n.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const i=n?"show":"hide",r=this.getDatasetMeta(e),a=r.controller._resolveAnimations(void 0,i);Tn(t)?(r.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),a.update(r,{visible:n}),this.update(o=>o.datasetIndex===e?i:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Ot.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),$o(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Ti[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(r,a)=>{t.addEventListener(this,r,a),e[r]=a},i=(r,a,o)=>{r.offsetX=a,r.offsetY=o,this._eventHandler(r)};xe(this.options.events,r=>n(r,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(c,l)=>{t.addEventListener(this,c,l),e[c]=l},i=(c,l)=>{e[c]&&(t.removeEventListener(this,c,l),delete e[c])},r=(c,l)=>{this.canvas&&this.resize(c,l)};let a;const o=()=>{i("attach",o),this.attached=!0,this.resize(),n("resize",r),n("detach",a)};a=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),n("attach",o)},t.isAttached(this.canvas)?o():a()}unbindEvents(){xe(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},xe(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const i=n?"set":"remove";let r,a,o,c;for(t==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),o=0,c=e.length;o<c;++o){a=e[o];const l=a&&this.getDatasetMeta(a.datasetIndex).controller;l&&l[i+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map(({datasetIndex:r,index:a})=>{const o=this.getDatasetMeta(r);if(!o)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:o.data[a],index:a}});!Oi(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,n){const i=this.options.hover,r=(c,l)=>c.filter(u=>!l.some(m=>u.datasetIndex===m.datasetIndex&&u.index===m.index)),a=r(t,e),o=n?e:r(e,t);a.length&&this.updateHoverStyle(a,i.mode,!1),o.length&&i.mode&&this.updateHoverStyle(o,i.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,i)===!1)return;const r=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(r||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:i=[],options:r}=this,a=t,o=this._getActiveElements(e,i,n,a),c=Hp(e),l=zy(e,this._lastEvent,n,c);n&&(this._lastEvent=null,ue(r.onHover,[e,o,this],this),c&&ue(r.onClick,[e,o,this],this));const u=!Oi(o,i);return(u||t)&&(this._active=o,this._updateHoverStyles(o,i,t)),this._lastEvent=l,u}_getActiveElements(e,t,n,i){if(e.type==="mouseout")return[];if(!n)return t;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,i)}};function Cc(){return xe($s.instances,s=>s._plugins.invalidate())}function By(s,e,t){const{startAngle:n,x:i,y:r,outerRadius:a,innerRadius:o,options:c}=e,{borderWidth:l,borderJoinStyle:u}=c,m=Math.min(l/a,Qe(n-t));if(s.beginPath(),s.arc(i,r,a-l/2,n+m/2,t-m/2),o>0){const f=Math.min(l/o,Qe(n-t));s.arc(i,r,o+l/2,t-f/2,n+f/2,!0)}else{const f=Math.min(l/2,a*Qe(n-t));if(u==="round")s.arc(i,r,f,t-De/2,n+De/2,!0);else if(u==="bevel"){const h=2*f*f,p=-h*Math.cos(t+De/2)+i,g=-h*Math.sin(t+De/2)+r,y=h*Math.cos(n+De/2)+i,k=h*Math.sin(n+De/2)+r;s.lineTo(p,g),s.lineTo(y,k)}}s.closePath(),s.moveTo(0,0),s.rect(0,0,s.canvas.width,s.canvas.height),s.clip("evenodd")}function Wy(s,e,t){const{startAngle:n,pixelMargin:i,x:r,y:a,outerRadius:o,innerRadius:c}=e;let l=i/o;s.beginPath(),s.arc(r,a,o,n-l,t+l),c>i?(l=i/c,s.arc(r,a,c,t+l,n-l,!0)):s.arc(r,a,i,t+Re,n-Re),s.closePath(),s.clip()}function $y(s){return Qa(s,["outerStart","outerEnd","innerStart","innerEnd"])}function Hy(s,e,t,n){const i=$y(s.options.borderRadius),r=(t-e)/2,a=Math.min(r,n*e/2),o=c=>{const l=(t-Math.min(r,c))*n/2;return He(c,0,Math.min(r,l))};return{outerStart:o(i.outerStart),outerEnd:o(i.outerEnd),innerStart:He(i.innerStart,0,a),innerEnd:He(i.innerEnd,0,a)}}function Os(s,e,t,n){return{x:t+s*Math.cos(e),y:n+s*Math.sin(e)}}function Bi(s,e,t,n,i,r){const{x:a,y:o,startAngle:c,pixelMargin:l,innerRadius:u}=e,m=Math.max(e.outerRadius+n+t-l,0),f=u>0?u+n+t+l:0;let h=0;const p=i-c;if(n){const ne=u>0?u-n:0,q=m>0?m-n:0,se=(ne+q)/2,z=se!==0?p*se/(se+n):p;h=(p-z)/2}const g=Math.max(.001,p*m-t/De)/m,y=(p-g)/2,k=c+y+h,D=i-y-h,{outerStart:j,outerEnd:S,innerStart:v,innerEnd:N}=Hy(e,f,m,D-k),C=m-j,w=m-S,T=k+j/C,_=D-S/w,L=f+v,O=f+N,M=k+v/L,H=D-N/O;if(s.beginPath(),r){const ne=(T+_)/2;if(s.arc(a,o,m,T,ne),s.arc(a,o,m,ne,_),S>0){const ke=Os(w,_,a,o);s.arc(ke.x,ke.y,S,_,D+Re)}const q=Os(O,D,a,o);if(s.lineTo(q.x,q.y),N>0){const ke=Os(O,H,a,o);s.arc(ke.x,ke.y,N,D+Re,H+Math.PI)}const se=(D-N/f+(k+v/f))/2;if(s.arc(a,o,f,D-N/f,se,!0),s.arc(a,o,f,se,k+v/f,!0),v>0){const ke=Os(L,M,a,o);s.arc(ke.x,ke.y,v,M+Math.PI,k-Re)}const z=Os(C,k,a,o);if(s.lineTo(z.x,z.y),j>0){const ke=Os(C,T,a,o);s.arc(ke.x,ke.y,j,k-Re,T)}}else{s.moveTo(a,o);const ne=Math.cos(T)*m+a,q=Math.sin(T)*m+o;s.lineTo(ne,q);const se=Math.cos(_)*m+a,z=Math.sin(_)*m+o;s.lineTo(se,z)}s.closePath()}function Yy(s,e,t,n,i){const{fullCircles:r,startAngle:a,circumference:o}=e;let c=e.endAngle;if(r){Bi(s,e,t,n,c,i);for(let l=0;l<r;++l)s.fill();isNaN(o)||(c=a+(o%Te||Te))}return Bi(s,e,t,n,c,i),s.fill(),c}function qy(s,e,t,n,i){const{fullCircles:r,startAngle:a,circumference:o,options:c}=e,{borderWidth:l,borderJoinStyle:u,borderDash:m,borderDashOffset:f,borderRadius:h}=c,p=c.borderAlign==="inner";if(!l)return;s.setLineDash(m||[]),s.lineDashOffset=f,p?(s.lineWidth=l*2,s.lineJoin=u||"round"):(s.lineWidth=l,s.lineJoin=u||"bevel");let g=e.endAngle;if(r){Bi(s,e,t,n,g,i);for(let y=0;y<r;++y)s.stroke();isNaN(o)||(g=a+(o%Te||Te))}p&&Wy(s,e,g),c.selfJoin&&g-a>=De&&h===0&&u!=="miter"&&By(s,e,g),r||(Bi(s,e,t,n,g,i),s.stroke())}class Ky extends Bt{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,n){const i=this.getProps(["x","y"],n),{angle:r,distance:a}=Au(i,{x:e,y:t}),{startAngle:o,endAngle:c,innerRadius:l,outerRadius:u,circumference:m}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),f=(this.options.spacing+this.options.borderWidth)/2,h=de(m,c-o),p=An(r,o,c)&&o!==c,g=h>=Te||p,y=Ft(a,l+f,u+f);return g&&y}getCenterPoint(e){const{x:t,y:n,startAngle:i,endAngle:r,innerRadius:a,outerRadius:o}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:c,spacing:l}=this.options,u=(i+r)/2,m=(a+o+l+c)/2;return{x:t+Math.cos(u)*m,y:n+Math.sin(u)*m}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:n}=this,i=(t.offset||0)/4,r=(t.spacing||0)/2,a=t.circular;if(this.pixelMargin=t.borderAlign==="inner"?.33:0,this.fullCircles=n>Te?Math.floor(n/Te):0,n===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const o=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(o)*i,Math.sin(o)*i);const c=1-Math.sin(Math.min(De,n||0)),l=i*c;e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,Yy(e,this,l,r,a),qy(e,this,l,r,a),e.restore()}}function gd(s,e,t=e){s.lineCap=de(t.borderCapStyle,e.borderCapStyle),s.setLineDash(de(t.borderDash,e.borderDash)),s.lineDashOffset=de(t.borderDashOffset,e.borderDashOffset),s.lineJoin=de(t.borderJoinStyle,e.borderJoinStyle),s.lineWidth=de(t.borderWidth,e.borderWidth),s.strokeStyle=de(t.borderColor,e.borderColor)}function Gy(s,e,t){s.lineTo(t.x,t.y)}function Qy(s){return s.stepped?hg:s.tension||s.cubicInterpolationMode==="monotone"?pg:Gy}function bd(s,e,t={}){const n=s.length,{start:i=0,end:r=n-1}=t,{start:a,end:o}=e,c=Math.max(i,a),l=Math.min(r,o),u=i<a&&r<a||i>o&&r>o;return{count:n,start:c,loop:e.loop,ilen:l<c&&!u?n+l-c:l-c}}function Xy(s,e,t,n){const{points:i,options:r}=e,{count:a,start:o,loop:c,ilen:l}=bd(i,t,n),u=Qy(r);let{move:m=!0,reverse:f}=n||{},h,p,g;for(h=0;h<=l;++h)p=i[(o+(f?l-h:h))%a],!p.skip&&(m?(s.moveTo(p.x,p.y),m=!1):u(s,g,p,f,r.stepped),g=p);return c&&(p=i[(o+(f?l:0))%a],u(s,g,p,f,r.stepped)),!!c}function Jy(s,e,t,n){const i=e.points,{count:r,start:a,ilen:o}=bd(i,t,n),{move:c=!0,reverse:l}=n||{};let u=0,m=0,f,h,p,g,y,k;const D=S=>(a+(l?o-S:S))%r,j=()=>{g!==y&&(s.lineTo(u,y),s.lineTo(u,g),s.lineTo(u,k))};for(c&&(h=i[D(0)],s.moveTo(h.x,h.y)),f=0;f<=o;++f){if(h=i[D(f)],h.skip)continue;const S=h.x,v=h.y,N=S|0;N===p?(v<g?g=v:v>y&&(y=v),u=(m*u+S)/++m):(j(),s.lineTo(S,v),p=N,m=0,g=y=v),k=v}j()}function ka(s){const e=s.options,t=e.borderDash&&e.borderDash.length;return!s._decimated&&!s._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?Jy:Xy}function Zy(s){return s.stepped?qg:s.tension||s.cubicInterpolationMode==="monotone"?Kg:ds}function e0(s,e,t,n){let i=e._path;i||(i=e._path=new Path2D,e.path(i,t,n)&&i.closePath()),gd(s,e.options),s.stroke(i)}function t0(s,e,t,n){const{segments:i,options:r}=e,a=ka(e);for(const o of i)gd(s,r,o.style),s.beginPath(),a(s,e,o,{start:t,end:t+n-1})&&s.closePath(),s.stroke()}const s0=typeof Path2D=="function";function n0(s,e,t,n){s0&&!e.options.segment?e0(s,e,t,n):t0(s,e,t,n)}class rr extends Bt{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;Ug(this._points,n,e,i,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=eb(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}interpolate(e,t){const n=this.options,i=e[t],r=this.points,a=Ju(this,{property:t,start:i,end:i});if(!a.length)return;const o=[],c=Zy(n);let l,u;for(l=0,u=a.length;l<u;++l){const{start:m,end:f}=a[l],h=r[m],p=r[f];if(h===p){o.push(h);continue}const g=Math.abs((i-h[t])/(p[t]-h[t])),y=c(h,p,g,n.stepped);y[t]=e[t],o.push(y)}return o.length===1?o[0]:o}pathSegment(e,t,n){return ka(this)(e,this,t,n)}path(e,t,n){const i=this.segments,r=ka(this);let a=this._loop;t=t||0,n=n||this.points.length-t;for(const o of i)a&=r(e,this,o,{start:t,end:t+n-1});return!!a}draw(e,t,n,i){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),n0(e,this,n,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Ec(s,e,t,n){const i=s.options,{[t]:r}=s.getProps([t],n);return Math.abs(e-r)<i.radius+i.hitRadius}class i0 extends Bt{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,n){const i=this.options,{x:r,y:a}=this.getProps(["x","y"],n);return Math.pow(e-r,2)+Math.pow(t-a,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(e,t){return Ec(this,e,"x",t)}inYRange(e,t){return Ec(this,e,"y",t)}getCenterPoint(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}size(e){e=e||this.options||{};let t=e.radius||0;t=Math.max(t,t&&e.hoverRadius||0);const n=t&&e.borderWidth||0;return(t+n)*2}draw(e,t){const n=this.options;this.skip||n.radius<.1||!St(this,t,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,ya(e,n,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function yd(s,e){const{x:t,y:n,base:i,width:r,height:a}=s.getProps(["x","y","base","width","height"],e);let o,c,l,u,m;return s.horizontal?(m=a/2,o=Math.min(t,i),c=Math.max(t,i),l=n-m,u=n+m):(m=r/2,o=t-m,c=t+m,l=Math.min(n,i),u=Math.max(n,i)),{left:o,top:l,right:c,bottom:u}}function Xt(s,e,t,n){return s?0:He(e,t,n)}function r0(s,e,t){const n=s.options.borderWidth,i=s.borderSkipped,r=zu(n);return{t:Xt(i.top,r.top,0,t),r:Xt(i.right,r.right,0,e),b:Xt(i.bottom,r.bottom,0,t),l:Xt(i.left,r.left,0,e)}}function a0(s,e,t){const{enableBorderRadius:n}=s.getProps(["enableBorderRadius"]),i=s.options.borderRadius,r=ys(i),a=Math.min(e,t),o=s.borderSkipped,c=n||Ne(i);return{topLeft:Xt(!c||o.top||o.left,r.topLeft,0,a),topRight:Xt(!c||o.top||o.right,r.topRight,0,a),bottomLeft:Xt(!c||o.bottom||o.left,r.bottomLeft,0,a),bottomRight:Xt(!c||o.bottom||o.right,r.bottomRight,0,a)}}function o0(s){const e=yd(s),t=e.right-e.left,n=e.bottom-e.top,i=r0(s,t/2,n/2),r=a0(s,t/2,n/2);return{outer:{x:e.left,y:e.top,w:t,h:n,radius:r},inner:{x:e.left+i.l,y:e.top+i.t,w:t-i.l-i.r,h:n-i.t-i.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,r.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(i.b,i.r))}}}}function Br(s,e,t,n){const i=e===null,r=t===null,o=s&&!(i&&r)&&yd(s,n);return o&&(i||Ft(e,o.left,o.right))&&(r||Ft(t,o.top,o.bottom))}function c0(s){return s.topLeft||s.topRight||s.bottomLeft||s.bottomRight}function l0(s,e){s.rect(e.x,e.y,e.w,e.h)}function Wr(s,e,t={}){const n=s.x!==t.x?-e:0,i=s.y!==t.y?-e:0,r=(s.x+s.w!==t.x+t.w?e:0)-n,a=(s.y+s.h!==t.y+t.h?e:0)-i;return{x:s.x+n,y:s.y+i,w:s.w+r,h:s.h+a,radius:s.radius}}class u0 extends Bt{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:n,backgroundColor:i}}=this,{inner:r,outer:a}=o0(this),o=c0(a.radius)?Vn:l0;e.save(),(a.w!==r.w||a.h!==r.h)&&(e.beginPath(),o(e,Wr(a,t,r)),e.clip(),o(e,Wr(r,-t,a)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),o(e,Wr(r,t)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,t,n){return Br(this,e,t,n)}inXRange(e,t){return Br(this,e,null,t)}inYRange(e,t){return Br(this,null,e,t)}getCenterPoint(e){const{x:t,y:n,base:i,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(t+i)/2:t,y:r?n:(n+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}var d0=Object.freeze({__proto__:null,ArcElement:Ky,BarElement:u0,LineElement:rr,PointElement:i0});const Na=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Pc=Na.map(s=>s.replace("rgb(","rgba(").replace(")",", 0.5)"));function xd(s){return Na[s%Na.length]}function vd(s){return Pc[s%Pc.length]}function m0(s,e){return s.borderColor=xd(e),s.backgroundColor=vd(e),++e}function f0(s,e){return s.backgroundColor=s.data.map(()=>xd(e++)),e}function h0(s,e){return s.backgroundColor=s.data.map(()=>vd(e++)),e}function p0(s){let e=0;return(t,n)=>{const i=s.getDatasetMeta(n).controller;i instanceof nr?e=f0(t,e):i instanceof rd?e=h0(t,e):i&&(e=m0(t,e))}}function Sc(s){let e;for(e in s)if(s[e].borderColor||s[e].backgroundColor)return!0;return!1}function g0(s){return s&&(s.borderColor||s.backgroundColor)}function b0(){return Le.borderColor!=="rgba(0,0,0,0.1)"||Le.backgroundColor!=="rgba(0,0,0,0.1)"}var y0={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(s,e,t){if(!t.enabled)return;const{data:{datasets:n},options:i}=s.config,{elements:r}=i,a=Sc(n)||g0(i)||r&&Sc(r)||b0();if(!t.forceOverride&&a)return;const o=p0(s);n.forEach(o)}};function x0(s,e,t,n,i){const r=i.samples||n;if(r>=t)return s.slice(e,e+t);const a=[],o=(t-2)/(r-2);let c=0;const l=e+t-1;let u=e,m,f,h,p,g;for(a[c++]=s[u],m=0;m<r-2;m++){let y=0,k=0,D;const j=Math.floor((m+1)*o)+1+e,S=Math.min(Math.floor((m+2)*o)+1,t)+e,v=S-j;for(D=j;D<S;D++)y+=s[D].x,k+=s[D].y;y/=v,k/=v;const N=Math.floor(m*o)+1+e,C=Math.min(Math.floor((m+1)*o)+1,t)+e,{x:w,y:T}=s[u];for(h=p=-1,D=N;D<C;D++)p=.5*Math.abs((w-y)*(s[D].y-T)-(w-s[D].x)*(k-T)),p>h&&(h=p,f=s[D],g=D);a[c++]=f,u=g}return a[c++]=s[l],a}function v0(s,e,t,n){let i=0,r=0,a,o,c,l,u,m,f,h,p,g;const y=[],k=e+t-1,D=s[e].x,S=s[k].x-D;for(a=e;a<e+t;++a){o=s[a],c=(o.x-D)/S*n,l=o.y;const v=c|0;if(v===u)l<p?(p=l,m=a):l>g&&(g=l,f=a),i=(r*i+o.x)/++r;else{const N=a-1;if(!ve(m)&&!ve(f)){const C=Math.min(m,f),w=Math.max(m,f);C!==h&&C!==N&&y.push({...s[C],x:i}),w!==h&&w!==N&&y.push({...s[w],x:i})}a>0&&N!==h&&y.push(s[N]),y.push(o),u=v,r=0,p=g=l,m=f=h=a}}return y}function kd(s){if(s._decimated){const e=s._data;delete s._decimated,delete s._data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function jc(s){s.data.datasets.forEach(e=>{kd(e)})}function k0(s,e){const t=e.length;let n=0,i;const{iScale:r}=s,{min:a,max:o,minDefined:c,maxDefined:l}=r.getUserBounds();return c&&(n=He(zt(e,r.axis,a).lo,0,t-1)),l?i=He(zt(e,r.axis,o).hi+1,n,t)-n:i=t-n,{start:n,count:i}}var N0={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(s,e,t)=>{if(!t.enabled){jc(s);return}const n=s.width;s.data.datasets.forEach((i,r)=>{const{_data:a,indexAxis:o}=i,c=s.getDatasetMeta(r),l=a||i.data;if(bn([o,s.options.indexAxis])==="y"||!c.controller.supportsDecimation)return;const u=s.scales[c.xAxisID];if(u.type!=="linear"&&u.type!=="time"||s.options.parsing)return;let{start:m,count:f}=k0(c,l);const h=t.threshold||4*n;if(f<=h){kd(i);return}ve(a)&&(i._data=l,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(g){this._data=g}}));let p;switch(t.algorithm){case"lttb":p=x0(l,m,f,n,t);break;case"min-max":p=v0(l,m,f,n);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}i._decimated=p})},destroy(s){jc(s)}};function w0(s,e,t){const n=s.segments,i=s.points,r=e.points,a=[];for(const o of n){let{start:c,end:l}=o;l=ar(c,l,i);const u=wa(t,i[c],i[l],o.loop);if(!e.segments){a.push({source:o,target:u,start:i[c],end:i[l]});continue}const m=Ju(e,u);for(const f of m){const h=wa(t,r[f.start],r[f.end],f.loop),p=Xu(o,i,h);for(const g of p)a.push({source:g,target:f,start:{[t]:_c(u,h,"start",Math.max)},end:{[t]:_c(u,h,"end",Math.min)}})}}return a}function wa(s,e,t,n){if(n)return;let i=e[s],r=t[s];return s==="angle"&&(i=Qe(i),r=Qe(r)),{property:s,start:i,end:r}}function D0(s,e){const{x:t=null,y:n=null}=s||{},i=e.points,r=[];return e.segments.forEach(({start:a,end:o})=>{o=ar(a,o,i);const c=i[a],l=i[o];n!==null?(r.push({x:c.x,y:n}),r.push({x:l.x,y:n})):t!==null&&(r.push({x:t,y:c.y}),r.push({x:t,y:l.y}))}),r}function ar(s,e,t){for(;e>s;e--){const n=t[e];if(!isNaN(n.x)&&!isNaN(n.y))break}return e}function _c(s,e,t,n){return s&&e?n(s[t],e[t]):s?s[t]:e?e[t]:0}function Nd(s,e){let t=[],n=!1;return Me(s)?(n=!0,t=s):t=D0(s,e),t.length?new rr({points:t,options:{tension:0},_loop:n,_fullLoop:n}):null}function Tc(s){return s&&s.fill!==!1}function C0(s,e,t){let i=s[e].fill;const r=[e];let a;if(!t)return i;for(;i!==!1&&r.indexOf(i)===-1;){if(!Ie(i))return i;if(a=s[i],!a)return!1;if(a.visible)return i;r.push(i),i=a.fill}return!1}function E0(s,e,t){const n=_0(s);if(Ne(n))return isNaN(n.value)?!1:n;let i=parseFloat(n);return Ie(i)&&Math.floor(i)===i?P0(n[0],e,i,t):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function P0(s,e,t,n){return(s==="-"||s==="+")&&(t=e+t),t===e||t<0||t>=n?!1:t}function S0(s,e){let t=null;return s==="start"?t=e.bottom:s==="end"?t=e.top:Ne(s)?t=e.getPixelForValue(s.value):e.getBasePixel&&(t=e.getBasePixel()),t}function j0(s,e,t){let n;return s==="start"?n=t:s==="end"?n=e.options.reverse?e.min:e.max:Ne(s)?n=s.value:n=e.getBaseValue(),n}function _0(s){const e=s.options,t=e.fill;let n=de(t&&t.target,t);return n===void 0&&(n=!!e.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function T0(s){const{scale:e,index:t,line:n}=s,i=[],r=n.segments,a=n.points,o=A0(e,t);o.push(Nd({x:null,y:e.bottom},n));for(let c=0;c<r.length;c++){const l=r[c];for(let u=l.start;u<=l.end;u++)V0(i,a[u],o)}return new rr({points:i,options:{}})}function A0(s,e){const t=[],n=s.getMatchingVisibleMetas("line");for(let i=0;i<n.length;i++){const r=n[i];if(r.index===e)break;r.hidden||t.unshift(r.dataset)}return t}function V0(s,e,t){const n=[];for(let i=0;i<t.length;i++){const r=t[i],{first:a,last:o,point:c}=M0(r,e,"x");if(!(!c||a&&o)){if(a)n.unshift(c);else if(s.push(c),!o)break}}s.push(...n)}function M0(s,e,t){const n=s.interpolate(e,t);if(!n)return{};const i=n[t],r=s.segments,a=s.points;let o=!1,c=!1;for(let l=0;l<r.length;l++){const u=r[l],m=a[u.start][t],f=a[u.end][t];if(Ft(i,m,f)){o=i===m,c=i===f;break}}return{first:o,last:c,point:n}}class wd{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,n){const{x:i,y:r,radius:a}=this;return t=t||{start:0,end:Te},e.arc(i,r,a,t.end,t.start,!0),!n.bounds}interpolate(e){const{x:t,y:n,radius:i}=this,r=e.angle;return{x:t+Math.cos(r)*i,y:n+Math.sin(r)*i,angle:r}}}function L0(s){const{chart:e,fill:t,line:n}=s;if(Ie(t))return O0(e,t);if(t==="stack")return T0(s);if(t==="shape")return!0;const i=I0(s);return i instanceof wd?i:Nd(i,n)}function O0(s,e){const t=s.getDatasetMeta(e);return t&&s.isDatasetVisible(e)?t.dataset:null}function I0(s){return(s.scale||{}).getPointPositionForValue?U0(s):R0(s)}function R0(s){const{scale:e={},fill:t}=s,n=S0(t,e);if(Ie(n)){const i=e.isHorizontal();return{x:i?n:null,y:i?null:n}}return null}function U0(s){const{scale:e,fill:t}=s,n=e.options,i=e.getLabels().length,r=n.reverse?e.max:e.min,a=j0(t,e,r),o=[];if(n.grid.circular){const c=e.getPointPositionForValue(0,r);return new wd({x:c.x,y:c.y,radius:e.getDistanceFromCenterForValue(a)})}for(let c=0;c<i;++c)o.push(e.getPointPositionForValue(c,a));return o}function $r(s,e,t){const n=L0(e),{chart:i,index:r,line:a,scale:o,axis:c}=e,l=a.options,u=l.fill,m=l.backgroundColor,{above:f=m,below:h=m}=u||{},p=i.getDatasetMeta(r),g=Zu(i,p);n&&a.points.length&&(er(s,t),F0(s,{line:a,target:n,above:f,below:h,area:t,scale:o,axis:c,clip:g}),tr(s))}function F0(s,e){const{line:t,target:n,above:i,below:r,area:a,scale:o,clip:c}=e,l=t._loop?"angle":e.axis;s.save();let u=r;r!==i&&(l==="x"?(Ac(s,n,a.top),Hr(s,{line:t,target:n,color:i,scale:o,property:l,clip:c}),s.restore(),s.save(),Ac(s,n,a.bottom)):l==="y"&&(Vc(s,n,a.left),Hr(s,{line:t,target:n,color:r,scale:o,property:l,clip:c}),s.restore(),s.save(),Vc(s,n,a.right),u=i)),Hr(s,{line:t,target:n,color:u,scale:o,property:l,clip:c}),s.restore()}function Ac(s,e,t){const{segments:n,points:i}=e;let r=!0,a=!1;s.beginPath();for(const o of n){const{start:c,end:l}=o,u=i[c],m=i[ar(c,l,i)];r?(s.moveTo(u.x,u.y),r=!1):(s.lineTo(u.x,t),s.lineTo(u.x,u.y)),a=!!e.pathSegment(s,o,{move:a}),a?s.closePath():s.lineTo(m.x,t)}s.lineTo(e.first().x,t),s.closePath(),s.clip()}function Vc(s,e,t){const{segments:n,points:i}=e;let r=!0,a=!1;s.beginPath();for(const o of n){const{start:c,end:l}=o,u=i[c],m=i[ar(c,l,i)];r?(s.moveTo(u.x,u.y),r=!1):(s.lineTo(t,u.y),s.lineTo(u.x,u.y)),a=!!e.pathSegment(s,o,{move:a}),a?s.closePath():s.lineTo(t,m.y)}s.lineTo(t,e.first().y),s.closePath(),s.clip()}function Hr(s,e){const{line:t,target:n,property:i,color:r,scale:a,clip:o}=e,c=w0(t,n,i);for(const{source:l,target:u,start:m,end:f}of c){const{style:{backgroundColor:h=r}={}}=l,p=n!==!0;s.save(),s.fillStyle=h,z0(s,a,o,p&&wa(i,m,f)),s.beginPath();const g=!!t.pathSegment(s,l);let y;if(p){g?s.closePath():Mc(s,n,f,i);const k=!!n.pathSegment(s,u,{move:g,reverse:!0});y=g&&k,y||Mc(s,n,m,i)}s.closePath(),s.fill(y?"evenodd":"nonzero"),s.restore()}}function z0(s,e,t,n){const i=e.chart.chartArea,{property:r,start:a,end:o}=n||{};if(r==="x"||r==="y"){let c,l,u,m;r==="x"?(c=a,l=i.top,u=o,m=i.bottom):(c=i.left,l=a,u=i.right,m=o),s.beginPath(),t&&(c=Math.max(c,t.left),u=Math.min(u,t.right),l=Math.max(l,t.top),m=Math.min(m,t.bottom)),s.rect(c,l,u-c,m-l),s.clip()}}function Mc(s,e,t,n){const i=e.interpolate(t,n);i&&s.lineTo(i.x,i.y)}var B0={id:"filler",afterDatasetsUpdate(s,e,t){const n=(s.data.datasets||[]).length,i=[];let r,a,o,c;for(a=0;a<n;++a)r=s.getDatasetMeta(a),o=r.dataset,c=null,o&&o.options&&o instanceof rr&&(c={visible:s.isDatasetVisible(a),index:a,fill:E0(o,a,n),chart:s,axis:r.controller.options.indexAxis,scale:r.vScale,line:o}),r.$filler=c,i.push(c);for(a=0;a<n;++a)c=i[a],!(!c||c.fill===!1)&&(c.fill=C0(i,a,t.propagate))},beforeDraw(s,e,t){const n=t.drawTime==="beforeDraw",i=s.getSortedVisibleDatasetMetas(),r=s.chartArea;for(let a=i.length-1;a>=0;--a){const o=i[a].$filler;o&&(o.line.updateControlPoints(r,o.axis),n&&o.fill&&$r(s.ctx,o,r))}},beforeDatasetsDraw(s,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;const n=s.getSortedVisibleDatasetMetas();for(let i=n.length-1;i>=0;--i){const r=n[i].$filler;Tc(r)&&$r(s.ctx,r,s.chartArea)}},beforeDatasetDraw(s,e,t){const n=e.meta.$filler;!Tc(n)||t.drawTime!=="beforeDatasetDraw"||$r(s.ctx,n,s.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Lc=(s,e)=>{let{boxHeight:t=e,boxWidth:n=e}=s;return s.usePointStyle&&(t=Math.min(t,e),n=s.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:t,itemHeight:Math.max(e,t)}},W0=(s,e)=>s!==null&&e!==null&&s.datasetIndex===e.datasetIndex&&s.index===e.index;class Oc extends Bt{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=ue(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(n=>e.filter(n,this.chart.data))),e.sort&&(t=t.sort((n,i)=>e.sort(n,i,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,i=ze(n.font),r=i.size,a=this._computeTitleHeight(),{boxWidth:o,itemHeight:c}=Lc(n,r);let l,u;t.font=i.string,this.isHorizontal()?(l=this.maxWidth,u=this._fitRows(a,r,o,c)+10):(u=this.maxHeight,l=this._fitCols(a,i,o,c)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,i){const{ctx:r,maxWidth:a,options:{labels:{padding:o}}}=this,c=this.legendHitBoxes=[],l=this.lineWidths=[0],u=i+o;let m=e;r.textAlign="left",r.textBaseline="middle";let f=-1,h=-u;return this.legendItems.forEach((p,g)=>{const y=n+t/2+r.measureText(p.text).width;(g===0||l[l.length-1]+y+2*o>a)&&(m+=u,l[l.length-(g>0?0:1)]=0,h+=u,f++),c[g]={left:0,top:h,row:f,width:y,height:i},l[l.length-1]+=y+o}),m}_fitCols(e,t,n,i){const{ctx:r,maxHeight:a,options:{labels:{padding:o}}}=this,c=this.legendHitBoxes=[],l=this.columnSizes=[],u=a-e;let m=o,f=0,h=0,p=0,g=0;return this.legendItems.forEach((y,k)=>{const{itemWidth:D,itemHeight:j}=$0(n,t,r,y,i);k>0&&h+j+2*o>u&&(m+=f+o,l.push({width:f,height:h}),p+=f+o,g++,f=h=0),c[k]={left:p,top:h,col:g,width:D,height:j},f=Math.max(f,D),h+=j+o}),m+=f,l.push({width:f,height:h}),m}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:i},rtl:r}}=this,a=Ws(r,this.left,this.width);if(this.isHorizontal()){let o=0,c=Ge(n,this.left+i,this.right-this.lineWidths[o]);for(const l of t)o!==l.row&&(o=l.row,c=Ge(n,this.left+i,this.right-this.lineWidths[o])),l.top+=this.top+e+i,l.left=a.leftForLtr(a.x(c),l.width),c+=l.width+i}else{let o=0,c=Ge(n,this.top+e+i,this.bottom-this.columnSizes[o].height);for(const l of t)l.col!==o&&(o=l.col,c=Ge(n,this.top+e+i,this.bottom-this.columnSizes[o].height)),l.top=c,l.left+=this.left+i,l.left=a.leftForLtr(a.x(l.left),l.width),c+=l.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;er(e,this),this._draw(),tr(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:n,ctx:i}=this,{align:r,labels:a}=e,o=Le.color,c=Ws(e.rtl,this.left,this.width),l=ze(a.font),{padding:u}=a,m=l.size,f=m/2;let h;this.drawTitle(),i.textAlign=c.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=l.string;const{boxWidth:p,boxHeight:g,itemHeight:y}=Lc(a,m),k=function(N,C,w){if(isNaN(p)||p<=0||isNaN(g)||g<0)return;i.save();const T=de(w.lineWidth,1);if(i.fillStyle=de(w.fillStyle,o),i.lineCap=de(w.lineCap,"butt"),i.lineDashOffset=de(w.lineDashOffset,0),i.lineJoin=de(w.lineJoin,"miter"),i.lineWidth=T,i.strokeStyle=de(w.strokeStyle,o),i.setLineDash(de(w.lineDash,[])),a.usePointStyle){const _={radius:g*Math.SQRT2/2,pointStyle:w.pointStyle,rotation:w.rotation,borderWidth:T},L=c.xPlus(N,p/2),O=C+f;Fu(i,_,L,O,a.pointStyleWidth&&p)}else{const _=C+Math.max((m-g)/2,0),L=c.leftForLtr(N,p),O=ys(w.borderRadius);i.beginPath(),Object.values(O).some(M=>M!==0)?Vn(i,{x:L,y:_,w:p,h:g,radius:O}):i.rect(L,_,p,g),i.fill(),T!==0&&i.stroke()}i.restore()},D=function(N,C,w){Ns(i,w.text,N,C+y/2,l,{strikethrough:w.hidden,textAlign:c.textAlign(w.textAlign)})},j=this.isHorizontal(),S=this._computeTitleHeight();j?h={x:Ge(r,this.left+u,this.right-n[0]),y:this.top+u+S,line:0}:h={x:this.left+u,y:Ge(r,this.top+S+u,this.bottom-t[0].height),line:0},Ku(this.ctx,e.textDirection);const v=y+u;this.legendItems.forEach((N,C)=>{i.strokeStyle=N.fontColor,i.fillStyle=N.fontColor;const w=i.measureText(N.text).width,T=c.textAlign(N.textAlign||(N.textAlign=a.textAlign)),_=p+f+w;let L=h.x,O=h.y;c.setWidth(this.width),j?C>0&&L+_+u>this.right&&(O=h.y+=v,h.line++,L=h.x=Ge(r,this.left+u,this.right-n[h.line])):C>0&&O+v>this.bottom&&(L=h.x=L+t[h.line].width+u,h.line++,O=h.y=Ge(r,this.top+S+u,this.bottom-t[h.line].height));const M=c.x(L);if(k(M,O,N),L=ng(T,L+p+f,j?L+_:this.right,e.rtl),D(c.x(L),O,N),j)h.x+=_+u;else if(typeof N.text!="string"){const H=l.lineHeight;h.y+=Dd(N,H)+u}else h.y+=v}),Gu(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,n=ze(t.font),i=Je(t.padding);if(!t.display)return;const r=Ws(e.rtl,this.left,this.width),a=this.ctx,o=t.position,c=n.size/2,l=i.top+c;let u,m=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+l,m=Ge(e.align,m,this.right-f);else{const p=this.columnSizes.reduce((g,y)=>Math.max(g,y.height),0);u=l+Ge(e.align,this.top,this.bottom-p-e.labels.padding-this._computeTitleHeight())}const h=Ge(o,m,m+f);a.textAlign=r.textAlign(Ka(o)),a.textBaseline="middle",a.strokeStyle=t.color,a.fillStyle=t.color,a.font=n.string,Ns(a,t.text,h,u,n)}_computeTitleHeight(){const e=this.options.title,t=ze(e.font),n=Je(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,i,r;if(Ft(e,this.left,this.right)&&Ft(t,this.top,this.bottom)){for(r=this.legendHitBoxes,n=0;n<r.length;++n)if(i=r[n],Ft(e,i.left,i.left+i.width)&&Ft(t,i.top,i.top+i.height))return this.legendItems[n]}return null}handleEvent(e){const t=this.options;if(!q0(e.type,t))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,r=W0(i,n);i&&!r&&ue(t.onLeave,[e,i,this],this),this._hoveredItem=n,n&&!r&&ue(t.onHover,[e,n,this],this)}else n&&ue(t.onClick,[e,n,this],this)}}function $0(s,e,t,n,i){const r=H0(n,s,e,t),a=Y0(i,n,e.lineHeight);return{itemWidth:r,itemHeight:a}}function H0(s,e,t,n){let i=s.text;return i&&typeof i!="string"&&(i=i.reduce((r,a)=>r.length>a.length?r:a)),e+t.size/2+n.measureText(i).width}function Y0(s,e,t){let n=s;return typeof e.text!="string"&&(n=Dd(e,t)),n}function Dd(s,e){const t=s.text?s.text.length:0;return e*t}function q0(s,e){return!!((s==="mousemove"||s==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(s==="click"||s==="mouseup"))}var K0={id:"legend",_element:Oc,start(s,e,t){const n=s.legend=new Oc({ctx:s.ctx,options:t,chart:s});Xe.configure(s,n,t),Xe.addBox(s,n)},stop(s){Xe.removeBox(s,s.legend),delete s.legend},beforeUpdate(s,e,t){const n=s.legend;Xe.configure(s,n,t),n.options=t},afterUpdate(s){const e=s.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(s,e){e.replay||s.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(s,e,t){const n=e.datasetIndex,i=t.chart;i.isDatasetVisible(n)?(i.hide(n),e.hidden=!0):(i.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:s=>s.chart.options.color,boxWidth:40,padding:10,generateLabels(s){const e=s.data.datasets,{labels:{usePointStyle:t,pointStyle:n,textAlign:i,color:r,useBorderRadius:a,borderRadius:o}}=s.legend.options;return s._getSortedDatasetMetas().map(c=>{const l=c.controller.getStyle(t?0:void 0),u=Je(l.borderWidth);return{text:e[c.index].label,fillStyle:l.backgroundColor,fontColor:r,hidden:!c.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:l.borderColor,pointStyle:n||l.pointStyle,rotation:l.rotation,textAlign:i||l.textAlign,borderRadius:a&&(o||l.borderRadius),datasetIndex:c.index}},this)}},title:{color:s=>s.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:s=>!s.startsWith("on"),labels:{_scriptable:s=>!["generateLabels","filter","sort"].includes(s)}}};class no extends Bt{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const i=Me(n.text)?n.text.length:1;this._padding=Je(n.padding);const r=i*ze(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:n,bottom:i,right:r,options:a}=this,o=a.align;let c=0,l,u,m;return this.isHorizontal()?(u=Ge(o,n,r),m=t+e,l=r-n):(a.position==="left"?(u=n+e,m=Ge(o,i,t),c=De*-.5):(u=r-e,m=Ge(o,t,i),c=De*.5),l=i-t),{titleX:u,titleY:m,maxWidth:l,rotation:c}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const n=ze(t.font),r=n.lineHeight/2+this._padding.top,{titleX:a,titleY:o,maxWidth:c,rotation:l}=this._drawArgs(r);Ns(e,t.text,0,0,n,{color:t.color,maxWidth:c,rotation:l,textAlign:Ka(t.align),textBaseline:"middle",translation:[a,o]})}}function G0(s,e){const t=new no({ctx:s.ctx,options:e,chart:s});Xe.configure(s,t,e),Xe.addBox(s,t),s.titleBlock=t}var Q0={id:"title",_element:no,start(s,e,t){G0(s,t)},stop(s){const e=s.titleBlock;Xe.removeBox(s,e),delete s.titleBlock},beforeUpdate(s,e,t){const n=s.titleBlock;Xe.configure(s,n,t),n.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const yi=new WeakMap;var X0={id:"subtitle",start(s,e,t){const n=new no({ctx:s.ctx,options:t,chart:s});Xe.configure(s,n,t),Xe.addBox(s,n),yi.set(s,n)},stop(s){Xe.removeBox(s,yi.get(s)),yi.delete(s)},beforeUpdate(s,e,t){const n=yi.get(s);Xe.configure(s,n,t),n.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const xn={average(s){if(!s.length)return!1;let e,t,n=new Set,i=0,r=0;for(e=0,t=s.length;e<t;++e){const o=s[e].element;if(o&&o.hasValue()){const c=o.tooltipPosition();n.add(c.x),i+=c.y,++r}}return r===0||n.size===0?!1:{x:[...n].reduce((o,c)=>o+c)/n.size,y:i/r}},nearest(s,e){if(!s.length)return!1;let t=e.x,n=e.y,i=Number.POSITIVE_INFINITY,r,a,o;for(r=0,a=s.length;r<a;++r){const c=s[r].element;if(c&&c.hasValue()){const l=c.getCenterPoint(),u=ga(e,l);u<i&&(i=u,o=c)}}if(o){const c=o.tooltipPosition();t=c.x,n=c.y}return{x:t,y:n}}};function Dt(s,e){return e&&(Me(e)?Array.prototype.push.apply(s,e):s.push(e)),s}function It(s){return(typeof s=="string"||s instanceof String)&&s.indexOf(`
`)>-1?s.split(`
`):s}function J0(s,e){const{element:t,datasetIndex:n,index:i}=e,r=s.getDatasetMeta(n).controller,{label:a,value:o}=r.getLabelAndValue(i);return{chart:s,label:a,parsed:r.getParsed(i),raw:s.data.datasets[n].data[i],formattedValue:o,dataset:r.getDataset(),dataIndex:i,datasetIndex:n,element:t}}function Ic(s,e){const t=s.chart.ctx,{body:n,footer:i,title:r}=s,{boxWidth:a,boxHeight:o}=e,c=ze(e.bodyFont),l=ze(e.titleFont),u=ze(e.footerFont),m=r.length,f=i.length,h=n.length,p=Je(e.padding);let g=p.height,y=0,k=n.reduce((S,v)=>S+v.before.length+v.lines.length+v.after.length,0);if(k+=s.beforeBody.length+s.afterBody.length,m&&(g+=m*l.lineHeight+(m-1)*e.titleSpacing+e.titleMarginBottom),k){const S=e.displayColors?Math.max(o,c.lineHeight):c.lineHeight;g+=h*S+(k-h)*c.lineHeight+(k-1)*e.bodySpacing}f&&(g+=e.footerMarginTop+f*u.lineHeight+(f-1)*e.footerSpacing);let D=0;const j=function(S){y=Math.max(y,t.measureText(S).width+D)};return t.save(),t.font=l.string,xe(s.title,j),t.font=c.string,xe(s.beforeBody.concat(s.afterBody),j),D=e.displayColors?a+2+e.boxPadding:0,xe(n,S=>{xe(S.before,j),xe(S.lines,j),xe(S.after,j)}),D=0,t.font=u.string,xe(s.footer,j),t.restore(),y+=p.width,{width:y,height:g}}function Z0(s,e){const{y:t,height:n}=e;return t<n/2?"top":t>s.height-n/2?"bottom":"center"}function ex(s,e,t,n){const{x:i,width:r}=n,a=t.caretSize+t.caretPadding;if(s==="left"&&i+r+a>e.width||s==="right"&&i-r-a<0)return!0}function tx(s,e,t,n){const{x:i,width:r}=t,{width:a,chartArea:{left:o,right:c}}=s;let l="center";return n==="center"?l=i<=(o+c)/2?"left":"right":i<=r/2?l="left":i>=a-r/2&&(l="right"),ex(l,s,e,t)&&(l="center"),l}function Rc(s,e,t){const n=t.yAlign||e.yAlign||Z0(s,t);return{xAlign:t.xAlign||e.xAlign||tx(s,e,t,n),yAlign:n}}function sx(s,e){let{x:t,width:n}=s;return e==="right"?t-=n:e==="center"&&(t-=n/2),t}function nx(s,e,t){let{y:n,height:i}=s;return e==="top"?n+=t:e==="bottom"?n-=i+t:n-=i/2,n}function Uc(s,e,t,n){const{caretSize:i,caretPadding:r,cornerRadius:a}=s,{xAlign:o,yAlign:c}=t,l=i+r,{topLeft:u,topRight:m,bottomLeft:f,bottomRight:h}=ys(a);let p=sx(e,o);const g=nx(e,c,l);return c==="center"?o==="left"?p+=l:o==="right"&&(p-=l):o==="left"?p-=Math.max(u,f)+i:o==="right"&&(p+=Math.max(m,h)+i),{x:He(p,0,n.width-e.width),y:He(g,0,n.height-e.height)}}function xi(s,e,t){const n=Je(t.padding);return e==="center"?s.x+s.width/2:e==="right"?s.x+s.width-n.right:s.x+n.left}function Fc(s){return Dt([],It(s))}function ix(s,e,t){return ss(s,{tooltip:e,tooltipItems:t,type:"tooltip"})}function zc(s,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?s.override(t):s}const Cd={beforeTitle:Mt,title(s){if(s.length>0){const e=s[0],t=e.chart.data.labels,n=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return t[e.dataIndex]}return""},afterTitle:Mt,beforeBody:Mt,beforeLabel:Mt,label(s){if(this&&this.options&&this.options.mode==="dataset")return s.label+": "+s.formattedValue||s.formattedValue;let e=s.dataset.label||"";e&&(e+=": ");const t=s.formattedValue;return ve(t)||(e+=t),e},labelColor(s){const t=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(s){const t=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Mt,afterBody:Mt,beforeFooter:Mt,footer:Mt,afterFooter:Mt};function rt(s,e,t,n){const i=s[e].call(t,n);return typeof i>"u"?Cd[e].call(t,n):i}class Bc extends Bt{static positioners=xn;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&t.options.animation&&n.animations,r=new ed(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=ix(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:n}=t,i=rt(n,"beforeTitle",this,e),r=rt(n,"title",this,e),a=rt(n,"afterTitle",this,e);let o=[];return o=Dt(o,It(i)),o=Dt(o,It(r)),o=Dt(o,It(a)),o}getBeforeBody(e,t){return Fc(rt(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:n}=t,i=[];return xe(e,r=>{const a={before:[],lines:[],after:[]},o=zc(n,r);Dt(a.before,It(rt(o,"beforeLabel",this,r))),Dt(a.lines,rt(o,"label",this,r)),Dt(a.after,It(rt(o,"afterLabel",this,r))),i.push(a)}),i}getAfterBody(e,t){return Fc(rt(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:n}=t,i=rt(n,"beforeFooter",this,e),r=rt(n,"footer",this,e),a=rt(n,"afterFooter",this,e);let o=[];return o=Dt(o,It(i)),o=Dt(o,It(r)),o=Dt(o,It(a)),o}_createItems(e){const t=this._active,n=this.chart.data,i=[],r=[],a=[];let o=[],c,l;for(c=0,l=t.length;c<l;++c)o.push(J0(this.chart,t[c]));return e.filter&&(o=o.filter((u,m,f)=>e.filter(u,m,f,n))),e.itemSort&&(o=o.sort((u,m)=>e.itemSort(u,m,n))),xe(o,u=>{const m=zc(e.callbacks,u);i.push(rt(m,"labelColor",this,u)),r.push(rt(m,"labelPointStyle",this,u)),a.push(rt(m,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=a,this.dataPoints=o,o}update(e,t){const n=this.options.setContext(this.getContext()),i=this._active;let r,a=[];if(!i.length)this.opacity!==0&&(r={opacity:0});else{const o=xn[n.position].call(this,i,this._eventPosition);a=this._createItems(n),this.title=this.getTitle(a,n),this.beforeBody=this.getBeforeBody(a,n),this.body=this.getBody(a,n),this.afterBody=this.getAfterBody(a,n),this.footer=this.getFooter(a,n);const c=this._size=Ic(this,n),l=Object.assign({},o,c),u=Rc(this.chart,n,l),m=Uc(n,l,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,r={opacity:1,x:m.x,y:m.y,width:c.width,height:c.height,caretX:o.x,caretY:o.y}}this._tooltipItems=a,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,i){const r=this.getCaretPosition(e,n,i);t.lineTo(r.x1,r.y1),t.lineTo(r.x2,r.y2),t.lineTo(r.x3,r.y3)}getCaretPosition(e,t,n){const{xAlign:i,yAlign:r}=this,{caretSize:a,cornerRadius:o}=n,{topLeft:c,topRight:l,bottomLeft:u,bottomRight:m}=ys(o),{x:f,y:h}=e,{width:p,height:g}=t;let y,k,D,j,S,v;return r==="center"?(S=h+g/2,i==="left"?(y=f,k=y-a,j=S+a,v=S-a):(y=f+p,k=y+a,j=S-a,v=S+a),D=y):(i==="left"?k=f+Math.max(c,u)+a:i==="right"?k=f+p-Math.max(l,m)-a:k=this.caretX,r==="top"?(j=h,S=j-a,y=k-a,D=k+a):(j=h+g,S=j+a,y=k+a,D=k-a),v=j),{x1:y,x2:k,x3:D,y1:j,y2:S,y3:v}}drawTitle(e,t,n){const i=this.title,r=i.length;let a,o,c;if(r){const l=Ws(n.rtl,this.x,this.width);for(e.x=xi(this,n.titleAlign,n),t.textAlign=l.textAlign(n.titleAlign),t.textBaseline="middle",a=ze(n.titleFont),o=n.titleSpacing,t.fillStyle=n.titleColor,t.font=a.string,c=0;c<r;++c)t.fillText(i[c],l.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+o,c+1===r&&(e.y+=n.titleMarginBottom-o)}}_drawColorBox(e,t,n,i,r){const a=this.labelColors[n],o=this.labelPointStyles[n],{boxHeight:c,boxWidth:l}=r,u=ze(r.bodyFont),m=xi(this,"left",r),f=i.x(m),h=c<u.lineHeight?(u.lineHeight-c)/2:0,p=t.y+h;if(r.usePointStyle){const g={radius:Math.min(l,c)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},y=i.leftForLtr(f,l)+l/2,k=p+c/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,ya(e,g,y,k),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,ya(e,g,y,k)}else{e.lineWidth=Ne(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const g=i.leftForLtr(f,l),y=i.leftForLtr(i.xPlus(f,1),l-2),k=ys(a.borderRadius);Object.values(k).some(D=>D!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,Vn(e,{x:g,y:p,w:l,h:c,radius:k}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),Vn(e,{x:y,y:p+1,w:l-2,h:c-2,radius:k}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(g,p,l,c),e.strokeRect(g,p,l,c),e.fillStyle=a.backgroundColor,e.fillRect(y,p+1,l-2,c-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:i}=this,{bodySpacing:r,bodyAlign:a,displayColors:o,boxHeight:c,boxWidth:l,boxPadding:u}=n,m=ze(n.bodyFont);let f=m.lineHeight,h=0;const p=Ws(n.rtl,this.x,this.width),g=function(w){t.fillText(w,p.x(e.x+h),e.y+f/2),e.y+=f+r},y=p.textAlign(a);let k,D,j,S,v,N,C;for(t.textAlign=a,t.textBaseline="middle",t.font=m.string,e.x=xi(this,y,n),t.fillStyle=n.bodyColor,xe(this.beforeBody,g),h=o&&y!=="right"?a==="center"?l/2+u:l+2+u:0,S=0,N=i.length;S<N;++S){for(k=i[S],D=this.labelTextColors[S],t.fillStyle=D,xe(k.before,g),j=k.lines,o&&j.length&&(this._drawColorBox(t,e,S,p,n),f=Math.max(m.lineHeight,c)),v=0,C=j.length;v<C;++v)g(j[v]),f=m.lineHeight;xe(k.after,g)}h=0,f=m.lineHeight,xe(this.afterBody,g),e.y-=r}drawFooter(e,t,n){const i=this.footer,r=i.length;let a,o;if(r){const c=Ws(n.rtl,this.x,this.width);for(e.x=xi(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=c.textAlign(n.footerAlign),t.textBaseline="middle",a=ze(n.footerFont),t.fillStyle=n.footerColor,t.font=a.string,o=0;o<r;++o)t.fillText(i[o],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+n.footerSpacing}}drawBackground(e,t,n,i){const{xAlign:r,yAlign:a}=this,{x:o,y:c}=e,{width:l,height:u}=n,{topLeft:m,topRight:f,bottomLeft:h,bottomRight:p}=ys(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(o+m,c),a==="top"&&this.drawCaret(e,t,n,i),t.lineTo(o+l-f,c),t.quadraticCurveTo(o+l,c,o+l,c+f),a==="center"&&r==="right"&&this.drawCaret(e,t,n,i),t.lineTo(o+l,c+u-p),t.quadraticCurveTo(o+l,c+u,o+l-p,c+u),a==="bottom"&&this.drawCaret(e,t,n,i),t.lineTo(o+h,c+u),t.quadraticCurveTo(o,c+u,o,c+u-h),a==="center"&&r==="left"&&this.drawCaret(e,t,n,i),t.lineTo(o,c+m),t.quadraticCurveTo(o,c,o+m,c),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,i=n&&n.x,r=n&&n.y;if(i||r){const a=xn[e.position].call(this,this._active,this._eventPosition);if(!a)return;const o=this._size=Ic(this,e),c=Object.assign({},a,this._size),l=Rc(t,e,c),u=Uc(e,c,l,t);(i._to!==u.x||r._to!==u.y)&&(this.xAlign=l.xAlign,this.yAlign=l.yAlign,this.width=o.width,this.height=o.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const a=Je(t.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&o&&(e.save(),e.globalAlpha=n,this.drawBackground(r,e,i,t),Ku(e,t.textDirection),r.y+=a.top,this.drawTitle(r,e,t),this.drawBody(r,e,t),this.drawFooter(r,e,t),Gu(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,i=e.map(({datasetIndex:o,index:c})=>{const l=this.chart.getDatasetMeta(o);if(!l)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:l.data[c],index:c}}),r=!Oi(n,i),a=this._positionChanged(i,t);(r||a)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,n=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],a=this._getActiveElements(e,r,t,n),o=this._positionChanged(a,e),c=t||!Oi(a,r)||o;return c&&(this._active=a,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),c}_getActiveElements(e,t,n,i){const r=this.options;if(e.type==="mouseout")return[];if(!i)return t.filter(o=>this.chart.data.datasets[o.datasetIndex]&&this.chart.getDatasetMeta(o.datasetIndex).controller.getParsed(o.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,r.mode,r,n);return r.reverse&&a.reverse(),a}_positionChanged(e,t){const{caretX:n,caretY:i,options:r}=this,a=xn[r.position].call(this,e,t);return a!==!1&&(n!==a.x||i!==a.y)}}var rx={id:"tooltip",_element:Bc,positioners:xn,afterInit(s,e,t){t&&(s.tooltip=new Bc({chart:s,options:t}))},beforeUpdate(s,e,t){s.tooltip&&s.tooltip.initialize(t)},reset(s,e,t){s.tooltip&&s.tooltip.initialize(t)},afterDraw(s){const e=s.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(s.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(s.ctx),s.notifyPlugins("afterTooltipDraw",t)}},afterEvent(s,e){if(s.tooltip){const t=e.replay;s.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(s,e)=>e.bodyFont.size,boxWidth:(s,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Cd},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:s=>s!=="filter"&&s!=="itemSort"&&s!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},ax=Object.freeze({__proto__:null,Colors:y0,Decimation:N0,Filler:B0,Legend:K0,SubTitle:X0,Title:Q0,Tooltip:rx});const ox=(s,e,t,n)=>(typeof e=="string"?(t=s.push(e)-1,n.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function cx(s,e,t,n){const i=s.indexOf(e);if(i===-1)return ox(s,e,t,n);const r=s.lastIndexOf(e);return i!==r?t:i}const lx=(s,e)=>s===null?null:He(Math.round(s),0,e);function Wc(s){const e=this.getLabels();return s>=0&&s<e.length?e[s]:s}class ux extends Ds{static id="category";static defaults={ticks:{callback:Wc}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const n=this.getLabels();for(const{index:i,label:r}of t)n[i]===r&&n.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(ve(e))return null;const n=this.getLabels();return t=isFinite(t)&&n[t]===e?t:cx(n,e,de(t,e),this._addedLabels),lx(t,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),t||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const e=this.min,t=this.max,n=this.options.offset,i=[];let r=this.getLabels();r=e===0&&t===r.length-1?r:r.slice(e,t+1),this._valueRange=Math.max(r.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let a=e;a<=t;a++)i.push({value:a});return i}getLabelForValue(e){return Wc.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function dx(s,e){const t=[],{bounds:i,step:r,min:a,max:o,precision:c,count:l,maxTicks:u,maxDigits:m,includeBounds:f}=s,h=r||1,p=u-1,{min:g,max:y}=e,k=!ve(a),D=!ve(o),j=!ve(l),S=(y-g)/(m+1);let v=Io((y-g)/p/h)*h,N,C,w,T;if(v<1e-14&&!k&&!D)return[{value:g},{value:y}];T=Math.ceil(y/v)-Math.floor(g/v),T>p&&(v=Io(T*v/p/h)*h),ve(c)||(N=Math.pow(10,c),v=Math.ceil(v*N)/N),i==="ticks"?(C=Math.floor(g/v)*v,w=Math.ceil(y/v)*v):(C=g,w=y),k&&D&&r&&Qp((o-a)/r,v/1e3)?(T=Math.round(Math.min((o-a)/v,u)),v=(o-a)/T,C=a,w=o):j?(C=k?a:C,w=D?o:w,T=l-1,v=(w-C)/T):(T=(w-C)/v,bs(T,Math.round(T),v/1e3)?T=Math.round(T):T=Math.ceil(T));const _=Math.max(Ro(v),Ro(C));N=Math.pow(10,ve(c)?_:c),C=Math.round(C*N)/N,w=Math.round(w*N)/N;let L=0;for(k&&(f&&C!==a?(t.push({value:a}),C<a&&L++,bs(Math.round((C+L*v)*N)/N,a,$c(a,S,s))&&L++):C<a&&L++);L<T;++L){const O=Math.round((C+L*v)*N)/N;if(D&&O>o)break;t.push({value:O})}return D&&f&&w!==o?t.length&&bs(t[t.length-1].value,o,$c(o,S,s))?t[t.length-1].value=o:t.push({value:o}):(!D||w===o)&&t.push({value:w}),t}function $c(s,e,{horizontal:t,minRotation:n}){const i=bt(n),r=(t?Math.sin(i):Math.cos(i))||.001,a=.75*e*(""+s).length;return Math.min(e/r,a)}class Wi extends Ds{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return ve(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this;const a=c=>i=t?i:c,o=c=>r=n?r:c;if(e){const c=ft(i),l=ft(r);c<0&&l<0?o(0):c>0&&l>0&&a(0)}if(i===r){let c=r===0?1:Math.abs(r*.05);o(r+c),e||a(i-c)}this.min=i,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:n}=e,i;return n?(i=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),t=t||11),t&&(i=Math.min(t,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},r=this._range||this,a=dx(i,r);return e.bounds==="ticks"&&Tu(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const i=(n-t)/Math.max(e.length-1,1)/2;t-=i,n+=i}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return Fn(e,this.chart.options.locale,this.options.ticks.format)}}class mx extends Wi{static id="linear";static defaults={ticks:{callback:Zi.formatters.numeric}};determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Ie(e)?e:0,this.max=Ie(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=bt(this.options.ticks.minRotation),i=(e?Math.sin(n):Math.cos(n))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,r.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const Ln=s=>Math.floor(Qt(s)),us=(s,e)=>Math.pow(10,Ln(s)+e);function Hc(s){return s/Math.pow(10,Ln(s))===1}function Yc(s,e,t){const n=Math.pow(10,t),i=Math.floor(s/n);return Math.ceil(e/n)-i}function fx(s,e){const t=e-s;let n=Ln(t);for(;Yc(s,e,n)>10;)n++;for(;Yc(s,e,n)<10;)n--;return Math.min(n,Ln(s))}function hx(s,{min:e,max:t}){e=ut(s.min,e);const n=[],i=Ln(e);let r=fx(e,t),a=r<0?Math.pow(10,Math.abs(r)):1;const o=Math.pow(10,r),c=i>r?Math.pow(10,i):0,l=Math.round((e-c)*a)/a,u=Math.floor((e-c)/o/10)*o*10;let m=Math.floor((l-u)/Math.pow(10,r)),f=ut(s.min,Math.round((c+u+m*Math.pow(10,r))*a)/a);for(;f<t;)n.push({value:f,major:Hc(f),significand:m}),m>=10?m=m<15?15:20:m++,m>=20&&(r++,m=2,a=r>=0?1:a),f=Math.round((c+u+m*Math.pow(10,r))*a)/a;const h=ut(s.max,f);return n.push({value:h,major:Hc(h),significand:m}),n}class px extends Ds{static id="logarithmic";static defaults={ticks:{callback:Zi.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const n=Wi.prototype.parse.apply(this,[e,t]);if(n===0){this._zero=!0;return}return Ie(n)&&n>0?n:null}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Ie(e)?Math.max(0,e):null,this.max=Ie(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Ie(this._userMin)&&(this.min=e===us(this.min,0)?us(this.min,-1):us(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let n=this.min,i=this.max;const r=o=>n=e?n:o,a=o=>i=t?i:o;n===i&&(n<=0?(r(1),a(10)):(r(us(n,-1)),a(us(i,1)))),n<=0&&r(us(i,-1)),i<=0&&a(us(n,1)),this.min=n,this.max=i}buildTicks(){const e=this.options,t={min:this._userMin,max:this._userMax},n=hx(t,this);return e.bounds==="ticks"&&Tu(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(e){return e===void 0?"0":Fn(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Qt(e),this._valueRange=Qt(this.max)-Qt(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Qt(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function Da(s){const e=s.ticks;if(e.display&&s.display){const t=Je(e.backdropPadding);return de(e.font&&e.font.size,Le.font.size)+t.height}return 0}function gx(s,e,t){return t=Me(t)?t:[t],{w:fg(s,e.string,t),h:t.length*e.lineHeight}}function qc(s,e,t,n,i){return s===n||s===i?{start:e-t/2,end:e+t/2}:s<n||s>i?{start:e-t,end:e}:{start:e,end:e+t}}function bx(s){const e={l:s.left+s._padding.left,r:s.right-s._padding.right,t:s.top+s._padding.top,b:s.bottom-s._padding.bottom},t=Object.assign({},e),n=[],i=[],r=s._pointLabels.length,a=s.options.pointLabels,o=a.centerPointLabels?De/r:0;for(let c=0;c<r;c++){const l=a.setContext(s.getPointLabelContext(c));i[c]=l.padding;const u=s.getPointPosition(c,s.drawingArea+i[c],o),m=ze(l.font),f=gx(s.ctx,m,s._pointLabels[c]);n[c]=f;const h=Qe(s.getIndexAngle(c)+o),p=Math.round(Ya(h)),g=qc(p,u.x,f.w,0,180),y=qc(p,u.y,f.h,90,270);yx(t,e,h,g,y)}s.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),s._pointLabelItems=kx(s,n,i)}function yx(s,e,t,n,i){const r=Math.abs(Math.sin(t)),a=Math.abs(Math.cos(t));let o=0,c=0;n.start<e.l?(o=(e.l-n.start)/r,s.l=Math.min(s.l,e.l-o)):n.end>e.r&&(o=(n.end-e.r)/r,s.r=Math.max(s.r,e.r+o)),i.start<e.t?(c=(e.t-i.start)/a,s.t=Math.min(s.t,e.t-c)):i.end>e.b&&(c=(i.end-e.b)/a,s.b=Math.max(s.b,e.b+c))}function xx(s,e,t){const n=s.drawingArea,{extra:i,additionalAngle:r,padding:a,size:o}=t,c=s.getPointPosition(e,n+i+a,r),l=Math.round(Ya(Qe(c.angle+Re))),u=Dx(c.y,o.h,l),m=Nx(l),f=wx(c.x,o.w,m);return{visible:!0,x:c.x,y:u,textAlign:m,left:f,top:u,right:f+o.w,bottom:u+o.h}}function vx(s,e){if(!e)return!0;const{left:t,top:n,right:i,bottom:r}=s;return!(St({x:t,y:n},e)||St({x:t,y:r},e)||St({x:i,y:n},e)||St({x:i,y:r},e))}function kx(s,e,t){const n=[],i=s._pointLabels.length,r=s.options,{centerPointLabels:a,display:o}=r.pointLabels,c={extra:Da(r)/2,additionalAngle:a?De/i:0};let l;for(let u=0;u<i;u++){c.padding=t[u],c.size=e[u];const m=xx(s,u,c);n.push(m),o==="auto"&&(m.visible=vx(m,l),m.visible&&(l=m))}return n}function Nx(s){return s===0||s===180?"center":s<180?"left":"right"}function wx(s,e,t){return t==="right"?s-=e:t==="center"&&(s-=e/2),s}function Dx(s,e,t){return t===90||t===270?s-=e/2:(t>270||t<90)&&(s-=e),s}function Cx(s,e,t){const{left:n,top:i,right:r,bottom:a}=t,{backdropColor:o}=e;if(!ve(o)){const c=ys(e.borderRadius),l=Je(e.backdropPadding);s.fillStyle=o;const u=n-l.left,m=i-l.top,f=r-n+l.width,h=a-i+l.height;Object.values(c).some(p=>p!==0)?(s.beginPath(),Vn(s,{x:u,y:m,w:f,h,radius:c}),s.fill()):s.fillRect(u,m,f,h)}}function Ex(s,e){const{ctx:t,options:{pointLabels:n}}=s;for(let i=e-1;i>=0;i--){const r=s._pointLabelItems[i];if(!r.visible)continue;const a=n.setContext(s.getPointLabelContext(i));Cx(t,a,r);const o=ze(a.font),{x:c,y:l,textAlign:u}=r;Ns(t,s._pointLabels[i],c,l+o.lineHeight/2,o,{color:a.color,textAlign:u,textBaseline:"middle"})}}function Ed(s,e,t,n){const{ctx:i}=s;if(t)i.arc(s.xCenter,s.yCenter,e,0,Te);else{let r=s.getPointPosition(0,e);i.moveTo(r.x,r.y);for(let a=1;a<n;a++)r=s.getPointPosition(a,e),i.lineTo(r.x,r.y)}}function Px(s,e,t,n,i){const r=s.ctx,a=e.circular,{color:o,lineWidth:c}=e;!a&&!n||!o||!c||t<0||(r.save(),r.strokeStyle=o,r.lineWidth=c,r.setLineDash(i.dash||[]),r.lineDashOffset=i.dashOffset,r.beginPath(),Ed(s,t,a,n),r.closePath(),r.stroke(),r.restore())}function Sx(s,e,t){return ss(s,{label:t,index:e,type:"pointLabel"})}class jx extends Wi{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Zi.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Je(Da(this.options)/2),t=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(t,n)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=Ie(e)&&!isNaN(e)?e:0,this.max=Ie(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Da(this.options))}generateTickLabels(e){Wi.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,n)=>{const i=ue(this.options.pointLabels.callback,[t,n],this);return i||i===0?i:""}).filter((t,n)=>this.chart.getDataVisibility(n))}fit(){const e=this.options;e.display&&e.pointLabels.display?bx(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,n,i){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((n-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,n,i))}getIndexAngle(e){const t=Te/(this._pointLabels.length||1),n=this.options.startAngle||0;return Qe(e*t+bt(n))}getDistanceFromCenterForValue(e){if(ve(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(ve(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const n=t[e];return Sx(this.getContext(),e,n)}}getPointPosition(e,t,n=0){const i=this.getIndexAngle(e)-Re+n;return{x:Math.cos(i)*t+this.xCenter,y:Math.sin(i)*t+this.yCenter,angle:i}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:n,right:i,bottom:r}=this._pointLabelItems[e];return{left:t,top:n,right:i,bottom:r}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),Ed(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:n,grid:i,border:r}=t,a=this._pointLabels.length;let o,c,l;if(t.pointLabels.display&&Ex(this,a),i.display&&this.ticks.forEach((u,m)=>{if(m!==0||m===0&&this.min<0){c=this.getDistanceFromCenterForValue(u.value);const f=this.getContext(m),h=i.setContext(f),p=r.setContext(f);Px(this,h,c,a,p)}}),n.display){for(e.save(),o=a-1;o>=0;o--){const u=n.setContext(this.getPointLabelContext(o)),{color:m,lineWidth:f}=u;!f||!m||(e.lineWidth=f,e.strokeStyle=m,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,c=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),l=this.getPointPosition(o,c),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,n=t.ticks;if(!n.display)return;const i=this.getIndexAngle(0);let r,a;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((o,c)=>{if(c===0&&this.min>=0&&!t.reverse)return;const l=n.setContext(this.getContext(c)),u=ze(l.font);if(r=this.getDistanceFromCenterForValue(this.ticks[c].value),l.showLabelBackdrop){e.font=u.string,a=e.measureText(o.label).width,e.fillStyle=l.backdropColor;const m=Je(l.backdropPadding);e.fillRect(-a/2-m.left,-r-u.size/2-m.top,a+m.width,u.size+m.height)}Ns(e,o.label,0,-r,u,{color:l.color,strokeColor:l.textStrokeColor,strokeWidth:l.textStrokeWidth})}),e.restore()}drawTitle(){}}const or={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ot=Object.keys(or);function Kc(s,e){return s-e}function Gc(s,e){if(ve(e))return null;const t=s._adapter,{parser:n,round:i,isoWeekday:r}=s._parseOpts;let a=e;return typeof n=="function"&&(a=n(a)),Ie(a)||(a=typeof n=="string"?t.parse(a,n):t.parse(a)),a===null?null:(i&&(a=i==="week"&&(Hs(r)||r===!0)?t.startOf(a,"isoWeek",r):t.startOf(a,i)),+a)}function Qc(s,e,t,n){const i=ot.length;for(let r=ot.indexOf(s);r<i-1;++r){const a=or[ot[r]],o=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((t-e)/(o*a.size))<=n)return ot[r]}return ot[i-1]}function _x(s,e,t,n,i){for(let r=ot.length-1;r>=ot.indexOf(t);r--){const a=ot[r];if(or[a].common&&s._adapter.diff(i,n,a)>=e-1)return a}return ot[t?ot.indexOf(t):0]}function Tx(s){for(let e=ot.indexOf(s)+1,t=ot.length;e<t;++e)if(or[ot[e]].common)return ot[e]}function Xc(s,e,t){if(!t)s[e]=!0;else if(t.length){const{lo:n,hi:i}=qa(t,e),r=t[n]>=e?t[n]:t[i];s[r]=!0}}function Ax(s,e,t,n){const i=s._adapter,r=+i.startOf(e[0].value,n),a=e[e.length-1].value;let o,c;for(o=r;o<=a;o=+i.add(o,1,n))c=t[o],c>=0&&(e[c].major=!0);return e}function Jc(s,e,t){const n=[],i={},r=e.length;let a,o;for(a=0;a<r;++a)o=e[a],i[o]=a,n.push({value:o,major:!1});return r===0||!t?n:Ax(s,n,i,t)}class Ca extends Ds{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const n=e.time||(e.time={}),i=this._adapter=new Vb._date(e.adapters.date);i.init(t),Nn(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:Gc(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,n=e.time.unit||"day";let{min:i,max:r,minDefined:a,maxDefined:o}=this.getUserBounds();function c(l){!a&&!isNaN(l.min)&&(i=Math.min(i,l.min)),!o&&!isNaN(l.max)&&(r=Math.max(r,l.max))}(!a||!o)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),i=Ie(i)&&!isNaN(i)?i:+t.startOf(Date.now(),n),r=Ie(r)&&!isNaN(r)?r:+t.endOf(Date.now(),n)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this.options,t=e.time,n=e.ticks,i=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,a=this.max,o=eg(i,r,a);return this._unit=t.unit||(n.autoSkip?Qc(t.minUnit,this.min,this.max,this._getLabelCapacity(r)):_x(this,o.length,t.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:Tx(this._unit),this.initOffsets(i),e.reverse&&o.reverse(),Jc(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,n=0,i,r;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?t=1-i:t=(this.getDecimalForValue(e[1])-i)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?n=r:n=(r-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;t=He(t,0,a),n=He(n,0,a),this._offsets={start:t,end:n,factor:1/(t+1+n)}}_generate(){const e=this._adapter,t=this.min,n=this.max,i=this.options,r=i.time,a=r.unit||Qc(r.minUnit,t,n,this._getLabelCapacity(t)),o=de(i.ticks.stepSize,1),c=a==="week"?r.isoWeekday:!1,l=Hs(c)||c===!0,u={};let m=t,f,h;if(l&&(m=+e.startOf(m,"isoWeek",c)),m=+e.startOf(m,l?"day":a),e.diff(n,t,a)>1e5*o)throw new Error(t+" and "+n+" are too far apart with stepSize of "+o+" "+a);const p=i.ticks.source==="data"&&this.getDataTimestamps();for(f=m,h=0;f<n;f=+e.add(f,o,a),h++)Xc(u,f,p);return(f===n||i.bounds==="ticks"||h===1)&&Xc(u,f,p),Object.keys(u).sort(Kc).map(g=>+g)}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}format(e,t){const i=this.options.time.displayFormats,r=this._unit,a=t||i[r];return this._adapter.format(e,a)}_tickFormatFunction(e,t,n,i){const r=this.options,a=r.ticks.callback;if(a)return ue(a,[e,t,n],this);const o=r.time.displayFormats,c=this._unit,l=this._majorUnit,u=c&&o[c],m=l&&o[l],f=n[t],h=l&&m&&f&&f.major;return this._adapter.format(e,i||(h?m:u))}generateTickLabels(e){let t,n,i;for(t=0,n=e.length;t<n;++t)i=e[t],i.label=this._tickFormatFunction(i.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,n=this.ctx.measureText(e).width,i=bt(this.isHorizontal()?t.maxRotation:t.minRotation),r=Math.cos(i),a=Math.sin(i),o=this._resolveTickFontOptions(0).size;return{w:n*r+o*a,h:n*a+o*r}}_getLabelCapacity(e){const t=this.options.time,n=t.displayFormats,i=n[t.unit]||n.millisecond,r=this._tickFormatFunction(e,0,Jc(this,[e],this._majorUnit),i),a=this._getLabelSize(r),o=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return o>0?o:1}getDataTimestamps(){let e=this._cache.data||[],t,n;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(t=0,n=i.length;t<n;++t)e=e.concat(i[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,n;if(e.length)return e;const i=this.getLabels();for(t=0,n=i.length;t<n;++t)e.push(Gc(this,i[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Mu(e.sort(Kc))}}function vi(s,e,t){let n=0,i=s.length-1,r,a,o,c;t?(e>=s[n].pos&&e<=s[i].pos&&({lo:n,hi:i}=zt(s,"pos",e)),{pos:r,time:o}=s[n],{pos:a,time:c}=s[i]):(e>=s[n].time&&e<=s[i].time&&({lo:n,hi:i}=zt(s,"time",e)),{time:r,pos:o}=s[n],{time:a,pos:c}=s[i]);const l=a-r;return l?o+(c-o)*(e-r)/l:o}class Vx extends Ca{static id="timeseries";static defaults=Ca.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=vi(t,this.min),this._tableRange=vi(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:n}=this,i=[],r=[];let a,o,c,l,u;for(a=0,o=e.length;a<o;++a)l=e[a],l>=t&&l<=n&&i.push(l);if(i.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(a=0,o=i.length;a<o;++a)u=i[a+1],c=i[a-1],l=i[a],Math.round((u+c)/2)!==l&&r.push({time:l,pos:a/(o-1)});return r}_generate(){const e=this.min,t=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(t)||n.length===1)&&n.push(t),n.sort((i,r)=>i-r)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),n=this.getLabelTimestamps();return t.length&&n.length?e=this.normalize(t.concat(n)):e=t.length?t:n,e=this._cache.all=e,e}getDecimalForValue(e){return(vi(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return vi(this._table,n*this._tableRange+this._minPos,!0)}}var Mx=Object.freeze({__proto__:null,CategoryScale:ux,LinearScale:mx,LogarithmicScale:px,RadialLinearScale:jx,TimeScale:Ca,TimeSeriesScale:Vx});const Lx=[Ab,d0,ax,Mx];var Yr={exports:{}};var Zc;function Ox(){return Zc||(Zc=1,(function(s){(function(e,t,n,i){var r=["","webkit","Moz","MS","ms","o"],a=t.createElement("div"),o="function",c=Math.round,l=Math.abs,u=Date.now;function m(b,x,E){return setTimeout(j(b,E),x)}function f(b,x,E){return Array.isArray(b)?(h(b,E[x],E),!0):!1}function h(b,x,E){var A;if(b)if(b.forEach)b.forEach(x,E);else if(b.length!==i)for(A=0;A<b.length;)x.call(E,b[A],A,b),A++;else for(A in b)b.hasOwnProperty(A)&&x.call(E,b[A],A,b)}function p(b,x,E){var A="DEPRECATED METHOD: "+x+`
`+E+` AT 
`;return function(){var U=new Error("get-stack-trace"),Q=U&&U.stack?U.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",ye=e.console&&(e.console.warn||e.console.log);return ye&&ye.call(e.console,A,Q),b.apply(this,arguments)}}var g;typeof Object.assign!="function"?g=function(x){if(x===i||x===null)throw new TypeError("Cannot convert undefined or null to object");for(var E=Object(x),A=1;A<arguments.length;A++){var U=arguments[A];if(U!==i&&U!==null)for(var Q in U)U.hasOwnProperty(Q)&&(E[Q]=U[Q])}return E}:g=Object.assign;var y=p(function(x,E,A){for(var U=Object.keys(E),Q=0;Q<U.length;)(!A||A&&x[U[Q]]===i)&&(x[U[Q]]=E[U[Q]]),Q++;return x},"extend","Use `assign`."),k=p(function(x,E){return y(x,E,!0)},"merge","Use `assign`.");function D(b,x,E){var A=x.prototype,U;U=b.prototype=Object.create(A),U.constructor=b,U._super=A,E&&g(U,E)}function j(b,x){return function(){return b.apply(x,arguments)}}function S(b,x){return typeof b==o?b.apply(x&&x[0]||i,x):b}function v(b,x){return b===i?x:b}function N(b,x,E){h(_(x),function(A){b.addEventListener(A,E,!1)})}function C(b,x,E){h(_(x),function(A){b.removeEventListener(A,E,!1)})}function w(b,x){for(;b;){if(b==x)return!0;b=b.parentNode}return!1}function T(b,x){return b.indexOf(x)>-1}function _(b){return b.trim().split(/\s+/g)}function L(b,x,E){if(b.indexOf&&!E)return b.indexOf(x);for(var A=0;A<b.length;){if(E&&b[A][E]==x||!E&&b[A]===x)return A;A++}return-1}function O(b){return Array.prototype.slice.call(b,0)}function M(b,x,E){for(var A=[],U=[],Q=0;Q<b.length;){var ye=b[Q][x];L(U,ye)<0&&A.push(b[Q]),U[Q]=ye,Q++}return A=A.sort(function(Ye,et){return Ye[x]>et[x]}),A}function H(b,x){for(var E,A,U=x[0].toUpperCase()+x.slice(1),Q=0;Q<r.length;){if(E=r[Q],A=E?E+U:x,A in b)return A;Q++}return i}var ne=1;function q(){return ne++}function se(b){var x=b.ownerDocument||b;return x.defaultView||x.parentWindow||e}var z=/mobile|tablet|ip(ad|hone|od)|android/i,ke="ontouchstart"in e,I=H(e,"PointerEvent")!==i,R=ke&&z.test(navigator.userAgent),X="touch",G="pen",Y="mouse",oe="kinect",re=25,$=1,ce=2,ie=4,ae=8,_e=1,B=2,Be=4,dt=8,ct=16,qe=B|Be,xt=dt|ct,Js=qe|xt,is=["x","y"],Es=["clientX","clientY"];function nt(b,x){var E=this;this.manager=b,this.callback=x,this.element=b.element,this.target=b.options.inputTarget,this.domHandler=function(A){S(b.options.enable,[b])&&E.handler(A)},this.init()}nt.prototype={handler:function(){},init:function(){this.evEl&&N(this.element,this.evEl,this.domHandler),this.evTarget&&N(this.target,this.evTarget,this.domHandler),this.evWin&&N(se(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&C(this.element,this.evEl,this.domHandler),this.evTarget&&C(this.target,this.evTarget,this.domHandler),this.evWin&&C(se(this.element),this.evWin,this.domHandler)}};function Zs(b){var x,E=b.options.inputClass;return E?x=E:I?x=rs:R?x=js:ke?x=P:x=Ps,new x(b,ur)}function ur(b,x,E){var A=E.pointers.length,U=E.changedPointers.length,Q=x&$&&A-U===0,ye=x&(ie|ae)&&A-U===0;E.isFirst=!!Q,E.isFinal=!!ye,Q&&(b.session={}),E.eventType=x,dr(b,E),b.emit("hammer.input",E),b.recognize(E),b.session.prevInput=E}function dr(b,x){var E=b.session,A=x.pointers,U=A.length;E.firstInput||(E.firstInput=Wt(x)),U>1&&!E.firstMultiple?E.firstMultiple=Wt(x):U===1&&(E.firstMultiple=!1);var Q=E.firstInput,ye=E.firstMultiple,$e=ye?ye.center:Q.center,Ye=x.center=Wn(A);x.timeStamp=u(),x.deltaTime=x.timeStamp-Q.timeStamp,x.angle=sn($e,Ye),x.distance=$t($e,Ye),zn(E,x),x.offsetDirection=tn(x.deltaX,x.deltaY);var et=en(x.deltaTime,x.deltaX,x.deltaY);x.overallVelocityX=et.x,x.overallVelocityY=et.y,x.overallVelocity=l(et.x)>l(et.y)?et.x:et.y,x.scale=ye?fr(ye.pointers,A):1,x.rotation=ye?mr(ye.pointers,A):0,x.maxPointers=E.prevInput?x.pointers.length>E.prevInput.maxPointers?x.pointers.length:E.prevInput.maxPointers:x.pointers.length,Bn(E,x);var kt=b.element;w(x.srcEvent.target,kt)&&(kt=x.srcEvent.target),x.target=kt}function zn(b,x){var E=x.center,A=b.offsetDelta||{},U=b.prevDelta||{},Q=b.prevInput||{};(x.eventType===$||Q.eventType===ie)&&(U=b.prevDelta={x:Q.deltaX||0,y:Q.deltaY||0},A=b.offsetDelta={x:E.x,y:E.y}),x.deltaX=U.x+(E.x-A.x),x.deltaY=U.y+(E.y-A.y)}function Bn(b,x){var E=b.lastInterval||x,A=x.timeStamp-E.timeStamp,U,Q,ye,$e;if(x.eventType!=ae&&(A>re||E.velocity===i)){var Ye=x.deltaX-E.deltaX,et=x.deltaY-E.deltaY,kt=en(A,Ye,et);Q=kt.x,ye=kt.y,U=l(kt.x)>l(kt.y)?kt.x:kt.y,$e=tn(Ye,et),b.lastInterval=x}else U=E.velocity,Q=E.velocityX,ye=E.velocityY,$e=E.direction;x.velocity=U,x.velocityX=Q,x.velocityY=ye,x.direction=$e}function Wt(b){for(var x=[],E=0;E<b.pointers.length;)x[E]={clientX:c(b.pointers[E].clientX),clientY:c(b.pointers[E].clientY)},E++;return{timeStamp:u(),pointers:x,center:Wn(x),deltaX:b.deltaX,deltaY:b.deltaY}}function Wn(b){var x=b.length;if(x===1)return{x:c(b[0].clientX),y:c(b[0].clientY)};for(var E=0,A=0,U=0;U<x;)E+=b[U].clientX,A+=b[U].clientY,U++;return{x:c(E/x),y:c(A/x)}}function en(b,x,E){return{x:x/b||0,y:E/b||0}}function tn(b,x){return b===x?_e:l(b)>=l(x)?b<0?B:Be:x<0?dt:ct}function $t(b,x,E){E||(E=is);var A=x[E[0]]-b[E[0]],U=x[E[1]]-b[E[1]];return Math.sqrt(A*A+U*U)}function sn(b,x,E){E||(E=is);var A=x[E[0]]-b[E[0]],U=x[E[1]]-b[E[1]];return Math.atan2(U,A)*180/Math.PI}function mr(b,x){return sn(x[1],x[0],Es)+sn(b[1],b[0],Es)}function fr(b,x){return $t(x[0],x[1],Es)/$t(b[0],b[1],Es)}var hr={mousedown:$,mousemove:ce,mouseup:ie},pr="mousedown",gr="mousemove mouseup";function Ps(){this.evEl=pr,this.evWin=gr,this.pressed=!1,nt.apply(this,arguments)}D(Ps,nt,{handler:function(x){var E=hr[x.type];E&$&&x.button===0&&(this.pressed=!0),E&ce&&x.which!==1&&(E=ie),this.pressed&&(E&ie&&(this.pressed=!1),this.callback(this.manager,E,{pointers:[x],changedPointers:[x],pointerType:Y,srcEvent:x}))}});var nn={pointerdown:$,pointermove:ce,pointerup:ie,pointercancel:ae,pointerout:ae},$n={2:X,3:G,4:Y,5:oe},_t="pointerdown",Ss="pointermove pointerup pointercancel";e.MSPointerEvent&&!e.PointerEvent&&(_t="MSPointerDown",Ss="MSPointerMove MSPointerUp MSPointerCancel");function rs(){this.evEl=_t,this.evWin=Ss,nt.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}D(rs,nt,{handler:function(x){var E=this.store,A=!1,U=x.type.toLowerCase().replace("ms",""),Q=nn[U],ye=$n[x.pointerType]||x.pointerType,$e=ye==X,Ye=L(E,x.pointerId,"pointerId");Q&$&&(x.button===0||$e)?Ye<0&&(E.push(x),Ye=E.length-1):Q&(ie|ae)&&(A=!0),!(Ye<0)&&(E[Ye]=x,this.callback(this.manager,Q,{pointers:E,changedPointers:[x],pointerType:ye,srcEvent:x}),A&&E.splice(Ye,1))}});var Hn={touchstart:$,touchmove:ce,touchend:ie,touchcancel:ae},br="touchstart",Yn="touchstart touchmove touchend touchcancel";function qn(){this.evTarget=br,this.evWin=Yn,this.started=!1,nt.apply(this,arguments)}D(qn,nt,{handler:function(x){var E=Hn[x.type];if(E===$&&(this.started=!0),!!this.started){var A=Kn.call(this,x,E);E&(ie|ae)&&A[0].length-A[1].length===0&&(this.started=!1),this.callback(this.manager,E,{pointers:A[0],changedPointers:A[1],pointerType:X,srcEvent:x})}}});function Kn(b,x){var E=O(b.touches),A=O(b.changedTouches);return x&(ie|ae)&&(E=M(E.concat(A),"identifier")),[E,A]}var Gn={touchstart:$,touchmove:ce,touchend:ie,touchcancel:ae},yr="touchstart touchmove touchend touchcancel";function js(){this.evTarget=yr,this.targetIds={},nt.apply(this,arguments)}D(js,nt,{handler:function(x){var E=Gn[x.type],A=Qn.call(this,x,E);A&&this.callback(this.manager,E,{pointers:A[0],changedPointers:A[1],pointerType:X,srcEvent:x})}});function Qn(b,x){var E=O(b.touches),A=this.targetIds;if(x&($|ce)&&E.length===1)return A[E[0].identifier]=!0,[E,E];var U,Q,ye=O(b.changedTouches),$e=[],Ye=this.target;if(Q=E.filter(function(et){return w(et.target,Ye)}),x===$)for(U=0;U<Q.length;)A[Q[U].identifier]=!0,U++;for(U=0;U<ye.length;)A[ye[U].identifier]&&$e.push(ye[U]),x&(ie|ae)&&delete A[ye[U].identifier],U++;if($e.length)return[M(Q.concat($e),"identifier"),$e]}var xr=2500,Xn=25;function P(){nt.apply(this,arguments);var b=j(this.handler,this);this.touch=new js(this.manager,b),this.mouse=new Ps(this.manager,b),this.primaryTouch=null,this.lastTouches=[]}D(P,nt,{handler:function(x,E,A){var U=A.pointerType==X,Q=A.pointerType==Y;if(!(Q&&A.sourceCapabilities&&A.sourceCapabilities.firesTouchEvents)){if(U)F.call(this,E,A);else if(Q&&le.call(this,A))return;this.callback(x,E,A)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function F(b,x){b&$?(this.primaryTouch=x.changedPointers[0].identifier,K.call(this,x)):b&(ie|ae)&&K.call(this,x)}function K(b){var x=b.changedPointers[0];if(x.identifier===this.primaryTouch){var E={x:x.clientX,y:x.clientY};this.lastTouches.push(E);var A=this.lastTouches,U=function(){var Q=A.indexOf(E);Q>-1&&A.splice(Q,1)};setTimeout(U,xr)}}function le(b){for(var x=b.srcEvent.clientX,E=b.srcEvent.clientY,A=0;A<this.lastTouches.length;A++){var U=this.lastTouches[A],Q=Math.abs(x-U.x),ye=Math.abs(E-U.y);if(Q<=Xn&&ye<=Xn)return!0}return!1}var we=H(a.style,"touchAction"),Ce=we!==i,be="compute",he="auto",Ue="manipulation",Pe="none",je="pan-x",We="pan-y",ht=rn();function pt(b,x){this.manager=b,this.set(x)}pt.prototype={set:function(b){b==be&&(b=this.compute()),Ce&&this.manager.element.style&&ht[b]&&(this.manager.element.style[we]=b),this.actions=b.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var b=[];return h(this.manager.recognizers,function(x){S(x.options.enable,[x])&&(b=b.concat(x.getTouchAction()))}),Ke(b.join(" "))},preventDefaults:function(b){var x=b.srcEvent,E=b.offsetDirection;if(this.manager.session.prevented){x.preventDefault();return}var A=this.actions,U=T(A,Pe)&&!ht[Pe],Q=T(A,We)&&!ht[We],ye=T(A,je)&&!ht[je];if(U){var $e=b.pointers.length===1,Ye=b.distance<2,et=b.deltaTime<250;if($e&&Ye&&et)return}if(!(ye&&Q)&&(U||Q&&E&qe||ye&&E&xt))return this.preventSrc(x)},preventSrc:function(b){this.manager.session.prevented=!0,b.preventDefault()}};function Ke(b){if(T(b,Pe))return Pe;var x=T(b,je),E=T(b,We);return x&&E?Pe:x||E?x?je:We:T(b,Ue)?Ue:he}function rn(){if(!Ce)return!1;var b={},x=e.CSS&&e.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(E){b[E]=x?e.CSS.supports("touch-action",E):!0}),b}var _s=1,it=2,Ts=4,Ht=8,Tt=Ht,an=16,vt=32;function At(b){this.options=g({},this.defaults,b||{}),this.id=q(),this.manager=null,this.options.enable=v(this.options.enable,!0),this.state=_s,this.simultaneous={},this.requireFail=[]}At.prototype={defaults:{},set:function(b){return g(this.options,b),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(b){if(f(b,"recognizeWith",this))return this;var x=this.simultaneous;return b=Jn(b,this),x[b.id]||(x[b.id]=b,b.recognizeWith(this)),this},dropRecognizeWith:function(b){return f(b,"dropRecognizeWith",this)?this:(b=Jn(b,this),delete this.simultaneous[b.id],this)},requireFailure:function(b){if(f(b,"requireFailure",this))return this;var x=this.requireFail;return b=Jn(b,this),L(x,b)===-1&&(x.push(b),b.requireFailure(this)),this},dropRequireFailure:function(b){if(f(b,"dropRequireFailure",this))return this;b=Jn(b,this);var x=L(this.requireFail,b);return x>-1&&this.requireFail.splice(x,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(b){return!!this.simultaneous[b.id]},emit:function(b){var x=this,E=this.state;function A(U){x.manager.emit(U,b)}E<Ht&&A(x.options.event+co(E)),A(x.options.event),b.additionalEvent&&A(b.additionalEvent),E>=Ht&&A(x.options.event+co(E))},tryEmit:function(b){if(this.canEmit())return this.emit(b);this.state=vt},canEmit:function(){for(var b=0;b<this.requireFail.length;){if(!(this.requireFail[b].state&(vt|_s)))return!1;b++}return!0},recognize:function(b){var x=g({},b);if(!S(this.options.enable,[this,x])){this.reset(),this.state=vt;return}this.state&(Tt|an|vt)&&(this.state=_s),this.state=this.process(x),this.state&(it|Ts|Ht|an)&&this.tryEmit(x)},process:function(b){},getTouchAction:function(){},reset:function(){}};function co(b){return b&an?"cancel":b&Ht?"end":b&Ts?"move":b&it?"start":""}function lo(b){return b==ct?"down":b==dt?"up":b==B?"left":b==Be?"right":""}function Jn(b,x){var E=x.manager;return E?E.get(b):b}function gt(){At.apply(this,arguments)}D(gt,At,{defaults:{pointers:1},attrTest:function(b){var x=this.options.pointers;return x===0||b.pointers.length===x},process:function(b){var x=this.state,E=b.eventType,A=x&(it|Ts),U=this.attrTest(b);return A&&(E&ae||!U)?x|an:A||U?E&ie?x|Ht:x&it?x|Ts:it:vt}});function Zn(){gt.apply(this,arguments),this.pX=null,this.pY=null}D(Zn,gt,{defaults:{event:"pan",threshold:10,pointers:1,direction:Js},getTouchAction:function(){var b=this.options.direction,x=[];return b&qe&&x.push(We),b&xt&&x.push(je),x},directionTest:function(b){var x=this.options,E=!0,A=b.distance,U=b.direction,Q=b.deltaX,ye=b.deltaY;return U&x.direction||(x.direction&qe?(U=Q===0?_e:Q<0?B:Be,E=Q!=this.pX,A=Math.abs(b.deltaX)):(U=ye===0?_e:ye<0?dt:ct,E=ye!=this.pY,A=Math.abs(b.deltaY))),b.direction=U,E&&A>x.threshold&&U&x.direction},attrTest:function(b){return gt.prototype.attrTest.call(this,b)&&(this.state&it||!(this.state&it)&&this.directionTest(b))},emit:function(b){this.pX=b.deltaX,this.pY=b.deltaY;var x=lo(b.direction);x&&(b.additionalEvent=this.options.event+x),this._super.emit.call(this,b)}});function vr(){gt.apply(this,arguments)}D(vr,gt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Pe]},attrTest:function(b){return this._super.attrTest.call(this,b)&&(Math.abs(b.scale-1)>this.options.threshold||this.state&it)},emit:function(b){if(b.scale!==1){var x=b.scale<1?"in":"out";b.additionalEvent=this.options.event+x}this._super.emit.call(this,b)}});function kr(){At.apply(this,arguments),this._timer=null,this._input=null}D(kr,At,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[he]},process:function(b){var x=this.options,E=b.pointers.length===x.pointers,A=b.distance<x.threshold,U=b.deltaTime>x.time;if(this._input=b,!A||!E||b.eventType&(ie|ae)&&!U)this.reset();else if(b.eventType&$)this.reset(),this._timer=m(function(){this.state=Tt,this.tryEmit()},x.time,this);else if(b.eventType&ie)return Tt;return vt},reset:function(){clearTimeout(this._timer)},emit:function(b){this.state===Tt&&(b&&b.eventType&ie?this.manager.emit(this.options.event+"up",b):(this._input.timeStamp=u(),this.manager.emit(this.options.event,this._input)))}});function Nr(){gt.apply(this,arguments)}D(Nr,gt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Pe]},attrTest:function(b){return this._super.attrTest.call(this,b)&&(Math.abs(b.rotation)>this.options.threshold||this.state&it)}});function wr(){gt.apply(this,arguments)}D(wr,gt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:qe|xt,pointers:1},getTouchAction:function(){return Zn.prototype.getTouchAction.call(this)},attrTest:function(b){var x=this.options.direction,E;return x&(qe|xt)?E=b.overallVelocity:x&qe?E=b.overallVelocityX:x&xt&&(E=b.overallVelocityY),this._super.attrTest.call(this,b)&&x&b.offsetDirection&&b.distance>this.options.threshold&&b.maxPointers==this.options.pointers&&l(E)>this.options.velocity&&b.eventType&ie},emit:function(b){var x=lo(b.offsetDirection);x&&this.manager.emit(this.options.event+x,b),this.manager.emit(this.options.event,b)}});function ei(){At.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}D(ei,At,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Ue]},process:function(b){var x=this.options,E=b.pointers.length===x.pointers,A=b.distance<x.threshold,U=b.deltaTime<x.time;if(this.reset(),b.eventType&$&&this.count===0)return this.failTimeout();if(A&&U&&E){if(b.eventType!=ie)return this.failTimeout();var Q=this.pTime?b.timeStamp-this.pTime<x.interval:!0,ye=!this.pCenter||$t(this.pCenter,b.center)<x.posThreshold;this.pTime=b.timeStamp,this.pCenter=b.center,!ye||!Q?this.count=1:this.count+=1,this._input=b;var $e=this.count%x.taps;if($e===0)return this.hasRequireFailures()?(this._timer=m(function(){this.state=Tt,this.tryEmit()},x.interval,this),it):Tt}return vt},failTimeout:function(){return this._timer=m(function(){this.state=vt},this.options.interval,this),vt},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Tt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function Yt(b,x){return x=x||{},x.recognizers=v(x.recognizers,Yt.defaults.preset),new Dr(b,x)}Yt.VERSION="2.0.7",Yt.defaults={domEvents:!1,touchAction:be,enable:!0,inputTarget:null,inputClass:null,preset:[[Nr,{enable:!1}],[vr,{enable:!1},["rotate"]],[wr,{direction:qe}],[Zn,{direction:qe},["swipe"]],[ei],[ei,{event:"doubletap",taps:2},["tap"]],[kr]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var dm=1,uo=2;function Dr(b,x){this.options=g({},Yt.defaults,x||{}),this.options.inputTarget=this.options.inputTarget||b,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=b,this.input=Zs(this),this.touchAction=new pt(this,this.options.touchAction),mo(this,!0),h(this.options.recognizers,function(E){var A=this.add(new E[0](E[1]));E[2]&&A.recognizeWith(E[2]),E[3]&&A.requireFailure(E[3])},this)}Dr.prototype={set:function(b){return g(this.options,b),b.touchAction&&this.touchAction.update(),b.inputTarget&&(this.input.destroy(),this.input.target=b.inputTarget,this.input.init()),this},stop:function(b){this.session.stopped=b?uo:dm},recognize:function(b){var x=this.session;if(!x.stopped){this.touchAction.preventDefaults(b);var E,A=this.recognizers,U=x.curRecognizer;(!U||U&&U.state&Tt)&&(U=x.curRecognizer=null);for(var Q=0;Q<A.length;)E=A[Q],x.stopped!==uo&&(!U||E==U||E.canRecognizeWith(U))?E.recognize(b):E.reset(),!U&&E.state&(it|Ts|Ht)&&(U=x.curRecognizer=E),Q++}},get:function(b){if(b instanceof At)return b;for(var x=this.recognizers,E=0;E<x.length;E++)if(x[E].options.event==b)return x[E];return null},add:function(b){if(f(b,"add",this))return this;var x=this.get(b.options.event);return x&&this.remove(x),this.recognizers.push(b),b.manager=this,this.touchAction.update(),b},remove:function(b){if(f(b,"remove",this))return this;if(b=this.get(b),b){var x=this.recognizers,E=L(x,b);E!==-1&&(x.splice(E,1),this.touchAction.update())}return this},on:function(b,x){if(b!==i&&x!==i){var E=this.handlers;return h(_(b),function(A){E[A]=E[A]||[],E[A].push(x)}),this}},off:function(b,x){if(b!==i){var E=this.handlers;return h(_(b),function(A){x?E[A]&&E[A].splice(L(E[A],x),1):delete E[A]}),this}},emit:function(b,x){this.options.domEvents&&mm(b,x);var E=this.handlers[b]&&this.handlers[b].slice();if(!(!E||!E.length)){x.type=b,x.preventDefault=function(){x.srcEvent.preventDefault()};for(var A=0;A<E.length;)E[A](x),A++}},destroy:function(){this.element&&mo(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function mo(b,x){var E=b.element;if(E.style){var A;h(b.options.cssProps,function(U,Q){A=H(E.style,Q),x?(b.oldCssProps[A]=E.style[A],E.style[A]=U):E.style[A]=b.oldCssProps[A]||""}),x||(b.oldCssProps={})}}function mm(b,x){var E=t.createEvent("Event");E.initEvent(b,!0,!0),E.gesture=x,x.target.dispatchEvent(E)}g(Yt,{INPUT_START:$,INPUT_MOVE:ce,INPUT_END:ie,INPUT_CANCEL:ae,STATE_POSSIBLE:_s,STATE_BEGAN:it,STATE_CHANGED:Ts,STATE_ENDED:Ht,STATE_RECOGNIZED:Tt,STATE_CANCELLED:an,STATE_FAILED:vt,DIRECTION_NONE:_e,DIRECTION_LEFT:B,DIRECTION_RIGHT:Be,DIRECTION_UP:dt,DIRECTION_DOWN:ct,DIRECTION_HORIZONTAL:qe,DIRECTION_VERTICAL:xt,DIRECTION_ALL:Js,Manager:Dr,Input:nt,TouchAction:pt,TouchInput:js,MouseInput:Ps,PointerEventInput:rs,TouchMouseInput:P,SingleTouchInput:qn,Recognizer:At,AttrRecognizer:gt,Tap:ei,Pan:Zn,Swipe:wr,Pinch:vr,Rotate:Nr,Press:kr,on:N,off:C,each:h,merge:k,extend:y,assign:g,inherit:D,bindFn:j,prefixed:H});var fm=typeof e<"u"?e:typeof self<"u"?self:{};fm.Hammer=Yt,s.exports?s.exports=Yt:e[n]=Yt})(window,document,"Hammer")})(Yr)),Yr.exports}var Ix=Ox();const Cn=su(Ix);const On=s=>s&&s.enabled&&s.modifierKey,Pd=(s,e)=>s&&e[s+"Key"],io=(s,e)=>s&&!e[s+"Key"];function ts(s,e,t){return s===void 0?!0:typeof s=="string"?s.indexOf(e)!==-1:typeof s=="function"?s({chart:t}).indexOf(e)!==-1:!1}function qr(s,e){return typeof s=="function"&&(s=s({chart:e})),typeof s=="string"?{x:s.indexOf("x")!==-1,y:s.indexOf("y")!==-1}:{x:!1,y:!1}}function Rx(s,e){let t;return function(){return clearTimeout(t),t=setTimeout(s,e),e}}function Ux({x:s,y:e},t){const n=t.scales,i=Object.keys(n);for(let r=0;r<i.length;r++){const a=n[i[r]];if(e>=a.top&&e<=a.bottom&&s>=a.left&&s<=a.right)return a}return null}function Sd(s,e,t){const{mode:n="xy",scaleMode:i,overScaleMode:r}=s||{},a=Ux(e,t),o=qr(n,t),c=qr(i,t);if(r){const u=qr(r,t);for(const m of["x","y"])u[m]&&(c[m]=o[m],o[m]=!1)}if(a&&c[a.axis])return[a];const l=[];return xe(t.scales,function(u){o[u.axis]&&l.push(u)}),l}const Ea=new WeakMap;function Oe(s){let e=Ea.get(s);return e||(e={originalScaleLimits:{},updatedScaleLimits:{},handlers:{},panDelta:{},dragging:!1,panning:!1},Ea.set(s,e)),e}function Fx(s){Ea.delete(s)}function jd(s,e,t,n){const i=Math.max(0,Math.min(1,(s-e)/t||0)),r=1-i;return{min:n*i,max:n*r}}function _d(s,e){const t=s.isHorizontal()?e.x:e.y;return s.getValueForPixel(t)}function Td(s,e,t){const n=s.max-s.min,i=n*(e-1),r=_d(s,t);return jd(r,s.min,n,i)}function zx(s,e,t){const n=_d(s,t);if(n===void 0)return{min:s.min,max:s.max};const i=Math.log10(s.min),r=Math.log10(s.max),a=Math.log10(n),o=r-i,c=o*(e-1),l=jd(a,i,o,c);return{min:Math.pow(10,i+l.min),max:Math.pow(10,r-l.max)}}function Bx(s,e){return e&&(e[s.id]||e[s.axis])||{}}function el(s,e,t,n,i){let r=t[n];if(r==="original"){const a=s.originalScaleLimits[e.id][n];r=de(a.options,a.scale)}return de(r,i)}function Wx(s,e,t){const n=s.getValueForPixel(e),i=s.getValueForPixel(t);return{min:Math.min(n,i),max:Math.max(n,i)}}function $x(s,{min:e,max:t,minLimit:n,maxLimit:i},r){const a=(s-t+e)/2;e-=a,t+=a;const o=r.min.options??r.min.scale,c=r.max.options??r.max.scale,l=s/1e6;return bs(e,o,l)&&(e=o),bs(t,c,l)&&(t=c),e<n?(e=n,t=Math.min(n+s,i)):t>i&&(t=i,e=Math.max(i-s,n)),{min:e,max:t}}function Cs(s,{min:e,max:t},n,i=!1){const r=Oe(s.chart),{options:a}=s,o=Bx(s,n),{minRange:c=0}=o,l=el(r,s,o,"min",-1/0),u=el(r,s,o,"max",1/0);if(i==="pan"&&(e<l||t>u))return!0;const m=s.max-s.min,f=i?Math.max(t-e,c):m;if(i&&f===c&&m<=c)return!0;const h=$x(f,{min:e,max:t,minLimit:l,maxLimit:u},r.originalScaleLimits[s.id]);return a.min=h.min,a.max=h.max,r.updatedScaleLimits[s.id]=h,s.parse(h.min)!==s.min||s.parse(h.max)!==s.max}function Hx(s,e,t,n){const i=Td(s,e,t),r={min:s.min+i.min,max:s.max-i.max};return Cs(s,r,n,!0)}function Yx(s,e,t,n){const i=zx(s,e,t);return Cs(s,i,n,!0)}function qx(s,e,t,n){Cs(s,Wx(s,e,t),n,!0)}const tl=s=>s===0||isNaN(s)?0:s<0?Math.min(Math.round(s),-1):Math.max(Math.round(s),1);function Kx(s){const t=s.getLabels().length-1;s.min>0&&(s.min-=1),s.max<t&&(s.max+=1)}function Gx(s,e,t,n){const i=Td(s,e,t);s.min===s.max&&e<1&&Kx(s);const r={min:s.min+tl(i.min),max:s.max-tl(i.max)};return Cs(s,r,n,!0)}function Qx(s){return s.isHorizontal()?s.width:s.height}function Xx(s,e,t){const i=s.getLabels().length-1;let{min:r,max:a}=s;const o=Math.max(a-r,1),c=Math.round(Qx(s)/Math.max(o,10)),l=Math.round(Math.abs(e/c));let u;return e<-c?(a=Math.min(a+l,i),r=o===1?a:a-o,u=a===i):e>c&&(r=Math.max(0,r-l),a=o===1?r:r+o,u=r===0),Cs(s,{min:r,max:a},t)||u}const Jx={second:500,minute:30*1e3,hour:1800*1e3,day:720*60*1e3,week:3.5*24*60*60*1e3,month:360*60*60*1e3,quarter:1440*60*60*1e3,year:4368*60*60*1e3};function Ad(s,e,t,n=!1){const{min:i,max:r,options:a}=s,o=a.time&&a.time.round,c=Jx[o]||0,l=s.getValueForPixel(s.getPixelForValue(i+c)-e),u=s.getValueForPixel(s.getPixelForValue(r+c)-e);return isNaN(l)||isNaN(u)?!0:Cs(s,{min:l,max:u},t,n?"pan":!1)}function sl(s,e,t){return Ad(s,e,t,!0)}const Pa={category:Gx,default:Hx,logarithmic:Yx},Sa={default:qx},ja={category:Xx,default:Ad,logarithmic:sl,timeseries:sl};function Zx(s,e,t){const{id:n,options:{min:i,max:r}}=s;if(!e[n]||!t[n])return!0;const a=t[n];return a.min!==i||a.max!==r}function nl(s,e){xe(s,(t,n)=>{e[n]||delete s[n]})}function Xs(s,e){const{scales:t}=s,{originalScaleLimits:n,updatedScaleLimits:i}=e;return xe(t,function(r){Zx(r,n,i)&&(n[r.id]={min:{scale:r.min,options:r.options.min},max:{scale:r.max,options:r.options.max}})}),nl(n,t),nl(i,t),n}function il(s,e,t,n){const i=Pa[s.type]||Pa.default;ue(i,[s,e,t,n])}function rl(s,e,t,n){const i=Sa[s.type]||Sa.default;ue(i,[s,e,t,n])}function ev(s){const e=s.chartArea;return{x:(e.left+e.right)/2,y:(e.top+e.bottom)/2}}function ro(s,e,t="none",n="api"){const{x:i=1,y:r=1,focalPoint:a=ev(s)}=typeof e=="number"?{x:e,y:e}:e,o=Oe(s),{options:{limits:c,zoom:l}}=o;Xs(s,o);const u=i!==1,m=r!==1,f=Sd(l,a,s);xe(f||s.scales,function(h){h.isHorizontal()&&u?il(h,i,a,c):!h.isHorizontal()&&m&&il(h,r,a,c)}),s.update(t),ue(l.onZoom,[{chart:s,trigger:n}])}function Vd(s,e,t,n="none",i="api"){const r=Oe(s),{options:{limits:a,zoom:o}}=r,{mode:c="xy"}=o;Xs(s,r);const l=ts(c,"x",s),u=ts(c,"y",s);xe(s.scales,function(m){m.isHorizontal()&&l?rl(m,e.x,t.x,a):!m.isHorizontal()&&u&&rl(m,e.y,t.y,a)}),s.update(n),ue(o.onZoom,[{chart:s,trigger:i}])}function tv(s,e,t,n="none",i="api"){const r=Oe(s);Xs(s,r);const a=s.scales[e];Cs(a,t,void 0,!0),s.update(n),ue(r.options.zoom?.onZoom,[{chart:s,trigger:i}])}function sv(s,e="default"){const t=Oe(s),n=Xs(s,t);xe(s.scales,function(i){const r=i.options;n[i.id]?(r.min=n[i.id].min.options,r.max=n[i.id].max.options):(delete r.min,delete r.max),delete t.updatedScaleLimits[i.id]}),s.update(e),ue(t.options.zoom.onZoomComplete,[{chart:s}])}function nv(s,e){const t=s.originalScaleLimits[e];if(!t)return;const{min:n,max:i}=t;return de(i.options,i.scale)-de(n.options,n.scale)}function iv(s){const e=Oe(s);let t=1,n=1;return xe(s.scales,function(i){const r=nv(e,i.id);if(r){const a=Math.round(r/(i.max-i.min)*100)/100;t=Math.min(t,a),n=Math.max(n,a)}}),t<1?t:n}function al(s,e,t,n){const{panDelta:i}=n,r=i[s.id]||0;ft(r)===ft(e)&&(e+=r);const a=ja[s.type]||ja.default;ue(a,[s,e,t])?i[s.id]=0:i[s.id]=e}function Md(s,e,t,n="none"){const{x:i=0,y:r=0}=typeof e=="number"?{x:e,y:e}:e,a=Oe(s),{options:{pan:o,limits:c}}=a,{onPan:l}=o||{};Xs(s,a);const u=i!==0,m=r!==0;xe(t||s.scales,function(f){f.isHorizontal()&&u?al(f,i,c,a):!f.isHorizontal()&&m&&al(f,r,c,a)}),s.update(n),ue(l,[{chart:s}])}function Ld(s){const e=Oe(s);Xs(s,e);const t={};for(const n of Object.keys(s.scales)){const{min:i,max:r}=e.originalScaleLimits[n]||{min:{},max:{}};t[n]={min:i.scale,max:r.scale}}return t}function rv(s){const e=Oe(s),t={};for(const n of Object.keys(s.scales))t[n]=e.updatedScaleLimits[n];return t}function av(s){const e=Ld(s);for(const t of Object.keys(s.scales)){const{min:n,max:i}=e[t];if(n!==void 0&&s.scales[t].min!==n||i!==void 0&&s.scales[t].max!==i)return!0}return!1}function ol(s){const e=Oe(s);return e.panning||e.dragging}const cl=(s,e,t)=>Math.min(t,Math.max(e,s));function at(s,e){const{handlers:t}=Oe(s),n=t[e];n&&n.target&&(n.target.removeEventListener(e,n),delete t[e])}function En(s,e,t,n){const{handlers:i,options:r}=Oe(s),a=i[t];if(a&&a.target===e)return;at(s,t),i[t]=c=>n(s,c,r),i[t].target=e;const o=t==="wheel"?!1:void 0;e.addEventListener(t,i[t],{passive:o})}function ov(s,e){const t=Oe(s);t.dragStart&&(t.dragging=!0,t.dragEnd=e,s.update("none"))}function cv(s,e){const t=Oe(s);!t.dragStart||e.key!=="Escape"||(at(s,"keydown"),t.dragging=!1,t.dragStart=t.dragEnd=null,s.update("none"))}function _a(s,e){if(s.target!==e.canvas){const t=e.canvas.getBoundingClientRect();return{x:s.clientX-t.left,y:s.clientY-t.top}}return Et(s,e)}function Od(s,e,t){const{onZoomStart:n,onZoomRejected:i}=t;if(n){const r=_a(e,s);if(ue(n,[{chart:s,event:e,point:r}])===!1)return ue(i,[{chart:s,event:e}]),!1}}function lv(s,e){if(s.legend){const r=Et(e,s);if(St(r,s.legend))return}const t=Oe(s),{pan:n,zoom:i={}}=t.options;if(e.button!==0||Pd(On(n),e)||io(On(i.drag),e))return ue(i.onZoomRejected,[{chart:s,event:e}]);Od(s,e,i)!==!1&&(t.dragStart=e,En(s,s.canvas.ownerDocument,"mousemove",ov),En(s,window.document,"keydown",cv))}function uv({begin:s,end:e},t){let n=e.x-s.x,i=e.y-s.y;const r=Math.abs(n/i);r>t?n=Math.sign(n)*Math.abs(i*t):r<t&&(i=Math.sign(i)*Math.abs(n/t)),e.x=s.x+n,e.y=s.y+i}function ll(s,e,t,{min:n,max:i,prop:r}){s[n]=cl(Math.min(t.begin[r],t.end[r]),e[n],e[i]),s[i]=cl(Math.max(t.begin[r],t.end[r]),e[n],e[i])}function dv(s,e,t){const n={begin:_a(e.dragStart,s),end:_a(e.dragEnd,s)};if(t){const i=s.chartArea.width/s.chartArea.height;uv(n,i)}return n}function Id(s,e,t,n){const i=ts(e,"x",s),r=ts(e,"y",s),{top:a,left:o,right:c,bottom:l,width:u,height:m}=s.chartArea,f={top:a,left:o,right:c,bottom:l},h=dv(s,t,n&&i&&r);i&&ll(f,s.chartArea,h,{min:"left",max:"right",prop:"x"}),r&&ll(f,s.chartArea,h,{min:"top",max:"bottom",prop:"y"});const p=f.right-f.left,g=f.bottom-f.top;return{...f,width:p,height:g,zoomX:i&&p?1+(u-p)/u:1,zoomY:r&&g?1+(m-g)/m:1}}function mv(s,e){const t=Oe(s);if(!t.dragStart)return;at(s,"mousemove");const{mode:n,onZoomComplete:i,drag:{threshold:r=0,maintainAspectRatio:a}}=t.options.zoom,o=Id(s,n,{dragStart:t.dragStart,dragEnd:e},a),c=ts(n,"x",s)?o.width:0,l=ts(n,"y",s)?o.height:0,u=Math.sqrt(c*c+l*l);if(t.dragStart=t.dragEnd=null,u<=r){t.dragging=!1,s.update("none");return}Vd(s,{x:o.left,y:o.top},{x:o.right,y:o.bottom},"zoom","drag"),t.dragging=!1,t.filterNextClick=!0,ue(i,[{chart:s}])}function fv(s,e,t){if(io(On(t.wheel),e)){ue(t.onZoomRejected,[{chart:s,event:e}]);return}if(Od(s,e,t)!==!1&&(e.cancelable&&e.preventDefault(),e.deltaY!==void 0))return!0}function hv(s,e){const{handlers:{onZoomComplete:t},options:{zoom:n}}=Oe(s);if(!fv(s,e,n))return;const i=e.target.getBoundingClientRect(),r=n.wheel.speed,a=e.deltaY>=0?2-1/(1-r):1+r,o={x:a,y:a,focalPoint:{x:e.clientX-i.left,y:e.clientY-i.top}};ro(s,o,"zoom","wheel"),ue(t,[{chart:s}])}function pv(s,e,t,n){t&&(Oe(s).handlers[e]=Rx(()=>ue(t,[{chart:s}]),n))}function gv(s,e){const t=s.canvas,{wheel:n,drag:i,onZoomComplete:r}=e.zoom;n.enabled?(En(s,t,"wheel",hv),pv(s,"onZoomComplete",r,250)):at(s,"wheel"),i.enabled?(En(s,t,"mousedown",lv),En(s,t.ownerDocument,"mouseup",mv)):(at(s,"mousedown"),at(s,"mousemove"),at(s,"mouseup"),at(s,"keydown"))}function bv(s){at(s,"mousedown"),at(s,"mousemove"),at(s,"mouseup"),at(s,"wheel"),at(s,"click"),at(s,"keydown")}function yv(s,e){return function(t,n){const{pan:i,zoom:r={}}=e.options;if(!i||!i.enabled)return!1;const a=n&&n.srcEvent;return a&&!e.panning&&n.pointerType==="mouse"&&(io(On(i),a)||Pd(On(r.drag),a))?(ue(i.onPanRejected,[{chart:s,event:n}]),!1):!0}}function xv(s,e){const t=Math.abs(s.clientX-e.clientX),n=Math.abs(s.clientY-e.clientY),i=t/n;let r,a;return i>.3&&i<1.7?r=a=!0:t>n?r=!0:a=!0,{x:r,y:a}}function Rd(s,e,t){if(e.scale){const{center:n,pointers:i}=t,r=1/e.scale*t.scale,a=t.target.getBoundingClientRect(),o=xv(i[0],i[1]),c=e.options.zoom.mode,l={x:o.x&&ts(c,"x",s)?r:1,y:o.y&&ts(c,"y",s)?r:1,focalPoint:{x:n.x-a.left,y:n.y-a.top}};ro(s,l,"zoom","pinch"),e.scale=t.scale}}function vv(s,e,t){if(e.options.zoom.pinch.enabled){const n=Et(t,s);ue(e.options.zoom.onZoomStart,[{chart:s,event:t,point:n}])===!1?(e.scale=null,ue(e.options.zoom.onZoomRejected,[{chart:s,event:t}])):e.scale=1}}function kv(s,e,t){e.scale&&(Rd(s,e,t),e.scale=null,ue(e.options.zoom.onZoomComplete,[{chart:s}]))}function Ud(s,e,t){const n=e.delta;n&&(e.panning=!0,Md(s,{x:t.deltaX-n.x,y:t.deltaY-n.y},e.panScales),e.delta={x:t.deltaX,y:t.deltaY})}function Nv(s,e,t){const{enabled:n,onPanStart:i,onPanRejected:r}=e.options.pan;if(!n)return;const a=t.target.getBoundingClientRect(),o={x:t.center.x-a.left,y:t.center.y-a.top};if(ue(i,[{chart:s,event:t,point:o}])===!1)return ue(r,[{chart:s,event:t}]);e.panScales=Sd(e.options.pan,o,s),e.delta={x:0,y:0},Ud(s,e,t)}function wv(s,e){e.delta=null,e.panning&&(e.panning=!1,e.filterNextClick=!0,ue(e.options.pan.onPanComplete,[{chart:s}]))}const Ta=new WeakMap;function ul(s,e){const t=Oe(s),n=s.canvas,{pan:i,zoom:r}=e,a=new Cn.Manager(n);r&&r.pinch.enabled&&(a.add(new Cn.Pinch),a.on("pinchstart",o=>vv(s,t,o)),a.on("pinch",o=>Rd(s,t,o)),a.on("pinchend",o=>kv(s,t,o))),i&&i.enabled&&(a.add(new Cn.Pan({threshold:i.threshold,enable:yv(s,t)})),a.on("panstart",o=>Nv(s,t,o)),a.on("panmove",o=>Ud(s,t,o)),a.on("panend",()=>wv(s,t))),Ta.set(s,a)}function dl(s){const e=Ta.get(s);e&&(e.remove("pinchstart"),e.remove("pinch"),e.remove("pinchend"),e.remove("panstart"),e.remove("pan"),e.remove("panend"),e.destroy(),Ta.delete(s))}function Dv(s,e){const{pan:t,zoom:n}=s,{pan:i,zoom:r}=e;return n?.zoom?.pinch?.enabled!==r?.zoom?.pinch?.enabled||t?.enabled!==i?.enabled||t?.threshold!==i?.threshold}var Cv="2.2.0";function ki(s,e,t){const n=t.zoom.drag,{dragStart:i,dragEnd:r}=Oe(s);if(n.drawTime!==e||!r)return;const{left:a,top:o,width:c,height:l}=Id(s,t.zoom.mode,{dragStart:i,dragEnd:r},n.maintainAspectRatio),u=s.ctx;u.save(),u.beginPath(),u.fillStyle=n.backgroundColor||"rgba(225,225,225,0.3)",u.fillRect(a,o,c,l),n.borderWidth>0&&(u.lineWidth=n.borderWidth,u.strokeStyle=n.borderColor||"rgba(225,225,225)",u.strokeRect(a,o,c,l)),u.restore()}var Ev={id:"zoom",version:Cv,defaults:{pan:{enabled:!1,mode:"xy",threshold:10,modifierKey:null},zoom:{wheel:{enabled:!1,speed:.1,modifierKey:null},drag:{enabled:!1,drawTime:"beforeDatasetsDraw",modifierKey:null},pinch:{enabled:!1},mode:"xy"}},start:function(s,e,t){const n=Oe(s);n.options=t,Object.prototype.hasOwnProperty.call(t.zoom,"enabled")&&console.warn("The option `zoom.enabled` is no longer supported. Please use `zoom.wheel.enabled`, `zoom.drag.enabled`, or `zoom.pinch.enabled`."),(Object.prototype.hasOwnProperty.call(t.zoom,"overScaleMode")||Object.prototype.hasOwnProperty.call(t.pan,"overScaleMode"))&&console.warn("The option `overScaleMode` is deprecated. Please use `scaleMode` instead (and update `mode` as desired)."),Cn&&ul(s,t),s.pan=(i,r,a)=>Md(s,i,r,a),s.zoom=(i,r)=>ro(s,i,r),s.zoomRect=(i,r,a)=>Vd(s,i,r,a),s.zoomScale=(i,r,a)=>tv(s,i,r,a),s.resetZoom=i=>sv(s,i),s.getZoomLevel=()=>iv(s),s.getInitialScaleBounds=()=>Ld(s),s.getZoomedScaleBounds=()=>rv(s),s.isZoomedOrPanned=()=>av(s),s.isZoomingOrPanning=()=>ol(s)},beforeEvent(s,{event:e}){if(ol(s))return!1;if(e.type==="click"||e.type==="mouseup"){const t=Oe(s);if(t.filterNextClick)return t.filterNextClick=!1,!1}},beforeUpdate:function(s,e,t){const n=Oe(s),i=n.options;n.options=t,Dv(i,t)&&(dl(s),ul(s,t)),gv(s,t)},beforeDatasetsDraw(s,e,t){ki(s,"beforeDatasetsDraw",t)},afterDatasetsDraw(s,e,t){ki(s,"afterDatasetsDraw",t)},beforeDraw(s,e,t){ki(s,"beforeDraw",t)},afterDraw(s,e,t){ki(s,"afterDraw",t)},stop:function(s){bv(s),Cn&&dl(s),Fx(s)},panFunctions:ja,zoomFunctions:Pa,zoomRectFunctions:Sa};const Fd="label";function ml(s,e){typeof s=="function"?s(e):s&&(s.current=e)}function Pv(s,e){const t=s.options;t&&e&&Object.assign(t,e)}function zd(s,e){s.labels=e}function Bd(s,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Fd;const n=[];s.datasets=e.map(i=>{const r=s.datasets.find(a=>a[t]===i[t]);return!r||!i.data||n.includes(r)?{...i}:(n.push(r),Object.assign(r,i),r)})}function Sv(s){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Fd;const t={labels:[],datasets:[]};return zd(t,s.labels),Bd(t,s.datasets,e),t}function jv(s,e){const{height:t=150,width:n=300,redraw:i=!1,datasetIdKey:r,type:a,data:o,options:c,plugins:l=[],fallbackContent:u,updateMode:m,...f}=s,h=V.useRef(null),p=V.useRef(null),g=()=>{h.current&&(p.current=new $s(h.current,{type:a,data:Sv(o,r),options:c&&{...c},plugins:l}),ml(e,p.current))},y=()=>{ml(e,null),p.current&&(p.current.destroy(),p.current=null)};return V.useEffect(()=>{!i&&p.current&&c&&Pv(p.current,c)},[i,c]),V.useEffect(()=>{!i&&p.current&&zd(p.current.config.data,o.labels)},[i,o.labels]),V.useEffect(()=>{!i&&p.current&&o.datasets&&Bd(p.current.config.data,o.datasets,r)},[i,o.datasets]),V.useEffect(()=>{p.current&&(i?(y(),setTimeout(g)):p.current.update(m))},[i,c,o.labels,o.datasets,m]),V.useEffect(()=>{p.current&&(y(),setTimeout(g))},[a]),V.useEffect(()=>(g(),()=>y()),[]),ge.createElement("canvas",{ref:h,role:"img",height:t,width:n,...f},u)}const _v=V.forwardRef(jv);function cr(s,e){return $s.register(e),V.forwardRef((t,n)=>ge.createElement(_v,{...t,ref:n,type:s}))}const Tv=cr("line",id),Av=cr("bar",nd),Vv=cr("radar",ad),Mv=cr("doughnut",nr),lt=s=>{if(typeof window<"u"&&typeof document<"u")try{const e=getComputedStyle(document.documentElement).getPropertyValue(`--${s}`).trim();if(e)return e}catch(e){console.warn("colorVar computedStyle failed",e)}try{if(ai&&ai[":root"]&&Object.prototype.hasOwnProperty.call(ai[":root"],`--${s}`))return ai[":root"][`--${s}`]}catch{}return te.colors.neutral?.[500]},fl=typeof window<"u"&&window?.document?.documentElement||null;function Lv(s){try{if(!fl)return null;const e=getComputedStyle(fl).getPropertyValue(s).trim();if(!e)return null;if(e.startsWith("#"))return e;const n=e.replace(/,/g," ").replace(/\s+/g," ").trim().split(" ");if(n.length===3&&n.every(i=>/^\d+$/.test(i))){const[i,r,a]=n.map(Number);return`rgb(${i} ${r} ${a})`}return e||null}catch{return null}}function Aa(s,e=1){if(!s)return`rgba(0,0,0,${e})`;const t=s.match(/^#([0-9a-fA-F]{6})$/);if(t){const i=t[1],r=parseInt(i.substr(0,2),16),a=parseInt(i.substr(2,2),16),o=parseInt(i.substr(4,2),16);return`rgba(${r}, ${a}, ${o}, ${e})`}const n=s.match(/(\d+)\s*(?:[, ])\s*(\d+)\s*(?:[, ])\s*(\d+)/)||s.match(/(\d+)\s+(\d+)\s+(\d+)/);if(n){const i=Number(n[1]),r=Number(n[2]),a=Number(n[3]);return`rgba(${i}, ${r}, ${a}, ${e})`}return`rgba(0,0,0,${e})`}function Se(s,e,t=1){const n=Lv(s);return n?Aa(n,t):e?Aa(e,t):`rgba(0,0,0,${t})`}const Kr={pain:{none:Se("--color-pain-none",te.colors.pain.none),mild:Se("--color-pain-mild",te.colors.pain.mild),moderate:Se("--color-pain-moderate",te.colors.pain.moderate),severe:Se("--color-pain-severe",te.colors.pain.severe),extreme:Se("--color-pain-extreme",te.colors.pain.extreme)},treatment:{primary:Se("--chart-series-2",te.colors.secondary[500]),medication:Se("--chart-series-3",te.colors.accent[500]),therapy:Se("--chart-series-1",te.colors.primary[600]),lifestyle:Se("--chart-series-6",te.colors.neutral[600])},analytics:{trend:Se("--chart-series-1",te.colors.primary[500]),average:Se("--chart-series-2",te.colors.secondary[500]),prediction:Se("--chart-series-3",te.colors.accent[400]),baseline:Se("--chart-series-6",te.colors.neutral[500])},status:{normal:Se("--chart-series-1",te.colors.status.info),warning:Se("--chart-series-4",te.colors.status.warning),critical:Se("--chart-series-6",te.colors.status.error),success:Se("--chart-series-2",te.colors.status.success)},series:[Se("--chart-series-1",te.colors.primary[500]),Se("--chart-series-2",te.colors.secondary[500]),Se("--chart-series-3",te.colors.accent[500]),Se("--chart-series-4",te.colors.pain.severe),Se("--chart-series-5",te.colors.pain.moderate),Se("--chart-series-6",te.colors.neutral[600]),Se("--chart-series-1",te.colors.primary[700]),Se("--chart-series-2",te.colors.secondary[700]),Se("--chart-series-3",te.colors.accent[700]),Se("--chart-series-6",te.colors.pain.extreme)]},Wd=(s,e="series")=>{const t=Kr[e];return Array.isArray(t)?t[s%t.length]:typeof t=="object"?Object.values(t)[s%Object.values(t).length]:Kr.series[s%Kr.series.length]},$d=(s,e=.2,t="series")=>{const n=Wd(s,t);return n.startsWith("rgba")?n.replace(/rgba\((\d+),\s*(\d+),\s*(\d+),\s*([0-9.]+)\)/,`rgba($1, $2, $3, ${e})`):Aa(n,e)};$d(0,.1,"analytics");typeof window<"u"&&$s._registered!==!0&&($s.register(...Lx,Ev),$s._registered=!0);function Ov(s,e,t=0){const n={...s,...Rv(s,t),borderWidth:s.borderWidth??2,tension:s.tension??.4,fill:Uv(s,e)};return e==="line"&&Iv(n,s),n}function Iv(s,e){s.pointBackgroundColor=hl(e.backgroundColor,s.backgroundColor),s.pointBorderColor=hl(e.borderColor,s.borderColor)}function Rv(s,e){const t=Wd(e),n=$d(e,.1);return{borderColor:s.borderColor??t,backgroundColor:s.backgroundColor??n}}function Uv(s,e){return typeof s.fill=="boolean"?s.fill:e==="line"}function hl(s,e){return Array.isArray(s)?s:e}function Fv({data:s,type:e="line",title:t,summary:n,height:i=300,className:r,config:a={}}){const{responsive:o=!0,maintainAspectRatio:c=!1,showLegend:l=!0,showTitle:u=!0,scales:m,plugins:f}=a,h=ge.useMemo(()=>({labels:s.labels,datasets:s.datasets.map((y,k)=>Ov(y,e,k))}),[s,e]),p=ge.useMemo(()=>({responsive:o,maintainAspectRatio:c,devicePixelRatio:typeof window<"u"&&window.devicePixelRatio||1,interaction:{mode:"index",intersect:!1,includeInvisible:!1},plugins:{legend:{display:l,labels:{color:lt("color-foreground"),padding:typeof window<"u"&&window.innerWidth<768?20:10,usePointStyle:!0,pointStyle:"circle"},position:typeof window<"u"&&window.innerWidth<768?"bottom":"top"},title:{display:u&&!!t,text:t,color:lt("color-foreground")},tooltip:{enabled:!0,mode:"nearest",intersect:!1,backgroundColor:lt("color-card"),titleColor:lt("color-foreground"),bodyColor:lt("color-foreground"),borderColor:lt("color-border"),borderWidth:1,padding:12,titleFont:{size:typeof window<"u"&&window.innerWidth<768?14:12},bodyFont:{size:typeof window<"u"&&window.innerWidth<768?13:11},position:"nearest",yAlign:"bottom",callbacks:{label:function(y){return zv(y)}}},zoom:{pan:{enabled:!0,mode:"xy",threshold:10},zoom:{wheel:{enabled:!1},pinch:{enabled:!0},mode:"xy"}},...f},elements:{point:{radius:typeof window<"u"&&window.innerWidth<768?4:3,hoverRadius:typeof window<"u"&&window.innerWidth<768?8:6,borderWidth:2},line:{tension:.35},bar:{borderRadius:typeof window<"u"&&window.innerWidth<768?2:0}},animation:{duration:typeof window<"u"&&window.innerWidth<768?200:400,easing:"easeOutQuart"},scales:e!=="doughnut"&&e!=="radar"?{x:{ticks:{color:lt("color-foreground"),maxTicksLimit:typeof window<"u"&&window.innerWidth<768?5:10,font:{size:typeof window<"u"&&window.innerWidth<768?11:12}},grid:{color:lt("color-border")},pan:{enabled:!0},zoom:{wheel:{enabled:!1},pinch:{enabled:!0}}},y:{min:0,max:10,ticks:{color:lt("color-foreground"),font:{size:typeof window<"u"&&window.innerWidth<768?11:12}},grid:{color:lt("color-border")},title:{display:!0,text:"Pain Level"},pan:{enabled:!0},zoom:{wheel:{enabled:!1},pinch:{enabled:!0}}},y1:{position:"right",ticks:{color:lt("color-foreground"),font:{size:typeof window<"u"&&window.innerWidth<768?11:12}},grid:{display:!1},title:{display:!0,text:"Entries"},pan:{enabled:!0},zoom:{wheel:{enabled:!1},pinch:{enabled:!0}}},...m}:void 0}),[o,c,l,u,t,e,m]),g=n??(t?`${t} chart with ${s.datasets.length} dataset(s)`:"Chart data");return d.jsxDEV(Qs,{className:J("w-full mobile-chart",r),children:d.jsxDEV(Ji,{className:"p-4 md:p-6",children:d.jsxDEV("figure",{"aria-labelledby":t?"chart-title":void 0,children:[t&&d.jsxDEV("figcaption",{id:"chart-title",className:"sr-only",children:t},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Chart.tsx",lineNumber:279,columnNumber:21},this),d.jsxDEV("p",{className:"sr-only",id:"chart-summary",children:g},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Chart.tsx",lineNumber:280,columnNumber:11},this),d.jsxDEV("div",{"aria-describedby":"chart-summary",children:[e==="bar"&&d.jsxDEV(Av,{data:h,options:p,height:i},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Chart.tsx",lineNumber:282,columnNumber:32},this),e==="doughnut"&&d.jsxDEV(Mv,{data:h,options:p,height:i},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Chart.tsx",lineNumber:283,columnNumber:37},this),e==="radar"&&d.jsxDEV(Vv,{data:h,options:p,height:i},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Chart.tsx",lineNumber:284,columnNumber:34},this),e==="line"&&d.jsxDEV(Tv,{data:h,options:p,height:i},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Chart.tsx",lineNumber:285,columnNumber:33},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Chart.tsx",lineNumber:281,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Chart.tsx",lineNumber:278,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Chart.tsx",lineNumber:277,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/components/Chart.tsx",lineNumber:276,columnNumber:5},this)}function zv(s){try{const e=s.dataset,t=s.dataIndex,n=s.dataset.label||"",i=s.parsed?.y??s.parsed??s.raw??"";let r=`${n}: ${i}`;return e._meta&&e._meta[t]&&(r+=Bv(e._meta[t])),r}catch{return s.dataset.label?`${s.dataset.label}: ${s.formattedValue}`:`${s.formattedValue}`}}function Bv(s){let e="";typeof s.count=="number"&&(e+=`  ${s.count} entr${s.count===1?"y":"ies"}`);const t=[];return s.notes&&t.push(`${s.notes} notes`),s.meds&&t.push(`${s.meds} meds`),t.length&&(e+=` (${t.join(", ")})`),e}const pl={warmth:0,coachIntensity:0,allowLightness:!1,medicalTerms:!1},Gr={risingPainIncrease:1.5,flarePainLevel:7,recoveryHours:24};class Wv{measurements=[];detectState(e,t){if(e.length===0)return"stable";const n=[...e].sort((a,o)=>new Date(o.timestamp).getTime()-new Date(a.timestamp).getTime()),i=n[0],r=i.baselineData?.pain??i.intensity??0;if(r>=Gr.flarePainLevel)return"flare";if(t!==void 0&&t<Gr.recoveryHours)return"recovery";if(n.length>=2){const a=n[1],o=a.baselineData?.pain??a.intensity??0;if(r-o>=Gr.risingPainIncrease)return"rising"}return"stable"}calculatePainTrend(e){if(e.length<2)return;const t=[...e].sort((a,o)=>new Date(o.timestamp).getTime()-new Date(a.timestamp).getTime()),n=t[0].baselineData?.pain??t[0].intensity??0,i=t[1].baselineData?.pain??t[1].intensity??0,r=n-i;return{current:n,previous:i,direction:r>.5?"up":r<-.5?"down":"stable"}}buildContext(e,t,n){return{state:this.detectState(e,n?.timeSinceFlare),preferences:t,painTrend:this.calculatePainTrend(e),timeSinceFlare:n?.timeSinceFlare,sleepQuality:n?.sleepQuality}}selectCopy(e,t){if(e.states){const n=e.states[t.state];if(n)return n}return e.warmth&&t.preferences.warmth===1?e.warmth.warm:e.medical&&t.preferences.medicalTerms?e.medical.withTerms:e.base}generateInsight(e,t=14){if(e.length<2)return null;const n=new Date;n.setDate(n.getDate()-t);const i=e.filter(g=>new Date(g.timestamp)>=n);if(i.length<2)return null;const r=i.reduce((g,y)=>g+(y.baselineData?.pain??y.intensity??0),0)/i.length,a=new Date(n);a.setDate(a.getDate()-t);const o=e.filter(g=>new Date(g.timestamp)>=a&&new Date(g.timestamp)<n);if(o.length<2)return{summary:`Last ${t} days: average pain ${r.toFixed(1)}.`,confidence:"low"};const c=o.reduce((g,y)=>g+(y.baselineData?.pain??y.intensity??0),0)/o.length,l=r-c,u=l>0?"":"",m=Math.abs(l),f=i.length>=10?"high":i.length>=5?"medium":"low",h=`Last ${t} days: average pain ${c.toFixed(1)}  ${r.toFixed(1)} (${u}${m.toFixed(1)}).`,p=[];return{summary:h,factors:p.length>0?p:void 0,confidence:f}}trackMeasurement(e){this.measurements.push(e),this.persistMeasurement(e)}getAcceptanceRate(e,t){const n=this.measurements.filter(r=>r.metric==="prompt_acceptance"&&r.context.intent===e&&(!t||r.context.state===t));return n.length===0?void 0:n.reduce((r,a)=>r+a.value,0)/n.length}getAverageTimeToCalm(){const e=this.measurements.filter(n=>n.metric==="time_to_calm");return e.length===0?void 0:e.reduce((n,i)=>n+i.value,0)/e.length}async persistMeasurement(e){try{await(await this.openDatabase()).transaction("tone-measurements","readwrite").objectStore("tone-measurements").add(e)}catch(t){console.error("Failed to persist tone measurement:",t)}}async openDatabase(){return new Promise((e,t)=>{const n=indexedDB.open("pain-tracker-tone",1);n.onerror=()=>t(n.error),n.onsuccess=()=>e(n.result),n.onupgradeneeded=i=>{const r=i.target.result;r.objectStoreNames.contains("tone-measurements")||r.createObjectStore("tone-measurements",{keyPath:"timestamp",autoIncrement:!0})}})}async loadMeasurements(){try{const i=(await this.openDatabase()).transaction("tone-measurements","readonly").objectStore("tone-measurements").getAll();i.onsuccess=()=>{this.measurements=i.result}}catch(e){console.error("Failed to load tone measurements:",e)}}}const Fs=new Wv;async function $v(){await Fs.loadMeasurements()}const Hd=V.createContext(void 0);function Hv({children:s}){const e=Gi(f=>f.entries||[]),[t,n]=V.useState(()=>{const f=localStorage.getItem("tone-preferences");if(f)try{return JSON.parse(f)}catch{return pl}return pl}),[i,r]=V.useState(()=>Fs.buildContext(e,t));V.useEffect(()=>{const f=Fs.buildContext(e,t,{});r(f)},[e,t]);const a=V.useCallback(f=>{n(h=>{const p={...h,...f};return localStorage.setItem("tone-preferences",JSON.stringify(p)),p})},[]),o=V.useCallback(f=>Fs.selectCopy(f,i),[i]),c=V.useCallback((f,h)=>{const p={metric:"prompt_acceptance",value:h?1:0,context:{state:i.state,intent:f},timestamp:new Date().toISOString()};Fs.trackMeasurement(p)},[i.state]),l=V.useCallback(f=>{const h={metric:"time_to_calm",value:f,context:{state:"flare",intent:"coach"},timestamp:new Date().toISOString()};Fs.trackMeasurement(h)},[]),u=V.useCallback(f=>{r(h=>({...h,state:f}))},[]),m={context:i,preferences:t,updatePreferences:a,getCopy:o,trackInteraction:c,trackTimeToCalm:l,forceState:u};return d.jsxDEV(Hd.Provider,{value:m,children:s},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/contexts/ToneContext.tsx",lineNumber:145,columnNumber:5},this)}function ao(){const s=V.useContext(Hd);if(!s)throw new Error("useTone must be used within ToneProvider");return s}function Ae(s){const{getCopy:e}=ao();return e(s)}const Nt={painSliderLabel:{base:"Pain intensity (010)",states:{flare:"Pain level"},medical:{plain:"Pain intensity",withTerms:"Pain intensity (numeric rating scale)"}},painSliderHint:{base:"Use slider or enter number directly",states:{flare:"Pick your number"}},locationsLabel:{base:"Where does it hurt?",states:{stable:"Affected areas",flare:"Location"}},locationsHint:{base:"Choose all that apply",states:{flare:"Tap all areas"}},bodyMapToggle:{base:"Or choose from a list",states:{flare:"Use list instead"}},notesLabel:{base:"Anything worth noting?",states:{stable:"Notes (optional)",flare:"Notes"},warmth:{neutral:"Additional notes",warm:"Anything worth noting?"}},notesPlaceholder:{base:"What triggered it? What helped?",states:{stable:"Triggers, relief strategies, context...",flare:"What happened?"}},continueButton:{base:"Continue",states:{flare:"Next"}},saveButton:{base:"Save entry",states:{stable:"Save and finish",flare:"Save"}},keyboardHint:{base:"Press Enter to continue",states:{flare:"Enter = next"}}},Rt={greeting:{base:"You're safe. We'll go step by step.",warmth:{neutral:"Flare mode. Follow the guide.",warm:"You're safe. We'll go step by step."}},breathingPhases:{inhale:{base:"Inhale 4",states:{flare:"In 4"}},hold:{base:"Hold 4",states:{flare:"Hold 4"}},exhale:{base:"Exhale 6",states:{flare:"Out 6"}},pause:{base:"Pause 2",states:{flare:"Rest 2"}}},affirmations:["This will pass.","You've managed this before.","One breath at a time.","You're doing what helps.","Your body is working to calm.","This is temporary.","You're safe right now.","Each breath helps."],crisisPrompt:{base:"Need immediate support?",states:{flare:"Need help now?"}},crisisHotline:{base:"988 Suicide & Crisis Lifeline",srText:"Call 988 for immediate crisis support"},closeButton:{base:"I'm feeling better",states:{flare:"Done"},warmth:{neutral:"Exit",warm:"I'm feeling better"}}},zs={noLogs:{headline:{base:"Two days of logs unlock patterns."},subtext:{base:"Start with today10 seconds."},cta:{base:"Log first entry"},secondaryCta:{base:"Learn how tracking helps"}},noTrends:{headline:{base:"Not enough data for trends yet."},subtext:{base:"Three entries will show your first pattern."}}},Yv=Rt.affirmations,Ni={inhale:4e3,hold:4e3,exhale:6e3,pause:2e3};function qv({isActive:s,onClose:e,affirmations:t=Yv,showRedactionToggle:n=!1}){const[i,r]=V.useState("inhale"),[a,o]=V.useState(0),[c,l]=V.useState(!1),[u,m]=V.useState(0),[f]=V.useState(Date.now()),{trackTimeToCalm:h}=ao(),p=Ae(Rt.greeting),g=Ae(Rt.crisisPrompt),y=Ae(Rt.crisisHotline),k=Ae(Rt.closeButton),D=Ae(Rt.breathingPhases.inhale),j=Ae(Rt.breathingPhases.hold),S=Ae(Rt.breathingPhases.exhale),v=Ae(Rt.breathingPhases.pause),N=()=>{const _=(Date.now()-f)/1e3;h(_),e()},C=_=>{if("vibrate"in navigator){const L={light:[10],medium:[20],heavy:[30,10,30]};navigator.vibrate(L[_])}};if(V.useEffect(()=>{if(!s)return;const _=[{phase:"inhale",duration:Ni.inhale},{phase:"hold",duration:Ni.hold},{phase:"exhale",duration:Ni.exhale},{phase:"pause",duration:Ni.pause}];let L=0;const O=()=>{L=(L+1)%_.length;const{phase:H,duration:ne}=_[L];return r(H),H==="inhale"?(C("light"),m(q=>q+1)):H==="exhale"&&C("medium"),setTimeout(O,ne)},M=setTimeout(O,_[0].duration);return()=>clearTimeout(M)},[s,i]),V.useEffect(()=>{if(!s)return;const _=setInterval(()=>{o(L=>(L+1)%t.length)},1e4);return()=>clearInterval(_)},[s,t.length]),V.useEffect(()=>{s&&(r("inhale"),o(0),m(0),C("heavy"))},[s]),!s)return null;const w=()=>{switch(i){case"inhale":return D;case"hold":return j;case"exhale":return S;case"pause":return v}},T=()=>{switch(i){case"inhale":return"scale-150";case"hold":return"scale-150";case"exhale":return"scale-100";case"pause":return"scale-100"}};return d.jsxDEV("div",{className:"fixed inset-0 z-[9999] bg-gradient-to-br from-blue-950 via-indigo-950 to-purple-950 flex items-center justify-center p-4 animate-in fade-in duration-500",role:"dialog","aria-modal":"true","aria-labelledby":"panic-mode-title","aria-describedby":"panic-mode-description",children:[d.jsxDEV("button",{onClick:N,className:J("absolute top-6 right-6 z-10","w-14 h-14 min-w-[56px] min-h-[56px]","bg-white/10 hover:bg-white/20 rounded-full","flex items-center justify-center","text-white/60 hover:text-white/90","transition-all duration-300","focus:outline-none focus:ring-4 focus:ring-white/30","backdrop-blur-sm"),"aria-label":k,children:d.jsxDEV(vs,{className:"w-6 h-6"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/PanicMode.tsx",lineNumber:185,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/PanicMode.tsx",lineNumber:171,columnNumber:7},this),n&&d.jsxDEV("button",{onClick:()=>l(!c),className:J("absolute top-6 left-6 z-10","px-4 py-2 min-h-[44px]","bg-white/10 hover:bg-white/20 rounded-full","text-white/60 hover:text-white/90 text-sm","transition-all duration-300","focus:outline-none focus:ring-4 focus:ring-white/30","backdrop-blur-sm"),"aria-label":c?"Show content":"Hide sensitive content","aria-pressed":c,children:c?" Show":" Hide"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/PanicMode.tsx",lineNumber:190,columnNumber:9},this),d.jsxDEV("div",{className:"max-w-2xl w-full text-center space-y-8",children:[d.jsxDEV("div",{children:[d.jsxDEV("h1",{id:"panic-mode-title",className:"text-4xl md:text-5xl font-bold text-white mb-3 animate-in fade-in slide-in-from-bottom-4 duration-700",children:p},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/PanicMode.tsx",lineNumber:212,columnNumber:11},this),d.jsxDEV("p",{id:"panic-mode-description",className:"text-xl text-white/70 animate-in fade-in slide-in-from-bottom-4 duration-700 delay-100",children:t[a]},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/PanicMode.tsx",lineNumber:218,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/PanicMode.tsx",lineNumber:211,columnNumber:9},this),d.jsxDEV("div",{className:"flex items-center justify-center py-12",children:d.jsxDEV("div",{className:J("relative w-64 h-64 rounded-full","bg-gradient-to-br from-blue-400/30 to-purple-400/30","backdrop-blur-xl border-4 border-white/20","flex items-center justify-center","transition-transform duration-[4000ms] ease-in-out",T()),role:"img","aria-label":`Breathing guide: ${w()}`,"aria-live":"polite",children:[d.jsxDEV("div",{className:"absolute inset-4 rounded-full bg-gradient-to-br from-blue-300/20 to-purple-300/20 blur-xl"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/PanicMode.tsx",lineNumber:242,columnNumber:13},this),d.jsxDEV(uu,{className:"w-16 h-16 text-white/50 animate-pulse","aria-hidden":"true"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/PanicMode.tsx",lineNumber:245,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/PanicMode.tsx",lineNumber:228,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/PanicMode.tsx",lineNumber:227,columnNumber:9},this),d.jsxDEV("div",{className:"text-2xl md:text-3xl font-medium text-white animate-in fade-in duration-500","aria-live":"assertive","aria-atomic":"true",children:w()},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/PanicMode.tsx",lineNumber:250,columnNumber:9},this),d.jsxDEV("div",{className:"text-sm text-white/50",children:[u," breathing ",u===1?"cycle":"cycles"," completed"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/PanicMode.tsx",lineNumber:259,columnNumber:9},this),d.jsxDEV("div",{className:"text-sm text-white/40 max-w-md mx-auto space-y-2",children:[d.jsxDEV("p",{children:"Follow the expanding and contracting circle"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/PanicMode.tsx",lineNumber:265,columnNumber:11},this),d.jsxDEV("p",{children:"Take your time. There's no rush."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/PanicMode.tsx",lineNumber:266,columnNumber:11},this),d.jsxDEV("p",{className:"text-xs mt-4",children:"Press the  button when you're ready to return"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/PanicMode.tsx",lineNumber:267,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/PanicMode.tsx",lineNumber:264,columnNumber:9},this),d.jsxDEV("div",{className:"pt-8 border-t border-white/10",children:[d.jsxDEV("p",{className:"text-xs text-white/40 mb-3",children:g},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/PanicMode.tsx",lineNumber:272,columnNumber:11},this),d.jsxDEV("div",{className:"flex flex-wrap gap-3 justify-center",children:[d.jsxDEV("a",{href:"tel:988",className:J("px-6 py-3 min-h-[48px]","bg-white/10 hover:bg-white/20 rounded-full","text-white/80 hover:text-white text-sm font-medium","transition-all duration-300","focus:outline-none focus:ring-4 focus:ring-white/30"),children:y},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/PanicMode.tsx",lineNumber:274,columnNumber:13},this),d.jsxDEV("button",{onClick:N,className:J("px-6 py-3 min-h-[48px]","bg-white/10 hover:bg-white/20 rounded-full","text-white/80 hover:text-white text-sm font-medium","transition-all duration-300","focus:outline-none focus:ring-4 focus:ring-white/30"),children:k},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/PanicMode.tsx",lineNumber:286,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/PanicMode.tsx",lineNumber:273,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/PanicMode.tsx",lineNumber:271,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/PanicMode.tsx",lineNumber:209,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/PanicMode.tsx",lineNumber:163,columnNumber:5},this)}function Kv({children:s,onNavigate:e,currentView:t="dashboard",stats:n}){const[i,r]=V.useState(!1),[a,o]=V.useState(!1),{mode:c,setMode:l}=tp(),u=[{id:"dashboard",name:"Dashboard",icon:Ff,badge:null},{id:"new-entry",name:"New Entry",icon:jr,badge:null},{id:"analytics",name:"Analytics",icon:Fa,badge:"Pro"},{id:"calendar",name:"Calendar",icon:Ua,badge:null},{id:"reports",name:"Reports",icon:lu,badge:null}],m=[{id:"settings",name:"Settings",icon:sh},{id:"help",name:"Help",icon:Df}];return d.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-blue-50 dark:from-gray-950 dark:via-gray-900 dark:to-blue-950",children:[d.jsxDEV("a",{href:"#main-content",className:"sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-[9999] focus:px-6 focus:py-3 focus:bg-primary-600 focus:text-white focus:rounded-lg focus:shadow-lg focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 focus:outline-none",children:"Skip to main content"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:62,columnNumber:7},this),d.jsxDEV("header",{className:"fixed top-0 left-0 right-0 z-50 backdrop-blur-xl bg-white/70 dark:bg-gray-900/70 border-b border-gray-200/50 dark:border-gray-700/50",children:d.jsxDEV("div",{className:"mx-auto max-w-screen-2xl px-4 sm:px-6 lg:px-8",children:d.jsxDEV("div",{className:"flex h-16 items-center justify-between",children:[d.jsxDEV("div",{className:"flex items-center gap-4",children:[d.jsxDEV("button",{onClick:()=>r(!i),className:"lg:hidden p-2 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:i?d.jsxDEV(vs,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:79,columnNumber:32},this):d.jsxDEV(Yf,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:79,columnNumber:60},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:75,columnNumber:15},this),d.jsxDEV("div",{className:"flex items-center gap-3",children:[d.jsxDEV("div",{className:"p-2 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl shadow-lg shadow-blue-500/30",children:d.jsxDEV(uu,{className:"h-6 w-6 text-white"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:84,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:83,columnNumber:17},this),d.jsxDEV("div",{className:"hidden sm:block",children:[d.jsxDEV("h1",{className:"text-lg font-bold bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-blue-400 dark:to-indigo-400 bg-clip-text text-transparent",children:"Pain Tracker Pro"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:87,columnNumber:19},this),d.jsxDEV("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Empathy-Driven Care"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:90,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:86,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:82,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:74,columnNumber:13},this),n&&d.jsxDEV("div",{className:"hidden md:flex items-center gap-4",children:[d.jsxDEV("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full bg-blue-50 dark:bg-blue-950/30 border border-blue-200 dark:border-blue-800",children:[d.jsxDEV(Ra,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:99,columnNumber:19},this),d.jsxDEV("span",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:[n.avgPain.toFixed(1)," avg"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:100,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:98,columnNumber:17},this),d.jsxDEV("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full bg-purple-50 dark:bg-purple-950/30 border border-purple-200 dark:border-purple-800",children:[d.jsxDEV(fu,{className:"h-4 w-4 text-purple-600 dark:text-purple-400"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:105,columnNumber:19},this),d.jsxDEV("span",{className:"text-sm font-medium text-purple-900 dark:text-purple-100",children:[n.streak," day streak"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:106,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:104,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:97,columnNumber:15},this),d.jsxDEV("div",{className:"flex items-center gap-2",children:[d.jsxDEV(yt,{variant:"ghost",size:"sm",className:"rounded-xl",onClick:()=>{},children:d.jsxDEV(tf,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:121,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:115,columnNumber:15},this),d.jsxDEV(yt,{variant:"ghost",size:"sm",className:"rounded-xl",onClick:()=>l(c==="dark"?"light":"dark"),children:c==="dark"?d.jsxDEV(lh,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:131,columnNumber:19},this):d.jsxDEV(Qf,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:133,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:124,columnNumber:15},this),d.jsxDEV("div",{className:"p-2 bg-gradient-to-br from-green-400 to-emerald-500 rounded-xl cursor-pointer hover:shadow-lg hover:shadow-green-500/30 transition-all",children:d.jsxDEV(ih,{className:"h-4 w-4 text-white"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:138,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:137,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:114,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:72,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:71,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:70,columnNumber:7},this),d.jsxDEV("aside",{className:"hidden lg:fixed lg:inset-y-0 lg:left-0 lg:z-40 lg:block lg:w-64 lg:pt-16",children:d.jsxDEV("div",{className:"h-full px-4 py-6 bg-white/50 dark:bg-gray-900/50 backdrop-blur-sm border-r border-gray-200/50 dark:border-gray-700/50",children:[d.jsxDEV("nav",{className:"space-y-1",children:u.map(f=>{const h=f.icon,p=t===f.id;return d.jsxDEV("button",{onClick:()=>e?.(f.id),className:J("group flex w-full items-center justify-between rounded-xl px-4 py-3 text-sm font-medium transition-all duration-200",p?"bg-gradient-to-r from-blue-500 to-indigo-600 text-white shadow-lg shadow-blue-500/30":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"),children:[d.jsxDEV("div",{className:"flex items-center gap-3",children:[d.jsxDEV(h,{className:J("h-5 w-5 transition-transform group-hover:scale-110",p?"text-white":"text-gray-500 dark:text-gray-400")},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:165,columnNumber:21},this),d.jsxDEV("span",{children:f.name},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:169,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:164,columnNumber:19},this),f.badge&&d.jsxDEV(Pt,{variant:"outline",className:"rounded-full text-xs",children:f.badge},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:172,columnNumber:21},this)]},f.id,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:154,columnNumber:17},this)})},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:148,columnNumber:11},this),d.jsxDEV("div",{className:"mt-8 pt-8 border-t border-gray-200 dark:border-gray-700",children:d.jsxDEV("nav",{className:"space-y-1",children:m.map(f=>{const h=f.icon,p=t===f.id;return d.jsxDEV("button",{onClick:()=>e?.(f.id),className:J("group flex w-full items-center gap-3 rounded-xl px-4 py-3 text-sm font-medium transition-all",p?"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white":"text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-800/50"),children:[d.jsxDEV(h,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:198,columnNumber:21},this),d.jsxDEV("span",{children:f.name},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:199,columnNumber:21},this)]},f.id,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:188,columnNumber:19},this)})},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:182,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:181,columnNumber:11},this),d.jsxDEV("div",{className:"mt-8",children:d.jsxDEV(yt,{onClick:()=>e?.("new-entry"),className:"w-full bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white rounded-xl shadow-lg shadow-blue-500/30 transition-all hover:shadow-xl hover:shadow-blue-500/40",children:[d.jsxDEV(jr,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:212,columnNumber:15},this),"Quick Entry"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:208,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:207,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:147,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:146,columnNumber:7},this),i&&d.jsxDEV("div",{className:"fixed inset-0 z-40 lg:hidden",children:[d.jsxDEV("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>r(!1)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:222,columnNumber:11},this),d.jsxDEV("aside",{className:"fixed inset-y-0 left-0 w-64 bg-white dark:bg-gray-900 shadow-xl",children:d.jsxDEV("div",{className:"h-full px-4 py-6 pt-20",children:d.jsxDEV("nav",{className:"space-y-1",children:u.map(f=>{const h=f.icon,p=t===f.id;return d.jsxDEV("button",{onClick:()=>{e?.(f.id),r(!1)},className:J("group flex w-full items-center justify-between rounded-xl px-4 py-3 text-sm font-medium transition-all",p?"bg-gradient-to-r from-blue-500 to-indigo-600 text-white shadow-lg":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"),children:[d.jsxDEV("div",{className:"flex items-center gap-3",children:[d.jsxDEV(h,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:248,columnNumber:25},this),d.jsxDEV("span",{children:f.name},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:249,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:247,columnNumber:23},this),f.badge&&d.jsxDEV(Pt,{variant:"outline",className:"rounded-full text-xs",children:f.badge},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:252,columnNumber:25},this)]},f.id,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:234,columnNumber:21},this)})},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:228,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:227,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:226,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:221,columnNumber:9},this),d.jsxDEV("main",{id:"main-content",className:"lg:pl-64 pt-16",tabIndex:-1,children:d.jsxDEV("div",{className:"mx-auto max-w-screen-2xl px-4 sm:px-6 lg:px-8 py-8",children:s},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:267,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:266,columnNumber:7},this),d.jsxDEV("button",{onClick:()=>e?.("new-entry"),className:"lg:hidden fixed bottom-6 right-6 z-50 p-4 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-full shadow-2xl shadow-blue-500/50 hover:shadow-blue-500/70 transition-all hover:scale-110","aria-label":"Quick pain entry",children:d.jsxDEV(jr,{className:"h-6 w-6 text-white"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:278,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:273,columnNumber:7},this),d.jsxDEV("button",{onClick:()=>o(!0),className:J("fixed bottom-6 left-6 z-50","w-14 h-14 min-w-[56px] min-h-[56px]","bg-gradient-to-br from-purple-500 to-indigo-600","rounded-full shadow-2xl shadow-purple-500/50","flex items-center justify-center","text-white","transition-all duration-300","hover:scale-110 hover:shadow-purple-500/70","focus:outline-none focus:ring-4 focus:ring-purple-500 focus:ring-offset-2","lg:bottom-8 lg:left-8"),"aria-label":"Activate calm breathing mode",title:"Need a moment? Click for breathing guide",children:d.jsxDEV(yh,{className:"h-6 w-6 animate-pulse"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:299,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:282,columnNumber:7},this),d.jsxDEV(qv,{isActive:a,onClose:()=>o(!1),showRedactionToggle:!1},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:303,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/layouts/ModernAppLayout.tsx",lineNumber:60,columnNumber:5},this)}function hs({title:s,value:e,delta:t,sparkline:n,severity:i,unit:r,className:a,compact:o=!1}){const c=m=>`var(--severity-${m})`,l=()=>{if(!t)return null;switch(t.direction){case"up":return d.jsxDEV(Fa,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/MetricCard.tsx",lineNumber:40,columnNumber:16},this);case"down":return d.jsxDEV(fh,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/MetricCard.tsx",lineNumber:42,columnNumber:16},this);default:return d.jsxDEV(Kf,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/MetricCard.tsx",lineNumber:44,columnNumber:16},this)}},u=()=>t?t.direction==="down"?"text-good-500":t.direction==="up"?"text-bad-500":"text-ink-400":"text-ink-400";return d.jsxDEV("div",{className:J("surface-card transition-all duration-[var(--duration-fast)]","hover:surface-elevated hover:shadow-[var(--elevation-2)]",o&&"p-4",a),children:[d.jsxDEV("div",{className:"text-small text-ink-300 mb-2",children:s},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/MetricCard.tsx",lineNumber:65,columnNumber:7},this),d.jsxDEV("div",{className:"flex items-baseline gap-2 mb-1",children:[d.jsxDEV("span",{className:J(o?"text-h2":"text-display","text-mono text-ink-50"),children:e},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/MetricCard.tsx",lineNumber:71,columnNumber:9},this),r&&d.jsxDEV("span",{className:"text-small text-ink-400",children:r},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/MetricCard.tsx",lineNumber:78,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/MetricCard.tsx",lineNumber:70,columnNumber:7},this),t&&d.jsxDEV("div",{className:J("flex items-center gap-1 text-small",u()),children:[l(),d.jsxDEV("span",{className:"text-mono",children:[t.value>0?"+":"",t.value.toFixed(1)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/MetricCard.tsx",lineNumber:91,columnNumber:11},this),t.label&&d.jsxDEV("span",{className:"text-ink-400",children:t.label},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/MetricCard.tsx",lineNumber:95,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/MetricCard.tsx",lineNumber:86,columnNumber:9},this),n&&n.length>0&&d.jsxDEV("div",{className:"mt-3 h-8",children:d.jsxDEV("svg",{width:"100%",height:"100%",viewBox:"0 0 100 32",preserveAspectRatio:"none",className:"overflow-visible",children:d.jsxDEV("polyline",{fill:"none",stroke:"var(--primary-500)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",points:n.map((m,f)=>{const h=f/(n.length-1)*100,p=Math.max(...n),g=Math.min(...n),y=p-g||1,k=32-(m-g)/y*28;return`${h},${k}`}).join(" ")},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/MetricCard.tsx",lineNumber:112,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/MetricCard.tsx",lineNumber:105,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/MetricCard.tsx",lineNumber:104,columnNumber:9},this),i!==void 0&&d.jsxDEV("div",{className:"mt-3 h-1 bg-surface-700 rounded-full overflow-hidden",children:d.jsxDEV("div",{className:"h-full transition-all duration-[var(--duration-normal)]",style:{width:`${i/10*100}%`,backgroundColor:c(i)}},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/MetricCard.tsx",lineNumber:134,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/MetricCard.tsx",lineNumber:133,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/MetricCard.tsx",lineNumber:58,columnNumber:5},this)}function Ai({statement:s,confidence:e,rationale:t,onDismiss:n,className:i}){const[r,a]=V.useState(!1),o=()=>Array.from({length:3},(c,l)=>d.jsxDEV("div",{className:J("w-1.5 h-1.5 rounded-full transition-colors",l<e?"bg-primary-500":"bg-surface-600")},l,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/InsightChip.tsx",lineNumber:25,columnNumber:7},this));return d.jsxDEV("div",{className:J("relative inline-block",i),children:[d.jsxDEV("div",{className:J("flex items-center gap-2 px-3 py-2 rounded-[var(--radius-md)]","bg-surface-700 border border-surface-600","text-small text-ink-100","transition-all duration-[var(--duration-fast)]","hover:bg-surface-600 hover:border-primary-500/30"),children:[d.jsxDEV("span",{className:"flex-1",children:s},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/InsightChip.tsx",lineNumber:45,columnNumber:9},this),d.jsxDEV("div",{className:"flex items-center gap-0.5",children:o()},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/InsightChip.tsx",lineNumber:48,columnNumber:9},this),d.jsxDEV("button",{onClick:()=>a(!r),className:J("p-1 rounded hover:bg-surface-500 transition-colors","focus-visible:outline focus-visible:outline-2 focus-visible:outline-primary-500"),"aria-label":"Show insight details",children:d.jsxDEV(Li,{className:"w-3.5 h-3.5 text-ink-400"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/InsightChip.tsx",lineNumber:61,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/InsightChip.tsx",lineNumber:53,columnNumber:9},this),n&&d.jsxDEV("button",{onClick:n,className:J("p-1 rounded hover:bg-surface-500 transition-colors","focus-visible:outline focus-visible:outline-2 focus-visible:outline-primary-500"),"aria-label":"Dismiss insight",children:d.jsxDEV(vs,{className:"w-3.5 h-3.5 text-ink-400"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/InsightChip.tsx",lineNumber:74,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/InsightChip.tsx",lineNumber:66,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/InsightChip.tsx",lineNumber:37,columnNumber:7},this),r&&d.jsxDEV(d.Fragment,{children:[d.jsxDEV("div",{className:"fixed inset-0 z-[var(--z-popover)]",onClick:()=>a(!1)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/InsightChip.tsx",lineNumber:83,columnNumber:11},this),d.jsxDEV("div",{className:J("absolute left-0 top-full mt-2 z-[calc(var(--z-popover)+1)]","w-80 max-w-[90vw]","bg-surface-700 border border-surface-500 rounded-[var(--radius-xl)]","shadow-[var(--elevation-3)] p-4","animate-in fade-in-0 slide-in-from-top-2 duration-[var(--duration-fast)]"),children:[d.jsxDEV("div",{className:"flex items-start justify-between gap-3 mb-3",children:[d.jsxDEV("h4",{className:"text-body-medium text-ink-50",children:"Why this insight?"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/InsightChip.tsx",lineNumber:97,columnNumber:15},this),d.jsxDEV("button",{onClick:()=>a(!1),className:"p-1 rounded hover:bg-surface-600 transition-colors","aria-label":"Close",children:d.jsxDEV(vs,{className:"w-4 h-4 text-ink-400"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/InsightChip.tsx",lineNumber:103,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/InsightChip.tsx",lineNumber:98,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/InsightChip.tsx",lineNumber:96,columnNumber:13},this),d.jsxDEV("p",{className:"text-small text-ink-200 leading-relaxed mb-3",children:t},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/InsightChip.tsx",lineNumber:107,columnNumber:13},this),d.jsxDEV("div",{className:"flex items-center gap-2 text-tiny text-ink-400",children:[d.jsxDEV("span",{children:"Confidence:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/InsightChip.tsx",lineNumber:113,columnNumber:15},this),d.jsxDEV("div",{className:"flex items-center gap-1",children:o()},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/InsightChip.tsx",lineNumber:114,columnNumber:15},this),d.jsxDEV("span",{children:e===3?"High":e===2?"Medium":"Low"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/InsightChip.tsx",lineNumber:117,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/InsightChip.tsx",lineNumber:112,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/InsightChip.tsx",lineNumber:89,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/InsightChip.tsx",lineNumber:81,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/InsightChip.tsx",lineNumber:36,columnNumber:5},this)}const wi=["No pain","Very mild","Mild","Uncomfortable","Moderate","Distracting","Distressing","Intense","Very intense","Severe","Unbearable"],Gv=["Lower back","Upper back","Neck","Shoulder (L)","Shoulder (R)","Hip (L)","Hip (R)","Knee (L)","Knee (R)","Head","Abdomen"],Qv=["Aching","Sharp","Burning","Throbbing","Stabbing","Tingling","Numbness","Stiffness","Weakness"];function Xv({onComplete:s,onCancel:e}){const[t,n]=V.useState(1),[i,r]=V.useState(5),[a,o]=V.useState([]),[c,l]=V.useState([]),[u,m]=V.useState(""),f=Ae(Nt.painSliderLabel),h=Ae(Nt.painSliderHint),p=Ae(Nt.locationsLabel),g=Ae(Nt.locationsHint);Ae(Nt.bodyMapToggle);const y=Ae(Nt.notesLabel),k=Ae(Nt.notesPlaceholder),D=Ae(Nt.continueButton),j=Ae(Nt.saveButton),S=Ae(Nt.keyboardHint),v=_=>{r(_)},N=(_,L,O)=>{L.includes(_)?O(L.filter(M=>M!==_)):O([...L,_])},C=V.useCallback(()=>{t<3?n(t+1):s({pain:i,locations:a,symptoms:c,notes:u})},[t,i,a,c,u,s]),w=()=>{t>1?n(t-1):e()},T=_=>`hsl(220, ${20+_*5}%, ${95-_*6}%)`;return V.useEffect(()=>{const _=L=>{if(L.key==="Enter"&&!L.shiftKey){if(document.activeElement?.tagName==="TEXTAREA")return;L.preventDefault(),C()}L.key==="Escape"&&(L.preventDefault(),t>1?n(t-1):e())};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[t,C,e]),d.jsxDEV("div",{className:"min-h-screen bg-surface-900 flex flex-col",children:[d.jsxDEV("div",{className:"flex items-center justify-between p-4 border-b border-surface-700",children:[d.jsxDEV("button",{onClick:w,className:J("flex items-center gap-2 px-3 py-2 rounded-[var(--radius-md)]","text-small text-ink-300 hover:text-ink-100 hover:bg-surface-800","transition-colors duration-[var(--duration-fast)]"),children:[d.jsxDEV(ou,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:130,columnNumber:11},this),t===1?"Cancel":"Back"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:122,columnNumber:9},this),d.jsxDEV("div",{className:"flex items-center gap-2",children:[1,2,3].map(_=>d.jsxDEV("div",{className:J("w-2 h-2 rounded-full transition-all duration-[var(--duration-normal)]",_===t&&"w-6 bg-primary-500",_<t&&"bg-good-500",_>t&&"bg-surface-600")},_,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:136,columnNumber:13},this))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:134,columnNumber:9},this),d.jsxDEV("div",{className:"text-small text-ink-400 text-mono w-16 text-right",children:[t,"/3"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:148,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:121,columnNumber:7},this),d.jsxDEV("div",{className:"flex-1 overflow-y-auto p-6",children:[t===1&&d.jsxDEV("div",{className:"max-w-2xl mx-auto space-y-6",children:[d.jsxDEV("div",{children:[d.jsxDEV("h2",{className:"text-h2 text-ink-50 mb-2",children:f},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:158,columnNumber:15},this),d.jsxDEV("p",{className:"text-small text-ink-400",children:h},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:159,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:157,columnNumber:13},this),d.jsxDEV("div",{className:"flex items-center justify-center gap-4 mb-6",children:[d.jsxDEV("button",{onClick:()=>v(Math.max(0,i-1)),"aria-label":"Decrease pain level",className:J("flex items-center justify-center","w-12 h-12 min-w-[48px] min-h-[48px]","rounded-[var(--radius-md)]","bg-surface-700 hover:bg-surface-600 border border-surface-600","text-ink-200 hover:text-ink-100","transition-colors duration-[var(--duration-fast)]","text-h2 font-medium","disabled:opacity-50 disabled:cursor-not-allowed"),disabled:i===0,children:""},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:164,columnNumber:15},this),d.jsxDEV("input",{type:"number",min:"0",max:"10",value:i,onChange:_=>{const L=Math.max(0,Math.min(10,Number(_.target.value)));v(L)},"aria-label":"Pain level numeric entry",className:J("w-24 h-16 text-center","text-4xl font-bold text-mono","bg-surface-800 border-2 border-surface-600","text-ink-50 rounded-[var(--radius-md)]","focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent","[appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none")},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:182,columnNumber:15},this),d.jsxDEV("button",{onClick:()=>v(Math.min(10,i+1)),"aria-label":"Increase pain level",className:J("flex items-center justify-center","w-12 h-12 min-w-[48px] min-h-[48px]","rounded-[var(--radius-md)]","bg-surface-700 hover:bg-surface-600 border border-surface-600","text-ink-200 hover:text-ink-100","transition-colors duration-[var(--duration-fast)]","text-h2 font-medium","disabled:opacity-50 disabled:cursor-not-allowed"),disabled:i===10,children:"+"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:202,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:163,columnNumber:13},this),d.jsxDEV("div",{className:J("p-8 rounded-[var(--radius-xl)] text-center","transition-all duration-[var(--duration-normal)]"),style:{backgroundColor:T(i),color:i>5?"var(--ink-50)":"var(--ink-900)"},role:"status","aria-live":"polite",children:[d.jsxDEV("div",{className:"text-display text-mono mb-2 text-6xl font-bold",children:i},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:234,columnNumber:15},this),d.jsxDEV("div",{className:"text-body-medium",children:wi[i]},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:237,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:222,columnNumber:13},this),d.jsxDEV("div",{className:"space-y-2",children:[d.jsxDEV("label",{htmlFor:"pain-slider",className:"sr-only",children:"Pain intensity slider. Use arrow keys or swipe to adjust."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:244,columnNumber:15},this),d.jsxDEV("input",{id:"pain-slider",type:"range",min:"0",max:"10",value:i,onChange:_=>v(Number(_.target.value)),onKeyDown:_=>{_.key==="ArrowUp"||_.key==="ArrowRight"?(_.preventDefault(),v(Math.min(10,i+1))):(_.key==="ArrowDown"||_.key==="ArrowLeft")&&(_.preventDefault(),v(Math.max(0,i-1)))},"aria-label":"Pain intensity","aria-valuemin":0,"aria-valuemax":10,"aria-valuenow":i,"aria-valuetext":`${i} of 10, ${wi[i]}`,"aria-describedby":"pain-slider-help",className:`w-full h-12 cursor-pointer appearance-none bg-transparent\r
                  [&::-webkit-slider-track]:h-2 [&::-webkit-slider-track]:bg-surface-700 \r
                  [&::-webkit-slider-track]:rounded-full\r
                  [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-6 \r
                  [&::-webkit-slider-thumb]:h-6 [&::-webkit-slider-thumb]:rounded-full \r
                  [&::-webkit-slider-thumb]:bg-primary-500 [&::-webkit-slider-thumb]:shadow-lg\r
                  [&::-moz-range-track]:h-2 [&::-moz-range-track]:bg-surface-700 \r
                  [&::-moz-range-track]:rounded-full\r
                  [&::-moz-range-thumb]:w-6 [&::-moz-range-thumb]:h-6 \r
                  [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:bg-primary-500 \r
                  [&::-moz-range-thumb]:border-0 [&::-moz-range-thumb]:shadow-lg\r
                  focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 focus:ring-offset-surface-900`},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:247,columnNumber:15},this),d.jsxDEV("div",{id:"pain-slider-help",className:"sr-only",children:"Use arrow keys to adjust pain level, or click the plus and minus buttons above for precise control."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:282,columnNumber:15},this),d.jsxDEV("div",{className:"flex justify-between text-tiny text-ink-400 text-mono px-1",children:Array.from({length:11},(_,L)=>d.jsxDEV("button",{onClick:()=>v(L),"aria-label":`Set pain level to ${L}, ${wi[L]}`,className:J("w-8 h-8 min-w-[32px] min-h-[32px] rounded flex items-center justify-center","hover:bg-surface-700 transition-colors","focus:outline-none focus:ring-2 focus:ring-primary-500",L===i&&"bg-primary-500 text-ink-900 font-bold"),children:L},L,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:289,columnNumber:19},this))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:287,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:243,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:156,columnNumber:11},this),t===2&&d.jsxDEV("div",{className:"max-w-2xl mx-auto space-y-6",children:[d.jsxDEV("div",{children:[d.jsxDEV("h2",{className:"text-h2 text-ink-50 mb-2",children:p},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:311,columnNumber:15},this),d.jsxDEV("p",{className:"text-small text-ink-400",children:g},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:312,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:310,columnNumber:13},this),d.jsxDEV("div",{"aria-live":"polite","aria-atomic":"true",className:"sr-only",children:a.length>0?`${a.length} location${a.length>1?"s":""} selected: ${a.join(", ")}`:"No locations selected"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:316,columnNumber:13},this),d.jsxDEV("fieldset",{children:[d.jsxDEV("legend",{className:"sr-only",children:"Pain locations"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:325,columnNumber:15},this),d.jsxDEV("div",{className:"flex flex-wrap gap-2",children:Gv.map(_=>d.jsxDEV("button",{onClick:()=>N(_,a,o),role:"checkbox","aria-checked":a.includes(_),"aria-label":`${_} location`,className:J("px-4 py-2 min-w-[48px] min-h-[48px] rounded-[var(--radius-full)] text-small","border-2 transition-all duration-[var(--duration-fast)]","focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 focus:ring-offset-surface-900",a.includes(_)?"bg-primary-500 border-primary-500 text-ink-900 font-medium":"bg-surface-800 border-surface-600 text-ink-200 hover:border-primary-500/50"),children:[a.includes(_)&&d.jsxDEV(No,{className:"w-3 h-3 inline mr-1","aria-hidden":"true"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:343,columnNumber:49},this),_]},_,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:328,columnNumber:19},this))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:326,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:324,columnNumber:13},this),d.jsxDEV("div",{className:"mt-8",children:[d.jsxDEV("h3",{className:"text-body-medium text-ink-200 mb-3",children:"What does it feel like?"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:352,columnNumber:15},this),d.jsxDEV("div",{"aria-live":"polite","aria-atomic":"true",className:"sr-only",children:c.length>0?`${c.length} symptom${c.length>1?"s":""} selected: ${c.join(", ")}`:"No symptoms selected"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:355,columnNumber:15},this),d.jsxDEV("fieldset",{children:[d.jsxDEV("legend",{className:"sr-only",children:"Pain symptoms"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:363,columnNumber:17},this),d.jsxDEV("div",{className:"flex flex-wrap gap-2",children:Qv.map(_=>d.jsxDEV("button",{onClick:()=>N(_,c,l),role:"checkbox","aria-checked":c.includes(_),"aria-label":`${_} symptom`,className:J("px-4 py-2 min-w-[48px] min-h-[48px] rounded-[var(--radius-full)] text-small","border-2 transition-all duration-[var(--duration-fast)]","focus:outline-none focus:ring-2 focus:ring-warn-500 focus:ring-offset-2 focus:ring-offset-surface-900",c.includes(_)?"bg-warn-500 border-warn-500 text-ink-900 font-medium":"bg-surface-800 border-surface-600 text-ink-200 hover:border-warn-500/50"),children:[c.includes(_)&&d.jsxDEV(No,{className:"w-3 h-3 inline mr-1","aria-hidden":"true"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:381,columnNumber:50},this),_]},_,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:366,columnNumber:21},this))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:364,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:362,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:351,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:309,columnNumber:11},this),t===3&&d.jsxDEV("div",{className:"max-w-2xl mx-auto space-y-6",children:[d.jsxDEV("div",{children:[d.jsxDEV("h2",{className:"text-h2 text-ink-50 mb-2",children:y},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:394,columnNumber:15},this),d.jsxDEV("p",{className:"text-small text-ink-400",children:"Context helps identify patterns"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:395,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:393,columnNumber:13},this),d.jsxDEV("div",{children:[d.jsxDEV("label",{htmlFor:"pain-notes",className:"block text-body-medium text-ink-200 mb-2",children:"Additional Notes"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:399,columnNumber:15},this),d.jsxDEV("textarea",{id:"pain-notes",value:u,onChange:_=>m(_.target.value),placeholder:k,"aria-label":"Additional notes about pain","aria-describedby":"notes-hint notes-remaining",maxLength:500,className:J("w-full h-32 p-4 rounded-[var(--radius-xl)]","bg-surface-800 border border-surface-600","text-body text-ink-100 placeholder:text-ink-500","focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 focus:ring-offset-surface-900 focus:border-transparent","transition-all duration-[var(--duration-fast)]","resize-none")},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:402,columnNumber:15},this),d.jsxDEV("div",{className:"flex justify-between items-center mt-2",children:[d.jsxDEV("span",{id:"notes-hint",className:"text-small text-ink-400",children:u.length===0?"No notes yet":`${u.length} character${u.length===1?"":"s"}`},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:420,columnNumber:17},this),d.jsxDEV("span",{id:"notes-remaining",className:"text-small text-ink-500","aria-live":"polite","aria-atomic":"true",children:[500-u.length," remaining"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:423,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:419,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:398,columnNumber:13},this),d.jsxDEV("div",{className:"surface-card",children:[d.jsxDEV("div",{className:"text-small text-ink-400 mb-3",children:"Summary"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:436,columnNumber:15},this),d.jsxDEV("div",{className:"space-y-2",children:[d.jsxDEV("div",{className:"flex items-center gap-2",children:[d.jsxDEV("span",{className:"text-ink-300",children:"Pain level:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:439,columnNumber:19},this),d.jsxDEV("span",{className:"text-mono text-ink-50 font-medium",children:[i,"/10"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:440,columnNumber:19},this),d.jsxDEV("span",{className:"text-ink-400",children:["(",wi[i],")"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:441,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:438,columnNumber:17},this),a.length>0&&d.jsxDEV("div",{className:"flex items-start gap-2",children:[d.jsxDEV("span",{className:"text-ink-300",children:"Locations:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:445,columnNumber:21},this),d.jsxDEV("span",{className:"text-ink-50",children:a.join(", ")},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:446,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:444,columnNumber:19},this),c.length>0&&d.jsxDEV("div",{className:"flex items-start gap-2",children:[d.jsxDEV("span",{className:"text-ink-300",children:"Symptoms:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:451,columnNumber:21},this),d.jsxDEV("span",{className:"text-ink-50",children:c.join(", ")},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:452,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:450,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:437,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:435,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:392,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:154,columnNumber:7},this),d.jsxDEV("div",{className:"sticky bottom-0 left-0 right-0 p-4 border-t border-surface-700 bg-surface-900/95 backdrop-blur-sm z-10",children:[d.jsxDEV("div",{className:"max-w-2xl mx-auto flex gap-3",children:[t>1&&d.jsxDEV("button",{onClick:()=>n(t-1),className:J("px-6 py-4 rounded-[var(--radius-xl)]","min-h-[56px] min-w-[56px]","bg-surface-800 hover:bg-surface-700","text-body-medium text-ink-200 font-medium","transition-colors duration-[var(--duration-fast)]","focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 focus:ring-offset-surface-900","flex-shrink-0"),"aria-label":"Go back to previous step",children:"Back"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:465,columnNumber:13},this),d.jsxDEV("button",{onClick:C,className:J("flex-1 py-4 rounded-[var(--radius-xl)]","min-h-[56px]","bg-primary-500 hover:bg-primary-400","text-body-medium text-ink-900 font-medium","transition-colors duration-[var(--duration-fast)]","shadow-[var(--elevation-2)]","focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 focus:ring-offset-surface-900"),"aria-label":t===3?"Save pain entry":`Continue to step ${t+1}`,children:t===3?j:D},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:481,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:463,columnNumber:9},this),d.jsxDEV("div",{className:"max-w-2xl mx-auto mt-2 text-center",children:d.jsxDEV("p",{className:"text-xs text-ink-500",children:[S,t>1&&d.jsxDEV(d.Fragment,{children:[" or ",d.jsxDEV("kbd",{className:"px-2 py-1 bg-surface-800 rounded text-ink-400",children:"Esc"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:501,columnNumber:32},this)," to go back"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:501,columnNumber:26},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:499,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:498,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:462,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/QuickLogStepper.tsx",lineNumber:119,columnNumber:5},this)}function Jv({entries:s,onLogNow:e,onViewCalendar:t,onViewAnalytics:n,onExport:i}){const r=V.useMemo(()=>{const l=[],u=s.length>0?s.reduce((h,p)=>new Date(p.timestamp)>new Date(h.timestamp)?p:h):null,m=u?(Date.now()-new Date(u.timestamp).getTime())/(1e3*60*60):1/0;if((m>4||s.length===0)&&l.push({id:"log-pain",priority:"primary",icon:Ra,title:"Log pain now",subtitle:u?`Last entry: ${Math.floor(m)}h ago`:"Start your tracking journey",action:e,badge:"Quick",estimatedTime:"~10s"}),s.length>=7){const h=s.filter(p=>{const g=new Date(p.timestamp),y=new Date(Date.now()-10080*60*1e3);return g>=y});h.length>=5&&l.push({id:"review-trends",priority:"secondary",icon:Fa,title:"Review weekly trends",subtitle:`${h.length} entries logged this week`,action:n,estimatedTime:"2 min"})}s.length>=3&&l.push({id:"view-calendar",priority:"secondary",icon:Ua,title:"View calendar",subtitle:"See your pain patterns at a glance",action:t,estimatedTime:"1 min"});const f=s.filter(h=>{const p=new Date(h.timestamp),g=new Date(Date.now()-10080*60*1e3);return p>=g});if(f.length>=7&&l.push({id:"export-report",priority:"tertiary",icon:lu,title:"Share report with provider",subtitle:"7 days of data ready to export",action:i,badge:"Ready",estimatedTime:"30s"}),s.length>=7){const h=f.map(k=>k.baselineData.pain),p=h.reduce((k,D)=>k+D,0)/h.length,g=h.reduce((k,D)=>k+Math.pow(D-p,2),0)/h.length;Math.sqrt(g)>2&&l.push({id:"learn-patterns",priority:"tertiary",icon:Bf,title:"Explore flare triggers",subtitle:"High pain variability detected",action:n,badge:"Insight",estimatedTime:"3 min"})}return l},[s,e,t,n,i]);if(r.length===0)return null;const a=r.find(l=>l.priority==="primary"),o=r.filter(l=>l.priority==="secondary"),c=r.filter(l=>l.priority==="tertiary");return d.jsxDEV("div",{className:"surface-card",children:[d.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[d.jsxDEV("h2",{className:"text-body-medium text-ink-100",children:"Recommended for You"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:152,columnNumber:9},this),d.jsxDEV("div",{className:"flex items-center gap-1.5 text-ink-500",children:[d.jsxDEV(Qi,{className:"w-3.5 h-3.5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:154,columnNumber:11},this),d.jsxDEV("span",{className:"text-tiny",children:"Updated just now"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:155,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:153,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:151,columnNumber:7},this),d.jsxDEV("div",{className:"space-y-2",children:[a&&d.jsxDEV("button",{onClick:a.action,className:J("w-full flex items-center justify-between p-4 rounded-[var(--radius-md)]","bg-primary-500 hover:bg-primary-400","transition-all duration-[var(--duration-fast)]","text-left group","hover:scale-[1.01] active:scale-[0.99]"),children:[d.jsxDEV("div",{className:"flex items-center gap-3",children:[d.jsxDEV("div",{className:"p-2 bg-ink-900/20 rounded-[var(--radius-sm)] group-hover:bg-ink-900/30 transition-colors",children:d.jsxDEV(a.icon,{className:"w-5 h-5 text-ink-900"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:174,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:173,columnNumber:15},this),d.jsxDEV("div",{children:[d.jsxDEV("div",{className:"text-body-medium text-ink-900 mb-0.5",children:a.title},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:177,columnNumber:17},this),d.jsxDEV("div",{className:"text-tiny text-ink-800",children:[a.subtitle,a.estimatedTime&&`  ${a.estimatedTime}`]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:180,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:176,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:172,columnNumber:13},this),a.badge&&d.jsxDEV("div",{className:"text-tiny text-mono bg-ink-900/20 px-2.5 py-1 rounded-full text-ink-900 font-medium",children:a.badge},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:187,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:162,columnNumber:11},this),o.map(l=>d.jsxDEV("button",{onClick:l.action,className:J("w-full flex items-center justify-between p-3 rounded-[var(--radius-md)]","bg-surface-700 hover:bg-surface-600 border border-surface-600","transition-all duration-[var(--duration-fast)]","text-left group","hover:border-surface-500"),children:[d.jsxDEV("div",{className:"flex items-center gap-3",children:[d.jsxDEV(l.icon,{className:"w-4 h-4 text-ink-400 group-hover:text-ink-300 transition-colors"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:208,columnNumber:15},this),d.jsxDEV("div",{children:[d.jsxDEV("span",{className:"text-small text-ink-200 group-hover:text-ink-100 transition-colors",children:l.title},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:210,columnNumber:17},this),d.jsxDEV("div",{className:"text-tiny text-ink-400 mt-0.5",children:[l.subtitle,l.estimatedTime&&`  ${l.estimatedTime}`]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:213,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:209,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:207,columnNumber:13},this),l.badge&&d.jsxDEV("div",{className:"text-tiny text-mono bg-surface-600 px-2 py-0.5 rounded text-ink-400 border border-surface-500",children:l.badge},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:220,columnNumber:15},this)]},l.id,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:196,columnNumber:11},this)),c.map(l=>d.jsxDEV("button",{onClick:l.action,className:J("w-full flex items-center justify-between p-2.5 rounded-[var(--radius-sm)]","hover:bg-surface-800/50","transition-colors duration-[var(--duration-fast)]","text-left group"),children:[d.jsxDEV("div",{className:"flex items-center gap-2.5",children:[d.jsxDEV(l.icon,{className:"w-3.5 h-3.5 text-ink-500 group-hover:text-ink-400 transition-colors"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:240,columnNumber:15},this),d.jsxDEV("div",{children:[d.jsxDEV("span",{className:"text-small text-ink-300 group-hover:text-ink-200 transition-colors",children:l.title},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:242,columnNumber:17},this),d.jsxDEV("div",{className:"text-tiny text-ink-500 mt-0.5",children:l.subtitle},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:245,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:241,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:239,columnNumber:13},this),l.badge&&d.jsxDEV("div",{className:"text-tiny text-mono px-2 py-0.5 rounded text-ink-500",children:l.badge},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:251,columnNumber:15},this)]},l.id,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:229,columnNumber:11},this))]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:159,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/RecommendedActions.tsx",lineNumber:150,columnNumber:5},this)}function gl({entries:s,onLogNow:e,onViewCalendar:t,onViewAnalytics:n,onExport:i}){const r=V.useMemo(()=>{if(s.length===0)return{avgPain:0,delta:0,sparkline:[],daysTracked:0,variability:0,lastEntry:null,insights:[]};const o=[...s].sort((v,N)=>new Date(v.timestamp).getTime()-new Date(N.timestamp).getTime()),c=new Date,l=new Date(c.getTime()-10080*60*1e3),u=o.filter(v=>new Date(v.timestamp)>=l),m=o.filter(v=>{const N=new Date(v.timestamp),C=new Date(c.getTime()-336*60*60*1e3);return N>=C&&N<l}),f=u.length>0?u.reduce((v,N)=>v+N.baselineData.pain,0)/u.length:0,h=m.length>0?m.reduce((v,N)=>v+N.baselineData.pain,0)/m.length:f,p=f-h,g=u.slice(-7).map(v=>v.baselineData.pain),y=f,k=u.length>1?u.reduce((v,N)=>v+Math.pow(N.baselineData.pain-y,2),0)/u.length:0,D=Math.sqrt(k),j=new Set(u.map(v=>new Date(v.timestamp).toDateString())).size,S=[];return p<-.5&&S.push({statement:`Pain trending down ${Math.abs(p).toFixed(1)} points vs last week`,confidence:p<-1?3:2,rationale:`Your 7-day average is ${f.toFixed(1)}, compared to ${h.toFixed(1)} the previous week. This represents a ${Math.abs(p/h*100).toFixed(0)}% improvement.`}),D>2&&S.push({statement:`High pain variability detected (SD: ${D.toFixed(1)})`,confidence:2,rationale:"Your pain levels vary significantly day-to-day. This could indicate external triggers or inconsistent management. Consider tracking context factors."}),j>=6&&S.push({statement:`Excellent tracking consistency (${j}/7 days)`,confidence:3,rationale:`You've logged pain on ${j} out of the last 7 days. Consistent tracking helps identify patterns and measure treatment effectiveness.`}),{avgPain:f,delta:p,sparkline:g,daysTracked:j,variability:D,lastEntry:o[o.length-1],insights:S}},[s]),a=()=>{if(!r.lastEntry)return"Never";const o=Date.now()-new Date(r.lastEntry.timestamp).getTime(),c=Math.floor(o/(1e3*60*60)),l=Math.floor(c/24);return l>0?`${l}d ago`:c>0?`${c}h ago`:"Just now"};return d.jsxDEV("div",{className:"min-h-screen bg-surface-900 p-6",children:d.jsxDEV("div",{className:"max-w-7xl mx-auto space-y-6",children:[d.jsxDEV("div",{className:"flex items-center justify-between",children:[d.jsxDEV("div",{children:[d.jsxDEV("h1",{className:"text-display text-ink-50 mb-1",children:"Today"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:132,columnNumber:13},this),d.jsxDEV("p",{className:"text-small text-ink-400",children:new Date().toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:133,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:131,columnNumber:11},this),d.jsxDEV("div",{className:"flex items-center gap-2",children:[d.jsxDEV(Qi,{className:"w-4 h-4 text-ink-500"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:142,columnNumber:13},this),d.jsxDEV("span",{className:"text-small text-ink-400",children:["Last entry: ",a()]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:143,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:141,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:130,columnNumber:9},this),d.jsxDEV(Jv,{entries:s,onLogNow:e,onViewCalendar:t,onViewAnalytics:n||(()=>{}),onExport:i},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:150,columnNumber:9},this),d.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxDEV(hs,{title:"Avg Pain (7d)",value:r.avgPain.toFixed(1),unit:"/10",delta:{value:-r.delta,direction:r.delta<-.3?"down":r.delta>.3?"up":"neutral",label:"vs last week"},sparkline:r.sparkline,severity:Math.round(r.avgPain)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:160,columnNumber:11},this),d.jsxDEV(hs,{title:"Tracking Streak",value:r.daysTracked,unit:"days",delta:{value:r.daysTracked>=5?1:-1,direction:r.daysTracked>=5?"up":"down",label:"this week"}},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:173,columnNumber:11},this),d.jsxDEV(hs,{title:"Variability Index",value:r.variability.toFixed(1),delta:{value:0,direction:"neutral",label:"rolling SD"}},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:184,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:159,columnNumber:9},this),r.insights.length>0&&d.jsxDEV("div",{className:"surface-card",children:[d.jsxDEV("div",{className:"flex items-center gap-2 mb-4",children:[d.jsxDEV(hu,{className:"w-5 h-5 text-primary-500"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:199,columnNumber:15},this),d.jsxDEV("h2",{className:"text-body-medium text-ink-100",children:"Insights"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:200,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:198,columnNumber:13},this),d.jsxDEV("div",{className:"space-y-2",children:r.insights.map((o,c)=>d.jsxDEV(Ai,{statement:o.statement,confidence:o.confidence,rationale:o.rationale},c,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:204,columnNumber:17},this))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:202,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:197,columnNumber:11},this),d.jsxDEV("div",{className:"surface-card",children:[d.jsxDEV("h2",{className:"text-body-medium text-ink-200 mb-3",children:"Next Steps"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:217,columnNumber:11},this),d.jsxDEV("div",{className:"text-small text-ink-300 space-y-2",children:[d.jsxDEV("p",{children:" Continue daily tracking for pattern detection"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:219,columnNumber:13},this),d.jsxDEV("p",{children:" Review calendar for weekly trends"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:220,columnNumber:13},this),d.jsxDEV("p",{children:" Share 7-day report with provider before next visit"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:221,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:218,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:216,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:128,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/design-system/fused-v2/ClinicalDashboard.tsx",lineNumber:127,columnNumber:5},this)}function bl({id:s,type:e,title:t,message:n,duration:i=5e3,action:r,customOnDismiss:a,onDismiss:o}){const[c,l]=V.useState(!0),[u,m]=V.useState(!1),f=V.useCallback(()=>{m(!0),setTimeout(()=>{l(!1),o(s),a?.()},150)},[s,o,a]);V.useEffect(()=>{if(i>0){const g=setTimeout(()=>{f()},i);return()=>clearTimeout(g)}},[i,f]);const h=()=>{switch(e){case"success":return d.jsxDEV(yf,{className:"h-5 w-5 text-green-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/Toast.tsx",lineNumber:52,columnNumber:16},this);case"error":return d.jsxDEV(Ef,{className:"h-5 w-5 text-red-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/Toast.tsx",lineNumber:54,columnNumber:16},this);case"warning":return d.jsxDEV(cu,{className:"h-5 w-5 text-yellow-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/Toast.tsx",lineNumber:56,columnNumber:16},this);case"info":return d.jsxDEV(Li,{className:"h-5 w-5 text-blue-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/Toast.tsx",lineNumber:58,columnNumber:16},this);default:return d.jsxDEV(Li,{className:"h-5 w-5 text-blue-600"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/Toast.tsx",lineNumber:60,columnNumber:16},this)}},p=()=>{switch(e){case"success":return"bg-green-50 border-green-200 dark:bg-green-950/30 dark:border-green-800";case"error":return"bg-red-50 border-red-200 dark:bg-red-950/30 dark:border-red-800";case"warning":return"bg-yellow-50 border-yellow-200 dark:bg-yellow-950/30 dark:border-yellow-800";case"info":return"bg-blue-50 border-blue-200 dark:bg-blue-950/30 dark:border-blue-800";default:return"bg-card border-border"}};return c?d.jsxDEV("div",{className:`
        pointer-events-auto w-full max-w-sm rounded-lg border p-4 shadow-lg
        transition-all duration-150 ease-in-out
        ${p()}
        ${u?"opacity-0 transform translate-x-full":"opacity-100 transform translate-x-0"}
      `,role:"alert","aria-live":"polite",children:d.jsxDEV("div",{className:"flex items-start space-x-3",children:[d.jsxDEV("div",{className:"flex-shrink-0",children:h()},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/Toast.tsx",lineNumber:93,columnNumber:9},this),d.jsxDEV("div",{className:"flex-1 min-w-0",children:[d.jsxDEV("h4",{className:"text-sm font-semibold text-foreground",children:t},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/Toast.tsx",lineNumber:98,columnNumber:11},this),n&&d.jsxDEV("p",{className:"text-sm text-muted-foreground mt-1",children:n},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/Toast.tsx",lineNumber:100,columnNumber:13},this),r&&d.jsxDEV("button",{onClick:r.onClick,className:"text-sm font-medium text-primary hover:text-primary/80 mt-2 block",children:r.label},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/Toast.tsx",lineNumber:104,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/Toast.tsx",lineNumber:97,columnNumber:9},this),d.jsxDEV("button",{onClick:f,className:"flex-shrink-0 text-muted-foreground hover:text-foreground transition-colors","aria-label":"Dismiss notification",children:d.jsxDEV(vs,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/Toast.tsx",lineNumber:118,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/Toast.tsx",lineNumber:113,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/Toast.tsx",lineNumber:92,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/Toast.tsx",lineNumber:82,columnNumber:5},this):null}const Yd=V.createContext(void 0);function Zv(){const s=V.useContext(Yd);if(!s)throw new Error("useToastContext must be used within a ToastProvider");return s}function ek({children:s}){const[e,t]=V.useState([]),[n,i]=V.useState([]),r=l=>{const u=Math.random().toString(36).substring(2,9),m={...l,id:u};t(f=>[...f,m])},a=l=>{const u=Math.random().toString(36).substring(2,9),m={...l,id:u};i(f=>[...f,m])},o=l=>{t(u=>u.filter(m=>m.id!==l)),i(u=>u.filter(m=>m.id!==l))},c=()=>{t([]),i([])};return d.jsxDEV(Yd.Provider,{value:{addToast:r,removeToast:o,clearToasts:c,addBottomLeftToast:a},children:[s,d.jsxDEV("div",{className:"fixed top-4 right-4 z-[10002] flex flex-col space-y-2 pointer-events-none",children:e.map(l=>d.jsxDEV(bl,{...l,onDismiss:u=>o(u??l.id)},l.id,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/ToastProvider.tsx",lineNumber:72,columnNumber:11},this))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/ToastProvider.tsx",lineNumber:70,columnNumber:5},this),d.jsxDEV("div",{className:"fixed bottom-4 left-4 z-[10000] flex flex-col space-y-2 pointer-events-none max-w-[90%]",children:n.map(l=>d.jsxDEV(bl,{...l,onDismiss:u=>o(u??l.id)},l.id,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/ToastProvider.tsx",lineNumber:84,columnNumber:11},this))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/ToastProvider.tsx",lineNumber:82,columnNumber:3},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/feedback/ToastProvider.tsx",lineNumber:64,columnNumber:5},this)}function oo(){const{addToast:s,removeToast:e,clearToasts:t,addBottomLeftToast:n}=Zv();return{success:(r,a,o)=>{s({type:"success",title:r,message:a,action:o})},error:(r,a,o)=>{s({type:"error",title:r,message:a,action:o,duration:7e3})},warning:(r,a,o)=>{s({type:"warning",title:r,message:a,action:o,duration:6e3})},info:(r,a,o)=>{s({type:"info",title:r,message:a,action:o})},bottomLeft:{success:(r,a,o,c)=>{n({type:"success",title:r,message:a,action:o,onDismiss:c?.onDismiss})},error:(r,a,o,c)=>{n({type:"error",title:r,message:a,action:o,duration:7e3,onDismiss:c?.onDismiss})},warning:(r,a,o,c)=>{n({type:"warning",title:r,message:a,action:o,duration:6e3,onDismiss:c?.onDismiss})},info:(r,a,o,c)=>{n({type:"info",title:r,message:a,action:o,onDismiss:c?.onDismiss})}},custom:r=>{s(r)},dismiss:e,clear:t}}function tk(){return d.jsxDEV("div",{className:"flex justify-center",children:d.jsxDEV("svg",{width:"200",height:"160",viewBox:"0 0 200 160",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-muted-foreground",children:[d.jsxDEV("circle",{cx:"100",cy:"80",r:"60",fill:"currentColor",opacity:"0.1"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:17,columnNumber:9},this),d.jsxDEV("rect",{x:"60",y:"100",width:"8",height:"20",rx:"4",fill:"currentColor",opacity:"0.3"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:20,columnNumber:9},this),d.jsxDEV("rect",{x:"72",y:"90",width:"8",height:"30",rx:"4",fill:"currentColor",opacity:"0.4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:21,columnNumber:9},this),d.jsxDEV("rect",{x:"84",y:"85",width:"8",height:"35",rx:"4",fill:"currentColor",opacity:"0.5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:22,columnNumber:9},this),d.jsxDEV("rect",{x:"96",y:"95",width:"8",height:"25",rx:"4",fill:"currentColor",opacity:"0.4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:23,columnNumber:9},this),d.jsxDEV("rect",{x:"108",y:"105",width:"8",height:"15",rx:"4",fill:"currentColor",opacity:"0.3"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:24,columnNumber:9},this),d.jsxDEV("rect",{x:"120",y:"80",width:"8",height:"40",rx:"4",fill:"currentColor",opacity:"0.5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:25,columnNumber:9},this),d.jsxDEV("rect",{x:"132",y:"88",width:"8",height:"32",rx:"4",fill:"currentColor",opacity:"0.4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:26,columnNumber:9},this),d.jsxDEV("circle",{cx:"70",cy:"50",r:"3",fill:"currentColor",opacity:"0.3"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:29,columnNumber:9},this),d.jsxDEV("circle",{cx:"130",cy:"45",r:"2",fill:"currentColor",opacity:"0.4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:30,columnNumber:9},this),d.jsxDEV("circle",{cx:"150",cy:"65",r:"2.5",fill:"currentColor",opacity:"0.3"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:31,columnNumber:9},this),d.jsxDEV("g",{transform:"translate(85, 65)",children:[d.jsxDEV("path",{d:"M2 12L7 7L13 13L22 2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.6"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:35,columnNumber:11},this),d.jsxDEV("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2",opacity:"0.3"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:43,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:34,columnNumber:9},this),d.jsxDEV("line",{x1:"40",y1:"130",x2:"160",y2:"130",stroke:"currentColor",strokeWidth:"1",opacity:"0.2"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:47,columnNumber:9},this),d.jsxDEV("line",{x1:"50",y1:"135",x2:"150",y2:"135",stroke:"currentColor",strokeWidth:"1",opacity:"0.1"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:48,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:8,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:7,columnNumber:5},this)}function sk(){return d.jsxDEV("div",{className:"flex justify-center",children:d.jsxDEV("svg",{width:"200",height:"160",viewBox:"0 0 200 160",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-primary",children:[d.jsxDEV("circle",{cx:"100",cy:"80",r:"70",fill:"currentColor",opacity:"0.1"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:66,columnNumber:9},this),d.jsxDEV("rect",{x:"70",y:"50",width:"60",height:"45",rx:"4",stroke:"currentColor",strokeWidth:"2",opacity:"0.4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:69,columnNumber:9},this),[0,1,2,3,4].map(s=>[0,1,2,3,4,5].map(e=>{const t=(s+e)%3===0||s===2&&e===3;return d.jsxDEV("rect",{x:75+e*8,y:57+s*7,width:"6",height:"5",rx:"1",fill:"currentColor",opacity:t?.6:.2},`${s}-${e}`,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:77,columnNumber:15},this)})),d.jsxDEV("g",{transform:"translate(85, 105)",children:d.jsxDEV("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z",fill:"currentColor",opacity:"0.6"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:93,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:92,columnNumber:9},this),d.jsxDEV("circle",{cx:"45",cy:"80",r:"8",stroke:"currentColor",strokeWidth:"2",opacity:"0.3"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:101,columnNumber:9},this),d.jsxDEV("circle",{cx:"45",cy:"80",r:"8",stroke:"currentColor",strokeWidth:"2",strokeDasharray:"15,10",opacity:"0.6",transform:"rotate(-90 45 80)"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:102,columnNumber:9},this),d.jsxDEV("circle",{cx:"155",cy:"80",r:"8",stroke:"currentColor",strokeWidth:"2",opacity:"0.3"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:104,columnNumber:9},this),d.jsxDEV("circle",{cx:"155",cy:"80",r:"8",stroke:"currentColor",strokeWidth:"2",strokeDasharray:"20,5",opacity:"0.6",transform:"rotate(-90 155 80)"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:105,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:57,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/NoDataIllustration.tsx",lineNumber:56,columnNumber:5},this)}function nk({title:s,description:e,primaryAction:t,secondaryAction:n,illustration:i,className:r=""}){return d.jsxDEV("div",{className:`text-center py-12 px-6 ${r}`,children:d.jsxDEV("div",{className:"max-w-md mx-auto",children:[d.jsxDEV("div",{className:"mb-8",children:i||d.jsxDEV(tk,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/EmptyState.tsx",lineNumber:38,columnNumber:28},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/EmptyState.tsx",lineNumber:37,columnNumber:9},this),d.jsxDEV("div",{className:"mb-8",children:[d.jsxDEV("h3",{className:"text-xl font-semibold text-foreground mb-3",children:s},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/EmptyState.tsx",lineNumber:43,columnNumber:11},this),d.jsxDEV("p",{className:"text-muted-foreground leading-relaxed",children:e},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/EmptyState.tsx",lineNumber:46,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/EmptyState.tsx",lineNumber:42,columnNumber:9},this),(t||n)&&d.jsxDEV("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[t&&d.jsxDEV(yt,{onClick:t.onClick,className:"flex items-center space-x-2",children:[t.icon,d.jsxDEV("span",{children:t.label},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/EmptyState.tsx",lineNumber:60,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/EmptyState.tsx",lineNumber:55,columnNumber:15},this),n&&d.jsxDEV(yt,{variant:"outline",onClick:n.onClick,children:n.label},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/EmptyState.tsx",lineNumber:65,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/EmptyState.tsx",lineNumber:53,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/EmptyState.tsx",lineNumber:35,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/empty-state/EmptyState.tsx",lineNumber:34,columnNumber:5},this)}function yl({onStartWalkthrough:s}){const{loadSampleData:e}=Gi(),t=Ae(zs.noLogs.headline),n=Ae(zs.noLogs.subtext),i=Ae(zs.noLogs.cta),r=Ae(zs.noLogs.secondaryCta),a=()=>{e()};return d.jsxDEV(Qs,{children:d.jsxDEV(Ji,{className:"pt-8 pb-8",children:d.jsxDEV(nk,{title:t,description:n,primaryAction:{label:i,onClick:s,icon:d.jsxDEV(Nf,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/widgets/EmptyStatePanel.tsx",lineNumber:34,columnNumber:19},this)},secondaryAction:{label:r,onClick:a},illustration:d.jsxDEV(sk,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/widgets/EmptyStatePanel.tsx",lineNumber:40,columnNumber:25},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/widgets/EmptyStatePanel.tsx",lineNumber:28,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/widgets/EmptyStatePanel.tsx",lineNumber:27,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/widgets/EmptyStatePanel.tsx",lineNumber:26,columnNumber:5},this)}function Qr({title:s,description:e,type:t,chartData:n,tableData:i,icon:r,height:a=256,className:o,footer:c}){const[l,u]=V.useState("chart");return d.jsxDEV("div",{className:J("bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 p-6 shadow-lg",o),children:[d.jsxDEV("div",{className:"flex items-center justify-between mb-6",children:[d.jsxDEV("div",{className:"flex-1",children:[d.jsxDEV("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:s},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/ChartWithTableToggle.tsx",lineNumber:68,columnNumber:11},this),d.jsxDEV("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:e},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/ChartWithTableToggle.tsx",lineNumber:69,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/ChartWithTableToggle.tsx",lineNumber:67,columnNumber:9},this),d.jsxDEV("div",{className:"flex items-center gap-3",children:[r&&d.jsxDEV(r,{className:"h-6 w-6 text-gray-400","aria-hidden":"true"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/ChartWithTableToggle.tsx",lineNumber:73,columnNumber:20},this),d.jsxDEV("button",{onClick:()=>u(l==="chart"?"table":"chart"),className:J("flex items-center gap-2 px-3 py-2 rounded-lg transition-all","min-h-[44px] min-w-[44px]","focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2","hover:bg-gray-100 dark:hover:bg-gray-800","text-sm font-medium text-gray-700 dark:text-gray-300"),"aria-label":l==="chart"?"Switch to table view":"Switch to chart view","aria-pressed":l==="table",children:l==="chart"?d.jsxDEV(d.Fragment,{children:[d.jsxDEV(dh,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/ChartWithTableToggle.tsx",lineNumber:90,columnNumber:17},this),d.jsxDEV("span",{className:"hidden sm:inline",children:"Table"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/ChartWithTableToggle.tsx",lineNumber:91,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/ChartWithTableToggle.tsx",lineNumber:89,columnNumber:15},this):d.jsxDEV(d.Fragment,{children:[d.jsxDEV(df,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/ChartWithTableToggle.tsx",lineNumber:95,columnNumber:17},this),d.jsxDEV("span",{className:"hidden sm:inline",children:"Chart"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/ChartWithTableToggle.tsx",lineNumber:96,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/ChartWithTableToggle.tsx",lineNumber:94,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/ChartWithTableToggle.tsx",lineNumber:76,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/ChartWithTableToggle.tsx",lineNumber:72,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/ChartWithTableToggle.tsx",lineNumber:66,columnNumber:7},this),d.jsxDEV("div",{style:{minHeight:a},children:l==="chart"?d.jsxDEV("div",{className:"h-64",role:"img","aria-label":`${s}. ${e}`,children:[d.jsxDEV(Fv,{type:t,data:n,height:a},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/ChartWithTableToggle.tsx",lineNumber:107,columnNumber:13},this),d.jsxDEV("div",{className:"sr-only",children:[s,". ",e,". Data summary: ",i.length," items.",i.slice(0,3).map((m,f)=>d.jsxDEV("span",{children:[m.label,": ",m.value,"."]},f,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/ChartWithTableToggle.tsx",lineNumber:113,columnNumber:17},this)),i.length>3&&`And ${i.length-3} more items.`,"Use the table view button to see all data in a table format."]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/ChartWithTableToggle.tsx",lineNumber:109,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/ChartWithTableToggle.tsx",lineNumber:106,columnNumber:11},this):d.jsxDEV("div",{className:"overflow-x-auto",children:d.jsxDEV("table",{className:"w-full text-sm",children:[d.jsxDEV("thead",{children:d.jsxDEV("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[d.jsxDEV("th",{className:"text-left py-3 px-4 font-semibold text-gray-900 dark:text-white",children:"Category"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/ChartWithTableToggle.tsx",lineNumber:126,columnNumber:19},this),d.jsxDEV("th",{className:"text-right py-3 px-4 font-semibold text-gray-900 dark:text-white",children:"Value"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/ChartWithTableToggle.tsx",lineNumber:129,columnNumber:19},this),i.some(m=>m.additionalInfo)&&d.jsxDEV("th",{className:"text-left py-3 px-4 font-semibold text-gray-900 dark:text-white",children:"Details"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/ChartWithTableToggle.tsx",lineNumber:133,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/ChartWithTableToggle.tsx",lineNumber:125,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/ChartWithTableToggle.tsx",lineNumber:124,columnNumber:15},this),d.jsxDEV("tbody",{children:i.map((m,f)=>d.jsxDEV("tr",{className:J("border-b border-gray-100 dark:border-gray-800","hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors"),children:[d.jsxDEV("td",{className:"py-3 px-4 text-gray-700 dark:text-gray-300",children:m.label},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/ChartWithTableToggle.tsx",lineNumber:148,columnNumber:21},this),d.jsxDEV("td",{className:"py-3 px-4 text-right font-mono text-gray-900 dark:text-white",children:typeof m.value=="number"?m.value.toFixed(1):m.value},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/ChartWithTableToggle.tsx",lineNumber:151,columnNumber:21},this),i.some(h=>h.additionalInfo)&&d.jsxDEV("td",{className:"py-3 px-4 text-gray-600 dark:text-gray-400 text-xs",children:m.additionalInfo||""},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/ChartWithTableToggle.tsx",lineNumber:155,columnNumber:23},this)]},f,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/ChartWithTableToggle.tsx",lineNumber:141,columnNumber:19},this))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/ChartWithTableToggle.tsx",lineNumber:139,columnNumber:15},this),i.length>0&&d.jsxDEV("tfoot",{children:d.jsxDEV("tr",{children:d.jsxDEV("td",{colSpan:i.some(m=>m.additionalInfo)?3:2,className:"py-3 px-4 text-xs text-gray-500 dark:text-gray-400",children:[i.length," ",i.length===1?"row":"rows"," total"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/ChartWithTableToggle.tsx",lineNumber:165,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/ChartWithTableToggle.tsx",lineNumber:164,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/ChartWithTableToggle.tsx",lineNumber:163,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/ChartWithTableToggle.tsx",lineNumber:123,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/ChartWithTableToggle.tsx",lineNumber:122,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/ChartWithTableToggle.tsx",lineNumber:104,columnNumber:7},this),c&&d.jsxDEV("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:c},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/ChartWithTableToggle.tsx",lineNumber:178,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/ChartWithTableToggle.tsx",lineNumber:61,columnNumber:5},this)}function ik({entries:s}){const e=Ae(zs.noTrends.headline),t=Ae(zs.noTrends.subtext),n=V.useMemo(()=>{if(s.length===0)return null;const o=[...s].sort((O,M)=>new Date(O.timestamp).getTime()-new Date(M.timestamp).getTime()),c=o.map(O=>O.baselineData.pain),l=c.reduce((O,M)=>O+M,0)/c.length,u=Math.max(...c),m=Math.min(...c),f=o.slice(-7),h=o.slice(-14,-7),p=f.reduce((O,M)=>O+M.baselineData.pain,0)/f.length,g=h.length>0?h.reduce((O,M)=>O+M.baselineData.pain,0)/h.length:p,y=p-g,k=new Map;o.forEach(O=>{O.baselineData.locations?.forEach(M=>{k.set(M,(k.get(M)||0)+1)})});const D=Array.from(k.entries()).sort((O,M)=>M[1]-O[1]).slice(0,5),j=new Map;o.forEach(O=>{O.baselineData.symptoms?.forEach(M=>{j.set(M,(j.get(M)||0)+1)})});const S=Array.from(j.entries()).sort((O,M)=>M[1]-O[1]).slice(0,5),v={morning:0,afternoon:0,evening:0,night:0};o.forEach(O=>{const M=new Date(O.timestamp).getHours();M>=5&&M<12?v.morning++:M>=12&&M<17?v.afternoon++:M>=17&&M<21?v.evening++:v.night++});const N=o.filter(O=>O.qualityOfLife),C=N.length>0?N.reduce((O,M)=>O+(M.qualityOfLife?.sleepQuality||0),0)/N.length:0,w=N.length>0?N.reduce((O,M)=>O+(M.qualityOfLife?.moodImpact||0),0)/N.length:0,T=o.filter(O=>{const M=O.medications?.current;return M&&Array.isArray(M)&&M.length>0}),_=new Map;T.forEach(O=>{const M=O.medications?.current;M&&Array.isArray(M)&&M.forEach(H=>{_.set(H.name,(_.get(H.name)||0)+1)})});const L=Array.from(_.entries()).sort((O,M)=>M[1]-O[1]).slice(0,3);return{avgPain:l,maxPain:u,minPain:m,trend:y,topLocations:D,topSymptoms:S,timePatterns:v,avgSleep:C,avgMood:w,topMedications:L,totalEntries:s.length}},[s]),i=V.useMemo(()=>{const o=[...s].sort((c,l)=>new Date(c.timestamp).getTime()-new Date(l.timestamp).getTime());return{labels:o.map(c=>new Date(c.timestamp).toLocaleDateString("en-US",{month:"short",day:"numeric"})),datasets:[{label:"Pain Level",data:o.map(c=>c.baselineData.pain),borderColor:lt("--color-primary"),backgroundColor:lt("--color-primary")+"20",tension:.4,fill:!0}]}},[s]),r=V.useMemo(()=>n?{labels:n.topLocations.map(([o])=>o),datasets:[{label:"Frequency",data:n.topLocations.map(([,o])=>o),backgroundColor:["rgba(239, 68, 68, 0.8)","rgba(249, 115, 22, 0.8)","rgba(234, 179, 8, 0.8)","rgba(34, 197, 94, 0.8)","rgba(59, 130, 246, 0.8)"]}]}:{labels:[],datasets:[]},[n]),a=V.useMemo(()=>n?{labels:["Morning","Afternoon","Evening","Night"],datasets:[{label:"Entries",data:[n.timePatterns.morning,n.timePatterns.afternoon,n.timePatterns.evening,n.timePatterns.night],backgroundColor:["rgba(251, 191, 36, 0.8)","rgba(59, 130, 246, 0.8)","rgba(139, 92, 246, 0.8)","rgba(99, 102, 241, 0.8)"]}]}:{labels:[],datasets:[]},[n]);return n?d.jsxDEV("div",{className:"space-y-6",children:[d.jsxDEV("div",{className:"flex items-center justify-between",children:[d.jsxDEV("div",{children:[d.jsxDEV("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Advanced Analytics"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/AdvancedAnalyticsView.tsx",lineNumber:206,columnNumber:11},this),d.jsxDEV("p",{className:"text-gray-600 dark:text-gray-400",children:"Deep insights into your pain patterns and trends"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/AdvancedAnalyticsView.tsx",lineNumber:207,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/AdvancedAnalyticsView.tsx",lineNumber:205,columnNumber:9},this),d.jsxDEV(Pt,{variant:"outline",className:"rounded-full",children:[d.jsxDEV(fu,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/AdvancedAnalyticsView.tsx",lineNumber:210,columnNumber:11},this),n.totalEntries," Entries Analyzed"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/AdvancedAnalyticsView.tsx",lineNumber:209,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/AdvancedAnalyticsView.tsx",lineNumber:204,columnNumber:7},this),d.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[d.jsxDEV(hs,{title:"Average Pain",value:n.avgPain.toFixed(1),unit:"/10",delta:{value:-n.trend,direction:n.trend<-.5?"down":n.trend>.5?"up":"neutral",label:"vs previous period"},severity:Math.round(n.avgPain)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/AdvancedAnalyticsView.tsx",lineNumber:217,columnNumber:9},this),d.jsxDEV(hs,{title:"Pain Range",value:`${n.minPain}-${n.maxPain}`,delta:{value:0,direction:"neutral",label:"min to max"}},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/AdvancedAnalyticsView.tsx",lineNumber:229,columnNumber:9},this),d.jsxDEV(hs,{title:"Avg Sleep Quality",value:n.avgSleep.toFixed(1),unit:"/10",delta:{value:0,direction:"neutral",label:n.avgSleep>=7?"Good":n.avgSleep>=5?"Fair":"Needs attention"}},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/AdvancedAnalyticsView.tsx",lineNumber:239,columnNumber:9},this),d.jsxDEV(hs,{title:"Avg Mood Impact",value:n.avgMood.toFixed(1),unit:"/10",delta:{value:0,direction:"neutral",label:n.avgMood>=7?"Positive":n.avgMood>=5?"Moderate":"Challenging"}},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/AdvancedAnalyticsView.tsx",lineNumber:250,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/AdvancedAnalyticsView.tsx",lineNumber:216,columnNumber:7},this),d.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxDEV(Qr,{title:"Pain Trend",description:"Your pain levels over time",type:"line",chartData:i,tableData:[...s].sort((o,c)=>new Date(o.timestamp).getTime()-new Date(c.timestamp).getTime()).map(o=>({label:new Date(o.timestamp).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"2-digit"}),value:o.baselineData.pain,additionalInfo:`Pain level: ${o.baselineData.pain}/10`})),icon:lf,height:256},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/AdvancedAnalyticsView.tsx",lineNumber:265,columnNumber:9},this),d.jsxDEV(Qr,{title:"Affected Areas",description:"Most common pain locations",type:"bar",chartData:r,tableData:n?.topLocations.map(([o,c])=>({label:o,value:c,additionalInfo:`Reported ${c} time${c>1?"s":""}`}))||[],icon:mu,height:256},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/AdvancedAnalyticsView.tsx",lineNumber:288,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/AdvancedAnalyticsView.tsx",lineNumber:263,columnNumber:7},this),d.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxDEV(Qr,{title:"Time Patterns",description:"When you track most often",type:"doughnut",chartData:a,tableData:[{label:"Morning (5am-12pm)",value:n?.timePatterns.morning||0,additionalInfo:`${n?.timePatterns.morning||0} entries`},{label:"Afternoon (12pm-5pm)",value:n?.timePatterns.afternoon||0,additionalInfo:`${n?.timePatterns.afternoon||0} entries`},{label:"Evening (5pm-9pm)",value:n?.timePatterns.evening||0,additionalInfo:`${n?.timePatterns.evening||0} entries`},{label:"Night (9pm-5am)",value:n?.timePatterns.night||0,additionalInfo:`${n?.timePatterns.night||0} entries`}],icon:Qi,height:256},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/AdvancedAnalyticsView.tsx",lineNumber:308,columnNumber:9},this),d.jsxDEV("div",{className:"bg-gradient-to-br from-gray-50 to-blue-50 dark:from-gray-900 dark:to-blue-950/20 rounded-2xl border-2 border-blue-200 dark:border-blue-800 p-6",children:[d.jsxDEV("div",{className:"flex items-center gap-3 mb-6",children:[d.jsxDEV("div",{className:"p-2 bg-blue-500 rounded-xl",children:d.jsxDEV(nf,{className:"h-6 w-6 text-white"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/AdvancedAnalyticsView.tsx",lineNumber:343,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/AdvancedAnalyticsView.tsx",lineNumber:342,columnNumber:13},this),d.jsxDEV("div",{children:[d.jsxDEV("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Key Insights"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/AdvancedAnalyticsView.tsx",lineNumber:346,columnNumber:15},this),d.jsxDEV("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Explainable observations"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/AdvancedAnalyticsView.tsx",lineNumber:347,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/AdvancedAnalyticsView.tsx",lineNumber:345,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/AdvancedAnalyticsView.tsx",lineNumber:341,columnNumber:11},this),d.jsxDEV("div",{className:"space-y-3",children:[d.jsxDEV(Ai,{statement:n.trend<-.5?`Pain improving by ${Math.abs(n.trend).toFixed(1)} points`:n.trend>.5?`Pain increasing by ${n.trend.toFixed(1)} points`:"Pain levels stable",confidence:Math.abs(n.trend)>1?3:Math.abs(n.trend)>.5?2:1,rationale:n.trend<-.5?`Your pain levels are trending downward. Recent average is ${n.avgPain.toFixed(1)}, showing improvement from previous period. Keep up with your current treatment plan.`:n.trend>.5?`Your pain has increased recently from previous period. Average is ${n.avgPain.toFixed(1)}. Consider consulting with your healthcare provider.`:"Your pain levels are relatively stable. Continue monitoring for changes and patterns."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/AdvancedAnalyticsView.tsx",lineNumber:353,columnNumber:13},this),n.topLocations[0]&&d.jsxDEV(Ai,{statement:`Primary pain area: ${n.topLocations[0][0]}`,confidence:n.topLocations[0][1]>5?3:2,rationale:`${n.topLocations[0][0]} is your most frequently reported location, appearing in ${n.topLocations[0][1]} entries. This consistent pattern helps identify treatment targets.`},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/AdvancedAnalyticsView.tsx",lineNumber:369,columnNumber:15},this),n.avgSleep>0&&d.jsxDEV(Ai,{statement:n.avgSleep>=7?"Good sleep quality observed":"Sleep quality may need attention",confidence:2,rationale:n.avgSleep>=7?`Your average sleep quality is ${n.avgSleep.toFixed(1)}/10, which is good and may be helping with pain management. Research shows quality sleep aids recovery.`:`Your average sleep quality is ${n.avgSleep.toFixed(1)}/10. Improving sleep could help reduce pain levels. Consider discussing sleep hygiene with your healthcare provider.`},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/AdvancedAnalyticsView.tsx",lineNumber:378,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/AdvancedAnalyticsView.tsx",lineNumber:351,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/AdvancedAnalyticsView.tsx",lineNumber:340,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/AdvancedAnalyticsView.tsx",lineNumber:306,columnNumber:7},this),d.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxDEV("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 p-6 shadow-lg",children:[d.jsxDEV("div",{className:"flex items-center gap-3 mb-4",children:[d.jsxDEV("div",{className:"p-2 bg-red-100 dark:bg-red-950/30 rounded-lg",children:d.jsxDEV(gh,{className:"h-5 w-5 text-red-600 dark:text-red-400"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/AdvancedAnalyticsView.tsx",lineNumber:398,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/AdvancedAnalyticsView.tsx",lineNumber:397,columnNumber:13},this),d.jsxDEV("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Common Symptoms"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/AdvancedAnalyticsView.tsx",lineNumber:400,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/AdvancedAnalyticsView.tsx",lineNumber:396,columnNumber:11},this),d.jsxDEV("div",{className:"space-y-2",children:n.topSymptoms.map(([o,c],l)=>d.jsxDEV("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-xl",children:[d.jsxDEV("div",{className:"flex items-center gap-3",children:[d.jsxDEV("div",{className:J("w-8 h-8 rounded-lg flex items-center justify-center text-sm font-bold",l===0&&"bg-red-100 dark:bg-red-950/30 text-red-600 dark:text-red-400",l===1&&"bg-orange-100 dark:bg-orange-950/30 text-orange-600 dark:text-orange-400",l===2&&"bg-yellow-100 dark:bg-yellow-950/30 text-yellow-600 dark:text-yellow-400",l>=3&&"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400"),children:l+1},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/AdvancedAnalyticsView.tsx",lineNumber:406,columnNumber:19},this),d.jsxDEV("span",{className:"font-medium text-gray-900 dark:text-white",children:o},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/AdvancedAnalyticsView.tsx",lineNumber:415,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/AdvancedAnalyticsView.tsx",lineNumber:405,columnNumber:17},this),d.jsxDEV(Pt,{variant:"outline",className:"rounded-full",children:[c," times"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/AdvancedAnalyticsView.tsx",lineNumber:417,columnNumber:17},this)]},o,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/AdvancedAnalyticsView.tsx",lineNumber:404,columnNumber:15},this))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/AdvancedAnalyticsView.tsx",lineNumber:402,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/AdvancedAnalyticsView.tsx",lineNumber:395,columnNumber:9},this),d.jsxDEV("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 p-6 shadow-lg",children:[d.jsxDEV("div",{className:"flex items-center gap-3 mb-4",children:[d.jsxDEV("div",{className:"p-2 bg-blue-100 dark:bg-blue-950/30 rounded-lg",children:d.jsxDEV(da,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/AdvancedAnalyticsView.tsx",lineNumber:429,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/AdvancedAnalyticsView.tsx",lineNumber:428,columnNumber:13},this),d.jsxDEV("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Frequent Medications"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/AdvancedAnalyticsView.tsx",lineNumber:431,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/AdvancedAnalyticsView.tsx",lineNumber:427,columnNumber:11},this),n.topMedications.length>0?d.jsxDEV("div",{className:"space-y-2",children:n.topMedications.map(([o,c],l)=>d.jsxDEV("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-xl",children:[d.jsxDEV("div",{className:"flex items-center gap-3",children:[d.jsxDEV("div",{className:J("w-8 h-8 rounded-lg flex items-center justify-center text-sm font-bold",l===0&&"bg-blue-100 dark:bg-blue-950/30 text-blue-600 dark:text-blue-400",l===1&&"bg-cyan-100 dark:bg-cyan-950/30 text-cyan-600 dark:text-cyan-400",l===2&&"bg-teal-100 dark:bg-teal-950/30 text-teal-600 dark:text-teal-400"),children:l+1},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/AdvancedAnalyticsView.tsx",lineNumber:438,columnNumber:21},this),d.jsxDEV("span",{className:"font-medium text-gray-900 dark:text-white",children:o},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/AdvancedAnalyticsView.tsx",lineNumber:446,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/AdvancedAnalyticsView.tsx",lineNumber:437,columnNumber:19},this),d.jsxDEV(Pt,{variant:"outline",className:"rounded-full",children:[c," entries"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/AdvancedAnalyticsView.tsx",lineNumber:448,columnNumber:19},this)]},o,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/AdvancedAnalyticsView.tsx",lineNumber:436,columnNumber:17},this))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/AdvancedAnalyticsView.tsx",lineNumber:434,columnNumber:13},this):d.jsxDEV("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[d.jsxDEV(da,{className:"h-12 w-12 mx-auto mb-2 opacity-50"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/AdvancedAnalyticsView.tsx",lineNumber:456,columnNumber:15},this),d.jsxDEV("p",{className:"text-sm",children:t},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/AdvancedAnalyticsView.tsx",lineNumber:457,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/AdvancedAnalyticsView.tsx",lineNumber:455,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/AdvancedAnalyticsView.tsx",lineNumber:426,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/AdvancedAnalyticsView.tsx",lineNumber:393,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/AdvancedAnalyticsView.tsx",lineNumber:202,columnNumber:5},this):d.jsxDEV("div",{className:"text-center py-20",children:[d.jsxDEV(of,{className:"h-16 w-16 mx-auto text-gray-400 mb-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/AdvancedAnalyticsView.tsx",lineNumber:194,columnNumber:9},this),d.jsxDEV("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:e},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/AdvancedAnalyticsView.tsx",lineNumber:195,columnNumber:9},this),d.jsxDEV("p",{className:"text-gray-500 dark:text-gray-400",children:t},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/AdvancedAnalyticsView.tsx",lineNumber:196,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/analytics/AdvancedAnalyticsView.tsx",lineNumber:193,columnNumber:7},this)}function rk({entries:s}){const[e,t]=V.useState(new Date),[n,i]=V.useState(null),r=V.useMemo(()=>{const p=e.getFullYear(),g=e.getMonth(),y=new Date(p,g,1),k=y.getDay(),D=new Date(y);D.setDate(D.getDate()-k);const j=[],S=new Date;S.setHours(0,0,0,0);for(let v=0;v<42;v++){const N=new Date(D);N.setDate(N.getDate()+v);const C=s.filter(T=>{const _=new Date(T.timestamp);return _.getFullYear()===N.getFullYear()&&_.getMonth()===N.getMonth()&&_.getDate()===N.getDate()}),w=C.length>0?C.reduce((T,_)=>T+_.baselineData.pain,0)/C.length:0;j.push({date:N,entries:C,avgPain:w,isCurrentMonth:N.getMonth()===g,isToday:N.getTime()===S.getTime()})}return j},[e,s]),a=V.useMemo(()=>{const p=r.filter(D=>D.isCurrentMonth&&D.entries.length>0).flatMap(D=>D.entries);if(p.length===0)return{avgPain:0,totalEntries:0,daysTracked:0,bestDay:null,worstDay:null};const g=p.reduce((D,j)=>D+j.baselineData.pain,0)/p.length,y=r.filter(D=>D.isCurrentMonth&&D.entries.length>0).length,k=[...r].filter(D=>D.isCurrentMonth&&D.entries.length>0).sort((D,j)=>D.avgPain-j.avgPain);return{avgPain:g,totalEntries:p.length,daysTracked:y,bestDay:k[0],worstDay:k[k.length-1]}},[r]),o=p=>p===0?"bg-gray-100 dark:bg-gray-800 text-gray-400":p<=3?"bg-green-100 dark:bg-green-950/30 text-green-700 dark:text-green-300 border-green-300 dark:border-green-700":p<=5?"bg-yellow-100 dark:bg-yellow-950/30 text-yellow-700 dark:text-yellow-300 border-yellow-300 dark:border-yellow-700":p<=7?"bg-orange-100 dark:bg-orange-950/30 text-orange-700 dark:text-orange-300 border-orange-300 dark:border-orange-700":"bg-red-100 dark:bg-red-950/30 text-red-700 dark:text-red-300 border-red-300 dark:border-red-700",c=p=>p===0?"opacity-20":p<=3?"opacity-40":p<=5?"opacity-60":p<=7?"opacity-80":"opacity-100",l=()=>{t(new Date(e.getFullYear(),e.getMonth()+1,1)),i(null)},u=()=>{t(new Date(e.getFullYear(),e.getMonth()-1,1)),i(null)},m=()=>{t(new Date),i(null)},f=e.toLocaleDateString("en-US",{month:"long",year:"numeric"}),h=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return d.jsxDEV("div",{className:"space-y-6",children:[d.jsxDEV("div",{className:"flex items-center justify-between",children:[d.jsxDEV("div",{children:[d.jsxDEV("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Calendar View"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:154,columnNumber:11},this),d.jsxDEV("p",{className:"text-gray-600 dark:text-gray-400",children:"Visual timeline of your pain tracking journey"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:155,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:153,columnNumber:9},this),d.jsxDEV(yt,{variant:"outline",onClick:m,className:"rounded-xl",children:[d.jsxDEV(Ua,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:158,columnNumber:11},this),"Today"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:157,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:152,columnNumber:7},this),d.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[d.jsxDEV("div",{className:"bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl p-6 text-white shadow-lg",children:[d.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:d.jsxDEV(Ra,{className:"h-6 w-6 opacity-80"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:167,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:166,columnNumber:11},this),d.jsxDEV("div",{className:"text-3xl font-bold mb-1",children:a.avgPain.toFixed(1)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:169,columnNumber:11},this),d.jsxDEV("div",{className:"text-sm opacity-90",children:"Avg Pain This Month"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:170,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:165,columnNumber:9},this),d.jsxDEV("div",{className:"bg-gradient-to-br from-purple-500 to-pink-600 rounded-2xl p-6 text-white shadow-lg",children:[d.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:d.jsxDEV(hu,{className:"h-6 w-6 opacity-80"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:175,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:174,columnNumber:11},this),d.jsxDEV("div",{className:"text-3xl font-bold mb-1",children:a.daysTracked},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:177,columnNumber:11},this),d.jsxDEV("div",{className:"text-sm opacity-90",children:"Days Tracked"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:178,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:173,columnNumber:9},this),d.jsxDEV("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 rounded-2xl p-6 text-white shadow-lg",children:[d.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:d.jsxDEV(vf,{className:"h-6 w-6 opacity-80"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:183,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:182,columnNumber:11},this),d.jsxDEV("div",{className:"text-3xl font-bold mb-1",children:a.bestDay?a.bestDay.avgPain.toFixed(1):"-"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:185,columnNumber:11},this),d.jsxDEV("div",{className:"text-sm opacity-90",children:"Best Day"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:188,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:181,columnNumber:9},this),d.jsxDEV("div",{className:"bg-gradient-to-br from-orange-500 to-red-600 rounded-2xl p-6 text-white shadow-lg",children:[d.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:d.jsxDEV(cu,{className:"h-6 w-6 opacity-80"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:193,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:192,columnNumber:11},this),d.jsxDEV("div",{className:"text-3xl font-bold mb-1",children:a.worstDay?a.worstDay.avgPain.toFixed(1):"-"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:195,columnNumber:11},this),d.jsxDEV("div",{className:"text-sm opacity-90",children:"Challenging Day"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:198,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:191,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:164,columnNumber:7},this),d.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[d.jsxDEV("div",{className:"lg:col-span-2",children:d.jsxDEV("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 shadow-lg p-6",children:[d.jsxDEV("div",{className:"flex items-center justify-between mb-6",children:[d.jsxDEV("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:f},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:208,columnNumber:15},this),d.jsxDEV("div",{className:"flex items-center gap-2",children:[d.jsxDEV(yt,{variant:"ghost",size:"sm",onClick:u,className:"rounded-xl",children:d.jsxDEV(ou,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:216,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:210,columnNumber:17},this),d.jsxDEV(yt,{variant:"ghost",size:"sm",onClick:l,className:"rounded-xl",children:d.jsxDEV(pf,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:224,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:218,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:209,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:207,columnNumber:13},this),d.jsxDEV("div",{className:"grid grid-cols-7 gap-2 mb-2",children:h.map(p=>d.jsxDEV("div",{className:"text-center text-xs font-semibold text-gray-500 dark:text-gray-400 py-2",children:p},p,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:232,columnNumber:17},this))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:230,columnNumber:13},this),d.jsxDEV("div",{className:"grid grid-cols-7 gap-2",children:r.map((p,g)=>d.jsxDEV("button",{onClick:()=>i(p.entries.length>0?p:null),disabled:p.entries.length===0,className:J("relative aspect-square rounded-xl p-2 transition-all duration-200","flex flex-col items-center justify-center",p.entries.length>0&&"cursor-pointer hover:scale-105 border-2",p.entries.length===0&&"cursor-default",!p.isCurrentMonth&&"opacity-30",p.isToday&&"ring-2 ring-blue-500 ring-offset-2 dark:ring-offset-gray-900",p.entries.length>0?o(p.avgPain):"bg-gray-50 dark:bg-gray-800/50 text-gray-400",n?.date.getTime()===p.date.getTime()&&"ring-2 ring-offset-2 dark:ring-offset-gray-900"),children:[d.jsxDEV("span",{className:J("text-sm font-medium mb-1",p.isToday&&"font-bold"),children:p.date.getDate()},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:259,columnNumber:19},this),p.entries.length>0&&d.jsxDEV(d.Fragment,{children:[d.jsxDEV("div",{className:J("w-1.5 h-1.5 rounded-full",o(p.avgPain).split(" ")[0].replace("bg-","bg-"),c(p.avgPain))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:268,columnNumber:23},this),p.entries.length>1&&d.jsxDEV("span",{className:"text-xs opacity-60 mt-0.5",children:p.entries.length},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:274,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:267,columnNumber:21},this)]},g,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:244,columnNumber:17},this))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:242,columnNumber:13},this),d.jsxDEV("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:d.jsxDEV("div",{className:"flex items-center justify-between text-xs",children:[d.jsxDEV("span",{className:"text-gray-600 dark:text-gray-400 font-medium",children:"Pain Level:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:287,columnNumber:17},this),d.jsxDEV("div",{className:"flex items-center gap-2",children:[d.jsxDEV("div",{className:"flex items-center gap-1",children:[d.jsxDEV("div",{className:"w-3 h-3 rounded bg-green-500"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:290,columnNumber:21},this),d.jsxDEV("span",{className:"text-gray-600 dark:text-gray-400",children:"Low"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:291,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:289,columnNumber:19},this),d.jsxDEV("div",{className:"flex items-center gap-1",children:[d.jsxDEV("div",{className:"w-3 h-3 rounded bg-yellow-500"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:294,columnNumber:21},this),d.jsxDEV("span",{className:"text-gray-600 dark:text-gray-400",children:"Mild"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:295,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:293,columnNumber:19},this),d.jsxDEV("div",{className:"flex items-center gap-1",children:[d.jsxDEV("div",{className:"w-3 h-3 rounded bg-orange-500"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:298,columnNumber:21},this),d.jsxDEV("span",{className:"text-gray-600 dark:text-gray-400",children:"Moderate"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:299,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:297,columnNumber:19},this),d.jsxDEV("div",{className:"flex items-center gap-1",children:[d.jsxDEV("div",{className:"w-3 h-3 rounded bg-red-500"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:302,columnNumber:21},this),d.jsxDEV("span",{className:"text-gray-600 dark:text-gray-400",children:"Severe"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:303,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:301,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:288,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:286,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:285,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:205,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:204,columnNumber:9},this),d.jsxDEV("div",{className:"lg:col-span-1",children:n?d.jsxDEV("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 shadow-lg p-6 sticky top-24",children:[d.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[d.jsxDEV("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:n.date.toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"})},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:316,columnNumber:17},this),d.jsxDEV(Pt,{variant:"outline",className:"rounded-full",children:[n.entries.length," ",n.entries.length===1?"entry":"entries"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:323,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:315,columnNumber:15},this),d.jsxDEV("div",{className:J("rounded-xl p-4 mb-4",o(n.avgPain)),children:d.jsxDEV("div",{className:"flex items-center justify-between",children:[d.jsxDEV("span",{className:"text-sm font-medium opacity-80",children:"Average Pain"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:334,columnNumber:19},this),d.jsxDEV("div",{className:"text-2xl font-bold",children:[n.avgPain.toFixed(1),"/10"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:335,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:333,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:329,columnNumber:15},this),d.jsxDEV("div",{className:"space-y-3",children:n.entries.map(p=>d.jsxDEV("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-xl p-4 space-y-2",children:[d.jsxDEV("div",{className:"flex items-center justify-between",children:[d.jsxDEV("div",{className:"flex items-center gap-2",children:[d.jsxDEV(Qi,{className:"h-4 w-4 text-gray-500"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:348,columnNumber:25},this),d.jsxDEV("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:new Date(p.timestamp).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:349,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:347,columnNumber:23},this),d.jsxDEV(Pt,{className:J("rounded-full",o(p.baselineData.pain)),children:[p.baselineData.pain,"/10"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:356,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:346,columnNumber:21},this),p.baselineData.locations&&p.baselineData.locations.length>0&&d.jsxDEV("div",{className:"flex items-start gap-2",children:[d.jsxDEV(mu,{className:"h-4 w-4 text-gray-400 mt-0.5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:363,columnNumber:25},this),d.jsxDEV("div",{className:"flex flex-wrap gap-1",children:p.baselineData.locations.map((g,y)=>d.jsxDEV(Pt,{variant:"outline",className:"text-xs rounded-full",children:g},y,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:366,columnNumber:29},this))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:364,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:362,columnNumber:23},this),p.medications?.current&&p.medications.current.length>0&&d.jsxDEV("div",{className:"flex items-start gap-2",children:[d.jsxDEV(da,{className:"h-4 w-4 text-gray-400 mt-0.5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:376,columnNumber:25},this),d.jsxDEV("div",{className:"flex flex-wrap gap-1",children:p.medications.current.map((g,y)=>d.jsxDEV(Pt,{variant:"outline",className:"text-xs rounded-full",children:g.name},y,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:379,columnNumber:29},this))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:377,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:375,columnNumber:23},this),p.notes&&d.jsxDEV("p",{className:"text-sm text-gray-600 dark:text-gray-400 italic",children:['"',p.notes,'"']},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:388,columnNumber:23},this)]},p.id,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:342,columnNumber:19},this))},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:340,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:314,columnNumber:13},this):d.jsxDEV("div",{className:"bg-gradient-to-br from-gray-50 to-blue-50 dark:from-gray-900 dark:to-blue-950/20 rounded-2xl border-2 border-dashed border-gray-300 dark:border-gray-700 p-8 text-center",children:[d.jsxDEV(Li,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:398,columnNumber:15},this),d.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Select a Day"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:399,columnNumber:15},this),d.jsxDEV("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Click on any day with entries to view details"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:402,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:397,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:312,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:202,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/calendar/CalendarView.tsx",lineNumber:150,columnNumber:5},this)}const ak=V.lazy(()=>st(()=>import("./index-BytI_QpU.js"),__vite__mapDeps([0,1,2,3])).then(s=>({default:s.OnboardingFlow}))),ok=V.lazy(()=>st(()=>import("./index-B7FZOeX1.js"),__vite__mapDeps([4,1,2,3])).then(s=>({default:s.Walkthrough})));function ck(){const{entries:s,ui:e,addEntry:t,setShowOnboarding:n,setShowWalkthrough:i,setError:r,loadSampleData:a}=Gi(),o=oo(),[c,l]=V.useState([]),[u,m]=V.useState("dashboard");V.useEffect(()=>{st(async()=>{const{walkthroughSteps:v}=await import("./sampleData-CQjumYEi.js");return{walkthroughSteps:v}},[]).then(({walkthroughSteps:v})=>{l(v)})},[]),V.useEffect(()=>{try{const v=Ve.get("pain-tracker-onboarding-completed"),N=s.length>0;!v&&!N&&n(!0)}catch(v){console.warn("Unable to check onboarding status:",v)}},[s.length,n]);const f=v=>{try{Ve.set("pain-tracker-onboarding-completed","true")}catch(N){console.warn("Unable to save onboarding status:",N)}n(!1),v?(a(),o.success("Sample data loaded!","Explore the features with example pain entries. You can clear this data anytime.")):o.info("Welcome to Pain Tracker!","Start by recording your first pain entry above.")},h=()=>{try{Ve.set("pain-tracker-onboarding-completed","true")}catch(v){console.warn("Unable to save onboarding status:",v)}n(!1),o.info("Onboarding skipped","You can always access help from the help menu.")},p=()=>{i(!0)},g=()=>{i(!1),o.success("Tutorial completed!","You're all set to start tracking your pain effectively.")},y=()=>{i(!1)},k=v=>{if(!v.baselineData)return!1;const{pain:N}=v.baselineData;if(typeof N!="number"||N<0||N>10)return!1;if(v.qualityOfLife){const{sleepQuality:C,moodImpact:w}=v.qualityOfLife;if(typeof C!="number"||C<0||C>10||typeof w!="number"||w<0||w>10)return!1}return!0},D=v=>{try{if(!k(v)){r("Invalid pain entry data. Please check your input values."),o.error("Invalid Entry","Please check your input values and try again.");return}t(v),r(null),o.success("Entry Saved","Your pain entry has been recorded successfully."),m("dashboard")}catch(N){r("Failed to add pain entry. Please try again."),o.error("Save Failed","Unable to add pain entry. Please try again."),console.error("Error adding pain entry:",N)}},j={totalEntries:s.length,avgPain:s.length>0?s.reduce((v,N)=>v+N.baselineData.pain,0)/s.length:0,streak:s.length>0?Math.min(s.length,7):0},S=()=>{switch(u){case"dashboard":return s.length>0?d.jsxDEV(gl,{entries:s,onLogNow:()=>m("new-entry"),onViewCalendar:()=>m("calendar"),onViewAnalytics:()=>m("analytics"),onExport:()=>{o.info("Export","PDF export coming soon")}},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:146,columnNumber:11},this):d.jsxDEV(yl,{onStartWalkthrough:p},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:157,columnNumber:11},this);case"new-entry":return d.jsxDEV(Xv,{onComplete:v=>{D({baselineData:{pain:v.pain,locations:v.locations,symptoms:v.symptoms},notes:v.notes})},onCancel:()=>m("dashboard")},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:162,columnNumber:11},this);case"analytics":return d.jsxDEV(ik,{entries:s},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:179,columnNumber:16},this);case"calendar":return d.jsxDEV(rk,{entries:s},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:182,columnNumber:16},this);case"reports":return d.jsxDEV("div",{className:"text-center py-20",children:[d.jsxDEV("div",{className:"inline-flex p-6 bg-gray-100 dark:bg-gray-800 rounded-2xl mb-4",children:d.jsxDEV("span",{className:"text-4xl",children:""},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:188,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:187,columnNumber:13},this),d.jsxDEV("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Coming Soon"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:190,columnNumber:13},this),d.jsxDEV("p",{className:"text-gray-600 dark:text-gray-400",children:"This feature is under development"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:191,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:186,columnNumber:11},this);case"settings":case"help":return d.jsxDEV("div",{className:"text-center py-20",children:[d.jsxDEV("div",{className:"inline-flex p-6 bg-gray-100 dark:bg-gray-800 rounded-2xl mb-4",children:d.jsxDEV("span",{className:"text-4xl",children:""},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:200,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:199,columnNumber:13},this),d.jsxDEV("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:u==="settings"?"Settings":"Help & Support"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:202,columnNumber:13},this),d.jsxDEV("p",{className:"text-gray-600 dark:text-gray-400",children:"Configuration options coming soon"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:203,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:198,columnNumber:11},this);default:return s.length>0?d.jsxDEV(gl,{entries:s,onLogNow:()=>m("new-entry"),onViewCalendar:()=>m("calendar"),onViewAnalytics:()=>m("analytics"),onExport:()=>{o.info("Export","PDF export coming soon")}},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:209,columnNumber:11},this):d.jsxDEV(yl,{onStartWalkthrough:p},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:219,columnNumber:11},this)}};return d.jsxDEV(d.Fragment,{children:[d.jsxDEV(Kv,{currentView:u,onNavigate:m,stats:j,children:S()},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:226,columnNumber:7},this),e.showOnboarding&&d.jsxDEV(V.Suspense,{fallback:null,children:d.jsxDEV(ak,{onComplete:f,onSkip:h},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:237,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:236,columnNumber:9},this),e.showWalkthrough&&d.jsxDEV(V.Suspense,{fallback:null,children:d.jsxDEV(ok,{steps:c,isActive:e.showWalkthrough,onComplete:g,onSkip:y},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:247,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:246,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/containers/PainTrackerContainer.tsx",lineNumber:225,columnNumber:5},this)}const lk=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,uk={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},dk=s=>uk[s],mk=s=>s.replace(lk,dk);let xl={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:mk};const fk=(s={})=>{xl={...xl,...s}},hk={type:"3rdParty",init(s){fk(s.options.react)}},Vi={simplifiedMode:!0,showMemoryAids:!0,autoSave:!0,showProgress:!0,showCognitiveLoadIndicators:!0,adaptiveComplexity:!0,fontSize:"medium",contrast:"normal",reduceMotion:!1,touchTargetSize:"large",confirmationLevel:"standard",voiceInput:!1,gentleLanguage:!0,hideDistressingContent:!1,showComfortPrompts:!0,enableContentWarnings:!0,contentWarningLevel:"standard",enableCrisisDetection:!0,crisisDetectionSensitivity:"medium",showCrisisResources:!0,enableProgressiveDisclosure:!0,defaultDisclosureLevel:"helpful",adaptiveDisclosure:!0,realTimeValidation:!0,theme:"auto",reminderFrequency:"daily"},pk=s=>({small:"14px",medium:"16px",large:"18px",xl:"20px"})[s],gk=s=>({normal:"44px",large:"56px","extra-large":"72px"})[s],bk=V.createContext({preferences:Vi,updatePreferences:()=>{}});function yk({children:s}){const[e,t]=V.useState(()=>{const i=Ve.get("trauma-informed-preferences",{encrypt:!0});if(i)return{...Vi,...i};try{const r=localStorage.getItem("trauma-informed-preferences");if(r){const a=JSON.parse(r);return Ve.set("trauma-informed-preferences",a,{encrypt:!0}),{...Vi,...a}}}catch{}return Vi}),n=i=>{const r={...e,...i};t(r),Ve.set("trauma-informed-preferences",r,{encrypt:!0})};return V.useEffect(()=>{const i=document.documentElement;i.style.setProperty("--ti-font-size",pk(e.fontSize)),i.style.setProperty("--ti-touch-size",gk(e.touchTargetSize));const r=`ti-contrast-${e.contrast}`;document.body.className=document.body.className.replace(/ti-contrast-\w+/g,""),document.body.classList.add(r),e.reduceMotion?document.body.classList.add("ti-reduce-motion"):document.body.classList.remove("ti-reduce-motion"),e.simplifiedMode?document.body.classList.add("ti-simplified"):document.body.classList.remove("ti-simplified")},[e]),d.jsxDEV(bk.Provider,{value:{preferences:e,updatePreferences:n},children:s},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/accessibility/TraumaInformedContext.tsx",lineNumber:75,columnNumber:5},this)}const xk={maxPainEntries:50,maxMoodEntries:50,maxActivityLogs:30,maxStorageMB:50,dataRetentionDays:90,basicAnalytics:!0,advancedAnalytics:!1,predictiveInsights:!1,customReports:!1,empathyIntelligence:!1,csvExport:!0,jsonExport:!1,pdfReports:!1,wcbReports:!1,clinicalPDFExport:!1,scheduledReports:!1,maxExportsPerMonth:5,healthcareProviderAPI:!1,fhirIntegration:!1,calendarSync:!1,wearableDevices:!1,multiUser:!1,familySharing:!1,caregiverAccess:!1,maxSharedUsers:0,encryption:"basic",twoFactorAuth:!1,auditLogs:!1,hipaaCompliance:!1,soc2Compliance:!1,customDataRetention:!1,supportLevel:"community",responseTime:"72h",onboarding:!1,customTraining:!1,aiInsights:!1,automatedReminders:!0,smartSuggestions:!1,patternRecognition:!1,customThemes:!1,customDashboard:!1,customFields:!1,branding:!1,whiteLabel:!1,offlineMode:!0,mobileApp:!0,apiAccess:!1,webhooks:!1,customIntegrations:!1},vk={maxPainEntries:500,maxMoodEntries:500,maxActivityLogs:300,maxStorageMB:500,dataRetentionDays:365,basicAnalytics:!0,advancedAnalytics:!0,predictiveInsights:!1,customReports:!0,empathyIntelligence:!0,csvExport:!0,jsonExport:!0,pdfReports:!0,wcbReports:!0,clinicalPDFExport:!1,scheduledReports:!1,maxExportsPerMonth:50,healthcareProviderAPI:!1,fhirIntegration:!1,calendarSync:!0,wearableDevices:!1,multiUser:!1,familySharing:!0,caregiverAccess:!0,maxSharedUsers:2,encryption:"advanced",twoFactorAuth:!0,auditLogs:!1,hipaaCompliance:!1,soc2Compliance:!1,customDataRetention:!1,supportLevel:"email",responseTime:"24h",onboarding:!0,customTraining:!1,aiInsights:!0,automatedReminders:!0,smartSuggestions:!0,patternRecognition:!0,customThemes:!0,customDashboard:!0,customFields:!0,branding:!1,whiteLabel:!1,offlineMode:!0,mobileApp:!0,apiAccess:!1,webhooks:!1,customIntegrations:!1},kk={maxPainEntries:-1,maxMoodEntries:-1,maxActivityLogs:-1,maxStorageMB:5e3,dataRetentionDays:-1,basicAnalytics:!0,advancedAnalytics:!0,predictiveInsights:!0,customReports:!0,empathyIntelligence:!0,csvExport:!0,jsonExport:!0,pdfReports:!0,wcbReports:!0,clinicalPDFExport:!0,scheduledReports:!0,maxExportsPerMonth:200,healthcareProviderAPI:!0,fhirIntegration:!0,calendarSync:!0,wearableDevices:!0,multiUser:!0,familySharing:!0,caregiverAccess:!0,maxSharedUsers:5,encryption:"advanced",twoFactorAuth:!0,auditLogs:!0,hipaaCompliance:!0,soc2Compliance:!1,customDataRetention:!0,supportLevel:"priority",responseTime:"4h",onboarding:!0,customTraining:!1,aiInsights:!0,automatedReminders:!0,smartSuggestions:!0,patternRecognition:!0,customThemes:!0,customDashboard:!0,customFields:!0,branding:!1,whiteLabel:!1,offlineMode:!0,mobileApp:!0,apiAccess:!0,webhooks:!0,customIntegrations:!1},Nk={maxPainEntries:-1,maxMoodEntries:-1,maxActivityLogs:-1,maxStorageMB:-1,dataRetentionDays:-1,basicAnalytics:!0,advancedAnalytics:!0,predictiveInsights:!0,customReports:!0,empathyIntelligence:!0,csvExport:!0,jsonExport:!0,pdfReports:!0,wcbReports:!0,clinicalPDFExport:!0,scheduledReports:!0,maxExportsPerMonth:-1,healthcareProviderAPI:!0,fhirIntegration:!0,calendarSync:!0,wearableDevices:!0,multiUser:!0,familySharing:!0,caregiverAccess:!0,maxSharedUsers:-1,encryption:"enterprise",twoFactorAuth:!0,auditLogs:!0,hipaaCompliance:!0,soc2Compliance:!0,customDataRetention:!0,supportLevel:"dedicated",responseTime:"1h",onboarding:!0,customTraining:!0,aiInsights:!0,automatedReminders:!0,smartSuggestions:!0,patternRecognition:!0,customThemes:!0,customDashboard:!0,customFields:!0,branding:!0,whiteLabel:!0,offlineMode:!0,mobileApp:!0,apiAccess:!0,webhooks:!0,customIntegrations:!0},wk={tier:"free",monthly:{amount:0,currency:"USD",display:"$0"},yearly:{amount:0,currency:"USD",display:"$0",savings:0},trial:{enabled:!1,days:0}},Dk={tier:"basic",monthly:{amount:999,currency:"USD",display:"$9.99"},yearly:{amount:9990,currency:"USD",display:"$99.90",savings:17},trial:{enabled:!0,days:14}},Ck={tier:"pro",monthly:{amount:2499,currency:"USD",display:"$24.99"},yearly:{amount:24990,currency:"USD",display:"$249.90",savings:21},lifetime:{amount:49900,currency:"USD",display:"$499"},trial:{enabled:!0,days:30}},Ek={tier:"enterprise",monthly:{amount:0,currency:"USD",display:"Custom"},yearly:{amount:0,currency:"USD",display:"Custom",savings:0},trial:{enabled:!0,days:60}},ms={free:{tier:"free",name:"Free",tagline:"Start your pain tracking journey",description:"Perfect for individuals exploring pain management tools. Track your pain, mood, and activities with basic analytics.",features:xk,pricing:wk,limits:{softLimits:!1,gracePeriodDays:0},targeting:{userType:["individual","trial_user"],painLevel:"mild"}},basic:{tier:"basic",name:"Basic",tagline:"Comprehensive pain management",description:"For individuals committed to understanding and managing chronic pain. Includes advanced analytics, PDF reports, and family sharing.",features:vk,pricing:Dk,popular:!0,limits:{softLimits:!0,gracePeriodDays:7},targeting:{userType:["individual","caregiver"],painLevel:"chronic"}},pro:{tier:"pro",name:"Pro",tagline:"Professional-grade pain tracking",description:"Power users and healthcare coordination. Unlimited entries, predictive insights, clinical PDF exports, and HIPAA compliance.",features:kk,pricing:Ck,recommended:!0,limits:{softLimits:!0,gracePeriodDays:14},targeting:{userType:["power_user","healthcare_coordinator","professional"],painLevel:"chronic"}},enterprise:{tier:"enterprise",name:"Enterprise",tagline:"Healthcare organization solution",description:"For clinics, healthcare organizations, and large-scale deployments. Custom features, white-label options, SOC2 compliance, and dedicated support.",features:Nk,pricing:Ek,limits:{softLimits:!0,gracePeriodDays:30},targeting:{userType:["organization","clinic","healthcare_provider"]}}},Pk={free:["basic","pro","enterprise"],basic:["pro","enterprise"],pro:["enterprise"],enterprise:[]},Sk={free:{painEntries:{limit:50,warningAt:40,unit:"entries"},storageMB:{limit:50,warningAt:40,unit:"MB"},exportCount:{limit:5,warningAt:4,unit:"exports/month",resetMonthly:!0}},basic:{painEntries:{limit:500,warningAt:450,unit:"entries"},storageMB:{limit:500,warningAt:450,unit:"MB"},exportCount:{limit:50,warningAt:45,unit:"exports/month",resetMonthly:!0}},pro:{storageMB:{limit:5e3,warningAt:4500,unit:"MB"},apiCalls:{limit:1e4,warningAt:9e3,unit:"calls/month",resetMonthly:!0}},enterprise:{}};class jk{subscriptions=new Map;billingEvents=[];async createSubscription(e,t="free",n="monthly"){const i=new Date().toISOString(),r=ms[t],a=i,o=this.calculatePeriodEnd(a,n),c=r.pricing.trial.enabled&&t!=="free",l={id:this.generateSubscriptionId(),userId:e,tier:t,status:c?"trialing":"active",billingInterval:n,currentPeriodStart:a,currentPeriodEnd:o,cancelAtPeriodEnd:!1,trialStart:c?i:void 0,trialEnd:c?this.calculateTrialEnd(i,r.pricing.trial.days):void 0,usage:{painEntries:0,moodEntries:0,activityLogs:0,storageMB:0,apiCalls:0,exportCount:0},createdAt:i,updatedAt:i};return this.subscriptions.set(e,l),await this.logBillingEvent({type:"subscription_created",subscriptionId:l.id,userId:e,metadata:{billingInterval:n,isTrial:c,tier:t}}),await tt.logSecurityEvent({type:"audit",level:"info",message:`Subscription created: ${t} tier for user ${e}`,userId:e,timestamp:new Date}),l}getSubscription(e){return this.subscriptions.get(e)||null}getUserTier(e){const t=this.getSubscription(e);return!t||this.isSubscriptionExpired(t)?"free":t.tier}async checkFeatureAccess(e,t){const n=this.getUserTier(e),r=ms[n].features[t];if(typeof r=="boolean")return{hasAccess:r,reason:r?"Feature included in your plan":`Feature requires ${this.getMinimumTierForFeature(t)} plan`,upgradeRequired:r?void 0:this.getMinimumTierForFeature(t)};if(typeof r=="number"){if(!this.getSubscription(e))return{hasAccess:!1,reason:"No active subscription",upgradeRequired:"basic"};const o=await this.getFeatureQuota(e,t);return{hasAccess:o.remaining>0||r===-1,reason:o.remaining>0?"Quota available":"Quota exceeded",quota:o,upgradeRequired:o.remaining<=0?this.getNextTier(n):void 0}}return{hasAccess:!!r,reason:r?`${r} access included`:"Feature not available"}}async getFeatureQuota(e,t){const n=this.getUserTier(e),i=ms[n],r=this.getSubscription(e);if(!r)return{feature:t,limit:0,current:0,remaining:0,percentage:0};const a=i.features[t],o=typeof a=="number"?a:0;let c=0;t==="maxPainEntries"?c=r.usage.painEntries:t==="maxMoodEntries"?c=r.usage.moodEntries:t==="maxActivityLogs"?c=r.usage.activityLogs:t==="maxStorageMB"?c=r.usage.storageMB:t==="maxExportsPerMonth"&&(c=r.usage.exportCount);const l=o===-1?1/0:Math.max(0,o-c),u=o===-1?0:Math.min(100,c/o*100);return{feature:t,limit:o,current:c,remaining:o===-1?-1:l,percentage:u,resetDate:this.shouldResetMonthly(t)?r.currentPeriodEnd:void 0}}async trackUsage(e,t,n=1){const i=this.getSubscription(e);if(!i)return{success:!1};i.usage[t]+=n,i.updatedAt=new Date().toISOString();const a={painEntries:"maxPainEntries",moodEntries:"maxMoodEntries",activityLogs:"maxActivityLogs",storageMB:"maxStorageMB",apiCalls:"maxPainEntries",exportCount:"maxExportsPerMonth"}[t],o=await this.getFeatureQuota(e,a),c=this.getUserTier(e),l=Sk[c];if(l&&l[t]){const u=l[t];i.usage[t]>=u.warningAt&&await tt.logSecurityEvent({type:"audit",level:"warning",message:`User approaching ${t} limit: ${i.usage[t]}/${u.limit}`,userId:e,timestamp:new Date})}return{success:!0,quota:o}}async upgradeTier(e,t,n=!0){const i=this.getSubscription(e);if(!i)throw new Error("No active subscription found");const r=i.tier,a=await this.calculateTierChange(r,t);return n?(i.tier=t,i.status="active",i.updatedAt=new Date().toISOString(),await this.logBillingEvent({type:"tier_upgraded",subscriptionId:i.id,userId:e,metadata:{fromTier:r,toTier:t}}),await tt.logSecurityEvent({type:"audit",level:"info",message:`Subscription upgraded: ${r}  ${t}`,userId:e,timestamp:new Date})):i.scheduledChange={newTier:t,effectiveDate:i.currentPeriodEnd,reason:"upgrade"},a}async downgradeTier(e,t){const n=this.getSubscription(e);if(!n)throw new Error("No active subscription found");const i=n.tier,r=await this.calculateTierChange(i,t);return n.scheduledChange={newTier:t,effectiveDate:n.currentPeriodEnd,reason:"downgrade"},n.updatedAt=new Date().toISOString(),await this.logBillingEvent({type:"tier_downgraded",subscriptionId:n.id,userId:e,metadata:{fromTier:i,toTier:t,effectiveDate:n.currentPeriodEnd}}),r}async cancelSubscription(e,t=!1){const n=this.getSubscription(e);if(!n)throw new Error("No active subscription found");return t?(n.status="canceled",n.tier="free"):(n.cancelAtPeriodEnd=!0,n.status="canceled"),n.updatedAt=new Date().toISOString(),await this.logBillingEvent({type:"subscription_canceled",subscriptionId:n.id,userId:e,metadata:{immediate:t,effectiveDate:t?new Date().toISOString():n.currentPeriodEnd}}),await tt.logSecurityEvent({type:"audit",level:"info",message:`Subscription canceled${t?" (immediate)":" (at period end)"}`,userId:e,timestamp:new Date}),n}async reactivateSubscription(e){const t=this.getSubscription(e);if(!t)throw new Error("No subscription found");if(t.status!=="canceled"||!t.cancelAtPeriodEnd)throw new Error("Subscription is not canceled");return t.cancelAtPeriodEnd=!1,t.status="active",t.updatedAt=new Date().toISOString(),await tt.logSecurityEvent({type:"audit",level:"info",message:"Subscription reactivated",userId:e,timestamp:new Date}),t}async calculateTierChange(e,t){const n=ms[e],i=ms[t],r=this.isUpgrade(e,t),a=[],o=[];return Object.keys(n.features).forEach(l=>{const u=n.features[l],m=i.features[l];typeof u=="boolean"&&typeof m=="boolean"&&(!u&&m&&a.push(l),u&&!m&&o.push(l))}),{fromTier:e,toTier:t,type:r?"upgrade":"downgrade",immediateCharge:r?i.pricing.monthly.amount:0,nextBillingChange:i.pricing.monthly.amount,featuresGained:a,featuresLost:o,requiresMigration:!r,effectiveImmediately:r,confirmationRequired:o.length>0}}async getAnalytics(e){const t=this.getSubscription(e);if(!t)return null;const n=new Date,i=new Date(n.getTime()-1440*60*1e3),r=new Date(n.getTime()-10080*60*1e3),a=new Date(n.getTime()-720*60*60*1e3),o=this.calculateEngagementScore(t),c=this.calculateChurnRisk(o,t);return{userId:e,tier:t.tier,dailyActive:new Date(t.updatedAt)>i,weeklyActive:new Date(t.updatedAt)>r,monthlyActive:new Date(t.updatedAt)>a,mostUsedFeatures:[],entriesCreated:t.usage.painEntries+t.usage.moodEntries,reportsGenerated:t.usage.exportCount,insightsViewed:0,exportsMade:t.usage.exportCount,engagementScore:o,churnRisk:c}}isSubscriptionExpired(e){return e.status==="active"||e.status==="trialing"?!1:e.status==="canceled"&&!e.cancelAtPeriodEnd?new Date>new Date(e.currentPeriodEnd):e.status==="expired"}getMinimumTierForFeature(e){const t=["free","basic","pro","enterprise"];for(const n of t){const r=ms[n].features[e];if(typeof r=="boolean"){if(r===!0)return n;continue}if(typeof r=="number"){if(r!==0)return n;continue}if(typeof r=="string")return n}return"enterprise"}getNextTier(e){const t=Pk[e];return t.length>0?t[0]:void 0}isUpgrade(e,t){const n=["free","basic","pro","enterprise"];return n.indexOf(t)>n.indexOf(e)}calculatePeriodEnd(e,t){const n=new Date(e);return t==="monthly"?n.setMonth(n.getMonth()+1):t==="yearly"?n.setFullYear(n.getFullYear()+1):n.setFullYear(n.getFullYear()+100),n.toISOString()}calculateTrialEnd(e,t){const n=new Date(e);return n.setDate(n.getDate()+t),n.toISOString()}shouldResetMonthly(e){return["exportCount","apiCalls"].includes(e)}calculateEngagementScore(e){let t=0;e.usage.painEntries>0&&(t+=20),e.usage.painEntries>10&&(t+=10),e.usage.painEntries>50&&(t+=10),e.usage.moodEntries>0&&(t+=10),e.usage.activityLogs>0&&(t+=10),e.usage.exportCount>0&&(t+=10);const n=Math.floor((Date.now()-new Date(e.updatedAt).getTime())/(1e3*60*60*24));return n===0?t+=30:n<=3?t+=20:n<=7&&(t+=10),Math.min(100,t)}calculateChurnRisk(e,t){return t.cancelAtPeriodEnd||e<30?"high":e<60?"medium":"low"}generateSubscriptionId(){return`sub_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}async logBillingEvent(e){const t={id:`evt_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,type:e.type,subscriptionId:e.subscriptionId,userId:e.userId,timestamp:new Date().toISOString(),amount:e.amount,currency:e.currency,metadata:e.metadata};this.billingEvents.push(t)}}const Lt=new jk,_k=V.createContext(void 0),Tk=({children:s,userId:e})=>{const[t,n]=V.useState(null),[i,r]=V.useState("free"),[a,o]=V.useState(!1),[c,l]=V.useState(null),u=V.useCallback(async v=>{o(!0),l(null);try{let N=await Lt.getSubscription(v);N||(N=await Lt.createSubscription(v,"free")),n(N),r(N.tier)}catch(N){l(N instanceof Error?N.message:"Failed to initialize subscription"),console.error("Subscription initialization error:",N)}finally{o(!1)}},[]),m=V.useCallback(async()=>{t?.userId&&await u(t.userId)},[t?.userId,u]),f=V.useCallback(async(v,N=!0)=>{if(!t)throw new Error("No active subscription");o(!0),l(null);try{const C=await Lt.upgradeTier(t.userId,v,N);return await m(),C}catch(C){const w=C instanceof Error?C.message:"Failed to upgrade subscription";throw l(w),C}finally{o(!1)}},[t,m]),h=V.useCallback(async v=>{if(!t)throw new Error("No active subscription");o(!0),l(null);try{const N=await Lt.downgradeTier(t.userId,v);return await m(),N}catch(N){const C=N instanceof Error?N.message:"Failed to downgrade subscription";throw l(C),N}finally{o(!1)}},[t,m]),p=V.useCallback(async(v=!1)=>{if(!t)throw new Error("No active subscription");o(!0),l(null);try{await Lt.cancelSubscription(t.userId,v),await m()}catch(N){const C=N instanceof Error?N.message:"Failed to cancel subscription";throw l(C),N}finally{o(!1)}},[t,m]),g=V.useCallback(async()=>{if(!t)throw new Error("No active subscription");o(!0),l(null);try{await Lt.reactivateSubscription(t.userId),await m()}catch(v){const N=v instanceof Error?v.message:"Failed to reactivate subscription";throw l(N),v}finally{o(!1)}},[t,m]),y=V.useCallback(async v=>t?Lt.checkFeatureAccess(t.userId,v):{hasAccess:!1,reason:"No active subscription",upgradeRequired:"basic"},[t]),k=V.useCallback(v=>{const C=ms[i].features[v];return typeof C=="boolean"?C:typeof C=="number"?C!==0:!!C},[i]),D=V.useCallback(async(v,N=1)=>{if(t)try{const C=await Lt.trackUsage(t.userId,v,N);C.success&&C.quota&&C.quota.remaining===0&&l(`You've reached your ${v} limit. Consider upgrading your plan.`),await m()}catch(C){console.error("Failed to track usage:",C)}},[t,m]),j=V.useCallback(async()=>t?Lt.getAnalytics(t.userId):null,[t]);V.useEffect(()=>{e&&u(e)},[e,u]);const S={subscription:t,currentTier:i,isLoading:a,error:c,initialize:u,upgradeTier:f,downgradeTier:h,cancelSubscription:p,reactivateSubscription:g,checkFeatureAccess:y,hasFeature:k,trackUsage:D,getAnalytics:j,refresh:m};return d.jsxDEV(_k.Provider,{value:S,children:s},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/contexts/SubscriptionContext.tsx",lineNumber:293,columnNumber:5},void 0)},Xr=(s,e="polite",t=100)=>{let n=document.getElementById("aria-live-region");n||(n=document.createElement("div"),n.id="aria-live-region",n.setAttribute("aria-live",e),n.setAttribute("aria-atomic","true"),n.className="sr-only",document.body.appendChild(n)),n.getAttribute("aria-live")!==e&&n.setAttribute("aria-live",e),n.textContent="",setTimeout(()=>{n&&(n.textContent=s)},t)},Ak=()=>{const s=[{id:"skip-to-main",target:"main-content",text:"Skip to main content"},{id:"skip-to-nav",target:"main-navigation",text:"Skip to navigation"},{id:"skip-to-footer",target:"page-footer",text:"Skip to footer"}];if(document.getElementById("skip-links-container"))return;const t=document.createElement("div");t.id="skip-links-container",t.className="sr-only-focusable",s.forEach(({id:n,target:i,text:r})=>{const a=document.getElementById(i);if(!a)return;const o=document.createElement("a");o.id=n,o.href=`#${i}`,o.textContent=r,o.className="skip-link",o.addEventListener("click",c=>{c.preventDefault(),a.focus(),a.scrollIntoView({behavior:"smooth",block:"start"})}),t.appendChild(o)}),document.body.insertBefore(t,document.body.firstChild)},Vk=(s=document.body)=>{s.querySelectorAll("button:not([aria-label])").forEach(i=>{if(!i.textContent?.trim()&&!i.getAttribute("aria-labelledby")){const r=i.querySelector('[class*="icon"]')?.className||"";i.setAttribute("aria-label",`Button with ${r||"no label"}`),console.warn("Button missing aria-label:",i)}}),s.querySelectorAll("a:not([aria-label])").forEach(i=>{if(!i.textContent?.trim()&&!i.getAttribute("aria-labelledby")){const r=i.getAttribute("href");i.setAttribute("aria-label",`Link to ${r||"unknown destination"}`),console.warn("Link missing aria-label:",i)}}),s.querySelectorAll("input:not([aria-label]):not([aria-labelledby])").forEach(i=>{const r=i.getAttribute("id");if(!(r?s.querySelector(`label[for="${r}"]`):null)){const o=i.getAttribute("placeholder");i.setAttribute("aria-label",o||"Input field"),console.warn("Input missing label:",i)}})},Mk=(s=document.body)=>{const e=[],t=[],n=s.querySelectorAll("[role]"),i=["alert","alertdialog","application","article","banner","button","checkbox","dialog","grid","gridcell","heading","img","link","list","listbox","listitem","main","menu","menubar","menuitem","navigation","progressbar","radio","radiogroup","region","row","rowheader","search","slider","spinbutton","status","tab","tablist","tabpanel","textbox","toolbar","tooltip","tree","treegrid","treeitem"];return n.forEach(o=>{const c=o.getAttribute("role");c&&!i.includes(c)&&e.push(`Invalid ARIA role: ${c} on element ${o.tagName}`)}),s.querySelectorAll("[aria-labelledby]").forEach(o=>{(o.getAttribute("aria-labelledby")?.split(" ")||[]).forEach(l=>{document.getElementById(l)||t.push(`aria-labelledby references non-existent ID: ${l}`)})}),s.querySelectorAll("[aria-describedby]").forEach(o=>{(o.getAttribute("aria-describedby")?.split(" ")||[]).forEach(l=>{document.getElementById(l)||t.push(`aria-describedby references non-existent ID: ${l}`)})}),{errors:e,warnings:t}},Lk=(s={})=>{const{enableValidation:e=!0,enableAutoLabeling:t=!0,announceRouteChanges:n=!0}=s;return V.useEffect(()=>{if(Ak(),t){const i=setInterval(()=>{Vk()},5e3);return()=>clearInterval(i)}},[t]),V.useEffect(()=>{if(e){const i=setInterval(()=>{const{errors:r,warnings:a}=Mk();r.length>0&&console.error("ARIA Validation Errors:",r),a.length>0&&console.warn("ARIA Validation Warnings:",a)},1e4);return()=>clearInterval(i)}},[e]),V.useEffect(()=>{if(n){const i=new MutationObserver(r=>{r.forEach(a=>{if(a.type==="childList"&&a.target===document.body){const o=document.title;Xr(`Navigated to: ${o}`,"polite",1e3)}})});return i.observe(document.body,{childList:!0,subtree:!0}),()=>i.disconnect()}},[n]),V.useEffect(()=>{const i=r=>{if((r.ctrlKey||r.metaKey)&&r.key==="/"){r.preventDefault();const a=new CustomEvent("showKeyboardShortcuts");window.dispatchEvent(a)}r.key==="Escape"&&document.querySelector('[role="dialog"][aria-modal="true"]')&&Xr("Modal closed","polite")};return document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i)},[]),{announceMessage:Xr}},me=s=>typeof s=="string",fn=()=>{let s,e;const t=new Promise((n,i)=>{s=n,e=i});return t.resolve=s,t.reject=e,t},vl=s=>s==null?"":""+s,Ok=(s,e,t)=>{s.forEach(n=>{e[n]&&(t[n]=e[n])})},Ik=/###/g,kl=s=>s&&s.indexOf("###")>-1?s.replace(Ik,"."):s,Nl=s=>!s||me(s),Pn=(s,e,t)=>{const n=me(e)?e.split("."):e;let i=0;for(;i<n.length-1;){if(Nl(s))return{};const r=kl(n[i]);!s[r]&&t&&(s[r]=new t),Object.prototype.hasOwnProperty.call(s,r)?s=s[r]:s={},++i}return Nl(s)?{}:{obj:s,k:kl(n[i])}},wl=(s,e,t)=>{const{obj:n,k:i}=Pn(s,e,Object);if(n!==void 0||e.length===1){n[i]=t;return}let r=e[e.length-1],a=e.slice(0,e.length-1),o=Pn(s,a,Object);for(;o.obj===void 0&&a.length;)r=`${a[a.length-1]}.${r}`,a=a.slice(0,a.length-1),o=Pn(s,a,Object),o?.obj&&typeof o.obj[`${o.k}.${r}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${r}`]=t},Rk=(s,e,t,n)=>{const{obj:i,k:r}=Pn(s,e,Object);i[r]=i[r]||[],i[r].push(t)},$i=(s,e)=>{const{obj:t,k:n}=Pn(s,e);if(t&&Object.prototype.hasOwnProperty.call(t,n))return t[n]},Uk=(s,e,t)=>{const n=$i(s,t);return n!==void 0?n:$i(e,t)},qd=(s,e,t)=>{for(const n in e)n!=="__proto__"&&n!=="constructor"&&(n in s?me(s[n])||s[n]instanceof String||me(e[n])||e[n]instanceof String?t&&(s[n]=e[n]):qd(s[n],e[n],t):s[n]=e[n]);return s},Is=s=>s.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Fk={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const zk=s=>me(s)?s.replace(/[&<>"'\/]/g,e=>Fk[e]):s;class Bk{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}const Wk=[" ",",","?","!",";"],$k=new Bk(20),Hk=(s,e,t)=>{e=e||"",t=t||"";const n=Wk.filter(a=>e.indexOf(a)<0&&t.indexOf(a)<0);if(n.length===0)return!0;const i=$k.getRegExp(`(${n.map(a=>a==="?"?"\\?":a).join("|")})`);let r=!i.test(s);if(!r){const a=s.indexOf(t);a>0&&!i.test(s.substring(0,a))&&(r=!0)}return r},Va=(s,e,t=".")=>{if(!s)return;if(s[e])return Object.prototype.hasOwnProperty.call(s,e)?s[e]:void 0;const n=e.split(t);let i=s;for(let r=0;r<n.length;){if(!i||typeof i!="object")return;let a,o="";for(let c=r;c<n.length;++c)if(c!==r&&(o+=t),o+=n[c],a=i[o],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&c<n.length-1)continue;r+=c-r+1;break}i=a}return i},In=s=>s?.replace("_","-"),Yk={type:"logger",log(s){this.output("log",s)},warn(s){this.output("warn",s)},error(s){this.output("error",s)},output(s,e){console?.[s]?.apply?.(console,e)}};class Hi{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||Yk,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,n,i){return i&&!this.debug?null:(me(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new Hi(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Hi(this.logger,e)}}var jt=new Hi;class lr{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const i=this.observers[n].get(t)||0;this.observers[n].set(t,i+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e,...t){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,r])=>{for(let a=0;a<r;a++)i(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,r])=>{for(let a=0;a<r;a++)i.apply(i,[e,...t])})}}class Dl extends lr{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,n,i={}){const r=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,a=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;e.indexOf(".")>-1?o=e.split("."):(o=[e,t],n&&(Array.isArray(n)?o.push(...n):me(n)&&r?o.push(...n.split(r)):o.push(n)));const c=$i(this.data,o);return!c&&!t&&!n&&e.indexOf(".")>-1&&(e=o[0],t=o[1],n=o.slice(2).join(".")),c||!a||!me(n)?c:Va(this.data?.[e]?.[t],n,r)}addResource(e,t,n,i,r={silent:!1}){const a=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let o=[e,t];n&&(o=o.concat(a?n.split(a):n)),e.indexOf(".")>-1&&(o=e.split("."),i=t,t=o[1]),this.addNamespaces(t),wl(this.data,o,i),r.silent||this.emit("added",e,t,n,i)}addResources(e,t,n,i={silent:!1}){for(const r in n)(me(n[r])||Array.isArray(n[r]))&&this.addResource(e,t,r,n[r],{silent:!0});i.silent||this.emit("added",e,t,n)}addResourceBundle(e,t,n,i,r,a={silent:!1,skipCopy:!1}){let o=[e,t];e.indexOf(".")>-1&&(o=e.split("."),i=n,n=t,t=o[1]),this.addNamespaces(t);let c=$i(this.data,o)||{};a.skipCopy||(n=JSON.parse(JSON.stringify(n))),i?qd(c,n,r):c={...c,...n},wl(this.data,o,c),a.silent||this.emit("added",e,t,n)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(i=>t[i]&&Object.keys(t[i]).length>0)}toJSON(){return this.data}}var Kd={processors:{},addPostProcessor(s){this.processors[s.name]=s},handle(s,e,t,n,i){return s.forEach(r=>{e=this.processors[r]?.process(e,t,n,i)??e}),e}};const Gd=Symbol("i18next/PATH_KEY");function qk(){const s=[],e=Object.create(null);let t;return e.get=(n,i)=>(t?.revoke?.(),i===Gd?s:(s.push(i),t=Proxy.revocable(n,e),t.proxy)),Proxy.revocable(Object.create(null),e).proxy}function Ma(s,e){const{[Gd]:t}=s(qk());return t.join(e?.keySeparator??".")}const Cl={},El=s=>!me(s)&&typeof s!="boolean"&&typeof s!="number";class Yi extends lr{constructor(e,t={}){super(),Ok(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=jt.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const n={...t};return e==null?!1:this.resolve(e,n)?.res!==void 0}extractFromKey(e,t){let n=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const i=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let r=t.ns||this.options.defaultNS||[];const a=n&&e.indexOf(n)>-1,o=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!Hk(e,n,i);if(a&&!o){const c=e.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:e,namespaces:me(r)?[r]:r};const l=e.split(n);(n!==i||n===i&&this.options.ns.indexOf(l[0])>-1)&&(r=l.shift()),e=l.join(i)}return{key:e,namespaces:me(r)?[r]:r}}translate(e,t,n){let i=typeof t=="object"?{...t}:t;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof i=="object"&&(i={...i}),i||(i={}),e==null)return"";typeof e=="function"&&(e=Ma(e,{...this.options,...i})),Array.isArray(e)||(e=[String(e)]);const r=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:o,namespaces:c}=this.extractFromKey(e[e.length-1],i),l=c[c.length-1];let u=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;u===void 0&&(u=":");const m=i.lng||this.language,f=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(m?.toLowerCase()==="cimode")return f?r?{res:`${l}${u}${o}`,usedKey:o,exactUsedKey:o,usedLng:m,usedNS:l,usedParams:this.getUsedParamsDetails(i)}:`${l}${u}${o}`:r?{res:o,usedKey:o,exactUsedKey:o,usedLng:m,usedNS:l,usedParams:this.getUsedParamsDetails(i)}:o;const h=this.resolve(e,i);let p=h?.res;const g=h?.usedKey||o,y=h?.exactUsedKey||o,k=["[object Number]","[object Function]","[object RegExp]"],D=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,j=!this.i18nFormat||this.i18nFormat.handleAsObject,S=i.count!==void 0&&!me(i.count),v=Yi.hasDefaultValue(i),N=S?this.pluralResolver.getSuffix(m,i.count,i):"",C=i.ordinal&&S?this.pluralResolver.getSuffix(m,i.count,{ordinal:!1}):"",w=S&&!i.ordinal&&i.count===0,T=w&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${N}`]||i[`defaultValue${C}`]||i.defaultValue;let _=p;j&&!p&&v&&(_=T);const L=El(_),O=Object.prototype.toString.apply(_);if(j&&_&&L&&k.indexOf(O)<0&&!(me(D)&&Array.isArray(_))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const M=this.options.returnedObjectHandler?this.options.returnedObjectHandler(g,_,{...i,ns:c}):`key '${o} (${this.language})' returned an object instead of string.`;return r?(h.res=M,h.usedParams=this.getUsedParamsDetails(i),h):M}if(a){const M=Array.isArray(_),H=M?[]:{},ne=M?y:g;for(const q in _)if(Object.prototype.hasOwnProperty.call(_,q)){const se=`${ne}${a}${q}`;v&&!p?H[q]=this.translate(se,{...i,defaultValue:El(T)?T[q]:void 0,joinArrays:!1,ns:c}):H[q]=this.translate(se,{...i,joinArrays:!1,ns:c}),H[q]===se&&(H[q]=_[q])}p=H}}else if(j&&me(D)&&Array.isArray(p))p=p.join(D),p&&(p=this.extendTranslation(p,e,i,n));else{let M=!1,H=!1;!this.isValidLookup(p)&&v&&(M=!0,p=T),this.isValidLookup(p)||(H=!0,p=o);const q=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&H?void 0:p,se=v&&T!==p&&this.options.updateMissing;if(H||M||se){if(this.logger.log(se?"updateKey":"missingKey",m,l,o,se?T:p),a){const R=this.resolve(o,{...i,keySeparator:!1});R&&R.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let z=[];const ke=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ke&&ke[0])for(let R=0;R<ke.length;R++)z.push(ke[R]);else this.options.saveMissingTo==="all"?z=this.languageUtils.toResolveHierarchy(i.lng||this.language):z.push(i.lng||this.language);const I=(R,X,G)=>{const Y=v&&G!==p?G:q;this.options.missingKeyHandler?this.options.missingKeyHandler(R,l,X,Y,se,i):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(R,l,X,Y,se,i),this.emit("missingKey",R,l,X,p)};this.options.saveMissing&&(this.options.saveMissingPlurals&&S?z.forEach(R=>{const X=this.pluralResolver.getSuffixes(R,i);w&&i[`defaultValue${this.options.pluralSeparator}zero`]&&X.indexOf(`${this.options.pluralSeparator}zero`)<0&&X.push(`${this.options.pluralSeparator}zero`),X.forEach(G=>{I([R],o+G,i[`defaultValue${G}`]||T)})}):I(z,o,T))}p=this.extendTranslation(p,e,i,h,n),H&&p===o&&this.options.appendNamespaceToMissingKey&&(p=`${l}${u}${o}`),(H||M)&&this.options.parseMissingKeyHandler&&(p=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}${u}${o}`:o,M?p:void 0,i))}return r?(h.res=p,h.usedParams=this.getUsedParamsDetails(i),h):p}extendTranslation(e,t,n,i,r){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const c=me(e)&&(n?.interpolation?.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let l;if(c){const m=e.match(this.interpolator.nestingRegexp);l=m&&m.length}let u=n.replace&&!me(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(u={...this.options.interpolation.defaultVariables,...u}),e=this.interpolator.interpolate(e,u,n.lng||this.language||i.usedLng,n),c){const m=e.match(this.interpolator.nestingRegexp),f=m&&m.length;l<f&&(n.nest=!1)}!n.lng&&i&&i.res&&(n.lng=this.language||i.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,(...m)=>r?.[0]===m[0]&&!n.context?(this.logger.warn(`It seems you are nesting recursively key: ${m[0]} in key: ${t[0]}`),null):this.translate(...m,t),n)),n.interpolation&&this.interpolator.reset()}const a=n.postProcess||this.options.postProcess,o=me(a)?[a]:a;return e!=null&&o?.length&&n.applyPostProcessor!==!1&&(e=Kd.handle(o,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e,t={}){let n,i,r,a,o;return me(e)&&(e=[e]),e.forEach(c=>{if(this.isValidLookup(n))return;const l=this.extractFromKey(c,t),u=l.key;i=u;let m=l.namespaces;this.options.fallbackNS&&(m=m.concat(this.options.fallbackNS));const f=t.count!==void 0&&!me(t.count),h=f&&!t.ordinal&&t.count===0,p=t.context!==void 0&&(me(t.context)||typeof t.context=="number")&&t.context!=="",g=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);m.forEach(y=>{this.isValidLookup(n)||(o=y,!Cl[`${g[0]}-${y}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(o)&&(Cl[`${g[0]}-${y}`]=!0,this.logger.warn(`key "${i}" for languages "${g.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),g.forEach(k=>{if(this.isValidLookup(n))return;a=k;const D=[u];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(D,u,k,y,t);else{let S;f&&(S=this.pluralResolver.getSuffix(k,t.count,t));const v=`${this.options.pluralSeparator}zero`,N=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(f&&(t.ordinal&&S.indexOf(N)===0&&D.push(u+S.replace(N,this.options.pluralSeparator)),D.push(u+S),h&&D.push(u+v)),p){const C=`${u}${this.options.contextSeparator||"_"}${t.context}`;D.push(C),f&&(t.ordinal&&S.indexOf(N)===0&&D.push(C+S.replace(N,this.options.pluralSeparator)),D.push(C+S),h&&D.push(C+v))}}let j;for(;j=D.pop();)this.isValidLookup(n)||(r=j,n=this.getResource(k,y,j,t))}))})}),{res:n,usedKey:i,exactUsedKey:r,usedLng:a,usedNS:o}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,n,i={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,t,n,i):this.resourceStore.getResource(e,t,n,i)}getUsedParamsDetails(e={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!me(e.replace);let i=n?e.replace:e;if(n&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!n){i={...i};for(const r of t)delete i[r]}return i}static hasDefaultValue(e){const t="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,t.length)&&e[n]!==void 0)return!0;return!1}}class Pl{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=jt.create("languageUtils")}getScriptPartFromCode(e){if(e=In(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=In(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(me(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(n=>{if(t)return;const i=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(i))&&(t=i)}),!t&&this.options.supportedLngs&&e.forEach(n=>{if(t)return;const i=this.getScriptPartFromCode(n);if(this.isSupportedCode(i))return t=i;const r=this.getLanguagePartFromCode(n);if(this.isSupportedCode(r))return t=r;t=this.options.supportedLngs.find(a=>{if(a===r)return a;if(!(a.indexOf("-")<0&&r.indexOf("-")<0)&&(a.indexOf("-")>0&&r.indexOf("-")<0&&a.substring(0,a.indexOf("-"))===r||a.indexOf(r)===0&&r.length>1))return a})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),me(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}toResolveHierarchy(e,t){const n=this.getFallbackCodes((t===!1?[]:t)||this.options.fallbackLng||[],e),i=[],r=a=>{a&&(this.isSupportedCode(a)?i.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return me(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&r(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&r(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&r(this.getLanguagePartFromCode(e))):me(e)&&r(this.formatLanguageCode(e)),n.forEach(a=>{i.indexOf(a)<0&&r(this.formatLanguageCode(a))}),i}}const Sl={zero:0,one:1,two:2,few:3,many:4,other:5},jl={select:s=>s===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Kk{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=jt.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){const n=In(e==="dev"?"en":e),i=t.ordinal?"ordinal":"cardinal",r=JSON.stringify({cleanedCode:n,type:i});if(r in this.pluralRulesCache)return this.pluralRulesCache[r];let a;try{a=new Intl.PluralRules(n,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),jl;if(!e.match(/-|_/))return jl;const c=this.languageUtils.getLanguagePartFromCode(e);a=this.getRule(c,t)}return this.pluralRulesCache[r]=a,a}needsPlural(e,t={}){let n=this.getRule(e,t);return n||(n=this.getRule("dev",t)),n?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,t,n={}){return this.getSuffixes(e,n).map(i=>`${t}${i}`)}getSuffixes(e,t={}){let n=this.getRule(e,t);return n||(n=this.getRule("dev",t)),n?n.resolvedOptions().pluralCategories.sort((i,r)=>Sl[i]-Sl[r]).map(i=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,t,n={}){const i=this.getRule(e,n);return i?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,n))}}const _l=(s,e,t,n=".",i=!0)=>{let r=Uk(s,e,t);return!r&&i&&me(t)&&(r=Va(s,t,n),r===void 0&&(r=Va(e,t,n))),r},Jr=s=>s.replace(/\$/g,"$$$$");class Gk{constructor(e={}){this.logger=jt.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(t=>t),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:n,useRawValueToEscape:i,prefix:r,prefixEscaped:a,suffix:o,suffixEscaped:c,formatSeparator:l,unescapeSuffix:u,unescapePrefix:m,nestingPrefix:f,nestingPrefixEscaped:h,nestingSuffix:p,nestingSuffixEscaped:g,nestingOptionsSeparator:y,maxReplaces:k,alwaysFormat:D}=e.interpolation;this.escape=t!==void 0?t:zk,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=r?Is(r):a||"{{",this.suffix=o?Is(o):c||"}}",this.formatSeparator=l||",",this.unescapePrefix=u?"":m||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=f?Is(f):h||Is("$t("),this.nestingSuffix=p?Is(p):g||Is(")"),this.nestingOptionsSeparator=y||",",this.maxReplaces=k||1e3,this.alwaysFormat=D!==void 0?D:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,n)=>t?.source===n?(t.lastIndex=0,t):new RegExp(n,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,t,n,i){let r,a,o;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},l=h=>{if(h.indexOf(this.formatSeparator)<0){const k=_l(t,c,h,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(k,void 0,n,{...i,...t,interpolationkey:h}):k}const p=h.split(this.formatSeparator),g=p.shift().trim(),y=p.join(this.formatSeparator).trim();return this.format(_l(t,c,g,this.options.keySeparator,this.options.ignoreJSONStructure),y,n,{...i,...t,interpolationkey:g})};this.resetRegExp();const u=i?.missingInterpolationHandler||this.options.missingInterpolationHandler,m=i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:h=>Jr(h)},{regex:this.regexp,safeValue:h=>this.escapeValue?Jr(this.escape(h)):Jr(h)}].forEach(h=>{for(o=0;r=h.regex.exec(e);){const p=r[1].trim();if(a=l(p),a===void 0)if(typeof u=="function"){const y=u(e,r,i);a=me(y)?y:""}else if(i&&Object.prototype.hasOwnProperty.call(i,p))a="";else if(m){a=r[0];continue}else this.logger.warn(`missed to pass in variable ${p} for interpolating ${e}`),a="";else!me(a)&&!this.useRawValueToEscape&&(a=vl(a));const g=h.safeValue(a);if(e=e.replace(r[0],g),m?(h.regex.lastIndex+=a.length,h.regex.lastIndex-=r[0].length):h.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),e}nest(e,t,n={}){let i,r,a;const o=(c,l)=>{const u=this.nestingOptionsSeparator;if(c.indexOf(u)<0)return c;const m=c.split(new RegExp(`${u}[ ]*{`));let f=`{${m[1]}`;c=m[0],f=this.interpolate(f,a);const h=f.match(/'/g),p=f.match(/"/g);((h?.length??0)%2===0&&!p||p.length%2!==0)&&(f=f.replace(/'/g,'"'));try{a=JSON.parse(f),l&&(a={...l,...a})}catch(g){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,g),`${c}${u}${f}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,c};for(;i=this.nestingRegexp.exec(e);){let c=[];a={...n},a=a.replace&&!me(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;const l=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(l!==-1&&(c=i[1].slice(l).split(this.formatSeparator).map(u=>u.trim()).filter(Boolean),i[1]=i[1].slice(0,l)),r=t(o.call(this,i[1].trim(),a),a),r&&i[0]===e&&!me(r))return r;me(r)||(r=vl(r)),r||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),r=""),c.length&&(r=c.reduce((u,m)=>this.format(u,m,n.lng,{...n,interpolationkey:i[1].trim()}),r.trim())),e=e.replace(i[0],r),this.regexp.lastIndex=0}return e}}const Qk=s=>{let e=s.toLowerCase().trim();const t={};if(s.indexOf("(")>-1){const n=s.split("(");e=n[0].toLowerCase().trim();const i=n[1].substring(0,n[1].length-1);e==="currency"&&i.indexOf(":")<0?t.currency||(t.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?t.range||(t.range=i.trim()):i.split(";").forEach(a=>{if(a){const[o,...c]=a.split(":"),l=c.join(":").trim().replace(/^'+|'+$/g,""),u=o.trim();t[u]||(t[u]=l),l==="false"&&(t[u]=!1),l==="true"&&(t[u]=!0),isNaN(l)||(t[u]=parseInt(l,10))}})}return{formatName:e,formatOptions:t}},Tl=s=>{const e={};return(t,n,i)=>{let r=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(r={...r,[i.interpolationkey]:void 0});const a=n+JSON.stringify(r);let o=e[a];return o||(o=s(In(n),i),e[a]=o),o(t)}},Xk=s=>(e,t,n)=>s(In(t),n)(e);class Jk{constructor(e={}){this.logger=jt.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const n=t.cacheInBuiltFormats?Tl:Xk;this.formats={number:n((i,r)=>{const a=new Intl.NumberFormat(i,{...r});return o=>a.format(o)}),currency:n((i,r)=>{const a=new Intl.NumberFormat(i,{...r,style:"currency"});return o=>a.format(o)}),datetime:n((i,r)=>{const a=new Intl.DateTimeFormat(i,{...r});return o=>a.format(o)}),relativetime:n((i,r)=>{const a=new Intl.RelativeTimeFormat(i,{...r});return o=>a.format(o,r.range||"day")}),list:n((i,r)=>{const a=new Intl.ListFormat(i,{...r});return o=>a.format(o)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=Tl(t)}format(e,t,n,i={}){const r=t.split(this.formatSeparator);if(r.length>1&&r[0].indexOf("(")>1&&r[0].indexOf(")")<0&&r.find(o=>o.indexOf(")")>-1)){const o=r.findIndex(c=>c.indexOf(")")>-1);r[0]=[r[0],...r.splice(1,o)].join(this.formatSeparator)}return r.reduce((o,c)=>{const{formatName:l,formatOptions:u}=Qk(c);if(this.formats[l]){let m=o;try{const f=i?.formatParams?.[i.interpolationkey]||{},h=f.locale||f.lng||i.locale||i.lng||n;m=this.formats[l](o,h,{...u,...i,...f})}catch(f){this.logger.warn(f)}return m}else this.logger.warn(`there was no format function for ${l}`);return o},e)}}const Zk=(s,e)=>{s.pending[e]!==void 0&&(delete s.pending[e],s.pendingCount--)};class eN extends lr{constructor(e,t,n,i={}){super(),this.backend=e,this.store=t,this.services=n,this.languageUtils=n.languageUtils,this.options=i,this.logger=jt.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(n,i.backend,i)}queueLoad(e,t,n,i){const r={},a={},o={},c={};return e.forEach(l=>{let u=!0;t.forEach(m=>{const f=`${l}|${m}`;!n.reload&&this.store.hasResourceBundle(l,m)?this.state[f]=2:this.state[f]<0||(this.state[f]===1?a[f]===void 0&&(a[f]=!0):(this.state[f]=1,u=!1,a[f]===void 0&&(a[f]=!0),r[f]===void 0&&(r[f]=!0),c[m]===void 0&&(c[m]=!0)))}),u||(o[l]=!0)}),(Object.keys(r).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(r),pending:Object.keys(a),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(c)}}loaded(e,t,n){const i=e.split("|"),r=i[0],a=i[1];t&&this.emit("failedLoading",r,a,t),!t&&n&&this.store.addResourceBundle(r,a,n,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&n&&(this.state[e]=0);const o={};this.queue.forEach(c=>{Rk(c.loaded,[r],a),Zk(c,e),t&&c.errors.push(t),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(l=>{o[l]||(o[l]={});const u=c.loaded[l];u.length&&u.forEach(m=>{o[l][m]===void 0&&(o[l][m]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(c=>!c.done)}read(e,t,n,i=0,r=this.retryTimeout,a){if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:n,tried:i,wait:r,callback:a});return}this.readingCalls++;const o=(l,u)=>{if(this.readingCalls--,this.waitingReads.length>0){const m=this.waitingReads.shift();this.read(m.lng,m.ns,m.fcName,m.tried,m.wait,m.callback)}if(l&&u&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,n,i+1,r*2,a)},r);return}a(l,u)},c=this.backend[n].bind(this.backend);if(c.length===2){try{const l=c(e,t);l&&typeof l.then=="function"?l.then(u=>o(null,u)).catch(o):o(null,l)}catch(l){o(l)}return}return c(e,t,o)}prepareLoading(e,t,n={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();me(e)&&(e=this.languageUtils.toResolveHierarchy(e)),me(t)&&(t=[t]);const r=this.queueLoad(e,t,n,i);if(!r.toLoad.length)return r.pending.length||i(),null;r.toLoad.forEach(a=>{this.loadOne(a)})}load(e,t,n){this.prepareLoading(e,t,{},n)}reload(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}loadOne(e,t=""){const n=e.split("|"),i=n[0],r=n[1];this.read(i,r,"read",void 0,void 0,(a,o)=>{a&&this.logger.warn(`${t}loading namespace ${r} for language ${i} failed`,a),!a&&o&&this.logger.log(`${t}loaded namespace ${r} for language ${i}`,o),this.loaded(e,a,o)})}saveMissing(e,t,n,i,r,a={},o=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${n}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if(this.backend?.create){const c={...a,isUpdate:r},l=this.backend.create.bind(this.backend);if(l.length<6)try{let u;l.length===5?u=l(e,t,n,i,c):u=l(e,t,n,i),u&&typeof u.then=="function"?u.then(m=>o(null,m)).catch(o):o(null,u)}catch(u){o(u)}else l(e,t,n,i,o,c)}!e||!e[0]||this.store.addResource(e[0],t,n,i)}}}const Al=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:s=>{let e={};if(typeof s[1]=="object"&&(e=s[1]),me(s[1])&&(e.defaultValue=s[1]),me(s[2])&&(e.tDescription=s[2]),typeof s[2]=="object"||typeof s[3]=="object"){const t=s[3]||s[2];Object.keys(t).forEach(n=>{e[n]=t[n]})}return e},interpolation:{escapeValue:!0,format:s=>s,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Vl=s=>(me(s.ns)&&(s.ns=[s.ns]),me(s.fallbackLng)&&(s.fallbackLng=[s.fallbackLng]),me(s.fallbackNS)&&(s.fallbackNS=[s.fallbackNS]),s.supportedLngs?.indexOf?.("cimode")<0&&(s.supportedLngs=s.supportedLngs.concat(["cimode"])),typeof s.initImmediate=="boolean"&&(s.initAsync=s.initImmediate),s),Di=()=>{},tN=s=>{Object.getOwnPropertyNames(Object.getPrototypeOf(s)).forEach(t=>{typeof s[t]=="function"&&(s[t]=s[t].bind(s))})};class Rn extends lr{constructor(e={},t){if(super(),this.options=Vl(e),this.services={},this.logger=jt,this.modules={external:[]},tN(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,typeof e=="function"&&(t=e,e={}),e.defaultNS==null&&e.ns&&(me(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const n=Al();this.options={...n,...this.options,...Vl(e)},this.options.interpolation={...n.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const i=l=>l?typeof l=="function"?new l:l:null;if(!this.options.isClone){this.modules.logger?jt.init(i(this.modules.logger),this.options):jt.init(null,this.options);let l;this.modules.formatter?l=this.modules.formatter:l=Jk;const u=new Pl(this.options);this.store=new Dl(this.options.resources,this.options);const m=this.services;m.logger=jt,m.resourceStore=this.store,m.languageUtils=u,m.pluralResolver=new Kk(u,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),l&&(!this.options.interpolation.format||this.options.interpolation.format===n.interpolation.format)&&(m.formatter=i(l),m.formatter.init&&m.formatter.init(m,this.options),this.options.interpolation.format=m.formatter.format.bind(m.formatter)),m.interpolator=new Gk(this.options),m.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},m.backendConnector=new eN(i(this.modules.backend),m.resourceStore,m,this.options),m.backendConnector.on("*",(h,...p)=>{this.emit(h,...p)}),this.modules.languageDetector&&(m.languageDetector=i(this.modules.languageDetector),m.languageDetector.init&&m.languageDetector.init(m,this.options.detection,this.options)),this.modules.i18nFormat&&(m.i18nFormat=i(this.modules.i18nFormat),m.i18nFormat.init&&m.i18nFormat.init(this)),this.translator=new Yi(this.services,this.options),this.translator.on("*",(h,...p)=>{this.emit(h,...p)}),this.modules.external.forEach(h=>{h.init&&h.init(this)})}if(this.format=this.options.interpolation.format,t||(t=Di),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const l=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);l.length>0&&l[0]!=="dev"&&(this.options.lng=l[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(l=>{this[l]=(...u)=>this.store[l](...u)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(l=>{this[l]=(...u)=>(this.store[l](...u),this)});const o=fn(),c=()=>{const l=(u,m)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),o.resolve(m),t(u,m)};if(this.languages&&!this.isInitialized)return l(null,this.t.bind(this));this.changeLanguage(this.options.lng,l)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),o}loadResources(e,t=Di){let n=t;const i=me(e)?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(i?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const r=[],a=o=>{if(!o||o==="cimode")return;this.services.languageUtils.toResolveHierarchy(o).forEach(l=>{l!=="cimode"&&r.indexOf(l)<0&&r.push(l)})};i?a(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>a(c)),this.options.preload?.forEach?.(o=>a(o)),this.services.backendConnector.load(r,this.options.ns,o=>{!o&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(o)})}else n(null)}reloadResources(e,t,n){const i=fn();return typeof e=="function"&&(n=e,e=void 0),typeof t=="function"&&(n=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),n||(n=Di),this.services.backendConnector.reload(e,t,r=>{i.resolve(),n(r)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Kd.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let t=0;t<this.languages.length;t++){const n=this.languages[t];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;const n=fn();this.emit("languageChanging",e);const i=o=>{this.language=o,this.languages=this.services.languageUtils.toResolveHierarchy(o),this.resolvedLanguage=void 0,this.setResolvedLanguage(o)},r=(o,c)=>{c?this.isLanguageChangingTo===e&&(i(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,n.resolve((...l)=>this.t(...l)),t&&t(o,(...l)=>this.t(...l))},a=o=>{!e&&!o&&this.services.languageDetector&&(o=[]);const c=me(o)?o:o&&o[0],l=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(me(o)?[o]:o);l&&(this.language||i(l),this.translator.language||this.translator.changeLanguage(l),this.services.languageDetector?.cacheUserLanguage?.(l)),this.loadResources(l,u=>{r(u,l)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),n}getFixedT(e,t,n){const i=(r,a,...o)=>{let c;typeof a!="object"?c=this.options.overloadTranslationOptionHandler([r,a].concat(o)):c={...a},c.lng=c.lng||i.lng,c.lngs=c.lngs||i.lngs,c.ns=c.ns||i.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||n||i.keyPrefix);const l=this.options.keySeparator||".";let u;return c.keyPrefix&&Array.isArray(r)?u=r.map(m=>(typeof m=="function"&&(m=Ma(m,{...this.options,...a})),`${c.keyPrefix}${l}${m}`)):(typeof r=="function"&&(r=Ma(r,{...this.options,...a})),u=c.keyPrefix?`${c.keyPrefix}${l}${r}`:r),this.t(u,c)};return me(e)?i.lng=e:i.lngs=e,i.ns=t,i.keyPrefix=n,i}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=t.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,r=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const a=(o,c)=>{const l=this.services.backendConnector.state[`${o}|${c}`];return l===-1||l===0||l===2};if(t.precheck){const o=t.precheck(this,a);if(o!==void 0)return o}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(n,e)&&(!i||a(r,e)))}loadNamespaces(e,t){const n=fn();return this.options.ns?(me(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{n.resolve(),t&&t(i)}),n):(t&&t(),Promise.resolve())}loadLanguages(e,t){const n=fn();me(e)&&(e=[e]);const i=this.options.preload||[],r=e.filter(a=>i.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return r.length?(this.options.preload=i.concat(r),this.loadResources(a=>{n.resolve(),t&&t(a)}),n):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const i=new Intl.Locale(e);if(i&&i.getTextInfo){const r=i.getTextInfo();if(r&&r.direction)return r.direction}}catch{}const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=this.services?.languageUtils||new Pl(Al());return e.toLowerCase().indexOf("-latn")>1?"ltr":t.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){return new Rn(e,t)}cloneInstance(e={},t=Di){const n=e.forkResourceStore;n&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},r=new Rn(i);if((e.debug!==void 0||e.prefix!==void 0)&&(r.logger=r.logger.clone(e)),["store","services","language"].forEach(o=>{r[o]=this[o]}),r.services={...this.services},r.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},n){const o=Object.keys(this.store.data).reduce((c,l)=>(c[l]={...this.store.data[l]},c[l]=Object.keys(c[l]).reduce((u,m)=>(u[m]={...c[l][m]},u),c[l]),c),{});r.store=new Dl(o,i),r.services.resourceStore=r.store}return r.translator=new Yi(r.services,i),r.translator.on("*",(o,...c)=>{r.emit(o,...c)}),r.init(i,t),r.translator.options=i,r.translator.backendConnector.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},r}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Ze=Rn.createInstance();Ze.createInstance=Rn.createInstance;Ze.createInstance;Ze.dir;Ze.init;Ze.loadResources;Ze.reloadResources;Ze.use;Ze.changeLanguage;Ze.getFixedT;Ze.t;Ze.exists;Ze.setDefaultNamespace;Ze.hasLoadedNamespace;Ze.loadNamespaces;Ze.loadLanguages;const{slice:sN,forEach:nN}=[];function iN(s){return nN.call(sN.call(arguments,1),e=>{if(e)for(const t in e)s[t]===void 0&&(s[t]=e[t])}),s}function rN(s){return typeof s!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(t=>t.test(s))}const Ml=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,aN=function(s,e){const n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},i=encodeURIComponent(e);let r=`${s}=${i}`;if(n.maxAge>0){const a=n.maxAge-0;if(Number.isNaN(a))throw new Error("maxAge should be a Number");r+=`; Max-Age=${Math.floor(a)}`}if(n.domain){if(!Ml.test(n.domain))throw new TypeError("option domain is invalid");r+=`; Domain=${n.domain}`}if(n.path){if(!Ml.test(n.path))throw new TypeError("option path is invalid");r+=`; Path=${n.path}`}if(n.expires){if(typeof n.expires.toUTCString!="function")throw new TypeError("option expires is invalid");r+=`; Expires=${n.expires.toUTCString()}`}if(n.httpOnly&&(r+="; HttpOnly"),n.secure&&(r+="; Secure"),n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:r+="; SameSite=Strict";break;case"lax":r+="; SameSite=Lax";break;case"strict":r+="; SameSite=Strict";break;case"none":r+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return n.partitioned&&(r+="; Partitioned"),r},Ll={create(s,e,t,n){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};t&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+t*60*1e3)),n&&(i.domain=n),document.cookie=aN(s,e,i)},read(s){const e=`${s}=`,t=document.cookie.split(";");for(let n=0;n<t.length;n++){let i=t[n];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(e)===0)return i.substring(e.length,i.length)}return null},remove(s,e){this.create(s,"",-1,e)}};var oN={name:"cookie",lookup(s){let{lookupCookie:e}=s;if(e&&typeof document<"u")return Ll.read(e)||void 0},cacheUserLanguage(s,e){let{lookupCookie:t,cookieMinutes:n,cookieDomain:i,cookieOptions:r}=e;t&&typeof document<"u"&&Ll.create(t,s,n,i,r)}},cN={name:"querystring",lookup(s){let{lookupQuerystring:e}=s,t;if(typeof window<"u"){let{search:n}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(n=window.location.hash.substring(window.location.hash.indexOf("?")));const r=n.substring(1).split("&");for(let a=0;a<r.length;a++){const o=r[a].indexOf("=");o>0&&r[a].substring(0,o)===e&&(t=r[a].substring(o+1))}}return t}},lN={name:"hash",lookup(s){let{lookupHash:e,lookupFromHashIndex:t}=s,n;if(typeof window<"u"){const{hash:i}=window.location;if(i&&i.length>2){const r=i.substring(1);if(e){const a=r.split("&");for(let o=0;o<a.length;o++){const c=a[o].indexOf("=");c>0&&a[o].substring(0,c)===e&&(n=a[o].substring(c+1))}}if(n)return n;if(!n&&t>-1){const a=i.match(/\/([a-zA-Z-]*)/g);return Array.isArray(a)?a[typeof t=="number"?t:0]?.replace("/",""):void 0}}}return n}};let Rs=null;const Ol=()=>{if(Rs!==null)return Rs;try{if(Rs=typeof window<"u"&&window.localStorage!==null,!Rs)return!1;const s="i18next.translate.boo";window.localStorage.setItem(s,"foo"),window.localStorage.removeItem(s)}catch{Rs=!1}return Rs};var uN={name:"localStorage",lookup(s){let{lookupLocalStorage:e}=s;if(e&&Ol())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(s,e){let{lookupLocalStorage:t}=e;t&&Ol()&&window.localStorage.setItem(t,s)}};let Us=null;const Il=()=>{if(Us!==null)return Us;try{if(Us=typeof window<"u"&&window.sessionStorage!==null,!Us)return!1;const s="i18next.translate.boo";window.sessionStorage.setItem(s,"foo"),window.sessionStorage.removeItem(s)}catch{Us=!1}return Us};var dN={name:"sessionStorage",lookup(s){let{lookupSessionStorage:e}=s;if(e&&Il())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(s,e){let{lookupSessionStorage:t}=e;t&&Il()&&window.sessionStorage.setItem(t,s)}},mN={name:"navigator",lookup(s){const e=[];if(typeof navigator<"u"){const{languages:t,userLanguage:n,language:i}=navigator;if(t)for(let r=0;r<t.length;r++)e.push(t[r]);n&&e.push(n),i&&e.push(i)}return e.length>0?e:void 0}},fN={name:"htmlTag",lookup(s){let{htmlTag:e}=s,t;const n=e||(typeof document<"u"?document.documentElement:null);return n&&typeof n.getAttribute=="function"&&(t=n.getAttribute("lang")),t}},hN={name:"path",lookup(s){let{lookupFromPathIndex:e}=s;if(typeof window>"u")return;const t=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(t)?t[typeof e=="number"?e:0]?.replace("/",""):void 0}},pN={name:"subdomain",lookup(s){let{lookupFromSubdomainIndex:e}=s;const t=typeof e=="number"?e+1:1,n=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(n)return n[t]}};let Qd=!1;try{document.cookie,Qd=!0}catch{}const Xd=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];Qd||Xd.splice(1,1);const gN=()=>({order:Xd,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:s=>s});class Jd{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=iN(t,this.options||{},gN()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=i=>i.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(oN),this.addDetector(cN),this.addDetector(uN),this.addDetector(dN),this.addDetector(mN),this.addDetector(fN),this.addDetector(hN),this.addDetector(pN),this.addDetector(lN)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,t=[];return e.forEach(n=>{if(this.detectors[n]){let i=this.detectors[n].lookup(this.options);i&&typeof i=="string"&&(i=[i]),i&&(t=t.concat(i))}}),t=t.filter(n=>n!=null&&!rN(n)).map(n=>this.options.convertDetectedLanguage(n)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(n=>{this.detectors[n]&&this.detectors[n].cacheUserLanguage(e,this.options)}))}}Jd.type="languageDetector";const bN={save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",loading:"Loading...",error:"Error",success:"Success",yes:"Yes",no:"No",close:"Close",back:"Back",next:"Next",previous:"Previous",export:"Export",import:"Import",print:"Print"},yN={overview:"Overview",comparisons:"Comparisons",heatmap:"Body Heatmap",treatment:"Treatment Timeline",clinical:"Clinical Export"},xN={level:"Pain Level",location:"Location",locations:"Locations",symptoms:"Symptoms",intensity:"Intensity",average:"Average Pain",current:"Current Pain",trend:"Pain Trend",assessment:"Pain Assessment"},vN={title:"Pain Analytics",noData:"No data available",totalEntries:"Total Entries",dateRange:"Date Range",summary:"Summary",details:"Details"},kN={settings:"Accessibility Settings",theme:"Visual Theme",themes:{light:"Light Theme",dark:"Dark Theme",highContrast:"High Contrast"},reducedMotion:"Reduced Motion",enabled:"Enabled",disabled:"Disabled",keyboardTips:"Keyboard Navigation Tips"},NN={common:bN,navigation:yN,pain:xN,analytics:vN,export:{clinical:"Clinical Data Export",visitSummary:"Visit Summary",formats:{standard:"Standard Clinical Export",detailed:"Detailed Comprehensive Export",summary:"Executive Summary Export"}},accessibility:kN},wN={save:"Enregistrer",cancel:"Annuler",delete:"Supprimer",edit:"Modifier",loading:"Chargement...",error:"Erreur",success:"Succs",yes:"Oui",no:"Non",close:"Fermer",back:"Retour",next:"Suivant",previous:"Prcdent",export:"Exporter",import:"Importer",print:"Imprimer"},DN={overview:"Aperu",comparisons:"Comparaisons",heatmap:"Carte thermique corporelle",treatment:"Chronologie des traitements",clinical:"Exportation clinique"},CN={level:"Niveau de douleur",location:"Emplacement",locations:"Emplacements",symptoms:"Symptmes",intensity:"Intensit",average:"Douleur moyenne",current:"Douleur actuelle",trend:"Tendance de la douleur",assessment:"valuation de la douleur"},EN={title:"Analyses de la douleur",noData:"Aucune donne disponible",totalEntries:"Total des entres",dateRange:"Plage de dates",summary:"Rsum",details:"Dtails"},PN={settings:"Paramtres d'accessibilit",theme:"Thme visuel",themes:{light:"Thme clair",dark:"Thme sombre",highContrast:"Contraste lev"},reducedMotion:"Mouvement rduit",enabled:"Activ",disabled:"Dsactiv",keyboardTips:"Conseils de navigation au clavier"},SN={common:wN,navigation:DN,pain:CN,analytics:EN,export:{clinical:"Exportation de donnes cliniques",visitSummary:"Rsum de visite",formats:{standard:"Exportation clinique standard",detailed:"Exportation complte dtaille",summary:"Exportation de rsum excutif"}},accessibility:PN},jN={save:"Guardar",cancel:"Cancelar",delete:"Eliminar",edit:"Editar",loading:"Cargando...",error:"Error",success:"xito",yes:"S",no:"No",close:"Cerrar",back:"Atrs",next:"Siguiente",previous:"Anterior",export:"Exportar",import:"Importar",print:"Imprimir"},_N={overview:"Resumen",comparisons:"Comparaciones",heatmap:"Mapa de calor corporal",treatment:"Cronologa de tratamiento",clinical:"Exportacin clnica"},TN={level:"Nivel de dolor",location:"Ubicacin",locations:"Ubicaciones",symptoms:"Sntomas",intensity:"Intensidad",average:"Dolor promedio",current:"Dolor actual",trend:"Tendencia del dolor",assessment:"Evaluacin del dolor"},AN={title:"Anlisis del dolor",noData:"No hay datos disponibles",totalEntries:"Total de entradas",dateRange:"Rango de fechas",summary:"Resumen",details:"Detalles"},VN={settings:"Configuracin de accesibilidad",theme:"Tema visual",themes:{light:"Tema claro",dark:"Tema oscuro",highContrast:"Alto contraste"},reducedMotion:"Movimiento reducido",enabled:"Habilitado",disabled:"Deshabilitado",keyboardTips:"Consejos de navegacin por teclado"},MN={common:jN,navigation:_N,pain:TN,analytics:AN,export:{clinical:"Exportacin de datos clnicos",visitSummary:"Resumen de visita",formats:{standard:"Exportacin clnica estndar",detailed:"Exportacin detallada completa",summary:"Exportacin de resumen ejecutivo"}},accessibility:VN},LN={en:{translation:NN},fr:{translation:SN},es:{translation:MN}};Ze.use(Jd).use(hk).init({resources:LN,fallbackLng:"en",debug:!0,interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator","htmlTag"],caches:["localStorage"]},react:{useSuspense:!1}});const ON={BASE_URL:"/pain-tracker/",DEV:!0,MODE:"production",PROD:!1,SSR:!1,VITE_USER_NODE_ENV:"development"};class Bs{static instance;installPromptEvent=null;isInstalled=!1;swRegistration=null;isInitialized=!1;capabilities={serviceWorker:!1,pushNotifications:!1,backgroundSync:!1,persistentStorage:!1,installPrompt:!1,fullscreen:!1};constructor(){document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>this.init()):this.init()}static getInstance(){return Bs.instance||(Bs.instance=new Bs),Bs.instance}async init(){this.isInitialized||(console.log("PWA: Initializing PWA Manager"),this.checkInstallStatus(),this.setupInstallPromptListener(),await this.detectCapabilities(),await this.registerServiceWorker(),await this.initializeOfflineStorage(),this.setupOnlineOfflineListeners(),this.setupPerformanceMonitoring(),this.isInitialized=!0,this.dispatchCustomEvent("pwa-initialized",{capabilities:this.capabilities}))}async detectCapabilities(){this.capabilities.serviceWorker="serviceWorker"in navigator,this.capabilities.pushNotifications="Notification"in window&&"PushManager"in window,this.capabilities.backgroundSync="serviceWorker"in navigator&&"sync"in window.ServiceWorkerRegistration.prototype,this.capabilities.installPrompt="BeforeInstallPromptEvent"in window,this.capabilities.fullscreen="requestFullscreen"in document.documentElement,"storage"in navigator&&"persist"in navigator.storage&&(this.capabilities.persistentStorage=await navigator.storage.persist())}getCapabilities(){return{...this.capabilities}}async initializeOfflineStorage(){try{const{offlineStorage:e}=await st(async()=>{const{offlineStorage:t}=await import("./offline-storage-CQ7mII8k.js");return{offlineStorage:t}},[]);if(await e.init(),console.log("PWA: Offline storage initialized"),"storage"in navigator&&"persist"in navigator.storage){const t=await navigator.storage.persist();console.log("PWA: Persistent storage:",t?"granted":"denied"),t&&this.dispatchCustomEvent("pwa-persistent-storage-granted")}}catch(e){console.error("PWA: Failed to initialize offline storage:",e),this.dispatchCustomEvent("pwa-storage-error",{error:e})}}async registerServiceWorker(){if(!this.capabilities.serviceWorker){console.warn("PWA: Service Workers not supported");return}try{const e="/pain-tracker/",t=`${e}sw.js`.replace(/\/+/g,"/");this.swRegistration=await navigator.serviceWorker.register(t,{scope:e,updateViaCache:"none"}),console.log("PWA: Service Worker registered successfully",this.swRegistration),this.swRegistration.addEventListener("updatefound",()=>{const n=this.swRegistration?.installing;n&&n.addEventListener("statechange",()=>{n.state==="installed"&&(navigator.serviceWorker.controller?this.notifyUpdate():this.notifyInstalled())})}),navigator.serviceWorker.addEventListener("message",n=>{this.handleServiceWorkerMessage(n)}),this.capabilities.backgroundSync&&this.setupBackgroundSync(),this.monitorServiceWorkerPerformance()}catch(e){console.error("PWA: Service Worker registration failed:",e),this.dispatchCustomEvent("pwa-sw-registration-failed",{error:e})}}async __test_registerSW(){this.swRegistration||!this.capabilities.serviceWorker||await this.registerServiceWorker()}handleServiceWorkerMessage(e){const{data:t}=e;switch(t.type){case"SW_UPDATE_AVAILABLE":this.dispatchCustomEvent("pwa-update-available");break;case"SW_OFFLINE_FALLBACK":this.dispatchCustomEvent("pwa-offline-fallback",{url:t.url});break;case"SW_CACHE_UPDATED":this.dispatchCustomEvent("pwa-cache-updated",{cacheName:t.cacheName});break;case"SW_SYNC_COMPLETED":this.dispatchCustomEvent("pwa-sync-completed",{stats:t.stats});break}}monitorServiceWorkerPerformance(){if(!this.swRegistration)return;let e=0,t=0;navigator.serviceWorker.addEventListener("message",n=>{n.data.type==="CACHE_HIT"?e++:n.data.type==="CACHE_MISS"&&t++}),setInterval(()=>{const n=e+t;if(n>0){const i=e/n*100;this.dispatchCustomEvent("pwa-cache-performance",{hitRatio:Number(Ia(i,2)),totalRequests:n}),e=0,t=0}},6e4)}setupInstallPromptListener(){window.addEventListener("beforeinstallprompt",e=>{e.preventDefault(),this.installPromptEvent=e,console.log("PWA: Install prompt available"),this.dispatchCustomEvent("pwa-install-available")}),window.addEventListener("appinstalled",()=>{this.isInstalled=!0,this.installPromptEvent=null,console.log("PWA: App installed successfully"),this.dispatchCustomEvent("pwa-installed")})}async showInstallPrompt(){if(!this.installPromptEvent)return!1;try{return await this.installPromptEvent.prompt(),(await this.installPromptEvent.userChoice).outcome==="accepted"?(console.log("PWA: User accepted install prompt"),!0):(console.log("PWA: User dismissed install prompt"),!1)}catch(e){return console.error("PWA: Error showing install prompt:",e),!1}}isInstallPromptAvailable(){return this.installPromptEvent!==null}checkInstallStatus(){window.matchMedia("(display-mode: standalone)").matches&&(this.isInstalled=!0),window.navigator.standalone&&(this.isInstalled=!0)}isAppInstalled(){return this.isInstalled}setupOnlineOfflineListeners(){window.addEventListener("online",async()=>{console.log("PWA: Back online"),await this.handleOnlineStatus(!0),this.dispatchCustomEvent("pwa-online")}),window.addEventListener("offline",()=>{console.log("PWA: Gone offline"),this.handleOnlineStatus(!1),this.dispatchCustomEvent("pwa-offline")}),this.monitorConnectionQuality()}async handleOnlineStatus(e){if(e)try{const{backgroundSync:t}=await st(async()=>{const{backgroundSync:i}=await import("./background-sync-Db6JzLVQ.js");return{backgroundSync:i}},__vite__mapDeps([5,6,2,1,3])),n=t;if(typeof n.forceSync=="function"?await n.forceSync():typeof n.forcSync=="function"&&await n.forcSync(),this.swRegistration?.active&&this.swRegistration.active.postMessage({type:"ONLINE"}),"sync"in this.swRegistration)try{await this.swRegistration.sync.register("pain-tracker-sync")}catch(i){console.error("PWA: Background sync registration failed:",i)}}catch(t){console.error("PWA: Failed to sync data when coming online:",t)}}monitorConnectionQuality(){if("connection"in navigator){const e=navigator.connection,t=()=>{e&&this.dispatchCustomEvent("pwa-connection-change",{effectiveType:e.effectiveType,downlink:e.downlink,rtt:e.rtt,saveData:e.saveData})};e&&typeof e.addEventListener=="function"&&e.addEventListener("change",t),t()}this.startConnectionQualityTests()}startConnectionQualityTests(){setInterval(async()=>{if(!navigator.onLine)return;const e=performance.now();try{const n="/pain-tracker/manifest.json".replace(/\/+/g,"/");await fetch(n,{mode:"cors",cache:"no-cache"});const r=performance.now()-e;this.dispatchCustomEvent("pwa-connection-test",{latency:r,quality:r<100?"good":r<500?"moderate":"poor"})}catch{this.dispatchCustomEvent("pwa-connection-test",{latency:-1,quality:"offline"})}},3e4)}setupPerformanceMonitoring(){"performance"in window&&(window.addEventListener("load",()=>{setTimeout(()=>{const t=performance.getEntriesByType("navigation")[0];this.dispatchCustomEvent("pwa-performance-metrics",{loadTime:t.loadEventEnd-t.fetchStart,domContentLoaded:t.domContentLoadedEventEnd-t.fetchStart,firstPaint:this.getFirstPaint(),cacheHitRatio:this.getCacheHitRatio()})},0)}),new PerformanceObserver(t=>{const i=t.getEntries().filter(r=>r.duration>1e3);i.length>0&&this.dispatchCustomEvent("pwa-slow-resources",{resources:i.map(r=>{const a=r;return{name:r.name,duration:r.duration,size:a.transferSize||0}})})}).observe({type:"resource",buffered:!0}))}getFirstPaint(){const t=performance.getEntriesByType("paint").find(n=>n.name==="first-paint");return t?t.startTime:0}getCacheHitRatio(){const e=Ve.get("pwa-cache-hit-ratio");return parseFloat(e||"0")}isOnline(){return navigator.onLine}async requestNotificationPermission(){return"Notification"in window?Notification.permission==="default"?await Notification.requestPermission():Notification.permission:(console.warn("PWA: This browser does not support notifications"),"denied")}async subscribeToPushNotifications(){if(!this.swRegistration)return console.error("PWA: Service Worker not registered"),null;try{if(await this.requestNotificationPermission()!=="granted")return console.warn("PWA: Notification permission not granted"),null;const t=ON?.VITE_VAPID_PUBLIC_KEY;if(!t)return console.error("PWA: VAPID public key not found"),null;const n=await this.swRegistration.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:this.urlBase64ToUint8Array(t).buffer});return console.log("PWA: Push subscription created:",n),n}catch(e){return console.error("PWA: Failed to subscribe to push notifications:",e),null}}async scheduleNotification(e,t,n){!("Notification"in window)||await this.requestNotificationPermission()!=="granted"||setTimeout(()=>{const r="/pain-tracker/";new Notification(e,{body:t,icon:`${r}icons/icon-192x192.png`.replace(/\/+/g,"/"),badge:`${r}icons/badge-72x72.png`.replace(/\/+/g,"/"),tag:"pain-tracker-reminder",requireInteraction:!0})},n)}setupBackgroundSync(){this.swRegistration&&"sync"in this.swRegistration?console.log("PWA: Background sync is supported"):console.log("PWA: Background sync is not supported")}notifyUpdate(){this.dispatchCustomEvent("pwa-update-available")}notifyInstalled(){this.dispatchCustomEvent("pwa-content-cached")}async updateApp(){if(this.swRegistration){const e=this.swRegistration;e.waiting&&(e.waiting.postMessage({type:"SKIP_WAITING"}),window.location.reload())}}dispatchCustomEvent(e,t){const n=new CustomEvent(e,{detail:t});window.dispatchEvent(n)}urlBase64ToUint8Array(e){const t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/-/g,"+").replace(/_/g,"/"),i=window.atob(n),r=new Uint8Array(i.length);for(let a=0;a<i.length;++a)r[a]=i.charCodeAt(a);return r}async clearCaches(){if("caches"in window){const e=await caches.keys();await Promise.all(e.map(t=>caches.delete(t))),console.log("PWA: All caches cleared")}}async getCacheSize(){if(!("storage"in navigator&&"estimate"in navigator.storage))return 0;try{return(await navigator.storage.estimate()).usage||0}catch(e){return console.error("PWA: Failed to get cache size:",e),0}}async exportOfflineData(){try{const{offlineStorage:e}=await st(async()=>{const{offlineStorage:i}=await import("./offline-storage-CQ7mII8k.js");return{offlineStorage:i}},[]),t=await e.exportData();return{entries:Ve.safeJSON("painEntries",[]),settings:Ve.safeJSON("pain-tracker-settings",{}),timestamp:new Date().toISOString(),syncQueue:t.syncQueue}}catch(e){throw console.error("PWA: Failed to export offline data:",e),e}}async importOfflineData(e){try{if(e.entries&&Ve.set("painEntries",e.entries),e.settings&&Ve.set("pain-tracker-settings",e.settings),e.syncQueue){const{offlineStorage:t}=await st(async()=>{const{offlineStorage:n}=await import("./offline-storage-CQ7mII8k.js");return{offlineStorage:n}},[]);for(const n of e.syncQueue){const i=n;await t.addToSyncQueue({url:i.url,method:i.method,headers:i.headers||{},body:typeof i.body=="string"?i.body:JSON.stringify(i.body||{}),priority:i.priority||"medium",type:i.type||"sync"})}}console.log("PWA: Data imported successfully"),this.dispatchCustomEvent("pwa-data-imported")}catch(t){throw console.error("PWA: Failed to import offline data:",t),t}}async enableHealthDataSync(){try{return"storage"in navigator&&"persist"in navigator.storage&&!await navigator.storage.persist()?(console.warn("PWA: Persistent storage not granted for health data"),!1):this.swRegistration&&"sync"in this.swRegistration?(await this.swRegistration.sync.register("health-data-sync"),console.log("PWA: Health data background sync enabled"),!0):!1}catch(e){return console.error("PWA: Failed to enable health data sync:",e),!1}}async scheduleHealthReminder(e,t,n){if(!("Notification"in window)){console.warn("PWA: Notifications not supported");return}if(await this.requestNotificationPermission()!=="granted"){console.warn("PWA: Notification permission not granted");return}const r=new Date,a=n.getTime()-r.getTime();if(a<=0){this.showNotification(e,t);return}setTimeout(()=>{this.showNotification(e,t)},a),console.log(`PWA: Health reminder scheduled for ${n.toLocaleString()}`)}showNotification(e,t){const n="/pain-tracker/";new Notification(e,{body:t,icon:`${n}icons/icon-192x192.png`.replace(/\/+/g,"/"),badge:`${n}icons/badge-72x72.png`.replace(/\/+/g,"/"),tag:"health-reminder",requireInteraction:!0,data:{url:`${n}?reminder=true`.replace(/\/+/g,"/"),timestamp:new Date().toISOString()}})}async getDiagnostics(){const{offlineStorage:e}=await st(async()=>{const{offlineStorage:a}=await import("./offline-storage-CQ7mII8k.js");return{offlineStorage:a}},[]),{backgroundSync:t}=await st(async()=>{const{backgroundSync:a}=await import("./background-sync-Db6JzLVQ.js");return{backgroundSync:a}},__vite__mapDeps([5,6,2,1,3])),n=await e.getStorageUsage(),i=await t.getPendingItemsCount(),r=Ve.get("last-sync-time");return{isInstalled:this.isInstalled,hasServiceWorker:!!this.swRegistration,isOnline:navigator.onLine,storageUsage:n,capabilities:this.capabilities,pendingSyncItems:i,lastSync:r}}async clearPWAData(){try{await this.clearCaches();const{offlineStorage:e}=await st(async()=>{const{offlineStorage:t}=await import("./offline-storage-CQ7mII8k.js");return{offlineStorage:t}},[]);await e.clearAllData(),Ve.keys().forEach(t=>Ve.remove(t)),console.log("PWA: All PWA data cleared"),this.dispatchCustomEvent("pwa-data-cleared")}catch(e){throw console.error("PWA: Failed to clear PWA data:",e),e}}async resetServiceWorker(){try{if("serviceWorker"in navigator){const e=await navigator.serviceWorker.getRegistrations();await Promise.all(e.map(t=>t.unregister())),console.log("PWA: All service workers unregistered")}await this.clearCaches(),await this.clearPWAData(),console.log("PWA: Service worker completely reset"),this.dispatchCustomEvent("pwa-service-worker-reset")}catch(e){throw console.error("PWA: Failed to reset service worker:",e),e}}async forceRefresh(){try{await this.clearCaches(),window.location.reload()}catch(e){console.error("PWA: Failed to force refresh:",e),window.location.reload()}}async checkForUpdates(){if(!this.swRegistration)return!1;try{return await this.swRegistration.update(),!!this.swRegistration.waiting}catch(e){return console.error("PWA: Failed to check for updates:",e),!1}}}const ps=Bs.getInstance();function IN(){const[s,e]=V.useState(!1),[t,n]=V.useState(!1);V.useEffect(()=>{const a=()=>{ps.isAppInstalled()||e(!0)},o=()=>{e(!1),n(!1)};return ps.isInstallPromptAvailable()&&!ps.isAppInstalled()&&e(!0),window.addEventListener("pwa-install-available",a),window.addEventListener("pwa-installed",o),()=>{window.removeEventListener("pwa-install-available",a),window.removeEventListener("pwa-installed",o)}},[]);const i=async()=>{n(!0);try{await ps.showInstallPrompt()||n(!1)}catch(a){console.error("Failed to install PWA:",a),n(!1)}},r=()=>{e(!1),sessionStorage.setItem("pwa-install-dismissed","true")};return sessionStorage.getItem("pwa-install-dismissed")||!s?null:d.jsxDEV(Qs,{className:"fixed bottom-4 left-4 z-50 shadow-lg border-primary max-w-sm w-[min(92%,420px)]",role:"dialog","aria-label":"Install Pain Tracker",children:d.jsxDEV(Ji,{className:"p-4",children:[d.jsxDEV("div",{className:"flex items-start space-x-3",children:[d.jsxDEV("div",{className:"flex-shrink-0",children:d.jsxDEV("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:d.jsxDEV(ah,{className:"h-6 w-6 text-primary"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:74,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:73,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:72,columnNumber:11},this),d.jsxDEV("div",{className:"flex-1 min-w-0",children:[d.jsxDEV("h3",{className:"text-sm font-semibold text-foreground",children:"Install Pain Tracker"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:79,columnNumber:13},this),d.jsxDEV("p",{className:"text-xs text-muted-foreground mt-1",children:"Add to your home screen for quick access and offline use"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:82,columnNumber:13},this),d.jsxDEV("div",{className:"flex items-center space-x-2 mt-3",children:[d.jsxDEV(yt,{size:"sm",onClick:i,disabled:t,className:"flex items-center space-x-1",children:[d.jsxDEV(Tf,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:93,columnNumber:17},this),d.jsxDEV("span",{children:t?"Installing...":"Install"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:94,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:87,columnNumber:15},this),d.jsxDEV(yt,{variant:"ghost",size:"sm",onClick:r,className:"text-muted-foreground",children:d.jsxDEV(vs,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:103,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:97,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:86,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:78,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:71,columnNumber:9},this),d.jsxDEV("div",{className:"mt-4 pt-3 border-t border-muted",children:d.jsxDEV("div",{className:"text-xs text-muted-foreground space-y-1",children:[d.jsxDEV("div",{className:"flex items-center space-x-2",children:[d.jsxDEV("div",{className:"w-1 h-1 bg-green-500 rounded-full"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:113,columnNumber:15},this),d.jsxDEV("span",{children:"Works offline"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:114,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:112,columnNumber:13},this),d.jsxDEV("div",{className:"flex items-center space-x-2",children:[d.jsxDEV("div",{className:"w-1 h-1 bg-blue-500 rounded-full"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:117,columnNumber:15},this),d.jsxDEV("span",{children:"Fast app-like experience"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:118,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:116,columnNumber:13},this),d.jsxDEV("div",{className:"flex items-center space-x-2",children:[d.jsxDEV("div",{className:"w-1 h-1 bg-purple-500 rounded-full"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:121,columnNumber:15},this),d.jsxDEV("span",{children:"Reminder notifications"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:122,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:120,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:111,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:110,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:70,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAInstallPrompt.tsx",lineNumber:65,columnNumber:5},this)}function RN(){const[s,e]=V.useState({isOnline:navigator.onLine,pendingSync:0,isSyncing:!1});return V.useEffect(()=>{const t=async()=>{try{const{backgroundSync:o}=await st(async()=>{const{backgroundSync:u}=await import("./background-sync-Db6JzLVQ.js");return{backgroundSync:u}},__vite__mapDeps([5,6,2,1,3])),c=await o.getPendingItemsCount(),{isSyncing:l}=o.getSyncStatus();e(u=>({...u,pendingSync:c,isSyncing:l}))}catch{e(o=>({...o,pendingSync:0,isSyncing:!1}))}},n=()=>{e(o=>({...o,isOnline:!0})),t()},i=()=>e(o=>({...o,isOnline:!1})),r=()=>t();window.addEventListener("online",n),window.addEventListener("offline",i),window.addEventListener("background-sync-sync-completed",r),window.addEventListener("background-sync-sync-started",r),t();const a=setInterval(t,3e4);return()=>{window.removeEventListener("online",n),window.removeEventListener("offline",i),window.removeEventListener("background-sync-sync-completed",r),window.removeEventListener("background-sync-sync-started",r),clearInterval(a)}},[]),s.isOnline&&s.pendingSync===0&&!s.isSyncing?null:d.jsxDEV("div",{className:"fixed bottom-4 right-4 z-50",children:d.jsxDEV("div",{className:"bg-white rounded-lg border shadow-lg border-l-4 border-l-blue-500 p-3 max-w-xs",children:[d.jsxDEV("div",{className:"flex items-center space-x-2",children:[!s.isOnline&&d.jsxDEV("div",{className:"flex items-center space-x-1",children:[d.jsxDEV("div",{className:"w-2 h-2 bg-red-500 rounded-full"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAStatusIndicator.tsx",lineNumber:82,columnNumber:15},this),d.jsxDEV("span",{className:"text-sm font-medium text-red-700",children:"Offline"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAStatusIndicator.tsx",lineNumber:83,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAStatusIndicator.tsx",lineNumber:81,columnNumber:13},this),s.isSyncing&&d.jsxDEV("div",{className:"flex items-center space-x-1",children:[d.jsxDEV("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAStatusIndicator.tsx",lineNumber:88,columnNumber:15},this),d.jsxDEV("span",{className:"text-sm font-medium text-blue-700",children:"Syncing..."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAStatusIndicator.tsx",lineNumber:89,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAStatusIndicator.tsx",lineNumber:87,columnNumber:13},this),s.pendingSync>0&&!s.isSyncing&&d.jsxDEV("div",{className:"flex items-center space-x-1",children:[d.jsxDEV("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAStatusIndicator.tsx",lineNumber:94,columnNumber:15},this),d.jsxDEV("span",{className:"text-sm font-medium text-yellow-700",children:[s.pendingSync," pending"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAStatusIndicator.tsx",lineNumber:95,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAStatusIndicator.tsx",lineNumber:93,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAStatusIndicator.tsx",lineNumber:79,columnNumber:9},this),!s.isOnline&&d.jsxDEV("p",{className:"text-xs text-gray-600 mt-1",children:"Your data is saved locally and will sync when you're back online"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAStatusIndicator.tsx",lineNumber:102,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAStatusIndicator.tsx",lineNumber:78,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/PWAStatusIndicator.tsx",lineNumber:77,columnNumber:5},this)}const Zr={title:"Beta Software Notice",message:"You're running a beta version of Pain Tracker. Please backup your data regularly. This build is intended for testing and feedback. Report issues at the repository issues page.",supportUrl:"https://github.com/CrisisCore-Systems/pain-tracker/issues"},ea="pain-tracker:beta-dismissed";function UN(){const[s,e]=V.useState(!1);V.useEffect(()=>{try{const n=Ve.get(ea);e(n!=="true")}catch{e(!0)}},[]);const t=V.useCallback(()=>{try{Ve.set(ea,"true")}catch{try{localStorage.setItem(ea,"1")}catch{}}e(!1)},[]);return V.useEffect(()=>{if(!s)return;const n=i=>{i.key==="Escape"&&t()};return window.addEventListener("keydown",n),()=>window.removeEventListener("keydown",n)},[s,t]),s?d.jsxDEV("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-[60] max-w-3xl w-full px-4 animate-in fade-in slide-in-from-top-4 duration-300",children:d.jsxDEV("div",{className:"bg-yellow-50 border-2 border-yellow-300 text-yellow-900 rounded-lg p-4 shadow-lg flex items-start justify-between",children:[d.jsxDEV("div",{className:"flex-1",children:[d.jsxDEV("h3",{className:"font-semibold text-base",children:Zr.title},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/BetaWarning.tsx",lineNumber:50,columnNumber:11},this),d.jsxDEV("p",{className:"text-sm mt-1",children:Zr.message},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/BetaWarning.tsx",lineNumber:51,columnNumber:11},this),d.jsxDEV("a",{className:"text-xs text-yellow-700 underline mt-2 inline-block hover:text-yellow-800",href:Zr.supportUrl,target:"_blank",rel:"noreferrer",children:"Report an issue or give feedback"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/BetaWarning.tsx",lineNumber:52,columnNumber:11},this),d.jsxDEV("div",{className:"text-xs text-yellow-600 mt-2 opacity-70",children:["Press ",d.jsxDEV("kbd",{className:"px-1.5 py-0.5 bg-yellow-100 rounded border border-yellow-300",children:"Esc"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/BetaWarning.tsx",lineNumber:56,columnNumber:19},this)," to dismiss"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/BetaWarning.tsx",lineNumber:55,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/BetaWarning.tsx",lineNumber:49,columnNumber:9},this),d.jsxDEV("div",{className:"ml-4 flex items-start gap-2",children:[d.jsxDEV("button",{"aria-label":"Dismiss beta notice",onClick:t,className:"text-yellow-600 hover:text-yellow-800 p-1 rounded hover:bg-yellow-100 transition-colors",title:"Close (Esc)",children:d.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/BetaWarning.tsx",lineNumber:67,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/BetaWarning.tsx",lineNumber:66,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/BetaWarning.tsx",lineNumber:60,columnNumber:11},this),d.jsxDEV("button",{"aria-label":"Dismiss and don't show again",onClick:t,className:"text-sm bg-yellow-600 text-white px-3 py-1.5 rounded-md hover:bg-yellow-700 transition-colors shadow-sm",children:"Got it"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/BetaWarning.tsx",lineNumber:70,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/BetaWarning.tsx",lineNumber:59,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/BetaWarning.tsx",lineNumber:48,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/BetaWarning.tsx",lineNumber:47,columnNumber:5},this):null}const FN=s=>s.includes("headache")?["head","migraine"]:s.includes("back")?["back","spine"]:["general"];function zN(){const s=new CustomEvent("quick-log",{detail:{source:"quick-actions",time:new Date().toISOString()}});window.dispatchEvent(s)}function BN(){const[s,e]=V.useState([]),[t,n]=V.useState(!1),i=V.useCallback(()=>{const o={time:new Date().toISOString(),suggestedTags:[]},l=FN("");o.suggestedTags=l,window.dispatchEvent(new CustomEvent("quick-note",{detail:o})),e(l),setTimeout(()=>e([]),6e3)},[]),r=V.useCallback(()=>{zN(),n(!1)},[]),a=V.useCallback(()=>{n(o=>!o)},[]);return V.useEffect(()=>{const o=c=>{const l=c.target,u=l.tagName==="INPUT"||l.tagName==="TEXTAREA"||l.isContentEditable;c.key==="q"&&!u&&(c.ctrlKey||c.metaKey)?(c.preventDefault(),a()):c.key==="Escape"&&t&&n(!1)};return window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)},[t,a]),d.jsxDEV("div",{className:"fixed bottom-6 right-6 z-[70]",children:d.jsxDEV("div",{className:"flex flex-col items-end space-y-3",children:[t&&d.jsxDEV("div",{className:"flex flex-col items-end space-y-2 animate-in fade-in slide-in-from-bottom-2 duration-200",children:[d.jsxDEV("button",{"aria-label":"Quick note",onClick:i,className:"flex items-center justify-center w-12 h-12 rounded-full bg-secondary text-secondary-foreground shadow-lg hover:shadow-xl hover:scale-105 transition-all",title:"Quick note",children:""},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/QuickActions.tsx",lineNumber:65,columnNumber:13},this),d.jsxDEV("button",{"aria-label":"Quick log pain",onClick:r,className:"flex items-center justify-center w-12 h-12 rounded-full bg-primary text-primary-foreground shadow-lg hover:shadow-xl hover:scale-105 transition-all",title:"Quick log pain",children:"+"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/QuickActions.tsx",lineNumber:73,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/QuickActions.tsx",lineNumber:64,columnNumber:11},this),d.jsxDEV("button",{"aria-label":t?"Close quick actions":"Open quick actions (Ctrl+Q)",onClick:a,className:"flex items-center justify-center w-14 h-14 rounded-full bg-foreground text-foreground-contrast shadow-lg hover:shadow-xl hover:scale-105 transition-all",title:t?"Close (Esc)":"Quick Actions (Ctrl+Q)",children:d.jsxDEV("span",{className:"text-xl",children:t?"":""},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/QuickActions.tsx",lineNumber:91,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/QuickActions.tsx",lineNumber:85,columnNumber:9},this),!t&&d.jsxDEV("div",{className:"text-xs text-muted-foreground bg-card/80 backdrop-blur-sm px-2 py-1 rounded shadow-sm",children:d.jsxDEV("kbd",{className:"px-1 py-0.5 bg-muted rounded text-xs",children:"Ctrl+Q"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/QuickActions.tsx",lineNumber:97,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/QuickActions.tsx",lineNumber:96,columnNumber:11},this),s.length>0&&d.jsxDEV("div",{className:"mt-2 bg-card border rounded p-2 text-sm shadow-md animate-in fade-in slide-in-from-bottom-2 duration-200",children:["Suggested tags: ",s.join(", ")]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/QuickActions.tsx",lineNumber:102,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/QuickActions.tsx",lineNumber:61,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/QuickActions.tsx",lineNumber:60,columnNumber:5},this)}const Ci="pain-tracker:notification-consent";function WN(){const[s,e]=V.useState(()=>{try{return localStorage.getItem(Ci)}catch{return null}}),{bottomLeft:t}=oo();V.useEffect(()=>{s||t.info("Get gentle notifications?","We can notify you about important pain pattern alerts and medication reminders. You can change this later in Settings.",{label:"Allow",onClick:n},{onDismiss:()=>{localStorage.setItem(Ci,"dismissed"),e("dismissed")}})},[s,t]);async function n(){try{const i=await Notification.requestPermission();localStorage.setItem(Ci,i),e(i)}catch{localStorage.setItem(Ci,"denied"),e("denied")}}return null}const Ei="pain-tracker:analytics-consent";function $N(){const[s,e]=V.useState(()=>{try{return localStorage.getItem(Ei)}catch{return null}}),{bottomLeft:t}=oo(),n=async()=>{try{localStorage.setItem(Ei,"granted"),e("granted"),await ua.requestConsent()&&t.success("Thank you!","Your anonymous usage data will help us improve Pain Tracker for everyone.")}catch{localStorage.setItem(Ei,"error"),e("error")}};return V.useEffect(()=>{if(!s){const i=setTimeout(()=>{t.info("Help improve Pain Tracker?","We'd like to collect anonymous usage data to improve the app. Your pain data stays private and local. No personal information is collected.",{label:"Allow",onClick:n},{onDismiss:()=>{localStorage.setItem(Ei,"declined"),e("declined"),ua.updatePrivacyConfig({enableAnalytics:!1})}})},2e3);return()=>clearTimeout(i)}},[s,t,n]),null}let fs=null,Pi=null;async function vn(){return fs&&typeof fs.crypto_pwhash=="function"?fs:(fs&&(console.warn("[sodium] Clearing invalid cached instance"),fs=null,Pi=null),Pi||(Pi=(async()=>{console.log("[sodium] Starting initialization (SUMO version)...");const s=await st(()=>import("./libsodium-wrappers-DhqTdZPT.js").then(t=>t.l),__vite__mapDeps([7,2]));console.log("[sodium] Module type:",typeof s),console.log("[sodium] Module.default type:",typeof s.default);const e=s.default||s;if(console.log("[sodium] Waiting for ready..."),await e.ready,console.log("[sodium] Library initialized successfully"),console.log("[sodium] crypto_pwhash type:",typeof e.crypto_pwhash),console.log("[sodium] crypto_pwhash_str type:",typeof e.crypto_pwhash_str),console.log("[sodium] crypto_pwhash_SALTBYTES:",e.crypto_pwhash_SALTBYTES),typeof e.crypto_pwhash!="function")throw new Error("[sodium] crypto_pwhash function not available even in SUMO version!");return fs=e,e})()),Pi)}function HN(){return fs}const hn="vault:metadata",YN="3.0.0",wt=1;function qN(s){if(s==null)throw new TypeError("encryptString: message is null/undefined");if(s instanceof Uint8Array)return s;if(typeof Buffer<"u"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(s))return new Uint8Array(s.buffer,s.byteOffset,s.byteLength);if(ArrayBuffer.isView(s)){const t=s;return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}if(s instanceof ArrayBuffer)return new Uint8Array(s);const e=new TextEncoder;return typeof s=="string"?e.encode(s):e.encode(JSON.stringify(s))}async function Rl(){await vn()}function KN(s){try{const e=JSON.parse(s);return typeof e=="object"&&e?.v==="xchacha20-poly1305"&&typeof e?.c=="string"&&typeof e?.n=="string"}catch{return!1}}class GN{status={state:"uninitialized",metadata:null,sodiumReady:!1};key=null;listeners=new Set;initialized=!1;async initialize(){if(this.initialized)return this.status;try{await vn(),this.status.sodiumReady=!0}catch(t){return this.logEvent("error","Failed to initialize libsodium",{error:t instanceof Error?t.message:"unknown"}),this.status.state="error",this.status}const e=this.loadMetadata();return e?this.status={state:"locked",metadata:e,sodiumReady:!0}:this.status={state:"uninitialized",metadata:null,sodiumReady:!0},this.initialized=!0,this.emit(),this.status}onChange(e){return this.listeners.add(e),e(this.status),()=>{this.listeners.delete(e)}}getStatus(){return this.status}async setupPassphrase(e){if(!e||e.length<12)throw new Error("Passphrase must be at least 12 characters.");await Rl();const t=await vn();console.log("[VaultService] Sodium instance retrieved:",{sodiumType:typeof t,hasCryptoPwhash:typeof t.crypto_pwhash,hasCryptoPwhashStr:typeof t.crypto_pwhash_str,saltBytes:t.crypto_pwhash_SALTBYTES});const n=t.crypto_pwhash_SALTBYTES,i=Number.isInteger(n)&&n>0?n:16;i!==n&&this.logEvent("warning","Using fallback salt length",{configuredSaltBytes:n,saltBytes:i});const r=t.randombytes_buf(i),a=t.crypto_pwhash_OPSLIMIT_MODERATE,o=t.crypto_pwhash_MEMLIMIT_MODERATE,c=t.crypto_aead_xchacha20poly1305_ietf_KEYBYTES;console.log("[VaultService] Creating vault with:",{passphraseType:typeof e,passphraseLength:e?.length,keyLength:c,opslimit:a,memlimit:o,saltLength:r.length});const l=t.crypto_pwhash(c,e,r,a,o,t.crypto_pwhash_ALG_ARGON2ID13);console.log("[VaultService] Key derived, creating verification hash...");const u=t.crypto_pwhash_str(e,a,o);console.log("[VaultService] Verification hash created:",u?.length);const m={version:YN,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),derivation:{algorithm:"argon2id",salt:t.to_base64(r,wt),opslimit:a,memlimit:o,keyLength:c},verification:{algorithm:"argon2id",hash:u},cipher:{algorithm:"xchacha20-poly1305",nonceLength:t.crypto_aead_xchacha20poly1305_ietf_NPUBBYTES},migrations:{}};if(!Ve.set(hn,m).success)throw new Error("Failed to persist vault metadata.");this.key=l,this.status={state:"unlocked",metadata:m,sodiumReady:!0},this.applyGlobalHooks(),await this.migrateLegacyStorage(),this.logEvent("info","Vault passphrase initialized"),this.emit()}async unlock(e){if(!e)throw new Error("Passphrase is required.");await this.initialize(),await Rl();const{metadata:t}=this.status;if(!t)throw new Error("Vault not configured.");const n=await vn();let i=!1;try{i=n.crypto_pwhash_str_verify(t.verification.hash,e)}catch(o){throw this.logEvent("error",`Passphrase verification error: ${o}`),new Error("Passphrase verification failed.")}if(!i)throw this.logEvent("warning","Vault unlock attempt failed"),new Error("Incorrect passphrase.");const r=n.from_base64(t.derivation.salt,wt);(!(r instanceof Uint8Array)||r.length<=0)&&this.logEvent("error","Derived salt invalid",{actual:r?.length});const a=n.crypto_pwhash(t.derivation.keyLength,e,r,t.derivation.opslimit,t.derivation.memlimit,n.crypto_pwhash_ALG_ARGON2ID13);this.key=a,this.status={...this.status,state:"unlocked"},this.applyGlobalHooks(),await this.migrateLegacyStorage(),this.logEvent("info","Vault unlocked"),this.emit()}lock(){this.key&&vn().then(e=>{e.memzero(this.key)}).catch(()=>{}),this.key=null,delete globalThis.__secureStorageEncrypt,delete globalThis.__secureStorageDecrypt,this.status.state!=="uninitialized"&&(this.status={...this.status,state:"locked"},this.emit()),this.logEvent("info","Vault locked")}isUnlocked(){return this.status.state==="unlocked"&&!!this.key}encryptString(e){if(!this.key)throw new Error("encryptString: key not set");if(!this.status.sodiumReady)throw new Error("encryptString: libsodium not ready");const t=this.assertSodium(),n=this.key;if(!(n instanceof Uint8Array)||n.length!==t.crypto_aead_xchacha20poly1305_ietf_KEYBYTES)throw new Error("encryptString: invalid key type/length");const i=qN(e),r=t.crypto_aead_xchacha20poly1305_ietf_NPUBBYTES;if(!Number.isInteger(r)||r<=0)throw new Error("encryptString: invalid nonce length constant");const a=t.randombytes_buf(r),o=ArrayBuffer.isView(i)?new Uint8Array(i.buffer,i.byteOffset,i.byteLength):i,c=t.crypto_aead_xchacha20poly1305_ietf_encrypt(o,null,null,a,n);return JSON.stringify({v:"xchacha20-poly1305",n:t.to_base64(a,wt),c:t.to_base64(c,wt)})}decryptString(e){if(!this.key)throw new Error("decryptString: key not set");if(!this.status.sodiumReady)throw new Error("decryptString: libsodium not ready");const t=this.assertSodium();try{const n=JSON.parse(e);if(n?.v!=="xchacha20-poly1305")return e;const i=this.key,r=t.from_base64(n.n,wt),a=t.from_base64(n.c,wt),o=t.crypto_aead_xchacha20poly1305_ietf_decrypt(null,a,null,r,i);return t.to_string(o)}catch{return e}}encryptBytes(e){if(!this.key)throw new Error("Vault is locked.");const t=this.assertSodium(),n=t.crypto_aead_xchacha20poly1305_ietf_NPUBBYTES;if(!Number.isInteger(n)||n<=0)throw new Error("encryptBytes: invalid nonce length constant");const i=t.randombytes_buf(n),r=t.crypto_aead_xchacha20poly1305_ietf_encrypt(e,null,null,i,this.key);return{nonce:t.to_base64(i,wt),cipher:t.to_base64(r,wt)}}decryptBytes(e){if(!this.key)throw new Error("Vault is locked.");const t=this.assertSodium(),n=t.from_base64(e.nonce,wt),i=t.from_base64(e.cipher,wt);return t.crypto_aead_xchacha20poly1305_ietf_decrypt(null,i,null,n,this.key)}clearAll(){Ve.remove(hn),this.lock(),this.status={state:"uninitialized",metadata:null,sodiumReady:this.status.sodiumReady},this.emit()}emit(){for(const e of this.listeners)e(this.status)}loadMetadata(){try{const e=Ve.get(hn);return e||null}catch{return null}}async migrateLegacyStorage(){if(!this.key||!this.status.metadata)return;let e=0,t=0;for(let n=0;n<localStorage.length;n++){const i=localStorage.key(n);if(!i||!i.startsWith("pt:")||i===`pt:${hn}`)continue;const r=localStorage.getItem(i);if(typeof r!="string"||r.length===0){t+=1;continue}if(!KN(r))try{const a=this.encryptString(r);localStorage.setItem(i,a),e+=1}catch(a){t+=1,this.logEvent("warning","Failed to migrate legacy secureStorage entry",{key:i,error:a instanceof Error?a.message:"unknown"})}}if(e>0||t>0){const n={...this.status.metadata,migrations:{...this.status.metadata?.migrations,legacyCompletedAt:new Date().toISOString()},updatedAt:new Date().toISOString()};Ve.set(hn,n).success||this.logEvent("warning","Failed to update vault metadata after migration"),this.status={...this.status,metadata:n},this.logEvent("info","Legacy storage re-encrypted",{reencrypted:e,skipped:t})}}applyGlobalHooks(){this.key&&(globalThis.__secureStorageEncrypt=e=>this.encryptString(e),globalThis.__secureStorageDecrypt=e=>this.decryptString(e))}assertSodium(){const e=HN();if(!e)throw new Error("libsodium not ready");return e}logEvent(e,t,n){try{tt.logSecurityEvent({type:"vault",level:e,message:t,metadata:n,timestamp:new Date})}catch{}}}const gs=new GN;function QN(s){return gs.onChange(()=>s())}function Ul(){return gs.getStatus()}function XN(){const s=V.useSyncExternalStore(QN,Ul,Ul);return V.useEffect(()=>{gs.initialize()},[]),s}function JN(){return{status:XN(),setupPassphrase:e=>gs.setupPassphrase(e),unlock:e=>gs.unlock(e),lock:()=>gs.lock(),clearAll:()=>gs.clearAll()}}const Si=12,ZN=({children:s})=>{const{status:e,setupPassphrase:t,unlock:n,lock:i,clearAll:r}=JN(),[a,o]=V.useState(""),[c,l]=V.useState(""),[u,m]=V.useState(null),[f,h]=V.useState(!1),p=V.useRef(null),[g,y]=V.useState(!1);V.useEffect(()=>{(e.state==="uninitialized"||e.state==="locked")&&setTimeout(()=>{p.current?.focus()},50)},[e.state]);const k=()=>{o(""),l(""),m(null)},D=async w=>{if(w.preventDefault(),!f){if(a!==c){m("Passphrases must match.");return}if(a.length<Si){m(`Passphrase must be at least ${Si} characters long.`);return}h(!0),m(null);try{await t(a),k()}catch(T){m(T instanceof Error?T.message:"Unable to initialize vault.")}finally{h(!1)}}},j=async w=>{if(w.preventDefault(),!f){if(!a){m("Please enter your secure passphrase.");return}h(!0),m(null);try{await n(a),k()}catch(T){m(T instanceof Error?T.message:"Unable to unlock vault.")}finally{h(!1)}}},S=async()=>{window.confirm("Resetting the secure vault will permanently remove all locally stored entries and settings. This action cannot be undone. Do you want to continue?")&&(r(),i(),k())},v=()=>d.jsxDEV("form",{onSubmit:D,className:"space-y-6","aria-labelledby":"vault-setup-title",children:[d.jsxDEV("div",{children:[d.jsxDEV("h2",{id:"vault-setup-title",className:"text-2xl font-semibold text-gray-900",children:"Create a secure passphrase"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:91,columnNumber:9},void 0),d.jsxDEV("p",{className:"mt-2 text-sm text-gray-600",children:"Choose a gentle yet strong passphrase that you will remember. It protects your pain entries and personal notes on this device. For security, your passphrase is never stored anywhere."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:94,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:90,columnNumber:7},void 0),d.jsxDEV("div",{className:"space-y-4",children:[d.jsxDEV("label",{className:"block",htmlFor:"vault-passphrase",children:[d.jsxDEV("span",{className:"text-sm font-medium text-gray-700",children:"Passphrase"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:101,columnNumber:11},void 0),d.jsxDEV("input",{id:"vault-passphrase",ref:p,type:g?"text":"password",value:a,onChange:w=>o(w.target.value),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500",minLength:Si,"aria-describedby":"vault-passphrase-help",autoComplete:"new-password",required:!0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:102,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:100,columnNumber:9},void 0),d.jsxDEV("p",{id:"vault-passphrase-help",className:"text-xs text-gray-500",children:["Use at least ",Si," characters. Short sentences or unique phrases are often easiest to recall."]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:115,columnNumber:9},void 0),d.jsxDEV("label",{className:"block",htmlFor:"vault-passphrase-confirm",children:[d.jsxDEV("span",{className:"text-sm font-medium text-gray-700",children:"Confirm passphrase"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:120,columnNumber:11},void 0),d.jsxDEV("input",{id:"vault-passphrase-confirm",type:g?"text":"password",value:c,onChange:w=>l(w.target.value),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500",autoComplete:"new-password",required:!0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:121,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:119,columnNumber:9},void 0),d.jsxDEV("button",{type:"button",onClick:()=>y(w=>!w),className:"text-sm text-indigo-600 hover:text-indigo-500 focus:outline-none",children:g?"Hide passphrase":"Show passphrase"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:132,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:99,columnNumber:7},void 0),u&&d.jsxDEV("div",{role:"alert",className:"rounded-md bg-red-50 p-3 text-sm text-red-700 border border-red-100",children:u},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:142,columnNumber:9},void 0),d.jsxDEV("div",{className:"flex flex-col space-y-3 sm:flex-row sm:space-y-0 sm:space-x-3",children:[d.jsxDEV("button",{type:"submit",className:"inline-flex items-center justify-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-60",disabled:f,children:f?"Securing...":"Create secure vault"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:148,columnNumber:9},void 0),d.jsxDEV("button",{type:"button",onClick:k,className:"inline-flex items-center justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:"Clear fields"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:155,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:147,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:89,columnNumber:5},void 0),N=()=>d.jsxDEV("form",{onSubmit:j,className:"space-y-6","aria-labelledby":"vault-unlock-title",children:[d.jsxDEV("div",{className:"flex items-start justify-between",children:[d.jsxDEV("div",{children:[d.jsxDEV("h2",{id:"vault-unlock-title",className:"text-2xl font-semibold text-gray-900",children:"Unlock secure vault"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:170,columnNumber:11},void 0),d.jsxDEV("p",{className:"mt-2 text-sm text-gray-600",children:"Enter your trusted passphrase to access encrypted pain entries and preferences."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:173,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:169,columnNumber:9},void 0),d.jsxDEV("button",{type:"button",onClick:S,className:"text-sm text-red-600 hover:text-red-500 focus:outline-none",children:"Reset vault"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:177,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:168,columnNumber:7},void 0),d.jsxDEV("div",{className:"space-y-4",children:[d.jsxDEV("label",{className:"block",htmlFor:"vault-passphrase-unlock",children:[d.jsxDEV("span",{className:"text-sm font-medium text-gray-700",children:"Passphrase"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:188,columnNumber:11},void 0),d.jsxDEV("input",{id:"vault-passphrase-unlock",ref:p,type:g?"text":"password",value:a,onChange:w=>o(w.target.value),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500",autoComplete:"current-password",required:!0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:189,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:187,columnNumber:9},void 0),d.jsxDEV("button",{type:"button",onClick:()=>y(w=>!w),className:"text-sm text-indigo-600 hover:text-indigo-500 focus:outline-none",children:g?"Hide passphrase":"Show passphrase"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:200,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:186,columnNumber:7},void 0),u&&d.jsxDEV("div",{role:"alert",className:"rounded-md bg-yellow-50 p-3 text-sm text-yellow-800 border border-yellow-100",children:u},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:210,columnNumber:9},void 0),d.jsxDEV("div",{className:"flex flex-col space-y-3 sm:flex-row sm:space-y-0 sm:space-x-3",children:[d.jsxDEV("button",{type:"submit",className:"inline-flex items-center justify-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-60",disabled:f,children:f?"Unlocking...":"Unlock vault"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:216,columnNumber:9},void 0),d.jsxDEV("button",{type:"button",onClick:()=>{k(),setTimeout(()=>p.current?.focus(),50)},className:"inline-flex items-center justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:"Try again"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:223,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:215,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:167,columnNumber:5},void 0),C=()=>e.sodiumReady?e.state==="unlocked"?d.jsxDEV(d.Fragment,{children:s},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:248,columnNumber:14},void 0):d.jsxDEV("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/80 px-4",role:"dialog","aria-modal":"true","aria-labelledby":"vault-dialog-title",children:d.jsxDEV("div",{className:"w-full max-w-lg rounded-xl bg-white p-6 shadow-2xl focus:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500",children:[d.jsxDEV("div",{className:"flex items-center justify-between mb-6",children:[d.jsxDEV("div",{children:[d.jsxDEV("h1",{id:"vault-dialog-title",className:"text-3xl font-semibold text-gray-900",children:"Secure vault"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:256,columnNumber:15},void 0),d.jsxDEV("p",{className:"mt-1 text-sm text-gray-600",children:"End-to-end encrypted storage protects your story and wellbeing."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:257,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:255,columnNumber:13},void 0),d.jsxDEV("span",{"aria-hidden":"true",className:"inline-flex h-10 w-10 items-center justify-center rounded-full bg-indigo-50 text-indigo-600 text-lg font-semibold",children:""},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:259,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:254,columnNumber:11},void 0),d.jsxDEV("div",{children:e.state==="uninitialized"?v():N()},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:263,columnNumber:11},void 0),d.jsxDEV("p",{className:"mt-6 text-xs text-gray-500",children:"Tip: If you ever need to safely reset the vault, choose Reset vault. This keeps your account secure but removes local data from this device."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:266,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:253,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:252,columnNumber:7},void 0):d.jsxDEV("div",{className:"text-center",children:[d.jsxDEV("p",{className:"text-lg font-medium text-gray-900",children:"Preparing secure vault"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:241,columnNumber:11},void 0),d.jsxDEV("p",{className:"mt-2 text-sm text-gray-600",children:"Loading privacy protections. Thank you for your patience."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:242,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:240,columnNumber:9},void 0);return d.jsxDEV(d.Fragment,{children:e.state==="unlocked"?s:C()},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/security/VaultGate.tsx",lineNumber:275,columnNumber:5},void 0)};var ta={exports:{}},sa={exports:{}},Ee={},Fl;function e1(){if(Fl)return Ee;Fl=1;return(function(){var s=typeof Symbol=="function"&&Symbol.for,e=s?Symbol.for("react.element"):60103,t=s?Symbol.for("react.portal"):60106,n=s?Symbol.for("react.fragment"):60107,i=s?Symbol.for("react.strict_mode"):60108,r=s?Symbol.for("react.profiler"):60114,a=s?Symbol.for("react.provider"):60109,o=s?Symbol.for("react.context"):60110,c=s?Symbol.for("react.async_mode"):60111,l=s?Symbol.for("react.concurrent_mode"):60111,u=s?Symbol.for("react.forward_ref"):60112,m=s?Symbol.for("react.suspense"):60113,f=s?Symbol.for("react.suspense_list"):60120,h=s?Symbol.for("react.memo"):60115,p=s?Symbol.for("react.lazy"):60116,g=s?Symbol.for("react.block"):60121,y=s?Symbol.for("react.fundamental"):60117,k=s?Symbol.for("react.responder"):60118,D=s?Symbol.for("react.scope"):60119;function j(B){return typeof B=="string"||typeof B=="function"||B===n||B===l||B===r||B===i||B===m||B===f||typeof B=="object"&&B!==null&&(B.$$typeof===p||B.$$typeof===h||B.$$typeof===a||B.$$typeof===o||B.$$typeof===u||B.$$typeof===y||B.$$typeof===k||B.$$typeof===D||B.$$typeof===g)}function S(B){if(typeof B=="object"&&B!==null){var Be=B.$$typeof;switch(Be){case e:var dt=B.type;switch(dt){case c:case l:case n:case r:case i:case m:return dt;default:var ct=dt&&dt.$$typeof;switch(ct){case o:case u:case p:case h:case a:return ct;default:return Be}}case t:return Be}}}var v=c,N=l,C=o,w=a,T=e,_=u,L=n,O=p,M=h,H=t,ne=r,q=i,se=m,z=!1;function ke(B){return z||(z=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),I(B)||S(B)===c}function I(B){return S(B)===l}function R(B){return S(B)===o}function X(B){return S(B)===a}function G(B){return typeof B=="object"&&B!==null&&B.$$typeof===e}function Y(B){return S(B)===u}function oe(B){return S(B)===n}function re(B){return S(B)===p}function $(B){return S(B)===h}function ce(B){return S(B)===t}function ie(B){return S(B)===r}function ae(B){return S(B)===i}function _e(B){return S(B)===m}Ee.AsyncMode=v,Ee.ConcurrentMode=N,Ee.ContextConsumer=C,Ee.ContextProvider=w,Ee.Element=T,Ee.ForwardRef=_,Ee.Fragment=L,Ee.Lazy=O,Ee.Memo=M,Ee.Portal=H,Ee.Profiler=ne,Ee.StrictMode=q,Ee.Suspense=se,Ee.isAsyncMode=ke,Ee.isConcurrentMode=I,Ee.isContextConsumer=R,Ee.isContextProvider=X,Ee.isElement=G,Ee.isForwardRef=Y,Ee.isFragment=oe,Ee.isLazy=re,Ee.isMemo=$,Ee.isPortal=ce,Ee.isProfiler=ie,Ee.isStrictMode=ae,Ee.isSuspense=_e,Ee.isValidElementType=j,Ee.typeOf=S})(),Ee}var zl;function Zd(){return zl||(zl=1,sa.exports=e1()),sa.exports}var na,Bl;function t1(){if(Bl)return na;Bl=1;var s=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable;function n(r){if(r==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(r)}function i(){try{if(!Object.assign)return!1;var r=new String("abc");if(r[5]="de",Object.getOwnPropertyNames(r)[0]==="5")return!1;for(var a={},o=0;o<10;o++)a["_"+String.fromCharCode(o)]=o;var c=Object.getOwnPropertyNames(a).map(function(u){return a[u]});if(c.join("")!=="0123456789")return!1;var l={};return"abcdefghijklmnopqrst".split("").forEach(function(u){l[u]=u}),Object.keys(Object.assign({},l)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return na=i()?Object.assign:function(r,a){for(var o,c=n(r),l,u=1;u<arguments.length;u++){o=Object(arguments[u]);for(var m in o)e.call(o,m)&&(c[m]=o[m]);if(s){l=s(o);for(var f=0;f<l.length;f++)t.call(o,l[f])&&(c[l[f]]=o[l[f]])}}return c},na}var ia,Wl;function em(){if(Wl)return ia;Wl=1;var s="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ia=s,ia}var ra,$l;function tm(){return $l||($l=1,ra=Function.call.bind(Object.prototype.hasOwnProperty)),ra}var aa,Hl;function s1(){if(Hl)return aa;Hl=1;var s=function(){};{var e=em(),t={},n=tm();s=function(r){var a="Warning: "+r;typeof console<"u"&&console.error(a);try{throw new Error(a)}catch{}}}function i(r,a,o,c,l){for(var u in r)if(n(r,u)){var m;try{if(typeof r[u]!="function"){var f=Error((c||"React class")+": "+o+" type `"+u+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof r[u]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw f.name="Invariant Violation",f}m=r[u](a,u,c,o,null,e)}catch(p){m=p}if(m&&!(m instanceof Error)&&s((c||"React class")+": type specification of "+o+" `"+u+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof m+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),m instanceof Error&&!(m.message in t)){t[m.message]=!0;var h=l?l():"";s("Failed "+o+" type: "+m.message+(h??""))}}}return i.resetWarningCache=function(){t={}},aa=i,aa}var oa,Yl;function n1(){if(Yl)return oa;Yl=1;var s=Zd(),e=t1(),t=em(),n=tm(),i=s1(),r=function(){};r=function(o){var c="Warning: "+o;typeof console<"u"&&console.error(c);try{throw new Error(c)}catch{}};function a(){return null}return oa=function(o,c){var l=typeof Symbol=="function"&&Symbol.iterator,u="@@iterator";function m(I){var R=I&&(l&&I[l]||I[u]);if(typeof R=="function")return R}var f="<<anonymous>>",h={array:k("array"),bigint:k("bigint"),bool:k("boolean"),func:k("function"),number:k("number"),object:k("object"),string:k("string"),symbol:k("symbol"),any:D(),arrayOf:j,element:S(),elementType:v(),instanceOf:N,node:_(),objectOf:w,oneOf:C,oneOfType:T,shape:O,exact:M};function p(I,R){return I===R?I!==0||1/I===1/R:I!==I&&R!==R}function g(I,R){this.message=I,this.data=R&&typeof R=="object"?R:{},this.stack=""}g.prototype=Error.prototype;function y(I){var R={},X=0;function G(oe,re,$,ce,ie,ae,_e){if(ce=ce||f,ae=ae||$,_e!==t){if(c){var B=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw B.name="Invariant Violation",B}else if(typeof console<"u"){var Be=ce+":"+$;!R[Be]&&X<3&&(r("You are manually calling a React.PropTypes validation function for the `"+ae+"` prop on `"+ce+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),R[Be]=!0,X++)}}return re[$]==null?oe?re[$]===null?new g("The "+ie+" `"+ae+"` is marked as required "+("in `"+ce+"`, but its value is `null`.")):new g("The "+ie+" `"+ae+"` is marked as required in "+("`"+ce+"`, but its value is `undefined`.")):null:I(re,$,ce,ie,ae)}var Y=G.bind(null,!1);return Y.isRequired=G.bind(null,!0),Y}function k(I){function R(X,G,Y,oe,re,$){var ce=X[G],ie=q(ce);if(ie!==I){var ae=se(ce);return new g("Invalid "+oe+" `"+re+"` of type "+("`"+ae+"` supplied to `"+Y+"`, expected ")+("`"+I+"`."),{expectedType:I})}return null}return y(R)}function D(){return y(a)}function j(I){function R(X,G,Y,oe,re){if(typeof I!="function")return new g("Property `"+re+"` of component `"+Y+"` has invalid PropType notation inside arrayOf.");var $=X[G];if(!Array.isArray($)){var ce=q($);return new g("Invalid "+oe+" `"+re+"` of type "+("`"+ce+"` supplied to `"+Y+"`, expected an array."))}for(var ie=0;ie<$.length;ie++){var ae=I($,ie,Y,oe,re+"["+ie+"]",t);if(ae instanceof Error)return ae}return null}return y(R)}function S(){function I(R,X,G,Y,oe){var re=R[X];if(!o(re)){var $=q(re);return new g("Invalid "+Y+" `"+oe+"` of type "+("`"+$+"` supplied to `"+G+"`, expected a single ReactElement."))}return null}return y(I)}function v(){function I(R,X,G,Y,oe){var re=R[X];if(!s.isValidElementType(re)){var $=q(re);return new g("Invalid "+Y+" `"+oe+"` of type "+("`"+$+"` supplied to `"+G+"`, expected a single ReactElement type."))}return null}return y(I)}function N(I){function R(X,G,Y,oe,re){if(!(X[G]instanceof I)){var $=I.name||f,ce=ke(X[G]);return new g("Invalid "+oe+" `"+re+"` of type "+("`"+ce+"` supplied to `"+Y+"`, expected ")+("instance of `"+$+"`."))}return null}return y(R)}function C(I){if(!Array.isArray(I))return arguments.length>1?r("Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z])."):r("Invalid argument supplied to oneOf, expected an array."),a;function R(X,G,Y,oe,re){for(var $=X[G],ce=0;ce<I.length;ce++)if(p($,I[ce]))return null;var ie=JSON.stringify(I,function(_e,B){var Be=se(B);return Be==="symbol"?String(B):B});return new g("Invalid "+oe+" `"+re+"` of value `"+String($)+"` "+("supplied to `"+Y+"`, expected one of "+ie+"."))}return y(R)}function w(I){function R(X,G,Y,oe,re){if(typeof I!="function")return new g("Property `"+re+"` of component `"+Y+"` has invalid PropType notation inside objectOf.");var $=X[G],ce=q($);if(ce!=="object")return new g("Invalid "+oe+" `"+re+"` of type "+("`"+ce+"` supplied to `"+Y+"`, expected an object."));for(var ie in $)if(n($,ie)){var ae=I($,ie,Y,oe,re+"."+ie,t);if(ae instanceof Error)return ae}return null}return y(R)}function T(I){if(!Array.isArray(I))return r("Invalid argument supplied to oneOfType, expected an instance of array."),a;for(var R=0;R<I.length;R++){var X=I[R];if(typeof X!="function")return r("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+z(X)+" at index "+R+"."),a}function G(Y,oe,re,$,ce){for(var ie=[],ae=0;ae<I.length;ae++){var _e=I[ae],B=_e(Y,oe,re,$,ce,t);if(B==null)return null;B.data&&n(B.data,"expectedType")&&ie.push(B.data.expectedType)}var Be=ie.length>0?", expected one of type ["+ie.join(", ")+"]":"";return new g("Invalid "+$+" `"+ce+"` supplied to "+("`"+re+"`"+Be+"."))}return y(G)}function _(){function I(R,X,G,Y,oe){return H(R[X])?null:new g("Invalid "+Y+" `"+oe+"` supplied to "+("`"+G+"`, expected a ReactNode."))}return y(I)}function L(I,R,X,G,Y){return new g((I||"React class")+": "+R+" type `"+X+"."+G+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+Y+"`.")}function O(I){function R(X,G,Y,oe,re){var $=X[G],ce=q($);if(ce!=="object")return new g("Invalid "+oe+" `"+re+"` of type `"+ce+"` "+("supplied to `"+Y+"`, expected `object`."));for(var ie in I){var ae=I[ie];if(typeof ae!="function")return L(Y,oe,re,ie,se(ae));var _e=ae($,ie,Y,oe,re+"."+ie,t);if(_e)return _e}return null}return y(R)}function M(I){function R(X,G,Y,oe,re){var $=X[G],ce=q($);if(ce!=="object")return new g("Invalid "+oe+" `"+re+"` of type `"+ce+"` "+("supplied to `"+Y+"`, expected `object`."));var ie=e({},X[G],I);for(var ae in ie){var _e=I[ae];if(n(I,ae)&&typeof _e!="function")return L(Y,oe,re,ae,se(_e));if(!_e)return new g("Invalid "+oe+" `"+re+"` key `"+ae+"` supplied to `"+Y+"`.\nBad object: "+JSON.stringify(X[G],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(I),null,"  "));var B=_e($,ae,Y,oe,re+"."+ae,t);if(B)return B}return null}return y(R)}function H(I){switch(typeof I){case"number":case"string":case"undefined":return!0;case"boolean":return!I;case"object":if(Array.isArray(I))return I.every(H);if(I===null||o(I))return!0;var R=m(I);if(R){var X=R.call(I),G;if(R!==I.entries){for(;!(G=X.next()).done;)if(!H(G.value))return!1}else for(;!(G=X.next()).done;){var Y=G.value;if(Y&&!H(Y[1]))return!1}}else return!1;return!0;default:return!1}}function ne(I,R){return I==="symbol"?!0:R?R["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&R instanceof Symbol:!1}function q(I){var R=typeof I;return Array.isArray(I)?"array":I instanceof RegExp?"object":ne(R,I)?"symbol":R}function se(I){if(typeof I>"u"||I===null)return""+I;var R=q(I);if(R==="object"){if(I instanceof Date)return"date";if(I instanceof RegExp)return"regexp"}return R}function z(I){var R=se(I);switch(R){case"array":case"object":return"an "+R;case"boolean":case"date":case"regexp":return"a "+R;default:return R}}function ke(I){return!I.constructor||!I.constructor.name?f:I.constructor.name}return h.checkPropTypes=i,h.resetWarningCache=i.resetWarningCache,h.PropTypes=h,h},oa}var ql;function i1(){if(ql)return ta.exports;ql=1;{var s=Zd(),e=!0;ta.exports=n1()(s.isElement,e)}return ta.exports}var sm=["input","select","textarea","a[href]","button","[tabindex]:not(slot)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],qi=sm.join(","),nm=typeof Element>"u",ws=nm?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,La=!nm&&Element.prototype.getRootNode?function(s){return s.getRootNode()}:function(s){return s.ownerDocument},im=function(e,t,n){var i=Array.prototype.slice.apply(e.querySelectorAll(qi));return t&&ws.call(e,qi)&&i.unshift(e),i=i.filter(n),i},rm=function s(e,t,n){for(var i=[],r=Array.from(e);r.length;){var a=r.shift();if(a.tagName==="SLOT"){var o=a.assignedElements(),c=o.length?o:a.children,l=s(c,!0,n);n.flatten?i.push.apply(i,l):i.push({scope:a,candidates:l})}else{var u=ws.call(a,qi);u&&n.filter(a)&&(t||!e.includes(a))&&i.push(a);var m=a.shadowRoot||typeof n.getShadowRoot=="function"&&n.getShadowRoot(a),f=!n.shadowRootFilter||n.shadowRootFilter(a);if(m&&f){var h=s(m===!0?a.children:m.children,!0,n);n.flatten?i.push.apply(i,h):i.push({scope:a,candidates:h})}else r.unshift.apply(r,a.children)}}return i},am=function(e,t){return e.tabIndex<0&&(t||/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||e.isContentEditable)&&isNaN(parseInt(e.getAttribute("tabindex"),10))?0:e.tabIndex},r1=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},om=function(e){return e.tagName==="INPUT"},a1=function(e){return om(e)&&e.type==="hidden"},o1=function(e){var t=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(n){return n.tagName==="SUMMARY"});return t},c1=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]},l1=function(e){if(!e.name)return!0;var t=e.form||La(e),n=function(o){return t.querySelectorAll('input[type="radio"][name="'+o+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=n(window.CSS.escape(e.name));else try{i=n(e.name)}catch(a){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",a.message),!1}var r=c1(i,e.form);return!r||r===e},u1=function(e){return om(e)&&e.type==="radio"},d1=function(e){return u1(e)&&!l1(e)},Kl=function(e){var t=e.getBoundingClientRect(),n=t.width,i=t.height;return n===0&&i===0},m1=function(e,t){var n=t.displayCheck,i=t.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var r=ws.call(e,"details>summary:first-of-type"),a=r?e.parentElement:e;if(ws.call(a,"details:not([open]) *"))return!0;var o=La(e).host,c=o?.ownerDocument.contains(o)||e.ownerDocument.contains(e);if(!n||n==="full"){if(typeof i=="function"){for(var l=e;e;){var u=e.parentElement,m=La(e);if(u&&!u.shadowRoot&&i(u)===!0)return Kl(e);e.assignedSlot?e=e.assignedSlot:!u&&m!==e.ownerDocument?e=m.host:e=u}e=l}if(c)return!e.getClientRects().length}else if(n==="non-zero-area")return Kl(e);return!1},f1=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(t.tagName==="FIELDSET"&&t.disabled){for(var n=0;n<t.children.length;n++){var i=t.children.item(n);if(i.tagName==="LEGEND")return ws.call(t,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}t=t.parentElement}return!1},Ki=function(e,t){return!(t.disabled||a1(t)||m1(t,e)||o1(t)||f1(t))},Oa=function(e,t){return!(d1(t)||am(t)<0||!Ki(e,t))},h1=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},p1=function s(e){var t=[],n=[];return e.forEach(function(i,r){var a=!!i.scope,o=a?i.scope:i,c=am(o,a),l=a?s(i.candidates):o;c===0?a?t.push.apply(t,l):t.push(o):n.push({documentOrder:r,tabIndex:c,item:i,isScope:a,content:l})}),n.sort(r1).reduce(function(i,r){return r.isScope?i.push.apply(i,r.content):i.push(r.content),i},[]).concat(t)},cm=function(e,t){t=t||{};var n;return t.getShadowRoot?n=rm([e],t.includeContainer,{filter:Oa.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:h1}):n=im(e,t.includeContainer,Oa.bind(null,t)),p1(n)},lm=function(e,t){t=t||{};var n;return t.getShadowRoot?n=rm([e],t.includeContainer,{filter:Ki.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):n=im(e,t.includeContainer,Ki.bind(null,t)),n},kn=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return ws.call(e,qi)===!1?!1:Oa(t,e)},g1=sm.concat("iframe").join(","),Mi=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return ws.call(e,g1)===!1?!1:Ki(t,e)};const b1=Object.freeze(Object.defineProperty({__proto__:null,focusable:lm,isFocusable:Mi,isTabbable:kn,tabbable:cm},Symbol.toStringTag,{value:"Module"}));function Gl(s,e){var t=Object.keys(s);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(s);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(s,i).enumerable})),t.push.apply(t,n)}return t}function Ql(s){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Gl(Object(t),!0).forEach(function(n){y1(s,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(t)):Gl(Object(t)).forEach(function(n){Object.defineProperty(s,n,Object.getOwnPropertyDescriptor(t,n))})}return s}function y1(s,e,t){return e in s?Object.defineProperty(s,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):s[e]=t,s}var Xl=(function(){var s=[];return{activateTrap:function(t){if(s.length>0){var n=s[s.length-1];n!==t&&n.pause()}var i=s.indexOf(t);i===-1||s.splice(i,1),s.push(t)},deactivateTrap:function(t){var n=s.indexOf(t);n!==-1&&s.splice(n,1),s.length>0&&s[s.length-1].unpause()}}})(),x1=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},v1=function(e){return e.key==="Escape"||e.key==="Esc"||e.keyCode===27},k1=function(e){return e.key==="Tab"||e.keyCode===9},Jl=function(e){return setTimeout(e,0)},Zl=function(e,t){var n=-1;return e.every(function(i,r){return t(i)?(n=r,!1):!0}),n},pn=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return typeof e=="function"?e.apply(void 0,n):e},ji=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},N1=function(e,t){var n=t?.document||document,i=Ql({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0},t),r={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0},a,o=function(N,C,w){return N&&N[C]!==void 0?N[C]:i[w||C]},c=function(N){return r.containerGroups.findIndex(function(C){var w=C.container,T=C.tabbableNodes;return w.contains(N)||T.find(function(_){return _===N})})},l=function(N){var C=i[N];if(typeof C=="function"){for(var w=arguments.length,T=new Array(w>1?w-1:0),_=1;_<w;_++)T[_-1]=arguments[_];C=C.apply(void 0,T)}if(C===!0&&(C=void 0),!C){if(C===void 0||C===!1)return C;throw new Error("`".concat(N,"` was specified but was not a node, or did not return a node"))}var L=C;if(typeof C=="string"&&(L=n.querySelector(C),!L))throw new Error("`".concat(N,"` as selector refers to no known node"));return L},u=function(){var N=l("initialFocus");if(N===!1)return!1;if(N===void 0)if(c(n.activeElement)>=0)N=n.activeElement;else{var C=r.tabbableGroups[0],w=C&&C.firstTabbableNode;N=w||l("fallbackFocus")}if(!N)throw new Error("Your focus-trap needs to have at least one focusable element");return N},m=function(){if(r.containerGroups=r.containers.map(function(N){var C=cm(N,i.tabbableOptions),w=lm(N,i.tabbableOptions);return{container:N,tabbableNodes:C,focusableNodes:w,firstTabbableNode:C.length>0?C[0]:null,lastTabbableNode:C.length>0?C[C.length-1]:null,nextTabbableNode:function(_){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,O=w.findIndex(function(M){return M===_});if(!(O<0))return L?w.slice(O+1).find(function(M){return kn(M,i.tabbableOptions)}):w.slice(0,O).reverse().find(function(M){return kn(M,i.tabbableOptions)})}}}),r.tabbableGroups=r.containerGroups.filter(function(N){return N.tabbableNodes.length>0}),r.tabbableGroups.length<=0&&!l("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")},f=function v(N){if(N!==!1&&N!==n.activeElement){if(!N||!N.focus){v(u());return}N.focus({preventScroll:!!i.preventScroll}),r.mostRecentlyFocusedNode=N,x1(N)&&N.select()}},h=function(N){var C=l("setReturnFocus",N);return C||(C===!1?!1:N)},p=function(N){var C=ji(N);if(!(c(C)>=0)){if(pn(i.clickOutsideDeactivates,N)){a.deactivate({returnFocus:i.returnFocusOnDeactivate&&!Mi(C,i.tabbableOptions)});return}pn(i.allowOutsideClick,N)||N.preventDefault()}},g=function(N){var C=ji(N),w=c(C)>=0;w||C instanceof Document?w&&(r.mostRecentlyFocusedNode=C):(N.stopImmediatePropagation(),f(r.mostRecentlyFocusedNode||u()))},y=function(N){var C=ji(N);m();var w=null;if(r.tabbableGroups.length>0){var T=c(C),_=T>=0?r.containerGroups[T]:void 0;if(T<0)N.shiftKey?w=r.tabbableGroups[r.tabbableGroups.length-1].lastTabbableNode:w=r.tabbableGroups[0].firstTabbableNode;else if(N.shiftKey){var L=Zl(r.tabbableGroups,function(se){var z=se.firstTabbableNode;return C===z});if(L<0&&(_.container===C||Mi(C,i.tabbableOptions)&&!kn(C,i.tabbableOptions)&&!_.nextTabbableNode(C,!1))&&(L=T),L>=0){var O=L===0?r.tabbableGroups.length-1:L-1,M=r.tabbableGroups[O];w=M.lastTabbableNode}}else{var H=Zl(r.tabbableGroups,function(se){var z=se.lastTabbableNode;return C===z});if(H<0&&(_.container===C||Mi(C,i.tabbableOptions)&&!kn(C,i.tabbableOptions)&&!_.nextTabbableNode(C))&&(H=T),H>=0){var ne=H===r.tabbableGroups.length-1?0:H+1,q=r.tabbableGroups[ne];w=q.firstTabbableNode}}}else w=l("fallbackFocus");w&&(N.preventDefault(),f(w))},k=function(N){if(v1(N)&&pn(i.escapeDeactivates,N)!==!1){N.preventDefault(),a.deactivate();return}if(k1(N)){y(N);return}},D=function(N){var C=ji(N);c(C)>=0||pn(i.clickOutsideDeactivates,N)||pn(i.allowOutsideClick,N)||(N.preventDefault(),N.stopImmediatePropagation())},j=function(){if(r.active)return Xl.activateTrap(a),r.delayInitialFocusTimer=i.delayInitialFocus?Jl(function(){f(u())}):f(u()),n.addEventListener("focusin",g,!0),n.addEventListener("mousedown",p,{capture:!0,passive:!1}),n.addEventListener("touchstart",p,{capture:!0,passive:!1}),n.addEventListener("click",D,{capture:!0,passive:!1}),n.addEventListener("keydown",k,{capture:!0,passive:!1}),a},S=function(){if(r.active)return n.removeEventListener("focusin",g,!0),n.removeEventListener("mousedown",p,!0),n.removeEventListener("touchstart",p,!0),n.removeEventListener("click",D,!0),n.removeEventListener("keydown",k,!0),a};return a={get active(){return r.active},get paused(){return r.paused},activate:function(N){if(r.active)return this;var C=o(N,"onActivate"),w=o(N,"onPostActivate"),T=o(N,"checkCanFocusTrap");T||m(),r.active=!0,r.paused=!1,r.nodeFocusedBeforeActivation=n.activeElement,C&&C();var _=function(){T&&m(),j(),w&&w()};return T?(T(r.containers.concat()).then(_,_),this):(_(),this)},deactivate:function(N){if(!r.active)return this;var C=Ql({onDeactivate:i.onDeactivate,onPostDeactivate:i.onPostDeactivate,checkCanReturnFocus:i.checkCanReturnFocus},N);clearTimeout(r.delayInitialFocusTimer),r.delayInitialFocusTimer=void 0,S(),r.active=!1,r.paused=!1,Xl.deactivateTrap(a);var w=o(C,"onDeactivate"),T=o(C,"onPostDeactivate"),_=o(C,"checkCanReturnFocus"),L=o(C,"returnFocus","returnFocusOnDeactivate");w&&w();var O=function(){Jl(function(){L&&f(h(r.nodeFocusedBeforeActivation)),T&&T()})};return L&&_?(_(h(r.nodeFocusedBeforeActivation)).then(O,O),this):(O(),this)},pause:function(){return r.paused||!r.active?this:(r.paused=!0,S(),this)},unpause:function(){return!r.paused||!r.active?this:(r.paused=!1,m(),j(),this)},updateContainerElements:function(N){var C=[].concat(N).filter(Boolean);return r.containers=C.map(function(w){return typeof w=="string"?n.querySelector(w):w}),r.active&&m(),this}},a.updateContainerElements(e),a};const w1=Object.freeze(Object.defineProperty({__proto__:null,createFocusTrap:N1},Symbol.toStringTag,{value:"Module"})),D1=nu(w1),C1=nu(b1);var ca,eu;function E1(){if(eu)return ca;eu=1;function s(S){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},s(S)}function e(S,v){if(!(S instanceof v))throw new TypeError("Cannot call a class as a function")}function t(S,v){for(var N=0;N<v.length;N++){var C=v[N];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(S,C.key,C)}}function n(S,v,N){return v&&t(S.prototype,v),Object.defineProperty(S,"prototype",{writable:!1}),S}function i(S,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(v&&v.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),Object.defineProperty(S,"prototype",{writable:!1}),v&&r(S,v)}function r(S,v){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(C,w){return C.__proto__=w,C},r(S,v)}function a(S){var v=l();return function(){var C=u(S),w;if(v){var T=u(this).constructor;w=Reflect.construct(C,arguments,T)}else w=C.apply(this,arguments);return o(this,w)}}function o(S,v){if(v&&(s(v)==="object"||typeof v=="function"))return v;if(v!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c(S)}function c(S){if(S===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}function l(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function u(S){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(N){return N.__proto__||Object.getPrototypeOf(N)},u(S)}function m(S,v,N){return v in S?Object.defineProperty(S,v,{value:N,enumerable:!0,configurable:!0,writable:!0}):S[v]=N,S}var f=tu(),h=i1(),p=D1,g=p.createFocusTrap,y=C1,k=y.isFocusable,D=(function(S){i(N,S);var v=a(N);function N(C){var w;e(this,N),w=v.call(this,C),m(c(w),"getNodeForOption",function(L){var O,M=(O=this.internalOptions[L])!==null&&O!==void 0?O:this.originalOptions[L];if(typeof M=="function"){for(var H=arguments.length,ne=new Array(H>1?H-1:0),q=1;q<H;q++)ne[q-1]=arguments[q];M=M.apply(void 0,ne)}if(M===!0&&(M=void 0),!M){if(M===void 0||M===!1)return M;throw new Error("`".concat(L,"` was specified but was not a node, or did not return a node"))}var se=M;if(typeof M=="string"){var z;if(se=(z=this.getDocument())===null||z===void 0?void 0:z.querySelector(M),!se)throw new Error("`".concat(L,"` as selector refers to no known node"))}return se}),w.handleDeactivate=w.handleDeactivate.bind(c(w)),w.handlePostDeactivate=w.handlePostDeactivate.bind(c(w)),w.handleClickOutsideDeactivates=w.handleClickOutsideDeactivates.bind(c(w)),w.internalOptions={returnFocusOnDeactivate:!1,checkCanReturnFocus:null,onDeactivate:w.handleDeactivate,onPostDeactivate:w.handlePostDeactivate,clickOutsideDeactivates:w.handleClickOutsideDeactivates},w.originalOptions={returnFocusOnDeactivate:!0,onDeactivate:null,onPostDeactivate:null,checkCanReturnFocus:null,clickOutsideDeactivates:!1};var T=C.focusTrapOptions;for(var _ in T)if(Object.prototype.hasOwnProperty.call(T,_)){if(_==="returnFocusOnDeactivate"||_==="onDeactivate"||_==="onPostDeactivate"||_==="checkCanReturnFocus"||_==="clickOutsideDeactivates"){w.originalOptions[_]=T[_];continue}w.internalOptions[_]=T[_]}return w.outsideClick=null,w.focusTrapElements=C.containerElements||[],w.updatePreviousElement(),w}return n(N,[{key:"getDocument",value:function(){return this.props.focusTrapOptions.document||(typeof document<"u"?document:void 0)}},{key:"getReturnFocusNode",value:function(){var w=this.getNodeForOption("setReturnFocus",this.previouslyFocusedElement);return w||(w===!1?!1:this.previouslyFocusedElement)}},{key:"updatePreviousElement",value:function(){var w=this.getDocument();w&&(this.previouslyFocusedElement=w.activeElement)}},{key:"deactivateTrap",value:function(){!this.focusTrap||!this.focusTrap.active||this.focusTrap.deactivate({returnFocus:!1,checkCanReturnFocus:null,onDeactivate:this.originalOptions.onDeactivate})}},{key:"handleClickOutsideDeactivates",value:function(w){var T=typeof this.originalOptions.clickOutsideDeactivates=="function"?this.originalOptions.clickOutsideDeactivates.call(null,w):this.originalOptions.clickOutsideDeactivates;return T&&(this.outsideClick={target:w.target,allowDeactivation:T}),T}},{key:"handleDeactivate",value:function(){this.originalOptions.onDeactivate&&this.originalOptions.onDeactivate.call(null),this.deactivateTrap()}},{key:"handlePostDeactivate",value:function(){var w=this,T=function(){var L=w.getReturnFocusNode(),O=!!(w.originalOptions.returnFocusOnDeactivate&&L!==null&&L!==void 0&&L.focus&&(!w.outsideClick||w.outsideClick.allowDeactivation&&!k(w.outsideClick.target,w.internalOptions.tabbableOptions))),M=w.internalOptions.preventScroll,H=M===void 0?!1:M;O&&L.focus({preventScroll:H}),w.originalOptions.onPostDeactivate&&w.originalOptions.onPostDeactivate.call(null),w.outsideClick=null};this.originalOptions.checkCanReturnFocus?this.originalOptions.checkCanReturnFocus.call(null,this.getReturnFocusNode()).then(T,T):T()}},{key:"setupFocusTrap",value:function(){if(this.focusTrap)this.props.active&&!this.focusTrap.active&&(this.focusTrap.activate(),this.props.paused&&this.focusTrap.pause());else{var w=this.focusTrapElements.some(Boolean);w&&(this.focusTrap=this.props._createFocusTrap(this.focusTrapElements,this.internalOptions),this.props.active&&this.focusTrap.activate(),this.props.paused&&this.focusTrap.pause())}}},{key:"componentDidMount",value:function(){this.props.active&&this.setupFocusTrap()}},{key:"componentDidUpdate",value:function(w){if(this.focusTrap){w.containerElements!==this.props.containerElements&&this.focusTrap.updateContainerElements(this.props.containerElements);var T=!w.active&&this.props.active,_=w.active&&!this.props.active,L=!w.paused&&this.props.paused,O=w.paused&&!this.props.paused;if(T&&(this.updatePreviousElement(),this.focusTrap.activate()),_){this.deactivateTrap();return}L&&this.focusTrap.pause(),O&&this.focusTrap.unpause()}else w.containerElements!==this.props.containerElements&&(this.focusTrapElements=this.props.containerElements),this.props.active&&(this.updatePreviousElement(),this.setupFocusTrap())}},{key:"componentWillUnmount",value:function(){this.deactivateTrap()}},{key:"render",value:function(){var w=this,T=this.props.children?f.Children.only(this.props.children):void 0;if(T){if(T.type&&T.type===f.Fragment)throw new Error("A focus-trap cannot use a Fragment as its child container. Try replacing it with a <div> element.");var _=function(M){var H=w.props.containerElements;T&&(typeof T.ref=="function"?T.ref(M):T.ref&&(T.ref.current=M)),w.focusTrapElements=H||[M]},L=f.cloneElement(T,{ref:_});return L}return null}}]),N})(f.Component),j=typeof Element>"u"?Function:Element;return D.propTypes={active:h.bool,paused:h.bool,focusTrapOptions:h.shape({document:h.object,onActivate:h.func,onPostActivate:h.func,checkCanFocusTrap:h.func,onDeactivate:h.func,onPostDeactivate:h.func,checkCanReturnFocus:h.func,initialFocus:h.oneOfType([h.instanceOf(j),h.string,h.bool,h.func]),fallbackFocus:h.oneOfType([h.instanceOf(j),h.string,h.func]),escapeDeactivates:h.oneOfType([h.bool,h.func]),clickOutsideDeactivates:h.oneOfType([h.bool,h.func]),returnFocusOnDeactivate:h.bool,setReturnFocus:h.oneOfType([h.instanceOf(j),h.string,h.bool,h.func]),allowOutsideClick:h.oneOfType([h.bool,h.func]),preventScroll:h.bool,tabbableOptions:h.shape({displayCheck:h.oneOf(["full","non-zero-area","none"]),getShadowRoot:h.oneOfType([h.bool,h.func])})}),containerElements:h.arrayOf(h.instanceOf(j)),children:h.oneOfType([h.element,h.instanceOf(j)])},D.defaultProps={active:!0,paused:!1,focusTrapOptions:{},_createFocusTrap:g},ca=D,ca}E1();const um="pain-tracker:alerts-log";function P1(){try{const s=localStorage.getItem(um);return s?JSON.parse(s):[]}catch{return[]}}function S1(s){try{const e=P1();e.unshift(s),localStorage.setItem(um,JSON.stringify(e.slice(0,50))),window.dispatchEvent(new Event("alerts-log-updated"))}catch{}}const j1=(s,e)=>{for(let t=1;t<s.length;t++)if(s[t]-s[t-1]>=e)return t;return-1},_1=(s,e,t)=>{for(let n=e;n<s.length;n++){const i=s.slice(n-e,n).reduce((r,a)=>r+a,0)/e;if(s[n]-i>=t)return n}return-1},T1=(s,e)=>{const t=s.reduce((i,r)=>i+r,0)/s.length,n=Math.sqrt(s.reduce((i,r)=>i+Math.pow(r-t,2),0)/s.length);for(let i=0;i<s.length;i++)if(Math.abs(s[i]-t)/n>=e)return i;return-1},A1="pain-tracker:alerts-settings",V1="pain-tracker:notification-consent";function M1(s){const e=V.useRef(new Set);V.useEffect(()=>{try{const t=localStorage.getItem(A1),n=t?JSON.parse(t):{threshold:3},i=localStorage.getItem(V1),r=s.map(c=>c.pain),a=[c=>j1(c,n.threshold),c=>_1(c,3,1),c=>T1(c,2)];let o=-1;for(const c of a){const l=c(r);if(l>=0){o=l;break}}if(o>=0&&!e.current.has(o)){e.current.add(o);const c=`Sudden pain increase to ${r[o]} (entry ${o+1})`;try{S1({id:`${Date.now()}-${Math.random().toString(36).slice(2,7)}`,time:new Date().toISOString(),message:c}),window.dispatchEvent(new Event("alerts-log-updated"))}catch{}i==="granted"&&typeof Notification<"u"?new Notification("Pain pattern detected",{body:c}):console.debug("Pattern alert suppressed (no consent)")}}catch(t){console.debug("usePatternAlerts: error",t)}},[s])}function L1(){const[s,e]=V.useState(navigator.onLine);return V.useEffect(()=>{const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t),window.addEventListener("offline",n),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}},[]),s?null:d.jsxDEV("div",{className:"bg-orange-500 text-white px-4 py-2",children:d.jsxDEV("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[d.jsxDEV("div",{className:"flex items-center space-x-2",children:[d.jsxDEV(jf,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/OfflineIndicator.tsx",lineNumber:92,columnNumber:11},this),d.jsxDEV("div",{children:[d.jsxDEV("p",{className:"font-medium",children:"You're currently offline"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/OfflineIndicator.tsx",lineNumber:94,columnNumber:13},this),d.jsxDEV("p",{className:"text-xs opacity-90",children:"Your data is saved locally and will sync when you're back online"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/OfflineIndicator.tsx",lineNumber:95,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/OfflineIndicator.tsx",lineNumber:93,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/OfflineIndicator.tsx",lineNumber:91,columnNumber:9},this),d.jsxDEV("button",{onClick:()=>window.location.reload(),className:"flex items-center space-x-1 px-3 py-1 bg-white/20 hover:bg-white/30 rounded-md transition-colors",children:[d.jsxDEV(eh,{className:"h-4 w-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/OfflineIndicator.tsx",lineNumber:105,columnNumber:11},this),d.jsxDEV("span",{className:"text-xs",children:"Retry"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/OfflineIndicator.tsx",lineNumber:106,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/OfflineIndicator.tsx",lineNumber:101,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/OfflineIndicator.tsx",lineNumber:90,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/pwa/OfflineIndicator.tsx",lineNumber:89,columnNumber:5},this)}function O1({size:s=24,className:e="",color:t=te.colors.primary[500]}){return d.jsxDEV("svg",{width:s,height:s,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:[d.jsxDEV("circle",{cx:"24",cy:"24",r:"22",fill:t},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLogo.tsx",lineNumber:154,columnNumber:7},this),d.jsxDEV("rect",{x:"19",y:"10",width:"10",height:"28",rx:"3",fill:"white"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLogo.tsx",lineNumber:157,columnNumber:7},this),d.jsxDEV("rect",{x:"10",y:"19",width:"28",height:"10",rx:"3",fill:"white"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLogo.tsx",lineNumber:158,columnNumber:7},this),d.jsxDEV("path",{d:"M8 32 Q12 26 16 32 T24 28 Q28 24 32 28 T40 30",stroke:te.colors.secondary[500],strokeWidth:"4",fill:"none",strokeLinecap:"round"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLogo.tsx",lineNumber:161,columnNumber:7},this),d.jsxDEV("circle",{cx:"36",cy:"12",r:"3",fill:te.colors.accent[500]},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLogo.tsx",lineNumber:170,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLogo.tsx",lineNumber:145,columnNumber:5},this)}function I1({message:s="Loading Pain Tracker Pro...",progress:e,showProgress:t=!1,className:n=""}){const[i,r]=V.useState(0);return V.useEffect(()=>{if(e!==void 0){const a=setTimeout(()=>{r(e)},100);return()=>clearTimeout(a)}},[e]),d.jsxDEV("div",{className:`min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-green-50 ${n}`,children:d.jsxDEV("div",{className:"text-center space-y-8",children:[d.jsxDEV("div",{className:"relative",children:[d.jsxDEV("div",{className:"animate-pulse",children:d.jsxDEV(O1,{size:96,className:"mx-auto"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:34,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:33,columnNumber:11},this),d.jsxDEV("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsxDEV("div",{className:"w-24 h-24 rounded-full border-4 border-blue-200 animate-ping opacity-75"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:39,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:38,columnNumber:11},this),d.jsxDEV("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsxDEV("div",{className:"w-32 h-32 rounded-full border-2 border-green-200 animate-ping opacity-50 animation-delay-150"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:42,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:41,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:32,columnNumber:9},this),d.jsxDEV("div",{className:"space-y-2",children:[d.jsxDEV("h1",{className:"text-3xl font-bold text-slate-900",children:["Pain Tracker",d.jsxDEV("span",{className:"inline-flex items-center ml-2 px-2 py-1 rounded-full text-xs bg-gradient-to-r from-purple-600 to-blue-600 text-white font-semibold",children:"PRO"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:50,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:48,columnNumber:11},this),d.jsxDEV("p",{className:"text-slate-600 font-medium",children:"AI-Powered Pain Management"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:54,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:47,columnNumber:9},this),d.jsxDEV("div",{className:"space-y-4",children:[d.jsxDEV("p",{className:"text-slate-700 font-medium",children:s},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:59,columnNumber:11},this),t&&d.jsxDEV("div",{className:"w-64 mx-auto",children:[d.jsxDEV("div",{className:"flex justify-between text-sm text-slate-600 mb-2",children:[d.jsxDEV("span",{children:"Loading..."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:65,columnNumber:17},this),d.jsxDEV("span",{children:[Math.round(i),"%"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:66,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:64,columnNumber:15},this),d.jsxDEV("div",{className:"w-full bg-slate-200 rounded-full h-2 overflow-hidden",children:d.jsxDEV("div",{className:"h-full bg-gradient-to-r from-blue-500 to-green-500 rounded-full transition-all duration-500 ease-out",style:{width:`${i}%`}},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:69,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:68,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:63,columnNumber:13},this),!t&&d.jsxDEV("div",{className:"flex items-center justify-center space-x-2",children:[d.jsxDEV("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:80,columnNumber:15},this),d.jsxDEV("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-bounce animation-delay-100"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:81,columnNumber:15},this),d.jsxDEV("div",{className:"w-2 h-2 bg-purple-500 rounded-full animate-bounce animation-delay-200"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:82,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:79,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:58,columnNumber:9},this),d.jsxDEV("div",{className:"grid grid-cols-3 gap-4 text-xs text-slate-600 max-w-md mx-auto",children:[d.jsxDEV("div",{className:"text-center space-y-1",children:[d.jsxDEV("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mx-auto",children:d.jsxDEV("svg",{className:"w-4 h-4 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsxDEV("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:92,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:91,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:90,columnNumber:13},this),d.jsxDEV("span",{children:"FHIR Compliant"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:95,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:89,columnNumber:11},this),d.jsxDEV("div",{className:"text-center space-y-1",children:[d.jsxDEV("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:d.jsxDEV("svg",{className:"w-4 h-4 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsxDEV("path",{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3z"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:100,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:99,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:98,columnNumber:13},this),d.jsxDEV("span",{children:"AI Analytics"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:103,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:97,columnNumber:11},this),d.jsxDEV("div",{className:"text-center space-y-1",children:[d.jsxDEV("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center mx-auto",children:d.jsxDEV("svg",{className:"w-4 h-4 text-purple-600",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsxDEV("path",{d:"M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:108,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:107,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:106,columnNumber:13},this),d.jsxDEV("span",{children:"Offline Ready"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:111,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:105,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:88,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:30,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/branding/BrandedLoadingScreen.tsx",lineNumber:29,columnNumber:5},this)}const R1=`
.animation-delay-100 {
  animation-delay: 0.1s;
}
.animation-delay-150 {
  animation-delay: 0.15s;
}
.animation-delay-200 {
  animation-delay: 0.2s;
}
`;if(typeof document<"u"){const s=document.createElement("style");s.textContent=R1,document.head.appendChild(s)}function U1(){const{context:s,forceState:e,preferences:t,updatePreferences:n}=ao(),[i,r]=V.useState(!0),a=V.useCallback(()=>{r(c=>!c)},[]);if(V.useEffect(()=>{const c=l=>{const u=l.target,m=u.tagName==="INPUT"||u.tagName==="TEXTAREA"||u.isContentEditable;if(l.key==="t"&&(l.ctrlKey||l.metaKey))l.preventDefault(),a();else if(l.key==="Escape"&&i)r(!1);else if(i&&!m&&["1","2","3","4"].includes(l.key)){const f=["stable","rising","flare","recovery"],h=parseInt(l.key)-1;f[h]&&e(f[h])}};return window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c)},[i,a,e]),!i)return d.jsxDEV("button",{onClick:a,className:"fixed bottom-20 right-4 z-[80] px-3 py-2 bg-purple-600 hover:bg-purple-500 text-white text-xs rounded-lg shadow-lg hover:shadow-xl transition-all hover:scale-105","aria-label":"Show tone state tester (Ctrl+T)",title:"Tone Tester (Ctrl+T)",children:" Tone Tester"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:66,columnNumber:7},this);const o=[{state:"stable",emoji:"",description:"Brief, upbeat, professional-warm",key:"1"},{state:"rising",emoji:"",description:"Steady, specific, encouraging",key:"2"},{state:"flare",emoji:"",description:"Short lines, imperative, slow cadence",key:"3"},{state:"recovery",emoji:"",description:"Warm, factual, no cheerleading",key:"4"}];return d.jsxDEV("div",{className:"fixed bottom-4 left-4 z-[80] bg-gray-900 text-white p-4 rounded-lg shadow-2xl max-w-md max-h-[85vh] overflow-y-auto border-2 border-purple-600 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[d.jsxDEV("div",{className:"flex items-center justify-between mb-3 sticky top-0 bg-gray-900 pb-2 border-b border-gray-700 z-10",children:[d.jsxDEV("h3",{className:"text-sm font-bold text-purple-400",children:" Tone State Tester"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:87,columnNumber:9},this),d.jsxDEV("button",{onClick:()=>r(!1),className:"text-gray-400 hover:text-white text-xl leading-none px-2 py-1 rounded hover:bg-gray-800 transition-colors","aria-label":"Minimize tone state tester (Esc)",title:"Minimize (Esc)",children:""},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:88,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:86,columnNumber:7},this),d.jsxDEV("div",{className:"mb-3 p-2 bg-purple-900/30 rounded border border-purple-700/50 text-xs text-purple-300",children:[d.jsxDEV("div",{className:"font-bold mb-1",children:" Shortcuts:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:100,columnNumber:9},this),d.jsxDEV("div",{className:"space-y-0.5 text-purple-200",children:[d.jsxDEV("div",{children:[d.jsxDEV("kbd",{className:"px-1 py-0.5 bg-gray-800 rounded text-xs",children:"Ctrl+T"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:102,columnNumber:16},this)," Toggle panel"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:102,columnNumber:11},this),d.jsxDEV("div",{children:[d.jsxDEV("kbd",{className:"px-1 py-0.5 bg-gray-800 rounded text-xs",children:"Esc"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:103,columnNumber:16},this)," Minimize"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:103,columnNumber:11},this),d.jsxDEV("div",{children:[d.jsxDEV("kbd",{className:"px-1 py-0.5 bg-gray-800 rounded text-xs",children:"1-4"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:104,columnNumber:16},this)," Force states"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:104,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:101,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:99,columnNumber:7},this),d.jsxDEV("div",{className:"mb-3 p-2 bg-gray-800 rounded border border-gray-700",children:[d.jsxDEV("div",{className:"text-xs text-gray-400 mb-1",children:"Current State:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:110,columnNumber:9},this),d.jsxDEV("div",{className:"text-sm font-mono font-bold text-purple-300",children:s.state.toUpperCase()},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:111,columnNumber:9},this),s.painTrend&&d.jsxDEV("div",{className:"text-xs text-gray-400 mt-1",children:["Pain: ",s.painTrend.current.toFixed(1)," (",s.painTrend.direction==="up"?"":s.painTrend.direction==="down"?"":"",")"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:113,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:109,columnNumber:7},this),d.jsxDEV("div",{className:"space-y-2 mb-3",children:[d.jsxDEV("div",{className:"text-xs text-gray-400 mb-2",children:"Force State:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:121,columnNumber:9},this),o.map(({state:c,emoji:l,description:u,key:m})=>d.jsxDEV("button",{onClick:()=>e(c),className:`w-full px-3 py-2 text-left text-xs rounded transition-all ${s.state===c?"bg-purple-600 text-white shadow-md":"bg-gray-800 hover:bg-gray-700 text-gray-300"}`,children:[d.jsxDEV("div",{className:"flex items-center justify-between",children:[d.jsxDEV("div",{children:[d.jsxDEV("span",{className:"mr-2",children:l},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:134,columnNumber:17},this),d.jsxDEV("span",{className:"font-bold",children:c},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:135,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:133,columnNumber:15},this),d.jsxDEV("kbd",{className:"px-1.5 py-0.5 bg-gray-700 rounded text-xs",children:m},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:137,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:132,columnNumber:13},this),d.jsxDEV("div",{className:"text-xs opacity-70 mt-1",children:u},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:139,columnNumber:13},this)]},c,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:123,columnNumber:11},this))]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:120,columnNumber:7},this),d.jsxDEV("div",{className:"border-t border-gray-700 pt-3 space-y-2",children:[d.jsxDEV("div",{className:"text-xs text-gray-400 mb-2",children:"Preferences:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:146,columnNumber:9},this),d.jsxDEV("label",{className:"flex items-center justify-between text-xs cursor-pointer hover:bg-gray-800 p-1 rounded transition-colors",children:[d.jsxDEV("span",{children:"Warmth"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:149,columnNumber:11},this),d.jsxDEV("select",{value:t.warmth,onChange:c=>n({warmth:Number(c.target.value)}),className:"bg-gray-800 border border-gray-700 rounded px-2 py-1 text-xs hover:border-purple-600 transition-colors",children:[d.jsxDEV("option",{value:"0",children:"Neutral"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:155,columnNumber:13},this),d.jsxDEV("option",{value:"1",children:"Warm"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:156,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:150,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:148,columnNumber:9},this),d.jsxDEV("label",{className:"flex items-center justify-between text-xs cursor-pointer hover:bg-gray-800 p-1 rounded transition-colors",children:[d.jsxDEV("span",{children:"Coach Intensity"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:161,columnNumber:11},this),d.jsxDEV("select",{value:t.coachIntensity,onChange:c=>n({coachIntensity:Number(c.target.value)}),className:"bg-gray-800 border border-gray-700 rounded px-2 py-1 text-xs hover:border-purple-600 transition-colors",children:[d.jsxDEV("option",{value:"0",children:"Minimal"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:167,columnNumber:13},this),d.jsxDEV("option",{value:"1",children:"Guided"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:168,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:162,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:160,columnNumber:9},this),d.jsxDEV("label",{className:"flex items-center justify-between text-xs cursor-pointer hover:bg-gray-800 p-1 rounded transition-colors",children:[d.jsxDEV("span",{children:"Medical Terms"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:173,columnNumber:11},this),d.jsxDEV("input",{type:"checkbox",checked:t.medicalTerms,onChange:c=>n({medicalTerms:c.target.checked}),className:"bg-gray-800 border border-gray-700 rounded"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:174,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:172,columnNumber:9},this),d.jsxDEV("label",{className:"flex items-center justify-between text-xs cursor-pointer hover:bg-gray-800 p-1 rounded transition-colors",children:[d.jsxDEV("span",{children:"Allow Lightness"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:183,columnNumber:11},this),d.jsxDEV("input",{type:"checkbox",checked:t.allowLightness,onChange:c=>n({allowLightness:c.target.checked}),className:"bg-gray-800 border border-gray-700 rounded"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:184,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:182,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:145,columnNumber:7},this),d.jsxDEV("div",{className:"border-t border-gray-700 pt-3 mt-3",children:d.jsxDEV("div",{className:"text-xs text-gray-400 space-y-1",children:[d.jsxDEV("div",{className:"font-bold mb-1",children:"Test Areas:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:196,columnNumber:11},this),d.jsxDEV("div",{children:" QuickLogStepper: Pain slider, locations, notes"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:197,columnNumber:11},this),d.jsxDEV("div",{children:" PanicMode: Greeting, breathing, crisis text"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:198,columnNumber:11},this),d.jsxDEV("div",{children:" Dashboard: Empty states, insights"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:199,columnNumber:11},this),d.jsxDEV("div",{children:" Analytics: Progress summaries"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:200,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:195,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:194,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/dev/ToneStateTester.tsx",lineNumber:85,columnNumber:5},this)}const F1=()=>d.jsxDEV("div",{className:"min-h-screen flex items-center justify-center bg-background",children:d.jsxDEV("div",{className:"text-center p-8 bg-card rounded-lg border shadow-lg max-w-md mx-4",children:[d.jsxDEV("h2",{className:"text-2xl font-semibold text-destructive mb-4",children:"Something went wrong"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:38,columnNumber:9},void 0),d.jsxDEV("p",{className:"text-muted-foreground mb-6",children:"We encountered an unexpected error. Please try refreshing the page."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:39,columnNumber:9},void 0),d.jsxDEV("button",{onClick:()=>window.location.reload(),className:"bg-primary text-primary-foreground px-6 py-2 rounded-md hover:bg-primary/90 transition-colors",children:"Refresh Page"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:40,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:37,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:36,columnNumber:5},void 0),z1=()=>d.jsxDEV(I1,{message:"Loading Pain Tracker Pro..."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:53,columnNumber:5},void 0);function B1(){Lk({enableValidation:!0,enableAutoLabeling:!0,announceRouteChanges:!0}),V.useEffect(()=>{$v().catch(t=>{console.error("Failed to initialize tone engine:",t)})},[]),V.useEffect(()=>{ps.isAppInstalled(),(async()=>{try{const{offlineStorage:n}=await st(async()=>{const{offlineStorage:i}=await import("./offline-storage-CQ7mII8k.js");return{offlineStorage:i}},[]);await n.init();try{await st(()=>import("./background-sync-Db6JzLVQ.js"),__vite__mapDeps([5,6,2,1,3]))}catch{}await ps.enableHealthDataSync()}catch{}})(),window.resetPWA=async()=>{try{await ps.resetServiceWorker()}catch(n){console.error("PWA Reset failed:",n)}}},[]);const e=Gi(qm).map(t=>({time:t.timestamp,pain:t.baselineData?.pain??0}));return M1(e),d.jsxDEV(sp,{children:d.jsxDEV(Tk,{children:d.jsxDEV(Hv,{children:d.jsxDEV(yk,{children:d.jsxDEV(ek,{children:d.jsxDEV(ZN,{children:d.jsxDEV("div",{className:"min-h-screen bg-background transition-colors",role:"application","aria-label":"Pain Tracker Pro Application",children:[d.jsxDEV(L1,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:126,columnNumber:19},this),d.jsxDEV(UN,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:127,columnNumber:19},this),d.jsxDEV(BN,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:128,columnNumber:19},this),d.jsxDEV(WN,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:129,columnNumber:19},this),d.jsxDEV($N,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:130,columnNumber:19},this),d.jsxDEV(Dm,{fallback:d.jsxDEV(F1,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:131,columnNumber:44},this),children:d.jsxDEV(V.Suspense,{fallback:d.jsxDEV(z1,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:132,columnNumber:41},this),children:d.jsxDEV(ck,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:133,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:132,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:131,columnNumber:19},this),d.jsxDEV(IN,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:136,columnNumber:17},this),d.jsxDEV(RN,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:137,columnNumber:17},this),d.jsxDEV(U1,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:138,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:125,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:124,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:123,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:122,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:121,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:120,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/App.tsx",lineNumber:119,columnNumber:5},this)}km.createRoot(document.getElementById("root")).render(d.jsxDEV(ge.StrictMode,{children:d.jsxDEV(B1,{},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/main.tsx",lineNumber:9,columnNumber:5},void 0)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/main.tsx",lineNumber:8,columnNumber:3},void 0));export{Ra as A,yt as B,df as C,lu as F,uu as H,Li as I,Bf as L,ih as S,Fa as T,vs as X,Qi as a,fu as b,fe as c,Qs as d,Ji as e,Df as f,rp as g,ap as h,gh as i,d as j,Ve as s};
//# sourceMappingURL=index-DcFiGg85.js.map
