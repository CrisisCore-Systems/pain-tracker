import{r as e,j as s}from"./react-vendor-CM2d6bHp.js";import{C as t,m as r,n as o,t as i,e as n,I as a,o as m,B as c}from"./index-CMuG_LiM.js";import{ap as l,aT as u}from"./icons-vendor-DZ-9b690.js";import{f as y}from"./date-vendor-Bi3xipBn.js";import"./chart-vendor-C6dKBweC.js";import"./state-vendor-gOFTyJpA.js";import"./pdf-vendor-zZbfvrDE.js";import"./i18n-vendor-C-xkjauL.js";function h({entries:h,onEditEntry:p}){const[N,d]=e.useState(""),x=N.trim().toLowerCase(),j=e.useMemo(()=>{const e=[...h].sort((e,s)=>new Date(s.timestamp).getTime()-new Date(e.timestamp).getTime());return x?e.filter(e=>function(e){const s=y(new Date(e.timestamp),"EEE, MMM d, yyyy h:mm a"),t=e.timestamp.split("T")[0]??"",r=(e.baselineData.locations??[]).join(" "),o=(e.baselineData.symptoms??[]).join(" "),i=e.notes??"";return[s,t,String(e.baselineData.pain),r,o,i].join(" ").toLowerCase()}(e).includes(x)):e},[h,x]),b=e.useMemo(()=>x?`${j.length} match${1===j.length?"":"es"}`:`${h.length} total`,[h.length,j.length,x]);return s.jsxDEV("div",{className:"mx-auto w-full max-w-5xl space-y-4",children:s.jsxDEV(t,{children:[s.jsxDEV(r,{children:[s.jsxDEV(o,{children:"History"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/history/HistoryPage.tsx",lineNumber:48,columnNumber:11},this),s.jsxDEV(i,{children:"Search by date, pain level, location, symptoms, or notes."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/history/HistoryPage.tsx",lineNumber:49,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/history/HistoryPage.tsx",lineNumber:47,columnNumber:9},this),s.jsxDEV(n,{className:"space-y-3",children:[s.jsxDEV("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-end sm:justify-between",children:[s.jsxDEV(a,{label:"Search",placeholder:"Try: Dec 22, 7, lower back, cramping...",value:N,onChange:e=>d(e.target.value),inputMode:"search",startIcon:s.jsxDEV(l,{className:"h-4 w-4","aria-hidden":"true"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/history/HistoryPage.tsx",lineNumber:61,columnNumber:26},this),fullWidth:!0},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/history/HistoryPage.tsx",lineNumber:55,columnNumber:13},this),s.jsxDEV("div",{className:"flex items-center justify-between gap-2 sm:justify-end",children:[s.jsxDEV(m,{variant:"outline",children:b},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/history/HistoryPage.tsx",lineNumber:65,columnNumber:15},this),x&&s.jsxDEV(c,{type:"button",variant:"outline",onClick:()=>d(""),children:"Clear"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/history/HistoryPage.tsx",lineNumber:67,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/history/HistoryPage.tsx",lineNumber:64,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/history/HistoryPage.tsx",lineNumber:54,columnNumber:11},this),0===j.length?s.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"No matching entries."},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/history/HistoryPage.tsx",lineNumber:75,columnNumber:13},this):s.jsxDEV("div",{className:"space-y-3",children:j.map(e=>{const t=y(new Date(e.timestamp),"EEE, MMM d, yyyy h:mm a"),r=e.baselineData.locations??[],o=e.baselineData.symptoms??[];return s.jsxDEV("div",{className:"rounded-lg border bg-card p-4",children:[s.jsxDEV("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between",children:[s.jsxDEV("div",{className:"space-y-1",children:[s.jsxDEV("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsxDEV("span",{className:"text-sm font-semibold",children:["Pain ",e.baselineData.pain,"/10"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/history/HistoryPage.tsx",lineNumber:88,columnNumber:27},this),s.jsxDEV("span",{className:"text-sm text-muted-foreground",children:t},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/history/HistoryPage.tsx",lineNumber:89,columnNumber:27},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/history/HistoryPage.tsx",lineNumber:87,columnNumber:25},this),s.jsxDEV("div",{className:"flex flex-wrap gap-2",children:[s.jsxDEV(m,{variant:"outline",children:[r.length," location",1===r.length?"":"s"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/history/HistoryPage.tsx",lineNumber:92,columnNumber:27},this),s.jsxDEV(m,{variant:"outline",children:[o.length," symptom",1===o.length?"":"s"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/history/HistoryPage.tsx",lineNumber:93,columnNumber:27},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/history/HistoryPage.tsx",lineNumber:91,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/history/HistoryPage.tsx",lineNumber:86,columnNumber:23},this),s.jsxDEV(c,{type:"button",variant:"outline",onClick:()=>p(e.id),className:"sm:self-start",children:[s.jsxDEV(u,{className:"mr-2 h-4 w-4","aria-hidden":"true"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/history/HistoryPage.tsx",lineNumber:103,columnNumber:25},this),"Edit"]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/history/HistoryPage.tsx",lineNumber:97,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/history/HistoryPage.tsx",lineNumber:85,columnNumber:21},this),r.length>0&&s.jsxDEV("p",{className:"mt-3 text-sm text-muted-foreground",children:[s.jsxDEV("span",{className:"font-medium text-foreground",children:"Locations:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/history/HistoryPage.tsx",lineNumber:110,columnNumber:25},this)," ",r.join(", ")]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/history/HistoryPage.tsx",lineNumber:109,columnNumber:23},this),o.length>0&&s.jsxDEV("p",{className:"mt-1 text-sm text-muted-foreground",children:[s.jsxDEV("span",{className:"font-medium text-foreground",children:"Symptoms:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/history/HistoryPage.tsx",lineNumber:115,columnNumber:25},this)," ",o.join(", ")]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/history/HistoryPage.tsx",lineNumber:114,columnNumber:23},this),e.notes&&s.jsxDEV("p",{className:"mt-2 whitespace-pre-wrap text-sm text-muted-foreground",children:[s.jsxDEV("span",{className:"font-medium text-foreground",children:"Notes:"},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/history/HistoryPage.tsx",lineNumber:120,columnNumber:25},this)," ",e.notes]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/history/HistoryPage.tsx",lineNumber:119,columnNumber:23},this)]},e.id,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/history/HistoryPage.tsx",lineNumber:84,columnNumber:19},this)})},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/history/HistoryPage.tsx",lineNumber:77,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/history/HistoryPage.tsx",lineNumber:53,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/history/HistoryPage.tsx",lineNumber:46,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/kay/Documents/Projects/pain-tracker/src/components/history/HistoryPage.tsx",lineNumber:45,columnNumber:5},this)}export{h as HistoryPage,h as default};
