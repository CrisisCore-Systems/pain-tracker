const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-fQDdTo9I.js","assets/react-vendor-Bn1aEwkj.js","assets/chart-vendor-B7B0FrSV.js","assets/date-vendor-VbNwGsdS.js","assets/index-vAmkTGCQ.css"])))=>i.map(i=>d[i]);
import{_ as I}from"./index-fQDdTo9I.js";import"./react-vendor-Bn1aEwkj.js";import"./chart-vendor-B7B0FrSV.js";import"./date-vendor-VbNwGsdS.js";function Z(e,t,r,i,n){i=i||{};var a=1.15,s=n.internal.scaleFactor,h=n.internal.getFontSize()/s,l=n.getLineHeightFactor?n.getLineHeightFactor():a,o=h*l,d=/\r\n|\r|\n/g,f="",g=1;if((i.valign==="middle"||i.valign==="bottom"||i.halign==="center"||i.halign==="right")&&(f=typeof e=="string"?e.split(d):e,g=f.length||1),r+=h*(2-a),i.valign==="middle"?r-=g/2*o:i.valign==="bottom"&&(r-=g*o),i.halign==="center"||i.halign==="right"){var u=h;if(i.halign==="center"&&(u*=.5),f&&g>=1){for(var c=0;c<f.length;c++)n.text(f[c],t-n.getStringUnitWidth(f[c])*u,r),r+=o;return n}t-=n.getStringUnitWidth(e)*u}return i.halign==="justify"?n.text(e,t,r,{maxWidth:i.maxWidth||100,align:"justify"}):n.text(e,t,r),n}var _={},P=(function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:_=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var i,n,a;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var s=this.jsPDFDocument.internal.getFont(),h=s.fontStyle,l=s.fontName;if(t.font&&(l=t.font),t.fontStyle){h=t.fontStyle;var o=this.getFontList()[l];o&&o.indexOf(h)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(o[0]),h=o[0])}if(this.jsPDFDocument.setFont(l,h),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var d=e.unifyColor(t.fillColor);d&&(i=this.jsPDFDocument).setFillColor.apply(i,d),d=e.unifyColor(t.textColor),d&&(n=this.jsPDFDocument).setTextColor.apply(n,d),d=e.unifyColor(t.lineColor),d&&(a=this.jsPDFDocument).setDrawColor.apply(a,d),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,i){return this.jsPDFDocument.splitTextToSize(t,r,i)},e.prototype.rect=function(t,r,i,n,a){return this.jsPDFDocument.rect(t,r,i,n,a)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return _||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e})(),j=function(e,t){return j=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(r[n]=i[n])},j(e,t)};function V(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");j(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var tt=(function(e){V(t,e);function t(r){var i=e.call(this)||this;return i._element=r,i}return t})(Array);function ut(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function ct(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function b(e,t,r){r.applyStyles(t,!0);var i=Array.isArray(e)?e:[e],n=i.map(function(a){return r.getTextWidth(a)}).reduce(function(a,s){return Math.max(a,s)},0);return n}function et(e,t,r,i){var n=t.settings.tableLineWidth,a=t.settings.tableLineColor;e.applyStyles({lineWidth:n,lineColor:a});var s=it(n,!1);s&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),i.y-r.y,s)}function it(e,t){var r=e>0,i=t||t===0;return r&&i?"DF":r?"S":i?"F":null}function T(e,t){var r,i,n,a;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(i=e.top)!==null&&i!==void 0?i:t,right:(n=e.right)!==null&&n!==void 0?n:t,bottom:(a=e.bottom)!==null&&a!==void 0?a:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function rt(e,t){var r=T(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function pt(e,t,r,i,n){var a={},s=1.3333333333333333,h=Y(t,function(y){return n.getComputedStyle(y).backgroundColor});h!=null&&(a.fillColor=h);var l=Y(t,function(y){return n.getComputedStyle(y).color});l!=null&&(a.textColor=l);var o=mt(i,r);o&&(a.cellPadding=o);var d="borderTopColor",f=s*r,g=i.borderTopWidth;if(i.borderBottomWidth===g&&i.borderRightWidth===g&&i.borderLeftWidth===g){var u=(parseFloat(g)||0)/f;u&&(a.lineWidth=u)}else a.lineWidth={top:(parseFloat(i.borderTopWidth)||0)/f,right:(parseFloat(i.borderRightWidth)||0)/f,bottom:(parseFloat(i.borderBottomWidth)||0)/f,left:(parseFloat(i.borderLeftWidth)||0)/f},a.lineWidth.top||(a.lineWidth.right?d="borderRightColor":a.lineWidth.bottom?d="borderBottomColor":a.lineWidth.left&&(d="borderLeftColor"));var c=Y(t,function(y){return n.getComputedStyle(y)[d]});c!=null&&(a.lineColor=c);var m=["left","right","center","justify"];m.indexOf(i.textAlign)!==-1&&(a.halign=i.textAlign),m=["middle","bottom","top"],m.indexOf(i.verticalAlign)!==-1&&(a.valign=i.verticalAlign);var p=parseInt(i.fontSize||"");isNaN(p)||(a.fontSize=p/s);var v=vt(i);v&&(a.fontStyle=v);var w=(i.fontFamily||"").toLowerCase();return e.indexOf(w)!==-1&&(a.font=w),a}function vt(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function Y(e,t){var r=nt(e,t);if(!r)return null;var i=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!i||!Array.isArray(i))return null;var n=[parseInt(i[1]),parseInt(i[2]),parseInt(i[3])],a=parseInt(i[4]);return a===0||isNaN(n[0])||isNaN(n[1])||isNaN(n[2])?null:n}function nt(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:nt(e.parentElement,t):r}function mt(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],i=96/(72/t),n=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,a=r.map(function(h){return parseInt(h||"0")/i}),s=T(a,0);return n>s.top&&(s.top=n),n>s.bottom&&(s.bottom=n),s}function at(e,t,r,i,n){var a,s;i===void 0&&(i=!1),n===void 0&&(n=!1);var h;typeof t=="string"?h=r.document.querySelector(t):h=t;var l=Object.keys(e.getFontList()),o=e.scaleFactor(),d=[],f=[],g=[];if(!h)return console.error("Html table could not be found with input: ",t),{head:d,body:f,foot:g};for(var u=0;u<h.rows.length;u++){var c=h.rows[u],m=(s=(a=c?.parentElement)===null||a===void 0?void 0:a.tagName)===null||s===void 0?void 0:s.toLowerCase(),p=yt(l,o,r,c,i,n);p&&(m==="thead"?d.push(p):m==="tfoot"?g.push(p):f.push(p))}return{head:d,body:f,foot:g}}function yt(e,t,r,i,n,a){for(var s=new tt(i),h=0;h<i.cells.length;h++){var l=i.cells[h],o=r.getComputedStyle(l);if(n||o.display!=="none"){var d=void 0;a&&(d=pt(e,l,t,o,r)),s.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:d,_element:l,content:St(l)})}}var f=r.getComputedStyle(i);if(s.length>0&&(n||f.display!=="none"))return s}function St(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function Ct(e,t,r){for(var i=0,n=[e,t,r];i<n.length;i++){var a=n[i];a&&typeof a!="object"&&console.error("The options parameter should be of type object, is: "+typeof a),a.startY&&typeof a.startY!="number"&&(console.error("Invalid value for startY option",a.startY),delete a.startY)}}function S(e,t,r,i,n){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(e),s=1;s<arguments.length;s++){var h=arguments[s];if(h!=null)for(var l in h)Object.prototype.hasOwnProperty.call(h,l)&&(a[l]=h[l])}return a}function B(e,t){var r=new P(e),i=r.getDocumentOptions(),n=r.getGlobalOptions();Ct(n,i,t);var a=S({},n,i,t),s;typeof window<"u"&&(s=window);var h=wt(n,i,t),l=xt(n,i,t),o=Pt(r,a),d=Dt(r,a,s);return{id:t.tableId,content:d,hooks:l,styles:h,settings:o}}function wt(e,t,r){for(var i={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},n=function(l){if(l==="columnStyles"){var o=e[l],d=t[l],f=r[l];i.columnStyles=S({},o,d,f)}else{var g=[e,t,r],u=g.map(function(c){return c[l]||{}});i[l]=S({},u[0],u[1],u[2])}},a=0,s=Object.keys(i);a<s.length;a++){var h=s[a];n(h)}return i}function xt(e,t,r){for(var i=[e,t,r],n={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},a=0,s=i;a<s.length;a++){var h=s[a];h.didParseCell&&n.didParseCell.push(h.didParseCell),h.willDrawCell&&n.willDrawCell.push(h.willDrawCell),h.didDrawCell&&n.didDrawCell.push(h.didDrawCell),h.willDrawPage&&n.willDrawPage.push(h.willDrawPage),h.didDrawPage&&n.didDrawPage.push(h.didDrawPage)}return n}function Pt(e,t){var r,i,n,a,s,h,l,o,d,f,g,u,c=T(t.margin,40/e.scaleFactor()),m=(r=Ft(e,t.startY))!==null&&r!==void 0?r:c.top,p;t.showFoot===!0?p="everyPage":t.showFoot===!1?p="never":p=(i=t.showFoot)!==null&&i!==void 0?i:"everyPage";var v;t.showHead===!0?v="everyPage":t.showHead===!1?v="never":v=(n=t.showHead)!==null&&n!==void 0?n:"everyPage";var w=(a=t.useCss)!==null&&a!==void 0?a:!1,y=t.theme||(w?"plain":"striped"),x=!!t.horizontalPageBreak,gt=(s=t.horizontalPageBreakRepeat)!==null&&s!==void 0?s:null;return{includeHiddenHtml:(h=t.includeHiddenHtml)!==null&&h!==void 0?h:!1,useCss:w,theme:y,startY:m,margin:c,pageBreak:(l=t.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(o=t.rowPageBreak)!==null&&o!==void 0?o:"auto",tableWidth:(d=t.tableWidth)!==null&&d!==void 0?d:"auto",showHead:v,showFoot:p,tableLineWidth:(f=t.tableLineWidth)!==null&&f!==void 0?f:0,tableLineColor:(g=t.tableLineColor)!==null&&g!==void 0?g:200,horizontalPageBreak:x,horizontalPageBreakRepeat:gt,horizontalPageBreakBehaviour:(u=t.horizontalPageBreakBehaviour)!==null&&u!==void 0?u:"afterAllRows"}}function Ft(e,t){var r=e.getLastAutoTable(),i=e.scaleFactor(),n=e.pageNumber(),a=!1;if(r&&r.startPageNumber){var s=r.startPageNumber+r.pageNumber-1;a=s===n}return typeof t=="number"?t:(t==null||t===!1)&&a&&r?.finalY!=null?r.finalY+20/i:null}function Dt(e,t,r){var i=t.head||[],n=t.body||[],a=t.foot||[];if(t.html){var s=t.includeHiddenHtml;if(r){var h=at(e,t.html,r,s,t.useCss)||{};i=h.head||i,n=h.body||i,a=h.foot||i}else console.error("Cannot parse html in non browser environment")}var l=t.columns||bt(i,n,a);return{columns:l,head:i,body:n,foot:a}}function bt(e,t,r){var i=e[0]||t[0]||r[0]||[],n=[];return Object.keys(i).filter(function(a){return a!=="_element"}).forEach(function(a){var s=1,h;Array.isArray(i)?h=i[parseInt(a)]:h=i[a],typeof h=="object"&&!Array.isArray(h)&&(s=h?.colSpan||1);for(var l=0;l<s;l++){var o=void 0;Array.isArray(i)?o=n.length:o=a+(l>0?"_".concat(l):"");var d={dataKey:o};n.push(d)}}),n}var W=(function(){function e(t,r,i){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=i,this.doc=t.getDocument()}return e})(),ot=(function(e){V(t,e);function t(r,i,n,a,s,h){var l=e.call(this,r,i,h)||this;return l.cell=n,l.row=a,l.column=s,l.section=a.section,l}return t})(W),st=(function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,i){return r+i.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,i){return r+i.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,i,n,a,s){for(var h=0,l=r;h<l.length;h++){var o=l[h],d=new ot(t,this,i,n,a,s),f=o(d)===!1;if(i.text=Array.isArray(i.text)?i.text:[i.text],f)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var i=0,n=this.hooks.didDrawPage;i<n.length;i++){var a=n[i];a(new W(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var i=0,n=this.hooks.willDrawPage;i<n.length;i++){var a=n[i];a(new W(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(n,a){return n+a.wrappedWidth},0);return r}else{var i=this.settings.margin;return t-i.left-i.right}},e})(),A=(function(){function e(t,r,i,n,a){a===void 0&&(a=!1),this.height=0,this.raw=t,t instanceof tt&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=i,this.cells=n,this.spansMultiplePages=a}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(i,n){var a;return Math.max(i,((a=r.cells[n.index])===null||a===void 0?void 0:a.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(i){var n=r.cells[i.index];return n?n.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var i=this;return t.reduce(function(n,a){var s=i.cells[a.index];if(!s)return 0;var h=r.getLineHeight(s.styles.fontSize),l=s.padding("vertical"),o=l+h;return o>n?o:n},0)},e})(),N=(function(){function e(t,r,i){var n;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=i,this.raw=t;var a=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,a=(n=t.content)!==null&&n!==void 0?n:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var s=a!=null?""+a:"",h=/\r\n|\r|\n/g;this.text=s.split(h)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var i;if(this.styles.halign==="right")i=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var n=this.width-this.padding("horizontal");i=this.x+n/2+this.padding("left")}else i=this.x+this.padding("left");return{x:i,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var i=Array.isArray(this.text)?this.text.length:1,n=this.styles.fontSize/t*r,a=i*n+this.padding("vertical");return Math.max(a,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=T(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e})(),ht=(function(){function e(t,r,i){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=i}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,i=0,n=t.allRows();i<n.length;i++){var a=n[i],s=a.cells[this.index];s&&typeof s.styles.cellWidth=="number"&&(r=Math.max(r,s.styles.cellWidth))}return r},e})();function Wt(e,t){Ht(e,t);var r=[],i=0;t.columns.forEach(function(a){var s=a.getMaxCustomCellWidth(t);s?a.width=s:(a.width=a.wrappedWidth,r.push(a)),i+=a.width});var n=t.getWidth(e.pageSize().width)-i;n&&(n=E(r,n,function(a){return Math.max(a.minReadableWidth,a.minWidth)})),n&&(n=E(r,n,function(a){return a.minWidth})),n=Math.abs(n),!t.settings.horizontalPageBreak&&n>.1/e.scaleFactor()&&(n=n<1?n:Math.round(n),console.warn("Of the table content, ".concat(n," units width could not fit page"))),Yt(t),kt(t,e),Tt(t)}function Ht(e,t){var r=e.scaleFactor(),i=t.settings.horizontalPageBreak,n=rt(e,t);t.allRows().forEach(function(a){for(var s=0,h=t.columns;s<h.length;s++){var l=h[s],o=a.cells[l.index];if(o){var d=t.hooks.didParseCell;t.callCellHooks(e,d,o,a,l,null);var f=o.padding("horizontal");o.contentWidth=b(o.text,o.styles,e)+f;var g=b(o.text.join(" ").split(/[^\S\u00A0]+/),o.styles,e);if(o.minReadableWidth=g+o.padding("horizontal"),typeof o.styles.cellWidth=="number")o.minWidth=o.styles.cellWidth,o.wrappedWidth=o.styles.cellWidth;else if(o.styles.cellWidth==="wrap"||i===!0)o.contentWidth>n?(o.minWidth=n,o.wrappedWidth=n):(o.minWidth=o.contentWidth,o.wrappedWidth=o.contentWidth);else{var u=10/r;o.minWidth=o.styles.minCellWidth||u,o.wrappedWidth=o.contentWidth,o.minWidth>o.wrappedWidth&&(o.wrappedWidth=o.minWidth)}}}}),t.allRows().forEach(function(a){for(var s=0,h=t.columns;s<h.length;s++){var l=h[s],o=a.cells[l.index];if(o&&o.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,o.wrappedWidth),l.minWidth=Math.max(l.minWidth,o.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,o.minReadableWidth);else{var d=t.styles.columnStyles[l.dataKey]||t.styles.columnStyles[l.index]||{},f=d.cellWidth||d.minCellWidth;f&&typeof f=="number"&&(l.minWidth=f,l.wrappedWidth=f)}o&&(o.colSpan>1&&!l.minWidth&&(l.minWidth=o.minWidth),o.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=o.minWidth))}})}function E(e,t,r){for(var i=t,n=e.reduce(function(u,c){return u+c.wrappedWidth},0),a=0;a<e.length;a++){var s=e[a],h=s.wrappedWidth/n,l=i*h,o=s.width+l,d=r(s),f=o<d?d:o;t-=f-s.width,s.width=f}if(t=Math.round(t*1e10)/1e10,t){var g=e.filter(function(u){return t<0?u.width>r(u):!0});g.length&&(t=E(g,t,r))}return t}function Tt(e){for(var t={},r=1,i=e.allRows(),n=0;n<i.length;n++)for(var a=i[n],s=0,h=e.columns;s<h.length;s++){var l=h[s],o=t[l.index];if(r>1)r--,delete a.cells[l.index];else if(o)o.cell.height+=a.height,r=o.cell.colSpan,delete a.cells[l.index],o.left--,o.left<=1&&delete t[l.index];else{var d=a.cells[l.index];if(!d)continue;if(d.height=a.height,d.rowSpan>1){var f=i.length-n,g=d.rowSpan>f?f:d.rowSpan;t[l.index]={cell:d,left:g,row:a}}}}}function Yt(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var i=t[r],n=null,a=0,s=0,h=0;h<e.columns.length;h++){var l=e.columns[h];if(s-=1,s>1&&e.columns[h+1])a+=l.width,delete i.cells[l.index];else if(n){var o=n;delete i.cells[l.index],n=null,o.width=l.width+a}else{var o=i.cells[l.index];if(!o)continue;if(s=o.colSpan,a=0,o.colSpan>1){n=o,a+=l.width;continue}o.width=l.width+a}}}function kt(e,t){for(var r={count:0,height:0},i=0,n=e.allRows();i<n.length;i++){for(var a=n[i],s=0,h=e.columns;s<h.length;s++){var l=h[s],o=a.cells[l.index];if(o){t.applyStyles(o.styles,!0);var d=o.width-o.padding("horizontal");if(o.styles.overflow==="linebreak")o.text=t.splitTextToSize(o.text,d+1/t.scaleFactor(),{fontSize:o.styles.fontSize});else if(o.styles.overflow==="ellipsize")o.text=O(o.text,d,o.styles,t,"...");else if(o.styles.overflow==="hidden")o.text=O(o.text,d,o.styles,t,"");else if(typeof o.styles.overflow=="function"){var f=o.styles.overflow(o.text,d);typeof f=="string"?o.text=[f]:o.text=f}o.contentHeight=o.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var g=o.contentHeight/o.rowSpan;o.rowSpan>1&&r.count*r.height<g*o.rowSpan?r={height:g,count:o.rowSpan}:r&&r.count>0&&r.height>g&&(g=r.height),g>a.height&&(a.height=g)}}r.count--}}function O(e,t,r,i,n){return e.map(function(a){return zt(a,t,r,i,n)})}function zt(e,t,r,i,n){var a=1e4*i.scaleFactor();if(t=Math.ceil(t*a)/a,t>=b(e,r,i))return e;for(;t<b(e+n,r,i)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+n}function M(e,t){var r=new P(e),i=Rt(t,r.scaleFactor()),n=new st(t,i);return Wt(r,n),r.applyStyles(r.userStyles),n}function Rt(e,t){var r=e.content,i=Et(r.columns);if(r.head.length===0){var n=q(i,"head");n&&r.head.push(n)}if(r.foot.length===0){var n=q(i,"foot");n&&r.foot.push(n)}var a=e.settings.theme,s=e.styles;return{columns:i,head:k("head",r.head,i,s,a,t),body:k("body",r.body,i,s,a,t),foot:k("foot",r.foot,i,s,a,t)}}function k(e,t,r,i,n,a){var s={},h=t.map(function(l,o){for(var d=0,f={},g=0,u=0,c=0,m=r;c<m.length;c++){var p=m[c];if(s[p.index]==null||s[p.index].left===0)if(u===0){var v=void 0;Array.isArray(l)?v=l[p.index-g-d]:v=l[p.dataKey];var w={};typeof v=="object"&&!Array.isArray(v)&&(w=v?.styles||{});var y=Lt(e,p,o,n,i,a,w),x=new N(v,y,e);f[p.dataKey]=x,f[p.index]=x,u=x.colSpan-1,s[p.index]={left:x.rowSpan-1,times:u}}else u--,g++;else s[p.index].left--,u=s[p.index].times,d++}return new A(l,o,e,f)});return h}function q(e,t){var r={};return e.forEach(function(i){if(i.raw!=null){var n=jt(t,i.raw);n!=null&&(r[i.dataKey]=n)}}),Object.keys(r).length>0?r:null}function jt(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function Et(e){return e.map(function(t,r){var i,n;return typeof t=="object"?n=(i=t.dataKey)!==null&&i!==void 0?i:r:n=r,new ht(n,t,r)})}function Lt(e,t,r,i,n,a,s){var h=ct(i),l;e==="head"?l=n.headStyles:e==="body"?l=n.bodyStyles:e==="foot"&&(l=n.footStyles);var o=S({},h.table,h[e],n.styles,l),d=n.columnStyles[t.dataKey]||n.columnStyles[t.index]||{},f=e==="body"?d:{},g=e==="body"&&r%2===0?S({},h.alternateRow,n.alternateRowStyles):{},u=ut(a),c=S({},u,o,g,f);return S(c,s)}function Bt(e,t,r){var i;r===void 0&&(r={});var n=rt(e,t),a=new Map,s=[],h=[],l=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?l=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(l=[t.settings.horizontalPageBreakRepeat]),l.forEach(function(g){var u=t.columns.find(function(c){return c.dataKey===g||c.index===g});u&&!a.has(u.index)&&(a.set(u.index,!0),s.push(u.index),h.push(t.columns[u.index]),n-=u.wrappedWidth)});for(var o=!0,d=(i=r?.start)!==null&&i!==void 0?i:0;d<t.columns.length;){if(a.has(d)){d++;continue}var f=t.columns[d].wrappedWidth;if(o||n>=f)o=!1,s.push(d),h.push(t.columns[d]),n-=f;else break;d++}return{colIndexes:s,columns:h,lastIndex:d-1}}function At(e,t){for(var r=[],i=0;i<t.columns.length;i++){var n=Bt(e,t,{start:i});n.columns.length&&(r.push(n),i=n.lastIndex)}return r}function $(e,t){var r=t.settings,i=r.startY,n=r.margin,a={x:n.left,y:i},s=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),h=i+n.bottom+s;if(r.pageBreak==="avoid"){var l=t.body,o=l.reduce(function(g,u){return g+u.height},0);h+=o}var d=new P(e);(r.pageBreak==="always"||r.startY!=null&&h>d.pageSize().height)&&(dt(d),a.y=n.top),t.callWillDrawPageHooks(d,a);var f=S({},a);t.startPageNumber=d.pageNumber(),r.horizontalPageBreak?Nt(d,t,f,a):(d.applyStyles(d.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(g){return C(d,t,g,a,t.columns)}),d.applyStyles(d.userStyles),t.body.forEach(function(g,u){var c=u===t.body.length-1;H(d,t,g,c,f,a,t.columns)}),d.applyStyles(d.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(g){return C(d,t,g,a,t.columns)})),et(d,t,f,a),t.callEndPageHooks(d,a),t.finalY=a.y,e.lastAutoTable=t,d.applyStyles(d.userStyles)}function Nt(e,t,r,i){var n=At(e,t),a=t.settings;if(a.horizontalPageBreakBehaviour==="afterAllRows")n.forEach(function(o,d){e.applyStyles(e.userStyles),d>0?D(e,t,r,i,o.columns,!0):K(e,t,i,o.columns),Mt(e,t,r,i,o.columns),z(e,t,i,o.columns)});else for(var s=-1,h=n[0],l=function(){var o=s;if(h){e.applyStyles(e.userStyles);var d=h.columns;s>=0?D(e,t,r,i,d,!0):K(e,t,i,d),o=U(e,t,s+1,i,d),z(e,t,i,d)}var f=o-s;n.slice(1).forEach(function(g){e.applyStyles(e.userStyles),D(e,t,r,i,g.columns,!0),U(e,t,s+1,i,g.columns,f),z(e,t,i,g.columns)}),s=o};s<t.body.length-1;)l()}function K(e,t,r,i){var n=t.settings;e.applyStyles(e.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&t.head.forEach(function(a){return C(e,t,a,r,i)})}function Mt(e,t,r,i,n){e.applyStyles(e.userStyles),t.body.forEach(function(a,s){var h=s===t.body.length-1;H(e,t,a,h,r,i,n)})}function U(e,t,r,i,n,a){e.applyStyles(e.userStyles),a=a??t.body.length;var s=Math.min(r+a,t.body.length),h=-1;return t.body.slice(r,s).forEach(function(l,o){var d=r+o===t.body.length-1,f=lt(e,t,d,i);l.canEntireRowFit(f,n)&&(C(e,t,l,i,n),h=r+o)}),h}function z(e,t,r,i){var n=t.settings;e.applyStyles(e.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&t.foot.forEach(function(a){return C(e,t,a,r,i)})}function $t(e,t,r){var i=r.getLineHeight(e.styles.fontSize),n=e.padding("vertical"),a=Math.floor((t-n)/i);return Math.max(0,a)}function It(e,t,r,i){var n={};e.spansMultiplePages=!0,e.height=0;for(var a=0,s=0,h=r.columns;s<h.length;s++){var l=h[s],o=e.cells[l.index];if(o){Array.isArray(o.text)||(o.text=[o.text]);var d=new N(o.raw,o.styles,o.section);d=S(d,o),d.text=[];var f=$t(o,t,i);o.text.length>f&&(d.text=o.text.splice(f,o.text.length));var g=i.scaleFactor(),u=i.getLineHeightFactor();o.contentHeight=o.getContentHeight(g,u),o.contentHeight>=t&&(o.contentHeight=t,d.styles.minCellHeight-=t),o.contentHeight>e.height&&(e.height=o.contentHeight),d.contentHeight=d.getContentHeight(g,u),d.contentHeight>a&&(a=d.contentHeight),n[l.index]=d}}var c=new A(e.raw,-1,e.section,n,!0);c.height=a;for(var m=0,p=r.columns;m<p.length;m++){var l=p[m],d=c.cells[l.index];d&&(d.height=c.height);var o=e.cells[l.index];o&&(o.height=e.height)}return c}function _t(e,t,r,i){var n=e.pageSize().height,a=i.settings.margin,s=a.top+a.bottom,h=n-s;t.section==="body"&&(h-=i.getHeadHeight(i.columns)+i.getFootHeight(i.columns));var l=t.getMinimumRowHeight(i.columns,e),o=l<r;if(l>h)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!o)return!1;var d=t.hasRowSpan(i.columns),f=t.getMaxCellHeight(i.columns)>h;return f?(d&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(d||i.settings.rowPageBreak==="avoid")}function H(e,t,r,i,n,a,s){var h=lt(e,t,i,a);if(r.canEntireRowFit(h,s))C(e,t,r,a,s);else if(_t(e,r,h,t)){var l=It(r,h,t,e);C(e,t,r,a,s),D(e,t,n,a,s),H(e,t,l,i,n,a,s)}else D(e,t,n,a,s),H(e,t,r,i,n,a,s)}function C(e,t,r,i,n){i.x=t.settings.margin.left;for(var a=0,s=n;a<s.length;a++){var h=s[a],l=r.cells[h.index];if(!l){i.x+=h.width;continue}e.applyStyles(l.styles),l.x=i.x,l.y=i.y;var o=t.callCellHooks(e,t.hooks.willDrawCell,l,r,h,i);if(o===!1){i.x+=h.width;continue}Ot(e,l,i);var d=l.getTextPos();Z(l.text,d.x,d.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,l,r,h,i),i.x+=h.width}i.y+=r.height}function Ot(e,t,r){var i=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof i.lineWidth=="number"){var n=it(i.lineWidth,i.fillColor);n&&e.rect(t.x,r.y,t.width,t.height,n)}else typeof i.lineWidth=="object"&&(i.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),qt(e,t,r,i.lineWidth))}function qt(e,t,r,i){var n,a,s,h;i.top&&(n=r.x,a=r.y,s=r.x+t.width,h=r.y,i.right&&(s+=.5*i.right),i.left&&(n-=.5*i.left),l(i.top,n,a,s,h)),i.bottom&&(n=r.x,a=r.y+t.height,s=r.x+t.width,h=r.y+t.height,i.right&&(s+=.5*i.right),i.left&&(n-=.5*i.left),l(i.bottom,n,a,s,h)),i.left&&(n=r.x,a=r.y,s=r.x,h=r.y+t.height,i.top&&(a-=.5*i.top),i.bottom&&(h+=.5*i.bottom),l(i.left,n,a,s,h)),i.right&&(n=r.x+t.width,a=r.y,s=r.x+t.width,h=r.y+t.height,i.top&&(a-=.5*i.top),i.bottom&&(h+=.5*i.bottom),l(i.right,n,a,s,h));function l(o,d,f,g,u){e.getDocument().setLineWidth(o),e.getDocument().line(d,f,g,u,"S")}}function lt(e,t,r,i){var n=t.settings.margin.bottom,a=t.settings.showFoot;return(a==="everyPage"||a==="lastPage"&&r)&&(n+=t.getFootHeight(t.columns)),e.pageSize().height-i.y-n}function D(e,t,r,i,n,a){n===void 0&&(n=[]),a===void 0&&(a=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!a&&t.foot.forEach(function(h){return C(e,t,h,i,n)}),t.callEndPageHooks(e,i);var s=t.settings.margin;et(e,t,r,i),dt(e),t.pageNumber++,i.x=s.left,i.y=s.top,r.y=s.top,t.callWillDrawPageHooks(e,i),t.settings.showHead==="everyPage"&&(t.head.forEach(function(h){return C(e,t,h,i,n)}),e.applyStyles(e.userStyles))}function dt(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function ft(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i=t[0],n=B(this,i),a=M(this,n);return $(this,a),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,i,n){Z(t,r,i,n,this)},e.API.autoTableSetDefaults=function(t){return P.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){P.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var i;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var n=new P(this),a=at(n,t,window,r,!1),s=a.head,h=a.body,l=((i=s[0])===null||i===void 0?void 0:i.map(function(o){return o.content}))||[];return{columns:l,rows:h,data:h}}}var R;function L(e,t){var r=B(e,t),i=M(e,r);$(e,i)}function Kt(e,t){var r=B(e,t);return M(e,r)}function Ut(e,t){$(e,t)}try{if(typeof window<"u"&&window){var G=window,J=G.jsPDF||((R=G.jspdf)===null||R===void 0?void 0:R.jsPDF);J&&ft(J)}}catch(e){console.error("Could not apply autoTable plugin",e)}const Gt=Object.freeze(Object.defineProperty({__proto__:null,Cell:N,CellHookData:ot,Column:ht,HookData:W,Row:A,Table:st,__createTable:Kt,__drawTable:Ut,applyPlugin:ft,autoTable:L,default:L},Symbol.toStringTag,{value:"Module"})),F=e=>e.intensity??e.baselineData?.pain??0,Q=e=>e.location??e.baselineData?.locations?.join(", "),X=e=>e.quality??e.baselineData?.symptoms??[];class Vt{doc=null;async initializePDF(){if(this.doc)return this.doc;const[{default:t},r]=await Promise.all([I(()=>import("./index-fQDdTo9I.js").then(i=>i.m),__vite__mapDeps([0,1,2,3,4])),I(()=>Promise.resolve().then(()=>Gt),void 0)]);return this.doc=new t,this.doc}pageWidth=0;pageHeight=0;margin=20;currentY=20;lineHeight=7;primaryColor="#2563eb";secondaryColor="#64748b";accentColor="#10b981";constructor(){}async generateReport(t){return await this.initializePDF(),this.pageWidth=this.doc.internal.pageSize.getWidth(),this.pageHeight=this.doc.internal.pageSize.getHeight(),this.setupMetadata(t),this.addHeader(t.wcbCompliant||!1),this.addPatientInformation(t.patientInfo),this.addExecutiveSummary(t.entries,t.moodEntries),t.charts&&await this.addCharts(t.charts),this.addPainEntryTable(t.entries,t.dateRange),t.includeNarrative&&this.addNarrativeTimeline(t.entries,t.moodEntries),t.clinicalNotes&&this.addClinicalNotes(t.clinicalNotes),t.wcbCompliant&&this.addWCBComplianceSections(t.patientInfo),this.addFooters(),this.doc.output("blob")}setupMetadata(t){const r={title:"Clinical Pain Management Report",subject:`Pain tracking report for ${t.dateRange?.start?`${t.dateRange.start.toLocaleDateString()} to ${t.dateRange.end?.toLocaleDateString()}`:"All time"}`,author:t.patientInfo?.physicianName||"Pain Tracker Clinical System",keywords:"pain management, clinical report, chronic pain, WorkSafe BC",creator:"Pain Tracker v3.0 - Clinical Module"};this.doc.setProperties(r)}addHeader(t){this.doc.setFontSize(20),this.doc.setTextColor(this.primaryColor),this.doc.setFont("helvetica","bold"),this.doc.text("Clinical Pain Management Report",this.margin,this.currentY),this.currentY+=10,this.doc.setFontSize(9),this.doc.setTextColor(200,0,0),this.doc.setFont("helvetica","bold"),this.doc.text("CONFIDENTIAL MEDICAL RECORD",this.margin,this.currentY),this.currentY+=5,this.doc.setFontSize(8),this.doc.setTextColor(this.secondaryColor),this.doc.setFont("helvetica","normal"),this.doc.text("This document contains protected health information (PHI). Unauthorized disclosure is prohibited.",this.margin,this.currentY),t&&(this.currentY+=4,this.doc.setTextColor(this.primaryColor),this.doc.setFont("helvetica","bold"),this.doc.text("WorkSafe BC Claim Documentation",this.margin,this.currentY)),this.doc.setFontSize(9),this.doc.setTextColor(this.secondaryColor),this.doc.setFont("helvetica","normal"),this.doc.text(`Generated: ${new Date().toLocaleString()}`,this.pageWidth-this.margin-50,20,{align:"right"}),this.currentY+=8,this.doc.setDrawColor(this.secondaryColor),this.doc.setLineWidth(.5),this.doc.line(this.margin,this.currentY,this.pageWidth-this.margin,this.currentY),this.currentY+=10}addPatientInformation(t){if(!t)return;this.checkPageBreak(40),this.doc.setFontSize(14),this.doc.setTextColor(this.primaryColor),this.doc.setFont("helvetica","bold"),this.doc.text("Patient Information",this.margin,this.currentY),this.currentY+=8,this.doc.setFontSize(10),this.doc.setTextColor(0,0,0),this.doc.setFont("helvetica","normal"),[["Name:",t.name],["Date of Birth:",t.dateOfBirth],["Patient ID:",t.patientId],["Claim Number:",t.claimNumber],["Injury Date:",t.injuryDate],["Physician:",t.physicianName],["Physician Contact:",t.physicianPhone]].forEach(([i,n])=>{n&&(this.doc.setFont("helvetica","bold"),this.doc.text(i,this.margin,this.currentY),this.doc.setFont("helvetica","normal"),this.doc.text(n,this.margin+45,this.currentY),this.currentY+=this.lineHeight)}),this.currentY+=5}addExecutiveSummary(t,r){this.checkPageBreak(60),this.doc.setFontSize(14),this.doc.setTextColor(this.primaryColor),this.doc.setFont("helvetica","bold"),this.doc.text("Executive Summary",this.margin,this.currentY),this.currentY+=8;const i=t.reduce((o,d)=>o+F(d),0)/t.length,n=Math.max(...t.map(F)),a=Math.min(...t.map(F)),s=t.length,h=t.length>0?`${new Date(t[0].timestamp).toLocaleDateString()} to ${new Date(t[t.length-1].timestamp).toLocaleDateString()}`:"No data";this.doc.setFillColor(245,247,250),this.doc.rect(this.margin,this.currentY-5,this.pageWidth-2*this.margin,45,"F"),this.doc.setFontSize(10),this.doc.setTextColor(0,0,0),[["Reporting Period:",h],["Total Pain Entries:",`${s} recordings`],["Average Pain Level:",`${i.toFixed(1)}/10 (${this.getPainCategory(i)})`],["Pain Range:",`${a} - ${n}/10`],["Mood Entries:",r?`${r.length} recordings`:"N/A"]].forEach(([o,d])=>{this.doc.setFont("helvetica","bold"),this.doc.text(o,this.margin+5,this.currentY),this.doc.setFont("helvetica","normal"),this.doc.text(d,this.margin+55,this.currentY),this.currentY+=this.lineHeight}),this.currentY+=8}async addCharts(t){this.checkPageBreak(120),this.doc.setFontSize(14),this.doc.setTextColor(this.primaryColor),this.doc.setFont("helvetica","bold"),this.doc.text("Pain Trend Analysis",this.margin,this.currentY),this.currentY+=10;const r=this.pageWidth-2*this.margin,i=60;if(t.painTrend)try{this.doc.addImage(t.painTrend,"PNG",this.margin,this.currentY,r,i),this.currentY+=i+5,this.doc.setFontSize(9),this.doc.setTextColor(this.secondaryColor),this.doc.text("Figure 1: Pain intensity trends over reporting period",this.margin,this.currentY),this.currentY+=10}catch(n){console.error("Failed to embed pain trend chart:",n)}if(this.checkPageBreak(80),t.painDistribution)try{this.doc.addImage(t.painDistribution,"PNG",this.margin,this.currentY,r,i),this.currentY+=i+5,this.doc.setFontSize(9),this.doc.setTextColor(this.secondaryColor),this.doc.text("Figure 2: Pain level distribution and frequency analysis",this.margin,this.currentY),this.currentY+=10}catch(n){console.error("Failed to embed pain distribution chart:",n)}}addPainEntryTable(t,r){this.checkPageBreak(40),this.doc.setFontSize(14),this.doc.setTextColor(this.primaryColor),this.doc.setFont("helvetica","bold"),this.doc.text("Detailed Pain Log",this.margin,this.currentY),this.currentY+=8;let i=t;r&&(i=t.filter(a=>{const s=new Date(a.timestamp);return s>=r.start&&s<=r.end}));const n=i.slice(0,50).map(a=>[new Date(a.timestamp).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),F(a).toString(),Q(a)||"Not specified",X(a).join(", ")||"N/A",a.triggers?.join(", ")||"None noted"]);L(this.doc,{startY:this.currentY,head:[["Date/Time","Level","Location","Quality","Triggers"]],body:n,theme:"striped",headStyles:{fillColor:[37,99,235],textColor:255,fontSize:9,fontStyle:"bold"},bodyStyles:{fontSize:8,textColor:[0,0,0]},alternateRowStyles:{fillColor:[249,250,251]},margin:{left:this.margin,right:this.margin},didDrawPage:a=>{this.currentY=a.cursor?.y||this.currentY}}),this.currentY+=10,i.length>50&&(this.doc.setFontSize(9),this.doc.setTextColor(this.secondaryColor),this.doc.text(`Note: Showing most recent 50 of ${i.length} total entries`,this.margin,this.currentY),this.currentY+=10)}addNarrativeTimeline(t,r){this.checkPageBreak(40),this.doc.setFontSize(14),this.doc.setTextColor(this.primaryColor),this.doc.setFont("helvetica","bold"),this.doc.text("Clinical Narrative Timeline",this.margin,this.currentY),this.currentY+=8;const i=t.slice(-10);i.forEach((n,a)=>{this.checkPageBreak(30);const s=new Date(n.timestamp),h=s.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"}),l=s.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});this.doc.setFontSize(10),this.doc.setTextColor(this.primaryColor),this.doc.setFont("helvetica","bold"),this.doc.text(`${h} at ${l}`,this.margin,this.currentY),this.currentY+=6,this.doc.setFontSize(9),this.doc.setTextColor(0,0,0),this.doc.setFont("helvetica","normal");const o=this.generateEntryNarrative(n);this.doc.splitTextToSize(o,this.pageWidth-2*this.margin-10).forEach(f=>{this.checkPageBreak(10),this.doc.text(f,this.margin+5,this.currentY),this.currentY+=5}),this.currentY+=3,a<i.length-1&&(this.doc.setDrawColor(220,220,220),this.doc.setLineWidth(.3),this.doc.line(this.margin+5,this.currentY,this.pageWidth-this.margin-5,this.currentY),this.currentY+=5)}),this.currentY+=5}generateEntryNarrative(t){const r=[],i=F(t),n=this.getPainCategory(i);r.push(`Patient reported ${n.toLowerCase()} pain (${i}/10)`);const a=Q(t);a&&r.push(`in ${a}`);const s=X(t);return s.length>0&&r.push(`described as ${s.join(", ")}`),t.triggers&&t.triggers.length>0&&r.push(`Triggers identified: ${t.triggers.join(", ")}`),t.reliefMethods&&t.reliefMethods.length>0&&r.push(`Relief attempted with: ${t.reliefMethods.join(", ")}`),t.notes&&r.push(`Additional notes: "${t.notes}"`),r.join(". ")+"."}addClinicalNotes(t){this.checkPageBreak(40),this.doc.setFontSize(14),this.doc.setTextColor(this.primaryColor),this.doc.setFont("helvetica","bold"),this.doc.text("Clinical Notes & Observations",this.margin,this.currentY),this.currentY+=8,this.doc.setFontSize(10),this.doc.setTextColor(0,0,0),this.doc.setFont("helvetica","normal"),this.doc.splitTextToSize(t,this.pageWidth-2*this.margin).forEach(i=>{this.checkPageBreak(10),this.doc.text(i,this.margin,this.currentY),this.currentY+=this.lineHeight}),this.currentY+=5}addWCBComplianceSections(t){this.doc.addPage(),this.currentY=this.margin,this.doc.setFontSize(16),this.doc.setTextColor(this.primaryColor),this.doc.setFont("helvetica","bold"),this.doc.text("WorkSafe BC Claim Documentation",this.margin,this.currentY),this.currentY+=12,this.doc.setFontSize(12),this.doc.text("Claim Information",this.margin,this.currentY),this.currentY+=8,this.doc.setFontSize(10),this.doc.setFont("helvetica","normal"),t?.claimNumber&&(this.doc.text(`Claim Number: ${t.claimNumber}`,this.margin,this.currentY),this.currentY+=this.lineHeight),t?.injuryDate&&(this.doc.text(`Date of Injury: ${t.injuryDate}`,this.margin,this.currentY),this.currentY+=this.lineHeight),this.currentY+=10,this.doc.setFontSize(12),this.doc.setFont("helvetica","bold"),this.doc.text("Medical Professional Declaration",this.margin,this.currentY),this.currentY+=8,this.doc.setFontSize(9),this.doc.setFont("helvetica","normal"),this.doc.splitTextToSize("I declare that the information contained in this report is true and accurate to the best of my knowledge and belief. This clinical documentation has been prepared in accordance with WorkSafe BC requirements and medical reporting standards. The patient data presented represents objective clinical observations and patient-reported outcomes collected during the reporting period.",this.pageWidth-2*this.margin).forEach(s=>{this.doc.text(s,this.margin,this.currentY),this.currentY+=6}),this.currentY+=15,this.doc.setDrawColor(0,0,0),this.doc.setLineWidth(.5),this.doc.line(this.margin,this.currentY,this.margin+80,this.currentY),this.currentY+=5,this.doc.setFontSize(9),this.doc.text("Physician Signature",this.margin,this.currentY),this.doc.line(this.pageWidth-this.margin-50,this.currentY-5,this.pageWidth-this.margin,this.currentY-5),this.doc.text("Date",this.pageWidth-this.margin-50,this.currentY),this.currentY+=15,t?.physicianName&&(this.doc.text(`Printed Name: ${t.physicianName}`,this.margin,this.currentY),this.currentY+=this.lineHeight),t?.physicianPhone&&(this.doc.text(`Contact: ${t.physicianPhone}`,this.margin,this.currentY),this.currentY+=this.lineHeight),this.currentY+=15,this.doc.setFillColor(255,250,230),this.doc.rect(this.margin,this.currentY-5,this.pageWidth-2*this.margin,25,"F"),this.doc.setFontSize(8),this.doc.setTextColor(100,100,0),this.doc.setFont("helvetica","bold"),this.doc.text("WorkSafe BC Notice:",this.margin+5,this.currentY),this.currentY+=5,this.doc.setFont("helvetica","normal"),this.doc.setTextColor(0,0,0),this.doc.splitTextToSize("This report is submitted in support of a WorkSafe BC claim. The information provided is for the purpose of assessing and managing the claimant's work-related injury or illness. Any questions regarding this documentation should be directed to the attending physician.",this.pageWidth-2*this.margin-10).forEach(s=>{this.doc.text(s,this.margin+5,this.currentY),this.currentY+=5})}addFooters(){const t=this.doc.getNumberOfPages();for(let r=1;r<=t;r++)this.doc.setPage(r),this.doc.setDrawColor(this.secondaryColor),this.doc.setLineWidth(.3),this.doc.line(this.margin,this.pageHeight-15,this.pageWidth-this.margin,this.pageHeight-15),this.doc.setFontSize(8),this.doc.setTextColor(this.secondaryColor),this.doc.setFont("helvetica","normal"),this.doc.text("Confidential Medical Record - Do Not Distribute",this.margin,this.pageHeight-10),this.doc.text("Pain Tracker Clinical System v3.0",this.pageWidth/2,this.pageHeight-10,{align:"center"}),this.doc.text(`Page ${r} of ${t}`,this.pageWidth-this.margin,this.pageHeight-10,{align:"right"})}checkPageBreak(t){this.currentY+t>this.pageHeight-25&&(this.doc.addPage(),this.currentY=this.margin)}getPainCategory(t){return t===0?"No Pain":t<=3?"Mild Pain":t<=6?"Moderate Pain":t<=8?"Severe Pain":"Extreme Pain"}save(t){this.doc.save(t)}getDataURL(){return this.doc.output("dataurlstring")}}export{Vt as ClinicalPDFExporter};
//# sourceMappingURL=ClinicalPDFExporter-CdQMgJYO.js.map
