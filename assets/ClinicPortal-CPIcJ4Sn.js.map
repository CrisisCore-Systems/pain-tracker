{"version":3,"file":"ClinicPortal-CPIcJ4Sn.js","sources":["../../src/components/clinic/ClinicStatCard.tsx","../../src/components/clinic/RecentPatientsTable.tsx","../../src/components/clinic/UpcomingAppointments.tsx","../../src/components/clinic/PriorityAlerts.tsx","../../src/pages/clinic/ClinicDashboard.tsx","../../src/contexts/ClinicAuthContext.tsx","../../src/components/clinic/ClinicProtectedRoute.tsx","../../src/pages/clinic/TestimonialsAdmin.tsx","../../src/components/clinic/PatientPainTimeline.tsx","../../src/services/PatternDetectionService.ts","../../src/services/ReportGenerationService.ts","../../src/pages/clinic/EnhancedPatientView.tsx","../../src/components/reporting/ReportingSystemCore.tsx","../../src/pages/clinic/ClinicReports.tsx","../../src/pages/clinic/ClinicSettings.tsx","../../src/pages/clinic/ClinicLogin.tsx","../../src/components/clinic/ClinicSidebar.tsx","../../src/components/clinic/ClinicHeader.tsx","../../src/components/clinic/RealTimeMonitoring.tsx","../../src/pages/clinic/ClinicPortal.tsx"],"sourcesContent":["/**\r\n * Clinic Stat Card - Statistical overview card for clinical dashboard\r\n */\r\n\r\nimport { LucideIcon } from 'lucide-react';\r\nimport { TrendingUp, TrendingDown } from 'lucide-react';\r\n\r\ninterface ClinicStatCardProps {\r\n  title: string;\r\n  value: number | string;\r\n  change?: string;\r\n  icon: LucideIcon;\r\n  trend?: 'up' | 'down';\r\n  iconColor?: string;\r\n}\r\n\r\nexport function ClinicStatCard({ \r\n  title, \r\n  value, \r\n  change, \r\n  icon: Icon, \r\n  trend,\r\n  iconColor = 'bg-blue-500' \r\n}: ClinicStatCardProps) {\r\n  const isPositiveTrend = trend === 'up';\r\n  \r\n  return (\r\n    <div className=\"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-6 hover:shadow-lg transition-shadow\">\r\n      <div className=\"flex items-start justify-between\">\r\n        <div className=\"flex-1\">\r\n          <p className=\"text-sm font-medium text-slate-600 dark:text-slate-400\">\r\n            {title}\r\n          </p>\r\n          <p className=\"text-3xl font-bold text-slate-900 dark:text-slate-100 mt-2\">\r\n            {value}\r\n          </p>\r\n          {change && (\r\n            <div className=\"flex items-center gap-1 mt-2\">\r\n              {isPositiveTrend ? (\r\n                <TrendingUp className=\"w-4 h-4 text-green-600\" />\r\n              ) : (\r\n                <TrendingDown className=\"w-4 h-4 text-red-600\" />\r\n              )}\r\n              <span \r\n                className={`text-sm font-medium ${\r\n                  isPositiveTrend ? 'text-green-600' : 'text-red-600'\r\n                }`}\r\n              >\r\n                {change}\r\n              </span>\r\n              <span className=\"text-sm text-slate-500 dark:text-slate-400\">\r\n                vs last week\r\n              </span>\r\n            </div>\r\n          )}\r\n        </div>\r\n        <div className={`w-12 h-12 rounded-lg ${iconColor} flex items-center justify-center flex-shrink-0`}>\r\n          <Icon className=\"w-6 h-6 text-white\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","/**\r\n * Recent Patients Table - Clinical table showing recent patient activity\r\n */\r\n\r\nimport { useState } from 'react';\r\nimport { Eye, FileText, Calendar, TrendingUp, TrendingDown } from 'lucide-react';\r\nimport { Link } from 'react-router-dom';\r\n\r\ninterface Patient {\r\n  id: string;\r\n  name: string;\r\n  lastVisit: string;\r\n  painTrend: 'improving' | 'stable' | 'worsening';\r\n  avgPainLevel: number;\r\n  totalEntries: number;\r\n  nextAppointment?: string;\r\n}\r\n\r\nexport function RecentPatientsTable() {\r\n  // Mock data - in production, fetch from API\r\n  const [patients] = useState<Patient[]>([\r\n    {\r\n      id: 'P001',\r\n      name: 'John Smith',\r\n      lastVisit: '2025-11-15',\r\n      painTrend: 'improving',\r\n      avgPainLevel: 4.2,\r\n      totalEntries: 45,\r\n      nextAppointment: '2025-11-20'\r\n    },\r\n    {\r\n      id: 'P002',\r\n      name: 'Maria Garcia',\r\n      lastVisit: '2025-11-16',\r\n      painTrend: 'worsening',\r\n      avgPainLevel: 7.8,\r\n      totalEntries: 62,\r\n      nextAppointment: '2025-11-18'\r\n    },\r\n    {\r\n      id: 'P003',\r\n      name: 'James Wilson',\r\n      lastVisit: '2025-11-17',\r\n      painTrend: 'stable',\r\n      avgPainLevel: 5.5,\r\n      totalEntries: 38\r\n    },\r\n    {\r\n      id: 'P004',\r\n      name: 'Sarah Chen',\r\n      lastVisit: '2025-11-14',\r\n      painTrend: 'improving',\r\n      avgPainLevel: 3.1,\r\n      totalEntries: 89,\r\n      nextAppointment: '2025-11-22'\r\n    },\r\n    {\r\n      id: 'P005',\r\n      name: 'Michael Brown',\r\n      lastVisit: '2025-11-17',\r\n      painTrend: 'worsening',\r\n      avgPainLevel: 8.2,\r\n      totalEntries: 27\r\n    }\r\n  ]);\r\n\r\n  const getTrendIcon = (trend: Patient['painTrend']) => {\r\n    switch (trend) {\r\n      case 'improving':\r\n        return <TrendingDown className=\"w-4 h-4 text-green-600\" />;\r\n      case 'worsening':\r\n        return <TrendingUp className=\"w-4 h-4 text-red-600\" />;\r\n      default:\r\n        return <div className=\"w-4 h-4 rounded-full bg-amber-500\" />;\r\n    }\r\n  };\r\n\r\n  const getPainLevelColor = (level: number) => {\r\n    if (level < 4) return 'text-green-600 bg-green-50 dark:bg-green-900/20';\r\n    if (level < 7) return 'text-amber-600 bg-amber-50 dark:bg-amber-900/20';\r\n    return 'text-red-600 bg-red-50 dark:bg-red-900/20';\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700\">\r\n      <div className=\"p-6 border-b border-slate-200 dark:border-slate-700\">\r\n        <h2 className=\"text-xl font-semibold text-slate-900 dark:text-slate-100\">\r\n          Recent Patient Activity\r\n        </h2>\r\n        <p className=\"text-sm text-slate-600 dark:text-slate-400 mt-1\">\r\n          Patients with recent pain entries\r\n        </p>\r\n      </div>\r\n\r\n      <div className=\"overflow-x-auto\">\r\n        <table className=\"w-full\">\r\n          <thead className=\"bg-slate-50 dark:bg-slate-900/50 border-b border-slate-200 dark:border-slate-700\">\r\n            <tr>\r\n              <th className=\"text-left px-6 py-3 text-xs font-medium text-slate-600 dark:text-slate-400 uppercase tracking-wider\">\r\n                Patient\r\n              </th>\r\n              <th className=\"text-left px-6 py-3 text-xs font-medium text-slate-600 dark:text-slate-400 uppercase tracking-wider\">\r\n                Last Visit\r\n              </th>\r\n              <th className=\"text-left px-6 py-3 text-xs font-medium text-slate-600 dark:text-slate-400 uppercase tracking-wider\">\r\n                Pain Trend\r\n              </th>\r\n              <th className=\"text-left px-6 py-3 text-xs font-medium text-slate-600 dark:text-slate-400 uppercase tracking-wider\">\r\n                Avg Pain\r\n              </th>\r\n              <th className=\"text-left px-6 py-3 text-xs font-medium text-slate-600 dark:text-slate-400 uppercase tracking-wider\">\r\n                Entries\r\n              </th>\r\n              <th className=\"text-left px-6 py-3 text-xs font-medium text-slate-600 dark:text-slate-400 uppercase tracking-wider\">\r\n                Next Appt\r\n              </th>\r\n              <th className=\"text-right px-6 py-3 text-xs font-medium text-slate-600 dark:text-slate-400 uppercase tracking-wider\">\r\n                Actions\r\n              </th>\r\n            </tr>\r\n          </thead>\r\n          <tbody className=\"divide-y divide-slate-200 dark:divide-slate-700\">\r\n            {patients.map((patient) => (\r\n              <tr \r\n                key={patient.id} \r\n                className=\"hover:bg-slate-50 dark:hover:bg-slate-900/30 transition-colors\"\r\n              >\r\n                <td className=\"px-6 py-4\">\r\n                  <div>\r\n                    <p className=\"font-medium text-slate-900 dark:text-slate-100\">\r\n                      {patient.name}\r\n                    </p>\r\n                    <p className=\"text-sm text-slate-500 dark:text-slate-400\">\r\n                      ID: {patient.id}\r\n                    </p>\r\n                  </div>\r\n                </td>\r\n                <td className=\"px-6 py-4 text-sm text-slate-700 dark:text-slate-300\">\r\n                  {new Date(patient.lastVisit).toLocaleDateString()}\r\n                </td>\r\n                <td className=\"px-6 py-4\">\r\n                  <div className=\"flex items-center gap-2\">\r\n                    {getTrendIcon(patient.painTrend)}\r\n                    <span className=\"text-sm capitalize text-slate-700 dark:text-slate-300\">\r\n                      {patient.painTrend}\r\n                    </span>\r\n                  </div>\r\n                </td>\r\n                <td className=\"px-6 py-4\">\r\n                  <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${getPainLevelColor(patient.avgPainLevel)}`}>\r\n                    {patient.avgPainLevel.toFixed(1)} / 10\r\n                  </span>\r\n                </td>\r\n                <td className=\"px-6 py-4 text-sm text-slate-700 dark:text-slate-300\">\r\n                  {patient.totalEntries}\r\n                </td>\r\n                <td className=\"px-6 py-4 text-sm text-slate-700 dark:text-slate-300\">\r\n                  {patient.nextAppointment \r\n                    ? new Date(patient.nextAppointment).toLocaleDateString()\r\n                    : '—'\r\n                  }\r\n                </td>\r\n                <td className=\"px-6 py-4\">\r\n                  <div className=\"flex items-center justify-end gap-2\">\r\n                    <Link\r\n                      to={`/clinic/patients/${patient.id}`}\r\n                      className=\"p-2 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors\"\r\n                      title=\"View patient details\"\r\n                    >\r\n                      <Eye className=\"w-4 h-4 text-blue-600 dark:text-blue-400\" />\r\n                    </Link>\r\n                    <button\r\n                      className=\"p-2 rounded-lg hover:bg-green-50 dark:hover:bg-green-900/20 transition-colors\"\r\n                      title=\"View reports\"\r\n                    >\r\n                      <FileText className=\"w-4 h-4 text-green-600 dark:text-green-400\" />\r\n                    </button>\r\n                    <button\r\n                      className=\"p-2 rounded-lg hover:bg-purple-50 dark:hover:bg-purple-900/20 transition-colors\"\r\n                      title=\"Schedule appointment\"\r\n                    >\r\n                      <Calendar className=\"w-4 h-4 text-purple-600 dark:text-purple-400\" />\r\n                    </button>\r\n                  </div>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n      <div className=\"p-4 border-t border-slate-200 dark:border-slate-700\">\r\n        <Link\r\n          to=\"/clinic/patients\"\r\n          className=\"text-sm font-medium text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300\"\r\n        >\r\n          View all patients →\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","/**\r\n * Upcoming Appointments - Shows scheduled appointments for clinicians\r\n */\r\n\r\nimport { Calendar, Clock, User } from 'lucide-react';\r\n\r\ninterface Appointment {\r\n  id: string;\r\n  patientName: string;\r\n  patientId: string;\r\n  time: string;\r\n  duration: number;\r\n  type: 'follow-up' | 'initial' | 'urgent';\r\n  reason: string;\r\n}\r\n\r\nexport function UpcomingAppointments() {\r\n  // Mock data - in production, fetch from API\r\n  const appointments: Appointment[] = [\r\n    {\r\n      id: 'A001',\r\n      patientName: 'John Smith',\r\n      patientId: 'P001',\r\n      time: '09:00 AM',\r\n      duration: 30,\r\n      type: 'follow-up',\r\n      reason: 'Pain reassessment'\r\n    },\r\n    {\r\n      id: 'A002',\r\n      patientName: 'Maria Garcia',\r\n      patientId: 'P002',\r\n      time: '10:30 AM',\r\n      duration: 45,\r\n      type: 'urgent',\r\n      reason: 'Pain escalation'\r\n    },\r\n    {\r\n      id: 'A003',\r\n      patientName: 'James Wilson',\r\n      patientId: 'P003',\r\n      time: '02:00 PM',\r\n      duration: 30,\r\n      type: 'follow-up',\r\n      reason: 'Treatment review'\r\n    },\r\n    {\r\n      id: 'A004',\r\n      patientName: 'Emily Rodriguez',\r\n      patientId: 'P006',\r\n      time: '03:15 PM',\r\n      duration: 60,\r\n      type: 'initial',\r\n      reason: 'Initial consultation'\r\n    }\r\n  ];\r\n\r\n  const getTypeColor = (type: Appointment['type']) => {\r\n    switch (type) {\r\n      case 'urgent':\r\n        return 'bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400';\r\n      case 'initial':\r\n        return 'bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400';\r\n      default:\r\n        return 'bg-slate-100 text-slate-700 dark:bg-slate-700 dark:text-slate-300';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700\">\r\n      <div className=\"p-6 border-b border-slate-200 dark:border-slate-700\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div>\r\n            <h3 className=\"text-lg font-semibold text-slate-900 dark:text-slate-100\">\r\n              Today's Schedule\r\n            </h3>\r\n            <p className=\"text-sm text-slate-600 dark:text-slate-400 mt-1\">\r\n              {appointments.length} appointments\r\n            </p>\r\n          </div>\r\n          <Calendar className=\"w-5 h-5 text-slate-400\" />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"p-4\">\r\n        <div className=\"space-y-3\">\r\n          {appointments.map((apt) => (\r\n            <div\r\n              key={apt.id}\r\n              className=\"p-4 rounded-lg border border-slate-200 dark:border-slate-700 hover:shadow-md transition-shadow\"\r\n            >\r\n              <div className=\"flex items-start justify-between mb-2\">\r\n                <div className=\"flex items-center gap-2\">\r\n                  <User className=\"w-4 h-4 text-slate-400\" />\r\n                  <span className=\"font-medium text-slate-900 dark:text-slate-100\">\r\n                    {apt.patientName}\r\n                  </span>\r\n                </div>\r\n                <span className={`px-2 py-1 rounded text-xs font-medium ${getTypeColor(apt.type)}`}>\r\n                  {apt.type}\r\n                </span>\r\n              </div>\r\n              \r\n              <div className=\"flex items-center gap-4 text-sm text-slate-600 dark:text-slate-400 mb-2\">\r\n                <div className=\"flex items-center gap-1\">\r\n                  <Clock className=\"w-3 h-3\" />\r\n                  <span>{apt.time}</span>\r\n                </div>\r\n                <span>•</span>\r\n                <span>{apt.duration} min</span>\r\n              </div>\r\n\r\n              <p className=\"text-sm text-slate-700 dark:text-slate-300\">\r\n                {apt.reason}\r\n              </p>\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        <button className=\"w-full mt-4 py-2 px-4 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors text-sm font-medium\">\r\n          View Full Schedule\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","/**\r\n * Priority Alerts - Critical patient alerts requiring immediate attention\r\n */\r\n\r\nimport { AlertTriangle, TrendingUp, Clock } from 'lucide-react';\r\nimport { Link } from 'react-router-dom';\r\n\r\ninterface Alert {\r\n  id: string;\r\n  patientId: string;\r\n  patientName: string;\r\n  severity: 'critical' | 'high' | 'medium';\r\n  type: 'pain-escalation' | 'missed-entry' | 'pattern-detected';\r\n  message: string;\r\n  timestamp: string;\r\n}\r\n\r\nexport function PriorityAlerts() {\r\n  // Mock data - in production, fetch from API\r\n  const alerts: Alert[] = [\r\n    {\r\n      id: 'AL001',\r\n      patientId: 'P002',\r\n      patientName: 'Maria Garcia',\r\n      severity: 'critical',\r\n      type: 'pain-escalation',\r\n      message: 'Pain level increased from 5.2 to 7.8 over 48 hours',\r\n      timestamp: '2025-11-17T14:30:00'\r\n    },\r\n    {\r\n      id: 'AL002',\r\n      patientId: 'P005',\r\n      patientName: 'Michael Brown',\r\n      severity: 'high',\r\n      type: 'pain-escalation',\r\n      message: 'Reported pain level 8+ for 3 consecutive days',\r\n      timestamp: '2025-11-17T10:15:00'\r\n    },\r\n    {\r\n      id: 'AL003',\r\n      patientId: 'P007',\r\n      patientName: 'Jennifer Lee',\r\n      severity: 'medium',\r\n      type: 'missed-entry',\r\n      message: 'No pain entries logged in 5 days',\r\n      timestamp: '2025-11-17T08:00:00'\r\n    }\r\n  ];\r\n\r\n  const getSeverityColor = (severity: Alert['severity']) => {\r\n    switch (severity) {\r\n      case 'critical':\r\n        return 'bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800';\r\n      case 'high':\r\n        return 'bg-orange-50 dark:bg-orange-900/20 border-orange-200 dark:border-orange-800';\r\n      default:\r\n        return 'bg-amber-50 dark:bg-amber-900/20 border-amber-200 dark:border-amber-800';\r\n    }\r\n  };\r\n\r\n  const getSeverityBadge = (severity: Alert['severity']) => {\r\n    switch (severity) {\r\n      case 'critical':\r\n        return 'bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400';\r\n      case 'high':\r\n        return 'bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400';\r\n      default:\r\n        return 'bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400';\r\n    }\r\n  };\r\n\r\n  const getAlertIcon = (type: Alert['type']) => {\r\n    switch (type) {\r\n      case 'pain-escalation':\r\n        return <TrendingUp className=\"w-5 h-5\" />;\r\n      case 'missed-entry':\r\n        return <Clock className=\"w-5 h-5\" />;\r\n      default:\r\n        return <AlertTriangle className=\"w-5 h-5\" />;\r\n    }\r\n  };\r\n\r\n  const getTimeAgo = (timestamp: string) => {\r\n    const now = new Date();\r\n    const then = new Date(timestamp);\r\n    const diffMs = now.getTime() - then.getTime();\r\n    const diffHours = Math.floor(diffMs / (1000 * 60 * 60));\r\n    \r\n    if (diffHours < 1) return 'Just now';\r\n    if (diffHours === 1) return '1 hour ago';\r\n    if (diffHours < 24) return `${diffHours} hours ago`;\r\n    return `${Math.floor(diffHours / 24)} days ago`;\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700\">\r\n      <div className=\"p-6 border-b border-slate-200 dark:border-slate-700\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div>\r\n            <h2 className=\"text-xl font-semibold text-slate-900 dark:text-slate-100\">\r\n              Priority Alerts\r\n            </h2>\r\n            <p className=\"text-sm text-slate-600 dark:text-slate-400 mt-1\">\r\n              Patients requiring immediate attention\r\n            </p>\r\n          </div>\r\n          <div className=\"flex items-center gap-2 px-3 py-1.5 bg-red-100 dark:bg-red-900/30 rounded-full\">\r\n            <AlertTriangle className=\"w-4 h-4 text-red-600 dark:text-red-400\" />\r\n            <span className=\"text-sm font-medium text-red-700 dark:text-red-300\">\r\n              {alerts.length} Active\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"p-4\">\r\n        <div className=\"space-y-3\">\r\n          {alerts.map((alert) => (\r\n            <div\r\n              key={alert.id}\r\n              className={`p-4 rounded-lg border ${getSeverityColor(alert.severity)}`}\r\n            >\r\n              <div className=\"flex items-start gap-3\">\r\n                <div className={`p-2 rounded-lg ${getSeverityBadge(alert.severity)}`}>\r\n                  {getAlertIcon(alert.type)}\r\n                </div>\r\n                \r\n                <div className=\"flex-1 min-w-0\">\r\n                  <div className=\"flex items-center justify-between gap-2 mb-1\">\r\n                    <Link\r\n                      to={`/clinic/patients/${alert.patientId}`}\r\n                      className=\"font-medium text-slate-900 dark:text-slate-100 hover:text-blue-600 dark:hover:text-blue-400\"\r\n                    >\r\n                      {alert.patientName}\r\n                    </Link>\r\n                    <span className={`px-2 py-0.5 rounded text-xs font-medium uppercase ${getSeverityBadge(alert.severity)}`}>\r\n                      {alert.severity}\r\n                    </span>\r\n                  </div>\r\n                  \r\n                  <p className=\"text-sm text-slate-700 dark:text-slate-300 mb-2\">\r\n                    {alert.message}\r\n                  </p>\r\n                  \r\n                  <div className=\"flex items-center justify-between\">\r\n                    <span className=\"text-xs text-slate-500 dark:text-slate-400\">\r\n                      {getTimeAgo(alert.timestamp)}\r\n                    </span>\r\n                    <button className=\"text-xs font-medium text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300\">\r\n                      Review Case →\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        {alerts.length === 0 && (\r\n          <div className=\"text-center py-8\">\r\n            <AlertTriangle className=\"w-12 h-12 text-slate-300 dark:text-slate-600 mx-auto mb-3\" />\r\n            <p className=\"text-slate-600 dark:text-slate-400\">No priority alerts</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","/**\r\n * Clinic Dashboard - Main overview for healthcare professionals\r\n */\r\n\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { \r\n  Users, \r\n  Calendar, \r\n  AlertTriangle,\r\n  Clock,\r\n  FileText,\r\n  Activity,\r\n  Brain,\r\n  Bell,\r\n  Download,\r\n  Sparkles,\r\n  ArrowRight\r\n} from 'lucide-react';\r\nimport { ClinicStatCard } from '../../components/clinic/ClinicStatCard';\r\nimport { RecentPatientsTable } from '../../components/clinic/RecentPatientsTable';\r\nimport { UpcomingAppointments } from '../../components/clinic/UpcomingAppointments';\r\nimport { PriorityAlerts } from '../../components/clinic/PriorityAlerts';\r\n\r\nexport function ClinicDashboard() {\r\n  const navigate = useNavigate();\r\n  \r\n  // Mock data - in production, fetch from API\r\n  const stats = {\r\n    activePatients: 247,\r\n    todaysAppointments: 12,\r\n    pendingReports: 8,\r\n    criticalAlerts: 3,\r\n    appointmentsChange: '+12%',\r\n    patientsChange: '+8%',\r\n    reportsChange: '-15%',\r\n    alertsChange: '+2',\r\n    aiPatternsDetected: 12,\r\n    medicationAdherence: 87\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-6 space-y-6 bg-slate-900 min-h-screen\">\r\n      {/* Ambient background */}\r\n      <div className=\"fixed inset-0 pointer-events-none overflow-hidden\">\r\n        <div className=\"absolute top-0 left-1/4 w-96 h-96 bg-sky-500/5 rounded-full blur-3xl\" />\r\n        <div className=\"absolute bottom-1/4 right-1/4 w-80 h-80 bg-violet-500/5 rounded-full blur-3xl\" />\r\n      </div>\r\n\r\n      {/* Page Header */}\r\n      <div className=\"relative\">\r\n        <div className=\"flex items-center gap-3 mb-2\">\r\n          <div className=\"p-3 rounded-xl bg-gradient-to-br from-sky-500/20 to-cyan-500/20 border border-sky-500/30\">\r\n            <Activity className=\"w-6 h-6 text-sky-400\" />\r\n          </div>\r\n          <div>\r\n            <h1 className=\"text-3xl font-bold text-white\">\r\n              Clinical Dashboard\r\n            </h1>\r\n            <p className=\"text-slate-400\">\r\n              Welcome back! Here's an overview of your patients and activities.\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Stats Grid */}\r\n      <div className=\"relative grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n        <ClinicStatCard\r\n          title=\"Active Patients\"\r\n          value={stats.activePatients}\r\n          change={stats.patientsChange}\r\n          icon={Users}\r\n          trend=\"up\"\r\n          iconColor=\"bg-sky-500\"\r\n        />\r\n        <ClinicStatCard\r\n          title=\"Today's Appointments\"\r\n          value={stats.todaysAppointments}\r\n          change={stats.appointmentsChange}\r\n          icon={Calendar}\r\n          trend=\"up\"\r\n          iconColor=\"bg-emerald-500\"\r\n        />\r\n        <ClinicStatCard\r\n          title=\"Critical Alerts\"\r\n          value={stats.criticalAlerts}\r\n          change={stats.alertsChange}\r\n          icon={AlertTriangle}\r\n          trend=\"up\"\r\n          iconColor=\"bg-rose-500\"\r\n        />\r\n        <ClinicStatCard\r\n          title=\"Automated Insights\"\r\n          value={stats.aiPatternsDetected}\r\n          change={`${stats.medicationAdherence}% adherence`}\r\n          icon={Brain}\r\n          trend=\"up\"\r\n          iconColor=\"bg-violet-500\"\r\n        />\r\n      </div>\r\n\r\n      {/* Feature Highlights - Premium Cards */}\r\n      <div className=\"relative grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n        <button\r\n          onClick={() => navigate('/clinic/monitoring')}\r\n          className=\"group p-6 rounded-2xl border border-rose-500/20 transition-all text-left hover:-translate-y-1\"\r\n          style={{\r\n            background: 'linear-gradient(135deg, rgba(244, 63, 94, 0.1) 0%, rgba(190, 18, 60, 0.1) 100%)',\r\n            boxShadow: '0 15px 40px -10px rgba(244, 63, 94, 0.2)'\r\n          }}\r\n        >\r\n          <div className=\"flex items-start justify-between mb-3\">\r\n            <div className=\"p-2 rounded-xl bg-rose-500/20 border border-rose-500/30\">\r\n              <Bell className=\"w-6 h-6 text-rose-400 group-hover:scale-110 transition-transform\" />\r\n            </div>\r\n            <span className=\"px-3 py-1 rounded-full text-xs font-bold bg-rose-500 text-white\">\r\n              {stats.criticalAlerts} Active\r\n            </span>\r\n          </div>\r\n          <h3 className=\"text-lg font-bold text-white mb-2\">\r\n            On-Device Monitoring\r\n          </h3>\r\n          <p className=\"text-sm text-slate-400 mb-4\">\r\n            Optional, on-device alerts for worsening patterns and missed routines (no server-side clinician monitoring)\r\n          </p>\r\n          <div className=\"flex items-center gap-2 text-rose-400 font-medium text-sm group-hover:gap-3 transition-all\">\r\n            View Dashboard <ArrowRight className=\"w-4 h-4\" />\r\n          </div>\r\n        </button>\r\n\r\n        <button\r\n          onClick={() => navigate('/clinic/patients/1')}\r\n          className=\"group p-6 rounded-2xl border border-violet-500/20 transition-all text-left hover:-translate-y-1\"\r\n          style={{\r\n            background: 'linear-gradient(135deg, rgba(139, 92, 246, 0.1) 0%, rgba(109, 40, 217, 0.1) 100%)',\r\n            boxShadow: '0 15px 40px -10px rgba(139, 92, 246, 0.2)'\r\n          }}\r\n        >\r\n          <div className=\"flex items-start justify-between mb-3\">\r\n            <div className=\"p-2 rounded-xl bg-violet-500/20 border border-violet-500/30\">\r\n              <Brain className=\"w-6 h-6 text-violet-400 group-hover:scale-110 transition-transform\" />\r\n            </div>\r\n            <span className=\"px-3 py-1 rounded-full text-xs font-bold bg-violet-500 text-white\">\r\n              {stats.aiPatternsDetected} Insights\r\n            </span>\r\n          </div>\r\n          <h3 className=\"text-lg font-bold text-white mb-2\">\r\n            Automated Pattern Detection\r\n          </h3>\r\n          <p className=\"text-sm text-slate-400 mb-4\">\r\n            Automatic identification of pain triggers, medication efficacy, and treatment correlations\r\n          </p>\r\n          <div className=\"flex items-center gap-2 text-violet-400 font-medium text-sm group-hover:gap-3 transition-all\">\r\n            See Patient Example <ArrowRight className=\"w-4 h-4\" />\r\n          </div>\r\n        </button>\r\n\r\n        <button\r\n          onClick={() => navigate('/clinic/patients/1')}\r\n          className=\"group p-6 rounded-2xl border border-sky-500/20 transition-all text-left hover:-translate-y-1\"\r\n          style={{\r\n            background: 'linear-gradient(135deg, rgba(14, 165, 233, 0.1) 0%, rgba(2, 132, 199, 0.1) 100%)',\r\n            boxShadow: '0 15px 40px -10px rgba(14, 165, 233, 0.2)'\r\n          }}\r\n        >\r\n          <div className=\"flex items-start justify-between mb-3\">\r\n            <div className=\"p-2 rounded-xl bg-sky-500/20 border border-sky-500/30\">\r\n              <Download className=\"w-6 h-6 text-sky-400 group-hover:scale-110 transition-transform\" />\r\n            </div>\r\n            <span className=\"px-3 py-1 rounded-full text-xs font-bold bg-sky-500 text-white\">\r\n              1-Click\r\n            </span>\r\n          </div>\r\n          <h3 className=\"text-lg font-bold text-white mb-2\">\r\n            Automated Reports\r\n          </h3>\r\n          <p className=\"text-sm text-slate-400 mb-4\">\r\n            Generate WorkSafe BC and insurance reports in seconds with pre-filled data\r\n          </p>\r\n          <div className=\"flex items-center gap-2 text-sky-400 font-medium text-sm group-hover:gap-3 transition-all\">\r\n            Try Report Generator <ArrowRight className=\"w-4 h-4\" />\r\n          </div>\r\n        </button>\r\n      </div>\r\n\r\n      {/* Two Column Layout */}\r\n      <div className=\"relative grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n        {/* Left Column - Takes 2/3 width */}\r\n        <div className=\"lg:col-span-2 space-y-6\">\r\n          {/* Priority Alerts */}\r\n          <PriorityAlerts />\r\n\r\n          {/* Recent Patients */}\r\n          <RecentPatientsTable />\r\n        </div>\r\n\r\n        {/* Right Column - Takes 1/3 width */}\r\n        <div className=\"space-y-6\">\r\n          {/* Upcoming Appointments */}\r\n          <UpcomingAppointments />\r\n\r\n          {/* Quick Actions */}\r\n          <div \r\n            className=\"rounded-2xl border border-slate-700/50 p-6\"\r\n            style={{\r\n              background: 'linear-gradient(135deg, rgba(30, 41, 59, 0.95) 0%, rgba(15, 23, 42, 0.98) 100%)',\r\n              boxShadow: '0 15px 40px -10px rgba(0, 0, 0, 0.3)'\r\n            }}\r\n          >\r\n            <h3 className=\"text-lg font-semibold text-white mb-4 flex items-center gap-2\">\r\n              <Sparkles className=\"w-5 h-5 text-amber-400\" />\r\n              Quick Actions\r\n            </h3>\r\n            <div className=\"space-y-3\">\r\n              <button \r\n                onClick={() => navigate('/clinic/patients')}\r\n                className=\"w-full flex items-center gap-3 px-4 py-3 rounded-xl bg-sky-500/10 border border-sky-500/20 hover:bg-sky-500/20 transition-colors text-left group\"\r\n              >\r\n                <Users className=\"w-5 h-5 text-sky-400\" />\r\n                <span className=\"text-sm font-medium text-sky-300 group-hover:text-sky-200\">\r\n                  View All Patients\r\n                </span>\r\n              </button>\r\n              <button \r\n                onClick={() => navigate('/clinic/monitoring')}\r\n                className=\"w-full flex items-center gap-3 px-4 py-3 rounded-xl bg-rose-500/10 border border-rose-500/20 hover:bg-rose-500/20 transition-colors text-left group\"\r\n              >\r\n                <Bell className=\"w-5 h-5 text-rose-400\" />\r\n                <span className=\"text-sm font-medium text-rose-300 group-hover:text-rose-200\">\r\n                  Check Alerts\r\n                </span>\r\n              </button>\r\n              <button \r\n                onClick={() => navigate('/clinic/patients/1')}\r\n                className=\"w-full flex items-center gap-3 px-4 py-3 rounded-xl bg-violet-500/10 border border-violet-500/20 hover:bg-violet-500/20 transition-colors text-left group\"\r\n              >\r\n                <Brain className=\"w-5 h-5 text-violet-400\" />\r\n                <span className=\"text-sm font-medium text-violet-300 group-hover:text-violet-200\">\r\n                  View Insights\r\n                </span>\r\n              </button>\r\n              <button \r\n                onClick={() => navigate('/clinic/patients/1')}\r\n                className=\"w-full flex items-center gap-3 px-4 py-3 rounded-xl bg-emerald-500/10 border border-emerald-500/20 hover:bg-emerald-500/20 transition-colors text-left group\"\r\n              >\r\n                <FileText className=\"w-5 h-5 text-emerald-400\" />\r\n                <span className=\"text-sm font-medium text-emerald-300 group-hover:text-emerald-200\">\r\n                  Generate Report\r\n                </span>\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          {/* System Status */}\r\n          <div \r\n            className=\"rounded-2xl border border-slate-700/50 p-6\"\r\n            style={{\r\n              background: 'linear-gradient(135deg, rgba(30, 41, 59, 0.95) 0%, rgba(15, 23, 42, 0.98) 100%)',\r\n              boxShadow: '0 15px 40px -10px rgba(0, 0, 0, 0.3)'\r\n            }}\r\n          >\r\n            <h3 className=\"text-lg font-semibold text-white mb-4\">\r\n              System Status\r\n            </h3>\r\n            <div className=\"space-y-3\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <div className=\"flex items-center gap-2\">\r\n                  <div className=\"w-2 h-2 rounded-full bg-emerald-400 animate-pulse\" />\r\n                  <span className=\"text-sm text-slate-400\">API Status</span>\r\n                </div>\r\n                <span className=\"text-sm font-medium text-emerald-400\">Operational</span>\r\n              </div>\r\n              <div className=\"flex items-center justify-between\">\r\n                <div className=\"flex items-center gap-2\">\r\n                  <Clock className=\"w-4 h-4 text-sky-400\" />\r\n                  <span className=\"text-sm text-slate-400\">Last Sync</span>\r\n                </div>\r\n                <span className=\"text-sm font-medium text-slate-300\">2 min ago</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}","/**\r\n * Clinic Authentication Context\r\n * Manages clinician login, role-based access, and session handling\r\n */\r\n\r\nimport { createContext, useContext, useState, useEffect, ReactNode } from 'react';\r\nimport { hipaaComplianceService } from '../services/HIPAACompliance';\r\n\r\nexport type ClinicUserRole = 'physician' | 'nurse' | 'admin' | 'researcher';\r\n\r\nexport interface ClinicUser {\r\n  id: string;\r\n  email: string;\r\n  name: string;\r\n  role: ClinicUserRole;\r\n  licenseNumber?: string;\r\n  specialty?: string;\r\n  npiNumber?: string;\r\n  organizationId: string;\r\n  organizationName: string;\r\n  permissions: string[];\r\n  lastLogin?: string;\r\n}\r\n\r\nexport interface ClinicAuthState {\r\n  user: ClinicUser | null;\r\n  isAuthenticated: boolean;\r\n  isLoading: boolean;\r\n  error: string | null;\r\n}\r\n\r\ninterface ClinicAuthContextType extends ClinicAuthState {\r\n  login: (email: string, password: string) => Promise<void>;\r\n  logout: () => Promise<void>;\r\n  hasPermission: (permission: string) => boolean;\r\n  hasRole: (role: ClinicUserRole | ClinicUserRole[]) => boolean;\r\n}\r\n\r\nconst ClinicAuthContext = createContext<ClinicAuthContextType | null>(null);\r\n\r\n// Role-based permissions\r\nconst _ROLE_PERMISSIONS: Record<ClinicUserRole, string[]> = {\r\n  physician: [\r\n    'view:patients',\r\n    'edit:patients',\r\n    'create:reports',\r\n    'view:reports',\r\n    'edit:reports',\r\n    'create:prescriptions',\r\n    'view:full_medical_history',\r\n    'schedule:appointments',\r\n    'cancel:appointments'\r\n  ],\r\n  nurse: [\r\n    'view:patients',\r\n    'edit:patient_vitals',\r\n    'view:reports',\r\n    'schedule:appointments',\r\n    'cancel:appointments',\r\n    'create:notes'\r\n  ],\r\n  admin: [\r\n    'view:patients',\r\n    'edit:patients',\r\n    'create:reports',\r\n    'view:reports',\r\n    'edit:reports',\r\n    'view:full_medical_history',\r\n    'schedule:appointments',\r\n    'cancel:appointments',\r\n    'manage:users',\r\n    'view:audit_logs',\r\n    'export:data',\r\n    'configure:system'\r\n  ],\r\n  researcher: [\r\n    'view:deidentified_data',\r\n    'export:deidentified_data',\r\n    'view:aggregate_analytics'\r\n  ]\r\n};\r\n\r\ninterface ClinicAuthProviderProps {\r\n  children: ReactNode;\r\n}\r\n\r\nexport function ClinicAuthProvider({ children }: ClinicAuthProviderProps) {\r\n  const [authState, setAuthState] = useState<ClinicAuthState>({\r\n    user: null,\r\n    isAuthenticated: false,\r\n    isLoading: true,\r\n    error: null\r\n  });\r\n\r\n  // Check for existing session on mount\r\n  useEffect(() => {\r\n    checkSession();\r\n  }, []);\r\n\r\n  const checkSession = async () => {\r\n    try {\r\n      // Check for stored tokens\r\n      const accessToken = localStorage.getItem('clinic_access_token');\r\n      const userData = localStorage.getItem('clinic_user_data');\r\n      \r\n      if (!accessToken || !userData) {\r\n        setAuthState(prev => ({ ...prev, isLoading: false }));\r\n        return;\r\n      }\r\n\r\n      // Verify token with backend\r\n      const response = await fetch('/api/clinic/auth/verify', {\r\n        method: 'GET',\r\n        headers: {\r\n          'Authorization': `Bearer ${accessToken}`\r\n        }\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (response.ok && data.success && data.valid && data.user) {\r\n        // Session is still valid\r\n        await hipaaComplianceService.logAuditEvent({\r\n          actionType: 'read',\r\n          resourceType: 'Session',\r\n          userId: data.user.id,\r\n          userRole: data.user.role,\r\n          outcome: 'success',\r\n          details: { action: 'session_restored' }\r\n        });\r\n\r\n        setAuthState({\r\n          user: data.user,\r\n          isAuthenticated: true,\r\n          isLoading: false,\r\n          error: null\r\n        });\r\n      } else {\r\n        // Token invalid or expired, try refresh\r\n        const refreshToken = localStorage.getItem('clinic_refresh_token');\r\n        \r\n        if (refreshToken) {\r\n          try {\r\n            const refreshResponse = await fetch('/api/clinic/auth/refresh', {\r\n              method: 'POST',\r\n              headers: { 'Content-Type': 'application/json' },\r\n              body: JSON.stringify({ refreshToken })\r\n            });\r\n\r\n            const refreshData = await refreshResponse.json();\r\n\r\n            if (refreshResponse.ok && refreshData.success && refreshData.accessToken) {\r\n              // Update access token\r\n              localStorage.setItem('clinic_access_token', refreshData.accessToken);\r\n              \r\n              // Try verification again\r\n              const retryResponse = await fetch('/api/clinic/auth/verify', {\r\n                method: 'GET',\r\n                headers: {\r\n                  'Authorization': `Bearer ${refreshData.accessToken}`\r\n                }\r\n              });\r\n\r\n              const retryData = await retryResponse.json();\r\n\r\n              if (retryResponse.ok && retryData.success && retryData.valid && retryData.user) {\r\n                setAuthState({\r\n                  user: retryData.user,\r\n                  isAuthenticated: true,\r\n                  isLoading: false,\r\n                  error: null\r\n                });\r\n                return;\r\n              }\r\n            }\r\n          } catch (refreshError) {\r\n            console.error('Token refresh failed:', refreshError);\r\n          }\r\n        }\r\n\r\n        // If we get here, session restoration failed\r\n        localStorage.removeItem('clinic_access_token');\r\n        localStorage.removeItem('clinic_refresh_token');\r\n        localStorage.removeItem('clinic_user_data');\r\n        setAuthState(prev => ({ ...prev, isLoading: false }));\r\n      }\r\n    } catch (error) {\r\n      console.error('Session check failed:', error);\r\n      setAuthState(prev => ({ ...prev, isLoading: false }));\r\n    }\r\n  };\r\n\r\n  const login = async (email: string, password: string) => {\r\n    setAuthState(prev => ({ ...prev, isLoading: true, error: null }));\r\n\r\n    try {\r\n      // Call backend authentication API\r\n      const response = await fetch('/api/clinic/auth/login', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ \r\n          email, \r\n          password,\r\n          deviceName: navigator.userAgent.includes('Mobile') ? 'Mobile Device' : 'Desktop'\r\n        })\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (!response.ok || !data.success) {\r\n        throw new Error(data.error || 'Login failed');\r\n      }\r\n\r\n      // Store tokens\r\n      localStorage.setItem('clinic_access_token', data.accessToken);\r\n      localStorage.setItem('clinic_refresh_token', data.refreshToken);\r\n      localStorage.setItem('clinic_user_data', JSON.stringify(data.user));\r\n\r\n      // Log successful login (backend already logged this, but we log client-side too)\r\n      await hipaaComplianceService.logAuditEvent({\r\n        actionType: 'login',\r\n        resourceType: 'Session',\r\n        userId: data.user.id,\r\n        userRole: data.user.role,\r\n        outcome: 'success',\r\n        details: { \r\n          action: 'login_client',\r\n          email: data.user.email,\r\n          role: data.user.role,\r\n        }\r\n      });\r\n\r\n      setAuthState({\r\n        user: data.user,\r\n        isAuthenticated: true,\r\n        isLoading: false,\r\n        error: null\r\n      });\r\n    } catch (error) {\r\n      const errorMessage = error instanceof Error ? error.message : 'Login failed';\r\n      \r\n      // Log failed login attempt\r\n      await hipaaComplianceService.logAuditEvent({\r\n        actionType: 'login',\r\n        resourceType: 'Session',\r\n        userId: 'unknown',\r\n        userRole: 'unknown',\r\n        outcome: 'failure',\r\n        details: { \r\n          action: 'login_failed_client',\r\n          email,\r\n          error: errorMessage\r\n        }\r\n      });\r\n\r\n      setAuthState({\r\n        user: null,\r\n        isAuthenticated: false,\r\n        isLoading: false,\r\n        error: errorMessage\r\n      });\r\n      \r\n      throw error;\r\n    }\r\n  };\r\n\r\n  const logout = async () => {\r\n    const currentUser = authState.user;\r\n\r\n    try {\r\n      // Call backend logout API\r\n      const accessToken = localStorage.getItem('clinic_access_token');\r\n      \r\n      if (accessToken) {\r\n        await fetch('/api/clinic/auth/logout', {\r\n          method: 'POST',\r\n          headers: { \r\n            'Content-Type': 'application/json',\r\n            'Authorization': `Bearer ${accessToken}`\r\n          },\r\n          body: JSON.stringify({ revokeAllSessions: false })\r\n        });\r\n      }\r\n\r\n      // Clear local session\r\n      localStorage.removeItem('clinic_access_token');\r\n      localStorage.removeItem('clinic_refresh_token');\r\n      localStorage.removeItem('clinic_user_data');\r\n\r\n      // Log logout\r\n      if (currentUser) {\r\n        await hipaaComplianceService.logAuditEvent({\r\n          actionType: 'logout',\r\n          resourceType: 'Session',\r\n          userId: currentUser.id,\r\n          userRole: currentUser.role,\r\n          outcome: 'success',\r\n          details: { action: 'logout_client' }\r\n        });\r\n      }\r\n\r\n      setAuthState({\r\n        user: null,\r\n        isAuthenticated: false,\r\n        isLoading: false,\r\n        error: null\r\n      });\r\n    } catch (error) {\r\n      console.error('Logout error:', error);\r\n      // Force logout even if API call fails\r\n      localStorage.removeItem('clinic_access_token');\r\n      localStorage.removeItem('clinic_refresh_token');\r\n      localStorage.removeItem('clinic_user_data');\r\n      \r\n      setAuthState({\r\n        user: null,\r\n        isAuthenticated: false,\r\n        isLoading: false,\r\n        error: null\r\n      });\r\n    }\r\n  };\r\n\r\n  const hasPermission = (permission: string): boolean => {\r\n    if (!authState.user) return false;\r\n    return authState.user.permissions.includes(permission);\r\n  };\r\n\r\n  const hasRole = (role: ClinicUserRole | ClinicUserRole[]): boolean => {\r\n    if (!authState.user) return false;\r\n    const roles = Array.isArray(role) ? role : [role];\r\n    return roles.includes(authState.user.role);\r\n  };\r\n\r\n  const contextValue: ClinicAuthContextType = {\r\n    ...authState,\r\n    login,\r\n    logout,\r\n    hasPermission,\r\n    hasRole\r\n  };\r\n\r\n  return (\r\n    <ClinicAuthContext.Provider value={contextValue}>\r\n      {children}\r\n    </ClinicAuthContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useClinicAuth() {\r\n  const context = useContext(ClinicAuthContext);\r\n  \r\n  if (!context) {\r\n    throw new Error('useClinicAuth must be used within ClinicAuthProvider');\r\n  }\r\n  \r\n  return context;\r\n}\r\n","/**\r\n * Protected Route for Clinic Portal\r\n * Ensures only authenticated clinicians can access portal pages\r\n */\r\n\r\nimport { ReactNode } from 'react';\r\nimport { Navigate, useLocation } from 'react-router-dom';\r\nimport { useClinicAuth, ClinicUserRole } from '../../contexts/ClinicAuthContext';\r\nimport { Loader2 } from 'lucide-react';\r\n\r\ninterface ClinicProtectedRouteProps {\r\n  children: ReactNode;\r\n  requiredRole?: ClinicUserRole | ClinicUserRole[];\r\n  requiredPermission?: string;\r\n}\r\n\r\nexport function ClinicProtectedRoute({ \r\n  children, \r\n  requiredRole,\r\n  requiredPermission \r\n}: ClinicProtectedRouteProps) {\r\n  const { isAuthenticated, isLoading, hasRole, hasPermission } = useClinicAuth();\r\n  const location = useLocation();\r\n\r\n  // Show loading spinner while checking authentication\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-slate-50 dark:bg-slate-900 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <Loader2 className=\"w-12 h-12 animate-spin text-blue-600 mx-auto mb-4\" />\r\n          <p className=\"text-slate-600 dark:text-slate-400\">\r\n            Verifying credentials...\r\n          </p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Redirect to login if not authenticated\r\n  if (!isAuthenticated) {\r\n    return <Navigate to=\"/clinic/login\" state={{ from: location }} replace />;\r\n  }\r\n\r\n  // Check role-based access\r\n  if (requiredRole && !hasRole(requiredRole)) {\r\n    return (\r\n      <div className=\"min-h-screen bg-slate-50 dark:bg-slate-900 flex items-center justify-center p-4\">\r\n        <div className=\"max-w-md w-full bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-8 text-center\">\r\n          <div className=\"w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n            <svg className=\"w-8 h-8 text-red-600 dark:text-red-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\r\n            </svg>\r\n          </div>\r\n          <h2 className=\"text-2xl font-bold text-slate-900 dark:text-slate-100 mb-2\">\r\n            Access Denied\r\n          </h2>\r\n          <p className=\"text-slate-600 dark:text-slate-400 mb-6\">\r\n            You don't have permission to access this page. \r\n            {requiredRole && (\r\n              <span className=\"block mt-2 text-sm\">\r\n                Required role: {Array.isArray(requiredRole) ? requiredRole.join(' or ') : requiredRole}\r\n              </span>\r\n            )}\r\n          </p>\r\n          <button\r\n            onClick={() => window.history.back()}\r\n            className=\"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors\"\r\n          >\r\n            Go Back\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Check permission-based access\r\n  if (requiredPermission && !hasPermission(requiredPermission)) {\r\n    return (\r\n      <div className=\"min-h-screen bg-slate-50 dark:bg-slate-900 flex items-center justify-center p-4\">\r\n        <div className=\"max-w-md w-full bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-8 text-center\">\r\n          <div className=\"w-16 h-16 bg-amber-100 dark:bg-amber-900/30 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n            <svg className=\"w-8 h-8 text-amber-600 dark:text-amber-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z\" />\r\n            </svg>\r\n          </div>\r\n          <h2 className=\"text-2xl font-bold text-slate-900 dark:text-slate-100 mb-2\">\r\n            Insufficient Permissions\r\n          </h2>\r\n          <p className=\"text-slate-600 dark:text-slate-400 mb-6\">\r\n            Your account doesn't have the required permission to perform this action.\r\n            {requiredPermission && (\r\n              <span className=\"block mt-2 text-sm font-mono bg-slate-100 dark:bg-slate-900 px-2 py-1 rounded\">\r\n                {requiredPermission}\r\n              </span>\r\n            )}\r\n          </p>\r\n          <button\r\n            onClick={() => window.history.back()}\r\n            className=\"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors\"\r\n          >\r\n            Go Back\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // User is authenticated and authorized\r\n  return <>{children}</>;\r\n}\r\n","import React, { useEffect, useState, useCallback } from 'react';\r\nimport { ClinicProtectedRoute } from '../../components/clinic/ClinicProtectedRoute';\r\nimport { useClinicAuth } from '../../contexts/ClinicAuthContext';\r\nimport { MessageSquare, CheckCircle2, EyeOff, Eye, AlertCircle, Loader2 } from 'lucide-react';\r\n\r\nexport const TestimonialsAdmin: React.FC = () => {\r\n  const { user } = useClinicAuth();\r\n  const [loading, setLoading] = useState(false);\r\n  const [testimonials, setTestimonials] = useState<Array<{ id: number; name?: string; anonymized: boolean; quote: string; role?: string; created_at: string }>>([]);\r\n\r\n  const fetchTestimonials = useCallback(async () => {\r\n    setLoading(true);\r\n    try {\r\n      const token = localStorage.getItem('clinic_access_token');\r\n      const headers: Record<string, string> = token ? { Authorization: `Bearer ${token}` } : {};\r\n      const res = await fetch('/api/landing/testimonials?verified=false', { headers });\r\n      if (!res.ok) throw new Error('Failed to load');\r\n      const data = await res.json();\r\n      setTestimonials(data.testimonials || []);\r\n    } catch (e) {\r\n      console.error('Failed to fetch testimonials', e);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => { fetchTestimonials(); }, [fetchTestimonials]);\r\n\r\n  const handleVerify = async (id: number) => {\r\n    const date = new Date().toISOString();\r\n    const token = localStorage.getItem('clinic_access_token');\r\n    const headers: Record<string, string> = token ? { Authorization: `Bearer ${token}`, 'x-admin-user': user?.email || user?.name || 'admin' } : { 'Content-Type': 'application/json' };\r\n    const res = await fetch('/api/landing/testimonials_verify', { method: 'POST', headers, body: JSON.stringify({ id, verified: true, publication_date: date }) });\r\n    if (res.ok) fetchTestimonials();\r\n  };\r\n\r\n  const handleAnonymize = async (id: number) => {\r\n    const t = testimonials.find(tt => tt.id === id);\r\n    if (!t) return;\r\n    const token = localStorage.getItem('clinic_access_token');\r\n    const headers: Record<string, string> = token ? { Authorization: `Bearer ${token}`, 'Content-Type': 'application/json' } : { 'Content-Type': 'application/json' };\r\n    const res = await fetch(`/api/landing/testimonials/${id}`, { method: 'PATCH', headers, body: JSON.stringify({ anonymized: !t.anonymized }) });\r\n    if (res.ok) fetchTestimonials();\r\n  };\r\n\r\n  return (\r\n    <ClinicProtectedRoute requiredRole=\"admin\">\r\n      <div className=\"p-6 bg-slate-900 min-h-screen\">\r\n        {/* Ambient background */}\r\n        <div className=\"fixed inset-0 pointer-events-none overflow-hidden\">\r\n          <div className=\"absolute top-0 left-1/4 w-96 h-96 bg-violet-500/5 rounded-full blur-3xl\" />\r\n          <div className=\"absolute bottom-1/4 right-1/4 w-80 h-80 bg-rose-500/5 rounded-full blur-3xl\" />\r\n        </div>\r\n\r\n        {/* Header */}\r\n        <div className=\"relative mb-8\">\r\n          <div className=\"flex items-center gap-3 mb-2\">\r\n            <div className=\"p-3 rounded-xl bg-gradient-to-br from-violet-500/20 to-purple-500/20 border border-violet-500/30\">\r\n              <MessageSquare className=\"w-6 h-6 text-violet-400\" />\r\n            </div>\r\n            <div>\r\n              <h1 className=\"text-3xl font-bold text-white\">\r\n                Testimonials Admin\r\n              </h1>\r\n              <p className=\"text-slate-400\">\r\n                Review and manage user-submitted stories\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {!localStorage.getItem('clinic_access_token') && (\r\n          <div className=\"relative mb-6 p-4 rounded-xl bg-amber-500/10 border border-amber-500/20 flex items-start gap-3\">\r\n            <AlertCircle className=\"w-5 h-5 text-amber-400 flex-shrink-0 mt-0.5\" />\r\n            <p className=\"text-amber-300\">Please log in with your clinic account (admin role) to manage testimonials.</p>\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"relative grid gap-4\">\r\n          {loading && (\r\n            <div className=\"flex items-center justify-center py-12\">\r\n              <Loader2 className=\"w-8 h-8 text-violet-400 animate-spin\" />\r\n            </div>\r\n          )}\r\n          \r\n          {!loading && testimonials.length === 0 && (\r\n            <div \r\n              className=\"p-8 rounded-2xl border border-slate-700/50 text-center\"\r\n              style={{\r\n                background: 'linear-gradient(135deg, rgba(30, 41, 59, 0.95) 0%, rgba(15, 23, 42, 0.98) 100%)'\r\n              }}\r\n            >\r\n              <MessageSquare className=\"w-12 h-12 text-slate-600 mx-auto mb-4\" />\r\n              <p className=\"text-slate-400\">No testimonials pending review.</p>\r\n            </div>\r\n          )}\r\n          \r\n          {!loading && testimonials.map(t => (\r\n            <div \r\n              key={t.id} \r\n              className=\"p-6 rounded-2xl border border-slate-700/50 flex items-start justify-between gap-6\"\r\n              style={{\r\n                background: 'linear-gradient(135deg, rgba(30, 41, 59, 0.95) 0%, rgba(15, 23, 42, 0.98) 100%)',\r\n                boxShadow: '0 15px 40px -10px rgba(0, 0, 0, 0.3)'\r\n              }}\r\n            >\r\n              <div className=\"flex-1 min-w-0\">\r\n                <div className=\"flex items-center gap-2 mb-2\">\r\n                  <span className=\"font-semibold text-white\">\r\n                    {t.anonymized ? 'Anonymous' : t.name || 'Unknown'}\r\n                  </span>\r\n                  {t.role && (\r\n                    <span className=\"px-2 py-0.5 rounded-full text-xs bg-violet-500/20 text-violet-300 border border-violet-500/30\">\r\n                      {t.role}\r\n                    </span>\r\n                  )}\r\n                  {t.anonymized && (\r\n                    <span className=\"px-2 py-0.5 rounded-full text-xs bg-slate-700 text-slate-400\">\r\n                      <EyeOff className=\"w-3 h-3 inline mr-1\" />\r\n                      Anonymous\r\n                    </span>\r\n                  )}\r\n                </div>\r\n                <p className=\"text-slate-300 mb-3 break-words leading-relaxed\">\"{t.quote}\"</p>\r\n                <p className=\"text-xs text-slate-500\">\r\n                  Submitted: {new Date(t.created_at).toLocaleString()}\r\n                </p>\r\n              </div>\r\n              <div className=\"flex flex-col gap-2 flex-shrink-0\">\r\n                <button\r\n                  onClick={() => handleVerify(t.id)}\r\n                  className=\"flex items-center justify-center gap-2 px-4 py-2 rounded-xl text-white font-medium transition-all hover:-translate-y-0.5 shadow-lg shadow-emerald-500/25\"\r\n                  style={{\r\n                    background: 'linear-gradient(135deg, #10b981 0%, #059669 100%)'\r\n                  }}\r\n                >\r\n                  <CheckCircle2 className=\"w-4 h-4\" />\r\n                  Verify\r\n                </button>\r\n                <button\r\n                  onClick={() => handleAnonymize(t.id)}\r\n                  className=\"flex items-center justify-center gap-2 px-4 py-2 rounded-xl text-slate-300 border border-slate-600 hover:bg-slate-800 transition-all\"\r\n                >\r\n                  {t.anonymized ? <Eye className=\"w-4 h-4\" /> : <EyeOff className=\"w-4 h-4\" />}\r\n                  {t.anonymized ? 'Reveal' : 'Anonymize'}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </ClinicProtectedRoute>\r\n  );\r\n};\r\n\r\nexport default TestimonialsAdmin;","import React, { useState, useMemo } from 'react';\r\nimport {\r\n  Line,\r\n  AreaChart,\r\n  Area,\r\n  BarChart,\r\n  Bar,\r\n  XAxis,\r\n  YAxis,\r\n  CartesianGrid,\r\n  Tooltip,\r\n  Legend,\r\n  ResponsiveContainer,\r\n  ComposedChart,\r\n  ReferenceLine,\r\n  Brush,\r\n} from 'recharts';\r\nimport {\r\n  Activity,\r\n  TrendingDown,\r\n  TrendingUp,\r\n  Calendar,\r\n  Pill,\r\n  Zap,\r\n  AlertTriangle,\r\n  CheckCircle,\r\n  Download,\r\n  Share2,\r\n} from 'lucide-react';\r\n\r\ninterface PainEntry {\r\n  id: string;\r\n  timestamp: string;\r\n  painLevel: number;\r\n  location: string;\r\n  triggers?: string[];\r\n  medications?: string[];\r\n  activities?: string[];\r\n  mood?: number;\r\n  sleep?: number;\r\n  notes?: string;\r\n}\r\n\r\ninterface Intervention {\r\n  id: string;\r\n  date: string;\r\n  type: 'medication' | 'therapy' | 'procedure' | 'lifestyle';\r\n  name: string;\r\n  dosage?: string;\r\n  provider?: string;\r\n  notes?: string;\r\n}\r\n\r\ninterface PatientPainTimelineProps {\r\n  patientId: string;\r\n  patientName: string;\r\n  entries: PainEntry[];\r\n  interventions: Intervention[];\r\n  dateRange?: { start: Date; end: Date };\r\n}\r\n\r\nexport const PatientPainTimeline: React.FC<PatientPainTimelineProps> = ({\r\n  patientName,\r\n  entries,\r\n  interventions,\r\n}) => {\r\n  const [viewMode, setViewMode] = useState<'trend' | 'correlation' | 'pattern'>('trend');\r\n  const [timeFrame, setTimeFrame] = useState<'7d' | '30d' | '90d' | 'all'>('30d');\r\n  const [showInterventions, setShowInterventions] = useState(true);\r\n\r\n  // Process data for charts\r\n  const chartData = useMemo(() => {\r\n    const now = new Date();\r\n    const daysBack = timeFrame === '7d' ? 7 : timeFrame === '30d' ? 30 : timeFrame === '90d' ? 90 : 365;\r\n    const cutoffDate = new Date(now.getTime() - daysBack * 24 * 60 * 60 * 1000);\r\n\r\n    return entries\r\n      .filter((entry) => new Date(entry.timestamp) >= cutoffDate)\r\n      .map((entry) => ({\r\n        date: new Date(entry.timestamp).toLocaleDateString(),\r\n        timestamp: entry.timestamp,\r\n        painLevel: entry.painLevel,\r\n        mood: entry.mood || 0,\r\n        sleep: entry.sleep || 0,\r\n        hasMedication: (entry.medications?.length || 0) > 0,\r\n        hasTriggers: (entry.triggers?.length || 0) > 0,\r\n      }))\r\n      .sort((a, b) => new Date(a.timestamp).getTime() - new Date(b.timestamp).getTime());\r\n  }, [entries, timeFrame]);\r\n\r\n  // Calculate statistics\r\n  const stats = useMemo(() => {\r\n    if (chartData.length === 0) return null;\r\n\r\n    const painLevels = chartData.map((d) => d.painLevel);\r\n    const avgPain = painLevels.reduce((a, b) => a + b, 0) / painLevels.length;\r\n    const maxPain = Math.max(...painLevels);\r\n    const minPain = Math.min(...painLevels);\r\n\r\n    // Calculate trend (simple linear regression)\r\n    const n = painLevels.length;\r\n    const sumX = (n * (n - 1)) / 2;\r\n    const sumY = painLevels.reduce((a, b) => a + b, 0);\r\n    const sumXY = painLevels.reduce((acc, y, x) => acc + x * y, 0);\r\n    const sumX2 = (n * (n - 1) * (2 * n - 1)) / 6;\r\n    const slope = (n * sumXY - sumX * sumY) / (n * sumX2 - sumX * sumX);\r\n\r\n    const trend = slope < -0.05 ? 'improving' : slope > 0.05 ? 'worsening' : 'stable';\r\n\r\n    return {\r\n      avgPain: avgPain.toFixed(1),\r\n      maxPain,\r\n      minPain,\r\n      trend,\r\n      slope,\r\n      dataPoints: n,\r\n    };\r\n  }, [chartData]);\r\n\r\n  // Identify correlations\r\n  const correlations = useMemo(() => {\r\n    const results: { factor: string; impact: string; confidence: string }[] = [];\r\n\r\n    // Medication effectiveness\r\n    const withMed = chartData.filter((d) => d.hasMedication).map((d) => d.painLevel);\r\n    const withoutMed = chartData.filter((d) => !d.hasMedication).map((d) => d.painLevel);\r\n    if (withMed.length > 0 && withoutMed.length > 0) {\r\n      const avgWithMed = withMed.reduce((a, b) => a + b, 0) / withMed.length;\r\n      const avgWithoutMed = withoutMed.reduce((a, b) => a + b, 0) / withoutMed.length;\r\n      const diff = avgWithoutMed - avgWithMed;\r\n      if (diff > 0.5) {\r\n        results.push({\r\n          factor: 'Medication',\r\n          impact: `Reduces pain by ${diff.toFixed(1)} points`,\r\n          confidence: 'High',\r\n        });\r\n      }\r\n    }\r\n\r\n    // Mood-pain correlation\r\n    const moodData = chartData.filter((d) => d.mood > 0);\r\n    if (moodData.length > 5) {\r\n      const correlation = calculateCorrelation(\r\n        moodData.map((d) => d.mood),\r\n        moodData.map((d) => d.painLevel)\r\n      );\r\n      if (Math.abs(correlation) > 0.5) {\r\n        results.push({\r\n          factor: 'Mood',\r\n          impact: correlation < 0 ? 'Better mood = Lower pain' : 'Better mood = Higher pain',\r\n          confidence: Math.abs(correlation) > 0.7 ? 'High' : 'Medium',\r\n        });\r\n      }\r\n    }\r\n\r\n    // Sleep-pain correlation\r\n    const sleepData = chartData.filter((d) => d.sleep > 0);\r\n    if (sleepData.length > 5) {\r\n      const correlation = calculateCorrelation(\r\n        sleepData.map((d) => d.sleep),\r\n        sleepData.map((d) => d.painLevel)\r\n      );\r\n      if (Math.abs(correlation) > 0.5) {\r\n        results.push({\r\n          factor: 'Sleep Quality',\r\n          impact: correlation < 0 ? 'Better sleep = Lower pain' : 'Poor sleep = Higher pain',\r\n          confidence: Math.abs(correlation) > 0.7 ? 'High' : 'Medium',\r\n        });\r\n      }\r\n    }\r\n\r\n    return results;\r\n  }, [chartData]);\r\n\r\n  // Helper function for correlation\r\n  const calculateCorrelation = (x: number[], y: number[]): number => {\r\n    const n = x.length;\r\n    const sumX = x.reduce((a, b) => a + b, 0);\r\n    const sumY = y.reduce((a, b) => a + b, 0);\r\n    const sumXY = x.reduce((acc, xi, i) => acc + xi * y[i], 0);\r\n    const sumX2 = x.reduce((acc, xi) => acc + xi * xi, 0);\r\n    const sumY2 = y.reduce((acc, yi) => acc + yi * yi, 0);\r\n\r\n    const numerator = n * sumXY - sumX * sumY;\r\n    const denominator = Math.sqrt((n * sumX2 - sumX * sumX) * (n * sumY2 - sumY * sumY));\r\n\r\n    return denominator === 0 ? 0 : numerator / denominator;\r\n  };\r\n\r\n  // Export functionality\r\n  const handleExport = () => {\r\n    const csvContent =\r\n      'Date,Pain Level,Mood,Sleep,Medications,Triggers\\n' +\r\n      entries\r\n        .map(\r\n          (e) =>\r\n            `${e.timestamp},${e.painLevel},${e.mood || ''},${e.sleep || ''},${e.medications?.join(';') || ''},${e.triggers?.join(';') || ''}`\r\n        )\r\n        .join('\\n');\r\n\r\n    const blob = new Blob([csvContent], { type: 'text/csv' });\r\n    const url = window.URL.createObjectURL(blob);\r\n    const a = document.createElement('a');\r\n    a.href = url;\r\n    a.download = `${patientName}-pain-timeline-${new Date().toISOString().split('T')[0]}.csv`;\r\n    a.click();\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header with controls */}\r\n      <div className=\"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-6\">\r\n        <div className=\"flex items-center justify-between mb-6\">\r\n          <div>\r\n            <h2 className=\"text-2xl font-bold text-slate-900 dark:text-white\">Pain Timeline</h2>\r\n            <p className=\"text-slate-600 dark:text-slate-400 mt-1\">\r\n              Comprehensive view of {patientName}'s pain journey\r\n            </p>\r\n          </div>\r\n          <div className=\"flex gap-3\">\r\n            <button\r\n              onClick={handleExport}\r\n              className=\"flex items-center gap-2 px-4 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-600 transition-colors\"\r\n            >\r\n              <Download className=\"w-4 h-4\" />\r\n              Export\r\n            </button>\r\n            <button className=\"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\">\r\n              <Share2 className=\"w-4 h-4\" />\r\n              Share\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* View mode selector */}\r\n        <div className=\"flex gap-2 mb-4\">\r\n          {(['trend', 'correlation', 'pattern'] as const).map((mode) => (\r\n            <button\r\n              key={mode}\r\n              onClick={() => setViewMode(mode)}\r\n              className={`px-4 py-2 rounded-lg font-medium transition-colors ${\r\n                viewMode === mode\r\n                  ? 'bg-blue-600 text-white'\r\n                  : 'bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600'\r\n              }`}\r\n            >\r\n              {mode.charAt(0).toUpperCase() + mode.slice(1)}\r\n            </button>\r\n          ))}\r\n        </div>\r\n\r\n        {/* Time frame selector */}\r\n        <div className=\"flex gap-2\">\r\n          {(['7d', '30d', '90d', 'all'] as const).map((frame) => (\r\n            <button\r\n              key={frame}\r\n              onClick={() => setTimeFrame(frame)}\r\n              className={`px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${\r\n                timeFrame === frame\r\n                  ? 'bg-slate-900 dark:bg-slate-600 text-white'\r\n                  : 'bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600'\r\n              }`}\r\n            >\r\n              {frame === '7d' ? '7 days' : frame === '30d' ? '30 days' : frame === '90d' ? '90 days' : 'All time'}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Statistics cards */}\r\n      {stats && (\r\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n          <div className=\"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-4\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-sm text-slate-600 dark:text-slate-400\">Average Pain</p>\r\n                <p className=\"text-2xl font-bold text-slate-900 dark:text-white mt-1\">{stats.avgPain}/10</p>\r\n              </div>\r\n              <Activity className=\"w-8 h-8 text-blue-600\" />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-4\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-sm text-slate-600 dark:text-slate-400\">Trend</p>\r\n                <div className=\"flex items-center gap-2 mt-1\">\r\n                  {stats.trend === 'improving' ? (\r\n                    <>\r\n                      <TrendingDown className=\"w-5 h-5 text-green-600\" />\r\n                      <span className=\"text-lg font-bold text-green-600\">Improving</span>\r\n                    </>\r\n                  ) : stats.trend === 'worsening' ? (\r\n                    <>\r\n                      <TrendingUp className=\"w-5 h-5 text-red-600\" />\r\n                      <span className=\"text-lg font-bold text-red-600\">Worsening</span>\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <Activity className=\"w-5 h-5 text-amber-600\" />\r\n                      <span className=\"text-lg font-bold text-amber-600\">Stable</span>\r\n                    </>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-4\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-sm text-slate-600 dark:text-slate-400\">Range</p>\r\n                <p className=\"text-2xl font-bold text-slate-900 dark:text-white mt-1\">\r\n                  {stats.minPain} - {stats.maxPain}\r\n                </p>\r\n              </div>\r\n              <AlertTriangle className=\"w-8 h-8 text-amber-600\" />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-4\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-sm text-slate-600 dark:text-slate-400\">Data Points</p>\r\n                <p className=\"text-2xl font-bold text-slate-900 dark:text-white mt-1\">{stats.dataPoints}</p>\r\n              </div>\r\n              <Calendar className=\"w-8 h-8 text-purple-600\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Main chart */}\r\n      <div className=\"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-6\">\r\n        <h3 className=\"text-lg font-semibold text-slate-900 dark:text-white mb-4\">\r\n          {viewMode === 'trend' && 'Pain Level Trend'}\r\n          {viewMode === 'correlation' && 'Multi-Factor Correlation'}\r\n          {viewMode === 'pattern' && 'Pattern Analysis'}\r\n        </h3>\r\n\r\n        <ResponsiveContainer width=\"100%\" height={400}>\r\n          {viewMode === 'trend' ? (\r\n            <AreaChart data={chartData}>\r\n              <defs>\r\n                <linearGradient id=\"painGradient\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\r\n                  <stop offset=\"5%\" stopColor=\"#ef4444\" stopOpacity={0.8} />\r\n                  <stop offset=\"95%\" stopColor=\"#ef4444\" stopOpacity={0.1} />\r\n                </linearGradient>\r\n              </defs>\r\n              <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#e2e8f0\" />\r\n              <XAxis dataKey=\"date\" stroke=\"#64748b\" />\r\n              <YAxis domain={[0, 10]} stroke=\"#64748b\" />\r\n              <Tooltip\r\n                contentStyle={{\r\n                  backgroundColor: '#1e293b',\r\n                  border: 'none',\r\n                  borderRadius: '8px',\r\n                  color: '#fff',\r\n                }}\r\n              />\r\n              <Legend />\r\n              <Area\r\n                type=\"monotone\"\r\n                dataKey=\"painLevel\"\r\n                stroke=\"#ef4444\"\r\n                fill=\"url(#painGradient)\"\r\n                strokeWidth={2}\r\n                name=\"Pain Level\"\r\n              />\r\n              <ReferenceLine y={7} stroke=\"#f59e0b\" strokeDasharray=\"3 3\" label=\"High Pain Threshold\" />\r\n              <Brush dataKey=\"date\" height={30} stroke=\"#3b82f6\" />\r\n            </AreaChart>\r\n          ) : viewMode === 'correlation' ? (\r\n            <ComposedChart data={chartData}>\r\n              <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#e2e8f0\" />\r\n              <XAxis dataKey=\"date\" stroke=\"#64748b\" />\r\n              <YAxis domain={[0, 10]} stroke=\"#64748b\" />\r\n              <Tooltip\r\n                contentStyle={{\r\n                  backgroundColor: '#1e293b',\r\n                  border: 'none',\r\n                  borderRadius: '8px',\r\n                  color: '#fff',\r\n                }}\r\n              />\r\n              <Legend />\r\n              <Line type=\"monotone\" dataKey=\"painLevel\" stroke=\"#ef4444\" strokeWidth={2} name=\"Pain Level\" />\r\n              <Line type=\"monotone\" dataKey=\"mood\" stroke=\"#3b82f6\" strokeWidth={2} name=\"Mood\" />\r\n              <Line type=\"monotone\" dataKey=\"sleep\" stroke=\"#10b981\" strokeWidth={2} name=\"Sleep Quality\" />\r\n              <Brush dataKey=\"date\" height={30} stroke=\"#3b82f6\" />\r\n            </ComposedChart>\r\n          ) : (\r\n            <BarChart data={chartData}>\r\n              <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#e2e8f0\" />\r\n              <XAxis dataKey=\"date\" stroke=\"#64748b\" />\r\n              <YAxis domain={[0, 10]} stroke=\"#64748b\" />\r\n              <Tooltip\r\n                contentStyle={{\r\n                  backgroundColor: '#1e293b',\r\n                  border: 'none',\r\n                  borderRadius: '8px',\r\n                  color: '#fff',\r\n                }}\r\n              />\r\n              <Legend />\r\n              <Bar dataKey=\"painLevel\" fill=\"#ef4444\" name=\"Pain Level\" radius={[8, 8, 0, 0]} />\r\n              <Brush dataKey=\"date\" height={30} stroke=\"#3b82f6\" />\r\n            </BarChart>\r\n          )}\r\n        </ResponsiveContainer>\r\n      </div>\r\n\r\n      {/* Correlations insights */}\r\n      {correlations.length > 0 && (\r\n        <div className=\"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-6\">\r\n          <div className=\"flex items-center gap-2 mb-4\">\r\n            <Zap className=\"w-5 h-5 text-amber-600\" />\r\n            <h3 className=\"text-lg font-semibold text-slate-900 dark:text-white\">AI-Detected Patterns</h3>\r\n          </div>\r\n          <div className=\"space-y-3\">\r\n            {correlations.map((corr, idx) => (\r\n              <div key={idx} className=\"flex items-start gap-3 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg\">\r\n                <CheckCircle className=\"w-5 h-5 text-blue-600 mt-0.5\" />\r\n                <div>\r\n                  <p className=\"font-medium text-slate-900 dark:text-white\">{corr.factor}</p>\r\n                  <p className=\"text-sm text-slate-600 dark:text-slate-400 mt-1\">{corr.impact}</p>\r\n                  <span\r\n                    className={`inline-block mt-2 px-2 py-1 text-xs font-medium rounded ${\r\n                      corr.confidence === 'High'\r\n                        ? 'bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400'\r\n                        : 'bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-400'\r\n                    }`}\r\n                  >\r\n                    {corr.confidence} Confidence\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Interventions timeline */}\r\n      {showInterventions && interventions.length > 0 && (\r\n        <div className=\"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-6\">\r\n          <div className=\"flex items-center justify-between mb-4\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <Pill className=\"w-5 h-5 text-purple-600\" />\r\n              <h3 className=\"text-lg font-semibold text-slate-900 dark:text-white\">Treatment Interventions</h3>\r\n            </div>\r\n            <button\r\n              onClick={() => setShowInterventions(!showInterventions)}\r\n              className=\"text-sm text-blue-600 hover:text-blue-700\"\r\n            >\r\n              {showInterventions ? 'Hide' : 'Show'}\r\n            </button>\r\n          </div>\r\n          <div className=\"space-y-3\">\r\n            {interventions.slice(0, 5).map((intervention) => (\r\n              <div key={intervention.id} className=\"flex items-start gap-4 p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg\">\r\n                <div\r\n                  className={`w-10 h-10 rounded-full flex items-center justify-center ${\r\n                    intervention.type === 'medication'\r\n                      ? 'bg-purple-100 dark:bg-purple-900/30'\r\n                      : intervention.type === 'therapy'\r\n                        ? 'bg-blue-100 dark:bg-blue-900/30'\r\n                        : intervention.type === 'procedure'\r\n                          ? 'bg-red-100 dark:bg-red-900/30'\r\n                          : 'bg-green-100 dark:bg-green-900/30'\r\n                  }`}\r\n                >\r\n                  <Pill className=\"w-5 h-5 text-purple-600\" />\r\n                </div>\r\n                <div className=\"flex-1\">\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <h4 className=\"font-medium text-slate-900 dark:text-white\">{intervention.name}</h4>\r\n                    <span className=\"text-sm text-slate-600 dark:text-slate-400\">\r\n                      {new Date(intervention.date).toLocaleDateString()}\r\n                    </span>\r\n                  </div>\r\n                  {intervention.dosage && (\r\n                    <p className=\"text-sm text-slate-600 dark:text-slate-400 mt-1\">Dosage: {intervention.dosage}</p>\r\n                  )}\r\n                  {intervention.provider && (\r\n                    <p className=\"text-sm text-slate-600 dark:text-slate-400\">Provider: {intervention.provider}</p>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","/**\r\n * AI-Powered Pattern Detection Service\r\n * Analyzes patient data to identify pain triggers, medication efficacy, and treatment correlations\r\n *\r\n * NOTE: This service uses a simplified PainEntry interface for pattern detection.\r\n * It maps from the canonical PainEntry type (from types/index.ts) to this\r\n * internal format. See convertToPatternEntry() for the mapping.\r\n */\r\n\r\nimport type { PainEntry as CanonicalPainEntry } from '../types';\r\n\r\n// Alias for backward compatibility within this file\r\ntype PainEntry = CanonicalPainEntry;\r\n\r\n/**\r\n * Internal PainEntry format optimized for pattern detection.\r\n * Use convertToPatternEntry() to convert from the canonical PainEntry type.\r\n */\r\ninterface PatternPainEntry {\r\n  id: string;\r\n  timestamp: string;\r\n  painLevel: number;\r\n  location: string;\r\n  triggers?: string[];\r\n  medications?: string[];\r\n  activities?: string[];\r\n  mood?: number;\r\n  sleep?: number;\r\n  weather?: string;\r\n  stress?: number;\r\n  notes?: string;\r\n}\r\n\r\n/**\r\n * Convert canonical PainEntry to pattern detection format\r\n */\r\nexport function convertToPatternEntry(entry: CanonicalPainEntry): PatternPainEntry {\r\n  return {\r\n    id: String(entry.id ?? Date.now()),\r\n    timestamp: entry.timestamp,\r\n    painLevel: entry.baselineData.pain,\r\n    location: entry.baselineData.locations?.[0] ?? '',\r\n    triggers: entry.triggers,\r\n    medications: entry.medications?.current?.map(m => m.name),\r\n    activities: entry.functionalImpact?.limitedActivities,\r\n    mood: entry.qualityOfLife?.moodImpact,\r\n    sleep: entry.qualityOfLife?.sleepQuality,\r\n    notes: entry.notes,\r\n  };\r\n}\r\n\r\n/**\r\n * Get pain level from a PainEntry (canonical type uses baselineData.pain)\r\n */\r\nfunction getPainLevel(entry: CanonicalPainEntry): number {\r\n  return entry.intensity ?? entry.baselineData.pain;\r\n}\r\n\r\n/**\r\n * Get medication names from a PainEntry\r\n */\r\nfunction getMedicationNames(entry: CanonicalPainEntry): string[] {\r\n  return entry.medications?.current?.map(m => m.name) ?? [];\r\n}\r\n\r\ninterface Intervention {\r\n  id: string;\r\n  date: string;\r\n  type: 'medication' | 'therapy' | 'procedure' | 'lifestyle';\r\n  name: string;\r\n  dosage?: string;\r\n}\r\n\r\nexport interface DetectedPattern {\r\n  id: string;\r\n  type: 'trigger' | 'medication_efficacy' | 'time_correlation' | 'activity_correlation' | 'weather_correlation';\r\n  confidence: 'high' | 'medium' | 'low';\r\n  title: string;\r\n  description: string;\r\n  impact: number; // -10 to +10 scale\r\n  occurrences: number;\r\n  lastSeen: string;\r\n  actionable: boolean;\r\n  recommendation?: string;\r\n  evidence: {\r\n    avgPainWith: number;\r\n    avgPainWithout: number;\r\n    sampleSize: number;\r\n    correlation?: number;\r\n  };\r\n}\r\n\r\nexport interface InsightSummary {\r\n  totalPatterns: number;\r\n  highConfidencePatterns: number;\r\n  actionableInsights: number;\r\n  topTriggers: string[];\r\n  effectiveTreatments: string[];\r\n  riskFactors: string[];\r\n}\r\n\r\nexport class PatternDetectionService {\r\n  private static readonly MIN_SAMPLE_SIZE = 5;\r\n  private static readonly HIGH_CORRELATION_THRESHOLD = 0.7;\r\n  private static readonly MEDIUM_CORRELATION_THRESHOLD = 0.5;\r\n  private static readonly SIGNIFICANT_IMPACT_THRESHOLD = 1.0;\r\n\r\n  /**\r\n   * Analyze patient data and detect meaningful patterns\r\n   */\r\n  static async detectPatterns(\r\n    entries: PainEntry[],\r\n    interventions: Intervention[]\r\n  ): Promise<DetectedPattern[]> {\r\n    const patterns: DetectedPattern[] = [];\r\n\r\n    // 1. Medication Efficacy Analysis\r\n    patterns.push(...this.analyzeMedicationEfficacy(entries, interventions));\r\n\r\n    // 2. Trigger Identification\r\n    patterns.push(...this.identifyTriggers(entries));\r\n\r\n    // 3. Time-of-Day Correlations\r\n    patterns.push(...this.analyzeTimeCorrelations(entries));\r\n\r\n    // 4. Activity Correlations\r\n    patterns.push(...this.analyzeActivityCorrelations(entries));\r\n\r\n    // 5. Weather Impact\r\n    patterns.push(...this.analyzeWeatherImpact(entries));\r\n\r\n    // 6. Sleep-Pain Correlation\r\n    patterns.push(...this.analyzeSleepCorrelation(entries));\r\n\r\n    // 7. Mood-Pain Correlation\r\n    patterns.push(...this.analyzeMoodCorrelation(entries));\r\n\r\n    // 8. Stress-Pain Correlation\r\n    patterns.push(...this.analyzeStressCorrelation(entries));\r\n\r\n    // Sort by confidence and impact\r\n    return patterns.sort((a, b) => {\r\n      const scoreA = this.calculatePatternScore(a);\r\n      const scoreB = this.calculatePatternScore(b);\r\n      return scoreB - scoreA;\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Analyze medication effectiveness\r\n   */\r\n  private static analyzeMedicationEfficacy(\r\n    entries: PainEntry[],\r\n    interventions: Intervention[]\r\n  ): DetectedPattern[] {\r\n    const patterns: DetectedPattern[] = [];\r\n    const medicationInterventions = interventions.filter((i) => i.type === 'medication');\r\n\r\n    for (const medication of medicationInterventions) {\r\n      const medName = medication.name;\r\n      const medDate = new Date(medication.date);\r\n\r\n      // Find entries before and after medication started\r\n      const beforeEntries = entries.filter((e) => new Date(e.timestamp) < medDate);\r\n      const afterEntries = entries.filter(\r\n        (e) => new Date(e.timestamp) >= medDate && getMedicationNames(e).includes(medName)\r\n      );\r\n\r\n      if (beforeEntries.length >= this.MIN_SAMPLE_SIZE && afterEntries.length >= this.MIN_SAMPLE_SIZE) {\r\n        const avgPainBefore = this.calculateAverage(beforeEntries.map((e) => getPainLevel(e)));\r\n        const avgPainAfter = this.calculateAverage(afterEntries.map((e) => getPainLevel(e)));\r\n        const impact = avgPainBefore - avgPainAfter;\r\n\r\n        if (Math.abs(impact) >= this.SIGNIFICANT_IMPACT_THRESHOLD) {\r\n          patterns.push({\r\n            id: `med-${medication.id}`,\r\n            type: 'medication_efficacy',\r\n            confidence: this.calculateConfidence(beforeEntries.length + afterEntries.length),\r\n            title:\r\n              impact > 0\r\n                ? `${medName} is Associated with Lower Pain`\r\n                : `${medName} is Associated with Higher Pain`,\r\n            description:\r\n              impact > 0\r\n                ? `Average pain was ${avgPainAfter.toFixed(1)} with ${medName} vs ${avgPainBefore.toFixed(1)} before (Δ ${impact.toFixed(1)}, n=${afterEntries.length} after / n=${beforeEntries.length} before). This is observational, not proof of cause and effect.`\r\n                : `Average pain was ${avgPainAfter.toFixed(1)} with ${medName} vs ${avgPainBefore.toFixed(1)} before (Δ -${Math.abs(impact).toFixed(1)}, n=${afterEntries.length} after / n=${beforeEntries.length} before). This often happens when medications are taken during flares.`,\r\n            impact: impact,\r\n            occurrences: afterEntries.length,\r\n            lastSeen: afterEntries[afterEntries.length - 1]?.timestamp || medication.date,\r\n            actionable: true,\r\n            recommendation:\r\n              impact > 0\r\n                ? 'If this aligns with your goals, continue tracking and review with your clinician'\r\n                : 'Review timing and flare context; consider discussing options with your clinician',\r\n            evidence: {\r\n              avgPainWith: avgPainAfter,\r\n              avgPainWithout: avgPainBefore,\r\n              sampleSize: beforeEntries.length + afterEntries.length,\r\n            },\r\n          });\r\n        }\r\n      }\r\n    }\r\n\r\n    return patterns;\r\n  }\r\n\r\n  /**\r\n   * Identify pain triggers\r\n   */\r\n  private static identifyTriggers(entries: PainEntry[]): DetectedPattern[] {\r\n    const patterns: DetectedPattern[] = [];\r\n    const triggerMap = new Map<string, { painLevels: number[]; dates: string[] }>();\r\n\r\n    // Collect all triggers and associated pain levels\r\n    for (const entry of entries) {\r\n      if (entry.triggers && entry.triggers.length > 0) {\r\n        for (const trigger of entry.triggers) {\r\n          if (!triggerMap.has(trigger)) {\r\n            triggerMap.set(trigger, { painLevels: [], dates: [] });\r\n          }\r\n          const data = triggerMap.get(trigger)!;\r\n          data.painLevels.push(getPainLevel(entry));\r\n          data.dates.push(entry.timestamp);\r\n        }\r\n      }\r\n    }\r\n\r\n    // Analyze each trigger\r\n    for (const [trigger, data] of triggerMap.entries()) {\r\n      if (data.painLevels.length >= this.MIN_SAMPLE_SIZE) {\r\n        const avgPainWithTrigger = this.calculateAverage(data.painLevels);\r\n        const entriesWithoutTrigger = entries.filter(\r\n          (e) => !e.triggers?.includes(trigger)\r\n        );\r\n        \r\n        if (entriesWithoutTrigger.length >= this.MIN_SAMPLE_SIZE) {\r\n          const avgPainWithoutTrigger = this.calculateAverage(\r\n            entriesWithoutTrigger.map((e) => getPainLevel(e))\r\n          );\r\n          const impact = avgPainWithTrigger - avgPainWithoutTrigger;\r\n\r\n          if (impact >= this.SIGNIFICANT_IMPACT_THRESHOLD) {\r\n            patterns.push({\r\n              id: `trigger-${trigger}`,\r\n              type: 'trigger',\r\n              confidence: this.calculateConfidence(data.painLevels.length),\r\n              title: `${trigger} is a Significant Trigger`,\r\n              description: `Pain is ${impact.toFixed(1)} points higher on average when ${trigger} occurs`,\r\n              impact: -impact, // Negative because triggers worsen pain\r\n              occurrences: data.painLevels.length,\r\n              lastSeen: data.dates[data.dates.length - 1],\r\n              actionable: true,\r\n              recommendation: `Consider strategies to avoid or mitigate ${trigger}`,\r\n              evidence: {\r\n                avgPainWith: avgPainWithTrigger,\r\n                avgPainWithout: avgPainWithoutTrigger,\r\n                sampleSize: data.painLevels.length + entriesWithoutTrigger.length,\r\n              },\r\n            });\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return patterns;\r\n  }\r\n\r\n  /**\r\n   * Analyze time-of-day correlations\r\n   */\r\n  private static analyzeTimeCorrelations(entries: PainEntry[]): DetectedPattern[] {\r\n    const patterns: DetectedPattern[] = [];\r\n    const timeSlots = {\r\n      morning: { start: 6, end: 12, entries: [] as PainEntry[] },\r\n      afternoon: { start: 12, end: 18, entries: [] as PainEntry[] },\r\n      evening: { start: 18, end: 22, entries: [] as PainEntry[] },\r\n      night: { start: 22, end: 6, entries: [] as PainEntry[] },\r\n    };\r\n\r\n    // Group entries by time slot\r\n    for (const entry of entries) {\r\n      const hour = new Date(entry.timestamp).getHours();\r\n      if (hour >= timeSlots.morning.start && hour < timeSlots.morning.end) {\r\n        timeSlots.morning.entries.push(entry);\r\n      } else if (hour >= timeSlots.afternoon.start && hour < timeSlots.afternoon.end) {\r\n        timeSlots.afternoon.entries.push(entry);\r\n      } else if (hour >= timeSlots.evening.start && hour < timeSlots.evening.end) {\r\n        timeSlots.evening.entries.push(entry);\r\n      } else {\r\n        timeSlots.night.entries.push(entry);\r\n      }\r\n    }\r\n\r\n    // Find worst time slot\r\n    const avgPains = Object.entries(timeSlots).map(([name, slot]) => ({\r\n      name,\r\n      avg: slot.entries.length > 0 ? this.calculateAverage(slot.entries.map((e) => getPainLevel(e))) : 0,\r\n      count: slot.entries.length,\r\n    }));\r\n\r\n    const maxAvg = Math.max(...avgPains.map((p) => p.avg));\r\n    const minAvg = Math.min(...avgPains.filter((p) => p.count > 0).map((p) => p.avg));\r\n    const worstTime = avgPains.find((p) => p.avg === maxAvg);\r\n\r\n    if (worstTime && worstTime.count >= this.MIN_SAMPLE_SIZE && maxAvg - minAvg >= this.SIGNIFICANT_IMPACT_THRESHOLD) {\r\n      patterns.push({\r\n        id: `time-${worstTime.name}`,\r\n        type: 'time_correlation',\r\n        confidence: this.calculateConfidence(worstTime.count),\r\n        title: `Pain Peaks in the ${worstTime.name.charAt(0).toUpperCase() + worstTime.name.slice(1)}`,\r\n        description: `Pain averages ${maxAvg.toFixed(1)}/10 during ${worstTime.name} hours, ${(maxAvg - minAvg).toFixed(1)} points higher than best time`,\r\n        impact: -(maxAvg - minAvg),\r\n        occurrences: worstTime.count,\r\n        lastSeen: timeSlots[worstTime.name as keyof typeof timeSlots].entries[worstTime.count - 1]?.timestamp || '',\r\n        actionable: true,\r\n        recommendation: `Schedule important activities outside ${worstTime.name} hours when possible`,\r\n        evidence: {\r\n          avgPainWith: maxAvg,\r\n          avgPainWithout: minAvg,\r\n          sampleSize: entries.length,\r\n        },\r\n      });\r\n    }\r\n\r\n    return patterns;\r\n  }\r\n\r\n  /**\r\n   * Analyze activity correlations\r\n   */\r\n  private static analyzeActivityCorrelations(entries: PainEntry[]): DetectedPattern[] {\r\n    const patterns: DetectedPattern[] = [];\r\n    const activityMap = new Map<string, { painLevels: number[]; dates: string[] }>();\r\n\r\n    // Collect activities and pain levels\r\n    for (const entry of entries) {\r\n      if (entry.activities && entry.activities.length > 0) {\r\n        for (const activity of entry.activities) {\r\n          if (!activityMap.has(activity)) {\r\n            activityMap.set(activity, { painLevels: [], dates: [] });\r\n          }\r\n          const data = activityMap.get(activity)!;\r\n          data.painLevels.push(getPainLevel(entry));\r\n          data.dates.push(entry.timestamp);\r\n        }\r\n      }\r\n    }\r\n\r\n    // Analyze each activity\r\n    for (const [activity, data] of activityMap.entries()) {\r\n      if (data.painLevels.length >= this.MIN_SAMPLE_SIZE) {\r\n        const avgPainWithActivity = this.calculateAverage(data.painLevels);\r\n        const avgPainOverall = this.calculateAverage(entries.map((e) => getPainLevel(e)));\r\n        const impact = avgPainWithActivity - avgPainOverall;\r\n\r\n        if (Math.abs(impact) >= this.SIGNIFICANT_IMPACT_THRESHOLD) {\r\n          patterns.push({\r\n            id: `activity-${activity}`,\r\n            type: 'activity_correlation',\r\n            confidence: this.calculateConfidence(data.painLevels.length),\r\n            title: impact > 0 ? `${activity} Worsens Pain` : `${activity} Reduces Pain`,\r\n            description:\r\n              impact > 0\r\n                ? `Pain is ${impact.toFixed(1)} points higher after ${activity}`\r\n                : `Pain is ${Math.abs(impact).toFixed(1)} points lower after ${activity}`,\r\n            impact: -impact,\r\n            occurrences: data.painLevels.length,\r\n            lastSeen: data.dates[data.dates.length - 1],\r\n            actionable: true,\r\n            recommendation:\r\n              impact > 0\r\n                ? `Consider reducing or modifying ${activity}`\r\n                : `Encourage more ${activity} as pain management strategy`,\r\n            evidence: {\r\n              avgPainWith: avgPainWithActivity,\r\n              avgPainWithout: avgPainOverall,\r\n              sampleSize: data.painLevels.length,\r\n            },\r\n          });\r\n        }\r\n      }\r\n    }\r\n\r\n    return patterns;\r\n  }\r\n\r\n  /**\r\n   * Analyze weather impact\r\n   */\r\n  private static analyzeWeatherImpact(entries: PainEntry[]): DetectedPattern[] {\r\n    const patterns: DetectedPattern[] = [];\r\n    const weatherMap = new Map<string, { painLevels: number[]; dates: string[] }>();\r\n\r\n    // Collect weather conditions\r\n    for (const entry of entries) {\r\n      if (entry.weather) {\r\n        if (!weatherMap.has(entry.weather)) {\r\n          weatherMap.set(entry.weather, { painLevels: [], dates: [] });\r\n        }\r\n        const data = weatherMap.get(entry.weather)!;\r\n        data.painLevels.push(getPainLevel(entry));\r\n        data.dates.push(entry.timestamp);\r\n      }\r\n    }\r\n\r\n    // Find worst weather condition\r\n    for (const [weather, data] of weatherMap.entries()) {\r\n      if (data.painLevels.length >= this.MIN_SAMPLE_SIZE) {\r\n        const avgPainInWeather = this.calculateAverage(data.painLevels);\r\n        const otherEntries = entries.filter((e) => e.weather && e.weather !== weather);\r\n        \r\n        if (otherEntries.length >= this.MIN_SAMPLE_SIZE) {\r\n          const avgPainOther = this.calculateAverage(otherEntries.map((e) => getPainLevel(e)));\r\n          const impact = avgPainInWeather - avgPainOther;\r\n\r\n          if (impact >= this.SIGNIFICANT_IMPACT_THRESHOLD) {\r\n            patterns.push({\r\n              id: `weather-${weather}`,\r\n              type: 'weather_correlation',\r\n              confidence: this.calculateConfidence(data.painLevels.length),\r\n              title: `${weather} Weather Worsens Pain`,\r\n              description: `Pain is ${impact.toFixed(1)} points higher during ${weather} conditions`,\r\n              impact: -impact,\r\n              occurrences: data.painLevels.length,\r\n              lastSeen: data.dates[data.dates.length - 1],\r\n              actionable: true,\r\n              recommendation: `Plan activities around weather forecasts to minimize exposure to ${weather}`,\r\n              evidence: {\r\n                avgPainWith: avgPainInWeather,\r\n                avgPainWithout: avgPainOther,\r\n                sampleSize: data.painLevels.length + otherEntries.length,\r\n              },\r\n            });\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return patterns;\r\n  }\r\n\r\n  /**\r\n   * Analyze sleep-pain correlation\r\n   */\r\n  private static analyzeSleepCorrelation(entries: PainEntry[]): DetectedPattern[] {\r\n    const patterns: DetectedPattern[] = [];\r\n    const entriesWithSleep = entries.filter((e) => e.sleep !== undefined && e.sleep !== null);\r\n\r\n    if (entriesWithSleep.length >= this.MIN_SAMPLE_SIZE) {\r\n      const correlation = this.calculateCorrelation(\r\n        entriesWithSleep.map((e) => e.sleep!),\r\n        entriesWithSleep.map((e) => getPainLevel(e))\r\n      );\r\n\r\n      if (Math.abs(correlation) >= this.MEDIUM_CORRELATION_THRESHOLD) {\r\n        const avgPainGoodSleep = this.calculateAverage(\r\n          entriesWithSleep.filter((e) => e.sleep! >= 7).map((e) => getPainLevel(e))\r\n        );\r\n        const avgPainPoorSleep = this.calculateAverage(\r\n          entriesWithSleep.filter((e) => e.sleep! < 7).map((e) => getPainLevel(e))\r\n        );\r\n\r\n        patterns.push({\r\n          id: 'sleep-correlation',\r\n          type: 'trigger',\r\n          confidence: Math.abs(correlation) >= this.HIGH_CORRELATION_THRESHOLD ? 'high' : 'medium',\r\n          title: correlation < 0 ? 'Better Sleep Reduces Pain' : 'Poor Sleep Worsens Pain',\r\n          description:\r\n            correlation < 0\r\n              ? `Strong negative correlation: Each hour of sleep reduces pain by ~${(Math.abs(correlation) * 2).toFixed(1)} points`\r\n              : `Pain increases with poor sleep quality`,\r\n          impact: avgPainGoodSleep - avgPainPoorSleep,\r\n          occurrences: entriesWithSleep.length,\r\n          lastSeen: entriesWithSleep[entriesWithSleep.length - 1].timestamp,\r\n          actionable: true,\r\n          recommendation: 'Prioritize sleep hygiene and aim for 7-9 hours per night',\r\n          evidence: {\r\n            avgPainWith: avgPainGoodSleep,\r\n            avgPainWithout: avgPainPoorSleep,\r\n            sampleSize: entriesWithSleep.length,\r\n            correlation: correlation,\r\n          },\r\n        });\r\n      }\r\n    }\r\n\r\n    return patterns;\r\n  }\r\n\r\n  /**\r\n   * Analyze mood-pain correlation\r\n   */\r\n  private static analyzeMoodCorrelation(entries: PainEntry[]): DetectedPattern[] {\r\n    const patterns: DetectedPattern[] = [];\r\n    const entriesWithMood = entries.filter((e) => e.mood !== undefined && e.mood !== null);\r\n\r\n    if (entriesWithMood.length >= this.MIN_SAMPLE_SIZE) {\r\n      const correlation = this.calculateCorrelation(\r\n        entriesWithMood.map((e) => e.mood!),\r\n        entriesWithMood.map((e) => getPainLevel(e))\r\n      );\r\n\r\n      if (Math.abs(correlation) >= this.MEDIUM_CORRELATION_THRESHOLD) {\r\n        patterns.push({\r\n          id: 'mood-correlation',\r\n          type: 'trigger',\r\n          confidence: Math.abs(correlation) >= this.HIGH_CORRELATION_THRESHOLD ? 'high' : 'medium',\r\n          title: correlation < 0 ? 'Better Mood Correlates with Lower Pain' : 'Mood and Pain Connected',\r\n          description:\r\n            correlation < 0\r\n              ? 'Strong link between positive mood and reduced pain levels'\r\n              : 'Mood fluctuations align with pain patterns',\r\n          impact: Math.abs(correlation) * 5, // Scale to meaningful impact\r\n          occurrences: entriesWithMood.length,\r\n          lastSeen: entriesWithMood[entriesWithMood.length - 1].timestamp,\r\n          actionable: true,\r\n          recommendation: 'Consider mood-focused interventions (therapy, mindfulness, social activities)',\r\n          evidence: {\r\n            avgPainWith: 0,\r\n            avgPainWithout: 0,\r\n            sampleSize: entriesWithMood.length,\r\n            correlation: correlation,\r\n          },\r\n        });\r\n      }\r\n    }\r\n\r\n    return patterns;\r\n  }\r\n\r\n  /**\r\n   * Analyze stress-pain correlation\r\n   */\r\n  private static analyzeStressCorrelation(entries: PainEntry[]): DetectedPattern[] {\r\n    const patterns: DetectedPattern[] = [];\r\n    const entriesWithStress = entries.filter((e) => e.stress !== undefined && e.stress !== null);\r\n\r\n    if (entriesWithStress.length >= this.MIN_SAMPLE_SIZE) {\r\n      const correlation = this.calculateCorrelation(\r\n        entriesWithStress.map((e) => e.stress!),\r\n        entriesWithStress.map((e) => getPainLevel(e))\r\n      );\r\n\r\n      if (Math.abs(correlation) >= this.MEDIUM_CORRELATION_THRESHOLD) {\r\n        const avgPainHighStress = this.calculateAverage(\r\n          entriesWithStress.filter((e) => e.stress! >= 7).map((e) => getPainLevel(e))\r\n        );\r\n        const avgPainLowStress = this.calculateAverage(\r\n          entriesWithStress.filter((e) => e.stress! < 7).map((e) => getPainLevel(e))\r\n        );\r\n\r\n        patterns.push({\r\n          id: 'stress-correlation',\r\n          type: 'trigger',\r\n          confidence: Math.abs(correlation) >= this.HIGH_CORRELATION_THRESHOLD ? 'high' : 'medium',\r\n          title: 'Stress Significantly Impacts Pain',\r\n          description: `Pain is ${(avgPainHighStress - avgPainLowStress).toFixed(1)} points higher during high-stress periods`,\r\n          impact: -(avgPainHighStress - avgPainLowStress),\r\n          occurrences: entriesWithStress.length,\r\n          lastSeen: entriesWithStress[entriesWithStress.length - 1].timestamp,\r\n          actionable: true,\r\n          recommendation: 'Implement stress management techniques (meditation, breathing exercises, therapy)',\r\n          evidence: {\r\n            avgPainWith: avgPainHighStress,\r\n            avgPainWithout: avgPainLowStress,\r\n            sampleSize: entriesWithStress.length,\r\n            correlation: correlation,\r\n          },\r\n        });\r\n      }\r\n    }\r\n\r\n    return patterns;\r\n  }\r\n\r\n  /**\r\n   * Generate insight summary\r\n   */\r\n  static generateInsightSummary(patterns: DetectedPattern[]): InsightSummary {\r\n    return {\r\n      totalPatterns: patterns.length,\r\n      highConfidencePatterns: patterns.filter((p) => p.confidence === 'high').length,\r\n      actionableInsights: patterns.filter((p) => p.actionable).length,\r\n      topTriggers: patterns\r\n        .filter((p) => p.type === 'trigger' && p.impact < 0)\r\n        .sort((a, b) => a.impact - b.impact)\r\n        .slice(0, 3)\r\n        .map((p) => p.title),\r\n      effectiveTreatments: patterns\r\n        .filter((p) => p.type === 'medication_efficacy' && p.impact > 0)\r\n        .sort((a, b) => b.impact - a.impact)\r\n        .slice(0, 3)\r\n        .map((p) => p.title),\r\n      riskFactors: patterns\r\n        .filter((p) => p.confidence === 'high' && p.impact < -2)\r\n        .map((p) => p.title),\r\n    };\r\n  }\r\n\r\n  // Helper methods\r\n  \r\n  /**\r\n   * Safe division that returns fallback for division by zero or invalid inputs\r\n   */\r\n  private static safeDivide(numerator: number, denominator: number, fallback = 0): number {\r\n    if (denominator === 0 || !Number.isFinite(denominator)) return fallback;\r\n    const result = numerator / denominator;\r\n    return Number.isFinite(result) ? result : fallback;\r\n  }\r\n\r\n  private static calculateAverage(numbers: number[]): number {\r\n    if (numbers.length === 0) return 0;\r\n    return this.safeDivide(numbers.reduce((a, b) => a + b, 0), numbers.length, 0);\r\n  }\r\n\r\n  private static calculateCorrelation(x: number[], y: number[]): number {\r\n    const n = x.length;\r\n    if (n === 0) return 0;\r\n\r\n    const sumX = x.reduce((a, b) => a + b, 0);\r\n    const sumY = y.reduce((a, b) => a + b, 0);\r\n    const sumXY = x.reduce((acc, xi, i) => acc + xi * y[i], 0);\r\n    const sumX2 = x.reduce((acc, xi) => acc + xi * xi, 0);\r\n    const sumY2 = y.reduce((acc, yi) => acc + yi * yi, 0);\r\n\r\n    const numerator = n * sumXY - sumX * sumY;\r\n    const denominator = Math.sqrt((n * sumX2 - sumX * sumX) * (n * sumY2 - sumY * sumY));\r\n\r\n    return this.safeDivide(numerator, denominator, 0);\r\n  }\r\n\r\n  private static calculateConfidence(sampleSize: number): 'high' | 'medium' | 'low' {\r\n    if (sampleSize >= 30) return 'high';\r\n    if (sampleSize >= 10) return 'medium';\r\n    return 'low';\r\n  }\r\n\r\n  private static calculatePatternScore(pattern: DetectedPattern): number {\r\n    const confidenceScore = pattern.confidence === 'high' ? 3 : pattern.confidence === 'medium' ? 2 : 1;\r\n    const impactScore = Math.abs(pattern.impact);\r\n    const actionableBonus = pattern.actionable ? 2 : 0;\r\n    return confidenceScore * impactScore + actionableBonus;\r\n  }\r\n}\r\n","import { jsPDF } from 'jspdf';\r\nimport { format } from 'date-fns';\r\n\r\ninterface PatientInfo {\r\n  id: string;\r\n  name: string;\r\n  dateOfBirth: string;\r\n  claimNumber?: string;\r\n  injuryDate?: string;\r\n  employerName?: string;\r\n  occupation?: string;\r\n  address?: string;\r\n  phone?: string;\r\n  email?: string;\r\n}\r\n\r\n/**\r\n * Simplified pain entry format used by ReportGenerationService.\r\n * This is a flattened format optimized for report generation.\r\n * For canonical PainEntry type, see types/index.ts\r\n */\r\nexport interface ReportPainEntry {\r\n  id: string;\r\n  timestamp: string;\r\n  painLevel: number;\r\n  location: string;\r\n  triggers?: string[];\r\n  medications?: string[];\r\n  activities?: string[];\r\n  mood?: number;\r\n  sleep?: number;\r\n  notes?: string;\r\n}\r\n\r\ninterface ClinicalNote {\r\n  id: string;\r\n  date: string;\r\n  provider: string;\r\n  type: 'assessment' | 'treatment' | 'progress' | 'referral';\r\n  content: string;\r\n  diagnosis?: string;\r\n}\r\n\r\ninterface Medication {\r\n  name: string;\r\n  dosage: string;\r\n  frequency: string;\r\n  startDate: string;\r\n  endDate?: string;\r\n  prescriber: string;\r\n}\r\n\r\nexport interface WorkSafeBCReport {\r\n  reportType: 'initial' | 'progress' | 'final';\r\n  dateRange: { start: string; end: string };\r\n  patientInfo: PatientInfo;\r\n  clinicalSummary: string;\r\n  painTrend: 'improving' | 'stable' | 'worsening';\r\n  functionalImpact: string;\r\n  treatmentPlan: string;\r\n  workCapacity: 'full' | 'modified' | 'unable';\r\n  restrictions?: string[];\r\n  recommendedDuration?: number; // days\r\n  nextReviewDate?: string;\r\n}\r\n\r\nexport class ReportGenerationService {\r\n  /**\r\n   * Generate comprehensive WorkSafe BC report\r\n   */\r\n  static async generateWorkSafeBCReport(\r\n    patient: PatientInfo,\r\n    entries: ReportPainEntry[],\r\n    notes: ClinicalNote[],\r\n    medications: Medication[],\r\n    reportType: 'initial' | 'progress' | 'final'\r\n  ): Promise<{ pdf: jsPDF; summary: WorkSafeBCReport }> {\r\n    const pdf = new jsPDF();\r\n    const dateRange = {\r\n      start: entries[0]?.timestamp || new Date().toISOString(),\r\n      end: entries[entries.length - 1]?.timestamp || new Date().toISOString(),\r\n    };\r\n\r\n    // Analyze pain trend\r\n    const painTrend = this.analyzePainTrend(entries);\r\n    const avgPain = this.calculateAveragePain(entries);\r\n    const functionalImpact = this.assessFunctionalImpact(entries, avgPain);\r\n    const workCapacity = this.determineWorkCapacity(avgPain, painTrend);\r\n\r\n    // Generate PDF\r\n    this.addHeader(pdf, 'WorkSafe BC Medical Report', reportType);\r\n    this.addPatientInfo(pdf, patient);\r\n    this.addClinicalSummary(pdf, entries, notes, medications);\r\n    this.addPainAnalysis(pdf, entries, painTrend);\r\n    this.addFunctionalAssessment(pdf, functionalImpact, workCapacity);\r\n    this.addTreatmentPlan(pdf, medications, notes);\r\n    this.addProviderSignature(pdf);\r\n\r\n    const summary: WorkSafeBCReport = {\r\n      reportType,\r\n      dateRange,\r\n      patientInfo: patient,\r\n      clinicalSummary: this.generateClinicalSummary(entries, notes),\r\n      painTrend,\r\n      functionalImpact,\r\n      treatmentPlan: this.generateTreatmentPlan(medications, notes),\r\n      workCapacity,\r\n      restrictions: this.determineRestrictions(avgPain, painTrend),\r\n      recommendedDuration: this.recommendDuration(painTrend),\r\n      nextReviewDate: this.calculateNextReviewDate(reportType, painTrend),\r\n    };\r\n\r\n    return { pdf, summary };\r\n  }\r\n\r\n  /**\r\n   * Generate insurance claim report\r\n   */\r\n  static async generateInsuranceReport(\r\n    patient: PatientInfo,\r\n    entries: ReportPainEntry[],\r\n    notes: ClinicalNote[],\r\n    medications: Medication[]\r\n  ): Promise<jsPDF> {\r\n    const pdf = new jsPDF();\r\n\r\n    this.addHeader(pdf, 'Medical Report for Insurance Claim', 'initial');\r\n    this.addPatientInfo(pdf, patient);\r\n    this.addDiagnosisSection(pdf, notes);\r\n    this.addTreatmentHistory(pdf, entries, medications);\r\n    this.addPrognosisSection(pdf, entries);\r\n    this.addProviderSignature(pdf);\r\n\r\n    return pdf;\r\n  }\r\n\r\n  /**\r\n   * Generate clinical progress note\r\n   */\r\n  static async generateProgressNote(\r\n    patient: PatientInfo,\r\n    entries: ReportPainEntry[],\r\n    lastVisit: ClinicalNote,\r\n    medications: Medication[]\r\n  ): Promise<{ pdf: jsPDF; text: string }> {\r\n    const pdf = new jsPDF();\r\n    const recentEntries = entries.slice(-14); // Last 14 days\r\n\r\n    const noteText = this.formatProgressNote(patient, recentEntries, lastVisit, medications);\r\n\r\n    // Add to PDF\r\n    this.addHeader(pdf, 'Clinical Progress Note', 'progress');\r\n    pdf.setFontSize(11);\r\n    const lines = pdf.splitTextToSize(noteText, 180);\r\n    pdf.text(lines, 15, 60);\r\n\r\n    return { pdf, text: noteText };\r\n  }\r\n\r\n  /**\r\n   * Export data as CSV for spreadsheet analysis\r\n   */\r\n  static exportToCSV(entries: ReportPainEntry[]): string {\r\n    const headers = [\r\n      'Date',\r\n      'Time',\r\n      'Pain Level',\r\n      'Location',\r\n      'Triggers',\r\n      'Activities',\r\n      'Medications',\r\n      'Mood',\r\n      'Sleep',\r\n      'Notes',\r\n    ];\r\n\r\n    const rows = entries.map((entry) => [\r\n      format(new Date(entry.timestamp), 'yyyy-MM-dd'),\r\n      format(new Date(entry.timestamp), 'HH:mm'),\r\n      entry.painLevel,\r\n      entry.location,\r\n      entry.triggers?.join('; ') || '',\r\n      entry.activities?.join('; ') || '',\r\n      entry.medications?.join('; ') || '',\r\n      entry.mood || '',\r\n      entry.sleep || '',\r\n      entry.notes?.replace(/,/g, ';') || '',\r\n    ]);\r\n\r\n    const csv = [headers, ...rows].map((row) => row.join(',')).join('\\n');\r\n    return csv;\r\n  }\r\n\r\n  // Helper methods for PDF generation\r\n  private static addHeader(pdf: jsPDF, title: string, reportType: string) {\r\n    pdf.setFontSize(18);\r\n    pdf.setFont('helvetica', 'bold');\r\n    pdf.text(title, 15, 20);\r\n\r\n    pdf.setFontSize(10);\r\n    pdf.setFont('helvetica', 'normal');\r\n    pdf.text(`Report Type: ${reportType.charAt(0).toUpperCase() + reportType.slice(1)}`, 15, 30);\r\n    pdf.text(`Generated: ${format(new Date(), 'MMMM dd, yyyy')}`, 15, 35);\r\n\r\n    pdf.setDrawColor(200, 200, 200);\r\n    pdf.line(15, 40, 195, 40);\r\n  }\r\n\r\n  private static addPatientInfo(pdf: jsPDF, patient: PatientInfo) {\r\n    let y = 50;\r\n\r\n    pdf.setFontSize(12);\r\n    pdf.setFont('helvetica', 'bold');\r\n    pdf.text('Patient Information', 15, y);\r\n\r\n    pdf.setFontSize(10);\r\n    pdf.setFont('helvetica', 'normal');\r\n    y += 7;\r\n\r\n    pdf.text(`Name: ${patient.name}`, 15, y);\r\n    y += 5;\r\n    pdf.text(`Date of Birth: ${format(new Date(patient.dateOfBirth), 'MMMM dd, yyyy')}`, 15, y);\r\n    y += 5;\r\n\r\n    if (patient.claimNumber) {\r\n      pdf.text(`Claim Number: ${patient.claimNumber}`, 15, y);\r\n      y += 5;\r\n    }\r\n\r\n    if (patient.injuryDate) {\r\n      pdf.text(`Date of Injury: ${format(new Date(patient.injuryDate), 'MMMM dd, yyyy')}`, 15, y);\r\n      y += 5;\r\n    }\r\n\r\n    if (patient.employerName) {\r\n      pdf.text(`Employer: ${patient.employerName}`, 15, y);\r\n      y += 5;\r\n    }\r\n\r\n    if (patient.occupation) {\r\n      pdf.text(`Occupation: ${patient.occupation}`, 15, y);\r\n      y += 5;\r\n    }\r\n\r\n    return y + 5;\r\n  }\r\n\r\n  private static addClinicalSummary(\r\n    pdf: jsPDF,\r\n    entries: ReportPainEntry[],\r\n    notes: ClinicalNote[],\r\n    medications: Medication[]\r\n  ) {\r\n    let y = 95;\r\n\r\n    pdf.setFontSize(12);\r\n    pdf.setFont('helvetica', 'bold');\r\n    pdf.text('Clinical Summary', 15, y);\r\n\r\n    pdf.setFontSize(10);\r\n    pdf.setFont('helvetica', 'normal');\r\n    y += 7;\r\n\r\n    const summary = this.generateClinicalSummary(entries, notes);\r\n    const lines = pdf.splitTextToSize(summary, 180);\r\n    pdf.text(lines, 15, y);\r\n\r\n    y += lines.length * 5 + 10;\r\n\r\n    // Active medications\r\n    if (medications.length > 0) {\r\n      pdf.setFont('helvetica', 'bold');\r\n      pdf.text('Current Medications:', 15, y);\r\n      pdf.setFont('helvetica', 'normal');\r\n      y += 5;\r\n\r\n      medications.forEach((med) => {\r\n        pdf.text(`• ${med.name} ${med.dosage} - ${med.frequency}`, 20, y);\r\n        y += 5;\r\n      });\r\n    }\r\n  }\r\n\r\n  private static addPainAnalysis(\r\n    pdf: jsPDF,\r\n    entries: ReportPainEntry[],\r\n    trend: 'improving' | 'stable' | 'worsening'\r\n  ) {\r\n    pdf.addPage();\r\n    let y = 20;\r\n\r\n    pdf.setFontSize(12);\r\n    pdf.setFont('helvetica', 'bold');\r\n    pdf.text('Pain Analysis', 15, y);\r\n\r\n    pdf.setFontSize(10);\r\n    pdf.setFont('helvetica', 'normal');\r\n    y += 7;\r\n\r\n    const avgPain = this.calculateAveragePain(entries);\r\n    const maxPain = Math.max(...entries.map((e) => e.painLevel));\r\n    const minPain = Math.min(...entries.map((e) => e.painLevel));\r\n\r\n    pdf.text(`Average Pain Level: ${avgPain.toFixed(1)}/10`, 15, y);\r\n    y += 5;\r\n    pdf.text(`Pain Range: ${minPain} - ${maxPain}/10`, 15, y);\r\n    y += 5;\r\n    pdf.text(`Trend: ${trend.charAt(0).toUpperCase() + trend.slice(1)}`, 15, y);\r\n    y += 5;\r\n    pdf.text(`Data Points: ${entries.length} entries over ${this.calculateDaySpan(entries)} days`, 15, y);\r\n  }\r\n\r\n  private static addFunctionalAssessment(\r\n    pdf: jsPDF,\r\n    functionalImpact: string,\r\n    workCapacity: 'full' | 'modified' | 'unable'\r\n  ) {\r\n    let y = pdf.internal.pageSize.height / 2;\r\n\r\n    pdf.setFontSize(12);\r\n    pdf.setFont('helvetica', 'bold');\r\n    pdf.text('Functional Assessment', 15, y);\r\n\r\n    pdf.setFontSize(10);\r\n    pdf.setFont('helvetica', 'normal');\r\n    y += 7;\r\n\r\n    const lines = pdf.splitTextToSize(functionalImpact, 180);\r\n    pdf.text(lines, 15, y);\r\n\r\n    y += lines.length * 5 + 10;\r\n\r\n    pdf.setFont('helvetica', 'bold');\r\n    pdf.text('Work Capacity Assessment:', 15, y);\r\n    pdf.setFont('helvetica', 'normal');\r\n    y += 5;\r\n\r\n    const capacityText =\r\n      workCapacity === 'full'\r\n        ? 'Patient is capable of full duties'\r\n        : workCapacity === 'modified'\r\n          ? 'Patient requires modified duties and restrictions'\r\n          : 'Patient is currently unable to perform work duties';\r\n\r\n    pdf.text(capacityText, 15, y);\r\n  }\r\n\r\n  private static addTreatmentPlan(pdf: jsPDF, medications: Medication[], notes: ClinicalNote[]) {\r\n    pdf.addPage();\r\n    let y = 20;\r\n\r\n    pdf.setFontSize(12);\r\n    pdf.setFont('helvetica', 'bold');\r\n    pdf.text('Treatment Plan', 15, y);\r\n\r\n    pdf.setFontSize(10);\r\n    pdf.setFont('helvetica', 'normal');\r\n    y += 7;\r\n\r\n    const plan = this.generateTreatmentPlan(medications, notes);\r\n    const lines = pdf.splitTextToSize(plan, 180);\r\n    pdf.text(lines, 15, y);\r\n  }\r\n\r\n  private static addProviderSignature(pdf: jsPDF) {\r\n    const y = pdf.internal.pageSize.height - 40;\r\n\r\n    pdf.setFontSize(10);\r\n    pdf.text('Provider Signature: _________________________', 15, y);\r\n    pdf.text('Date: _________________________', 15, y + 10);\r\n    pdf.text('License Number: _________________________', 15, y + 20);\r\n  }\r\n\r\n  private static addDiagnosisSection(pdf: jsPDF, notes: ClinicalNote[]) {\r\n    let y = 95;\r\n\r\n    pdf.setFontSize(12);\r\n    pdf.setFont('helvetica', 'bold');\r\n    pdf.text('Diagnosis', 15, y);\r\n\r\n    pdf.setFontSize(10);\r\n    pdf.setFont('helvetica', 'normal');\r\n    y += 7;\r\n\r\n    const diagnosisNotes = notes.filter((n) => n.diagnosis);\r\n    if (diagnosisNotes.length > 0) {\r\n      diagnosisNotes.forEach((note) => {\r\n        pdf.text(`• ${note.diagnosis}`, 20, y);\r\n        y += 5;\r\n      });\r\n    } else {\r\n      pdf.text('Chronic pain condition - see clinical notes for details', 20, y);\r\n    }\r\n  }\r\n\r\n  private static addTreatmentHistory(\r\n    pdf: jsPDF,\r\n    entries: ReportPainEntry[],\r\n    medications: Medication[]\r\n  ) {\r\n    pdf.addPage();\r\n    let y = 20;\r\n\r\n    pdf.setFontSize(12);\r\n    pdf.setFont('helvetica', 'bold');\r\n    pdf.text('Treatment History', 15, y);\r\n\r\n    pdf.setFontSize(10);\r\n    pdf.setFont('helvetica', 'normal');\r\n    y += 7;\r\n\r\n    medications.forEach((med) => {\r\n      pdf.text(\r\n        `• ${med.name} ${med.dosage} started ${format(new Date(med.startDate), 'MMM dd, yyyy')}`,\r\n        20,\r\n        y\r\n      );\r\n      y += 5;\r\n    });\r\n  }\r\n\r\n  private static addPrognosisSection(pdf: jsPDF, entries: ReportPainEntry[]) {\r\n    const y = pdf.internal.pageSize.height / 2;\r\n\r\n    pdf.setFontSize(12);\r\n    pdf.setFont('helvetica', 'bold');\r\n    pdf.text('Prognosis', 15, y);\r\n\r\n    pdf.setFontSize(10);\r\n    pdf.setFont('helvetica', 'normal');\r\n\r\n    const trend = this.analyzePainTrend(entries);\r\n    const prognosis =\r\n      trend === 'improving'\r\n        ? 'Patient shows positive response to treatment with improving pain levels. Continued improvement expected with ongoing care.'\r\n        : trend === 'stable'\r\n          ? 'Patient maintains stable pain levels. Continued management required to maintain current functional status.'\r\n          : 'Patient experiencing worsening symptoms. Treatment plan adjustment recommended.';\r\n\r\n    const lines = pdf.splitTextToSize(prognosis, 180);\r\n    pdf.text(lines, 15, y + 7);\r\n  }\r\n\r\n  // Analysis helper methods\r\n  private static analyzePainTrend(entries: ReportPainEntry[]): 'improving' | 'stable' | 'worsening' {\r\n    if (entries.length < 2) return 'stable';\r\n\r\n    const firstHalf = entries.slice(0, Math.floor(entries.length / 2));\r\n    const secondHalf = entries.slice(Math.floor(entries.length / 2));\r\n\r\n    const avgFirst = this.calculateAveragePain(firstHalf);\r\n    const avgSecond = this.calculateAveragePain(secondHalf);\r\n\r\n    const diff = avgFirst - avgSecond;\r\n\r\n    if (diff > 0.5) return 'improving';\r\n    if (diff < -0.5) return 'worsening';\r\n    return 'stable';\r\n  }\r\n\r\n  private static calculateAveragePain(entries: ReportPainEntry[]): number {\r\n    if (entries.length === 0) return 0;\r\n    return entries.reduce((sum, e) => sum + e.painLevel, 0) / entries.length;\r\n  }\r\n\r\n  private static assessFunctionalImpact(entries: ReportPainEntry[], avgPain: number): string {\r\n    if (avgPain < 3) {\r\n      return 'Patient reports minimal functional impact. Able to perform most activities of daily living with minor limitations.';\r\n    } else if (avgPain < 6) {\r\n      return 'Patient experiences moderate functional impact. Some activities of daily living are affected, requiring modifications and occasional assistance.';\r\n    } else {\r\n      return 'Patient reports significant functional impact. Substantial limitations in activities of daily living, requiring regular assistance and accommodations.';\r\n    }\r\n  }\r\n\r\n  private static determineWorkCapacity(\r\n    avgPain: number,\r\n    trend: 'improving' | 'stable' | 'worsening'\r\n  ): 'full' | 'modified' | 'unable' {\r\n    if (avgPain < 3 && trend !== 'worsening') return 'full';\r\n    if (avgPain < 6) return 'modified';\r\n    return 'unable';\r\n  }\r\n\r\n  private static determineRestrictions(\r\n    avgPain: number,\r\n    trend: 'improving' | 'stable' | 'worsening'\r\n  ): string[] {\r\n    const restrictions: string[] = [];\r\n\r\n    if (avgPain >= 4) {\r\n      restrictions.push('Limit prolonged standing (max 2 hours)');\r\n      restrictions.push('Avoid heavy lifting (>10 lbs)');\r\n    }\r\n\r\n    if (avgPain >= 6) {\r\n      restrictions.push('Frequent position changes required');\r\n      restrictions.push('Avoid repetitive bending or twisting');\r\n      restrictions.push('Modified work schedule may be required');\r\n    }\r\n\r\n    if (trend === 'worsening') {\r\n      restrictions.push('Close monitoring required');\r\n      restrictions.push('Re-evaluation in 2 weeks');\r\n    }\r\n\r\n    return restrictions;\r\n  }\r\n\r\n  private static recommendDuration(trend: 'improving' | 'stable' | 'worsening'): number {\r\n    if (trend === 'improving') return 14; // 2 weeks\r\n    if (trend === 'stable') return 30; // 1 month\r\n    return 7; // 1 week for worsening\r\n  }\r\n\r\n  private static calculateNextReviewDate(\r\n    reportType: string,\r\n    trend: 'improving' | 'stable' | 'worsening'\r\n  ): string {\r\n    const days = this.recommendDuration(trend);\r\n    const nextDate = new Date();\r\n    nextDate.setDate(nextDate.getDate() + days);\r\n    return format(nextDate, 'yyyy-MM-dd');\r\n  }\r\n\r\n  private static generateClinicalSummary(entries: ReportPainEntry[], notes: ClinicalNote[]): string {\r\n    const avgPain = this.calculateAveragePain(entries);\r\n    const trend = this.analyzePainTrend(entries);\r\n    const daySpan = this.calculateDaySpan(entries);\r\n\r\n    const summary = `Patient has been tracking pain levels over ${daySpan} days with ${entries.length} documented entries. Average pain level is ${avgPain.toFixed(1)}/10 with a ${trend} trend. ${notes.length > 0 ? `Clinical team has documented ${notes.length} clinical notes during this period.` : ''}`;\r\n\r\n    return summary;\r\n  }\r\n\r\n  private static generateTreatmentPlan(medications: Medication[], notes: ClinicalNote[]): string {\r\n    const plan = `Continue current medication regimen with ${medications.length} active medications. ${\r\n      notes.filter((n) => n.type === 'treatment').length > 0\r\n        ? 'Ongoing therapeutic interventions as documented in clinical notes.'\r\n        : 'Consider additional therapeutic interventions based on pain pattern analysis.'\r\n    } Regular monitoring and follow-up appointments recommended.`;\r\n\r\n    return plan;\r\n  }\r\n\r\n  private static formatProgressNote(\r\n    patient: PatientInfo,\r\n    entries: ReportPainEntry[],\r\n    lastVisit: ClinicalNote,\r\n    medications: Medication[]\r\n  ): string {\r\n    const avgPain = this.calculateAveragePain(entries);\r\n    const trend = this.analyzePainTrend(entries);\r\n\r\n    return `\r\nCLINICAL PROGRESS NOTE\r\n\r\nPatient: ${patient.name}\r\nDate: ${format(new Date(), 'MMMM dd, yyyy')}\r\n\r\nSUBJECTIVE:\r\nPatient continues to track pain levels daily. Reports ${trend} pain over the past 14 days.\r\n\r\nOBJECTIVE:\r\nAverage pain level: ${avgPain.toFixed(1)}/10\r\nPain trend: ${trend.charAt(0).toUpperCase() + trend.slice(1)}\r\nData points: ${entries.length} entries\r\n\r\nCurrent medications:\r\n${medications.map((m) => `- ${m.name} ${m.dosage} ${m.frequency}`).join('\\n')}\r\n\r\nASSESSMENT:\r\n${trend === 'improving' ? 'Positive response to current treatment plan.' : trend === 'stable' ? 'Stable pain management with current regimen.' : 'Suboptimal pain control, treatment adjustment needed.'}\r\n\r\nPLAN:\r\n${trend === 'improving' ? 'Continue current treatment plan. Follow-up in 4 weeks.' : trend === 'stable' ? 'Maintain current treatment. Monitor for changes. Follow-up in 4 weeks.' : 'Adjust treatment plan. Consider additional interventions. Follow-up in 2 weeks.'}\r\n    `.trim();\r\n  }\r\n\r\n  private static calculateDaySpan(entries: ReportPainEntry[]): number {\r\n    if (entries.length === 0) return 0;\r\n    const first = new Date(entries[0].timestamp);\r\n    const last = new Date(entries[entries.length - 1].timestamp);\r\n    return Math.ceil((last.getTime() - first.getTime()) / (1000 * 60 * 60 * 24));\r\n  }\r\n}\r\n\r\n","import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport {\n  ArrowLeft,\n  Download,\n  Brain,\n  FileText,\n  TrendingUp,\n  Activity,\n  AlertCircle,\n  User,\n  Sparkles,\n} from 'lucide-react';\nimport { PatientPainTimeline } from '../../components/clinic/PatientPainTimeline';\nimport { PatternDetectionService, DetectedPattern } from '../../services/PatternDetectionService';\nimport { ReportGenerationService, ReportPainEntry } from '../../services/ReportGenerationService';\nimport type { PainEntry } from '../../types';\n\n/**\n * Convert simplified demo data to canonical PainEntry format for pattern detection\n */\nfunction createDemoPainEntry(data: ReportPainEntry): PainEntry {\n  return {\n    id: data.id,\n    timestamp: data.timestamp,\n    baselineData: {\n      pain: data.painLevel,\n      locations: [data.location],\n      symptoms: [],\n    },\n    functionalImpact: {\n      limitedActivities: [],\n      assistanceNeeded: [],\n      mobilityAids: [],\n    },\n    medications: {\n      current: (data.medications ?? []).map(m => ({\n        name: m,\n        dosage: '',\n        frequency: '',\n        effectiveness: '',\n      })),\n      changes: '',\n      effectiveness: '',\n    },\n    treatments: {\n      recent: [],\n      effectiveness: '',\n      planned: [],\n    },\n    qualityOfLife: {\n      sleepQuality: data.sleep ?? 0,\n      moodImpact: data.mood ?? 0,\n      socialImpact: [],\n    },\n    workImpact: {\n      missedWork: 0,\n      modifiedDuties: [],\n      workLimitations: [],\n    },\n    comparison: {\n      worseningSince: '',\n      newLimitations: [],\n    },\n    notes: data.notes ?? '',\n    triggers: data.triggers,\n    activities: data.activities,\n    mood: data.mood,\n    sleep: data.sleep,\n  };\n}\n\n// Mock data - simplified format for demo (replace with real API calls)\nconst mockReportEntries: ReportPainEntry[] = [\n  {\n    id: '1',\n    timestamp: new Date(Date.now() - 30 * 24 * 60 * 60 * 1000).toISOString(),\n    painLevel: 8,\n    location: 'Lower Back',\n    triggers: ['Prolonged Sitting', 'Cold Weather'],\n    medications: ['Naproxen 500mg'],\n    activities: ['Desk Work'],\n    mood: 4,\n    sleep: 5,\n  },\n  {\n    id: '2',\n    timestamp: new Date(Date.now() - 28 * 24 * 60 * 60 * 1000).toISOString(),\n    painLevel: 7,\n    location: 'Lower Back',\n    medications: ['Naproxen 500mg'],\n    activities: ['Walking'],\n    mood: 5,\n    sleep: 6,\n  },\n  {\n    id: '3',\n    timestamp: new Date(Date.now() - 25 * 24 * 60 * 60 * 1000).toISOString(),\n    painLevel: 6,\n    location: 'Lower Back',\n    medications: ['Naproxen 500mg', 'Cyclobenzaprine 10mg'],\n    activities: ['Physical Therapy'],\n    mood: 6,\n    sleep: 7,\n  },\n  {\n    id: '4',\n    timestamp: new Date(Date.now() - 22 * 24 * 60 * 60 * 1000).toISOString(),\n    painLevel: 6,\n    location: 'Lower Back',\n    medications: ['Naproxen 500mg', 'Cyclobenzaprine 10mg'],\n    activities: ['Light Exercise'],\n    mood: 6,\n    sleep: 7,\n  },\n  {\n    id: '5',\n    timestamp: new Date(Date.now() - 20 * 24 * 60 * 60 * 1000).toISOString(),\n    painLevel: 5,\n    location: 'Lower Back',\n    medications: ['Naproxen 500mg', 'Cyclobenzaprine 10mg'],\n    activities: ['Physical Therapy', 'Walking'],\n    mood: 7,\n    sleep: 7,\n  },\n  {\n    id: '6',\n    timestamp: new Date(Date.now() - 18 * 24 * 60 * 60 * 1000).toISOString(),\n    painLevel: 5,\n    location: 'Lower Back',\n    medications: ['Naproxen 500mg', 'Cyclobenzaprine 10mg'],\n    activities: ['Light Exercise'],\n    mood: 7,\n    sleep: 8,\n  },\n  {\n    id: '7',\n    timestamp: new Date(Date.now() - 15 * 24 * 60 * 60 * 1000).toISOString(),\n    painLevel: 4,\n    location: 'Lower Back',\n    medications: ['Naproxen 500mg', 'Cyclobenzaprine 10mg'],\n    activities: ['Physical Therapy', 'Walking'],\n    mood: 8,\n    sleep: 8,\n  },\n  {\n    id: '8',\n    timestamp: new Date(Date.now() - 12 * 24 * 60 * 60 * 1000).toISOString(),\n    painLevel: 4,\n    location: 'Lower Back',\n    medications: ['Naproxen 500mg'],\n    activities: ['Walking', 'Light Exercise'],\n    mood: 8,\n    sleep: 8,\n  },\n  {\n    id: '9',\n    timestamp: new Date(Date.now() - 10 * 24 * 60 * 60 * 1000).toISOString(),\n    painLevel: 3,\n    location: 'Lower Back',\n    medications: ['Naproxen 500mg'],\n    activities: ['Physical Therapy'],\n    mood: 8,\n    sleep: 8,\n  },\n  {\n    id: '10',\n    timestamp: new Date(Date.now() - 7 * 24 * 60 * 60 * 1000).toISOString(),\n    painLevel: 3,\n    location: 'Lower Back',\n    medications: ['Naproxen 500mg'],\n    activities: ['Walking'],\n    mood: 9,\n    sleep: 8,\n  },\n  {\n    id: '11',\n    timestamp: new Date(Date.now() - 5 * 24 * 60 * 60 * 1000).toISOString(),\n    painLevel: 3,\n    location: 'Lower Back',\n    medications: ['Naproxen 500mg'],\n    activities: ['Light Exercise', 'Walking'],\n    mood: 9,\n    sleep: 9,\n  },\n  {\n    id: '12',\n    timestamp: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000).toISOString(),\n    painLevel: 2,\n    location: 'Lower Back',\n    medications: ['Naproxen 500mg'],\n    activities: ['Physical Therapy'],\n    mood: 9,\n    sleep: 9,\n  },\n];\n\n// Convert to canonical format for pattern detection\nconst mockPainEntries: PainEntry[] = mockReportEntries.map(createDemoPainEntry);\n\nconst mockInterventions = [\n  {\n    id: '1',\n    date: new Date(Date.now() - 25 * 24 * 60 * 60 * 1000).toISOString(),\n    type: 'medication' as const,\n    name: 'Cyclobenzaprine 10mg',\n    dosage: '10mg nightly',\n    provider: 'Dr. Smith',\n  },\n  {\n    id: '2',\n    date: new Date(Date.now() - 20 * 24 * 60 * 60 * 1000).toISOString(),\n    type: 'therapy' as const,\n    name: 'Physical Therapy',\n    provider: 'Johnson PT Clinic',\n    notes: '2x weekly sessions',\n  },\n];\n\nconst mockPatientInfo = {\n  id: '1',\n  name: 'Sarah Johnson',\n  dateOfBirth: '1985-03-15',\n  claimNumber: 'WCB-2024-001234',\n  injuryDate: '2024-01-10',\n  employerName: 'Tech Solutions Inc',\n  occupation: 'Software Developer',\n  address: '123 Main St, Vancouver, BC',\n  phone: '(604) 555-0123',\n  email: 'sarah.j@email.com',\n};\n\nconst mockMedications = [\n  {\n    name: 'Naproxen',\n    dosage: '500mg',\n    frequency: 'Twice daily',\n    startDate: new Date(Date.now() - 30 * 24 * 60 * 60 * 1000).toISOString(),\n    prescriber: 'Dr. Smith',\n  },\n  {\n    name: 'Cyclobenzaprine',\n    dosage: '10mg',\n    frequency: 'Nightly',\n    startDate: new Date(Date.now() - 25 * 24 * 60 * 60 * 1000).toISOString(),\n    prescriber: 'Dr. Smith',\n  },\n];\n\nconst mockClinicalNotes = [\n  {\n    id: '1',\n    date: new Date(Date.now() - 30 * 24 * 60 * 60 * 1000).toISOString(),\n    provider: 'Dr. Smith',\n    type: 'assessment' as const,\n    content: 'Initial assessment for work-related lower back injury. Pain rated 8/10.',\n    diagnosis: 'Lumbar strain with muscle spasm',\n  },\n  {\n    id: '2',\n    date: new Date(Date.now() - 20 * 24 * 60 * 60 * 1000).toISOString(),\n    provider: 'Dr. Smith',\n    type: 'progress' as const,\n    content: 'Patient responding well to treatment. Pain reduced to 5/10. Continuing physical therapy.',\n  },\n];\n\nexport const EnhancedPatientView: React.FC = () => {\n  const { patientId } = useParams();\n  const navigate = useNavigate();\n  const [patterns, setPatterns] = useState<DetectedPattern[]>([]);\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\n  const [showPatterns, setShowPatterns] = useState(false);\n  const [isGeneratingReport, setIsGeneratingReport] = useState(false);\n\n  useEffect(() => {\n    const analyzePatterns = async () => {\n      setIsAnalyzing(true);\n      try {\n        const detectedPatterns = await PatternDetectionService.detectPatterns(\n          mockPainEntries,\n          mockInterventions\n        );\n        setPatterns(detectedPatterns);\n      } catch (error) {\n        console.error('Pattern detection error:', error);\n      } finally {\n        setIsAnalyzing(false);\n      }\n    };\n\n    analyzePatterns();\n  }, [patientId]);\n\n  const handleGenerateWorkSafeBCReport = async () => {\n    setIsGeneratingReport(true);\n    try {\n      const { pdf, summary } = await ReportGenerationService.generateWorkSafeBCReport(\n        mockPatientInfo,\n        mockReportEntries,\n        mockClinicalNotes,\n        mockMedications,\n        'progress'\n      );\n      pdf.save(`WorkSafeBC-Report-${mockPatientInfo.name}-${new Date().toISOString().split('T')[0]}.pdf`);\n      console.log('Report summary:', summary);\n    } catch (error) {\n      console.error('Report generation error:', error);\n    } finally {\n      setIsGeneratingReport(false);\n    }\n  };\n\n  const handleGenerateInsuranceReport = async () => {\n    setIsGeneratingReport(true);\n    try {\n      const pdf = await ReportGenerationService.generateInsuranceReport(\n        mockPatientInfo,\n        mockReportEntries,\n        mockClinicalNotes,\n        mockMedications\n      );\n      pdf.save(`Insurance-Report-${mockPatientInfo.name}-${new Date().toISOString().split('T')[0]}.pdf`);\n    } catch (error) {\n      console.error('Report generation error:', error);\n    } finally {\n      setIsGeneratingReport(false);\n    }\n  };\n\n  const handleExportCSV = () => {\n    const csv = ReportGenerationService.exportToCSV(mockReportEntries);\n    const blob = new Blob([csv], { type: 'text/csv' });\n    const url = window.URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `${mockPatientInfo.name}-pain-data-${new Date().toISOString().split('T')[0]}.csv`;\n    a.click();\n  };\n\n  const highConfidencePatterns = patterns.filter((p) => p.confidence === 'high');\n  const actionablePatterns = patterns.filter((p) => p.actionable);\n\n  return (\n    <div className=\"space-y-6 p-6 bg-slate-900 min-h-screen\">\n      {/* Ambient background */}\n      <div className=\"fixed inset-0 pointer-events-none overflow-hidden\">\n        <div className=\"absolute top-0 left-1/4 w-96 h-96 bg-sky-500/5 rounded-full blur-3xl\" />\n        <div className=\"absolute bottom-1/4 right-1/4 w-80 h-80 bg-violet-500/5 rounded-full blur-3xl\" />\n      </div>\n\n      {/* Header */}\n      <div \n        className=\"relative rounded-2xl border border-slate-700/50 p-6 overflow-hidden\"\n        style={{\n          background: 'linear-gradient(135deg, rgba(30, 41, 59, 0.95) 0%, rgba(15, 23, 42, 0.98) 100%)',\n          boxShadow: '0 15px 40px -10px rgba(0, 0, 0, 0.3)'\n        }}\n      >\n        <div className=\"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-sky-500 via-violet-500 to-purple-500\" />\n        \n        <div className=\"flex items-center justify-between mb-6\">\n          <div className=\"flex items-center gap-4\">\n            <button\n              onClick={() => navigate('/clinic')}\n              className=\"p-2 rounded-xl bg-slate-800/50 border border-slate-700/50 text-slate-400 hover:text-white hover:bg-slate-700/50 transition-all\"\n            >\n              <ArrowLeft className=\"w-5 h-5\" />\n            </button>\n            <div className=\"flex items-center gap-3\">\n              <div className=\"p-3 rounded-xl bg-gradient-to-br from-sky-500/20 to-cyan-500/20 border border-sky-500/30\">\n                <User className=\"w-6 h-6 text-sky-400\" />\n              </div>\n              <div>\n                <h1 className=\"text-2xl font-bold text-white\">{mockPatientInfo.name}</h1>\n                <p className=\"text-slate-400\">\n                  Claim #{mockPatientInfo.claimNumber}  {mockPatientInfo.occupation}\n                </p>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"flex gap-3\">\n            <button\n              onClick={handleExportCSV}\n              className=\"flex items-center gap-2 px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700/50 text-slate-300 hover:bg-slate-700/50 transition-all\"\n            >\n              <Download className=\"w-4 h-4\" />\n              Export CSV\n            </button>\n            <button\n              onClick={() => setShowPatterns(!showPatterns)}\n              className=\"flex items-center gap-2 px-4 py-2.5 rounded-xl text-white font-medium transition-all hover:-translate-y-0.5 shadow-lg shadow-violet-500/25\"\n              style={{\n                background: 'linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)'\n              }}\n            >\n              <Brain className=\"w-4 h-4\" />\n              {showPatterns ? 'Hide' : 'Show'} Insights\n            </button>\n          </div>\n        </div>\n\n        {/* Quick stats */}\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n          <div className=\"p-4 rounded-xl bg-sky-500/10 border border-sky-500/20\">\n            <div className=\"flex items-center gap-2 mb-2\">\n              <Activity className=\"w-5 h-5 text-sky-400\" />\n              <span className=\"text-sm text-slate-400\">Data Points</span>\n            </div>\n            <p className=\"text-2xl font-bold text-white\">{mockReportEntries.length}</p>\n          </div>\n\n          <div className=\"p-4 rounded-xl bg-emerald-500/10 border border-emerald-500/20\">\n            <div className=\"flex items-center gap-2 mb-2\">\n              <TrendingUp className=\"w-5 h-5 text-emerald-400\" />\n              <span className=\"text-sm text-slate-400\">Trend</span>\n            </div>\n            <p className=\"text-2xl font-bold text-emerald-400\">Improving</p>\n          </div>\n\n          <div className=\"p-4 rounded-xl bg-violet-500/10 border border-violet-500/20\">\n            <div className=\"flex items-center gap-2 mb-2\">\n              <Brain className=\"w-5 h-5 text-violet-400\" />\n              <span className=\"text-sm text-slate-400\">AI Patterns</span>\n            </div>\n            <p className=\"text-2xl font-bold text-white\">{highConfidencePatterns.length}</p>\n          </div>\n\n          <div className=\"p-4 rounded-xl bg-amber-500/10 border border-amber-500/20\">\n            <div className=\"flex items-center gap-2 mb-2\">\n              <AlertCircle className=\"w-5 h-5 text-amber-400\" />\n              <span className=\"text-sm text-slate-400\">Action Items</span>\n            </div>\n            <p className=\"text-2xl font-bold text-white\">{actionablePatterns.length}</p>\n          </div>\n        </div>\n      </div>\n\n      {/* AI-Detected Patterns */}\n      {showPatterns && (\n        <div \n          className=\"relative rounded-2xl border border-slate-700/50 p-6 overflow-hidden\"\n          style={{\n            background: 'linear-gradient(135deg, rgba(30, 41, 59, 0.95) 0%, rgba(15, 23, 42, 0.98) 100%)',\n            boxShadow: '0 15px 40px -10px rgba(0, 0, 0, 0.3)'\n          }}\n        >\n          <div className=\"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-violet-500 via-purple-500 to-fuchsia-500\" />\n          \n          <div className=\"flex items-center gap-3 mb-6\">\n            <div className=\"p-2 rounded-xl bg-violet-500/20 border border-violet-500/30\">\n              <Brain className=\"w-5 h-5 text-violet-400\" />\n            </div>\n            <h2 className=\"text-xl font-bold text-white\">AI-Detected Patterns</h2>\n            {isAnalyzing && <span className=\"text-sm text-slate-500\">Analyzing...</span>}\n          </div>\n\n          {patterns.length === 0 ? (\n            <p className=\"text-slate-400\">No significant patterns detected yet. More data needed.</p>\n          ) : (\n            <div className=\"space-y-4\">\n              {patterns.slice(0, 5).map((pattern) => (\n                <div\n                  key={pattern.id}\n                  className={`p-4 rounded-xl border-l-4 ${\n                    pattern.confidence === 'high'\n                      ? 'bg-emerald-500/10 border-emerald-500'\n                      : pattern.confidence === 'medium'\n                        ? 'bg-sky-500/10 border-sky-500'\n                        : 'bg-slate-800/50 border-slate-500'\n                  }`}\n                >\n                  <div className=\"flex items-start justify-between\">\n                    <div className=\"flex-1\">\n                      <div className=\"flex items-center gap-2 mb-2\">\n                        <h3 className=\"font-semibold text-white\">{pattern.title}</h3>\n                        <span\n                          className={`px-2 py-0.5 text-xs font-medium rounded-full ${\n                            pattern.confidence === 'high'\n                              ? 'bg-emerald-500/20 text-emerald-400 border border-emerald-500/30'\n                              : pattern.confidence === 'medium'\n                                ? 'bg-sky-500/20 text-sky-400 border border-sky-500/30'\n                                : 'bg-slate-700 text-slate-400'\n                          }`}\n                        >\n                          {pattern.confidence} confidence\n                        </span>\n                      </div>\n                      <p className=\"text-sm text-slate-400 mb-2\">{pattern.description}</p>\n                      {pattern.recommendation && (\n                        <div className=\"flex items-start gap-2 mt-3 p-3 rounded-lg bg-slate-800/50 border border-slate-700/50\">\n                          <Sparkles className=\"w-4 h-4 text-amber-400 mt-0.5 flex-shrink-0\" />\n                          <p className=\"text-sm text-slate-300\">\n                            <span className=\"font-medium text-amber-400\">Recommendation:</span> {pattern.recommendation}\n                          </p>\n                        </div>\n                      )}\n                    </div>\n                    <div className=\"ml-4 text-right\">\n                      <p className=\"text-sm text-slate-500\">Impact</p>\n                      <p\n                        className={`text-xl font-bold ${\n                          pattern.impact > 0\n                            ? 'text-emerald-400'\n                            : pattern.impact < 0\n                              ? 'text-rose-400'\n                              : 'text-slate-400'\n                        }`}\n                      >\n                        {pattern.impact > 0 ? '+' : ''}\n                        {pattern.impact.toFixed(1)}\n                      </p>\n                      <p className=\"text-xs text-slate-500 mt-1\">{pattern.occurrences} occurrences</p>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Interactive Timeline */}\n      <PatientPainTimeline\n        patientId={patientId || '1'}\n        patientName={mockPatientInfo.name}\n        entries={mockReportEntries}\n        interventions={mockInterventions}\n      />\n\n      {/* Report Generation */}\n      <div \n        className=\"relative rounded-2xl border border-slate-700/50 p-6 overflow-hidden\"\n        style={{\n          background: 'linear-gradient(135deg, rgba(30, 41, 59, 0.95) 0%, rgba(15, 23, 42, 0.98) 100%)',\n          boxShadow: '0 15px 40px -10px rgba(0, 0, 0, 0.3)'\n        }}\n      >\n        <div className=\"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-sky-500 via-cyan-500 to-teal-500\" />\n        \n        <div className=\"flex items-center gap-3 mb-6\">\n          <div className=\"p-2 rounded-xl bg-sky-500/20 border border-sky-500/30\">\n            <FileText className=\"w-5 h-5 text-sky-400\" />\n          </div>\n          <h2 className=\"text-xl font-bold text-white\">Generate Reports</h2>\n        </div>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <button\n            onClick={handleGenerateWorkSafeBCReport}\n            disabled={isGeneratingReport}\n            className=\"group p-6 rounded-xl bg-sky-500/10 border border-sky-500/20 hover:bg-sky-500/20 transition-all text-left disabled:opacity-50 hover:-translate-y-1\"\n          >\n            <div className=\"flex items-start justify-between\">\n              <div>\n                <h3 className=\"font-semibold text-white mb-2\">WorkSafe BC Report</h3>\n                <p className=\"text-sm text-slate-400 mb-4\">\n                  Comprehensive medical report with functional assessment and work capacity evaluation\n                </p>\n                <div className=\"flex items-center gap-2\">\n                  <Download className=\"w-4 h-4 text-sky-400\" />\n                  <span className=\"text-sm font-medium text-sky-400 group-hover:text-sky-300\">Generate PDF</span>\n                </div>\n              </div>\n            </div>\n          </button>\n\n          <button\n            onClick={handleGenerateInsuranceReport}\n            disabled={isGeneratingReport}\n            className=\"group p-6 rounded-xl bg-violet-500/10 border border-violet-500/20 hover:bg-violet-500/20 transition-all text-left disabled:opacity-50 hover:-translate-y-1\"\n          >\n            <div className=\"flex items-start justify-between\">\n              <div>\n                <h3 className=\"font-semibold text-white mb-2\">Insurance Claim Report</h3>\n                <p className=\"text-sm text-slate-400 mb-4\">\n                  Detailed medical documentation for insurance claim processing and review\n                </p>\n                <div className=\"flex items-center gap-2\">\n                  <Download className=\"w-4 h-4 text-violet-400\" />\n                  <span className=\"text-sm font-medium text-violet-400 group-hover:text-violet-300\">Generate PDF</span>\n                </div>\n              </div>\n            </div>\n          </button>\n        </div>\n\n        {isGeneratingReport && (\n          <div className=\"mt-4 p-4 rounded-xl bg-sky-500/10 border border-sky-500/20\">\n            <p className=\"text-sm text-sky-400\">Generating report...</p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};","import React, { useState } from 'react';\r\nimport { Card, CardContent, CardHeader, CardTitle, Button, Modal, Badge, Input } from '../../design-system';\r\nimport { Calendar, Clock, Trash2, Send } from 'lucide-react';\r\nimport type { PainEntry, ReportTemplate, ScheduledReport } from '../../types';\r\nimport { usePainTrackerStore } from '../../stores/pain-tracker-store';\r\nimport { Switch } from '../ui/switch';\r\n\r\ninterface ReportingSystemProps { entries: PainEntry[]; }\r\n\r\nconst DEFAULT_TEMPLATES: ReportTemplate[] = [\r\n  {\r\n    id: 'weekly-summary',\r\n    name: 'Weekly Pain Summary',\r\n    description: 'Overview of pain patterns and trends for the past week',\r\n    type: 'summary',\r\n    sections: [],\r\n    createdAt: new Date().toISOString(),\r\n    lastModified: new Date().toISOString(),\r\n  },\r\n];\r\n\r\nfunction ReportingSystemCore({ entries: _entries }: ReportingSystemProps) {\r\n  void _entries;\r\n  const [templates] = useState<ReportTemplate[]>(DEFAULT_TEMPLATES);\r\n  const scheduledReports = usePainTrackerStore(state => state.scheduledReports);\r\n  const addScheduledReport = usePainTrackerStore(state => state.addScheduledReport);\r\n  const deleteScheduledReport = usePainTrackerStore(state => state.deleteScheduledReport);\r\n  const updateScheduledReport = usePainTrackerStore(state => state.updateScheduledReport);\r\n  const runScheduledReport = usePainTrackerStore(state => state.runScheduledReport);\r\n  const [showScheduleModal, setShowScheduleModal] = useState(false);\r\n  const [scheduleName, setScheduleName] = useState('');\r\n  const [scheduleFrequency, setScheduleFrequency] = useState<ScheduledReport['frequency']>('weekly');\r\n  const [scheduleRecipients, setScheduleRecipients] = useState('');\r\n  const [selectedTemplate, setSelectedTemplate] = useState<ReportTemplate | null>(templates[0] || null);\r\n  const [editingSchedule, setEditingSchedule] = useState<ScheduledReport | null>(null);\r\n\r\n  const calculateNextRun = (frequency: ScheduledReport['frequency']) => {\r\n    const d = new Date();\r\n    if (frequency === 'daily') d.setDate(d.getDate() + 1);\r\n    else if (frequency === 'weekly') d.setDate(d.getDate() + 7);\r\n    else d.setMonth(d.getMonth() + 1);\r\n    return d.toISOString();\r\n  };\r\n\r\n  const handleCreateSchedule = () => {\r\n    if (!selectedTemplate) return;\r\n    const id = `schedule-${Date.now()}`;\r\n    const recipients = scheduleRecipients.split(',').map(r => r.trim()).filter(Boolean);\r\n    const schedule: ScheduledReport = { id, templateId: selectedTemplate.id, name: scheduleName || `${selectedTemplate.name} - ${scheduleFrequency}`, frequency: scheduleFrequency, recipients, nextRun: calculateNextRun(scheduleFrequency), lastRun: undefined, isActive: true };\r\n    // If we are editing an existing schedule, update it instead\r\n  if (editingSchedule) {\r\n      // Call updateScheduledReport on store to modify the schedule\r\n      const updates: Partial<ScheduledReport> = { name: schedule.name, frequency: schedule.frequency, recipients: schedule.recipients, templateId: schedule.templateId };\r\n      // We need to set nextRun based on frequency\r\n      updates.nextRun = calculateNextRun(schedule.frequency);\r\n  updateScheduledReport(editingSchedule.id, updates);\r\n      setEditingSchedule(null);\r\n    } else {\r\n      addScheduledReport(schedule);\r\n    }\r\n    setShowScheduleModal(false);\r\n    setScheduleName('');\r\n    setScheduleRecipients('');\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h2 className=\"text-2xl font-bold\">Reporting System</h2>\r\n        </div>\r\n        <div>\r\n          <Button variant=\"outline\" onClick={() => setShowScheduleModal(true)}>\r\n            <Calendar className=\"h-4 w-4 mr-2\" />Schedule Report\r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      <div>\r\n        <div className=\"mb-4\">\r\n          <label className=\"block text-sm font-medium mb-1\">Report Template</label>\r\n          <select value={selectedTemplate?.id || ''} onChange={(e: React.ChangeEvent<HTMLSelectElement>) => setSelectedTemplate(templates.find(t => t.id === e.target.value) || null)} className=\"w-full p-2 border rounded\">\r\n            <option value=\"\">Select a template...</option>\r\n            {templates.map(t => <option key={t.id} value={t.id}>{t.name}</option>)}\r\n          </select>\r\n        </div>\r\n\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n          {templates.map(template => (\r\n            <Card key={template.id} className=\"hover:shadow-md transition-shadow\">\r\n              <CardContent className=\"p-4\">\r\n                <div className=\"flex items-start justify-between mb-3\">\r\n                  <section>\r\n                    <h4 className=\"font-medium mb-2\">{template.name}</h4>\r\n                    <p className=\"text-sm text-muted-foreground mb-3\">{template.description}</p>\r\n                  </section>\r\n                  <div className=\"flex space-x-2\">\r\n                    <Button variant=\"outline\" size=\"sm\" onClick={() => { setSelectedTemplate(template); setShowScheduleModal(true); }}>\r\n                      Schedule\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {scheduledReports.length > 0 && (\r\n        <Card>\r\n          <CardHeader>\r\n            <CardTitle className=\"flex items-center space-x-2\">\r\n              <Clock className=\"h-5 w-5\" />\r\n              <span>Scheduled Reports</span>\r\n            </CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"space-y-3\">\r\n              {scheduledReports.map(schedule => {\r\n                const template = templates.find(t => t.id === schedule.templateId);\r\n                return (\r\n                  <div key={schedule.id} className=\"flex items-center justify-between p-3 border rounded-lg\">\r\n                    <div>\r\n                      <h4 className=\"font-medium\">{schedule.name}</h4>\r\n                      <p className=\"text-sm text-muted-foreground\">{template?.name} • {schedule.frequency} • Next: {new Date(schedule.nextRun).toLocaleDateString()}</p>\r\n                    </div>\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <Badge variant={schedule.isActive ? 'default' : 'secondary'}>{schedule.isActive ? 'Active' : 'Inactive'}</Badge>\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <Switch checked={schedule.isActive} onCheckedChange={(checked) => updateScheduledReport(schedule.id, { isActive: checked })} className=\"h-5 w-10\" aria-label={`Toggle schedule ${schedule.name}`} />\r\n                        <Button variant=\"outline\" size=\"sm\" onClick={() => runScheduledReport(schedule.id)} aria-label={`Run now ${schedule.name}`}>Run now</Button>\r\n                      </div>\r\n                      <Button variant=\"ghost\" size=\"sm\" onClick={() => {\r\n                        // Open modal prefilled for editing\r\n                        setEditingSchedule(schedule);\r\n                        setShowScheduleModal(true);\r\n                        setScheduleName(schedule.name);\r\n                        setScheduleFrequency(schedule.frequency);\r\n                        setScheduleRecipients((schedule.recipients || []).join(', '));\r\n                        setSelectedTemplate(templates.find(t => t.id === schedule.templateId) || null);\r\n                      }}>Edit</Button>\r\n                      <Button variant=\"ghost\" size=\"sm\" aria-label={`Delete ${schedule.name}`} onClick={() => deleteScheduledReport(schedule.id)}><Trash2 className=\"h-4 w-4\" /></Button>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      )}\r\n\r\n      <Modal isOpen={showScheduleModal} onClose={() => setShowScheduleModal(false)}>\r\n        <div className=\"space-y-6\">\r\n          <div className=\"flex items-center justify-between\"><h2 className=\"text-xl font-semibold\">Schedule Report</h2><Button variant=\"ghost\" onClick={() => setShowScheduleModal(false)}><Trash2 className=\"h-4 w-4\" /></Button></div>\r\n\r\n          {selectedTemplate && (<div className=\"bg-muted/50 p-4 rounded-lg\"><h3 className=\"font-medium mb-2\">{selectedTemplate.name}</h3><p className=\"text-sm text-muted-foreground\">{selectedTemplate.description}</p></div>)}\r\n\r\n          <div className=\"space-y-4\">\r\n            <div>\r\n          <label htmlFor=\"schedule-name\" className=\"block text-sm font-medium mb-2\">Schedule Name</label>\r\n            <Input id=\"schedule-name\" placeholder=\"e.g., Weekly Summary Report\" value={scheduleName} onChange={e => setScheduleName((e.target as HTMLInputElement).value)} />\r\n            </div>\r\n\r\n            <div>\r\n              <label htmlFor=\"schedule-frequency\" className=\"block text-sm font-medium mb-2\">Frequency</label>\r\n              <select id=\"schedule-frequency\" className=\"w-full p-2 border rounded\" value={scheduleFrequency} onChange={e => setScheduleFrequency((e.target as HTMLSelectElement).value as ScheduledReport['frequency'])}><option value=\"weekly\">Weekly</option><option value=\"monthly\">Monthly</option><option value=\"daily\">Daily</option></select>\r\n            </div>\r\n\r\n            <div>\r\n              <label htmlFor=\"schedule-recipients\" className=\"block text-sm font-medium mb-2\">Recipients (Email)</label>\r\n              <Input id=\"schedule-recipients\" placeholder=\"email@example.com\" value={scheduleRecipients} onChange={e => setScheduleRecipients((e.target as HTMLInputElement).value)} />\r\n              <p className=\"text-xs text-muted-foreground mt-1\">Separate multiple emails with commas</p>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"flex justify-end space-x-3 pt-4 border-t\">\r\n            <Button variant=\"outline\" onClick={() => setShowScheduleModal(false)}>Cancel</Button>\r\n            <Button onClick={() => handleCreateSchedule()}><Send className=\"h-4 w-4 mr-2\" />Schedule Report</Button>\r\n          </div>\r\n        </div>\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ReportingSystemCore;\r\n","import React from 'react';\r\n// import { ClinicProtectedRoute } from '../../components/clinic/ClinicProtectedRoute';\r\nimport { ReportingSystem } from '../../components/reporting/ReportingSystem';\r\nimport { usePainTrackerStore } from '../../stores/pain-tracker-store';\r\n\r\nexport function ClinicReports() {\r\n  const entries = usePainTrackerStore(state => state.entries);\r\n\r\n  return (\r\n    <div className=\"p-6\">\r\n      <ReportingSystem entries={entries} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ClinicReports;\r\n","/**\n * Clinic Settings - Portal configuration and preferences\n */\n\nimport { Save, Bell, Shield, Users, Palette, Settings, CheckCircle2 } from 'lucide-react';\nimport { useState } from 'react';\n\nexport function ClinicSettings() {\n  const [settings, setSettings] = useState({\n    clinicName: 'Pain Management Clinic',\n    timezone: 'America/Vancouver',\n    defaultAppointmentDuration: 30,\n    enableEmailNotifications: true,\n    enableSMSReminders: false,\n    hipaaAuditLevel: 'full',\n    dataRetentionDays: 2555, // 7 years\n    theme: 'dark'\n  });\n\n  const handleSave = () => {\n    // In production, save to API\n    alert('Settings saved successfully!');\n  };\n\n  return (\n    <div className=\"p-6 space-y-6 max-w-4xl bg-slate-900 min-h-screen\">\n      {/* Ambient background */}\n      <div className=\"fixed inset-0 pointer-events-none overflow-hidden\">\n        <div className=\"absolute top-0 left-1/4 w-96 h-96 bg-sky-500/5 rounded-full blur-3xl\" />\n        <div className=\"absolute bottom-1/4 right-1/4 w-80 h-80 bg-violet-500/5 rounded-full blur-3xl\" />\n      </div>\n\n      {/* Page Header */}\n      <div className=\"relative\">\n        <div className=\"flex items-center gap-3 mb-2\">\n          <div className=\"p-3 rounded-xl bg-gradient-to-br from-slate-500/20 to-slate-600/20 border border-slate-500/30\">\n            <Settings className=\"w-6 h-6 text-slate-400\" />\n          </div>\n          <div>\n            <h1 className=\"text-3xl font-bold text-white\">\n              Clinic Settings\n            </h1>\n            <p className=\"text-slate-400\">\n              Configure portal preferences and clinical workflows\n            </p>\n          </div>\n        </div>\n      </div>\n\n      {/* General Settings */}\n      <div \n        className=\"relative rounded-2xl border border-slate-700/50 overflow-hidden\"\n        style={{\n          background: 'linear-gradient(135deg, rgba(30, 41, 59, 0.95) 0%, rgba(15, 23, 42, 0.98) 100%)',\n          boxShadow: '0 15px 40px -10px rgba(0, 0, 0, 0.3)'\n        }}\n      >\n        <div className=\"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-sky-500 to-cyan-500\" />\n        <div className=\"p-6 border-b border-slate-700/50\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"p-2 rounded-xl bg-sky-500/20 border border-sky-500/30\">\n              <Users className=\"w-5 h-5 text-sky-400\" />\n            </div>\n            <div>\n              <h2 className=\"text-lg font-semibold text-white\">\n                General Settings\n              </h2>\n              <p className=\"text-sm text-slate-400\">\n                Basic clinic information and preferences\n              </p>\n            </div>\n          </div>\n        </div>\n        \n        <div className=\"p-6 space-y-4\">\n          <div>\n            <label className=\"block text-sm font-medium text-slate-300 mb-2\">\n              Clinic Name\n            </label>\n            <input\n              type=\"text\"\n              value={settings.clinicName}\n              onChange={(e) => setSettings({ ...settings, clinicName: e.target.value })}\n              className=\"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700/50 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-sky-500/50 focus:border-sky-500/50 transition-all\"\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-slate-300 mb-2\">\n              Timezone\n            </label>\n            <select\n              value={settings.timezone}\n              onChange={(e) => setSettings({ ...settings, timezone: e.target.value })}\n              className=\"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700/50 text-white focus:outline-none focus:ring-2 focus:ring-sky-500/50 focus:border-sky-500/50 transition-all\"\n            >\n              <option value=\"America/Vancouver\">Pacific Time (PT)</option>\n              <option value=\"America/Edmonton\">Mountain Time (MT)</option>\n              <option value=\"America/Winnipeg\">Central Time (CT)</option>\n              <option value=\"America/Toronto\">Eastern Time (ET)</option>\n            </select>\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-slate-300 mb-2\">\n              Default Appointment Duration (minutes)\n            </label>\n            <input\n              type=\"number\"\n              value={settings.defaultAppointmentDuration}\n              onChange={(e) => setSettings({ ...settings, defaultAppointmentDuration: parseInt(e.target.value) })}\n              min=\"15\"\n              step=\"15\"\n              className=\"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700/50 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-sky-500/50 focus:border-sky-500/50 transition-all\"\n            />\n          </div>\n        </div>\n      </div>\n\n      {/* Notification Settings */}\n      <div \n        className=\"relative rounded-2xl border border-slate-700/50 overflow-hidden\"\n        style={{\n          background: 'linear-gradient(135deg, rgba(30, 41, 59, 0.95) 0%, rgba(15, 23, 42, 0.98) 100%)',\n          boxShadow: '0 15px 40px -10px rgba(0, 0, 0, 0.3)'\n        }}\n      >\n        <div className=\"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-emerald-500 to-green-500\" />\n        <div className=\"p-6 border-b border-slate-700/50\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"p-2 rounded-xl bg-emerald-500/20 border border-emerald-500/30\">\n              <Bell className=\"w-5 h-5 text-emerald-400\" />\n            </div>\n            <div>\n              <h2 className=\"text-lg font-semibold text-white\">\n                Notifications\n              </h2>\n              <p className=\"text-sm text-slate-400\">\n                Configure alert and reminder preferences\n              </p>\n            </div>\n          </div>\n        </div>\n        \n        <div className=\"p-6 space-y-4\">\n          <div className=\"flex items-center justify-between p-4 rounded-xl bg-slate-800/30 border border-slate-700/30\">\n            <div>\n              <p className=\"font-medium text-white\">\n                Email Notifications\n              </p>\n              <p className=\"text-sm text-slate-400\">\n                Receive alerts and updates via email\n              </p>\n            </div>\n            <button\n              onClick={() => setSettings({ ...settings, enableEmailNotifications: !settings.enableEmailNotifications })}\n              className={`relative w-14 h-8 rounded-full transition-colors ${\n                settings.enableEmailNotifications ? 'bg-emerald-500' : 'bg-slate-600'\n              }`}\n            >\n              <div className={`absolute top-1 w-6 h-6 rounded-full bg-white transition-transform shadow-lg ${\n                settings.enableEmailNotifications ? 'left-7' : 'left-1'\n              }`} />\n            </button>\n          </div>\n\n          <div className=\"flex items-center justify-between p-4 rounded-xl bg-slate-800/30 border border-slate-700/30\">\n            <div>\n              <p className=\"font-medium text-white\">\n                SMS Reminders\n              </p>\n              <p className=\"text-sm text-slate-400\">\n                Send appointment reminders via SMS\n              </p>\n            </div>\n            <button\n              onClick={() => setSettings({ ...settings, enableSMSReminders: !settings.enableSMSReminders })}\n              className={`relative w-14 h-8 rounded-full transition-colors ${\n                settings.enableSMSReminders ? 'bg-emerald-500' : 'bg-slate-600'\n              }`}\n            >\n              <div className={`absolute top-1 w-6 h-6 rounded-full bg-white transition-transform shadow-lg ${\n                settings.enableSMSReminders ? 'left-7' : 'left-1'\n              }`} />\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Security & Compliance */}\n      <div \n        className=\"relative rounded-2xl border border-slate-700/50 overflow-hidden\"\n        style={{\n          background: 'linear-gradient(135deg, rgba(30, 41, 59, 0.95) 0%, rgba(15, 23, 42, 0.98) 100%)',\n          boxShadow: '0 15px 40px -10px rgba(0, 0, 0, 0.3)'\n        }}\n      >\n        <div className=\"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-rose-500 to-red-500\" />\n        <div className=\"p-6 border-b border-slate-700/50\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"p-2 rounded-xl bg-rose-500/20 border border-rose-500/30\">\n              <Shield className=\"w-5 h-5 text-rose-400\" />\n            </div>\n            <div>\n              <h2 className=\"text-lg font-semibold text-white\">\n                Security & Compliance\n              </h2>\n              <p className=\"text-sm text-slate-400\">\n                HIPAA audit and data retention settings\n              </p>\n            </div>\n          </div>\n        </div>\n        \n        <div className=\"p-6 space-y-4\">\n          <div>\n            <label className=\"block text-sm font-medium text-slate-300 mb-2\">\n              HIPAA Audit Level\n            </label>\n            <select\n              value={settings.hipaaAuditLevel}\n              onChange={(e) => setSettings({ ...settings, hipaaAuditLevel: e.target.value })}\n              className=\"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700/50 text-white focus:outline-none focus:ring-2 focus:ring-rose-500/50 focus:border-rose-500/50 transition-all\"\n            >\n              <option value=\"full\">Full (All Actions)</option>\n              <option value=\"standard\">Standard (Data Access Only)</option>\n              <option value=\"minimal\">Minimal (Critical Events Only)</option>\n            </select>\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-slate-300 mb-2\">\n              Data Retention Period (days)\n            </label>\n            <input\n              type=\"number\"\n              value={settings.dataRetentionDays}\n              onChange={(e) => setSettings({ ...settings, dataRetentionDays: parseInt(e.target.value) })}\n              min=\"365\"\n              className=\"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700/50 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-rose-500/50 focus:border-rose-500/50 transition-all\"\n            />\n            <p className=\"text-xs text-slate-500 mt-2\">\n              Recommended: 2555 days (7 years) for medical records compliance\n            </p>\n          </div>\n        </div>\n      </div>\n\n      {/* Appearance */}\n      <div \n        className=\"relative rounded-2xl border border-slate-700/50 overflow-hidden\"\n        style={{\n          background: 'linear-gradient(135deg, rgba(30, 41, 59, 0.95) 0%, rgba(15, 23, 42, 0.98) 100%)',\n          boxShadow: '0 15px 40px -10px rgba(0, 0, 0, 0.3)'\n        }}\n      >\n        <div className=\"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-violet-500 to-purple-500\" />\n        <div className=\"p-6 border-b border-slate-700/50\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"p-2 rounded-xl bg-violet-500/20 border border-violet-500/30\">\n              <Palette className=\"w-5 h-5 text-violet-400\" />\n            </div>\n            <div>\n              <h2 className=\"text-lg font-semibold text-white\">\n                Appearance\n              </h2>\n              <p className=\"text-sm text-slate-400\">\n                Customize portal theme and display\n              </p>\n            </div>\n          </div>\n        </div>\n        \n        <div className=\"p-6\">\n          <label className=\"block text-sm font-medium text-slate-300 mb-4\">\n            Theme\n          </label>\n          <div className=\"grid grid-cols-3 gap-4\">\n            <button\n              onClick={() => setSettings({ ...settings, theme: 'light' })}\n              className={`p-4 rounded-xl border-2 transition-all hover:-translate-y-1 ${\n                settings.theme === 'light'\n                  ? 'border-violet-500 bg-violet-500/10'\n                  : 'border-slate-700/50 hover:border-slate-600'\n              }`}\n            >\n              <div className=\"w-full h-16 bg-white rounded-lg mb-3 border border-slate-200\"></div>\n              <p className=\"text-sm font-medium text-white flex items-center justify-center gap-2\">\n                {settings.theme === 'light' && <CheckCircle2 className=\"w-4 h-4 text-violet-400\" />}\n                Light\n              </p>\n            </button>\n            <button\n              onClick={() => setSettings({ ...settings, theme: 'dark' })}\n              className={`p-4 rounded-xl border-2 transition-all hover:-translate-y-1 ${\n                settings.theme === 'dark'\n                  ? 'border-violet-500 bg-violet-500/10'\n                  : 'border-slate-700/50 hover:border-slate-600'\n              }`}\n            >\n              <div className=\"w-full h-16 bg-slate-800 rounded-lg mb-3\"></div>\n              <p className=\"text-sm font-medium text-white flex items-center justify-center gap-2\">\n                {settings.theme === 'dark' && <CheckCircle2 className=\"w-4 h-4 text-violet-400\" />}\n                Dark\n              </p>\n            </button>\n            <button\n              onClick={() => setSettings({ ...settings, theme: 'auto' })}\n              className={`p-4 rounded-xl border-2 transition-all hover:-translate-y-1 ${\n                settings.theme === 'auto'\n                  ? 'border-violet-500 bg-violet-500/10'\n                  : 'border-slate-700/50 hover:border-slate-600'\n              }`}\n            >\n              <div className=\"w-full h-16 bg-gradient-to-r from-white to-slate-800 rounded-lg mb-3\"></div>\n              <p className=\"text-sm font-medium text-white flex items-center justify-center gap-2\">\n                {settings.theme === 'auto' && <CheckCircle2 className=\"w-4 h-4 text-violet-400\" />}\n                Auto\n              </p>\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Save Button */}\n      <div className=\"relative flex justify-end\">\n        <button\n          onClick={handleSave}\n          className=\"flex items-center gap-2 px-8 py-3.5 rounded-xl text-white font-medium transition-all hover:-translate-y-0.5 shadow-lg shadow-sky-500/25 hover:shadow-sky-500/40\"\n          style={{\n            background: 'linear-gradient(135deg, #0ea5e9 0%, #0284c7 100%)'\n          }}\n        >\n          <Save className=\"w-5 h-5\" />\n          Save Settings\n        </button>\n      </div>\n    </div>\n  );\n}","/**\n * Clinic Login Page\n * Professional authentication interface for healthcare providers\n */\n\nimport { useState, FormEvent } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useClinicAuth } from '../../contexts/ClinicAuthContext';\nimport { Stethoscope, Mail, Lock, AlertCircle, Loader2, Shield, Sparkles } from 'lucide-react';\n\nexport function ClinicLogin() {\n  const navigate = useNavigate();\n  const { login, isLoading, error } = useClinicAuth();\n  \n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [showPassword, setShowPassword] = useState(false);\n\n  const handleSubmit = async (e: FormEvent) => {\n    e.preventDefault();\n    \n    try {\n      await login(email, password);\n      navigate('/clinic/dashboard');\n    } catch (err) {\n      console.error('Login failed:', err);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-slate-900 flex items-center justify-center p-4\">\n      {/* Ambient background */}\n      <div className=\"fixed inset-0 pointer-events-none overflow-hidden\">\n        <div className=\"absolute top-1/4 left-1/4 w-96 h-96 bg-sky-500/10 rounded-full blur-3xl\" />\n        <div className=\"absolute bottom-1/4 right-1/4 w-80 h-80 bg-violet-500/10 rounded-full blur-3xl\" />\n        <div className=\"absolute top-1/2 right-1/4 w-64 h-64 bg-emerald-500/5 rounded-full blur-3xl\" />\n      </div>\n\n      <div className=\"relative w-full max-w-md\">\n        {/* Logo and Branding */}\n        <div className=\"text-center mb-8\">\n          <div \n            className=\"inline-flex items-center justify-center w-20 h-20 rounded-2xl mb-6\"\n            style={{\n              background: 'linear-gradient(135deg, #0ea5e9 0%, #8b5cf6 100%)',\n              boxShadow: '0 15px 40px rgba(14, 165, 233, 0.3)'\n            }}\n          >\n            <Stethoscope className=\"w-10 h-10 text-white\" />\n          </div>\n          <h1 className=\"text-3xl font-bold bg-gradient-to-r from-white to-slate-300 bg-clip-text text-transparent mb-2\">\n            Clinic Portal\n          </h1>\n          <p className=\"text-slate-400\">\n            Healthcare Professional Login\n          </p>\n        </div>\n\n        {/* Login Card */}\n        <div \n          className=\"rounded-2xl p-8 border border-slate-700/50 relative overflow-hidden\"\n          style={{\n            background: 'linear-gradient(135deg, rgba(30, 41, 59, 0.95) 0%, rgba(15, 23, 42, 0.98) 100%)',\n            boxShadow: '0 25px 50px -12px rgba(0, 0, 0, 0.5), inset 0 1px 0 rgba(255,255,255,0.05)'\n          }}\n        >\n          {/* Gradient accent line */}\n          <div className=\"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-sky-500 via-violet-500 to-purple-500\" />\n          \n          <form onSubmit={handleSubmit} className=\"space-y-6\">\n            {/* Error Message */}\n            {error && (\n              <div className=\"flex items-start gap-3 p-4 rounded-xl bg-rose-500/10 border border-rose-500/20\">\n                <AlertCircle className=\"w-5 h-5 text-rose-400 flex-shrink-0 mt-0.5\" />\n                <div>\n                  <p className=\"text-sm font-medium text-rose-300\">\n                    Login Failed\n                  </p>\n                  <p className=\"text-sm text-rose-400/80 mt-1\">\n                    {error}\n                  </p>\n                </div>\n              </div>\n            )}\n\n            {/* Email Field */}\n            <div>\n              <label \n                htmlFor=\"email\" \n                className=\"block text-sm font-medium text-slate-300 mb-2\"\n              >\n                Email Address\n              </label>\n              <div className=\"relative\">\n                <Mail className=\"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-500\" />\n                <input\n                  id=\"email\"\n                  type=\"email\"\n                  value={email}\n                  onChange={(e) => setEmail(e.target.value)}\n                  required\n                  autoComplete=\"email\"\n                  placeholder=\"doctor@clinic.com\"\n                  className=\"w-full pl-12 pr-4 py-3.5 rounded-xl bg-slate-800/50 border border-slate-700/50 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-sky-500/50 focus:border-sky-500/50 transition-all\"\n                  disabled={isLoading}\n                />\n              </div>\n            </div>\n\n            {/* Password Field */}\n            <div>\n              <label \n                htmlFor=\"password\" \n                className=\"block text-sm font-medium text-slate-300 mb-2\"\n              >\n                Password\n              </label>\n              <div className=\"relative\">\n                <Lock className=\"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-500\" />\n                <input\n                  id=\"password\"\n                  type={showPassword ? 'text' : 'password'}\n                  value={password}\n                  onChange={(e) => setPassword(e.target.value)}\n                  required\n                  autoComplete=\"current-password\"\n                  placeholder=\"\"\n                  className=\"w-full pl-12 pr-16 py-3.5 rounded-xl bg-slate-800/50 border border-slate-700/50 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-sky-500/50 focus:border-sky-500/50 transition-all\"\n                  disabled={isLoading}\n                />\n                <button\n                  type=\"button\"\n                  onClick={() => setShowPassword(!showPassword)}\n                  className=\"absolute right-4 top-1/2 -translate-y-1/2 text-sm text-slate-400 hover:text-white transition-colors\"\n                  tabIndex={-1}\n                >\n                  {showPassword ? 'Hide' : 'Show'}\n                </button>\n              </div>\n            </div>\n\n            {/* Remember Me & Forgot Password */}\n            <div className=\"flex items-center justify-between text-sm\">\n              <label className=\"flex items-center gap-2 cursor-pointer group\">\n                <div className=\"relative\">\n                  <input\n                    type=\"checkbox\"\n                    className=\"sr-only peer\"\n                  />\n                  <div className=\"w-5 h-5 rounded border-2 border-slate-600 peer-checked:border-sky-500 peer-checked:bg-sky-500 transition-all flex items-center justify-center\">\n                  </div>\n                </div>\n                <span className=\"text-slate-400 group-hover:text-slate-300 transition-colors\">\n                  Remember me\n                </span>\n              </label>\n              <button\n                type=\"button\"\n                className=\"text-sky-400 hover:text-sky-300 font-medium transition-colors\"\n              >\n                Forgot password?\n              </button>\n            </div>\n\n            {/* Submit Button */}\n            <button\n              type=\"submit\"\n              disabled={isLoading}\n              className=\"w-full flex items-center justify-center gap-2 py-3.5 px-4 rounded-xl text-white font-medium transition-all disabled:opacity-50 disabled:cursor-not-allowed hover:-translate-y-0.5 shadow-lg shadow-sky-500/25 hover:shadow-sky-500/40\"\n              style={{\n                background: 'linear-gradient(135deg, #0ea5e9 0%, #0284c7 100%)'\n              }}\n            >\n              {isLoading ? (\n                <>\n                  <Loader2 className=\"w-5 h-5 animate-spin\" />\n                  <span>Signing in...</span>\n                </>\n              ) : (\n                <span>Sign In</span>\n              )}\n            </button>\n          </form>\n\n          {/* Demo Credentials */}\n          <div className=\"mt-6 pt-6 border-t border-slate-700/50\">\n            <div className=\"flex items-center gap-2 text-xs text-slate-500 mb-3\">\n              <Sparkles className=\"w-4 h-4 text-amber-400\" />\n              <span className=\"font-medium text-slate-400\">Demo Credentials (Development Only)</span>\n            </div>\n            <div className=\"space-y-1.5 text-xs\">\n              <p className=\"text-slate-500\">\n                 Physician: <code className=\"px-1.5 py-0.5 rounded bg-slate-800 text-sky-400\">doctor@clinic.com</code>\n              </p>\n              <p className=\"text-slate-500\">\n                 Nurse: <code className=\"px-1.5 py-0.5 rounded bg-slate-800 text-sky-400\">nurse@clinic.com</code>\n              </p>\n              <p className=\"text-slate-500\">\n                 Admin: <code className=\"px-1.5 py-0.5 rounded bg-slate-800 text-sky-400\">admin@clinic.com</code>\n              </p>\n              <p className=\"text-slate-500\">\n                 Password: <code className=\"px-1.5 py-0.5 rounded bg-slate-800 text-emerald-400\">any password</code>\n              </p>\n            </div>\n          </div>\n        </div>\n\n        {/* Footer */}\n        <div className=\"text-center mt-8\">\n          <div className=\"flex items-center justify-center gap-2 text-slate-400 mb-2\">\n            <Shield className=\"w-4 h-4 text-emerald-400\" />\n            <p className=\"text-sm\">\n              Pain Tracker Pro &copy; {new Date().getFullYear()}\n            </p>\n          </div>\n          <p className=\"text-xs text-slate-500\">\n            HIPAA Compliant | Secure Healthcare Portal\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}","/**\r\n * Clinic Sidebar - Professional navigation optimized for clinical workflows\r\n */\r\n\r\nimport { LucideIcon } from 'lucide-react';\r\nimport { Link } from 'react-router-dom';\r\nimport { ChevronLeft, ChevronRight, Stethoscope } from 'lucide-react';\r\n\r\ninterface NavItem {\r\n  label: string;\r\n  icon: LucideIcon;\r\n  path: string;\r\n  description: string;\r\n  badge?: string | number;\r\n}\r\n\r\ninterface ClinicUser {\r\n  name: string;\r\n  role: string;\r\n  specialty?: string;\r\n}\r\n\r\ninterface ClinicSidebarProps {\r\n  items: NavItem[];\r\n  currentPath: string;\r\n  collapsed: boolean;\r\n  onToggleCollapse: () => void;\r\n  user: ClinicUser;\r\n}\r\n\r\nexport function ClinicSidebar({ \r\n  items, \r\n  currentPath, \r\n  collapsed, \r\n  onToggleCollapse,\r\n  user \r\n}: ClinicSidebarProps) {\r\n  return (\r\n    <aside \r\n      className={`\r\n        bg-slate-900 text-slate-100 transition-all duration-300 flex flex-col\r\n        ${collapsed ? 'w-16 sm:w-20' : 'w-64 sm:w-72'}\r\n      `}\r\n      aria-label=\"Clinic navigation\"\r\n    >\r\n      {/* Clinic Branding */}\r\n      <div className=\"p-4 sm:p-6 border-b border-slate-700\">\r\n        <div className=\"flex items-center gap-2 sm:gap-3\">\r\n          <div className=\"w-8 h-8 sm:w-10 sm:h-10 rounded-lg bg-blue-600 flex items-center justify-center flex-shrink-0\">\r\n            <Stethoscope className=\"w-5 h-5 sm:w-6 sm:h-6 text-white\" />\r\n          </div>\r\n          {!collapsed && (\r\n            <div className=\"min-w-0\">\r\n              <h1 className=\"text-base sm:text-lg font-semibold truncate\">Clinic Portal</h1>\r\n              <p className=\"text-xs text-slate-400 truncate\">Pain Tracker Pro</p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* User Info */}\r\n      {!collapsed && (\r\n        <div className=\"p-3 sm:p-4 border-b border-slate-700 bg-slate-800/50\">\r\n          <div className=\"text-sm min-w-0\">\r\n            <p className=\"font-medium text-slate-100 truncate\">{user.name}</p>\r\n            <p className=\"text-xs text-slate-400 capitalize truncate\">{user.role}</p>\r\n            {user.specialty && (\r\n              <p className=\"text-xs text-blue-400 mt-1 truncate\">{user.specialty}</p>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Navigation */}\r\n      <nav className=\"flex-1 overflow-y-auto p-3 sm:p-4\">\r\n        <ul className=\"space-y-1.5 sm:space-y-2\">\r\n          {items.map((item) => {\r\n            const Icon = item.icon;\r\n            const isActive = currentPath.startsWith(item.path);\r\n            \r\n            return (\r\n              <li key={item.path}>\r\n                <Link\r\n                  to={item.path}\r\n                  className={`\r\n                    flex items-center gap-2 sm:gap-3 px-3 sm:px-4 py-2.5 sm:py-3 rounded-lg transition-all\r\n                    ${isActive \r\n                      ? 'bg-blue-600 text-white shadow-lg shadow-blue-500/30' \r\n                      : 'text-slate-300 hover:bg-slate-800 hover:text-white'\r\n                    }\r\n                    ${collapsed ? 'justify-center' : ''}\r\n                  `}\r\n                  title={collapsed ? item.label : undefined}\r\n                  aria-label={item.label}\r\n                  aria-current={isActive ? 'page' : undefined}\r\n                >\r\n                  <Icon className={`w-4 h-4 sm:w-5 sm:h-5 flex-shrink-0 ${isActive ? 'text-white' : ''}`} />\r\n                  {!collapsed && (\r\n                    <div className=\"flex-1 min-w-0\">\r\n                      <div className=\"flex items-center justify-between\">\r\n                        <span className=\"font-medium truncate text-sm sm:text-base\">{item.label}</span>\r\n                        {item.badge && (\r\n                          <span className=\"px-1.5 sm:px-2 py-0.5 text-[10px] sm:text-xs rounded-full bg-red-500 text-white flex-shrink-0 ml-2\">\r\n                            {item.badge}\r\n                          </span>\r\n                        )}\r\n                      </div>\r\n                      {!collapsed && (\r\n                        <p className=\"text-[10px] sm:text-xs opacity-75 truncate\">{item.description}</p>\r\n                      )}\r\n                    </div>\r\n                  )}\r\n                </Link>\r\n              </li>\r\n            );\r\n          })}\r\n        </ul>\r\n      </nav>\r\n\r\n      {/* Collapse Toggle */}\r\n      <div className=\"p-3 sm:p-4 border-t border-slate-700\">\r\n        <button\r\n          onClick={onToggleCollapse}\r\n          className=\"w-full flex items-center justify-center gap-2 px-3 sm:px-4 py-2 rounded-lg bg-slate-800 hover:bg-slate-700 transition-colors text-slate-300\"\r\n          aria-label={collapsed ? 'Expand sidebar' : 'Collapse sidebar'}\r\n        >\r\n          {collapsed ? (\r\n            <ChevronRight className=\"w-4 h-4 sm:w-5 sm:h-5\" />\r\n          ) : (\r\n            <>\r\n              <ChevronLeft className=\"w-4 h-4 sm:w-5 sm:h-5\" />\r\n              <span className=\"text-xs sm:text-sm\">Collapse</span>\r\n            </>\r\n          )}\r\n        </button>\r\n      </div>\r\n    </aside>\r\n  );\r\n}\r\n","/**\r\n * Clinic Header - Professional header for clinical portal\r\n */\r\n\r\nimport { Bell, Search, User, LogOut, HelpCircle } from 'lucide-react';\r\nimport { useState } from 'react';\r\n\r\ninterface ClinicUser {\r\n  name: string;\r\n  email: string;\r\n  role: string;\r\n}\r\n\r\ninterface ClinicHeaderProps {\r\n  user: ClinicUser;\r\n  onSignOut: () => void;\r\n}\r\n\r\nexport function ClinicHeader({ user, onSignOut }: ClinicHeaderProps) {\r\n  const [showUserMenu, setShowUserMenu] = useState(false);\r\n\r\n  return (\r\n    <header className=\"bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 shadow-sm\">\r\n      <div className=\"flex items-center justify-between px-4 sm:px-6 py-3 sm:py-4 gap-3 sm:gap-4\">\r\n        {/* Search Bar */}\r\n        <div className=\"flex-1 min-w-0 max-w-2xl\">\r\n          <div className=\"relative\">\r\n            <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 sm:w-5 sm:h-5 text-slate-400\" />\r\n            <input\r\n              type=\"search\"\r\n              placeholder=\"Search patients...\"\r\n              className=\"w-full pl-9 sm:pl-10 pr-4 py-2 text-sm bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n              aria-label=\"Search patients\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Actions */}\r\n        <div className=\"flex items-center gap-2 sm:gap-4 flex-shrink-0\">\r\n          {/* Help */}\r\n          <button\r\n            className=\"p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors hidden sm:block\"\r\n            aria-label=\"Help and documentation\"\r\n            title=\"Help\"\r\n          >\r\n            <HelpCircle className=\"w-5 h-5 text-slate-600 dark:text-slate-400\" />\r\n          </button>\r\n\r\n          {/* Notifications */}\r\n          <button\r\n            className=\"relative p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors\"\r\n            aria-label=\"Notifications\"\r\n            title=\"Notifications\"\r\n          >\r\n            <Bell className=\"w-5 h-5 text-slate-600 dark:text-slate-400\" />\r\n            <span className=\"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full\"></span>\r\n          </button>\r\n\r\n          {/* User Menu */}\r\n          <div className=\"relative\">\r\n            <button\r\n              onClick={() => setShowUserMenu(!showUserMenu)}\r\n              className=\"flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors\"\r\n              aria-expanded={showUserMenu}\r\n              aria-haspopup=\"true\"\r\n            >\r\n              <div className=\"w-8 h-8 rounded-full bg-blue-600 flex items-center justify-center\">\r\n                <User className=\"w-4 h-4 text-white\" />\r\n              </div>\r\n              <div className=\"text-left hidden md:block\">\r\n                <p className=\"text-sm font-medium text-slate-900 dark:text-slate-100\">\r\n                  {user.name}\r\n                </p>\r\n                <p className=\"text-xs text-slate-500 dark:text-slate-400 capitalize\">\r\n                  {user.role}\r\n                </p>\r\n              </div>\r\n            </button>\r\n\r\n            {/* Dropdown Menu */}\r\n            {showUserMenu && (\r\n              <>\r\n                <div \r\n                  className=\"fixed inset-0 z-10\" \r\n                  onClick={() => setShowUserMenu(false)}\r\n                  aria-hidden=\"true\"\r\n                />\r\n                <div className=\"absolute right-0 mt-2 w-56 bg-white dark:bg-slate-800 rounded-lg shadow-lg border border-slate-200 dark:border-slate-700 py-2 z-20\">\r\n                  <div className=\"px-4 py-3 border-b border-slate-200 dark:border-slate-700\">\r\n                    <p className=\"text-sm font-medium text-slate-900 dark:text-slate-100\">\r\n                      {user.name}\r\n                    </p>\r\n                    <p className=\"text-xs text-slate-500 dark:text-slate-400 truncate\">\r\n                      {user.email}\r\n                    </p>\r\n                  </div>\r\n                  <button\r\n                    onClick={() => {\r\n                      setShowUserMenu(false);\r\n                      onSignOut();\r\n                    }}\r\n                    className=\"w-full flex items-center gap-2 px-4 py-2 text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors\"\r\n                  >\r\n                    <LogOut className=\"w-4 h-4\" />\r\n                    Sign Out\r\n                  </button>\r\n                </div>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport {\r\n  AlertTriangle,\r\n  TrendingUp,\r\n  TrendingDown,\r\n  Clock,\r\n  Pill,\r\n  Activity,\r\n  Bell,\r\n  CheckCircle,\r\n  XCircle,\r\n} from 'lucide-react';\r\n\r\ninterface PatientAlert {\r\n  id: string;\r\n  patientId: string;\r\n  patientName: string;\r\n  type: 'pain_escalation' | 'medication_missed' | 'treatment_overdue' | 'crisis_detected';\r\n  severity: 'critical' | 'warning' | 'info';\r\n  message: string;\r\n  timestamp: string;\r\n  actionRequired: boolean;\r\n  acknowledged: boolean;\r\n}\r\n\r\ninterface MonitoringMetrics {\r\n  patientsAtRisk: number;\r\n  activeAlerts: number;\r\n  medicationAdherence: number;\r\n  avgResponseTime: number;\r\n}\r\n\r\nexport const RealTimeMonitoring: React.FC = () => {\r\n  const [alerts, setAlerts] = useState<PatientAlert[]>([\r\n    {\r\n      id: '1',\r\n      patientId: '101',\r\n      patientName: 'Sarah Johnson',\r\n      type: 'pain_escalation',\r\n      severity: 'critical',\r\n      message: 'Pain level increased from 4/10 to 8/10 in last 24 hours',\r\n      timestamp: new Date(Date.now() - 30 * 60 * 1000).toISOString(),\r\n      actionRequired: true,\r\n      acknowledged: false,\r\n    },\r\n    {\r\n      id: '2',\r\n      patientId: '102',\r\n      patientName: 'Michael Chen',\r\n      type: 'medication_missed',\r\n      severity: 'warning',\r\n      message: 'Missed evening medication for 2 consecutive days',\r\n      timestamp: new Date(Date.now() - 2 * 60 * 60 * 1000).toISOString(),\r\n      actionRequired: true,\r\n      acknowledged: false,\r\n    },\r\n    {\r\n      id: '3',\r\n      patientId: '103',\r\n      patientName: 'Emma Wilson',\r\n      type: 'crisis_detected',\r\n      severity: 'critical',\r\n      message: 'Crisis language detected in latest pain entry notes',\r\n      timestamp: new Date(Date.now() - 15 * 60 * 1000).toISOString(),\r\n      actionRequired: true,\r\n      acknowledged: false,\r\n    },\r\n    {\r\n      id: '4',\r\n      patientId: '104',\r\n      patientName: 'David Martinez',\r\n      type: 'treatment_overdue',\r\n      severity: 'warning',\r\n      message: 'Physical therapy appointment overdue by 3 days',\r\n      timestamp: new Date(Date.now() - 4 * 60 * 60 * 1000).toISOString(),\r\n      actionRequired: true,\r\n      acknowledged: false,\r\n    },\r\n  ]);\r\n\r\n  const [metrics, setMetrics] = useState<MonitoringMetrics>({\r\n    patientsAtRisk: 3,\r\n    activeAlerts: 4,\r\n    medicationAdherence: 87,\r\n    avgResponseTime: 12,\r\n  });\r\n\r\n  const [filter, setFilter] = useState<'all' | 'critical' | 'warning' | 'info'>('all');\r\n  const [showAcknowledged, setShowAcknowledged] = useState(false);\r\n\r\n  // Simulate real-time updates\r\n  useEffect(() => {\r\n    const interval = setInterval(() => {\r\n      // Simulate new alerts appearing\r\n      const shouldAddAlert = Math.random() > 0.9;\r\n      \r\n      if (shouldAddAlert) {\r\n        const newAlert: PatientAlert = {\r\n          id: `alert-${Date.now()}`,\r\n          patientId: `${Math.floor(Math.random() * 200) + 100}`,\r\n          patientName: ['John Doe', 'Jane Smith', 'Robert Brown', 'Lisa Davis'][Math.floor(Math.random() * 4)],\r\n          type: ['pain_escalation', 'medication_missed', 'treatment_overdue', 'crisis_detected'][\r\n            Math.floor(Math.random() * 4)\r\n          ] as PatientAlert['type'],\r\n          severity: ['critical', 'warning', 'info'][Math.floor(Math.random() * 3)] as PatientAlert['severity'],\r\n          message: 'New monitoring alert detected',\r\n          timestamp: new Date().toISOString(),\r\n          actionRequired: true,\r\n          acknowledged: false,\r\n        };\r\n\r\n        setAlerts((prev) => [newAlert, ...prev].slice(0, 10));\r\n        setMetrics((prev) => ({\r\n          ...prev,\r\n          activeAlerts: prev.activeAlerts + 1,\r\n        }));\r\n      }\r\n    }, 30000); // Check every 30 seconds\r\n\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  const handleAcknowledge = (alertId: string) => {\r\n    setAlerts((prev) =>\r\n      prev.map((alert) =>\r\n        alert.id === alertId ? { ...alert, acknowledged: true } : alert\r\n      )\r\n    );\r\n    setMetrics((prev) => ({\r\n      ...prev,\r\n      activeAlerts: prev.activeAlerts - 1,\r\n    }));\r\n  };\r\n\r\n  const handleDismiss = (alertId: string) => {\r\n    setAlerts((prev) => prev.filter((alert) => alert.id !== alertId));\r\n    setMetrics((prev) => ({\r\n      ...prev,\r\n      activeAlerts: prev.activeAlerts - 1,\r\n    }));\r\n  };\r\n\r\n  const filteredAlerts = alerts.filter((alert) => {\r\n    if (!showAcknowledged && alert.acknowledged) return false;\r\n    if (filter === 'all') return true;\r\n    return alert.severity === filter;\r\n  });\r\n\r\n  const getAlertIcon = (type: PatientAlert['type']) => {\r\n    switch (type) {\r\n      case 'pain_escalation':\r\n        return <TrendingUp className=\"w-5 h-5\" />;\r\n      case 'medication_missed':\r\n        return <Pill className=\"w-5 h-5\" />;\r\n      case 'treatment_overdue':\r\n        return <Clock className=\"w-5 h-5\" />;\r\n      case 'crisis_detected':\r\n        return <AlertTriangle className=\"w-5 h-5\" />;\r\n    }\r\n  };\r\n\r\n  const getAlertColor = (severity: PatientAlert['severity']) => {\r\n    switch (severity) {\r\n      case 'critical':\r\n        return 'bg-red-50 dark:bg-red-900/20 border-red-500';\r\n      case 'warning':\r\n        return 'bg-amber-50 dark:bg-amber-900/20 border-amber-500';\r\n      case 'info':\r\n        return 'bg-blue-50 dark:bg-blue-900/20 border-blue-500';\r\n    }\r\n  };\r\n\r\n  const formatTimeAgo = (timestamp: string) => {\r\n    const seconds = Math.floor((Date.now() - new Date(timestamp).getTime()) / 1000);\r\n    \r\n    if (seconds < 60) return `${seconds}s ago`;\r\n    if (seconds < 3600) return `${Math.floor(seconds / 60)}m ago`;\r\n    if (seconds < 86400) return `${Math.floor(seconds / 3600)}h ago`;\r\n    return `${Math.floor(seconds / 86400)}d ago`;\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Metrics Overview */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n        <div className=\"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-4\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-sm text-slate-600 dark:text-slate-400\">Patients at Risk</p>\r\n              <p className=\"text-2xl font-bold text-red-600 mt-1\">{metrics.patientsAtRisk}</p>\r\n            </div>\r\n            <AlertTriangle className=\"w-8 h-8 text-red-600\" />\r\n          </div>\r\n          <div className=\"mt-2 flex items-center gap-1\">\r\n            <TrendingUp className=\"w-4 h-4 text-red-600\" />\r\n            <span className=\"text-xs text-red-600\">+2 since yesterday</span>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-4\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-sm text-slate-600 dark:text-slate-400\">Active Alerts</p>\r\n              <p className=\"text-2xl font-bold text-amber-600 mt-1\">{metrics.activeAlerts}</p>\r\n            </div>\r\n            <Bell className=\"w-8 h-8 text-amber-600\" />\r\n          </div>\r\n          <div className=\"mt-2 flex items-center gap-1\">\r\n            <Activity className=\"w-4 h-4 text-amber-600\" />\r\n            <span className=\"text-xs text-amber-600\">Requires attention</span>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-4\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-sm text-slate-600 dark:text-slate-400\">Med Adherence</p>\r\n              <p className=\"text-2xl font-bold text-green-600 mt-1\">{metrics.medicationAdherence}%</p>\r\n            </div>\r\n            <Pill className=\"w-8 h-8 text-green-600\" />\r\n          </div>\r\n          <div className=\"mt-2 flex items-center gap-1\">\r\n            <TrendingUp className=\"w-4 h-4 text-green-600\" />\r\n            <span className=\"text-xs text-green-600\">+3% this week</span>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-4\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-sm text-slate-600 dark:text-slate-400\">Avg Response</p>\r\n              <p className=\"text-2xl font-bold text-blue-600 mt-1\">{metrics.avgResponseTime}m</p>\r\n            </div>\r\n            <Clock className=\"w-8 h-8 text-blue-600\" />\r\n          </div>\r\n          <div className=\"mt-2 flex items-center gap-1\">\r\n            <TrendingDown className=\"w-4 h-4 text-green-600\" />\r\n            <span className=\"text-xs text-green-600\">-2m improvement</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Alert Filters */}\r\n      <div className=\"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-4\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div className=\"flex gap-2\">\r\n            {(['all', 'critical', 'warning', 'info'] as const).map((f) => (\r\n              <button\r\n                key={f}\r\n                onClick={() => setFilter(f)}\r\n                className={`px-4 py-2 rounded-lg font-medium transition-colors ${\r\n                  filter === f\r\n                    ? 'bg-blue-600 text-white'\r\n                    : 'bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600'\r\n                }`}\r\n              >\r\n                {f.charAt(0).toUpperCase() + f.slice(1)}\r\n                {f !== 'all' && (\r\n                  <span className=\"ml-2 px-2 py-0.5 bg-white/20 rounded text-sm\">\r\n                    {alerts.filter((a) => a.severity === f && !a.acknowledged).length}\r\n                  </span>\r\n                )}\r\n              </button>\r\n            ))}\r\n          </div>\r\n\r\n          <label className=\"flex items-center gap-2 cursor-pointer\">\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={showAcknowledged}\r\n              onChange={(e) => setShowAcknowledged(e.target.checked)}\r\n              className=\"w-4 h-4 rounded border-slate-300\"\r\n            />\r\n            <span className=\"text-sm text-slate-700 dark:text-slate-300\">Show acknowledged</span>\r\n          </label>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Alert List */}\r\n      <div className=\"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700\">\r\n        <div className=\"p-4 border-b border-slate-200 dark:border-slate-700\">\r\n          <h2 className=\"text-lg font-semibold text-slate-900 dark:text-white\">\r\n            Real-Time Alerts\r\n            <span className=\"ml-2 text-sm font-normal text-slate-600 dark:text-slate-400\">\r\n              ({filteredAlerts.length} alerts)\r\n            </span>\r\n          </h2>\r\n        </div>\r\n\r\n        <div className=\"divide-y divide-slate-200 dark:divide-slate-700\">\r\n          {filteredAlerts.length === 0 ? (\r\n            <div className=\"p-8 text-center\">\r\n              <CheckCircle className=\"w-12 h-12 text-green-600 mx-auto mb-3\" />\r\n              <p className=\"text-slate-600 dark:text-slate-400\">No active alerts</p>\r\n              <p className=\"text-sm text-slate-500 dark:text-slate-500 mt-1\">\r\n                All patients are being monitored normally\r\n              </p>\r\n            </div>\r\n          ) : (\r\n            filteredAlerts.map((alert) => (\r\n              <div\r\n                key={alert.id}\r\n                className={`p-4 border-l-4 ${getAlertColor(alert.severity)} ${\r\n                  alert.acknowledged ? 'opacity-60' : ''\r\n                }`}\r\n              >\r\n                <div className=\"flex items-start justify-between\">\r\n                  <div className=\"flex items-start gap-3 flex-1\">\r\n                    <div\r\n                      className={`p-2 rounded-lg ${\r\n                        alert.severity === 'critical'\r\n                          ? 'bg-red-100 dark:bg-red-900/30 text-red-600'\r\n                          : alert.severity === 'warning'\r\n                            ? 'bg-amber-100 dark:bg-amber-900/30 text-amber-600'\r\n                            : 'bg-blue-100 dark:bg-blue-900/30 text-blue-600'\r\n                      }`}\r\n                    >\r\n                      {getAlertIcon(alert.type)}\r\n                    </div>\r\n\r\n                    <div className=\"flex-1\">\r\n                      <div className=\"flex items-center gap-2 mb-1\">\r\n                        <h3 className=\"font-semibold text-slate-900 dark:text-white\">\r\n                          {alert.patientName}\r\n                        </h3>\r\n                        <span\r\n                          className={`px-2 py-0.5 text-xs font-medium rounded ${\r\n                            alert.severity === 'critical'\r\n                              ? 'bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400'\r\n                              : alert.severity === 'warning'\r\n                                ? 'bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-400'\r\n                                : 'bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400'\r\n                          }`}\r\n                        >\r\n                          {alert.severity.toUpperCase()}\r\n                        </span>\r\n                        {alert.acknowledged && (\r\n                          <span className=\"px-2 py-0.5 text-xs font-medium rounded bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400\">\r\n                            Acknowledged\r\n                          </span>\r\n                        )}\r\n                      </div>\r\n\r\n                      <p className=\"text-sm text-slate-700 dark:text-slate-300 mb-2\">\r\n                        {alert.message}\r\n                      </p>\r\n\r\n                      <div className=\"flex items-center gap-4 text-xs text-slate-500 dark:text-slate-500\">\r\n                        <span className=\"flex items-center gap-1\">\r\n                          <Clock className=\"w-3 h-3\" />\r\n                          {formatTimeAgo(alert.timestamp)}\r\n                        </span>\r\n                        {alert.actionRequired && (\r\n                          <span className=\"flex items-center gap-1 text-red-600\">\r\n                            <AlertTriangle className=\"w-3 h-3\" />\r\n                            Action required\r\n                          </span>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"flex gap-2 ml-4\">\r\n                    {!alert.acknowledged && (\r\n                      <button\r\n                        onClick={() => handleAcknowledge(alert.id)}\r\n                        className=\"p-2 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 rounded-lg hover:bg-green-200 dark:hover:bg-green-900/50 transition-colors\"\r\n                        title=\"Acknowledge\"\r\n                      >\r\n                        <CheckCircle className=\"w-4 h-4\" />\r\n                      </button>\r\n                    )}\r\n                    <button\r\n                      onClick={() => handleDismiss(alert.id)}\r\n                      className=\"p-2 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors\"\r\n                      title=\"Dismiss\"\r\n                    >\r\n                      <XCircle className=\"w-4 h-4\" />\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","/**\r\n * Clinic Portal - Healthcare Professional Interface\r\n * Separate UI/UX optimized for clinical workflows\r\n */\r\n\r\nimport { useState } from 'react';\r\nimport { Routes, Route, Navigate, useNavigate, useLocation } from 'react-router-dom';\r\nimport { ClinicDashboard } from './ClinicDashboard';\r\nimport { TestimonialsAdmin } from './TestimonialsAdmin';\r\nimport { EnhancedPatientView } from './EnhancedPatientView';\r\nimport ClinicReports from './ClinicReports';\r\nimport { ClinicSettings } from './ClinicSettings';\r\nimport { ClinicLogin } from './ClinicLogin';\r\nimport { ClinicSidebar } from '../../components/clinic/ClinicSidebar';\r\nimport { ClinicHeader } from '../../components/clinic/ClinicHeader';\r\nimport { ClinicProtectedRoute } from '../../components/clinic/ClinicProtectedRoute';\r\nimport { RealTimeMonitoring } from '../../components/clinic/RealTimeMonitoring';\r\nimport { ClinicAuthProvider, useClinicAuth } from '../../contexts/ClinicAuthContext';\r\nimport { \r\n  Users, \r\n  Calendar, \r\n  FileText, \r\n  Settings, \r\n  BarChart3,\r\n  Shield,\r\n  Activity\r\n} from 'lucide-react';\r\n\r\nexport function ClinicPortal() {\r\n  return (\r\n    <ClinicAuthProvider>\r\n      <ClinicPortalContent />\r\n    </ClinicAuthProvider>\r\n  );\r\n}\r\n\r\nfunction ClinicPortalContent() {\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const { user, logout } = useClinicAuth();\r\n  const [sidebarCollapsed, setSidebarCollapsed] = useState(false);\r\n\r\n  const navigationItems = [\r\n    {\r\n      label: 'Dashboard',\r\n      icon: BarChart3,\r\n      path: '/clinic/dashboard',\r\n      description: 'Overview and analytics'\r\n    },\r\n    {\r\n      label: 'Monitoring',\r\n      icon: Activity,\r\n      path: '/clinic/monitoring',\r\n      description: 'Real-time patient alerts'\r\n    },\r\n    {\r\n      label: 'Patients',\r\n      icon: Users,\r\n      path: '/clinic/patients',\r\n      description: 'Patient list and search'\r\n    },\r\n    {\r\n      label: 'Appointments',\r\n      icon: Calendar,\r\n      path: '/clinic/appointments',\r\n      description: 'Schedule management'\r\n    },\r\n    {\r\n      label: 'Reports',\r\n      icon: FileText,\r\n      path: '/clinic/reports',\r\n      description: 'Clinical reports and exports'\r\n    },\r\n    {\r\n      label: 'Compliance',\r\n      icon: Shield,\r\n      path: '/clinic/compliance',\r\n      description: 'HIPAA and audit logs',\r\n      requiresAdmin: true\r\n    },\r\n    {\r\n      label: 'Testimonials',\r\n      icon: FileText,\r\n      path: '/clinic/testimonials',\r\n      description: 'Review user-submitted stories',\r\n      requiresAdmin: true\r\n    },\r\n    {\r\n      label: 'Settings',\r\n      icon: Settings,\r\n      path: '/clinic/settings',\r\n      description: 'Portal configuration'\r\n    }\r\n  ];\r\n\r\n  const filteredNavItems = navigationItems.filter(item => {\r\n    if (item.requiresAdmin && user?.role !== 'admin') {\r\n      return false;\r\n    }\r\n    return true;\r\n  });\r\n\r\n  // If no user, show login page\r\n  if (!user) {\r\n    return <ClinicLogin />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex h-screen bg-slate-50 dark:bg-slate-900\">\r\n      {/* Clinical Sidebar */}\r\n      <ClinicSidebar\r\n        items={filteredNavItems}\r\n        currentPath={location.pathname}\r\n        collapsed={sidebarCollapsed}\r\n        onToggleCollapse={() => setSidebarCollapsed(!sidebarCollapsed)}\r\n        user={user}\r\n      />\r\n\r\n      {/* Main Content Area */}\r\n      <div className=\"flex-1 flex flex-col overflow-hidden\">\r\n        {/* Clinical Header */}\r\n        <ClinicHeader\r\n          user={user}\r\n          onSignOut={() => logout().then(() => navigate('/clinic/login'))}\r\n        />\r\n\r\n        {/* Content */}\r\n        <main className=\"flex-1 overflow-y-auto bg-slate-50 dark:bg-slate-900\">\r\n          <Routes>\r\n            <Route index element={<Navigate to=\"/clinic/dashboard\" replace />} />\r\n            <Route path=\"dashboard\" element={\r\n              <ClinicProtectedRoute>\r\n                <ClinicDashboard />\r\n              </ClinicProtectedRoute>\r\n            } />\r\n            <Route path=\"monitoring\" element={\r\n              <ClinicProtectedRoute requiredPermission=\"view:patients\">\r\n                <div className=\"p-6\">\r\n                  <RealTimeMonitoring />\r\n                </div>\r\n              </ClinicProtectedRoute>\r\n            } />\r\n            <Route path=\"patients\" element={\r\n              <ClinicProtectedRoute requiredPermission=\"view:patients\">\r\n                <EnhancedPatientView />\r\n              </ClinicProtectedRoute>\r\n            } />\r\n            <Route path=\"patients/:patientId\" element={\r\n              <ClinicProtectedRoute requiredPermission=\"view:patients\">\r\n                <EnhancedPatientView />\r\n              </ClinicProtectedRoute>\r\n            } />\r\n            <Route path=\"appointments\" element={\r\n              <ClinicProtectedRoute requiredPermission=\"schedule:appointments\">\r\n                <div className=\"p-6\">Appointments (Coming Soon)</div>\r\n              </ClinicProtectedRoute>\r\n            } />\r\n            <Route path=\"reports\" element={\r\n              <ClinicProtectedRoute requiredPermission=\"view:reports\">\r\n                <ClinicReports />\r\n              </ClinicProtectedRoute>\r\n            } />\r\n            <Route path=\"compliance\" element={\r\n              <ClinicProtectedRoute requiredRole=\"admin\">\r\n                <div className=\"p-6\">Compliance (Coming Soon)</div>\r\n              </ClinicProtectedRoute>\r\n            } />\r\n            <Route path=\"testimonials\" element={\r\n              <ClinicProtectedRoute requiredRole=\"admin\">\r\n                <TestimonialsAdmin />\r\n              </ClinicProtectedRoute>\r\n            } />\r\n            <Route path=\"settings\" element={\r\n              <ClinicProtectedRoute>\r\n                <ClinicSettings />\r\n              </ClinicProtectedRoute>\r\n            } />\r\n            <Route path=\"*\" element={<Navigate to=\"/clinic/dashboard\" replace />} />\r\n          </Routes>\r\n        </main>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["ClinicStatCard","title","value","change","icon","Icon","trend","iconColor","isPositiveTrend","className","children","jsxDEV","fileName","lineNumber","columnNumber","this","TrendingUp","TrendingDown","RecentPatientsTable","patients","useState","id","name","lastVisit","painTrend","avgPainLevel","totalEntries","nextAppointment","getTrendIcon","map","patient","Date","toLocaleDateString","level","toFixed","Link","to","Eye","FileText","Calendar","UpcomingAppointments","appointments","patientName","patientId","time","duration","type","reason","getTypeColor","length","apt","User","Clock","PriorityAlerts","alerts","severity","message","timestamp","getSeverityColor","getSeverityBadge","getAlertIcon","AlertTriangle","getTimeAgo","now","then","diffMs","getTime","diffHours","Math","floor","alert","ClinicDashboard","navigate","useNavigate","stats","Activity","Users","Brain","onClick","style","background","boxShadow","Bell","ArrowRight","Download","Sparkles","ClinicAuthContext","createContext","ClinicAuthProvider","authState","setAuthState","user","isAuthenticated","isLoading","error","useEffect","checkSession","async","accessToken","localStorage","getItem","userData","prev","response","fetch","method","headers","Authorization","data","json","ok","success","valid","hipaaComplianceService","logAuditEvent","actionType","resourceType","userId","userRole","role","outcome","details","action","refreshToken","refreshResponse","body","JSON","stringify","refreshData","setItem","retryResponse","retryData","refreshError","removeItem","contextValue","login","email","password","deviceName","navigator","userAgent","includes","Error","errorMessage","logout","currentUser","revokeAllSessions","hasPermission","permission","permissions","hasRole","Array","isArray","Provider","useClinicAuth","context","useContext","ClinicProtectedRoute","requiredRole","requiredPermission","location","useLocation","Loader2","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","join","window","history","back","Navigate","state","from","replace","TestimonialsAdmin","loading","setLoading","testimonials","setTestimonials","fetchTestimonials","useCallback","token","res","e","MessageSquare","AlertCircle","t","anonymized","EyeOff","quote","created_at","toLocaleString","date","toISOString","verified","publication_date","handleVerify","CheckCircle2","find","tt","handleAnonymize","PatientPainTimeline","entries","interventions","viewMode","setViewMode","timeFrame","setTimeFrame","showInterventions","setShowInterventions","chartData","useMemo","daysBack","cutoffDate","filter","entry","painLevel","mood","sleep","hasMedication","medications","hasTriggers","triggers","sort","a","b","painLevels","avgPain","reduce","maxPain","max","minPain","min","n","sumX","sumY","slope","acc","y","x","dataPoints","correlations","results","withMed","withoutMed","avgWithMed","diff","push","factor","impact","confidence","moodData","correlation","calculateCorrelation","abs","sleepData","sumXY","xi","i","sumX2","sumY2","yi","numerator","denominator","sqrt","csvContent","blob","Blob","url","URL","createObjectURL","document","createElement","href","download","split","click","Share2","mode","charAt","toUpperCase","slice","frame","Fragment","ResponsiveContainer","width","height","AreaChart","x1","y1","x2","y2","offset","stopColor","stopOpacity","CartesianGrid","strokeDasharray","XAxis","dataKey","YAxis","domain","Tooltip","contentStyle","backgroundColor","border","borderRadius","color","Legend","Area","ReferenceLine","label","Brush","ComposedChart","Line","BarChart","Bar","radius","Zap","corr","idx","CheckCircle","Pill","intervention","dosage","provider","getPainLevel","intensity","baselineData","pain","PatternDetectionService","static","detectPatterns","patterns","analyzeMedicationEfficacy","identifyTriggers","analyzeTimeCorrelations","analyzeActivityCorrelations","analyzeWeatherImpact","analyzeSleepCorrelation","analyzeMoodCorrelation","analyzeStressCorrelation","scoreA","calculatePatternScore","medicationInterventions","medication","medName","medDate","beforeEntries","afterEntries","current","m","MIN_SAMPLE_SIZE","avgPainBefore","calculateAverage","avgPainAfter","SIGNIFICANT_IMPACT_THRESHOLD","calculateConfidence","description","occurrences","lastSeen","actionable","recommendation","evidence","avgPainWith","avgPainWithout","sampleSize","triggerMap","Map","trigger","has","set","dates","get","avgPainWithTrigger","entriesWithoutTrigger","avgPainWithoutTrigger","timeSlots","morning","start","end","afternoon","evening","night","hour","getHours","avgPains","Object","slot","avg","count","maxAvg","p","minAvg","worstTime","activityMap","activities","activity","avgPainWithActivity","avgPainOverall","weatherMap","weather","avgPainInWeather","otherEntries","avgPainOther","entriesWithSleep","MEDIUM_CORRELATION_THRESHOLD","avgPainGoodSleep","avgPainPoorSleep","HIGH_CORRELATION_THRESHOLD","entriesWithMood","entriesWithStress","stress","avgPainHighStress","avgPainLowStress","generateInsightSummary","totalPatterns","highConfidencePatterns","actionableInsights","topTriggers","effectiveTreatments","riskFactors","safeDivide","fallback","Number","isFinite","result","numbers","pattern","ReportGenerationService","generateWorkSafeBCReport","notes","reportType","pdf","jsPDF","dateRange","analyzePainTrend","calculateAveragePain","functionalImpact","assessFunctionalImpact","workCapacity","determineWorkCapacity","addHeader","addPatientInfo","addClinicalSummary","addPainAnalysis","addFunctionalAssessment","addTreatmentPlan","addProviderSignature","summary","patientInfo","clinicalSummary","generateClinicalSummary","treatmentPlan","generateTreatmentPlan","restrictions","determineRestrictions","recommendedDuration","recommendDuration","nextReviewDate","calculateNextReviewDate","generateInsuranceReport","addDiagnosisSection","addTreatmentHistory","addPrognosisSection","generateProgressNote","recentEntries","noteText","formatProgressNote","setFontSize","lines","splitTextToSize","text","exportToCSV","format","row","setFont","setDrawColor","line","dateOfBirth","claimNumber","injuryDate","employerName","occupation","forEach","med","frequency","addPage","calculateDaySpan","internal","pageSize","capacityText","plan","diagnosisNotes","diagnosis","note","startDate","prognosis","firstHalf","secondHalf","sum","days","nextDate","setDate","getDate","trim","first","last","ceil","mockReportEntries","mockPainEntries","locations","symptoms","limitedActivities","assistanceNeeded","mobilityAids","effectiveness","changes","treatments","recent","planned","qualityOfLife","sleepQuality","moodImpact","socialImpact","workImpact","missedWork","modifiedDuties","workLimitations","comparison","worseningSince","newLimitations","mockInterventions","mockPatientInfo","address","phone","mockMedications","prescriber","mockClinicalNotes","content","EnhancedPatientView","useParams","setPatterns","isAnalyzing","setIsAnalyzing","showPatterns","setShowPatterns","isGeneratingReport","setIsGeneratingReport","detectedPatterns","analyzePatterns","actionablePatterns","ArrowLeft","csv","save","disabled","DEFAULT_TEMPLATES","sections","createdAt","lastModified","ReportingSystemCore","_entries","templates","scheduledReports","usePainTrackerStore","addScheduledReport","deleteScheduledReport","updateScheduledReport","runScheduledReport","showScheduleModal","setShowScheduleModal","scheduleName","setScheduleName","scheduleFrequency","setScheduleFrequency","scheduleRecipients","setScheduleRecipients","selectedTemplate","setSelectedTemplate","editingSchedule","setEditingSchedule","calculateNextRun","setMonth","getMonth","Button","variant","onChange","target","Card","CardContent","template","size","CardHeader","CardTitle","schedule","templateId","nextRun","Badge","isActive","Switch","checked","onCheckedChange","recipients","Trash2","Modal","isOpen","onClose","htmlFor","Input","placeholder","r","Boolean","lastRun","updates","handleCreateSchedule","Send","ClinicReports","ReportingSystem","ClinicSettings","settings","setSettings","clinicName","timezone","defaultAppointmentDuration","enableEmailNotifications","enableSMSReminders","hipaaAuditLevel","dataRetentionDays","theme","Settings","parseInt","step","Shield","Palette","Save","ClinicLogin","setEmail","setPassword","showPassword","setShowPassword","Stethoscope","onSubmit","preventDefault","err","Mail","required","autoComplete","Lock","tabIndex","getFullYear","ClinicSidebar","items","currentPath","collapsed","onToggleCollapse","specialty","item","startsWith","path","badge","ChevronRight","ChevronLeft","ClinicHeader","onSignOut","showUserMenu","setShowUserMenu","Search","HelpCircle","LogOut","RealTimeMonitoring","setAlerts","actionRequired","acknowledged","metrics","setMetrics","patientsAtRisk","activeAlerts","medicationAdherence","avgResponseTime","setFilter","showAcknowledged","setShowAcknowledged","interval","setInterval","random","newAlert","clearInterval","filteredAlerts","getAlertColor","formatTimeAgo","seconds","f","handleAcknowledge","alertId","handleDismiss","XCircle","ClinicPortal","ClinicPortalContent","sidebarCollapsed","setSidebarCollapsed","filteredNavItems","BarChart3","requiresAdmin","pathname","Routes","Route","index","element"],"mappings":"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"}