const e=5,t=1.5,n=.15,i=3,a=7,o=2.5,r=.7,s=.7,l=.001,d=[{location:"Lower Back",frequency:.95},{location:"Right Leg",frequency:.7},{location:"Left Leg",frequency:.4},{location:"Right Hip",frequency:.5},{location:"Neck",frequency:.3},{location:"Shoulders",frequency:.25}],c=["Aching","Stiffness","Tightness"],h=["Sharp pain","Burning","Throbbing","Muscle spasms"],g=["Radiating pain","Numbness","Tingling","Shooting pain","Weakness"],p=["Prolonged sitting","Standing too long","Weather change","Poor sleep","Stress","Physical activity","Lifting","Bending","Cold weather","Damp weather","Overexertion","Missed medication","Work stress","Long commute"],u={mild:["Running","Heavy lifting","Sports"],moderate:["Walking long distances","Household chores","Gardening","Shopping"],severe:["Sitting","Standing","Walking","Dressing","Bathing","Sleeping"]},m=["Rest","Ice pack","Heat therapy","Stretching","Pain medication","Muscle relaxant","TENS unit","Massage","Hot bath","Lying down","Walking slowly","Gentle yoga"],f=["Cancelled plans with friends","Skipped family event","Reduced social activities","Avoided going out","Unable to attend event","Limited time with family","Missed celebration","Avoided physical activities with others"];function y(e,t,n){const i=e(),a=e();return t+Math.sqrt(-2*Math.log(i))*Math.cos(2*Math.PI*a)*n}function M(e,t,n){return Math.max(t,Math.min(n,e))}function v(e,t){return e[Math.floor(t()*e.length)]}function w(e,t,n){return[...e].sort(()=>n()-.5).slice(0,t)}function D(e,t){return.3*Math.sin(e/365*2*Math.PI-Math.PI/2)+.4*(t()-.5)+(t()<.1?.5:0)}function b(e){const t=new Date(e.getFullYear(),0,0),n=e.getTime()-t.getTime();return Math.floor(n/864e5)}function P(e){const t=e.getDay();return 0===t||6===t}function k(e){return e.toISOString()}function S(S={}){const{startDate:C=new Date(Date.now()-31536e6),endDate:E=new Date,entriesPerDay:q=1.5,seed:I=42,includeDetailedNotes:R=!0}=S,L=function(e){let t=e;return()=>(t=1103515245*t+12345&2147483647,t/2147483647)}(I),T=[],A=[];let x=!1,G=0,H=6,W=0,N=0,$=1,j=1;const B=[{name:"Naproxen",dosage:"500mg",frequency:"Twice daily",startDay:0},{name:"Cyclobenzaprine",dosage:"10mg",frequency:"At bedtime",startDay:14},{name:"Gabapentin",dosage:"300mg",frequency:"Three times daily",startDay:60}],F=[{day:7,treatment:"Initial GP consultation",provider:"Family Doctor"},{day:21,treatment:"Physiotherapy started",provider:"City Physio Clinic"},{day:45,treatment:"MRI scan",provider:"Imaging Center"},{day:60,treatment:"Pain specialist consultation",provider:"Pain Management Clinic"},{day:90,treatment:"Epidural steroid injection",provider:"Pain Management Clinic"},{day:150,treatment:"Second epidural injection",provider:"Pain Management Clinic"},{day:200,treatment:"Acupuncture trial",provider:"Wellness Center"},{day:270,treatment:"Chronic pain program enrolled",provider:"Rehabilitation Hospital"}];let O=new Date(C),U=0;for(;O<=E;){const S=b(O),C=P(O),E=D(S,L);!x&&L()<n&&(x=!0,G=Math.floor(L()*(a-i+1))+i),x&&(G--,G<=0&&(x=!1));let I=y(L,e,t);x&&(I+=o*(1+.5*L())),I+=E*r*2,H<5&&(I+=.3*(5-H)),C&&(I-=.5*L()),W+=l;I-=1.5*Math.max(.3,s-W);I-=Math.min(.5,U/365*.5),I=M(Math.round(10*I)/10,1,10),I>=7?N++:N=Math.max(0,N-1);const z=I>=7?Math.ceil(q+L()):L()<q%1?Math.ceil(q):Math.floor(q);for(let t=0;t<z;t++){const n=0===t?8+Math.floor(2*L()):14+Math.floor(6*L()),i=new Date(O);i.setHours(n,Math.floor(60*L()),0,0);let o=I;n<10?o+=.5+.5*L():n>18&&(o+=.5*L()),o=M(Math.round(10*o)/10,1,10);const r=Math.min(d.length,Math.max(1,Math.floor(o/3)+1)),s=d.filter(e=>L()<e.frequency).slice(0,r).map(e=>e.location);let l;0===s.length&&s.push("Lower Back"),l=o<=4?w(c,2,L):o<=6?[...w(c,1,L),...w(h,2,L)]:[...w(h,2,L),...w(g,2,L)];const D=Math.floor(3*L())+1,b=w(p,D,L);let P;P=o<=4?w(u.mild,2,L):o<=6?[...u.mild,...w(u.moderate,2,L)]:[...u.mild,...u.moderate,...w(u.severe,Math.floor(o-5),L)];const S=[];o>=7&&(S.push("Getting out of bed"),o>=8&&S.push("Getting dressed","Household tasks"),o>=9&&S.push("Bathing","Meal preparation"));const q=[];o>=6&&q.push("Cane"),o>=8&&q.push("Back brace");const W=B.filter(e=>e.startDay<=U).map(e=>({name:e.name,dosage:e.dosage,frequency:e.frequency,effectiveness:o<=5?"Good relief":o<=7?"Moderate relief":"Minimal relief"})),z=M(Math.round(y(L,10-.7*I,1.5)),1,10);H=z;const J=M(Math.round(10-.8*o+2*(L()-.5)),1,10),Q=[];o>=6&&L()<.4&&Q.push(...w(f,Math.floor(o/3),L));const V=C?0:o>=8||o>=7&&L()<.5?1:0,Y=[];!C&&o>=5&&(Y.push("Cannot sit for long periods"),o>=6&&Y.push("Limited standing","Cannot lift"),o>=7&&Y.push("Frequent breaks needed","Reduced concentration"));const K=[];!C&&o>=5&&0===V&&(K.push("Desk-based tasks only"),o>=6&&K.push("Reduced hours"));const X=F.find(e=>U>=e.day&&U<e.day+14),Z=X?[{type:X.treatment,provider:X.provider,date:k(O),effectiveness:"Ongoing assessment"}]:U>21?[{type:"Physiotherapy",provider:"City Physio Clinic",date:k(O),effectiveness:o<=5?"Helping with mobility":"Maintaining function"}]:[];let _="";if(R){const e=n<12?"morning":n<18?"afternoon":"evening",t=o<=3?"manageable":o<=5?"moderate":o<=7?"difficult":"severe";if(_=`${e.charAt(0).toUpperCase()+e.slice(1)} check-in. Pain is ${t} today (${o}/10). `,x&&(_+=`Currently in a flare-up (day ${a-G+1}). `),E>.3&&(_+="Weather seems to be affecting pain levels. "),z<5&&(_+=`Poor sleep last night (${z}/10). `),b.length>0&&(_+=`Main triggers: ${b.slice(0,2).join(", ")}. `),o>=7&&(_+="Struggling with daily activities today. "),L()<.3){_+=`Using ${w(m,2,L).join(" and ")} for relief. `}}const ee={worseningSince:N>3?`Pain has been elevated for ${N} days`:U<30?"Initial injury still healing":o>e+1?"Above baseline today":"Consistent with baseline",newLimitations:o>=7&&N>2?w(["Increased difficulty walking","New numbness patterns","Worse morning stiffness"],Math.floor(2*L())+1,L):[]},te={id:$++,timestamp:k(i),baselineData:{pain:o,locations:s,symptoms:l},triggers:b,functionalImpact:{limitedActivities:P,assistanceNeeded:S,mobilityAids:q},medications:{current:W,changes:14===U?"Added muscle relaxant":60===U?"Started gabapentin for nerve pain":"",effectiveness:o<=5?"Good relief":o<=7?"Moderate relief":"Minimal relief"},treatments:{recent:Z,effectiveness:U<21?"Too early to assess":o<=5?"Seeing improvement":"Maintaining function",planned:U<45?["MRI scheduled"]:U<90?["Epidural injection scheduled"]:["Ongoing physiotherapy"]},qualityOfLife:{sleepQuality:z,moodImpact:J,socialImpact:Q},workImpact:{missedWork:V,modifiedDuties:K,workLimitations:Y},comparison:ee,notes:_.trim()};if(T.push(te),0===t||L()<.3){const e=M(Math.round(10-.6*o-(x?1:0)+2*(L()-.5)),1,10),t=[];e<=3?t.push("Feeling overwhelmed by pain"):e<=5?t.push("Managing but struggling"):e<=7?t.push("Coping okay today"):t.push("Good day despite pain"),z<5&&t.push("Tired from poor sleep"),x&&t.push("Flare-up affecting mood"),C&&e>=5&&t.push("Nice to rest on weekend");const n=M(Math.round(10-.7*o+2*(L()-.5)),1,10),a=M(Math.round(.6*o+(x?2:0)+2*(L()-.5)),1,10),r=M(Math.round(.5*o+(C?0:1)+2*(L()-.5)),1,10),s=M(Math.round(5+U/365*2-(x?2:0)+3*(L()-.5)),1,10),l=M(Math.round(4+U/365*3+2*(L()-.5)),1,10),d=M(Math.round(5+3*(L()-.5)),1,10),c=M(Math.round(4+U/365*2+2*(L()-.5)),1,10),h=o>=7?"During flare-up":v(["At home resting","After work","Morning routine","Evening wind-down","During flare-up","Recovering from activity","Post-physiotherapy"].slice(0,4),L),g=w(["Deep breathing","Meditation","Distraction with TV/reading","Gentle stretching","Talking to family","Pacing activities","Heat/ice therapy","Short walks","Mindfulness","Journaling"],Math.floor(3*L())+1,L),p=e>=7?"strong":e>=5?"moderate":e>=3?"minimal":"none";A.push({id:j++,timestamp:k(i),mood:e,energy:n,anxiety:a,stress:r,hopefulness:s,selfEfficacy:l,emotionalClarity:d,emotionalRegulation:c,context:h,triggers:b.slice(0,2),copingStrategies:g,socialSupport:p,notes:t.join(". ")+"."})}}O=new Date(O.getTime()+864e5),U++}return{painEntries:T,moodEntries:A}}const C=S({seed:20241204,entriesPerDay:1.3,includeDetailedNotes:!0}),E=C.painEntries,q=C.moodEntries,I={totalPainEntries:C.painEntries.length,totalMoodEntries:C.moodEntries.length,dateRange:{start:C.painEntries[0]?.timestamp,end:C.painEntries[C.painEntries.length-1]?.timestamp},averagePain:C.painEntries.reduce((e,t)=>e+t.baselineData.pain,0)/C.painEntries.length,highPainDays:C.painEntries.filter(e=>e.baselineData.pain>=7).length,flareDays:C.painEntries.filter(e=>e.baselineData.pain>=8).length};export{q as chronicPain12MonthMoodEntries,E as chronicPain12MonthPainEntries,I as chronicPainDataStats,S as generateChronicPain12MonthData};
