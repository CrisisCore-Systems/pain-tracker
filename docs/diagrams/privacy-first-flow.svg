<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 950" width="800" height="950">
  <defs>
    <!-- Gradients -->
    <linearGradient id="deviceGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#4F46E5;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#6366F1;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="encryptionGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#10B981;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#059669;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="exportGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#8B5CF6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#7C3AED;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="dangerGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#EF4444;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#DC2626;stop-opacity:1" />
    </linearGradient>

    <!-- Drop shadows -->
    <filter id="shadow" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur in="SourceAlpha" stdDeviation="4"/>
      <feOffset dx="2" dy="3" result="offsetblur"/>
      <feComponentTransfer>
        <feFuncA type="linear" slope="0.25"/>
      </feComponentTransfer>
      <feMerge>
        <feMergeNode/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>

    <filter id="textShadow" x="-100%" y="-100%" width="300%" height="300%">
      <feDropShadow dx="0" dy="2" stdDeviation="2" flood-color="#000" flood-opacity="0.25"/>
    </filter>

    <!-- Arrow markers -->
    <marker id="arrowGreen" markerWidth="12" markerHeight="12" refX="10" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#10B981" />
    </marker>
    <marker id="arrowPurple" markerWidth="12" markerHeight="12" refX="10" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#8B5CF6" />
    </marker>
  </defs>

  <!-- Background -->
  <rect width="800" height="950" fill="#F9FAFB"/>

  <!-- Title -->
  <text x="400" y="50" text-anchor="middle" font-family="Arial, sans-serif" font-size="32" font-weight="bold" fill="#1F2937">
    Pain Tracker Data Flow
  </text>
  <text x="400" y="80" text-anchor="middle" font-family="Arial, sans-serif" font-size="18" fill="#6B7280">
    Privacy-first, local-first by design
  </text>

  <!-- Step 1: User Device -->
  <g transform="translate(250, 120)">
    <rect x="0" y="0" width="300" height="160" rx="15" fill="url(#deviceGradient)" filter="url(#shadow)"/>
    <!-- Large Lock Icon -->
    <g transform="translate(115, 25)">
      <rect x="0" y="20" width="70" height="60" rx="8" fill="#FFF" opacity="0.95" stroke="#222" stroke-width="1"/>
      <path d="M 15,20 L 15,15 Q 15,0 35,0 Q 55,0 55,15 L 55,20"
            stroke="#222" stroke-width="6" fill="none" opacity="0.98"/>
      <circle cx="35" cy="50" r="8" fill="#4F46E5" stroke="#222" stroke-width="1"/>
      <rect x="32" y="50" width="6" height="15" fill="#4F46E5" stroke="#222" stroke-width="1"/>
    </g>
    <!-- Text -->
    <rect x="40" y="100" width="220" height="30" rx="8" fill="#312E81" opacity="0.4"/>
    <text x="150" y="120" text-anchor="middle" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#FFF" filter="url(#textShadow)">
      üñ•Ô∏è Your Device
    </text>
    <rect x="50" y="128" width="200" height="24" rx="6" fill="#312E81" opacity="0.27"/>
    <text x="150" y="145" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="#F9FAFB" filter="url(#textShadow)">
      100% local storage ‚Ä¢ No cloud upload
    </text>
  </g>

  <!-- Arrow with label -->
  <g>
    <path d="M 400,290 L 400,350" stroke="#10B981" stroke-width="4" fill="none" marker-end="url(#arrowGreen)"/>
    <rect x="410" y="314" width="160" height="22" rx="6" fill="#D1FAE5" opacity="0.8"/>
    <text x="420" y="330" font-family="Arial, sans-serif" font-size="14" font-weight="600" fill="#065F46">
      Automatic local save
    </text>
  </g>

  <!-- Step 2: Encryption Layer -->
  <g transform="translate(250, 360)">
    <rect x="0" y="0" width="300" height="140" rx="15" fill="url(#encryptionGradient)" filter="url(#shadow)"/>
    <rect x="40" y="20" width="220" height="28" rx="7" fill="#047857" opacity="0.36"/>
    <text x="150" y="42" text-anchor="middle" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="#FFF" filter="url(#textShadow)">
      üîê Encryption Layer
    </text>
    <rect x="38" y="59" width="224" height="24" rx="6" fill="#047857" opacity="0.19"/>
    <text x="150" y="77" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="#F0FFF4" filter="url(#textShadow)">
      AES-GCM encryption in IndexedDB
    </text>
    <rect x="38" y="82" width="224" height="24" rx="6" fill="#047857" opacity="0.15"/>
    <text x="150" y="100" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="#F0FFF4" filter="url(#textShadow)">
      Zero-knowledge architecture
    </text>
    <rect x="38" y="105" width="224" height="24" rx="6" fill="#047857" opacity="0.11"/>
    <text x="150" y="123" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="#F0FFF4" filter="url(#textShadow)">
      All processing stays on your device
    </text>
  </g>

  <!-- Arrow with label -->
  <g>
    <path d="M 400,510 L 400,570" stroke="#8B5CF6" stroke-width="4" fill="none" marker-end="url(#arrowPurple)"/>
    <rect x="410" y="534" width="185" height="22" rx="6" fill="#EDE9FE" opacity="0.76"/>
    <text x="420" y="550" font-family="Arial, sans-serif" font-size="14" font-weight="600" fill="#5B21B6">
      You choose when to export
    </text>
  </g>

  <!-- Step 3: User-Controlled Export -->
  <g transform="translate(250, 580)">
    <rect x="0" y="0" width="300" height="160" rx="15" fill="url(#exportGradient)" filter="url(#shadow)"/>
    <rect x="40" y="20" width="220" height="28" rx="7" fill="#4C1D95" opacity="0.32"/>
    <text x="150" y="42" text-anchor="middle" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="#FFF" filter="url(#textShadow)">
      üì§ Your Control, Your Data
    </text>
    <rect x="50" y="59" width="200" height="24" rx="6" fill="#4C1D95" opacity="0.18"/>
    <text x="150" y="77" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="#F9FAFB" filter="url(#textShadow)">
      ‚úì WorkSafeBC-ready clinical reports
    </text>
    <rect x="50" y="82" width="200" height="24" rx="6" fill="#4C1D95" opacity="0.14"/>
    <text x="150" y="100" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="#F9FAFB" filter="url(#textShadow)">
      ‚úì PDF / CSV exports for your care team
    </text>
    <rect x="50" y="105" width="200" height="24" rx="6" fill="#4C1D95" opacity="0.09"/>
    <text x="150" y="123" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="#F9FAFB" filter="url(#textShadow)">
      ‚úì Manual download only
    </text>
    <rect x="50" y="128" width="200" height="24" rx="6" fill="#4C1D95" opacity="0.05"/>
    <text x="150" y="146" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="#F9FAFB" filter="url(#textShadow)">
      ‚úì You choose when and where it goes
    </text>
  </g>

  <!-- Step 4: What We DON'T Do -->
  <g transform="translate(100, 780)">
    <!-- Red X Circle -->
    <circle cx="300" cy="50" r="60" fill="#FEE2E2" stroke="url(#dangerGradient)" stroke-width="4" filter="url(#shadow)"/>
    <line x1="270" y1="20" x2="330" y2="80" stroke="#DC2626" stroke-width="8" stroke-linecap="round"/>
    <line x1="330" y1="20" x2="270" y2="80" stroke="#DC2626" stroke-width="8" stroke-linecap="round"/>

    <!-- Text block -->
    <g transform="translate(380, 0)">
      <rect x="-20" y="2" width="200" height="128" rx="14" fill="#FFF" opacity="0.7"/>
      <text x="0" y="25" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#DC2626" filter="url(#textShadow)">
        We NEVER:
      </text>
      <text x="0" y="53" font-family="Arial, sans-serif" font-size="14" fill="#991B1B">
        ‚úó Upload to our servers
      </text>
      <text x="0" y="73" font-family="Arial, sans-serif" font-size="14" fill="#991B1B">
        ‚úó Share with third parties
      </text>
      <text x="0" y="93" font-family="Arial, sans-serif" font-size="14" fill="#991B1B">
        ‚úó Mine or sell your data
      </text>
      <text x="0" y="113" font-family="Arial, sans-serif" font-size="14" fill="#991B1B">
        ‚úó Track your behavior
      </text>
    </g>
  </g>

  <!-- Bottom tagline (moved down so it doesn't overlap the X) -->
  <g transform="translate(0, 930)">
    <text x="400" y="0" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-style="italic" font-weight="600" fill="#4F46E5" filter="url(#textShadow)">
      Your health data belongs to you. We never see it, store it, or sell it.
    </text>
  </g>
</svg>
