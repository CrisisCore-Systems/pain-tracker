# 🩺 Pain Tracker | CrisisCore Systems

A security-hardened, offline-first health platform for high-resolution chronic pain and injury management.  
Built with empathy, rigor, and transparency.

---

## 🚨 Why Pain Tracker Exists
Pain is more than a number. Most apps oversimplify — this one doesn’t.  
Pain Tracker maps pain in high resolution for real-world recovery, backed by WorkSafe BC reporting and security-focused engineering.

**Status:** Early development (`v0.1.0-dev`).  
- Core features: functional, tested, and secure  
- Current focus: remediating development dependency vulnerabilities  
- See [Security Status](#-security-status) for details  

---

## 🌟 Key Features

| Domain               | What Sets It Apart |
|----------------------|---------------------|
| 📝 Pain Assessment   | 7-step multidimensional tracking, 25+ body locations, 19+ symptom types |
| 📊 Analytics & Heatmaps | Symptom trends, recovery progression, treatment correlations |
| 🏥 Healthcare Integration | Automated WorkSafe BC claims, clinician-ready CSV/JSON exports |
| 💊 Treatment Tracking | Medication logs, therapy tracking, outcome analysis |
| 🧩 Quality of Life Metrics | Mood, sleep, activity impacts |
| 🚨 Emergency Panel   | Automated protocols & alert system |
| 🔒 Security by Design | Local-only data, CSP, Zod validation, secret scanning, SAST pipelines |

---

## 🧱 Tech Stack & Architecture
For a full breakdown, see **[ARCHITECTURE_DEEP_DIVE.md](ARCHITECTURE_DEEP_DIVE.md)**.  

**Key pillars:**  
- Offline-first resilience  
- Event-driven sync  
- Typed IndexedDB wrapper  
- Prioritized queue processing  
- Forward-compatible shims (e.g., `forcSync → forceSync`)  

**Layers:**
- **Frontend:** React 18, TypeScript, Vite, Tailwind CSS, Headless UI  
- **Validation:** Zod schemas  
- **Analytics:** Recharts, Chart.js, custom visualizations  
- **Testing:** Vitest, Testing Library, jsdom  
- **DevOps:** GitHub Actions, Husky, CommitLint, Makefile workflows  

---

## 🛡️ Security Status
Security is a core principle, not an afterthought.

- ✅ CI/CD security pipeline (CodeQL, SAST, secret scanning)  
- ✅ Pre-commit gates & audit checks  
- ⚠️ Dev dependency vulnerabilities (in tooling, not runtime) — remediation in progress  
- ✅ Runtime dependencies are clean  
- ✅ Local data only — no cloud storage or transmission  

**Mitigation:** Dependency updates are ongoing. Dev-tool issues do not affect production builds.

---

## 🛠️ Dynamic Badges & Metrics
All badges (tests, coverage, security, LOC, issues, PRs, commit activity) are generated by scripts under `/scripts` and exposed via `/badges` for Shields.io.

**Scripts:**  
- `scripts/generate-test-badge.mjs`  
- `scripts/generate-coverage-badge.mjs`  
- `scripts/generate-security-badge.mjs`  
- `scripts/generate-loc-badge.mjs`  
- `scripts/generate-bundle-badge.mjs`  

**Local refresh:**
```bash
npm run badge:all
# or individually
npm run badge:tests
npm run badge:loc
node scripts/generate-security-badge.mjs
